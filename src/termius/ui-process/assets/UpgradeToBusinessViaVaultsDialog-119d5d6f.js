import{aH as R,bg as A,bl as i,bq as b,bs as T,bn as e,dB as d,dC as c,bV as U,aV as x,r as w,bi as m,cv as O,yQ as _,ga as V,cy as E,bh as I,kw as q,qa as v,ee as D,aD as f,wz as k,c0 as l,yR as B,wa as M,x0 as C,br as u,d3 as L}from"./reconnectSaga-e33541d6.js";import{D as P,a as F}from"./DialogPanel-51ce90d1.js";const N=R("REQUEST_UPGRADE_TO_MULTIPLE_VAULTS"),Q=""+new URL("UpgradeRequestSent@2x-bbac5eee.webp",import.meta.url).href,W=""+new URL("UpgradeRequestSentDark@2x-16d38e57.webp",import.meta.url).href,G=""+new URL("Vaults@2x-9533c041.webp",import.meta.url).href,j=""+new URL("VaultsDark@2x-8b67c6eb.webp",import.meta.url).href;function Y(a){const{classes:t,cx:s}=S();return i(b,{alignItems:"center",direction:"row",gap:"20px",children:[i(b,{direction:"column",width:"340px",gap:"10px",children:[i(T,{variant:"h1",className:t.mainText,children:[e("span",{children:"Manage team access with"})," Multiple Vaults"," "]}),e(T,{variant:"body1",color:"secondary",className:t.secondaryText,children:i(d,{children:[e(c,{when:a.variant==="owner",children:"Upgrade to Business plan to set up granular access to the information about your infrastructure."}),e(c,{when:a.variant==="viewer",children:"Request your team to upgrade to Business plan to set up granular access to the information about your infrastructure."})]})})]}),e("img",{src:G,alt:"",className:s(t.promoImg,t.lightOnly)}),e("img",{src:j,alt:"",className:s(t.promoImg,t.darkOnly)})]})}function z(){const{classes:a,cx:t}=S();return i(U,{height:"325px",width:"650px",children:[e(T,{variant:"h2",align:"center",bolder:!0,children:"The request has been sent to the team owner!"}),e("img",{src:Q,alt:"",className:t(a.requestSentImage,a.lightOnly)}),e("img",{src:W,alt:"",className:t(a.requestSentImage,a.darkOnly)})]})}const S=A()({mainText:{WebkitTextFillColor:"transparent",backgroundImage:"var(--gradient-universal-main)",WebkitBackgroundClip:"text",backgroundClip:"text","& span":{WebkitTextFillColor:"var(--main)"}},secondaryText:{maxWidth:280},promoImg:{width:"100%",maxWidth:290,height:"auto",objectFit:"contain"},requestSentImage:{maxWidth:296,maxHeight:196,display:"block",margin:"46px auto 0 auto"},lightOnly:{display:"block",".termius-dark-theme &":{display:"none"}},darkOnly:{display:"none",".termius-dark-theme &":{display:"block"}}}),H=x({id:"upgrade-to-business-via-multiple-vaults",initial:"idle",states:{idle:{entry:{type:"onVisible"},on:{DISMISS:{target:"completed",actions:{type:"onDismiss"}},UPGRADE:[{target:"requestingTeamOwner",cond:"shouldNotifyTeamOwner",actions:["onRequestTeamOwner"]},{target:"completed",cond:"shouldUpgrade",actions:["redirectToUpgrade","onComplete"]},{target:"completed",actions:["redirectToPurchase","onComplete"]}],REQUEST_QUOTE:{target:"completed",actions:["redirectToQuote","onComplete"]},CONTACT_SALES:{target:"completed",actions:["redirectToSales","onComplete"]}}},requestingTeamOwner:{invoke:{src:"requestTeamOwnerForUpgrade",id:"requestTeamOwnerActor",onDone:[{target:"teamOwnerRequested"}]}},teamOwnerRequested:{after:{AUTO_CLOSE_DELAY:{target:"completed",actions:["onComplete"]}},on:{DISMISS:{target:"completed",actions:["onComplete"]}}},completed:{type:"final"}},schema:{events:{},context:{},services:{}},predictableActionArguments:!0,preserveActionOrder:!0,tsTypes:{}}),$=w.forwardRef(({closeDialog:a},t)=>{const s=m(O),[n,o,{upgradeType:r}]=J({onDismiss:a});return w.useEffect(()=>{s&&a()},[s,a]),r==null?null:e(K,{ref:t,state:n,send:o,variant:r})});function J(a){var y;const t=m(_),s=t==null?void 0:t.upgrade_to_business_dialog_type,n=m(V),o=E(),r=I(),p=(y=m(q))==null?void 0:y.role,[h,g]=v(H,{services:{requestTeamOwnerForUpgrade:()=>D(o,N).catch(f)},actions:{redirectToPurchase:()=>{k({plan:"business",period:"YEAR",username:n}),r(l("upgradeButtonPressed",{upgradeButtonLocation:"Multiple Vaults Promo",highlighted:"yes",businessFunnelID:void 0}))},redirectToUpgrade:()=>{B(),r(l("upgradeButtonPressed",{upgradeButtonLocation:"Multiple Vaults Promo",highlighted:"yes",businessFunnelID:void 0}))},redirectToQuote:()=>{M("business")},redirectToSales:()=>{C(),r(l("contactUsButtonPressed"))},onDismiss:()=>{a.onDismiss()},onComplete:()=>{a.onDismiss()},onVisible:()=>{r(l("hitMultipleVaultsPromotionPage",{eventTeamRole:p}))},onRequestTeamOwner:()=>{r(l("upgradeButtonPressed",{upgradeButtonLocation:"Multiple Vaults Promo",highlighted:"yes",businessFunnelID:void 0}))}},guards:{shouldNotifyTeamOwner:()=>s==="VIA_VAULTS_FOR_MEMBER",shouldUpgrade:()=>s==="VIA_VAULTS_FOR_PAID_TEAM_OWNER"},delays:{AUTO_CLOSE_DELAY:3e3}});return[h,g,{upgradeType:s}]}const K=w.forwardRef((a,t)=>{const{variant:s,state:n,send:o}=a;if(n.matches("completed"))return null;const r=s==="VIA_VAULTS_FOR_MEMBER"?"viewer":"owner",p=i(d,{children:[e(c,{when:n.matches("idle"),children:e(u,{color:"accent",type:"button",onClick:()=>o("UPGRADE"),children:s==="VIA_VAULTS_FOR_MEMBER"?"Request Upgrade":"Upgrade"})}),e(c,{when:n.matches("requestingTeamOwner")||n.matches("teamOwnerRequested"),children:e(u,{color:"accent",type:"button",onClick:()=>o("DISMISS"),children:"Done"})})]}),h=i(d,{children:[e(c,{when:s==="VIA_VAULTS_FOR_TRIAL_TEAM_OWNER",children:e(u,{color:"accent",variant:"text",type:"button",onClick:()=>o("REQUEST_QUOTE"),children:"Need a quote?"})}),e(c,{when:s==="VIA_VAULTS_FOR_PAID_TEAM_OWNER",children:e(u,{color:"accent",variant:"text",type:"button",onClick:()=>o("CONTACT_SALES"),children:"Contact sales"})})]}),g=n.matches("idle")?e(u,{type:"button",variant:"text",onClick:()=>{o("DISMISS")},children:"Cancel"}):null;return e(P,{size:{width:"720px",height:"460px"},ref:t,content:i(d,{children:[e(c,{when:n.matches("idle"),children:e(Y,{variant:r})}),e(c,{when:n.matches("requestingTeamOwner")||n.matches("teamOwnerRequested"),children:e(z,{})})]}),actions:e(F,{start:g,end:i(L,{children:[h,p]})})})});export{$ as default};
//# sourceMappingURL=UpgradeToBusinessViaVaultsDialog-119d5d6f.js.map
