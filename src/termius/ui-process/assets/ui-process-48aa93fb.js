var zj=Object.defineProperty;var Vj=(t,e,n)=>e in t?zj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var E=(t,e,n)=>(Vj(t,typeof e!="symbol"?e+"":e,n),n);import{b as Wj,a as du,u as qE,r as f,c as jj,d as Mo,e as Ib,_ as Uj,S as ht,p as $j,f as oa,g as qj,o as Ai,i as Gj,h as Kj,j as Ta,k as qo,l as Ph,m as Mt,n as Zj,q as GE,s as Qj,t as C2,O as KE,v as ca,w as y2,x as Yj,y as Qp,z as S2,A as Xj,B as Jj,C as b2,D as c8,E as w2,F as eU,G as tU,H as nU,I as d8,J as oU,K as rU,L as Pl,M as ZE,N as iU,P as u8,Q as sU,R as aU,T as lU,U as QE,V as _2,W as cU,X as Co,Y as a5,Z as YE,$ as Br,a0 as oc,a1 as Lp,a2 as l5,a3 as dU,a4 as x2,a5 as uU,a6 as Ti,a7 as Ce,a8 as A2,a9 as _n,aa as Cs,ab as Tt,ac as wt,ad as da,ae as uu,af as XE,ag as pU,ah as Yp,ai as p8,aj as hU,ak as T2,al as I2,am as h8,an as JE,ao as en,ap as pt,aq as jf,ar as f8,as as zr,at as ds,au as Uf,av as fU,aw as Vr,ax as un,ay as mU,az as Er,aA as gU,aB as vU,aC as m8,aD as He,aE as CU,aF as yU,aG as g8,aH as ek,aI as Ws,aJ as SU,aK as ne,aL as Em,aM as tk,aN as bU,aO as us,aP as wU,aQ as gt,aR as Eb,aS as v8,aT as rc,aU as Ci,aV as E2,aW as jn,aX as K6,aY as _U,aZ as Vo,a_ as xU,a$ as AU,b0 as pu,b1 as pn,b2 as C8,b3 as on,b4 as TU,b5 as nk,b6 as hr,b7 as IU,b8 as _t,b9 as EU,ba as kU,bb as ok,bc as RU,bd as y8,be as P,bf as Z6,bg as K,bh as de,bi as V,bj as Lh,bk as k2,bl as L,bm as hn,bn as u,bo as wo,bp as Xp,bq as re,br as Ue,bs as Z,bt as rk,bu as hu,bv as R2,bw as S8,bx as PU,by as ic,bz as yi,bA as LU,bB as Uo,bC as On,bD as so,bE as Jt,bF as qi,bG as km,bH as ik,bI as MU,bJ as sk,bK as md,bL as OU,bM as DU,bN as ys,bO as FU,bP as sc,bQ as Se,bR as ps,bS as Ia,bT as Mh,bU as Ea,bV as Ee,bW as ce,bX as NU,bY as ka,bZ as ac,b_ as Oh,b$ as HU,c0 as he,c1 as Dh,c2 as Rd,c3 as Po,c4 as Ie,c5 as ak,c6 as lk,c7 as ao,c8 as Fh,c9 as b8,ca as w8,cb as Ii,cc as ck,cd as P2,ce as Ze,cf as bt,cg as Je,ch as _o,ci as dk,cj as BU,ck as zU,cl as VU,cm as WU,cn as jU,co as Ks,cp as _8,cq as Jp,cr as eh,cs as xo,ct as Ss,cu as uk,cv as L2,cw as Qn,cx as x8,cy as tt,cz as lo,cA as os,cB as fu,cC as mu,cD as UU,cE as pk,cF as $U,cG as qU,cH as dn,cI as Ra,cJ as GU,cK as KU,cL as gu,cM as ZU,cN as QU,cO as YU,cP as XU,cQ as JU,cR as e$,cS as t$,cT as n$,cU as o$,cV as A8,cW as hk,cX as fk,cY as M2,cZ as T8,c_ as I8,c$ as mk,d0 as Nh,d1 as E8,d2 as fn,d3 as Et,d4 as O2,d5 as mn,d6 as k8,d7 as gk,d8 as vl,d9 as vr,da as Cr,db as yr,dc as Kt,dd as Wr,de as Pa,df as vu,dg as Cu,dh as yu,di as La,dj as lc,dk as Hh,dl as Oo,dm as D2,dn as F2,dp as r$,dq as th,dr as R8,ds as Lr,dt as vk,du as kb,dv as i$,dw as Ck,dx as Su,dy as s$,dz as Bh,dA as a$,dB as qt,dC as xe,dD as l$,dE as c$,dF as yk,dG as P8,dH as Yn,dI as L8,dJ as d$,dK as u$,dL as N2,dM as p$,dN as Mp,dO as H2,dP as Sk,dQ as Cl,dR as zh,dS as Lt,dT as h$,dU as co,dV as Ei,dW as B2,dX as dt,dY as kr,dZ as hi,d_ as Nt,d$ as Ll,e0 as Ln,e1 as $n,e2 as bk,e3 as Nn,e4 as ki,e5 as Tn,e6 as Ri,e7 as Pi,e8 as Fo,e9 as Si,ea as f$,eb as Sr,ec as Q6,ed as Y6,ee as We,ef as z2,eg as m$,eh as zt,ei as g$,ej as v$,ek as C$,el as y$,em as wk,en as V2,eo as S$,ep as bs,eq as W2,er as b$,es as w$,et as Gi,eu as Rm,ev as Pm,ew as Vh,ex as jr,ey as br,ez as Pt,eA as ge,eB as ws,eC as _$,eD as cc,eE as Yt,eF as hs,eG as ua,eH as Ur,eI as x$,eJ as ft,eK as Wh,eL as Pd,eM as _k,eN as $o,eO as xk,eP as j2,eQ as Lm,eR as Ak,eS as Ld,eT as Tk,eU as A$,eV as T$,eW as I$,eX as Mr,eY as Yi,eZ as bu,e_ as U2,e$ as Ma,f0 as Or,f1 as $t,f2 as Ik,f3 as M8,f4 as Ek,f5 as jh,f6 as E$,f7 as Ml,f8 as nh,f9 as k$,fa as $2,fb as kk,fc as O8,fd as Rk,fe as Pk,ff as R$,fg as dc,fh as bi,fi as Lk,fj as Mk,fk as P$,fl as L$,fm as Ok,fn as To,fo as M$,fp as Dk,fq as O$,fr as Fk,fs as Nk,ft as Hk,fu as xt,fv as X6,fw as D$,fx as F$,fy as D8,fz as ep,fA as Ao,fB as N$,fC as Bk,fD as zk,fE as H$,fF as Uh,fG as B$,fH as ri,fI as z$,fJ as wu,fK as c5,fL as So,fM as sn,fN as d5,fO as Rb,fP as ai,fQ as Pb,fR as V$,fS as W$,fT as po,fU as $h,fV as qh,fW as j$,fX as Vk,fY as Wk,fZ as U$,f_ as $$,f$ as jk,g0 as uc,g1 as q2,g2 as ko,g3 as q$,g4 as Go,g5 as G2,g6 as Uk,g7 as K2,g8 as $k,g9 as F8,ga as pc,gb as Lb,gc as Yo,gd as u5,ge as G$,gf as _s,gg as qk,gh as Z2,gi as Q2,gj as Gk,gk as Kk,gl as Zk,gm as oh,gn as K$,go as pa,gp as Z$,gq as Li,gr as Q$,gs as Md,gt as Y$,gu as X$,gv as J$,gw as p5,gx as eq,gy as tq,gz as N8,gA as H8,gB as nq,gC as Mb,gD as B8,gE as Oa,gF as Gh,gG as Y2,gH as Qk,gI as tn,gJ as z8,gK as Xn,gL as to,gM as Mi,gN as V8,gO as Kh,gP as Da,gQ as W8,gR as oq,gS as hc,gT as Ob,gU as rq,gV as iq,gW as sq,gX as aq,gY as lq,gZ as cq,g_ as Yk,g$ as dq,h0 as uq,h1 as Xk,h2 as Jk,h3 as j8,h4 as U8,h5 as no,h6 as pq,h7 as js,h8 as eR,h9 as Q,ha as yn,hb as $8,hc as q8,hd as Od,he as hq,hf as fq,hg as tR,hh as Tr,hi as $f,hj as mq,hk as gq,hl as Db,hm as Fb,hn as vq,ho as qf,hp as Re,hq as Cq,hr as X2,hs as yq,ht as J2,hu as qn,hv as h5,hw as Mn,hx as Zh,hy as Fa,hz as lt,hA as nR,hB as Sq,hC as oR,hD as ha,hE as bq,hF as rR,hG as Mm,hH as wq,hI as _q,hJ as _u,hK as xq,hL as Aq,hM as Tq,hN as gd,hO as iR,hP as G8,hQ as Iq,hR as Eq,hS as rs,hT as li,hU as sR,hV as Gf,hW as od,hX as aR,hY as K8,hZ as Z8,h_ as Dr,h$ as eg,i0 as fc,i1 as kq,i2 as Q8,i3 as Rq,i4 as lR,i5 as cR,i6 as Y8,i7 as tg,i8 as Qh,i9 as Pq,ia as Lq,ib as Mq,ic as dR,id as X8,ie as Oq,ig as xs,ih as Dq,ii as J8,ij as uR,ik as ct,il as Na,im as Yh,io as Fq,ip as Nq,iq as Hq,ir as Bq,is as zq,it as Vq,iu as Wq,iv as jq,iw as Uq,ix as $q,iy as Xh,iz as ng,iA as fe,iB as rf,iC as qq,iD as Gq,iE as f5,iF as eC,iG as xu,iH as Kq,iI as Zq,iJ as m5,iK as Qq,iL as Yq,iM as Xq,iN as pR,iO as Jq,iP as eG,iQ as tG,iR as tp,iS as Au,iT as Jh,iU as nG,iV as tC,iW as fi,iX as Om,iY as Dd,iZ as J6,i_ as Fd,i$ as yl,j0 as oG,j1 as rG,j2 as fa,j3 as iG,j4 as hR,j5 as Nb,j6 as sf,j7 as sG,j8 as fR,j9 as nC,ja as aG,jb as mR,jc as Xi,jd as oC,je as rC,jf as gR,jg as lG,jh as Xo,ji as Ht,jj as As,jk as Ha,jl as vR,jm as Sl,jn as mc,jo as ev,jp as cG,jq as CR,jr as dG,js as yR,jt as uG,ju as iC,jv as pG,jw as hG,jx as fG,jy as mG,jz as gG,jA as vG,jB as SR,jC as CG,jD as yG,jE as SG,jF as bG,jG as wG,jH as _G,jI as xG,jJ as AG,jK as TG,jL as IG,jM as EG,jN as bR,jO as wR,jP as _R,jQ as sC,jR as xR,jS as AR,jT as og,jU as TR,jV as kG,jW as RG,jX as IR,jY as PG,jZ as LG,j_ as MG,j$ as rg,k0 as OG,k1 as Nd,k2 as ER,k3 as DG,k4 as aC,k5 as g5,k6 as Dm,k7 as FG,k8 as kR,k9 as NG,ka as HG,kb as BG,kc as zG,kd as VG,ke as WG,kf as Kf,kg as jG,kh as RR,ki as ig,kj as UG,kk as $G,kl as PR,km as qG,kn as GG,ko as lC,kp as sg,kq as LR,kr as KG,ks as MR,kt as ZG,ku as Hb,kv as OR,kw as QG,kx as cC,ky as DR,kz as YG,kA as XG,kB as Bb,kC as tv,kD as nv,kE as Dn,kF as zb,kG as Vb,kH as FR,kI as NR,kJ as JG,kK as HR,kL as yt,kM as BR,kN as Ol,kO as zR,kP as VR,kQ as WR,kR as jR,kS as dC,kT as Bi,kU as uC,kV as eK,kW as UR,kX as tK,kY as v5,kZ as nK,k_ as oK,k$ as rK,l0 as iK,l1 as sK,l2 as aK,l3 as lK,l4 as ag,l5 as lg,l6 as pC,l7 as cK,l8 as $R,l9 as dK,la as uK,lb as pK,lc as hK,ld as fK,le as mK,lf as ra,lg as qR,lh as gK,li as hC,lj as Wb,lk as vK,ll as fC,lm as GR,ln as CK,lo as yK,lp as SK,lq as bK,lr as wK,ls as jb,lt as Ub,lu as KR,lv as ZR,lw as QR,lx as _K,ly as xK,lz as YR,lA as AK,lB as TK,lC as IK,lD as EK,lE as Oi,lF as XR,lG as mC,lH as JR,lI as kK,lJ as RK,lK as PK,lL as gC,lM as LK,lN as MK,lO as OK,lP as oe,lQ as DK,lR as cg,lS as FK,lT as NK,lU as eP,lV as vC,lW as tP,lX as Eo,lY as nP,lZ as dg,l_ as ug,l$ as rh,m0 as Wt,m1 as oP,m2 as rP,m3 as iP,m4 as sP,m5 as HK,m6 as BK,m7 as zK,m8 as VK,m9 as WK,ma as CC,mb as yC,mc as jK,md as UK,me as $K,mf as qK,mg as $b,mh as GK,mi as KK,mj as ZK,mk as pg,ml as QK,mm as YK,mn as SC,mo as XK,mp as JK,mq as eZ,mr as tZ,ms as nZ,mt as oZ,mu as rZ,mv as C5,mw as ov,mx as rv,my as Hd,mz as ma,mA as bC,mB as wC,mC as aP,mD as e1,mE as iZ,mF as gc,mG as lP,mH as vc,mI as Jo,mJ as Cc,mK as mt,mL as Vt,mM as Ba,mN as t1,mO as hg,mP as Ts,mQ as sZ,mR as Tu,mS as qb,mT as ih,mU as _C,mV as xC,mW as AC,mX as TC,mY as IC,mZ as EC,m_ as aZ,m$ as lZ,n0 as cZ,n1 as dZ,n2 as Fm,n3 as yc,n4 as sh,n5 as uZ,n6 as pZ,n7 as cP,n8 as hZ,n9 as Gb,na as fZ,nb as mZ,nc as fg,nd as mg,ne as gZ,nf as dP,ng as uP,nh as vZ,ni as CZ,nj as Is,nk as Te,nl as Us,nm as za,nn as ga,no as pP,np as hP,nq as yZ,nr as fP,ns as fl,nt as Ft,nu as ci,nv as mP,nw as gP,nx as Nm,ny as Hm,nz as Bm,nA as vd,nB as zm,nC as vP,nD as CP,nE as SZ,nF as bZ,nG as yP,nH as n1,nI as Iu,nJ as kC,nK as wZ,nL as SP,nM as bP,nN as wP,nO as _Z,nP as RC,nQ as _P,nR as iv,nS as Va,nT as xP,nU as xZ,nV as AZ,nW as TZ,nX as Kb,nY as Zb,nZ as IZ,n_ as EZ,n$ as kZ,o0 as RZ,o1 as AP,o2 as TP,o3 as o1,o4 as PC,o5 as nn,o6 as PZ,o7 as LZ,o8 as Wa,o9 as Es,oa as Vm,ob as LC,oc as IP,od as MZ,oe as EP,of as MC,og as gg,oh as vg,oi as OC,oj as kP,ok as RP,ol as Cg,om as Sc,on as yg,oo as OZ,op as DZ,oq as Qb,or as FZ,os as NZ,ot as HZ,ou as PP,ov as LP,ow as DC,ox as MP,oy as OP,oz as DP,oA as BZ,oB as Sg,oC as r1,oD as FP,oE as NP,oF as zZ,oG as VZ,oH as WZ,oI as Yb,oJ as jZ,oK as UZ,oL as $Z,oM as HP,oN as qZ,oO as GZ,oP as KZ,oQ as Cd,oR as ZZ,oS as FC,oT as BP,oU as QZ,oV as YZ,oW as XZ,oX as JZ,oY as eQ,oZ as tQ,o_ as nQ,o$ as oQ,p0 as rQ,p1 as iQ,p2 as zP,p3 as sQ,p4 as bc,p5 as aQ,p6 as lQ,p7 as cQ,p8 as VP,p9 as Wm,pa as WP,pb as bg,pc as wg,pd as dQ,pe as uQ,pf as pQ,pg as hQ,ph as fQ,pi as mQ,pj as gQ,pk as vQ,pl as CQ,pm as yQ,pn as jP,po as SQ,pp as bQ,pq as UP,pr as wQ,ps as _Q,pt as xQ,pu as $P,pv as AQ,pw as TQ,px as IQ,py as EQ,pz as kQ,pA as qP,pB as RQ,pC as GP,pD as PQ,pE as LQ,pF as KP,pG as ZP,pH as QP,pI as YP,pJ as NC,pK as MQ,pL as OQ,pM as DQ,pN as FQ,pO as NQ,pP as HQ,pQ as i1,pR as BQ,pS as zQ,pT as VQ,pU as Xb,pV as oo,pW as s1,pX as XP,pY as HC,pZ as BC,p_ as zC,p$ as VC,q0 as _g,q1 as a1,q2 as WQ,q3 as JP,q4 as eL,q5 as xg,q6 as Ag,q7 as Eu,q8 as Tg,q9 as jQ,qa as UQ,qb as Jb,qc as Ig,qd as is,qe as wc,qf as $Q,qg as WC,qh as qQ,qi as sv,qj as ja,qk as er,ql as _c,qm as GQ,qn as KQ,qo as fr,qp as Dl,qq as jC,qr as tL,qs as nL,qt as UC,qu as oL,qv as ZQ,qw as Eg,qx as QQ,qy as l1,qz as YQ,qA as XQ,qB as kg,qC as JQ,qD as eY,qE as tY,qF as nY,qG as Ua,qH as oY,qI as ew,qJ as rY,qK as kn,qL as Zs,qM as c1,qN as rL,qO as iL,qP as sL,qQ as aL,qR as iY,qS as sY,qT as aY,qU as lY,qV as cY,qW as dY,qX as uY,qY as $C,qZ as lL,q_ as cL,q$ as pY,r0 as qC,r1 as Fl,r2 as Rg,r3 as dL,r4 as uL,r5 as av,r6 as hY,r7 as fY,r8 as pL,r9 as hL,ra as fL,rb as mY,rc as Pg,rd as gY,re as mL,rf as vY,rg as CY,rh as yY,ri as SY,rj as bY,rk as y5,rl as wY,rm as _Y,rn as xY,ro as AY,rp as TY,rq as IY,rr as EY,rs as kY,rt as RY,ru as PY,rv as gL,rw as LY,rx as ah,ry as MY,rz as OY,rA as vL,rB as CL,rC as yL,rD as DY,rE as FY,rF as NY,rG as SL,rH as HY,rI as GC,rJ as lv,rK as BY,rL as ss,rM as bL,rN as zY,rO as VY,rP as WY,rQ as KC,rR as wL,rS as jY,rT as UY,rU as $Y,rV as qY,rW as GY,rX as KY,rY as ZY,rZ as QY,r_ as _L,r$ as xL,s0 as YY,s1 as tw,s2 as rd,s3 as nw,s4 as XY,s5 as JY,s6 as eX,s7 as tX,s8 as nX,s9 as oX,sa as rX,sb as iX,sc as AL,sd as Lg,se as TL,sf as IL,sg as sX,sh as aX,si as lX,sj as cX,sk as EL,sl as dX,sm as uX,sn as pX,so as hX,sp as kL,sq as fX,sr as mX,ss as gX,st as d1,su as vX,sv as CX,sw as yX,sx as SX,sy as bX,sz as wX,sA as _X,sB as G,sC as xX,sD as Y,sE as RL,sF as S5,sG as AX,sH as TX,sI as IX,sJ as ow,sK as gn,sL as PL,sM as EX,sN as kX,sO as RX,sP as PX,sQ as ZC,sR as De,sS as LX,sT as MX,sU as QC,sV as YC,sW as OX,sX as DX,sY as ro,sZ as FX,s_ as NX,s$ as Ut,t0 as Fr,t1 as XC,t2 as u1,t3 as HX,t4 as JC,t5 as BX,t6 as xc,t7 as Mg,t8 as ey,t9 as ty,ta as zX,tb as VX,tc as rw,td as ny,te as p1,tf as ur,tg as oy,th as h1,ti as ry,tj as LL,tk as Nl,tl as WX,tm as jX,tn as UX,to as ML,tp as iy,tq as OL,tr as sy,ts as $X,tt as DL,tu as FL,tv as qX,tw as GX,tx as ay,ty as KX,tz as NL,tA as ZX,tB as QX,tC as Og,tD as YX,tE as HL,tF as ly,tG as XX,tH as JX,tI as eJ,tJ as BL,tK as tJ,tL as nJ,tM as oJ,tN as f1,tO as rJ,tP as iJ,tQ as sJ,tR as zL,tS as VL,tT as m1,tU as cy,tV as aJ,tW as lJ,tX as cJ,tY as WL,tZ as dJ,t_ as jL,t$ as uJ,u0 as pJ,u1 as hJ,u2 as fJ,u3 as UL,u4 as mJ,u5 as gJ,u6 as vJ,u7 as $L,u8 as g1,u9 as CJ,ua as qL,ub as yJ,uc as jm,ud as dy,ue as SJ,uf as bJ,ug as GL,uh as uy,ui as py,uj as hy,uk as fy,ul as wJ,um as _J,un as xJ,uo as AJ,up as TJ,uq as IJ,ur as my,us as EJ,ut as kJ,uu as RJ,uv as PJ,uw as LJ,ux as MJ,uy as OJ,uz as DJ,uA as v1,uB as KL,uC as ZL,uD as QL,uE as FJ,uF as NJ,uG as Dg,uH as YL,uI as HJ,uJ as XL,uK as BJ,uL as JL,uM as zJ,uN as VJ,uO as WJ,uP as gy,uQ as jJ,uR as vy,uS as UJ,uT as $J,uU as qJ,uV as GJ,uW as KJ,uX as ZJ,uY as QJ,uZ as YJ,u_ as XJ,u$ as JJ,v0 as eee}from"./reconnectSaga-e33541d6.js";import{w as Un}from"./watchAction-bfeb4c26.js";import{g as tee,e as nee,r as oee,l as eM,a as ree,M as iee,F as see,p as aee}from"./FontAutocomplete-ca5b7626.js";import{u as Cy,M as lee}from"./useMediaQuery-22235d2c.js";import{n as cee,t as tM,a as dee,f as nM,g as iw,b as uee,M as yy,c as pee,d as hee,e as fee,h as mee}from"./index-2bac2704.js";import{u as ku,H as sw,P as gee,a as vee}from"./PromoBanner-fb55b2e0.js";import{f as oM,a as Ms}from"./index-50e68d31.js";import{d as Cee}from"./device-cbcdfeff.js";import{e as yee,a as See}from"./child_process-1e242066.js";import{A as bee,a as wee}from"./AlertDialog-7dd4d593.js";import{t as rM}from"./triggerChoosePlanDialog-feda640b.js";import{I as iM}from"./InputDialog-d2455e55.js";import{K as ho}from"./KeyboardKey-80a39b2a.js";import{u as _ee,M as xee}from"./useIconWithGradientStyles-38a47b0c.js";import{M as sM}from"./home.react-73004e97.js";import{F as Aee}from"./FullscreenDialogFooter-2db08869.js";import{F as Tee}from"./FullScreenDialogLayout-35fddac2.js";import{L as Iee}from"./LinkButton-d3533d09.js";import{P as Fg}from"./PageWrapper-ec94ee8c.js";import{parseKnownHostsFileData as Eee,extractStringBetweenBrackets as aw}from"./index-255a987b.js";import{k as kee,p as Ng}from"./PortForwardingRulePresenter-4942c31a.js";import{S as Ree}from"./SettingsSwitch-c186b98f.js";import{M as aM}from"./External Link.react-a980ba5b.js";import{d as Pee}from"./ErrorOutline-5b5a7f18.js";import{U as Lee}from"./UserListItem-85567f7e.js";import{u as Mee}from"./useHandledClick-7a5237b0.js";const lM="termius-message://migrate-to-new-crypto",Oee="termius-message://kex",cM="termius-message://ces-survey",Sy="LOCAL_MESSAGE_ACTION_SSL_VERIFICATION_FAILED",Dee="LOCAL_MESSAGE_ACTION_UPDATE_DOWNLOADED",dM="LOCAL_MESSAGE_ACTION_CLEANUP_SEP_KEYS",by="LOCAL_MESSAGE_ACTION_USER_TRIAL_STATE";class Rt{constructor(e={}){E(this,"id");E(this,"local_id");E(this,"updated_at");E(this,"username");E(this,"is_shared");E(this,"local_updated_at");E(this,"entityName","multikey");this.id=e.id,this.local_id=e.local_id,this.username=e.username||"",this.updated_at=e.updated_at,this.is_shared=!!e.is_shared,this.local_updated_at=e.local_updated_at||null}clone(e={}){return new Rt({...this,...e})}get entityLocalPath(){return`${this.entityName}/${this.local_id}`}}function wy(t,e){return t&&t.length?Wj(t,du(e)):0}function Fee(t){const{badgeContent:e,invisible:n=!1,max:o=99,showZero:r=!1}=t,i=qE({badgeContent:e,max:o});let s=n;n===!1&&e===0&&!r&&(s=!0);const{badgeContent:a,max:l=o}=s?i:t,c=a&&Number(a)>l?`${l}+`:a;return{badgeContent:a,invisible:s,max:l,displayValue:c}}const Nee=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:o,padding:r}=typeof t=="function"?t(n):t;return o&&e(o)?o.current!=null?Ib({element:o.current,padding:r}).fn(n):{}:o?Ib({element:o,padding:r}).fn(n):{}}}};var Zf=typeof document<"u"?f.useLayoutEffect:f.useEffect;function Um(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,o,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(o=n;o--!==0;)if(!Um(t[o],e[o]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(e,r[o]))return!1;for(o=n;o--!==0;){const i=r[o];if(!(i==="_owner"&&t.$$typeof)&&!Um(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function uM(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function lw(t,e){const n=uM(t);return Math.round(e*n)/n}function cw(t){const e=f.useRef(t);return Zf(()=>{e.current=t}),e}function Hee(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:o=[],platform:r,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,p]=f.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=f.useState(o);Um(h,o)||m(o);const[g,C]=f.useState(null),[v,S]=f.useState(null),y=f.useCallback(j=>{j!=_.current&&(_.current=j,C(j))},[C]),b=f.useCallback(j=>{j!==I.current&&(I.current=j,S(j))},[S]),w=i||g,x=s||v,_=f.useRef(null),I=f.useRef(null),T=f.useRef(d),A=cw(l),k=cw(r),R=f.useCallback(()=>{if(!_.current||!I.current)return;const j={placement:e,strategy:n,middleware:h};k.current&&(j.platform=k.current),jj(_.current,I.current,j).then(H=>{const O={...H,isPositioned:!0};M.current&&!Um(T.current,O)&&(T.current=O,Mo.flushSync(()=>{p(O)}))})},[h,e,n,k]);Zf(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,p(j=>({...j,isPositioned:!1})))},[c]);const M=f.useRef(!1);Zf(()=>(M.current=!0,()=>{M.current=!1}),[]),Zf(()=>{if(w&&(_.current=w),x&&(I.current=x),w&&x){if(A.current)return A.current(w,x,R);R()}},[w,x,R,A]);const D=f.useMemo(()=>({reference:_,floating:I,setReference:y,setFloating:b}),[y,b]),F=f.useMemo(()=>({reference:w,floating:x}),[w,x]),z=f.useMemo(()=>{const j={position:n,left:0,top:0};if(!F.floating)return j;const H=lw(F.floating,d.x),O=lw(F.floating,d.y);return a?{...j,transform:"translate("+H+"px, "+O+"px)",...uM(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:O}},[n,a,F.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:R,refs:D,elements:F,floatingStyles:z}),[d,R,D,F,z])}var pM=function(t){Uj(e,t);function e(n){var o=t.call(this)||this;return o._value=n,o}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(n){var o=t.prototype._subscribe.call(this,n);return!o.closed&&n.next(this._value),o},e.prototype.getValue=function(){var n=this,o=n.hasError,r=n.thrownError,i=n._value;if(o)throw r;return this._throwIfClosed(),i},e.prototype.next=function(n){t.prototype.next.call(this,this._value=n)},e}(ht);function Hl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=$j(t);return oa(t,n)}var Hg=qj(function(t){return function(n){n===void 0&&(n=null),t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n}});function _y(t,e){var n=Gj(t)?{first:t}:typeof t=="number"?{each:t}:t,o=n.first,r=n.each,i=n.with,s=i===void 0?Bee:i,a=n.scheduler,l=a===void 0?e??Ph:a,c=n.meta,d=c===void 0?null:c;if(o==null&&r==null)throw new TypeError("No timeout provided.");return Ai(function(p,h){var m,g,C=null,v=0,S=function(y){g=Kj(h,l,function(){try{m.unsubscribe(),Ta(s({meta:d,lastValue:C,seen:v})).subscribe(h)}catch(b){h.error(b)}},y)};m=p.subscribe(qo(h,function(y){g==null||g.unsubscribe(),v++,h.next(C=y),r>0&&S(r)},void 0,void 0,function(){g!=null&&g.closed||g==null||g.unsubscribe(),C=null})),!v&&S(o!=null?typeof o=="number"?o:+o-l.now():r)})}function Bee(t){throw new Hg(t)}var zee=Array.isArray;function Vee(t,e){return zee(e)?t.apply(void 0,Zj([],GE(e))):t(e)}function Wee(t){return Mt(function(e){return Vee(t,e)})}var jee=["addListener","removeListener"],Uee=["addEventListener","removeEventListener"],$ee=["on","off"];function lh(t,e,n,o){if(ca(n)&&(o=n,n=void 0),o)return lh(t,e,n).pipe(Wee(o));var r=GE(Kee(t)?Uee.map(function(a){return function(l){return t[a](e,l,n)}}):qee(t)?jee.map(dw(t,e)):Gee(t)?$ee.map(dw(t,e)):[],2),i=r[0],s=r[1];if(!i&&Qj(t))return C2(function(a){return lh(a,e,n)})(Ta(t));if(!i)throw new TypeError("Invalid event target");return new KE(function(a){var l=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return a.next(1<c.length?c:c[0])};return i(l),function(){return s(l)}})}function dw(t,e){return function(n){return function(o){return t[n](e,o)}}}function qee(t){return ca(t.addListener)&&ca(t.removeListener)}function Gee(t){return ca(t.on)&&ca(t.off)}function Kee(t){return ca(t.addEventListener)&&ca(t.removeEventListener)}function Zee(t){return Ai(function(e,n){var o=[];return e.subscribe(qo(n,function(r){return o.push(r)},function(){n.next(o),n.complete()})),Ta(t).subscribe(qo(n,function(){var r=o;o=[],n.next(r)},y2)),function(){o=null}})}function Bg(t){return Ai(function(e,n){var o=null,r=!1,i;o=e.subscribe(qo(n,void 0,void 0,function(s){i=Ta(t(s,Bg(t)(e))),o?(o.unsubscribe(),o=null,i.subscribe(n)):r=!0})),r&&(o.unsubscribe(),o=null,i.subscribe(n))})}function xy(t,e){return e===void 0&&(e=Ph),Ai(function(n,o){var r=null,i=null,s=null,a=function(){if(r){r.unsubscribe(),r=null;var c=i;i=null,o.next(c)}};function l(){var c=s+t,d=e.now();if(d<c){r=this.schedule(void 0,c-d),o.add(r);return}a()}n.subscribe(qo(o,function(c){i=c,s=e.now(),r||(r=e.schedule(l,t),o.add(r))},function(){a(),o.complete()},void 0,function(){i=r=null}))})}function Qee(){return Ai(function(t,e){t.subscribe(qo(e,y2))})}function Yee(t){return Mt(function(){return t})}function hM(t,e){return e?function(n){return Yj(e.pipe(Qp(1),Qee()),n.pipe(hM(t)))}:C2(function(n,o){return Ta(t(n,o)).pipe(Qp(1),Yee(n))})}function Xee(t,e){e===void 0&&(e=Ph);var n=S2(t,e);return hM(function(){return n})}function Jee(){return Ai(function(t,e){var n,o=!1;t.subscribe(qo(e,function(r){var i=n;n=r,o&&e.next([i,r]),o=!0}))})}function ete(t){return Ai(function(e,n){var o=!1,r=null;e.subscribe(qo(n,function(i){o=!0,r=i})),Ta(t).subscribe(qo(n,function(){if(o){o=!1;var i=r;r=null,n.next(i)}},y2))})}function tte(t,e){return e===void 0&&(e=Ph),ete(Xj(t,e))}function fM(t){return Ai(function(e,n){Ta(t).subscribe(qo(n,function(){return n.complete()},y2)),!n.closed&&e.subscribe(n)})}function Qf(t,e,n){var o=ca(t)||e||n?{next:t,error:e,complete:n}:t;return o?Ai(function(r,i){var s;(s=o.subscribe)===null||s===void 0||s.call(o);var a=!0;r.subscribe(qo(i,function(l){var c;(c=o.next)===null||c===void 0||c.call(o,l),i.next(l)},function(){var l;a=!1,(l=o.complete)===null||l===void 0||l.call(o),i.complete()},function(l){var c;a=!1,(c=o.error)===null||c===void 0||c.call(o,l),i.error(l)},function(){var l,c;a&&((l=o.unsubscribe)===null||l===void 0||l.call(o)),(c=o.finalize)===null||c===void 0||c.call(o)}))}):Jj}function nte(t,e){return Ai(function(n,o){var r=e??{},i=r.leading,s=i===void 0?!0:i,a=r.trailing,l=a===void 0?!1:a,c=!1,d=null,p=null,h=!1,m=function(){p==null||p.unsubscribe(),p=null,l&&(v(),h&&o.complete())},g=function(){p=null,h&&o.complete()},C=function(S){return p=Ta(t(S)).subscribe(qo(o,m,g))},v=function(){if(c){c=!1;var S=d;d=null,o.next(S),!h&&C(S)}};n.subscribe(qo(o,function(S){c=!0,d=S,!(p&&!p.closed)&&(s?v():C(S))},function(){h=!0,!(l&&c&&p&&!p.closed)&&o.complete()}))})}function ote(t,e,n){e===void 0&&(e=Ph);var o=S2(t,e);return nte(function(){return o},n)}function mM(t,e){t===void 0&&(t=!1);var n=b2(f.useState(t),2),o=n[0],r=n[1],i=f.useMemo(function(){var s=e===void 0?!t:e,a=function(){return r(function(p){return p===t?s:t})},l=function(p){return r(p)},c=function(){return r(t)},d=function(){return r(s)};return{toggle:a,set:l,setLeft:c,setRight:d}},[]);return[o,i]}var rte=function(t){return t.every(function(e){var n=c8(e);if(!n)return!1;if(n.getRootNode()instanceof ShadowRoot)return!0})},ite=function(t){return t?t.getRootNode():document},ste=function(t){if(!t||!document.getRootNode)return document;var e=Array.isArray(t)?t:[t];return rte(e)?ite(c8(e[0])):document};const ate=ste;function gM(t,e,n){n===void 0&&(n="click");var o=w2(t);eU(function(){var r=function(a){var l=Array.isArray(e)?e:[e];l.some(function(c){var d=c8(c);return!d||d.contains(a.target)})||o.current(a)},i=ate(e),s=Array.isArray(n)?n:[n];return s.forEach(function(a){return i.addEventListener(a,r)}),function(){s.forEach(function(a){return i.removeEventListener(a,r)})}},Array.isArray(n)?n:[n],e)}function lte(t){var e=this,n=f.useRef(!1);return f.useCallback(function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];return tU(e,void 0,void 0,function(){var i,s;return nU(this,function(a){switch(a.label){case 0:if(n.current)return[2];n.current=!0,a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,t.apply(void 0,d8([],b2(o),!1))];case 2:return i=a.sent(),[2,i];case 3:throw s=a.sent(),s;case 4:return n.current=!1,[7];case 5:return[2]}})})},[t])}var cte=function(t,e){return!Object.is(t,e)};function vM(t,e){e===void 0&&(e=cte);var n=f.useRef(),o=f.useRef();return e(o.current,t)&&(n.current=o.current,o.current=t),n.current}var dte=function(){var t=f.useRef(!1);return f.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]),t};const ute=dte;function CM(t){var e=ute(),n=b2(f.useState(t),2),o=n[0],r=n[1],i=f.useCallback(function(s){e.current||r(s)},[]);return[o,i]}function yM(t,e){var n;oU&&(rU(t)||console.error("useThrottleFn expected parameter is a function, got ".concat(typeof t)));var o=w2(t),r=(n=e==null?void 0:e.wait)!==null&&n!==void 0?n:1e3,i=f.useMemo(function(){return Pl(function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return o.current.apply(o,d8([],b2(s),!1))},r,e)},[]);return ZE(function(){i.cancel()}),{run:i,cancel:i.cancel,flush:i.flush}}const pte=iU(f.useLayoutEffect);var hte=function(t,e){return t===e},fte=function(t,e){if(sU(t)){if(t.status===0&&e.current)return e.current;var n=aU(t);return e.current=t.status===0?n:null,n}return lU(t)?t.state:void 0};function Os(t,e,n,o){n===void 0&&(n=hte);var r=f.useRef(null),i=f.useCallback(function(l){var c=t.subscribe(l).unsubscribe;return c},[t]),s=f.useCallback(function(){return o?o(t):fte(t,r)},[t,o]),a=u8.useSyncExternalStoreWithSelector(i,s,s,e,n);return a}var mte=Math.ceil,gte=Math.max;function SM(t,e,n){(n?QE(t,e,n):e===void 0)?e=1:e=gte(_2(e),0);var o=t==null?0:t.length;if(!o||e<1)return[];for(var r=0,i=0,s=Array(mte(o/e));r<o;)s[i++]=cU(t,r,r+=e);return s}async function bM(t){const e=[`9px ${t}`,`italic 9px ${t}`,`bold 9px ${t}`,`italic bold 9px ${t}`];await Promise.all(e.map(n=>document.fonts.load(n)))}function wM(t){var r,i;const{_renderService:e}=$m(t),{width:n,height:o}=((i=(r=e==null?void 0:e.dimensions)==null?void 0:r.css)==null?void 0:i.cell)??{};if(n!=null&&o!=null)return{width:n,height:o}}function _M(t,...e){return $m(t).optionsService.onOptionChange(...e)}function vte(t){$m(t).browser={...$m(t).browser,isMac:Co}}function $m(t){return t._core}const xM=async t=>{const e=wM(t),n=e==null?void 0:e.width,o=e==null?void 0:e.height;if(n&&o)return{width:n,height:o};const{fontSize:r,fontFamily:i}=t.options;if(!i||!r)return;const s=await AM(i,r);return s.width!==0&&s.height!==0?s:void 0},AM=async(t,e)=>{const n=Ste(t,e),o=uw.get(n);if(o)return o;await document.fonts.load(n);const r=yte(),{style:i}=r;i.fontFamily=t,i.fontSize=`${e}px`,i.display="inline";const s=Bs.getBoundingClientRect();i.display="none";const a={width:s.width,height:s.height};return uw.set(n,a),a},Cte="X";let Bs;const yte=()=>{if(!Bs){Bs=document.createElement("span");const{style:t}=Bs;t.position="absolute",t.lineHeight="normal",t.opacity="0",t.pointerEvents="none",t.display="none",Bs.innerText=Cte,Bs.setAttribute("data-char-measure-element",""),document.body.appendChild(Bs)}return Bs},uw=new Map,Ste=(t,e)=>`${e}px ${t}`,bte=async()=>{await Promise.all(a5.flatMap(bM));const t=YE(9,15).flatMap(n=>a5.map(o=>[o,n])),e=SM(t,a5.length);for(const n of e)await Promise.all(n.map(([o,r])=>AM(o,r)))};function wte(t){return Br(typeof t=="string"?t:t.getPath("userData"),"session-logs-v2")}const _te="exec-analytics";class xte{constructor(e){this.transport=e}execChannelOpenFailed({softwareVersion:e,comment:n}){const o={type:"EXEC_CHANNEL_OPEN_FAILED",softwareVersion:e,comment:n};this.transport.send(_te,o)}}const Ate=oc("@termius/mosh"),{MoshClient:Tte}=Ate,Qs={warning:"â—",error:"ðŸ˜¨",debug:"âš™ï¸",user:"ðŸ‘¤"},Ay=(t,e)=>e===Lp["Severity::Warning"]?Qs.warning:e===Lp["Severity::Error"]?Qs.error:t===Lp["Visibility::Debug"]?Qs.debug:Qs.user;class TM{constructor(e){E(this,"callback");this.callback=e}warning(e){var n;(n=this.callback)==null||n.call(this,`${Qs.warning} ${e}`)}error(e){var n;(n=this.callback)==null||n.call(this,`${Qs.error} ${e}`)}debug(e){var n;(n=this.callback)==null||n.call(this,`${Qs.debug} ${e}`)}user(e){var n;(n=this.callback)==null||n.call(this,`${Qs.user} ${e}`)}}class Ite{constructor(e){E(this,"clients");E(this,"exec");this.clients=new Set,this.exec=e}async shell(e,n,o){const{mosh_server_command:r}=e.host.getMergedSshConfig(),i=e.delegate.onDisconnect;e.delegate.onDisconnect=()=>{};let s;try{s=await this.exec.exec(e,r)}catch(m){e.delegate.onError(m.message,e.displayLabel);return}const{exitCode:a,data:l}=s;if(a){e.delegate.onError(l,e.displayLabel,-1,a);return}const c=Ete(l);if(c.err){e.delegate.onLogMessage(`${Ay(Lp["Visibility::User"],Lp["Severity::Error"])} ${c.val}`),e.delegate.onError(c.val,e.displayLabel,-1,a);return}const{port:d,key:p}=c.val,h=new Tte;this.clients.add(h),h.start({host:e.host.address.trim(),port:d,key:p,width:n.columns,height:n.rows,receiveCallback:m=>{o.onOutput(m.toString())},stopCallback:()=>{o.onFinished(),i(),this.clients.delete(h)},disconnectCallback:()=>{}}),o.onReady({getType:async()=>{},sendData(m){h.send(Buffer.from(m))},sendBinary(m){h.send(m)},sendSize(m,g){h.resize(m,g)},close(){h.stop()},async setupShellIntegration(){return!1}},{status:"unknown"}),o.onShellIntegrationStatus({type:"skipped"})}closeAllServices(){this.clients.forEach(e=>e.stop()),this.clients.clear()}}const b5="Canceled the mosh connection due to an invalid mosh command output";function Ete(t){const e=t.toString().split(`
`).find(Boolean);if(e==null)return l5(b5);const n=e.split(" ");if(n.length<=3)return l5(b5);const o=Number.parseInt(n[2],10);if(Number.isNaN(o))return l5(b5);const r=n[3].trimRight();return dU({port:o,key:r})}var cv={exports:{}};(function(t,e){var n=x2,o=n.Buffer;function r(s,a){for(var l in s)a[l]=s[l]}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?t.exports=n:(r(n,e),e.Buffer=i);function i(s,a,l){return o(s,a,l)}r(o,i),i.from=function(s,a,l){if(typeof s=="number")throw new TypeError("Argument must not be a number");return o(s,a,l)},i.alloc=function(s,a,l){if(typeof s!="number")throw new TypeError("Argument must be a number");var c=o(s);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},i.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return o(s)},i.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(s)}})(cv,cv.exports);var kte=cv.exports,Ty=kte.Buffer,pw=Ty.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Rte(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Pte(t){var e=Rte(t);if(typeof e!="string"&&(Ty.isEncoding===pw||!pw(t)))throw new Error("Unknown encoding: "+t);return e||t}var Lte=C1;function C1(t){this.encoding=Pte(t);var e;switch(this.encoding){case"utf16le":this.text=Hte,this.end=Bte,e=4;break;case"utf8":this.fillLast=Dte,e=4;break;case"base64":this.text=zte,this.end=Vte,e=3;break;default:this.write=Wte,this.end=jte;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Ty.allocUnsafe(e)}C1.prototype.write=function(t){if(t.length===0)return"";var e,n;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""};C1.prototype.end=Nte;C1.prototype.text=Fte;C1.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function w5(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Mte(t,e,n){var o=e.length-1;if(o<n)return 0;var r=w5(e[o]);return r>=0?(r>0&&(t.lastNeed=r-1),r):--o<n||r===-2?0:(r=w5(e[o]),r>=0?(r>0&&(t.lastNeed=r-2),r):--o<n||r===-2?0:(r=w5(e[o]),r>=0?(r>0&&(r===2?r=0:t.lastNeed=r-3),r):0))}function Ote(t,e,n){if((e[0]&192)!==128)return t.lastNeed=0,"ï¿½";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"ï¿½";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"ï¿½"}}function Dte(t){var e=this.lastTotal-this.lastNeed,n=Ote(this,t);if(n!==void 0)return n;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Fte(t,e){var n=Mte(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var o=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,o),t.toString("utf8",e,o)}function Nte(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"ï¿½":e}function Hte(t,e){if((t.length-e)%2===0){var n=t.toString("utf16le",e);if(n){var o=n.charCodeAt(n.length-1);if(o>=55296&&o<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Bte(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function zte(t,e){var n=(t.length-e)%3;return n===0?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,n===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function Vte(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Wte(t){return t.toString(this.encoding)}function jte(t){return t&&t.length?this.write(t):""}let _5=null;function zg(){return _5==null&&(_5=require("iconv-lite")),_5}function Vg(t){switch(t.toLowerCase()){case"utf-8":case"utf8":return!0;default:return!1}}function Iy(t){return Vg(t)||zg().encodingExists(t)}function Bd(t,e){return Vg(e)?Buffer.from(t,"utf8"):zg().encode(t,e)}function IM(t,e){return Vg(e)?t.toString("utf8"):zg().decode(t,e)}function Ey(t){return Vg(t)?new Lte("utf8"):zg().getDecoder(t)}function Ute(t,e){var n=t.length;if(n)return e+=e<0?n:0,uU(e,n)?t[e]:void 0}function Bl(t,e){return t&&t.length?Ute(t,_2(e)):void 0}const ia="Forced to close by user";class hw extends Error{constructor(n,o){super(n);E(this,"code");E(this,"type");E(this,"ignorable",!0);this.code=o.code,this.type=o.type}isCancelError(){return this.message==="operation cancelled"}static isCanceledByUser(n){return n===ia}possibleToReconnect(n){const o=Ti(n.logs),r=Bl(n.logs,-2);return!(r!=null&&r.includes("Authentication that can continue")||o!=null&&o.includes("No more authentication methods to try"))}}function ky(t,e,n,o){return Ce(t.secretKey,"When we write a session log, the secret key always exists"),{filename:Br(n,t.name),encryptionKey:Buffer.from(t.secretKey,"base64"),overflowLimit:(e==null?void 0:e.overflowLimit)??16,queueOverflowed:(e==null?void 0:e.queueOverflowed)??(()=>{}),finishedCallback:o}}const EM=oc("@serialport/stream"),$te=t=>{const e={baudRate:t.baudRate||9600,stopBits:t.stopBits||1,dataBits:t.dataBits||8,parity:t.parity||"none",rtscts:t.controlFlow==="rtscts",xon:t.controlFlow==="xonxoff",xoff:t.controlFlow==="xonxoff"},n=t.controlFlow==="none",o={dsr:n?t.controlFlow==="dsrdtr":void 0,dtr:n?t.controlFlow==="dsrdtr":void 0};return{options:e,setOptions:o}};class qte{constructor(e){E(this,"clients");this.sessionLogsDirectory=e,this.clients=new Set}shell(e,n,o){const{signal:r,serialOptions:i}=e,s=e.delegate,a=new TM(s.onLogMessage);if(!i){a.error("Connection can not be established: options are empty"),e.delegate.onError("No serial options","No options");return}const{path:l}=i,c=i.charset.toString();if(!Iy(c)){a.error(`Connection can not be established: charset "${c}" is not supported`),e.delegate.onError(`Charset "${c}" is not supported`,"Charset is not supported");return}const d=Ey(c),{options:p,setOptions:h}=$te(i),m=new EM(l,{...p,autoOpen:!1});this.clients.add(m);const g=b=>{r.removeEventListener("abort",v),e.delegate.onError(b.message,e.displayLabel),this.clients.delete(m)};let C;const v=()=>{r.removeEventListener("abort",v),C=ia,m.close()},S=e.sessionLogData!=null?new A2.Writer(ky(e.sessionLogData,e.sessionLogAnalytics,this.sessionLogsDirectory,e.delegate.onSessionLogFinishedWriting)):void 0,y=b=>{o.onFinished(),e.delegate.onDisconnect(C),this.clients.delete(m),S==null||S.end()};r.addEventListener("abort",v),m.on("open",()=>{a.user(`Connection to "${l}" established`),r.removeEventListener("abort",v),h&&m.set(h,b=>{b&&a.warning(`Can not set options: ${b.message}`)}),o.onReady({getType:async()=>{},sendData(b){m.write(Bd(b,c))},sendBinary(b){m.write(b)},sendSize(){},close:()=>{m.close(y)},async setupShellIntegration(){return!1}},{status:"unknown"}),o.onShellIntegrationStatus({type:"skipped"})}),m.on("data",b=>{o.onOutput(d.write(b));const w=d.write(b);S==null||S.append(Buffer.from(w))}),m.on("error",b=>{b&&(a.error(`Connection closed with error: ${b.message}`),g(b))}),a.user(`Starting a new connection to "${l}"`),a.debug(`Baud rate: ${i.baudRate}, data bits: ${i.dataBits}, stop bits: ${i.stopBits}, parity: ${i.parity}, flow control: ${i.controlFlow}`),m.open(b=>{b&&(a.error(`Connection can not be established: ${b.message}`),g(b))})}closeAllServices(){this.clients.forEach(e=>e.close()),this.clients.clear()}}class Gte{constructor(e){E(this,"logReader",null);this.sessionLogsDirectory=e}readLog(e,n){this.logReader=new A2.LogReader({encryptionKey:Buffer.from(e.secretKey,"base64"),filename:Br(this.sessionLogsDirectory,e.name),onDataReady:o=>o.length>0?n.onOutput(o.toString("utf-8")):n.onOutput(`${_n.DISABLE_ALT_BUFFER}${_n.DISABLE_MOUSE_EVENTS}${_n.HIDE_CURSOR}`),onError:(o,r,i)=>{Cs.exception(`Unexpected error during session logs decoding: ${i}`,i),n.onOutput(`${Tt.CR}${Tt.LF}${Tt.LF}${i}`)}})}getLogReader(){return this.logReader}cleanup(){this.logReader&&(this.logReader=null)}}class Kte{constructor(e){E(this,"logReader");this.sessionLogsDirectory=e,this.logReader=new Gte(e)}async shell(e,n,o){const{sessionLogData:r}=e;if(r==null){e.delegate.onError("Connection doesn't contain session logs","No Session Logs");return}o.onReady({getType:async()=>{},sendSize(){},sendData(){},sendBinary(){},close:()=>{this.logReader.cleanup(),process.nextTick(()=>{o.onFinished()})},async setupShellIntegration(){return!1}},{status:"unknown"}),o.onShellIntegrationStatus({type:"skipped"}),process.nextTick(async()=>{if(r.secretKey==null){o.onOutput("We couldn't decrypt this session log. Please contact support@termius.com.");return}this.logReader.readLog(r,o)})}closeAllServices(){this.logReader.cleanup()}}const fw=(t,e)=>function(){const n=e.promiseModule,o=new Array(arguments.length);for(let r=0;r<arguments.length;r++)o[r]=arguments[r];return new n((r,i)=>{e.errorFirst?o.push(function(s,a){if(e.multiArgs){const l=new Array(arguments.length-1);for(let c=1;c<arguments.length;c++)l[c-1]=arguments[c];s?(l.unshift(s),i(l)):r(l)}else s?i(s):r(a)}):o.push(function(s){if(e.multiArgs){const a=new Array(arguments.length-1);for(let l=0;l<arguments.length;l++)a[l]=arguments[l];r(a)}else r(s)}),t.apply(this,o)})};var Zte=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const n=r=>{const i=s=>typeof s=="string"?r===s:s.test(r);return e.include?e.include.some(i):!e.exclude.some(i)};let o;typeof t=="function"?o=function(){return e.excludeMain?t.apply(this,arguments):fw(t,e).apply(this,arguments)}:o=Object.create(Object.getPrototypeOf(t));for(const r in t){const i=t[r];o[r]=typeof i=="function"&&n(r)?fw(i,e):i}return o};const Wg=wt(Zte);function mw(t,e,n,o,r){for(let i=0;i<r;++i)if(t[e+i]!==n[o+i])return!1;return!0}class Qte{constructor(e,n){if(typeof n!="function")throw new Error("Missing match callback");if(typeof e=="string")e=Buffer.from(e);else if(!Buffer.isBuffer(e))throw new Error(`Expected Buffer for needle, got ${typeof e}`);const o=e.length;if(this.maxMatches=1/0,this.matches=0,this._cb=n,this._lookbehindSize=0,this._needle=e,this._bufPos=0,this._lookbehind=Buffer.allocUnsafe(o),this._occ=[o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o],o>1)for(let r=0;r<o-1;++r)this._occ[e[r]]=o-1-r}reset(){this.matches=0,this._lookbehindSize=0,this._bufPos=0}push(e,n){let o;Buffer.isBuffer(e)||(e=Buffer.from(e,"latin1"));const r=e.length;for(this._bufPos=n||0;o!==r&&this.matches<this.maxMatches;)o=Yte(this,e);return o}destroy(){const e=this._lookbehindSize;e&&this._cb(!1,this._lookbehind,0,e,!1),this.reset()}}function Yte(t,e){const n=e.length,o=t._needle,r=o.length;let i=-t._lookbehindSize;const s=r-1,a=o[s],l=n-r,c=t._occ,d=t._lookbehind;if(i<0){for(;i<0&&i<=l;){const h=i+s,m=h<0?d[t._lookbehindSize+h]:e[h];if(m===a&&gw(t,e,i,s))return t._lookbehindSize=0,++t.matches,i>-t._lookbehindSize?t._cb(!0,d,0,t._lookbehindSize+i,!1):t._cb(!0,void 0,0,0,!0),t._bufPos=i+r;i+=c[m]}for(;i<0&&!gw(t,e,i,n-i);)++i;if(i<0){const h=t._lookbehindSize+i;return h>0&&t._cb(!1,d,0,h,!1),t._lookbehindSize-=h,d.copy(d,0,h,t._lookbehindSize),d.set(e,t._lookbehindSize),t._lookbehindSize+=n,t._bufPos=n,n}t._cb(!1,d,0,t._lookbehindSize,!1),t._lookbehindSize=0}i+=t._bufPos;const p=o[0];for(;i<=l;){const h=e[i+s];if(h===a&&e[i]===p&&mw(o,0,e,i,s))return++t.matches,i>0?t._cb(!0,e,t._bufPos,i,!0):t._cb(!0,void 0,0,0,!0),t._bufPos=i+r;i+=c[h]}for(;i<n;){if(e[i]!==p||!mw(e,i,o,0,n-i)){++i;continue}e.copy(d,0,i,n),t._lookbehindSize=n-i;break}return i>0&&t._cb(!1,e,t._bufPos,i<n?i:n,!0),t._bufPos=n,n}function gw(t,e,n,o){const r=t._lookbehind,i=t._lookbehindSize,s=t._needle;for(let a=0;a<o;++a,++n)if((n<0?r[i+n]:e[n])!==s[a])return!1;return!0}var Xte=Qte;const Jte=wt(Xte),Ry=3e3;if(process.type==="browser")throw new Error('"@/lib/electron/app" cannot be imported in the browser (Main) process');const vw={getAppPath(){return da.invoke("app.getAppPath")},get isPackaged(){return da.invoke("app.isPackaged")}};function ene(t){const e=t.isPackaged?t.appDir.replace("app.asar","app.asar.unpacked"):t.appDir;return Br(e,"out","shell-integration")}const tne=`# shellcheck shell=bash
builtin printf "\\e[?1049h"
if [ "$_termius_integration_installed" = "" ]; then
	_termius_integration_installed="yes"

	builtin printf "\\e]4545;A\\a"

	_termius_encode() {
		builtin echo -n "$1" | command base64
	}

	_termius_get_trap() {
		# 'trap -p DEBUG' outputs a shell command like \`trap -- 'â€¦shellcodeâ€¦' DEBUG\`.
		# The terms are quoted literals, but are not guaranteed to be on a single line.
		# (Consider a trap like $'echo foo\\necho \\'bar\\'').
		# To parse, we splice those terms into an expression capturing them into an array.
		# This preserves the quoting of those terms: when we \`eval\` that expression, they are preserved exactly.
		# This is different than simply exploding the string, which would split everything on IFS, oblivious to quoting.
		builtin local -a terms
		builtin eval "terms=( $(trap -p "\${1:-DEBUG}") )"
		#                    |________________________|
		#                            |
		#        \\-------------------*--------------------/
		# terms=( trap  --  'â€¦arbitrary shellcodeâ€¦'  DEBUG )
		#        |____||__| |_____________________| |_____|
		#          |    |            |                |
		#          0    1            2                3
		#                            |
		#                   \\--------*----/
		builtin printf '%s' "\${terms[2]:-}"
	}

	_termius_original_PS1="$PS1"
	_termius_custom_PS1=""
	_termius_in_command_execution="1"
	_termius_current_command=""

	_termius_current_cwd() {
		builtin printf "\\e]4545;SetCwd;%s\\a" "$(_termius_encode "$PWD")"
	}

	_termius_prompt_begins() {
		builtin printf "\\e]4545;ShellPromptBegins\\a"
	}

	_termius_prompt_ends() {
		builtin printf "\\e]4545;ShellPromptEnds\\a"
	}

	_termius_wrap_prompt() {
		builtin printf "\\[$(_termius_prompt_begins)\\]%s\\[$(_termius_prompt_ends)\\]" "$1"
	}

	_termius_command_started() {
		builtin printf "\\e]4545;CommandStarted;%s\\a" "$(_termius_encode "$1")"
	}

	_termius_command_exited() {
		builtin printf "\\e]4545;CommandExited;%s\\a" "$1"
	}

	_termius_update_prompt() {
		# in command execution
		if [ "$_termius_in_command_execution" = "1" ]; then
			# Wrap the prompt if it is not yet wrapped, if the PS1 changed this this was last set it
			# means the user re-exported the PS1 so we should re-wrap it
			if [[ "$_termius_custom_PS1" == "" || "$_termius_custom_PS1" != "$PS1" ]]; then
				_termius_original_PS1=$PS1
				_termius_custom_PS1=$(_termius_wrap_prompt "$_termius_original_PS1")
				PS1="$_termius_custom_PS1"
			fi
			_termius_in_command_execution="0"
		fi
	}

	_termius_precmd() {
		if [ "$_termius_current_command" != "" ]; then
			_termius_command_exited "$_termius_status"
		fi

		_termius_current_cwd
		_termius_current_command=""
		_termius_update_prompt
	}

	_termius_preexec() {
		if [[ ! "$BASH_COMMAND" =~ ^_termius_prompt* ]]; then
      if [[ "$BASH_COMMAND" == *"builtin printf \\"\\\\e[?1049l\\""* ]]; then
              _termius_current_command=$BASH_COMMAND
            else
              _termius_current_command="$(builtin history 1 | sed 's/ *[0-9]* *//')"
            fi
		else
			_termius_current_command=""
		fi

		if [ "$_termius_current_command" != "" ]; then
			_termius_command_started "$_termius_current_command"
		fi
	}

	# Debug trapping/preexec inspired by starship (ISC)
	if [[ -n "\${bash_preexec_imported:-}" ]]; then
		_termius_preexec_only() {
			if [ "$_termius_in_command_execution" = "0" ]; then
				_termius_in_command_execution="1"
				_termius_preexec
			fi
		}
		precmd_functions+=(_termius_prompt_cmd)
		preexec_functions+=(_termius_preexec_only)
	else
		_termius_dbg_trap="$(_termius_get_trap DEBUG)"

		# shellcheck disable=SC2016
		if [[ -z "$_termius_dbg_trap" ]]; then
			_termius_preexec_only() {
				if [ "$_termius_in_command_execution" = "0" ]; then
					_termius_in_command_execution="1"
					_termius_preexec
				fi
			}
			trap '_termius_preexec_only "$_"' DEBUG
		elif [[ "$_termius_dbg_trap" != '_termius_preexec "$_"' && "$_termius_dbg_trap" != '_termius_preexec_all "$_"' ]]; then
			_termius_preexec_all() {
				if [ "$_termius_in_command_execution" = "0" ]; then
					_termius_in_command_execution="1"
					builtin eval "\${_termius_dbg_trap}"
					_termius_preexec
				fi
			}
			trap '_termius_preexec_all "$_"' DEBUG
		fi
	fi

	_termius_update_prompt

	_termius_restore_exit_code() {
		return "$1"
	}

	_termius_prompt_cmd_original() {
		_termius_status="$?"
		_termius_restore_exit_code "\${_termius_status}"
		# Evaluate the original PROMPT_COMMAND similarly to how bash would normally
		# See https://unix.stackexchange.com/a/672843 for technique
		for cmd in "\${_termius_original_prompt_command[@]}"; do
			eval "\${cmd:-}"
		done
		_termius_precmd
	}

	_termius_prompt_cmd() {
		_termius_status="$?"
		_termius_precmd
	}

	# PROMPT_COMMAND arrays and strings seem to be handled the same (handling only the first entry of
	# the array?)
	_termius_original_prompt_command=$PROMPT_COMMAND

	if [[ -z "\${bash_preexec_imported:-}" ]]; then
		if [[ -n "$_termius_original_prompt_command" && "$_termius_original_prompt_command" != "_termius_prompt_cmd" ]]; then
			PROMPT_COMMAND=_termius_prompt_cmd_original
		else
			PROMPT_COMMAND=_termius_prompt_cmd
		fi
	fi

	builtin printf "\\e]4545;B\\a"
fi
builtin printf "\\e[?1049l"
`;async function kM(t){const e=nne[t];return e==null?{success:!1,reason:"unsupported_shell"}:{success:!0,lines:e.split(`
`).map(n=>n.trim()).filter(n=>n!==""&&!n.startsWith("#"))}}const nne={bash:tne};async function RM(t,e){if(t==="bash"||t==="zsh"||t==="fish")return{success:!1,reason:"integration_has_been_installed"};if(e!=null&&e.skipRuntimeShells)return{success:!1,reason:"unsupported_shell"};const[n,o]=await Promise.all([vw.getAppPath(),vw.isPackaged]),r=ene({appDir:n,isPackaged:o});switch(t){case"sh":case"ash":case"dash":case"ksh":return{success:!0,lines:[String.raw`. ${Br(r,"shrc.sh")}`]};case"tcsh":return{success:!0,lines:[String.raw`source ${Br(r,".tcshrc")}`]};default:return{success:!1,reason:"unsupported_shell"}}}class PM extends Error{constructor(){super("Ignore exec call. An exec channel may crash the session.");E(this,"name","PreventOpeningExecError")}}const LM=t=>{switch(t){case"AUTO":return"unspecified";case"IPv4":return"ipv4";case"IPv6":return"ipv6";default:return"unspecified"}},fo={ssh:t=>!t.hasOwnProperty("hardwareKey")&&!t.hasOwnProperty("skKey"),sep:t=>t.hasOwnProperty("hardwareKey"),windowsHello:t=>fo.sep(t)&&t.hardwareKey.storage===uu,sk:t=>t.hasOwnProperty("skKey")};function one(t){return t==null?!0:fo.windowsHello(t)}function rne(t){const e=ane(t),n=lne(t)??"";if(e.use)return{publicKey:n,hardwareKey:e.key,privateKey:"",passphrase:""};const{ssh_key:o}=t;return{publicKey:n,privateKey:(o==null?void 0:o.private_key)??"",passphrase:(o==null?void 0:o.passphrase)??""}}async function MM(t,e){const n=await ine(t,e);return sne(n,e)}async function dv(t){const{sshKey:e,callbacks:n,logger:o,preselectedKey:r}=t;o.debug("Starting SSH key selection");const i=r||await new Promise(s=>n.requestChooseKey(s));return i==null?(o.debug("No SSH key to select"),e):i.type==="SEP"?(o.user("A biometric key is selected"),{publicKey:i.item.public_key,hardwareKey:i.item,privateKey:"",passphrase:""}):(o.user("An SSH key is selected"),MM({privateKey:i.item.private_key,passphrase:i.item.passphrase},n))}async function ine(t,e){const n=fo.ssh(t)?t.privateKey:"";let o=fo.ssh(t)?t.passphrase:"";if(n&&XE(n))for(;;){if(o&&await pU(n,o))return{passphrase:o,privateKey:n};o=await new Promise(r=>e.requestPassphrase(r))}return{passphrase:o,privateKey:n}}async function sne(t,e){if(!fo.ssh(t))return t;const n=t.privateKey||"",o=t.passphrase||"",r={privateKey:n,passphrase:o};let i=Yp(n),s=null;return fo.sk(t)&&({keyInfo:s}=t.skKey,i=i||s.isResidentKey),i?(s==null&&(s=dne(n,o)||null),s==null?r:cne(s,e)):r}function ane(t){return!OM(t)&&t.hardware_key!=null?{use:!0,key:t.hardware_key}:{use:!1}}function lne(t){var n,o;const e=(o=(n=t.ssh_key)==null?void 0:n.certificates[0])==null?void 0:o.certificate;if(e)return e;if(!OM(t)&&t.hardware_key)return t.hardware_key.public_key}function OM(t){return!!t.ssh_key&&t.ssh_key.private_key.length!==0}async function cne(t,e){if(!t.isPinRequired)return uv(t,"");for(;;){const n=await new Promise(o=>e.requestPIN(o));if(n)return uv(t,n)}}function uv(t,e){return Ce(t.publicKey,"keyInfo is invalid"),{skKey:{pin:e,keyInfo:t},publicKey:t.publicKey,privateKey:"",passphrase:""}}function Yf(t){return e=>{const n=fo.sk(e)?uv(e.skKey.keyInfo,e.skKey.pin):e;Object.assign(t,n)}}const dne=(...t)=>{const e=p8(...t);return e==null||!hU()?e:{...e,isPinRequired:!1,isUserPresenceRequired:!0}};function une(t,e,n){return t==="publickey"&&e==="failed"&&fo.windowsHello(n)}function jg(t){const e="  ",[n,...o]=t.split(e);return{softwareVersion:n,comment:o.length!==0?o.join(e):void 0}}const pne=/^OpenSSH_(for_Windows_)?(?<version>\d+\.\d+)(p\d+)?$/,hne=new T2.SemVer("7.2.0");function pv(t){if(t==null)return!0;const e=DM(t);return e==null?!0:T2.lt(e,hne)}function fne(t){const e=DM(t);return e!=null&&T2.gte(e,"8.2.0")}function DM(t){var r;const{softwareVersion:e}=jg(t.softwareVersion),n=pne.exec(e),o=(r=n==null?void 0:n.groups)==null?void 0:r.version;return o!=null?new T2.SemVer(`${o}.0`):void 0}async function Ug(t){const{ssh:e,command:n,charset:o,execAnalytics:r,sessionInfo:i}=t;if(pv(i))throw new PM;try{return await new Promise((s,a)=>{e.exec({command:Bd(n,o),completionCallback:(l,c)=>s({exitCode:l,data:IM(c,o)}),errorCallback:a})})}catch(s){const a=I2(i==null?void 0:i.softwareVersion,jg);throw r.execChannelOpenFailed({softwareVersion:a==null?void 0:a.softwareVersion,comment:a==null?void 0:a.comment}),s}}async function mne(t,e,n,o){try{const{exitCode:r,data:i}=await Ug({command:"echo $SHELL",ssh:t,charset:e,execAnalytics:n,sessionInfo:o});switch(r){case 0:return{echoSupported:!0,name:await Cne(i,{ssh:t,charset:e,execAnalytics:n,sessionInfo:o})};case 127:return{echoSupported:!1};default:return}}catch{return}}function gne({exitCode:t,data:e}){if(t===0)return e}async function vne(t,e){try{const n=await Ug({...e,command:`readlink -f ${t}`});return gne(n)}catch{return}}function Cw(t){return h8(t.trim()).toLowerCase()}async function Cne(t,e){const n=Cw(t);if(n!=="sh")return n;const o=await vne(t.trim(),e);return o?Cw(o):n}class yne{constructor(){E(this,"isClosing",!1);E(this,"triedToConnect",!1);E(this,"client");this.client=new JE}getServerSshMethods(e){return this.client.getServerSshMethods(e)}getAgreedSshMethod(e){return this.client.getAgreedSshMethod(e)}close(){this.isClosing=!0,this.client.close(),setTimeout(()=>this.client.close(),1e3)}connect(e){if(en(!this.triedToConnect,"Connect is called second time for the client. Is it a race condition?"),this.triedToConnect||(en(!this.isClosing,"Connect is called for a closing client. Is it a race condition?"),this.isClosing))return;this.triedToConnect=!0;const n=bne(e,this);this.client.connect(n)}exec(e){this.isClosing||this.client.exec(e)}interactiveExec(e){this.isClosing||this.client.interactiveExec(e)}shell(e){this.isClosing||this.client.shell(e)}localPortForwarding(e){this.isClosing||this.client.localPortForwarding(e)}remotePortForwarding(e){this.isClosing||this.client.remotePortForwarding(e)}dynamicPortForwarding(e){this.isClosing||this.client.dynamicPortForwarding(e)}sftp(e){this.isClosing||this.client.sftp(e)}}const Sne=new Set(["loggingCallback","errorCallback","disconnectCallback","sessionInfoCallback","disconnectMessageCallback"]);function bne(t,e){return new Proxy(t,{get(n,o){const r=Reflect.get(n,o);return typeof r!="function"||Sne.has(o)?r:(...s)=>{if(e.isClosing)return;const a=s.map(l=>_ne(l)?wne(l,e):l);r.call(n,...a)}}})}function wne(t,e){return(...n)=>{if(!e.isClosing)return t(...n)}}function _ne(t){return typeof t=="function"}class Py{constructor(e){E(this,"delegate");E(this,"updateSKPresence",(...e)=>this.delegate.updateSKPresence(...e));this.delegate=e}setDelegate(e){this.delegate=e}onClosed(e){return this.delegate.onClosed(e)}onError(e,n,o,r){return this.delegate.onError(e,n,o,r)}onDisconnect(){return this.delegate.onDisconnect()}onSessionLogFinishedWriting(){return this.delegate.onSessionLogFinishedWriting()}hostVerifier(e,n,o,r,i,s){return this.delegate.hostVerifier(e,n,o,r,i,s)}requestKeyboardInteractive(e,n,o,r,i,s){return this.delegate.requestKeyboardInteractive(e,n,o,r,i,s)}requestSignature(e,n,o,r){return this.delegate.requestSignature(e,n,o,r)}askUserNecessaryFields(e){return this.delegate.askUserNecessaryFields(e)}requestPassphrase(e){return this.delegate.requestPassphrase(e)}handleHostChainConnection(e){return this.delegate.handleHostChainConnection(e)}onLogMessage(e){this.delegate.onLogMessage(e)}requestSKPresence(e){this.delegate.requestSKPresence(e)}requestPIN(e){this.delegate.requestPIN(e)}onHostOSDetected(e){this.delegate.onHostOSDetected(e)}requestChooseKey(e){this.delegate.requestChooseKey(e)}requestAuthMethod(e,n){this.delegate.requestAuthMethod(e,n)}requestDiscoverableSKKeys(e,n){this.delegate.requestDiscoverableSKKeys(e,n)}}function xne(t,e,n){let o=!1;return new Promise((r,i)=>{e.delegate=new class extends Py{onError(s,a,l,c){return o||i(s),super.onError(s,a,l,c)}}(e.delegate),t.portForwarding(e,n,{onStarted(s){r(s),o=!0},onStopped(){}})})}class Ane extends Py{constructor(n,o,r){super(n);E(this,"portForwarding");E(this,"address");E(this,"port");this.portForwarding=r,this.address=o.address,this.port=o.getMergedSshConfig().port}onDisconnect(){return this._withClose(()=>super.onDisconnect())}onError(...n){return this._withClose(()=>super.onError(...n))}onClosed(...n){return this._withClose(()=>super.onClosed(...n))}hostVerifier(n,o,r,i,s,a){return super.hostVerifier({host:this.address.trim(),port:this.port},o,r,i,s,a)}requestKeyboardInteractive(n,o,r,i,s,a){return super.requestKeyboardInteractive(n,o,r,i,s,a)}requestSignature(n,o,r,i){return super.requestSignature(n,o,r,i)}_withClose(n){const o=n();return this.portForwarding.close(),o}}class Tne extends Py{onDisconnect(){return this._run(()=>super.onDisconnect())}onError(...e){return this._run(()=>super.onError(...e))}onClosed(...e){return this._run(()=>super.onClosed(...e))}_markAsInactive(){this.setDelegate({onDisconnect(){},onError(){},onClosed(){},hostVerifier(){},requestKeyboardInteractive(){},async requestSignature(){throw new Error("not implemented")},async askUserNecessaryFields(){throw new Error("not implemented")},requestPassphrase(){},handleHostChainConnection(){},onLogMessage(){},requestSKPresence(){},requestPIN(){},updateSKPresence(){},onHostOSDetected(){},requestChooseKey(){},requestAuthMethod(){},requestDiscoverableSKKeys(){},onSessionLogFinishedWriting(){}})}_run(e){const n=e();return this._markAsInactive(),n}}class Ine{constructor(e){E(this,"provider");this.provider=e}async connect(e){const{protocol:n,delegate:o,sshKnownHosts:r,abortController:i,sessionLogData:s,sessionLogAnalytics:a,featureSet:l}=e;if(n==="mosh")return e;const{connectionPath:c}=e.host;if(c.length===0||c.length===1)return e.delegate.handleHostChainConnection(e),e;const d=new Tne(o);let p=new pt({protocol:"ssh",host:c.shift(),delegate:d,sshKnownHosts:r,sessionLogData:s,sessionLogAnalytics:a,abortController:i,featureSet:l});for(const h of c){const{proxy:m,port:g}=h.getMergedSshConfig(),C=await xne(this.provider,p,{type:"local",port:0,host:m?m.hostname:h.address,hostPort:m?m.port:g});p=new pt({protocol:"ssh",host:h,chainedHostOverrides:{address:C.getBindAddress(),port:C.getBindPort()},delegate:new Ane(d,h,C),sshKnownHosts:r,sessionLogData:s,sessionLogAnalytics:a,abortController:i,featureSet:l,analyticsHelper:e.analyticsHelper})}return e.delegate.handleHostChainConnection(p),p.clone({id:e.id})}}class Ene{constructor(e){E(this,"detectOSDefaultShellScript",`HISTFILE=;
SA_OS_TYPE="Linux"
REAL_OS_NAME=\`uname\`
if [ "$REAL_OS_NAME" != "$SA_OS_TYPE" ] ;
then
echo \`uname\`
else
DISTRIB_ID=\\"\`cat /etc/*release\`\\"
echo $DISTRIB_ID;
fi;
exit;
`);E(this,"detectOSFishShellScript",`if set name (uname) = "Linux"
    cat /etc/*release
else
    uname
end
`);E(this,"detectRouterOSScript",`:put [/system resource get platform]
`);E(this,"osTypesMap",new Map([["raspbian","raspbian"],["centos","centos"],["darwin","osx"],["ubuntu","ubuntu"],["openbsd","openbsd"],["netbsd","netbsd"],["freebsd","freebsd"],["suse","suse"],["fedora","fedora"],["mageia","mageia"],["arch","arch"],["gentoo","gentoo"],["debian","debian"],["linux","linux"],["android","android"],["mikrotik","routeros"],["routeros","routeros"],["redhat","redhat"],["red","redhat"],["msys_nt","windows"],["win","windows"],["windows","windows"],["cisco","cisco"],["gloria-ops-agent","gloria_ops_agent"]]));this.execAnalytics=e}getOsFromSoftwareVersion(e){const n=e.toLocaleLowerCase();for(const[o,r]of this.osTypesMap)if(n.includes(o))return r;return null}async getOS(e,n,o,r){try{const i=e.echoSupported?this.getDetectOSScriptByShellType(e.name):this.detectRouterOSScript,s=await this.executeExecCommand(n,i,o,r);return this.parseOS(s)}catch{return null}}async executeExecCommand(e,n,o,r){const{exitCode:i,data:s}=await Ug({ssh:e,command:n,charset:o,execAnalytics:this.execAnalytics,sessionInfo:r});if(i)throw i;return s}getDetectOSScriptByShellType(e){return e.includes("fish")?this.detectOSFishShellScript:this.detectOSDefaultShellScript}parseOS(e){const n=e.trim();for(const[i,s]of this.osTypesMap)if(i===n.toLocaleLowerCase())return s;const o=n.replace(/Linux\n/g,"").split(" ");for(const i of o){const s=i.replace(/"/g,"").split("=");if(s.length===2&&s[0]==="NAME"){const a=this.osTypesMap.get(s[1].toLocaleLowerCase());if(a)return a}}const r="msys_nt";return n.toLowerCase().includes(r)?this.osTypesMap.get(r)??null:null}}function kne(t){switch(t){case 1:return"mismatch";case 2:return"notfound";case 3:default:return"failure"}}function FM(t){return t.startsWith(".")&&t!==".."}const Rne=/\.([0-9a-z]+)(?=[?#])|(\.)(?:[\w]+)$/gim;function NM(t){if(t.attrs.isDirectory())return"folder";if(t.attrs.isSymbolicLink())return"link";let{filename:e}=t;e=FM(e)?e.substring(1):e;const n=e.match(Rne);return n?n[0].replace(".",""):"file"}const Pne=t=>{const e=t.longname.split(" ").filter(n=>n!=="");return{user:e[2],group:e[3]}},Lne=t=>t.longname.split(" ").filter(n=>n!=="")[0],hv=t=>{const{attrs:e,filename:n}=t;return{filename:n,attrs:e,extension:NM(t),isDirectory:e.isDirectory(),isSelectable:!0,isLink:e.isSymbolicLink(),isHidden:FM(n),ownership:Pne(t),permissions:Lne(t),title:null}},HM=t=>({attrs:{mode:t.attrs.mode,size:t.attrs.size},filename:t.filename,extension:NM(t),isDirectory:t.attrs.isDirectory(),isLink:t.attrs.isSymbolicLink()}),Mne=["mlkem512-sha256","mlkem768-sha256","mlkem1024-sha384"];function One(t={}){return Dne(t)}function Dne(t={}){const{excludeUnstablePQCKexMethods:e=!1}=t,n=JE.getClientSshMethods("kex");return e?[{type:"kex",methods:n.filter(o=>!Mne.includes(o))}]:[]}class Fne{constructor(e,n){this.channel=e,this.sshClient=n}close(){return this.sshClient.close("session")}getBindPort(){return this.channel.getBindPort()}getBindAddress(){return this.channel.getBindAddress()}}const Bo=new Map([[1,"End of file"],[2,"No such file"],[3,"Permission denied"],[4,"Failure"],[5,"Bad message"],[6,"No connection"],[7,"Connection lost"],[8,"Operation unsupported"],[9,"Invalid handle"],[10,"No such path"],[11,"File already exists"],[12,"Write protect"],[13,"No media"],[14,"No space on file system"],[15,"Quota exceeded"],[16,"Unknown principal"],[17,"Lock conflict"],[18,"Directory is not empty"],[19,"Not a directory"],[20,"Invalid filename"],[21,"Link loop"]]),Nne=oc("stream"),{Readable:Hne,Writable:BM,pipeline:Bne}=Nne;function zne(t){const e=t.getFile("read");if(!e)throw new Error("SFTP session has been closed");return e}class Vne extends Hne{constructor(n,o){super({highWaterMark:6e4});E(this,"file");this.file=zne(n),this.file.open(o,jf.O_RDONLY,0,r=>{this.maybeEmitError(r)})}close(){this.file.close(n=>{this.maybeEmitError(n)||this.push(null)})}_read(n){this.file.read(n,(o,r,i)=>{if(o.length!==0&&this.push(o),r){this.close();return}this.maybeEmitError(i)&&this.close()})}maybeEmitError(n){return n!==0?(this.emit("error",Bo.get(n)),!0):!1}}const Wne=jf.O_WRONLY|jf.O_CREAT|jf.O_TRUNC;function jne(t){const e=t.getFile("write");if(!e)throw new Error("SFTP session has been closed");return e}function Une(t){return new Error(Bo.get(t))}class $ne extends BM{constructor(n,o,r){super({highWaterMark:6e4});E(this,"file");E(this,"path");this.path=o,this.file=jne(n),this.file.open(o,Wne,r,i=>{i!==0&&this.emit("error",Bo.get(i))})}_write(n,o,r){this.file.write(n,!1,i=>{this.resolveCallback(r,i)})}_final(n){this.file.write(null,!0,o=>{this.maybeReturnError(o,n)?this.close():(this.emit("finish"),this.close(n))})}maybeReturnError(n,o){return n!==0?(o(Une(n)),!0):!1}resolveCallback(n,o){this.maybeReturnError(o,n)||n()}close(n){this.file.close(o=>{n&&(this.resolveCallback(n,o),this.emit("close"))})}}function yw(t){return t.filename!=="."&&t.filename!==".."}class qne{constructor(e){E(this,"fs");E(this,"readdir",(e,n)=>{this.fs.listDir(e,(o,r)=>{o?n(Bo.get(o),r):n(o,r.filter(yw).map(hv))})});E(this,"readdirTransfer",(e,n)=>{this.fs.listDir(e,(o,r)=>{o?n(Bo.get(o),r):n(o,r.filter(yw).map(HM))})});E(this,"end",e=>{this.fs.close(),e()});E(this,"realpath",(e,n)=>{this.fs.realPath(e,(o,r)=>{n(o&&Bo.get(o),r)})});E(this,"symlink",(e,n,o)=>{this.fs.symlink(e,n,r=>{r?o(Bo.get(r)):o()})});E(this,"readlink",(e,n)=>{this.fs.readLink(e,(o,r)=>{n(o&&Bo.get(o),r)})});E(this,"rmdir",(e,n)=>{this.fs.removeDir(e,o=>{o?n(Bo.get(o)):n()})});E(this,"rename",(e,n,o)=>{this.fs.rename(e,n,r=>{r?o(Bo.get(r)):o()})});E(this,"unlink",(e,n)=>{this.fs.removeFile(e,o=>{o?n(Bo.get(o)):n()})});E(this,"mkdir",(e,n)=>{this.fs.makeDir(e,493,o=>{o?n(Bo.get(o)):n()})});E(this,"chmod",(e,n,o)=>{this.fs.chmod(e,n,r=>{r?o(Bo.get(r)):o()})});E(this,"createReadStream",e=>new Vne(this.fs,e));E(this,"createWriteStream",(e,{mode:n})=>new $ne(this.fs,e,n));this.fs=e}}function Gne(t){return f8(t.pipe(Zee(t.pipe(zr(n=>!ds(n)),xy(1e3))),Mt(n=>ds(n)?{type:"failed",reason:"output stream completed"}:Xne(n.join(""))),_y(3e3+1e3),Bg(n=>n instanceof Hg?Hl({type:"failed",reason:"data timeout"}):Hl({type:"failed",reason:"output stream broken"}))))}const Kne=["Type a key","Type one of the keys in parentheses","Would you like to check for updates?","Would you like to update?","There was an error updating. Try again later?"],Zne=["\x1B[?47h","\x1B[?1047h","\x1B[?1049h"];function Qne(t){return Kne.some(e=>t.includes(e))}function Yne(t){return Zne.some(e=>t.includes(e))}function Xne(t){return Qne(t)?{type:"failed",reason:"non-shell prompt"}:Yne(t)?{type:"failed",reason:"alternative buffer"}:{type:"succeeded"}}async function fv(t){const n=(await Uf.fetchAllKeys()).find(o=>o.publicKey===t);if(!n)throw new Error("Key not found");return n}class Jne{constructor(){E(this,"tasks",[]);E(this,"isExecuting",!1)}add(e){return new Promise((n,o)=>{this.tasks.push({request:e,isCancelled:!1,resolve:n,reject:o}),this.maybeExecute()})}cancel(e){const n=this.tasks.find(o=>o.request.request_id===e);return n?(n.isCancelled=!0,!0):!1}canStartNewTask(){return!(this.isExecuting||this.tasks.length===0)}maybeExecute(){this.canStartNewTask()&&this.execute()}async execute(){const e=this.tasks.shift();if(e){if(this.isExecuting=!0,e.isCancelled){this.onTaskFailed(e,new Error("Cancelled"));return}try{const n=await this.sign(e.request);this.onTaskSucceeded(e,n)}catch(n){this.onTaskFailed(e,n)}}}onTaskSucceeded(e,n){e.resolve(n),this.onTaskFinished()}onTaskFailed(e,n){e.reject(n),this.onTaskFinished()}onTaskFinished(){this.isExecuting=!1,this.maybeExecute()}async sign(e){return(await fv(e.publicKey)).sign(e.data)}}function af(t){return{isSuccess:!1,error:t}}function lf(t){return{isSuccess:!0,result:t}}const Sw="keychain.sep";class bl{static listen(){fU.handle(Sw,(e,n,o)=>this.handle(n,o))}static async isAvailable(e="FULL_CHECK"){if(!Co)return!1;const n=Vr.getDeprecatedDeviceHasSepSupport();if(e==="SHALLOW_CHECK")return!!n;if(n!=null)return n;const o=await this.invoke("CHECK_SUPPORTED");return Vr.setDeprecatedDeviceHasSepSupport(o),o}static async generateNewKey(e){const n=await this.invoke("GENERATE",e);if(!n.isSuccess)throw new Error(n.error.message);return n.result}static async removeKey(e){const n=await this.invoke("REMOVE",e);if(!n.isSuccess)throw new Error(n.error.message);return n.result}static signData(e,n){const o=un();return{promise:this.invokeSignatureRequest({request_id:o,data:e,publicKey:n}),cancel:async()=>this.invoke("SIGN_CANCEL",o)}}static async checkKeyExists(e){return this.invoke("CHECK_KEY_EXISTS",e)}static async getAllKeys(){const e=await this.invoke("GET_ALL_KEYS");if(!e.isSuccess)throw new Error(e.error.message);return e.result}static async invokeSignatureRequest(e){const n=await this.invoke("SIGN",e);if(!n.isSuccess)throw new Error(n.error.message);return n.result}static invoke(e,n){return da.invoke(Sw,e,n)}static handle(e,n){switch(e){case"CHECK_SUPPORTED":return this.handleIsSupported();case"GENERATE":return this.handleGenerateNewKey(n);case"REMOVE":return this.handleRemoveKey(n);case"SIGN":return this.handleSignatureRequest(n);case"SIGN_CANCEL":return this.handleCancelSignatureRequest(n);case"CHECK_KEY_EXISTS":return this.handleCheckKeyExists(n);case"GET_ALL_KEYS":return this.handleGetAllKeys();default:throw new Error("API Misuse")}}static handleIsSupported(){return Uf.isSupported()}static async handleGenerateNewKey(e){try{const n=await Uf.generateNewKey({label:e});return lf(n.publicKey)}catch(n){return af(n)}}static async handleRemoveKey(e){try{const o=await(await fv(e)).remove();return lf(o)}catch(n){return af(n)}}static async handleSignatureRequest(e){try{const n=await this.signatureRequests.add(e);return lf(n)}catch(n){return af(n)}}static handleCancelSignatureRequest(e){return this.signatureRequests.cancel(e)}static async handleCheckKeyExists(e){try{return(await fv(e)).publicKey.length!==0}catch{return!1}}static async handleGetAllKeys(){try{const n=(await Uf.fetchAllKeys()).map(o=>({label:o.label,publicKey:o.publicKey}));return lf(n)}catch(e){return af(e)}}}E(bl,"signatureRequests",new Jne);async function eoe(t,e){if(!await bl.isAvailable("SHALLOW_CHECK"))throw new Error("Secure Enclave is not available");if(!await bl.checkKeyExists(t))throw new Error("Key not found");return bl.signData(e,t).promise}async function toe(t,e){return eoe(t,e)}const noe=60;function x5(t){return t==null?"":t.port==="22"?`${t.username}@${t.host}`:`${t.username}@[${t.host}]:${t.port}`}class ooe{constructor(e,n){E(this,"clients");E(this,"interruptibleWithPublickey");E(this,"agentStorage");E(this,"hostChainDepth");E(this,"hostOSDetector");this.sessionLogsDirectory=e,this.execAnalytics=n,this.clients=new Map,this.agentStorage=new mU,this.interruptibleWithPublickey=!1,this.hostChainDepth=0,this.hostOSDetector=new Ene(n)}setInterruptibleWithPublickey(e){this.interruptibleWithPublickey=e}async exec(e,n){var l,c;const{client:o,sessionInfo:r}=await this.getClientHelper(e),i=this.clients.has(e.id)&&pv(r),s=e.protocol==="mosh";if(i&&!s)throw(c=(l=e.delegate).onLogMessage)==null||c.call(l,"â— Disabled exec call due to a risk of session crash."),new PM;const{charset:a}=e.host.getMergedSshConfig();return Ug({ssh:o,command:n,charset:a,execAnalytics:this.execAnalytics,sessionInfo:r})}shell(e,n,o){this.getClient(e,r=>{var w;const{client:i,options:s,sessionInfo:a,config:l}=r,{charset:c,agent_forwarding:d}=e.host.getMergedSshConfig(),p=Ey(c),{sshKey:h}=l??{};if(h!=null&&s!=null&&d&&!one(h)){const{privateKey:x,publicKey:_,passphrase:I}=h;x!==""&&this.agentStorage.addKey({privateKey:x,password:I}),_!==""&&this.agentStorage.addKey({publicKey:_})}const{sessionLogData:m,sessionLogAnalytics:g}=e,C=m!=null?new A2.Writer(ky(m,g,this.sessionLogsDirectory,e.delegate.onSessionLogFinishedWriting)):void 0,v=new ht,S={next(x){o.onOutput(x)},complete(){o.onFinished()},error(){}};let y=v.subscribe(S);const b=(w=this.clients.get(e.id))==null?void 0:w.shellDetector;Ce(b!=null),i.shell({ptyOptions:n,readyCallback:async x=>{var M;const _=a!=null?{status:"received",softwareVersion:a.softwareVersion,protocolVersion:a.protocolVersion}:{status:"unknown"};if(o.onReady({getType:b,sendData:D=>x.sendData(Bd(D,c)),sendBinary:D=>x.sendData(D),sendSize:(...D)=>x.sendSize(...D),close:()=>i.close("session"),setupShellIntegration:async()=>{y.unsubscribe();const D=[],F=v.subscribe(j=>{D.push(j)});o.onShellIntegrationStatus({type:"started"});const z=await hoe(b,x,c,v);return o.onShellIntegrationStatus(z),z.type==="failed"&&await Er(Ry),F.unsubscribe(),S.next(D.join("")),y=v.subscribe(S),!1}},_),!((M=e.featureSet)!=null&&M.includes("ShellIntegration"))||pv(a)){o.onShellIntegrationStatus({type:"skipped"});return}const I=Gne(v),T=await b();if(!zM(T)){o.onShellIntegrationStatus({type:"skipped"});return}o.onShellIntegrationStatus({type:"started"});const A=await I;if(A.type==="failed"){o.onShellIntegrationStatus(A);return}const k=await kM(T.name);if(!k.success){o.onShellIntegrationStatus({type:"failed",reason:"unsupported shell"});return}x.sendData(Bd(` ${k.lines.join(`${Tt.CR} `)}${Tt.CR}`,c));const R=await f8(v.pipe(VM(WM),Mt(()=>({type:"succeeded"})),_y(3e3),Bg(D=>D instanceof Hg?Hl({type:"failed",reason:"response timeout"}):Hl({type:"failed",reason:"output stream broken"}))),{defaultValue:{type:"failed",reason:"output stream completed"}});o.onShellIntegrationStatus(R)},dataCallback:x=>{const _=p.write(x);C==null||C.append(Buffer.from(_)),v.next(_)},disconnectCallback:x=>{o.onExit(x)},finalizeCallback:()=>{v.complete(),C==null||C.end(),p.end()},agentOptions:{enable:d,storage:this.agentStorage,onSignCallback:(x,_,I,T)=>{toe(_,I).then(A=>{T(A)}).catch(A=>{T(Buffer.from(""))})}}})})}portForwarding(e,{type:n,...o},r){this.getClient(e,i=>{var l;const{client:s}=i;let a;switch(n){case"local":a=s.localPortForwarding;break;case"remote":a=s.remotePortForwarding;break;case"dynamic":a=s.dynamicPortForwarding;break;default:e.delegate.onError(`Unsupported type of port forwarding: ${n}`,e.displayLabel);return}a.call(s,{...o,bindAddress:((l=o.bindAddress)==null?void 0:l.trim())||"127.0.0.1",host:o.host.trim(),readyCallback(c){r.onStarted(new Fne(c,s))},disconnectCallback(){r.onStopped()},errorCallback:c=>{e.delegate.onError(c.message,e.displayLabel,c.libtermius_error_type,c.libtermius_error_code)}})})}fs(e,n){this.getClient(e,o=>{const{client:r,options:i}=o;r.sftp({readyCallback:s=>{const a=Wg(new qne(s));n.onReady({...a,end:()=>r.close("session")})},disconnectCallback:()=>{n.onFinished()},errorCallback:s=>{e.delegate.onError("SFTP Subsystem is not available",x5(i))}})})}async getClient(e,n){if(this.clients.get(e.id)){await this._getClient(e,n);return}const o=new Ine(this);try{this.hostChainDepth+=1;const r=await o.connect(e);this.hostChainDepth-=1,await this._getClient(r,n)}catch{this.hostChainDepth-=1}}async getClientHelper(e){return new Promise(n=>this.getClient(e,o=>n(o)))}async _getClient(e,n){var m;const o=e.delegate,r=e.id,i=this.clients.get(r);let s,a=i==null?void 0:i.client,l=!!e.host.os_name;if(a!=null){n({client:a,options:null,sessionInfo:i==null?void 0:i.info});return}const{signal:c}=e;let{host:d}=e,p;const h=[];try{for(;poe(d);)d=await o.askUserNecessaryFields(d).catch(()=>{throw new Error(ia)});const{identity:g,port:C,env_variables:v,charset:S}=d.getMergedSshConfig(),y=g.username.trim();if(!Iy(S)){o.onError(`Charset "${S}" is not supported`,x5({username:y,host:d.address.trim(),port:`${C}`}));return}const b=ioe(e),w=soe(e),x=rne(g),_=await MM(x,o);Yf(x)(_);const I=()=>{c.removeEventListener("abort",I);const R=this.clients.get(r);R!=null&&(p=ia,R.client.close(),this.clients.delete(r)),(fo.sk(x)||fo.windowsHello(x))&&gU(e.id)},T=One({excludeUnstablePQCKexMethods:(m=e.featureSet)==null?void 0:m.includes("ExcludeUnstablePQCKex")}),A={...roe(e),username:y,password:g.password,addressType:LM(d.ip_version),keys:[x],proxy:b,keepaliveInterval:e.keepaliveInterval??noe,environmentVariables:v,knownhosts:[...e.sshKnownHosts],knownhostAlias:w,overrideMethods:T,knownhostsCallback(R,M,D,F,z,j){o.hostVerifier({host:A.host,port:C},kne(R),M,D,F,H=>{H||(p=ia),j(H)})},connectCallback:async()=>{var R;if(c.removeEventListener("abort",I),a!=null&&(n({client:a,options:A,sessionInfo:s,config:{sshKey:x}}),!l&&e.isDetectOSEnabled&&!e.quick)){const M=(R=this.clients.get(e.id))==null?void 0:R.shellDetector,D=await(M==null?void 0:M());if(D==null){o.onHostOSDetected(null);return}const F=await this.hostOSDetector.getOS(D,a,S,s);o.onHostOSDetected(F)}},disconnectCallback:()=>{c.removeEventListener("abort",I),this.clients.delete(r),o.onDisconnect(p)},errorCallback:R=>{uoe(R)||(c.removeEventListener("abort",I),this.clients.delete(r),o.onError(R.message,x5(A),R.libtermius_error_type,R.libtermius_error_code,s==null?void 0:s.softwareVersion))},enableLogging:!0,loggingCallback:(R,M,D)=>{var F;(F=o.onLogMessage)==null||F.call(o,`${Ay(R,M)} ${D}`)},encodingCallback:R=>{try{return IM(R,S)}catch{return}},disconnectMessageCallback:(R,M,D)=>{},authInfoCallback:(R,M)=>{if(une(R,M,x)&&s!=null&&!fne(s)){const D=Sp(o),{softwareVersion:F}=jg(s.softwareVersion);D.warning(`Windows Hello keys require OpenSSH 8.2+, '${F}' was detected`)}},authInteractiveCallback:(R,M)=>{if(R.length===1&&R.includes("password")){o.requestAuthMethod(["password"],D=>M(D));return}if(R.length===1&&R.includes("keyboard-interactive")){M({method:"keyboard-interactive"});return}if(R.length===2&&R.includes("keyboard-interactive")&&R.includes("publickey")){this.setInterruptibleWithPublickey(!0),M({method:"keyboard-interactive"});return}if(R.length===1&&R.includes("publickey")){const D=Sp(o);dv({sshKey:x,callbacks:o,logger:D}).then(Yf(x)).then(()=>{if(fo.ssh(x)){M({method:"publickey",key:{privateKey:x.privateKey,passphrase:x.passphrase,publicKey:""}});return}const{publicKey:F,privateKey:z,passphrase:j}=x;M({method:"publickey",key:{publicKey:F,privateKey:z,passphrase:j}})});return}o.requestAuthMethod(R,(D,F)=>{if(D.method==="publickey"){const z=Sp(o);dv({sshKey:x,callbacks:o,logger:z,preselectedKey:F}).then(Yf(x)).then(()=>{if(fo.ssh(x)){M({method:"publickey",key:{privateKey:x.privateKey,passphrase:x.passphrase,publicKey:""}});return}const{publicKey:j,privateKey:H,passphrase:O}=x;M({method:"publickey",key:{publicKey:j,privateKey:H,passphrase:O}})})}else M(D)})},keyboardInteractiveCallback:doe({getPassword:()=>A.password,callbacks:o,getInterruptibleWithPublickey:()=>this.interruptibleWithPublickey,resetInterruptibleWithPublickey:()=>this.setInterruptibleWithPublickey(!1),getSshKey:()=>x,getConnection:()=>e}),authSignCallback:(R,M,D,F)=>{var j;const z=Sp(o);if(fo.sep(x)){z.user("Requesting Biometric key usage"),o.requestSignature(M,x.hardwareKey.storage,x.hardwareKey.credentialId,D).then(F).catch(H=>{z.warning(H.message),F(Buffer.from(""))});return}if(!fo.sk(x)){z.warning("Skipping a publickey authentication attempt");return}z.user("Requesting FIDO2 user presence"),o.requestSKPresence(!!((j=x.skKey.keyInfo)!=null&&j.isUserPresenceRequired)),vU({...x.skKey.keyInfo,pin:x.skKey.pin,data:D},{name:e.displayLabel,id:e.id},o.updateSKPresence).then(F)},showSessionInfo:!0,sessionInfoCallback:R=>{s=R;const M=this.clients.get(r);if(M!=null&&(M.info=R),!l&&!e.quick){const D=this.hostOSDetector.getOsFromSoftwareVersion(R.softwareVersion);D!=null&&(o.onHostOSDetected(D),l=!0)}}};c.addEventListener("abort",I),h.push(()=>{c.removeEventListener("abort",I)}),a=new yne;const k=a;this.clients.set(r,{client:a,info:s,shouldBeClosed:this.hostChainDepth===0,shellDetector:m8(async()=>mne(k,S,this.execAnalytics,s))}),a.connect(A)}catch(g){h.forEach(v=>v());const C=this.clients.get(r);C!=null&&(p=g.message,C.client.close())}}closeAllServices(){this.clients.forEach(e=>{e.shouldBeClosed&&e.client.close()}),this.clients.clear()}}function zM(t){return t!=null&&t.echoSupported&&["bash"].includes(t.name)}function roe({host:t,chainedHostOverrides:e}){const{proxy:n,port:o}=t.getMergedSshConfig();return n==null&&e!=null?{host:e.address,port:`${e.port}`}:{host:t.address.trim(),port:`${o}`}}function ioe({host:t,chainedHostOverrides:e}){var o;const{proxy:n}=t.getMergedSshConfig();return n?{host:(e==null?void 0:e.address)??n.hostname.trim(),port:`${(e==null?void 0:e.port)??n.port}`,type:n.type==="socks"?"socks5":n.type,username:n.identity&&((o=n.identity.username)==null?void 0:o.trim())||"",password:n.identity&&n.identity.password||""}:void 0}function soe({host:t}){return{host:t.address.trim(),port:`${t.getMergedSshConfig().port}`}}function aoe(t){return t.text.toLowerCase().includes("password")}function loe(t){return t.text.toLowerCase().includes("passphrase")}function coe(t){return t.text.trim()===""}const doe=t=>{const{getPassword:e,callbacks:n,getInterruptibleWithPublickey:o,resetInterruptibleWithPublickey:r,getSshKey:i}=t;let s=!1,a=!1;return(l,c,d,p)=>{const h=o();if(d.length===1){const C=e();if(aoe(d[0])){if(!s&&C){s=!0,p([{text:C,key:void 0}]);return}}else{if(loe(d[0])){n.requestPassphrase(v=>p([{text:v,key:void 0}]));return}if(coe(d[0])&&!a&&C){a=!0,p([{text:C,key:void 0}]);return}}}const m=C=>{var S;const v=(S=C.find(y=>y.key))==null?void 0:S.key;if(!v)p(C.map(({text:y})=>({text:String(y),key:void 0})));else{const y=i(),b=Sp(n);dv({sshKey:y,callbacks:n,preselectedKey:v,logger:b}).then(Yf(y)).then(()=>{if(fo.ssh(y)){p([{key:{privateKey:y.privateKey,passphrase:y.passphrase,publicKey:""},text:void 0}]);return}const{publicKey:w,privateKey:x,passphrase:_}=y;p([{key:{publicKey:w,privateKey:x,passphrase:_},text:void 0}])})}},g=()=>{n.onDisconnect(ia)};r(),n.requestKeyboardInteractive(l,c,h,d.map(({text:C,echo:v})=>({prompt:C,echo:v})),m,g)}};function uoe(t){const e=["channel open failure","unable to complete request for channel-process-startup"],n=t.message.toLowerCase();return e.some(o=>n.includes(o))}function Sp(t){return new TM(e=>t.onLogMessage(e))}function poe(t){const{identity:e}=t.getMergedSshConfig();return!t.address.trim()||!e.username.trim()}function VM(t){const e=new Jte(t,He);let n=0;return C2(o=>{e.push(o);const r=e.matches,i=r-n;return n=r,i!==0?Hl(!0):CU})}const WM="\x1B]4545;B";async function hoe(t,e,n,o){const r=await t();if(!zM(r))return{type:"failed",reason:"unsupported shell"};const i=await kM(r.name);if(!i.success)return{type:"failed",reason:"unsupported shell"};const s=` ${i.lines.join(`${Tt.CR} `)}${Tt.CR}`;return e.sendData(Bd(s,n)),f8(o.pipe(VM(WM),Mt(()=>({type:"succeeded"})),tte(500),_y(3e3),Bg(a=>a instanceof Hg?Hl({type:"failed",reason:"response timeout"}):Hl({type:"failed",reason:"output stream broken"}))),{defaultValue:{type:"failed",reason:"output stream completed"}})}class foe{constructor(e){E(this,"clients");this.sessionLogsDirectory=e,this.clients=new Set}shell(e,n,o){const{host:r,signal:i,sessionLogData:s,sessionLogAnalytics:a}=e,{identity:l,port:c,charset:d}=r.getMergedTelnetConfig(),{username:p,password:h}=l,m=e.delegate;if(!Iy(d)){e.delegate.onError(`Charset "${d}" is not supported`,e.displayLabel);return}const g=new yU;this.clients.add(g);const C=Ey(d);let v;const S=()=>{i.removeEventListener("abort",S),v=ia,g.close()};i.addEventListener("abort",S);const y=s!=null?new A2.Writer(ky(s,a,this.sessionLogsDirectory,e.delegate.onSessionLogFinishedWriting)):void 0;g.connect({username:p.trim(),password:h,host:r.address.trim(),port:c,addressType:LM(r.ip_version),ptyOptions:n,connectCallback:()=>{i.removeEventListener("abort",S),o.onReady({getType:async()=>{},sendData(b){g.send(Bd(b,d))},sendBinary(b){g.send(b)},sendSize(b,w){g.resize(b,w)},close(){g.close()},async setupShellIntegration(){return!1}},{status:"unknown"}),o.onShellIntegrationStatus({type:"skipped"})},dataCallback:b=>{y==null||y.append(b),o.onOutput(C.write(b))},errorCallback:b=>{y==null||y.end(),C.end(),i.removeEventListener("abort",S),e.delegate.onError(b.message,e.displayLabel,b.libtermius_error_type,b.libtermius_error_code),this.clients.delete(g)},disconnectCallback:()=>{y==null||y.end(),C.end(),o.onFinished(),m.onDisconnect(v),this.clients.delete(g)},enableLogging:!0,loggingCallback:(b,w,x)=>{var _;(_=m.onLogMessage)==null||_.call(m,`${Ay(b,w)} ${x}`)}})}closeAllServices(){this.clients.forEach(e=>e.close()),this.clients.clear()}}class moe{constructor(e,n){E(this,"ssh");E(this,"mosh");E(this,"telnet");E(this,"sessionLogs");E(this,"serial");this.ssh=new ooe(e,n),this.mosh=new Ite(this),this.telnet=new foe(e),this.sessionLogs=new Kte(e),this.serial=new qte(e)}exec(e,n){return this.ssh.exec(e,n)}shell(e,n,o){return Ce(e.protocol,"Protocol for the connection must be defined"),Ce(e.protocol!=="local"&&e.protocol!=="stream",`"${e.protocol}" protocol is not supported by this provider`),this._selectShellProvider(e.protocol).shell(e,n,o)}portForwarding(e,n,o){return this.ssh.portForwarding(e,n,o)}fs(e,n){return this.ssh.fs(e,n)}closeAllServices(){this.ssh.closeAllServices(),this.mosh.closeAllServices(),this.telnet.closeAllServices()}_selectShellProvider(e){switch(e){case"ssh":return this.ssh;case"mosh":return this.mosh;case"telnet":return this.telnet;case"session-log":return this.sessionLogs;case"serial":return this.serial;default:throw new Error("unknown shell protocol")}}}function cf(t){const e=t;if(e.keepaliveInterval==null){const n=String(Vr.getKeepAliveInterval()),o=Number.parseInt(n,10);o>=0&&(e.keepaliveInterval=o)}return e}class jM{constructor(e){E(this,"serviceProvider");this.serviceProvider=e}exec(e,n){return this.serviceProvider.exec(cf(e),n)}shell(e,n,o){return this.serviceProvider.shell(cf(e),n,o)}portForwarding(e,n,o){return this.serviceProvider.portForwarding(cf(e),n,o)}fs(e,n){return this.serviceProvider.fs(cf(e),n)}closeAllServices(){this.serviceProvider.closeAllServices()}}const y1=new jM(new moe(wte(g8),new xte(da)));class goe{constructor(){E(this,"connectionControllerMap",new Map)}set(e,n){this.connectionControllerMap.set(e,n)}get(e){if(e!=null){if(typeof e=="string")return this.connectionControllerMap.get(e);if("connectionId"in e){for(const n of this.connectionControllerMap.values())if(n.connection.id===e.connectionId)return n}if("terminalId"in e)return this.connectionControllerMap.get(e.terminalId)}}delete(e){return this.connectionControllerMap.delete(e)}has(e){return this.connectionControllerMap.has(e)}clear(){this.connectionControllerMap.clear()}entries(){return this.connectionControllerMap.entries()}keys(){return this.connectionControllerMap.keys()}values(){return this.connectionControllerMap.values()}get size(){return this.connectionControllerMap.size}}function voe(t){return function(...e){var n=e.pop();return t.call(this,e,n)}}var Coe=typeof queueMicrotask=="function"&&queueMicrotask,UM=typeof setImmediate=="function"&&setImmediate,$M=typeof process=="object"&&typeof process.nextTick=="function";function yoe(t){setTimeout(t,0)}function Soe(t){return(e,...n)=>t(()=>e(...n))}var bp;Coe?bp=queueMicrotask:UM?bp=setImmediate:$M?bp=process.nextTick:bp=yoe;var Op=Soe(bp);function boe(t){return Ly(t)?function(...e){const n=e.pop(),o=t.apply(this,e);return bw(o,n)}:voe(function(e,n){var o;try{o=t.apply(this,e)}catch(r){return n(r)}if(o&&typeof o.then=="function")return bw(o,n);n(null,o)})}function bw(t,e){return t.then(n=>{ww(e,null,n)},n=>{ww(e,n&&n.message?n:new Error(n))})}function ww(t,e,n){try{t(e,n)}catch(o){Op(r=>{throw r},o)}}function Ly(t){return t[Symbol.toStringTag]==="AsyncFunction"}function woe(t){return t[Symbol.toStringTag]==="AsyncGenerator"}function _oe(t){return typeof t[Symbol.asyncIterator]=="function"}function Ot(t){if(typeof t!="function")throw new Error("expected a function");return Ly(t)?boe(t):t}function nt(t,e=t.length){if(!e)throw new Error("arity is undefined");function n(...o){return typeof o[e-1]=="function"?t.apply(this,o):new Promise((r,i)=>{o[e-1]=(s,...a)=>{if(s)return i(s);r(a.length>1?a:a[0])},t.apply(this,o)})}return n}function My(t,e,n,o){e=e||[];var r=[],i=0,s=Ot(n);return t(e,(a,l,c)=>{var d=i++;s(a,(p,h)=>{r[d]=h,c(p)})},a=>{o(a,r)})}function $g(t){return t&&typeof t.length=="number"&&t.length>=0&&t.length%1===0}const qg={};function Ru(t){function e(...n){if(t!==null){var o=t;t=null,o.apply(this,n)}}return Object.assign(e,t),e}function xoe(t){return t[Symbol.iterator]&&t[Symbol.iterator]()}function Aoe(t){var e=-1,n=t.length;return function(){return++e<n?{value:t[e],key:e}:null}}function Toe(t){var e=-1;return function(){var o=t.next();return o.done?null:(e++,{value:o.value,key:e})}}function Ioe(t){var e=t?Object.keys(t):[],n=-1,o=e.length;return function r(){var i=e[++n];return i==="__proto__"?r():n<o?{value:t[i],key:i}:null}}function Eoe(t){if($g(t))return Aoe(t);var e=xoe(t);return e?Toe(e):Ioe(t)}function Ac(t){return function(...e){if(t===null)throw new Error("Callback was already called.");var n=t;t=null,n.apply(this,e)}}function _w(t,e,n,o){let r=!1,i=!1,s=!1,a=0,l=0;function c(){a>=e||s||r||(s=!0,t.next().then(({value:h,done:m})=>{if(!(i||r)){if(s=!1,m){r=!0,a<=0&&o(null);return}a++,n(h,l,d),l++,c()}}).catch(p))}function d(h,m){if(a-=1,!i){if(h)return p(h);if(h===!1){r=!0,i=!0;return}if(m===qg||r&&a<=0)return r=!0,o(null);c()}}function p(h){i||(s=!1,r=!0,o(h))}c()}var Di=t=>(e,n,o)=>{if(o=Ru(o),t<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!e)return o(null);if(woe(e))return _w(e,t,n,o);if(_oe(e))return _w(e[Symbol.asyncIterator](),t,n,o);var r=Eoe(e),i=!1,s=!1,a=0,l=!1;function c(p,h){if(!s)if(a-=1,p)i=!0,o(p);else if(p===!1)i=!0,s=!0;else{if(h===qg||i&&a<=0)return i=!0,o(null);l||d()}}function d(){for(l=!0;a<t&&!i;){var p=r();if(p===null){i=!0,a<=0&&o(null);return}a+=1,n(p.value,p.key,Ac(c))}l=!1}d()};function koe(t,e,n,o){return Di(e)(t,Ot(n),o)}var qM=nt(koe,4);function Roe(t,e,n){n=Ru(n);var o=0,r=0,{length:i}=t,s=!1;i===0&&n(null);function a(l,c){l===!1&&(s=!0),s!==!0&&(l?n(l):(++r===i||c===qg)&&n(null))}for(;o<i;o++)e(t[o],o,Ac(a))}function Poe(t,e,n){return qM(t,1/0,e,n)}function Loe(t,e,n){var o=$g(t)?Roe:Poe;return o(t,Ot(e),n)}var Tc=nt(Loe,3);function Moe(t,e,n){return My(Tc,t,e,n)}var Ooe=nt(Moe,3);function Doe(t,e,n){return qM(t,1,e,n)}var Pu=nt(Doe,3);function Foe(t,e,n){return My(Pu,t,e,n)}nt(Foe,3);class Noe{constructor(){this.head=this.tail=null,this.length=0}removeLink(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e}empty(){for(;this.head;)this.shift();return this}insertAfter(e,n){n.prev=e,n.next=e.next,e.next?e.next.prev=n:this.tail=n,e.next=n,this.length+=1}insertBefore(e,n){n.prev=e.prev,n.next=e,e.prev?e.prev.next=n:this.head=n,e.prev=n,this.length+=1}unshift(e){this.head?this.insertBefore(this.head,e):xw(this,e)}push(e){this.tail?this.insertAfter(this.tail,e):xw(this,e)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var e=this.head;e;)yield e.data,e=e.next}remove(e){for(var n=this.head;n;){var{next:o}=n;e(n)&&this.removeLink(n),n=o}return this}}function xw(t,e){t.length=1,t.head=t.tail=e}function Hoe(t,e,n){if(e==null)e=1;else if(e===0)throw new RangeError("Concurrency must not be zero");var o=Ot(t),r=0,i=[];const s={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function a(y,b){s[y].push(b)}function l(y,b){const w=(...x)=>{c(y,w),b(...x)};s[y].push(w)}function c(y,b){if(!y)return Object.keys(s).forEach(w=>s[w]=[]);if(!b)return s[y]=[];s[y]=s[y].filter(w=>w!==b)}function d(y,...b){s[y].forEach(w=>w(...b))}var p=!1;function h(y,b,w,x){if(x!=null&&typeof x!="function")throw new Error("task callback must be a function");S.started=!0;var _,I;function T(k,...R){if(k)return w?I(k):_();if(R.length<=1)return _(R[0]);_(R)}var A={data:y,callback:w?T:x||T};if(b?S._tasks.unshift(A):S._tasks.push(A),p||(p=!0,Op(()=>{p=!1,S.process()})),w||!x)return new Promise((k,R)=>{_=k,I=R})}function m(y){return function(b,...w){r-=1;for(var x=0,_=y.length;x<_;x++){var I=y[x],T=i.indexOf(I);T===0?i.shift():T>0&&i.splice(T,1),I.callback(b,...w),b!=null&&d("error",b,I.data)}r<=S.concurrency-S.buffer&&d("unsaturated"),S.idle()&&d("drain"),S.process()}}function g(y){return y.length===0&&S.idle()?(Op(()=>d("drain")),!0):!1}const C=y=>b=>{if(!b)return new Promise((w,x)=>{l(y,(_,I)=>{if(_)return x(_);w(I)})});c(y),a(y,b)};var v=!1,S={_tasks:new Noe,*[Symbol.iterator](){yield*S._tasks[Symbol.iterator]()},concurrency:e,payload:n,buffer:e/4,started:!1,paused:!1,push(y,b){return Array.isArray(y)?g(y)?void 0:y.map(w=>h(w,!1,!1,b)):h(y,!1,!1,b)},pushAsync(y,b){return Array.isArray(y)?g(y)?void 0:y.map(w=>h(w,!1,!0,b)):h(y,!1,!0,b)},kill(){c(),S._tasks.empty()},unshift(y,b){return Array.isArray(y)?g(y)?void 0:y.map(w=>h(w,!0,!1,b)):h(y,!0,!1,b)},unshiftAsync(y,b){return Array.isArray(y)?g(y)?void 0:y.map(w=>h(w,!0,!0,b)):h(y,!0,!0,b)},remove(y){S._tasks.remove(y)},process(){if(!v){for(v=!0;!S.paused&&r<S.concurrency&&S._tasks.length;){var y=[],b=[],w=S._tasks.length;S.payload&&(w=Math.min(w,S.payload));for(var x=0;x<w;x++){var _=S._tasks.shift();y.push(_),i.push(_),b.push(_.data)}r+=1,S._tasks.length===0&&d("empty"),r===S.concurrency&&d("saturated");var I=Ac(m(y));o(b,I)}v=!1}},length(){return S._tasks.length},running(){return r},workersList(){return i},idle(){return S._tasks.length+r===0},pause(){S.paused=!0},resume(){S.paused!==!1&&(S.paused=!1,Op(S.process))}};return Object.defineProperties(S,{saturated:{writable:!1,value:C("saturated")},unsaturated:{writable:!1,value:C("unsaturated")},empty:{writable:!1,value:C("empty")},drain:{writable:!1,value:C("drain")},error:{writable:!1,value:C("error")}}),S}function Boe(t,e,n,o){o=Ru(o);var r=Ot(n);return Pu(t,(i,s,a)=>{r(e,i,(l,c)=>{e=c,a(l)})},i=>o(i,e))}nt(Boe,4);function zoe(t,e,n,o){return My(Di(e),t,n,o)}var GM=nt(zoe,4);function Voe(t,e,n,o){var r=Ot(n);return GM(t,e,(i,s)=>{r(i,(a,...l)=>a?s(a):s(a,l))},(i,s)=>{for(var a=[],l=0;l<s.length;l++)s[l]&&(a=a.concat(...s[l]));return o(i,a)})}var KM=nt(Voe,4);function Woe(t,e,n){return KM(t,1/0,e,n)}nt(Woe,3);function joe(t,e,n){return KM(t,1,e,n)}nt(joe,3);function ks(t,e){return(n,o,r,i)=>{var s=!1,a;const l=Ot(r);n(o,(c,d,p)=>{l(c,(h,m)=>{if(h||h===!1)return p(h);if(t(m)&&!a)return s=!0,a=e(!0,c),p(null,qg);p()})},c=>{if(c)return i(c);i(null,s?a:e(!1))})}}function Uoe(t,e,n){return ks(o=>o,(o,r)=>r)(Tc,t,e,n)}nt(Uoe,3);function $oe(t,e,n,o){return ks(r=>r,(r,i)=>i)(Di(e),t,n,o)}nt($oe,4);function qoe(t,e,n){return ks(o=>o,(o,r)=>r)(Di(1),t,e,n)}nt(qoe,3);function Goe(t,e,n){n=Ac(n);var o=Ot(t),r=Ot(e),i;function s(l,...c){if(l)return n(l);l!==!1&&(i=c,r(...c,a))}function a(l,c){if(l)return n(l);if(l!==!1){if(!c)return n(null,...i);o(s)}}return a(null,!0)}nt(Goe,3);function ZM(t){return(e,n,o)=>t(e,o)}function Koe(t,e,n){return Tc(t,ZM(Ot(e)),n)}nt(Koe,3);function Zoe(t,e,n,o){return Di(e)(t,ZM(Ot(n)),o)}var Qoe=nt(Zoe,4);function Yoe(t,e,n){return Qoe(t,1,e,n)}var Xoe=nt(Yoe,3);function Joe(t){return Ly(t)?t:function(...e){var n=e.pop(),o=!0;e.push((...r)=>{o?Op(()=>n(...r)):n(...r)}),t.apply(this,e),o=!1}}function ere(t,e,n){return ks(o=>!o,o=>!o)(Tc,t,e,n)}nt(ere,3);function tre(t,e,n,o){return ks(r=>!r,r=>!r)(Di(e),t,n,o)}nt(tre,4);function nre(t,e,n){return ks(o=>!o,o=>!o)(Pu,t,e,n)}nt(nre,3);function ore(t,e,n,o){var r=new Array(e.length);t(e,(i,s,a)=>{n(i,(l,c)=>{r[s]=!!c,a(l)})},i=>{if(i)return o(i);for(var s=[],a=0;a<e.length;a++)r[a]&&s.push(e[a]);o(null,s)})}function rre(t,e,n,o){var r=[];t(e,(i,s,a)=>{n(i,(l,c)=>{if(l)return a(l);c&&r.push({index:s,value:i}),a(l)})},i=>{if(i)return o(i);o(null,r.sort((s,a)=>s.index-a.index).map(s=>s.value))})}function Gg(t,e,n,o){var r=$g(e)?ore:rre;return r(t,e,Ot(n),o)}function ire(t,e,n){return Gg(Tc,t,e,n)}nt(ire,3);function sre(t,e,n,o){return Gg(Di(e),t,n,o)}nt(sre,4);function are(t,e,n){return Gg(Pu,t,e,n)}nt(are,3);function lre(t,e){var n=Ac(e),o=Ot(Joe(t));function r(i){if(i)return n(i);i!==!1&&o(r)}return r()}nt(lre,2);function cre(t,e,n,o){var r=Ot(n);return GM(t,e,(i,s)=>{r(i,(a,l)=>a?s(a):s(a,{key:l,val:i}))},(i,s)=>{for(var a={},{hasOwnProperty:l}=Object.prototype,c=0;c<s.length;c++)if(s[c]){var{key:d}=s[c],{val:p}=s[c];l.call(a,d)?a[d].push(p):a[d]=[p]}return o(i,a)})}nt(cre,4);function dre(t,e,n,o){o=Ru(o);var r={},i=Ot(n);return Di(e)(t,(s,a,l)=>{i(s,a,(c,d)=>{if(c)return l(c);r[a]=d,l(c)})},s=>o(s,r))}nt(dre,4);$M?process.nextTick:UM&&setImmediate;nt((t,e,n)=>{var o=$g(e)?[]:{};t(e,(r,i,s)=>{Ot(r)((a,...l)=>{l.length<2&&([l]=l),o[i]=l,s(a)})},r=>n(r,o))},3);function Oy(t,e){var n=Ot(t);return Hoe((o,r)=>{n(o[0],r)},e,1)}function ure(t,e){if(e=Ru(e),!Array.isArray(t))return e(new TypeError("First argument to race must be an array of functions"));if(!t.length)return e();for(var n=0,o=t.length;n<o;n++)Ot(t[n])(e)}nt(ure,2);function Dy(t,e,n,o){const r=Ot(n);return Gg(t,e,(i,s)=>{r(i,(a,l)=>{s(a,!l)})},o)}function pre(t,e,n){return Dy(Tc,t,e,n)}nt(pre,3);function hre(t,e,n,o){return Dy(Di(e),t,n,o)}nt(hre,4);function fre(t,e,n){return Dy(Pu,t,e,n)}nt(fre,3);function mre(t,e,n){return ks(Boolean,o=>o)(Tc,t,e,n)}nt(mre,3);function gre(t,e,n,o){return ks(Boolean,r=>r)(Di(e),t,n,o)}nt(gre,4);function vre(t,e,n){return ks(Boolean,o=>o)(Pu,t,e,n)}nt(vre,3);function Cre(t,e,n){var o=Ot(e);return Ooe(t,(i,s)=>{o(i,(a,l)=>{if(a)return s(a);s(a,{value:i,criteria:l})})},(i,s)=>{if(i)return n(i);n(null,s.sort(r).map(a=>a.value))});function r(i,s){var a=i.criteria,l=s.criteria;return a<l?-1:a>l?1:0}}nt(Cre,3);function yre(t,e){var n=null,o;return Xoe(t,(r,i)=>{Ot(r)((s,...a)=>{if(s===!1)return i(s);a.length<2?[o]=a:o=a,n=s,i(s?null:{})})},()=>e(n,o))}nt(yre);function Sre(t,e,n){n=Ac(n);var o=Ot(e),r=Ot(t),i=[];function s(l,...c){if(l)return n(l);i=c,l!==!1&&r(a)}function a(l,c){if(l)return n(l);if(l!==!1){if(!c)return n(null,...i);o(s)}}return r(a)}nt(Sre,3);function bre(t,e){if(e=Ru(e),!Array.isArray(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var n=0;function o(i){var s=Ot(t[n++]);s(...i,Ac(r))}function r(i,...s){if(i!==!1){if(i||n===t.length)return e(i,...s);o(s)}}o([])}nt(bre);const Xf="hostPeerId should be always defined for participant to be able to connect to the host",wre="SenderId should be defined for multiplayer messages. Check that MultiplayerApiInstance is initiated, before generating message metadata.",_re="Peer details should be defined for this stage. If not, there is a logic error or corner case.",xre=new TextDecoder("utf-8");class Aw{constructor(){E(this,"startedAt",Date.now());E(this,"uniqueViewers",[]);E(this,"peakViewers",0);E(this,"receivedCommands",0);E(this,"currentViewers",0)}addViewer(e,n){this.currentViewers+=1,this.uniqueViewers.includes(e)||this.uniqueViewers.push(e),n>this.peakViewers&&(this.peakViewers=n)}removeViewer(){this.currentViewers-=1}increaseReceiverCommands(e){let n;typeof e=="string"?n=e:n=xre.decode(e);const o=(n.match(/[\r\n]+/g)||[]).length;this.receivedCommands+=o}getSessionDuration(){return Math.floor((Date.now()-this.startedAt)/1e3)}getReceivedCommands(){return this.receivedCommands}getPeakViewers(){return this.peakViewers}getTotalViewers(){return this.uniqueViewers.length}getCurrentViewers(){return this.currentViewers}getAllStats(){return{duration:this.getSessionDuration(),totalViewers:this.getTotalViewers(),receivedCommands:this.getReceivedCommands(),peakViewers:this.getPeakViewers()}}}class Are{execute(e,n,o){const{peerIdFromProtocol:r}=o,i=n.metadata.senderId===e.controlOwnerId&&n.metadata.peerId===r;e.currentUserRole==="host"&&(!i||n.metadata.senderId===e.participantId)||this.executeSecure(e,n,o)}}class Tre{execute(e,n){e.connectionEvents.onControlRequested.next({participantId:n.metadata.senderId,requestId:n.requestId})}}class Ire{execute(e,n){e.connectionEvents.onControlRequestCancelled.next({participantId:n.metadata.senderId,requestId:n.requestId})}}class Ere{execute(e,n){n.metadata.senderId!==e.participantId&&(n.status==="accepted"?e.connectionEvents.onControlRequestAccepted.next({requestId:n.requestId}):n.status==="rejected"&&e.connectionEvents.onControlRequestsRejected.next({authorOfReject:n.metadata.senderId}))}}class kre{execute(e,n,o){const{senderHasControlPermissions:r}=o;!r||n.metadata.senderId===e.participantId||e.connectionEvents.onTerminalData.next({data:x2.Buffer.from(n.content),dataPrintAllowed:r,senderId:n.metadata.senderId,isInitTerminalData:!1})}}class Rre{execute(e,n){e.connectionEvents.onTerminalData.next({data:x2.Buffer.from(n.content),dataPrintAllowed:!0,senderId:n.metadata.senderId,isInitTerminalData:!1})}}class Pre{execute(e,n){e.connectionEvents.onTerminalData.next({data:x2.Buffer.from(n.content),dataPrintAllowed:!0,senderId:n.metadata.senderId,isInitTerminalData:!0})}}class Lre extends Are{constructor(){super(...arguments);E(this,"handleGrantAction",(n,o)=>{n.connectionEvents.onControlRequestsRejected.next({}),n.connectionEvents.onControlGranted.next({participantId:o.controlOwner});const r=n;r.controlOwnerId=o.controlOwner});E(this,"handleRefuseAction",n=>{n.connectionEvents.onControlRequestsRejected.next({})});E(this,"handleTakeAction",(n,o,r)=>{n.connectionEvents.onControlRequestsRejected.next({}),n.connectionEvents.onControlGranted.next({participantId:o.controlOwner}),n.connectionEvents.onControlTaken.next({previousControlOwnerId:r});const i=n;i.controlOwnerId=o.controlOwner});E(this,"actionHandlers",new Map([["grant",this.handleGrantAction],["refuse",this.handleRefuseAction],["take",this.handleTakeAction]]))}executeSecure(n,o){const r=n.controlOwnerId,i=this.actionHandlers.get(o.action);i==null||i(n,o,r)}}class Mre{execute(e,n){e.connectionEvents.onParticipantJoined.next({peerId:n.metadata.peerId,userId:n.userId,participantId:n.metadata.senderId,isHost:n.metadata.peerId===e.hostPeerId,username:n.username,isControlOwner:!1})}}class Ore{execute(e,n){e.connectionEvents.onParticipantLeft.next({participantId:n.metadata.senderId})}}class Dre{execute(e,n){e.connectionEvents.onSessionStateUpdate.next({peers:n.peers})}}class Fre{execute(e){e.connectionEvents.onCloseConnection.next({})}}class Nre{execute(e,n){e.connectionEvents.onHostSettings.next(n.settings)}}class Hre{execute(){}}function Bre(t={}){const{forceProd:e=!1}=t;return"https://api.termius.com"}const zre=ek("SIGNALING_TOKEN"),Vre=ek("SIGNALING_CONFIGURATION");function*Wre(t){let e,n;return t!=null&&t.stream?(e=t.stream.config,n=t.stream.password):(e=yield*Ws(Vre),n=yield*Ws(zre)),{rtcConfig:e,token:n}}function jre(t){const n=Bre({forceProd:!0}).replace("https://","");return{token:t.token,host:n,path:"signaling",secure:!0,port:443,config:t,id:t.peerId}}const Ure=t=>{const{connection:e,role:n,terminalTitle:o,config:r,token:i,peerId:s}=t,a={terminalTitle:o||e.host.label,connectionId:e.id};return{role:n,peerOptions:jre({...r,token:i,peerId:s}),dataChannelEventHandlers:t.handlers,inviteLinkOptions:a}};var QM={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(n=!1));function r(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function i(l,c,d,p,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new r(d,p||l,h),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new o:delete l._events[c]}function a(){this._events=new o,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,p;if(this._eventsCount===0)return c;for(p in d=this._events)e.call(d,p)&&c.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var h=0,m=p.length,g=new Array(m);h<m;h++)g[h]=p[h].fn;return g},a.prototype.listenerCount=function(c){var d=n?n+c:c,p=this._events[d];return p?p.fn?1:p.length:0},a.prototype.emit=function(c,d,p,h,m,g){var C=n?n+c:c;if(!this._events[C])return!1;var v=this._events[C],S=arguments.length,y,b;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),S){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,p),!0;case 4:return v.fn.call(v.context,d,p,h),!0;case 5:return v.fn.call(v.context,d,p,h,m),!0;case 6:return v.fn.call(v.context,d,p,h,m,g),!0}for(b=1,y=new Array(S-1);b<S;b++)y[b-1]=arguments[b];v.fn.apply(v.context,y)}else{var w=v.length,x;for(b=0;b<w;b++)switch(v[b].once&&this.removeListener(c,v[b].fn,void 0,!0),S){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,d);break;case 3:v[b].fn.call(v[b].context,d,p);break;case 4:v[b].fn.call(v[b].context,d,p,h);break;default:if(!y)for(x=1,y=new Array(S-1);x<S;x++)y[x-1]=arguments[x];v[b].fn.apply(v[b].context,y)}}return!0},a.prototype.on=function(c,d,p){return i(this,c,d,p,!1)},a.prototype.once=function(c,d,p){return i(this,c,d,p,!0)},a.prototype.removeListener=function(c,d,p,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!p||g.context===p)&&s(this,m);else{for(var C=0,v=[],S=g.length;C<S;C++)(g[C].fn!==d||h&&!g[C].once||p&&g[C].context!==p)&&v.push(g[C]);v.length?this._events[m]=v.length===1?v[0]:v:s(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(QM);var $re=QM.exports;const Fy=wt($re);class qre{constructor(){E(this,"internalEventBus");E(this,"onControlRequested");E(this,"onControlRequestCancelled");E(this,"onControlRequestAccepted");E(this,"onControlRequestsRejected");E(this,"onParticipantJoined");E(this,"onParticipantLeft");E(this,"onCloseConnection");E(this,"onControlGranted");E(this,"onTerminalData");E(this,"onControlTaken");E(this,"onHostSettings");E(this,"onSessionStateUpdate");this.internalEventBus=new Fy,this.onControlRequested=new ht,this.onControlRequestCancelled=new ht,this.onControlRequestAccepted=new ht,this.onControlRequestsRejected=new ht,this.onParticipantJoined=new ht,this.onParticipantLeft=new ht,this.onCloseConnection=new ht,this.onControlGranted=new ht,this.onTerminalData=new ht,this.onControlTaken=new ht,this.onHostSettings=new ht,this.onSessionStateUpdate=new ht}}class Gre{constructor(e,n){E(this,"id");E(this,"multiplayerProtocol");E(this,"hostPeerId");E(this,"participantId",un());E(this,"stats",new Aw);E(this,"peerId");E(this,"controlOwnerId");E(this,"controlOwnerPeerId");E(this,"currentUserRole");E(this,"connectionEvents");E(this,"terminalConnectionId");E(this,"commandRegistry",new Map);E(this,"isEnvironmentInitiatedToProcessMessages",!1);E(this,"eventsQueue");E(this,"getContext",()=>({participantId:this.participantId,controlOwnerId:this.controlOwnerId,isHost:this.currentUserRole==="host",hostPeerId:this.hostPeerId,controlOwnerPeerId:this.controlOwnerPeerId}));E(this,"handleIncomingMessage",e=>{if(!this.isEnvironmentInitiatedToProcessMessages){this.eventsQueue.push(e);return}this.maybeRetranslateMessage(e.message),this.processProtocolEvent(e)});E(this,"maybeRetranslateMessage",e=>{this.currentUserRole==="host"&&this.connectionEvents.internalEventBus.emit("retranslateMessage",e)});this.id=e,this.multiplayerProtocol=n,this.connectionEvents=new qre,this.terminalConnectionId=void 0,this.resetInstance(),this.eventsQueue=Oy(async o=>{this.handleIncomingMessage(o)},1),this.eventsQueue.pause(),this.initCommandRegistry()}activate(){this.isEnvironmentInitiatedToProcessMessages=!0,this.eventsQueue.resume()}isMultiplayerSessionActive(){return!!this.hostPeerId}dispose(){this.connectionEvents.onCloseConnection.next({}),this.resetInstance()}resetInstance(){this.participantId=un(),this.currentUserRole=void 0,this.hostPeerId=void 0,this.peerId=void 0,this.controlOwnerId=void 0,this.controlOwnerPeerId=void 0,this.stats=new Aw,this.isEnvironmentInitiatedToProcessMessages=!1}setControlOwner({peerId:e,participantId:n}){this.controlOwnerId=n,this.controlOwnerPeerId=e}async startMultiplayerConnection(e){const{handlers:n,connection:o,role:r,userAccountId:i,username:s}=e,{stream:a,id:l,host:c}=o,d=await this.initializePeer(e);if(this.currentUserRole=r,r==="participant"){Ce(a==null?void 0:a.peerId,Xf);const p=a.terminalTitle??e.terminalTitle??c.label;this.connectToHost({peerId:d,stream:a,connectionId:l,handlers:n,terminalTitle:p,userAccountId:i,username:s}),this.hostPeerId=a.peerId}else this.hostPeerId=d,this.setControlOwner({peerId:d,participantId:this.participantId});return this.peerId=d,d}createConnectionHandlers(e,n){return{onOpen:async o=>{var i;let r;this.currentUserRole==="host"?r=o.peer:(Ce(n==null?void 0:n.peerId,Xf),r=n.peerId),(i=e.onOpen)==null||i.call(e,o,r)},onData:(o,r)=>{var i;this.handleIncomingMessage({message:o,senderHasControlPermissions:o.metadata.senderId===this.controlOwnerId,peerIdFromProtocol:r.peer}),(i=e.onData)==null||i.call(e,o,r)},onClose:o=>{var r;this.hostPeerId&&(this.connectionEvents.internalEventBus.emit("userDisconnected",{participantId:o.metadata.participantId,userId:o.metadata.userId}),(r=e.onClose)==null||r.call(e,o))},onError:(o,r)=>{var i;this.dispose(),(i=e.onError)==null||i.call(e,o,r)}}}initializePeer(e){var r;const n=this.createConnectionHandlers(e.handlers,(r=e.connection)==null?void 0:r.stream),o=Ure({...e,peerId:this.peerId,handlers:n});return this.multiplayerProtocol.addPeer(o)}connectToHost({peerId:e,stream:n,connectionId:o,handlers:r,terminalTitle:i,userAccountId:s,username:a}){Ce(n.peerId,Xf);const l={participantId:this.participantId,userId:s,username:a},c=this.createConnectionHandlers(r,n);this.multiplayerProtocol.connectToHost({hostPeerId:n.peerId,participantPeerId:e,password:n.password,terminalTitle:i,connectionId:o,eventHandlers:c,metadata:l})}initCommandRegistry(){this.commandRegistry.set("request",new Tre),this.commandRegistry.set("request-cancel",new Ire),this.commandRegistry.set("response",new Ere),this.commandRegistry.set("terminal-input",new kre),this.commandRegistry.set("terminal-output",new Rre),this.commandRegistry.set("terminal-init-data",new Pre),this.commandRegistry.set("access-control",new Lre),this.commandRegistry.set("peer-connected",new Mre),this.commandRegistry.set("peer-disconnected",new Ore),this.commandRegistry.set("session-state",new Dre),this.commandRegistry.set("close-connection",new Fre),this.commandRegistry.set("host-settings",new Nre)}processProtocolEvent(e){const{message:n,senderHasControlPermissions:o,peerIdFromProtocol:r}=e,i={senderHasControlPermissions:o,peerIdFromProtocol:r};(this.commandRegistry.get(n.type)??new Hre).execute(this,n,i)}}class Kre{constructor(e){E(this,"instancesMap");E(this,"multiplayerProtocol");E(this,"getOrCreateMultiplayerApi",e=>{let n=this.instancesMap.get(e);return n||(n=new Gre(e,this.multiplayerProtocol),this.instancesMap.set(e,n)),n});E(this,"getMultiplayerApiByConnectionId",e=>{if(e){for(const n of this.instancesMap.values())if(n.hostPeerId===e)return n}});this.instancesMap=new Map,this.multiplayerProtocol=e}disposeInstance(e){const n=this.instancesMap.get(e);n!=null&&n.peerId&&(n==null||n.multiplayerProtocol.removePeer(n.peerId)),n==null||n.dispose(),this.instancesMap.delete(e)}dispose(){for(const e of this.instancesMap.values())e.dispose();this.instancesMap.clear()}}var YM={exports:{}};(function(t){var e={};e.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),e.useArrayBufferView=!e.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),t.exports.binaryFeatures=e;var n=t.exports.BlobBuilder;typeof window<"u"&&(n=t.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function o(){this._pieces=[],this._parts=[]}o.prototype.append=function(r){typeof r=="number"?this._pieces.push(r):(this.flush(),this._parts.push(r))},o.prototype.flush=function(){if(this._pieces.length>0){var r=new Uint8Array(this._pieces);e.useArrayBufferView||(r=r.buffer),this._parts.push(r),this._pieces=[]}},o.prototype.getBuffer=function(){if(this.flush(),e.useBlobBuilder){for(var r=new n,i=0,s=this._parts.length;i<s;i++)r.append(this._parts[i]);return r.getBlob()}else return new Blob(this._parts)},t.exports.BufferBuilder=o})(YM);var XM=YM.exports,Zre=XM.BufferBuilder,Tw=XM.binaryFeatures,Qre={unpack:function(t){var e=new Hn(t);return e.unpack()},pack:function(t){var e=new Bn;e.pack(t);var n=e.getBuffer();return n}},Yre=Qre;function Hn(t){this.index=0,this.dataBuffer=t,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}Hn.prototype.unpack=function(){var t=this.unpack_uint8();if(t<128)return t;if((t^224)<32)return(t^224)-32;var e;if((e=t^160)<=15)return this.unpack_raw(e);if((e=t^176)<=15)return this.unpack_string(e);if((e=t^144)<=15)return this.unpack_array(e);if((e=t^128)<=15)return this.unpack_map(e);switch(t){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return e=this.unpack_uint16(),this.unpack_string(e);case 217:return e=this.unpack_uint32(),this.unpack_string(e);case 218:return e=this.unpack_uint16(),this.unpack_raw(e);case 219:return e=this.unpack_uint32(),this.unpack_raw(e);case 220:return e=this.unpack_uint16(),this.unpack_array(e);case 221:return e=this.unpack_uint32(),this.unpack_array(e);case 222:return e=this.unpack_uint16(),this.unpack_map(e);case 223:return e=this.unpack_uint32(),this.unpack_map(e)}};Hn.prototype.unpack_uint8=function(){var t=this.dataView[this.index]&255;return this.index++,t};Hn.prototype.unpack_uint16=function(){var t=this.read(2),e=(t[0]&255)*256+(t[1]&255);return this.index+=2,e};Hn.prototype.unpack_uint32=function(){var t=this.read(4),e=((t[0]*256+t[1])*256+t[2])*256+t[3];return this.index+=4,e};Hn.prototype.unpack_uint64=function(){var t=this.read(8),e=((((((t[0]*256+t[1])*256+t[2])*256+t[3])*256+t[4])*256+t[5])*256+t[6])*256+t[7];return this.index+=8,e};Hn.prototype.unpack_int8=function(){var t=this.unpack_uint8();return t<128?t:t-256};Hn.prototype.unpack_int16=function(){var t=this.unpack_uint16();return t<32768?t:t-65536};Hn.prototype.unpack_int32=function(){var t=this.unpack_uint32();return t<Math.pow(2,31)?t:t-Math.pow(2,32)};Hn.prototype.unpack_int64=function(){var t=this.unpack_uint64();return t<Math.pow(2,63)?t:t-Math.pow(2,64)};Hn.prototype.unpack_raw=function(t){if(this.length<this.index+t)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+t+" "+this.length);var e=this.dataBuffer.slice(this.index,this.index+t);return this.index+=t,e};Hn.prototype.unpack_string=function(t){for(var e=this.read(t),n=0,o="",r,i;n<t;)r=e[n],r<128?(o+=String.fromCharCode(r),n++):(r^192)<32?(i=(r^192)<<6|e[n+1]&63,o+=String.fromCharCode(i),n+=2):(i=(r&15)<<12|(e[n+1]&63)<<6|e[n+2]&63,o+=String.fromCharCode(i),n+=3);return this.index+=t,o};Hn.prototype.unpack_array=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=this.unpack();return e};Hn.prototype.unpack_map=function(t){for(var e={},n=0;n<t;n++){var o=this.unpack(),r=this.unpack();e[o]=r}return e};Hn.prototype.unpack_float=function(){var t=this.unpack_uint32(),e=t>>31,n=(t>>23&255)-127,o=t&8388607|8388608;return(e===0?1:-1)*o*Math.pow(2,n-23)};Hn.prototype.unpack_double=function(){var t=this.unpack_uint32(),e=this.unpack_uint32(),n=t>>31,o=(t>>20&2047)-1023,r=t&1048575|1048576,i=r*Math.pow(2,o-20)+e*Math.pow(2,o-52);return(n===0?1:-1)*i};Hn.prototype.read=function(t){var e=this.index;if(e+t<=this.length)return this.dataView.subarray(e,e+t);throw new Error("BinaryPackFailure: read index out of range")};function Bn(){this.bufferBuilder=new Zre}Bn.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()};Bn.prototype.pack=function(t){var e=typeof t;if(e==="string")this.pack_string(t);else if(e==="number")Math.floor(t)===t?this.pack_integer(t):this.pack_double(t);else if(e==="boolean")t===!0?this.bufferBuilder.append(195):t===!1&&this.bufferBuilder.append(194);else if(e==="undefined")this.bufferBuilder.append(192);else if(e==="object")if(t===null)this.bufferBuilder.append(192);else{var n=t.constructor;if(n==Array)this.pack_array(t);else if(n==Blob||n==File||t instanceof Blob||t instanceof File)this.pack_bin(t);else if(n==ArrayBuffer)Tw.useArrayBufferView?this.pack_bin(new Uint8Array(t)):this.pack_bin(t);else if("BYTES_PER_ELEMENT"in t)Tw.useArrayBufferView?this.pack_bin(new Uint8Array(t.buffer)):this.pack_bin(t.buffer);else if(n==Object||n.toString().startsWith("class"))this.pack_object(t);else if(n==Date)this.pack_string(t.toString());else if(typeof t.toBinaryPack=="function")this.bufferBuilder.append(t.toBinaryPack());else throw new Error('Type "'+n.toString()+'" not yet supported')}else throw new Error('Type "'+e+'" not yet supported');this.bufferBuilder.flush()};Bn.prototype.pack_bin=function(t){var e=t.length||t.byteLength||t.size;if(e<=15)this.pack_uint8(160+e);else if(e<=65535)this.bufferBuilder.append(218),this.pack_uint16(e);else if(e<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(e);else throw new Error("Invalid length");this.bufferBuilder.append(t)};Bn.prototype.pack_string=function(t){var e=Jre(t);if(e<=15)this.pack_uint8(176+e);else if(e<=65535)this.bufferBuilder.append(216),this.pack_uint16(e);else if(e<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(e);else throw new Error("Invalid length");this.bufferBuilder.append(t)};Bn.prototype.pack_array=function(t){var e=t.length;if(e<=15)this.pack_uint8(144+e);else if(e<=65535)this.bufferBuilder.append(220),this.pack_uint16(e);else if(e<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(e);else throw new Error("Invalid length");for(var n=0;n<e;n++)this.pack(t[n])};Bn.prototype.pack_integer=function(t){if(t>=-32&&t<=127)this.bufferBuilder.append(t&255);else if(t>=0&&t<=255)this.bufferBuilder.append(204),this.pack_uint8(t);else if(t>=-128&&t<=127)this.bufferBuilder.append(208),this.pack_int8(t);else if(t>=0&&t<=65535)this.bufferBuilder.append(205),this.pack_uint16(t);else if(t>=-32768&&t<=32767)this.bufferBuilder.append(209),this.pack_int16(t);else if(t>=0&&t<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(t);else if(t>=-2147483648&&t<=2147483647)this.bufferBuilder.append(210),this.pack_int32(t);else if(t>=-9223372036854776e3&&t<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(t);else if(t>=0&&t<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(t);else throw new Error("Invalid integer")};Bn.prototype.pack_double=function(t){var e=0;t<0&&(e=1,t=-t);var n=Math.floor(Math.log(t)/Math.LN2),o=t/Math.pow(2,n)-1,r=Math.floor(o*Math.pow(2,52)),i=Math.pow(2,32),s=e<<31|n+1023<<20|r/i&1048575,a=r%i;this.bufferBuilder.append(203),this.pack_int32(s),this.pack_int32(a)};Bn.prototype.pack_object=function(t){var e=Object.keys(t),n=e.length;if(n<=15)this.pack_uint8(128+n);else if(n<=65535)this.bufferBuilder.append(222),this.pack_uint16(n);else if(n<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(n);else throw new Error("Invalid length");for(var o in t)t.hasOwnProperty(o)&&(this.pack(o),this.pack(t[o]))};Bn.prototype.pack_uint8=function(t){this.bufferBuilder.append(t)};Bn.prototype.pack_uint16=function(t){this.bufferBuilder.append(t>>8),this.bufferBuilder.append(t&255)};Bn.prototype.pack_uint32=function(t){var e=t&4294967295;this.bufferBuilder.append((e&4278190080)>>>24),this.bufferBuilder.append((e&16711680)>>>16),this.bufferBuilder.append((e&65280)>>>8),this.bufferBuilder.append(e&255)};Bn.prototype.pack_uint64=function(t){var e=t/Math.pow(2,32),n=t%Math.pow(2,32);this.bufferBuilder.append((e&4278190080)>>>24),this.bufferBuilder.append((e&16711680)>>>16),this.bufferBuilder.append((e&65280)>>>8),this.bufferBuilder.append(e&255),this.bufferBuilder.append((n&4278190080)>>>24),this.bufferBuilder.append((n&16711680)>>>16),this.bufferBuilder.append((n&65280)>>>8),this.bufferBuilder.append(n&255)};Bn.prototype.pack_int8=function(t){this.bufferBuilder.append(t&255)};Bn.prototype.pack_int16=function(t){this.bufferBuilder.append((t&65280)>>8),this.bufferBuilder.append(t&255)};Bn.prototype.pack_int32=function(t){this.bufferBuilder.append(t>>>24&255),this.bufferBuilder.append((t&16711680)>>>16),this.bufferBuilder.append((t&65280)>>>8),this.bufferBuilder.append(t&255)};Bn.prototype.pack_int64=function(t){var e=Math.floor(t/Math.pow(2,32)),n=t%Math.pow(2,32);this.bufferBuilder.append((e&4278190080)>>>24),this.bufferBuilder.append((e&16711680)>>>16),this.bufferBuilder.append((e&65280)>>>8),this.bufferBuilder.append(e&255),this.bufferBuilder.append((n&4278190080)>>>24),this.bufferBuilder.append((n&16711680)>>>16),this.bufferBuilder.append((n&65280)>>>8),this.bufferBuilder.append(n&255)};function Xre(t){var e=t.charCodeAt(0);return e<=2047?"00":e<=65535?"000":e<=2097151?"0000":e<=67108863?"00000":"000000"}function Jre(t){return t.length>600?new Blob([t]).size:t.replace(/[^\u0000-\u007F]/g,Xre).length}const Iw=wt(Yre);let JM=!0,eO=!0;function wp(t,e,n){const o=t.match(e);return o&&o.length>=n&&parseInt(o[n],10)}function Lu(t,e,n){if(!t.RTCPeerConnection)return;const o=t.RTCPeerConnection.prototype,r=o.addEventListener;o.addEventListener=function(s,a){if(s!==e)return r.apply(this,arguments);const l=c=>{const d=n(c);d&&(a.handleEvent?a.handleEvent(d):a(d))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(a,l),r.apply(this,[s,l])};const i=o.removeEventListener;o.removeEventListener=function(s,a){if(s!==e||!this._eventMap||!this._eventMap[e])return i.apply(this,arguments);if(!this._eventMap[e].has(a))return i.apply(this,arguments);const l=this._eventMap[e].get(a);return this._eventMap[e].delete(a),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,i.apply(this,[s,l])},Object.defineProperty(o,"on"+e,{get(){return this["_on"+e]},set(s){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),s&&this.addEventListener(e,this["_on"+e]=s)},enumerable:!0,configurable:!0})}function eie(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(JM=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function tie(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(eO=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function Ny(){if(typeof window=="object"){if(JM)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Kg(t,e){eO&&console.warn(t+" is deprecated, please use "+e+" instead.")}function nie(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator)return e.browser="Not a browser.",e;const{navigator:n}=t;if(n.mozGetUserMedia)e.browser="firefox",e.version=wp(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection&&!t.RTCIceGatherer)e.browser="chrome",e.version=wp(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(n.mediaDevices&&n.userAgent.match(/Edge\/(\d+).(\d+)$/))e.browser="edge",e.version=wp(n.userAgent,/Edge\/(\d+).(\d+)$/,2);else if(t.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=wp(n.userAgent,/AppleWebKit\/(\d+)\./,1),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype;else return e.browser="Not a supported browser.",e;return e}function Ew(t){return Object.prototype.toString.call(t)==="[object Object]"}function tO(t){return Ew(t)?Object.keys(t).reduce(function(e,n){const o=Ew(t[n]),r=o?tO(t[n]):t[n],i=o&&!Object.keys(r).length;return r===void 0||i?e:Object.assign(e,{[n]:r})},{}):t}function mv(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(o=>{o.endsWith("Id")?mv(t,t.get(e[o]),n):o.endsWith("Ids")&&e[o].forEach(r=>{mv(t,t.get(r),n)})}))}function kw(t,e,n){const o=n?"outbound-rtp":"inbound-rtp",r=new Map;if(e===null)return r;const i=[];return t.forEach(s=>{s.type==="track"&&s.trackIdentifier===e.id&&i.push(s)}),i.forEach(s=>{t.forEach(a=>{a.type===o&&a.trackId===s.id&&mv(t,a,r)})}),r}const Rw=Ny;function nO(t,e){const n=t&&t.navigator;if(!n.mediaDevices)return;const o=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const l={};return Object.keys(a).forEach(c=>{if(c==="require"||c==="advanced"||c==="mediaSource")return;const d=typeof a[c]=="object"?a[c]:{ideal:a[c]};d.exact!==void 0&&typeof d.exact=="number"&&(d.min=d.max=d.exact);const p=function(h,m){return h?h+m.charAt(0).toUpperCase()+m.slice(1):m==="deviceId"?"sourceId":m};if(d.ideal!==void 0){l.optional=l.optional||[];let h={};typeof d.ideal=="number"?(h[p("min",c)]=d.ideal,l.optional.push(h),h={},h[p("max",c)]=d.ideal,l.optional.push(h)):(h[p("",c)]=d.ideal,l.optional.push(h))}d.exact!==void 0&&typeof d.exact!="number"?(l.mandatory=l.mandatory||{},l.mandatory[p("",c)]=d.exact):["min","max"].forEach(h=>{d[h]!==void 0&&(l.mandatory=l.mandatory||{},l.mandatory[p(h,c)]=d[h])})}),a.advanced&&(l.optional=(l.optional||[]).concat(a.advanced)),l},r=function(a,l){if(e.version>=61)return l(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const c=function(d,p,h){p in d&&!(h in d)&&(d[h]=d[p],delete d[p])};a=JSON.parse(JSON.stringify(a)),c(a.audio,"autoGainControl","googAutoGainControl"),c(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=o(a.audio)}if(a&&typeof a.video=="object"){let c=a.video.facingMode;c=c&&(typeof c=="object"?c:{ideal:c});const d=e.version<66;if(c&&(c.exact==="user"||c.exact==="environment"||c.ideal==="user"||c.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!d)){delete a.video.facingMode;let p;if(c.exact==="environment"||c.ideal==="environment"?p=["back","rear"]:(c.exact==="user"||c.ideal==="user")&&(p=["front"]),p)return n.mediaDevices.enumerateDevices().then(h=>{h=h.filter(g=>g.kind==="videoinput");let m=h.find(g=>p.some(C=>g.label.toLowerCase().includes(C)));return!m&&h.length&&p.includes("back")&&(m=h[h.length-1]),m&&(a.video.deviceId=c.exact?{exact:m.deviceId}:{ideal:m.deviceId}),a.video=o(a.video),Rw("chrome: "+JSON.stringify(a)),l(a)})}a.video=o(a.video)}return Rw("chrome: "+JSON.stringify(a)),l(a)},i=function(a){return e.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},s=function(a,l,c){r(a,d=>{n.webkitGetUserMedia(d,l,p=>{c&&c(i(p))})})};if(n.getUserMedia=s.bind(n),n.mediaDevices.getUserMedia){const a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(l){return r(l,c=>a(c).then(d=>{if(c.audio&&!d.getAudioTracks().length||c.video&&!d.getVideoTracks().length)throw d.getTracks().forEach(p=>{p.stop()}),new DOMException("","NotFoundError");return d},d=>Promise.reject(i(d))))}}}function oie(t,e){if(!(t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices)&&t.navigator.mediaDevices){if(typeof e!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}t.navigator.mediaDevices.getDisplayMedia=function(o){return e(o).then(r=>{const i=o.video&&o.video.width,s=o.video&&o.video.height,a=o.video&&o.video.frameRate;return o.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:r,maxFrameRate:a||3}},i&&(o.video.mandatory.maxWidth=i),s&&(o.video.mandatory.maxHeight=s),t.navigator.mediaDevices.getUserMedia(o)})}}}function oO(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function rO(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=o=>{o.stream.addEventListener("addtrack",r=>{let i;t.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(a=>a.track&&a.track.id===r.track.id):i={track:r.track};const s=new Event("track");s.track=r.track,s.receiver=i,s.transceiver={receiver:i},s.streams=[o.stream],this.dispatchEvent(s)}),o.stream.getTracks().forEach(r=>{let i;t.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(a=>a.track&&a.track.id===r.id):i={track:r};const s=new Event("track");s.track=r,s.receiver=i,s.transceiver={receiver:i},s.streams=[o.stream],this.dispatchEvent(s)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else Lu(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function iO(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(r,i){return{track:i,get dtmf(){return this._dtmf===void 0&&(i.kind==="audio"?this._dtmf=r.createDTMFSender(i):this._dtmf=null),this._dtmf},_pc:r}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const r=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(a,l){let c=r.apply(this,arguments);return c||(c=e(this,a),this._senders.push(c)),c};const i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(a){i.apply(this,arguments);const l=this._senders.indexOf(a);l!==-1&&this._senders.splice(l,1)}}const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(i){this._senders=this._senders||[],n.apply(this,[i]),i.getTracks().forEach(s=>{this._senders.push(e(this,s))})};const o=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(i){this._senders=this._senders||[],o.apply(this,[i]),i.getTracks().forEach(s=>{const a=this._senders.find(l=>l.track===s);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const o=e.apply(this,[]);return o.forEach(r=>r._pc=this),o},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function sO(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[o,r,i]=arguments;if(arguments.length>0&&typeof o=="function")return e.apply(this,arguments);if(e.length===0&&(arguments.length===0||typeof o!="function"))return e.apply(this,[]);const s=function(l){const c={};return l.result().forEach(p=>{const h={id:p.id,timestamp:p.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[p.type]||p.type};p.names().forEach(m=>{h[m]=p.stat(m)}),c[h.id]=h}),c},a=function(l){return new Map(Object.keys(l).map(c=>[c,l[c]]))};if(arguments.length>=2){const l=function(c){r(a(s(c)))};return e.apply(this,[l,o])}return new Promise((l,c)=>{e.apply(this,[function(d){l(a(s(d)))},c])}).then(r,i)}}function aO(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){const i=n.apply(this,[]);return i.forEach(s=>s._pc=this),i});const o=t.RTCPeerConnection.prototype.addTrack;o&&(t.RTCPeerConnection.prototype.addTrack=function(){const i=o.apply(this,arguments);return i._pc=this,i}),t.RTCRtpSender.prototype.getStats=function(){const i=this;return this._pc.getStats().then(s=>kw(s,i.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){const r=n.apply(this,[]);return r.forEach(i=>i._pc=this),r}),Lu(t,"track",o=>(o.receiver._pc=o.srcElement,o)),t.RTCRtpReceiver.prototype.getStats=function(){const r=this;return this._pc.getStats().then(i=>kw(i,r.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const o=arguments[0];let r,i,s;return this.getSenders().forEach(a=>{a.track===o&&(r?s=!0:r=a)}),this.getReceivers().forEach(a=>(a.track===o&&(i?s=!0:i=a),a.track===o)),s||r&&i?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):r?r.getStats():i?i.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function lO(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(s=>this._shimmedLocalStreams[s][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(s,a){if(!a)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const l=e.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(l)===-1&&this._shimmedLocalStreams[a.id].push(l):this._shimmedLocalStreams[a.id]=[a,l],l};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(s){this._shimmedLocalStreams=this._shimmedLocalStreams||{},s.getTracks().forEach(c=>{if(this.getSenders().find(p=>p.track===c))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();n.apply(this,arguments);const l=this.getSenders().filter(c=>a.indexOf(c)===-1);this._shimmedLocalStreams[s.id]=[s].concat(l)};const o=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[s.id],o.apply(this,arguments)};const r=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},s&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const l=this._shimmedLocalStreams[a].indexOf(s);l!==-1&&this._shimmedLocalStreams[a].splice(l,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),r.apply(this,arguments)}}function cO(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return lO(t);const n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const d=n.apply(this);return this._reverseStreams=this._reverseStreams||{},d.map(p=>this._reverseStreams[p.id])};const o=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(d){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},d.getTracks().forEach(p=>{if(this.getSenders().find(m=>m.track===p))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[d.id]){const p=new t.MediaStream(d.getTracks());this._streams[d.id]=p,this._reverseStreams[p.id]=d,d=p}o.apply(this,[d])};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(d){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},r.apply(this,[this._streams[d.id]||d]),delete this._reverseStreams[this._streams[d.id]?this._streams[d.id].id:d.id],delete this._streams[d.id]},t.RTCPeerConnection.prototype.addTrack=function(d,p){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const h=[].slice.call(arguments,1);if(h.length!==1||!h[0].getTracks().find(C=>C===d))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(C=>C.track===d))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const g=this._streams[p.id];if(g)g.addTrack(d),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const C=new t.MediaStream([d]);this._streams[p.id]=C,this._reverseStreams[C.id]=p,this.addStream(C)}return this.getSenders().find(C=>C.track===d)};function i(c,d){let p=d.sdp;return Object.keys(c._reverseStreams||[]).forEach(h=>{const m=c._reverseStreams[h],g=c._streams[m.id];p=p.replace(new RegExp(g.id,"g"),m.id)}),new RTCSessionDescription({type:d.type,sdp:p})}function s(c,d){let p=d.sdp;return Object.keys(c._reverseStreams||[]).forEach(h=>{const m=c._reverseStreams[h],g=c._streams[m.id];p=p.replace(new RegExp(m.id,"g"),g.id)}),new RTCSessionDescription({type:d.type,sdp:p})}["createOffer","createAnswer"].forEach(function(c){const d=t.RTCPeerConnection.prototype[c],p={[c](){const h=arguments;return arguments.length&&typeof arguments[0]=="function"?d.apply(this,[g=>{const C=i(this,g);h[0].apply(null,[C])},g=>{h[1]&&h[1].apply(null,g)},arguments[2]]):d.apply(this,arguments).then(g=>i(this,g))}};t.RTCPeerConnection.prototype[c]=p[c]});const a=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=s(this,arguments[0]),a.apply(this,arguments))};const l=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const c=l.get.apply(this);return c.type===""?c:i(this,c)}}),t.RTCPeerConnection.prototype.removeTrack=function(d){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!d._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(d._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let h;Object.keys(this._streams).forEach(m=>{this._streams[m].getTracks().find(C=>d.track===C)&&(h=this._streams[m])}),h&&(h.getTracks().length===1?this.removeStream(this._reverseStreams[h.id]):h.removeTrack(d.track),this.dispatchEvent(new Event("negotiationneeded")))}}function gv(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const o=t.RTCPeerConnection.prototype[n],r={[n](){return arguments[0]=new(n==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),o.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=r[n]})}function dO(t,e){Lu(t,"negotiationneeded",n=>{const o=n.target;if(!((e.version<72||o.getConfiguration&&o.getConfiguration().sdpSemantics==="plan-b")&&o.signalingState!=="stable"))return n})}const Pw=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:dO,shimAddTrackRemoveTrack:cO,shimAddTrackRemoveTrackWithNative:lO,shimGetDisplayMedia:oie,shimGetSendersWithDtmf:iO,shimGetStats:sO,shimGetUserMedia:nO,shimMediaStream:oO,shimOnTrack:rO,shimPeerConnection:gv,shimSenderReceiverGetStats:aO},Symbol.toStringTag,{value:"Module"}));function rie(t,e){let n=!1;return t=JSON.parse(JSON.stringify(t)),t.filter(o=>{if(o&&(o.urls||o.url)){let r=o.urls||o.url;o.url&&!o.urls&&Kg("RTCIceServer.url","RTCIceServer.urls");const i=typeof r=="string";return i&&(r=[r]),r=r.filter(s=>{if(s.indexOf("stun:")===0)return!1;const a=s.startsWith("turn")&&!s.startsWith("turn:[")&&s.includes("transport=udp");return a&&!n?(n=!0,!0):a&&!n}),delete o.url,o.urls=i?r[0]:r,!!r.length}})}var uO={exports:{}};(function(t){var e={};e.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`
`).map(function(o){return o.trim()})},e.splitSections=function(n){var o=n.split(`
m=`);return o.map(function(r,i){return(i>0?"m="+r:r).trim()+`\r
`})},e.getDescription=function(n){var o=e.splitSections(n);return o&&o[0]},e.getMediaSections=function(n){var o=e.splitSections(n);return o.shift(),o},e.matchPrefix=function(n,o){return e.splitLines(n).filter(function(r){return r.indexOf(o)===0})},e.parseCandidate=function(n){var o;n.indexOf("a=candidate:")===0?o=n.substring(12).split(" "):o=n.substring(10).split(" ");for(var r={foundation:o[0],component:parseInt(o[1],10),protocol:o[2].toLowerCase(),priority:parseInt(o[3],10),ip:o[4],address:o[4],port:parseInt(o[5],10),type:o[7]},i=8;i<o.length;i+=2)switch(o[i]){case"raddr":r.relatedAddress=o[i+1];break;case"rport":r.relatedPort=parseInt(o[i+1],10);break;case"tcptype":r.tcpType=o[i+1];break;case"ufrag":r.ufrag=o[i+1],r.usernameFragment=o[i+1];break;default:r[o[i]]=o[i+1];break}return r},e.writeCandidate=function(n){var o=[];o.push(n.foundation),o.push(n.component),o.push(n.protocol.toUpperCase()),o.push(n.priority),o.push(n.address||n.ip),o.push(n.port);var r=n.type;return o.push("typ"),o.push(r),r!=="host"&&n.relatedAddress&&n.relatedPort&&(o.push("raddr"),o.push(n.relatedAddress),o.push("rport"),o.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(o.push("tcptype"),o.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(o.push("ufrag"),o.push(n.usernameFragment||n.ufrag)),"candidate:"+o.join(" ")},e.parseIceOptions=function(n){return n.substr(14).split(" ")},e.parseRtpMap=function(n){var o=n.substr(9).split(" "),r={payloadType:parseInt(o.shift(),10)};return o=o[0].split("/"),r.name=o[0],r.clockRate=parseInt(o[1],10),r.channels=o.length===3?parseInt(o[2],10):1,r.numChannels=r.channels,r},e.writeRtpMap=function(n){var o=n.payloadType;n.preferredPayloadType!==void 0&&(o=n.preferredPayloadType);var r=n.channels||n.numChannels||1;return"a=rtpmap:"+o+" "+n.name+"/"+n.clockRate+(r!==1?"/"+r:"")+`\r
`},e.parseExtmap=function(n){var o=n.substr(9).split(" ");return{id:parseInt(o[0],10),direction:o[0].indexOf("/")>0?o[0].split("/")[1]:"sendrecv",uri:o[1]}},e.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+`\r
`},e.parseFmtp=function(n){for(var o={},r,i=n.substr(n.indexOf(" ")+1).split(";"),s=0;s<i.length;s++)r=i[s].trim().split("="),o[r[0].trim()]=r[1];return o},e.writeFmtp=function(n){var o="",r=n.payloadType;if(n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){var i=[];Object.keys(n.parameters).forEach(function(s){n.parameters[s]?i.push(s+"="+n.parameters[s]):i.push(s)}),o+="a=fmtp:"+r+" "+i.join(";")+`\r
`}return o},e.parseRtcpFb=function(n){var o=n.substr(n.indexOf(" ")+1).split(" ");return{type:o.shift(),parameter:o.join(" ")}},e.writeRtcpFb=function(n){var o="",r=n.payloadType;return n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(function(i){o+="a=rtcp-fb:"+r+" "+i.type+(i.parameter&&i.parameter.length?" "+i.parameter:"")+`\r
`}),o},e.parseSsrcMedia=function(n){var o=n.indexOf(" "),r={ssrc:parseInt(n.substr(7,o-7),10)},i=n.indexOf(":",o);return i>-1?(r.attribute=n.substr(o+1,i-o-1),r.value=n.substr(i+1)):r.attribute=n.substr(o+1),r},e.parseSsrcGroup=function(n){var o=n.substr(13).split(" ");return{semantics:o.shift(),ssrcs:o.map(function(r){return parseInt(r,10)})}},e.getMid=function(n){var o=e.matchPrefix(n,"a=mid:")[0];if(o)return o.substr(6)},e.parseFingerprint=function(n){var o=n.substr(14).split(" ");return{algorithm:o[0].toLowerCase(),value:o[1]}},e.getDtlsParameters=function(n,o){var r=e.matchPrefix(n+o,"a=fingerprint:");return{role:"auto",fingerprints:r.map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,o){var r="a=setup:"+o+`\r
`;return n.fingerprints.forEach(function(i){r+="a=fingerprint:"+i.algorithm+" "+i.value+`\r
`}),r},e.parseCryptoLine=function(n){var o=n.substr(9).split(" ");return{tag:parseInt(o[0],10),cryptoSuite:o[1],keyParams:o[2],sessionParams:o.slice(3)}},e.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;var o=n.substr(7).split("|");return{keyMethod:"inline",keySalt:o[0],lifeTime:o[1],mkiValue:o[2]?o[2].split(":")[0]:void 0,mkiLength:o[2]?o[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},e.getCryptoParameters=function(n,o){var r=e.matchPrefix(n+o,"a=crypto:");return r.map(e.parseCryptoLine)},e.getIceParameters=function(n,o){var r=e.matchPrefix(n+o,"a=ice-ufrag:")[0],i=e.matchPrefix(n+o,"a=ice-pwd:")[0];return r&&i?{usernameFragment:r.substr(12),password:i.substr(10)}:null},e.writeIceParameters=function(n){return"a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`},e.parseRtpParameters=function(n){for(var o={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=e.splitLines(n),i=r[0].split(" "),s=3;s<i.length;s++){var a=i[s],l=e.matchPrefix(n,"a=rtpmap:"+a+" ")[0];if(l){var c=e.parseRtpMap(l),d=e.matchPrefix(n,"a=fmtp:"+a+" ");switch(c.parameters=d.length?e.parseFmtp(d[0]):{},c.rtcpFeedback=e.matchPrefix(n,"a=rtcp-fb:"+a+" ").map(e.parseRtcpFb),o.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":o.fecMechanisms.push(c.name.toUpperCase());break}}}return e.matchPrefix(n,"a=extmap:").forEach(function(p){o.headerExtensions.push(e.parseExtmap(p))}),o},e.writeRtpDescription=function(n,o){var r="";r+="m="+n+" ",r+=o.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=o.codecs.map(function(s){return s.preferredPayloadType!==void 0?s.preferredPayloadType:s.payloadType}).join(" ")+`\r
`,r+=`c=IN IP4 0.0.0.0\r
`,r+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,o.codecs.forEach(function(s){r+=e.writeRtpMap(s),r+=e.writeFmtp(s),r+=e.writeRtcpFb(s)});var i=0;return o.codecs.forEach(function(s){s.maxptime>i&&(i=s.maxptime)}),i>0&&(r+="a=maxptime:"+i+`\r
`),r+=`a=rtcp-mux\r
`,o.headerExtensions&&o.headerExtensions.forEach(function(s){r+=e.writeExtmap(s)}),r},e.parseRtpEncodingParameters=function(n){var o=[],r=e.parseRtpParameters(n),i=r.fecMechanisms.indexOf("RED")!==-1,s=r.fecMechanisms.indexOf("ULPFEC")!==-1,a=e.matchPrefix(n,"a=ssrc:").map(function(h){return e.parseSsrcMedia(h)}).filter(function(h){return h.attribute==="cname"}),l=a.length>0&&a[0].ssrc,c,d=e.matchPrefix(n,"a=ssrc-group:FID").map(function(h){var m=h.substr(17).split(" ");return m.map(function(g){return parseInt(g,10)})});d.length>0&&d[0].length>1&&d[0][0]===l&&(c=d[0][1]),r.codecs.forEach(function(h){if(h.name.toUpperCase()==="RTX"&&h.parameters.apt){var m={ssrc:l,codecPayloadType:parseInt(h.parameters.apt,10)};l&&c&&(m.rtx={ssrc:c}),o.push(m),i&&(m=JSON.parse(JSON.stringify(m)),m.fec={ssrc:l,mechanism:s?"red+ulpfec":"red"},o.push(m))}}),o.length===0&&l&&o.push({ssrc:l});var p=e.matchPrefix(n,"b=");return p.length&&(p[0].indexOf("b=TIAS:")===0?p=parseInt(p[0].substr(7),10):p[0].indexOf("b=AS:")===0?p=parseInt(p[0].substr(5),10)*1e3*.95-50*40*8:p=void 0,o.forEach(function(h){h.maxBitrate=p})),o},e.parseRtcpParameters=function(n){var o={},r=e.matchPrefix(n,"a=ssrc:").map(function(a){return e.parseSsrcMedia(a)}).filter(function(a){return a.attribute==="cname"})[0];r&&(o.cname=r.value,o.ssrc=r.ssrc);var i=e.matchPrefix(n,"a=rtcp-rsize");o.reducedSize=i.length>0,o.compound=i.length===0;var s=e.matchPrefix(n,"a=rtcp-mux");return o.mux=s.length>0,o},e.parseMsid=function(n){var o,r=e.matchPrefix(n,"a=msid:");if(r.length===1)return o=r[0].substr(7).split(" "),{stream:o[0],track:o[1]};var i=e.matchPrefix(n,"a=ssrc:").map(function(s){return e.parseSsrcMedia(s)}).filter(function(s){return s.attribute==="msid"});if(i.length>0)return o=i[0].value.split(" "),{stream:o[0],track:o[1]}},e.parseSctpDescription=function(n){var o=e.parseMLine(n),r=e.matchPrefix(n,"a=max-message-size:"),i;r.length>0&&(i=parseInt(r[0].substr(19),10)),isNaN(i)&&(i=65536);var s=e.matchPrefix(n,"a=sctp-port:");if(s.length>0)return{port:parseInt(s[0].substr(12),10),protocol:o.fmt,maxMessageSize:i};var a=e.matchPrefix(n,"a=sctpmap:");if(a.length>0){var l=e.matchPrefix(n,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:i}}},e.writeSctpDescription=function(n,o){var r=[];return n.protocol!=="DTLS/SCTP"?r=["m="+n.kind+" 9 "+n.protocol+" "+o.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+o.port+`\r
`]:r=["m="+n.kind+" 9 "+n.protocol+" "+o.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+o.port+" "+o.protocol+` 65535\r
`],o.maxMessageSize!==void 0&&r.push("a=max-message-size:"+o.maxMessageSize+`\r
`),r.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,21)},e.writeSessionBoilerplate=function(n,o,r){var i,s=o!==void 0?o:2;n?i=n:i=e.generateSessionId();var a=r||"thisisadapterortc";return`v=0\r
o=`+a+" "+i+" "+s+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.writeMediaSection=function(n,o,r,i){var s=e.writeRtpDescription(n.kind,o);if(s+=e.writeIceParameters(n.iceGatherer.getLocalParameters()),s+=e.writeDtlsParameters(n.dtlsTransport.getLocalParameters(),r==="offer"?"actpass":"active"),s+="a=mid:"+n.mid+`\r
`,n.direction?s+="a="+n.direction+`\r
`:n.rtpSender&&n.rtpReceiver?s+=`a=sendrecv\r
`:n.rtpSender?s+=`a=sendonly\r
`:n.rtpReceiver?s+=`a=recvonly\r
`:s+=`a=inactive\r
`,n.rtpSender){var a="msid:"+i.id+" "+n.rtpSender.track.id+`\r
`;s+="a="+a,s+="a=ssrc:"+n.sendEncodingParameters[0].ssrc+" "+a,n.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+n.sendEncodingParameters[0].rtx.ssrc+" "+a,s+="a=ssrc-group:FID "+n.sendEncodingParameters[0].ssrc+" "+n.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return s+="a=ssrc:"+n.sendEncodingParameters[0].ssrc+" cname:"+e.localCName+`\r
`,n.rtpSender&&n.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+n.sendEncodingParameters[0].rtx.ssrc+" cname:"+e.localCName+`\r
`),s},e.getDirection=function(n,o){for(var r=e.splitLines(n),i=0;i<r.length;i++)switch(r[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[i].substr(2)}return o?e.getDirection(o):"sendrecv"},e.getKind=function(n){var o=e.splitLines(n),r=o[0].split(" ");return r[0].substr(2)},e.isRejected=function(n){return n.split(" ",2)[1]==="0"},e.parseMLine=function(n){var o=e.splitLines(n),r=o[0].substr(2).split(" ");return{kind:r[0],port:parseInt(r[1],10),protocol:r[2],fmt:r.slice(3).join(" ")}},e.parseOLine=function(n){var o=e.matchPrefix(n,"o=")[0],r=o.substr(2).split(" ");return{username:r[0],sessionId:r[1],sessionVersion:parseInt(r[2],10),netType:r[3],addressType:r[4],address:r[5]}},e.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;for(var o=e.splitLines(n),r=0;r<o.length;r++)if(o[r].length<2||o[r].charAt(1)!=="=")return!1;return!0},t.exports=e})(uO);var pO=uO.exports;const Jf=wt(pO);var je=pO;function iie(t){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[t.type]||t.type}function Lw(t,e,n,o,r){var i=je.writeRtpDescription(t.kind,e);if(i+=je.writeIceParameters(t.iceGatherer.getLocalParameters()),i+=je.writeDtlsParameters(t.dtlsTransport.getLocalParameters(),n==="offer"?"actpass":r||"active"),i+="a=mid:"+t.mid+`\r
`,t.rtpSender&&t.rtpReceiver?i+=`a=sendrecv\r
`:t.rtpSender?i+=`a=sendonly\r
`:t.rtpReceiver?i+=`a=recvonly\r
`:i+=`a=inactive\r
`,t.rtpSender){var s=t.rtpSender._initialTrackId||t.rtpSender.track.id;t.rtpSender._initialTrackId=s;var a="msid:"+(o?o.id:"-")+" "+s+`\r
`;i+="a="+a,i+="a=ssrc:"+t.sendEncodingParameters[0].ssrc+" "+a,t.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+t.sendEncodingParameters[0].rtx.ssrc+" "+a,i+="a=ssrc-group:FID "+t.sendEncodingParameters[0].ssrc+" "+t.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return i+="a=ssrc:"+t.sendEncodingParameters[0].ssrc+" cname:"+je.localCName+`\r
`,t.rtpSender&&t.sendEncodingParameters[0].rtx&&(i+="a=ssrc:"+t.sendEncodingParameters[0].rtx.ssrc+" cname:"+je.localCName+`\r
`),i}function sie(t,e){var n=!1;return t=JSON.parse(JSON.stringify(t)),t.filter(function(o){if(o&&(o.urls||o.url)){var r=o.urls||o.url;o.url&&!o.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var i=typeof r=="string";return i&&(r=[r]),r=r.filter(function(s){var a=s.indexOf("turn:")===0&&s.indexOf("transport=udp")!==-1&&s.indexOf("turn:[")===-1&&!n;return a?(n=!0,!0):s.indexOf("stun:")===0&&e>=14393&&s.indexOf("?transport=udp")===-1}),delete o.url,o.urls=i?r[0]:r,!!r.length}})}function df(t,e){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},o=function(i,s){i=parseInt(i,10);for(var a=0;a<s.length;a++)if(s[a].payloadType===i||s[a].preferredPayloadType===i)return s[a]},r=function(i,s,a,l){var c=o(i.parameters.apt,a),d=o(s.parameters.apt,l);return c&&d&&c.name.toLowerCase()===d.name.toLowerCase()};return t.codecs.forEach(function(i){for(var s=0;s<e.codecs.length;s++){var a=e.codecs[s];if(i.name.toLowerCase()===a.name.toLowerCase()&&i.clockRate===a.clockRate){if(i.name.toLowerCase()==="rtx"&&i.parameters&&a.parameters.apt&&!r(i,a,t.codecs,e.codecs))continue;a=JSON.parse(JSON.stringify(a)),a.numChannels=Math.min(i.numChannels,a.numChannels),n.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter(function(l){for(var c=0;c<i.rtcpFeedback.length;c++)if(i.rtcpFeedback[c].type===l.type&&i.rtcpFeedback[c].parameter===l.parameter)return!0;return!1});break}}}),t.headerExtensions.forEach(function(i){for(var s=0;s<e.headerExtensions.length;s++){var a=e.headerExtensions[s];if(i.uri===a.uri){n.headerExtensions.push(a);break}}}),n}function Mw(t,e,n){return{offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[e][t].indexOf(n)!==-1}function A5(t,e){var n=t.getRemoteCandidates().find(function(o){return e.foundation===o.foundation&&e.ip===o.ip&&e.port===o.port&&e.priority===o.priority&&e.protocol===o.protocol&&e.type===o.type});return n||t.addRemoteCandidate(e),!n}function zn(t,e){var n=new Error(e);return n.name=t,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[t],n}var aie=function(t,e){function n(l,c){c.addTrack(l),c.dispatchEvent(new t.MediaStreamTrackEvent("addtrack",{track:l}))}function o(l,c){c.removeTrack(l),c.dispatchEvent(new t.MediaStreamTrackEvent("removetrack",{track:l}))}function r(l,c,d,p){var h=new Event("track");h.track=c,h.receiver=d,h.transceiver={receiver:d},h.streams=p,t.setTimeout(function(){l._dispatchEvent("track",h)})}var i=function(l){var c=this,d=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(h){c[h]=d[h].bind(d)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",l=JSON.parse(JSON.stringify(l||{})),this.usingBundle=l.bundlePolicy==="max-bundle",l.rtcpMuxPolicy==="negotiate")throw zn("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(l.rtcpMuxPolicy||(l.rtcpMuxPolicy="require"),l.iceTransportPolicy){case"all":case"relay":break;default:l.iceTransportPolicy="all";break}switch(l.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:l.bundlePolicy="balanced";break}if(l.iceServers=sie(l.iceServers||[],e),this._iceGatherers=[],l.iceCandidatePoolSize)for(var p=l.iceCandidatePoolSize;p>0;p--)this._iceGatherers.push(new t.RTCIceGatherer({iceServers:l.iceServers,gatherPolicy:l.iceTransportPolicy}));else l.iceCandidatePoolSize=0;this._config=l,this.transceivers=[],this._sdpSessionId=je.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(i.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(i.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),i.prototype.onicecandidate=null,i.prototype.onaddstream=null,i.prototype.ontrack=null,i.prototype.onremovestream=null,i.prototype.onsignalingstatechange=null,i.prototype.oniceconnectionstatechange=null,i.prototype.onconnectionstatechange=null,i.prototype.onicegatheringstatechange=null,i.prototype.onnegotiationneeded=null,i.prototype.ondatachannel=null,i.prototype._dispatchEvent=function(l,c){this._isClosed||(this.dispatchEvent(c),typeof this["on"+l]=="function"&&this["on"+l](c))},i.prototype._emitGatheringStateChange=function(){var l=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",l)},i.prototype.getConfiguration=function(){return this._config},i.prototype.getLocalStreams=function(){return this.localStreams},i.prototype.getRemoteStreams=function(){return this.remoteStreams},i.prototype._createTransceiver=function(l,c){var d=this.transceivers.length>0,p={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:l,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&d)p.iceTransport=this.transceivers[0].iceTransport,p.dtlsTransport=this.transceivers[0].dtlsTransport;else{var h=this._createIceAndDtlsTransports();p.iceTransport=h.iceTransport,p.dtlsTransport=h.dtlsTransport}return c||this.transceivers.push(p),p},i.prototype.addTrack=function(l,c){if(this._isClosed)throw zn("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var d=this.transceivers.find(function(m){return m.track===l});if(d)throw zn("InvalidAccessError","Track already exists.");for(var p,h=0;h<this.transceivers.length;h++)!this.transceivers[h].track&&this.transceivers[h].kind===l.kind&&(p=this.transceivers[h]);return p||(p=this._createTransceiver(l.kind)),this._maybeFireNegotiationNeeded(),this.localStreams.indexOf(c)===-1&&this.localStreams.push(c),p.track=l,p.stream=c,p.rtpSender=new t.RTCRtpSender(l,p.dtlsTransport),p.rtpSender},i.prototype.addStream=function(l){var c=this;if(e>=15025)l.getTracks().forEach(function(p){c.addTrack(p,l)});else{var d=l.clone();l.getTracks().forEach(function(p,h){var m=d.getTracks()[h];p.addEventListener("enabled",function(g){m.enabled=g.enabled})}),d.getTracks().forEach(function(p){c.addTrack(p,d)})}},i.prototype.removeTrack=function(l){if(this._isClosed)throw zn("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(l instanceof t.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var c=this.transceivers.find(function(h){return h.rtpSender===l});if(!c)throw zn("InvalidAccessError","Sender was not created by this connection.");var d=c.stream;c.rtpSender.stop(),c.rtpSender=null,c.track=null,c.stream=null;var p=this.transceivers.map(function(h){return h.stream});p.indexOf(d)===-1&&this.localStreams.indexOf(d)>-1&&this.localStreams.splice(this.localStreams.indexOf(d),1),this._maybeFireNegotiationNeeded()},i.prototype.removeStream=function(l){var c=this;l.getTracks().forEach(function(d){var p=c.getSenders().find(function(h){return h.track===d});p&&c.removeTrack(p)})},i.prototype.getSenders=function(){return this.transceivers.filter(function(l){return!!l.rtpSender}).map(function(l){return l.rtpSender})},i.prototype.getReceivers=function(){return this.transceivers.filter(function(l){return!!l.rtpReceiver}).map(function(l){return l.rtpReceiver})},i.prototype._createIceGatherer=function(l,c){var d=this;if(c&&l>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var p=new t.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(p,"state",{value:"new",writable:!0}),this.transceivers[l].bufferedCandidateEvents=[],this.transceivers[l].bufferCandidates=function(h){var m=!h.candidate||Object.keys(h.candidate).length===0;p.state=m?"completed":"gathering",d.transceivers[l].bufferedCandidateEvents!==null&&d.transceivers[l].bufferedCandidateEvents.push(h)},p.addEventListener("localcandidate",this.transceivers[l].bufferCandidates),p},i.prototype._gather=function(l,c){var d=this,p=this.transceivers[c].iceGatherer;if(!p.onlocalcandidate){var h=this.transceivers[c].bufferedCandidateEvents;this.transceivers[c].bufferedCandidateEvents=null,p.removeEventListener("localcandidate",this.transceivers[c].bufferCandidates),p.onlocalcandidate=function(m){if(!(d.usingBundle&&c>0)){var g=new Event("icecandidate");g.candidate={sdpMid:l,sdpMLineIndex:c};var C=m.candidate,v=!C||Object.keys(C).length===0;if(v)(p.state==="new"||p.state==="gathering")&&(p.state="completed");else{p.state==="new"&&(p.state="gathering"),C.component=1,C.ufrag=p.getLocalParameters().usernameFragment;var S=je.writeCandidate(C);g.candidate=Object.assign(g.candidate,je.parseCandidate(S)),g.candidate.candidate=S,g.candidate.toJSON=function(){return{candidate:g.candidate.candidate,sdpMid:g.candidate.sdpMid,sdpMLineIndex:g.candidate.sdpMLineIndex,usernameFragment:g.candidate.usernameFragment}}}var y=je.getMediaSections(d._localDescription.sdp);v?y[g.candidate.sdpMLineIndex]+=`a=end-of-candidates\r
`:y[g.candidate.sdpMLineIndex]+="a="+g.candidate.candidate+`\r
`,d._localDescription.sdp=je.getDescription(d._localDescription.sdp)+y.join("");var b=d.transceivers.every(function(w){return w.iceGatherer&&w.iceGatherer.state==="completed"});d.iceGatheringState!=="gathering"&&(d.iceGatheringState="gathering",d._emitGatheringStateChange()),v||d._dispatchEvent("icecandidate",g),b&&(d._dispatchEvent("icecandidate",new Event("icecandidate")),d.iceGatheringState="complete",d._emitGatheringStateChange())}},t.setTimeout(function(){h.forEach(function(m){p.onlocalcandidate(m)})},0)}},i.prototype._createIceAndDtlsTransports=function(){var l=this,c=new t.RTCIceTransport(null);c.onicestatechange=function(){l._updateIceConnectionState(),l._updateConnectionState()};var d=new t.RTCDtlsTransport(c);return d.ondtlsstatechange=function(){l._updateConnectionState()},d.onerror=function(){Object.defineProperty(d,"state",{value:"failed",writable:!0}),l._updateConnectionState()},{iceTransport:c,dtlsTransport:d}},i.prototype._disposeIceAndDtlsTransports=function(l){var c=this.transceivers[l].iceGatherer;c&&(delete c.onlocalcandidate,delete this.transceivers[l].iceGatherer);var d=this.transceivers[l].iceTransport;d&&(delete d.onicestatechange,delete this.transceivers[l].iceTransport);var p=this.transceivers[l].dtlsTransport;p&&(delete p.ondtlsstatechange,delete p.onerror,delete this.transceivers[l].dtlsTransport)},i.prototype._transceive=function(l,c,d){var p=df(l.localCapabilities,l.remoteCapabilities);c&&l.rtpSender&&(p.encodings=l.sendEncodingParameters,p.rtcp={cname:je.localCName,compound:l.rtcpParameters.compound},l.recvEncodingParameters.length&&(p.rtcp.ssrc=l.recvEncodingParameters[0].ssrc),l.rtpSender.send(p)),d&&l.rtpReceiver&&p.codecs.length>0&&(l.kind==="video"&&l.recvEncodingParameters&&e<15019&&l.recvEncodingParameters.forEach(function(h){delete h.rtx}),l.recvEncodingParameters.length?p.encodings=l.recvEncodingParameters:p.encodings=[{}],p.rtcp={compound:l.rtcpParameters.compound},l.rtcpParameters.cname&&(p.rtcp.cname=l.rtcpParameters.cname),l.sendEncodingParameters.length&&(p.rtcp.ssrc=l.sendEncodingParameters[0].ssrc),l.rtpReceiver.receive(p))},i.prototype.setLocalDescription=function(l){var c=this;if(["offer","answer"].indexOf(l.type)===-1)return Promise.reject(zn("TypeError",'Unsupported type "'+l.type+'"'));if(!Mw("setLocalDescription",l.type,c.signalingState)||c._isClosed)return Promise.reject(zn("InvalidStateError","Can not set local "+l.type+" in state "+c.signalingState));var d,p;if(l.type==="offer")d=je.splitSections(l.sdp),p=d.shift(),d.forEach(function(m,g){var C=je.parseRtpParameters(m);c.transceivers[g].localCapabilities=C}),c.transceivers.forEach(function(m,g){c._gather(m.mid,g)});else if(l.type==="answer"){d=je.splitSections(c._remoteDescription.sdp),p=d.shift();var h=je.matchPrefix(p,"a=ice-lite").length>0;d.forEach(function(m,g){var C=c.transceivers[g],v=C.iceGatherer,S=C.iceTransport,y=C.dtlsTransport,b=C.localCapabilities,w=C.remoteCapabilities,x=je.isRejected(m)&&je.matchPrefix(m,"a=bundle-only").length===0;if(!x&&!C.rejected){var _=je.getIceParameters(m,p),I=je.getDtlsParameters(m,p);h&&(I.role="server"),(!c.usingBundle||g===0)&&(c._gather(C.mid,g),S.state==="new"&&S.start(v,_,h?"controlling":"controlled"),y.state==="new"&&y.start(I));var T=df(b,w);c._transceive(C,T.codecs.length>0,!1)}})}return c._localDescription={type:l.type,sdp:l.sdp},l.type==="offer"?c._updateSignalingState("have-local-offer"):c._updateSignalingState("stable"),Promise.resolve()},i.prototype.setRemoteDescription=function(l){var c=this;if(["offer","answer"].indexOf(l.type)===-1)return Promise.reject(zn("TypeError",'Unsupported type "'+l.type+'"'));if(!Mw("setRemoteDescription",l.type,c.signalingState)||c._isClosed)return Promise.reject(zn("InvalidStateError","Can not set remote "+l.type+" in state "+c.signalingState));var d={};c.remoteStreams.forEach(function(S){d[S.id]=S});var p=[],h=je.splitSections(l.sdp),m=h.shift(),g=je.matchPrefix(m,"a=ice-lite").length>0,C=je.matchPrefix(m,"a=group:BUNDLE ").length>0;c.usingBundle=C;var v=je.matchPrefix(m,"a=ice-options:")[0];return v?c.canTrickleIceCandidates=v.substr(14).split(" ").indexOf("trickle")>=0:c.canTrickleIceCandidates=!1,h.forEach(function(S,y){var b=je.splitLines(S),w=je.getKind(S),x=je.isRejected(S)&&je.matchPrefix(S,"a=bundle-only").length===0,_=b[0].substr(2).split(" ")[2],I=je.getDirection(S,m),T=je.parseMsid(S),A=je.getMid(S)||je.generateIdentifier();if(x||w==="application"&&(_==="DTLS/SCTP"||_==="UDP/DTLS/SCTP")){c.transceivers[y]={mid:A,kind:w,protocol:_,rejected:!0};return}!x&&c.transceivers[y]&&c.transceivers[y].rejected&&(c.transceivers[y]=c._createTransceiver(w,!0));var k,R,M,D,F,z,j,H,O,U=je.parseRtpParameters(S),N,W;x||(N=je.getIceParameters(S,m),W=je.getDtlsParameters(S,m),W.role="client"),j=je.parseRtpEncodingParameters(S);var B=je.parseRtcpParameters(S),$=je.matchPrefix(S,"a=end-of-candidates",m).length>0,q=je.matchPrefix(S,"a=candidate:").map(function(ie){return je.parseCandidate(ie)}).filter(function(ie){return ie.component===1});if((l.type==="offer"||l.type==="answer")&&!x&&C&&y>0&&c.transceivers[y]&&(c._disposeIceAndDtlsTransports(y),c.transceivers[y].iceGatherer=c.transceivers[0].iceGatherer,c.transceivers[y].iceTransport=c.transceivers[0].iceTransport,c.transceivers[y].dtlsTransport=c.transceivers[0].dtlsTransport,c.transceivers[y].rtpSender&&c.transceivers[y].rtpSender.setTransport(c.transceivers[0].dtlsTransport),c.transceivers[y].rtpReceiver&&c.transceivers[y].rtpReceiver.setTransport(c.transceivers[0].dtlsTransport)),l.type==="offer"&&!x){k=c.transceivers[y]||c._createTransceiver(w),k.mid=A,k.iceGatherer||(k.iceGatherer=c._createIceGatherer(y,C)),q.length&&k.iceTransport.state==="new"&&($&&(!C||y===0)?k.iceTransport.setRemoteCandidates(q):q.forEach(function(ie){A5(k.iceTransport,ie)})),H=t.RTCRtpReceiver.getCapabilities(w),e<15019&&(H.codecs=H.codecs.filter(function(ie){return ie.name!=="rtx"})),z=k.sendEncodingParameters||[{ssrc:(2*y+2)*1001}];var X=!1;if(I==="sendrecv"||I==="sendonly"){if(X=!k.rtpReceiver,F=k.rtpReceiver||new t.RTCRtpReceiver(k.dtlsTransport,w),X){var ee;O=F.track,T&&T.stream==="-"||(T?(d[T.stream]||(d[T.stream]=new t.MediaStream,Object.defineProperty(d[T.stream],"id",{get:function(){return T.stream}})),Object.defineProperty(O,"id",{get:function(){return T.track}}),ee=d[T.stream]):(d.default||(d.default=new t.MediaStream),ee=d.default)),ee&&(n(O,ee),k.associatedRemoteMediaStreams.push(ee)),p.push([O,F,ee])}}else k.rtpReceiver&&k.rtpReceiver.track&&(k.associatedRemoteMediaStreams.forEach(function(ie){var J=ie.getTracks().find(function(le){return le.id===k.rtpReceiver.track.id});J&&o(J,ie)}),k.associatedRemoteMediaStreams=[]);k.localCapabilities=H,k.remoteCapabilities=U,k.rtpReceiver=F,k.rtcpParameters=B,k.sendEncodingParameters=z,k.recvEncodingParameters=j,c._transceive(c.transceivers[y],!1,X)}else if(l.type==="answer"&&!x){k=c.transceivers[y],R=k.iceGatherer,M=k.iceTransport,D=k.dtlsTransport,F=k.rtpReceiver,z=k.sendEncodingParameters,H=k.localCapabilities,c.transceivers[y].recvEncodingParameters=j,c.transceivers[y].remoteCapabilities=U,c.transceivers[y].rtcpParameters=B,q.length&&M.state==="new"&&((g||$)&&(!C||y===0)?M.setRemoteCandidates(q):q.forEach(function(ie){A5(k.iceTransport,ie)})),(!C||y===0)&&(M.state==="new"&&M.start(R,N,"controlling"),D.state==="new"&&D.start(W));var ue=df(k.localCapabilities,k.remoteCapabilities),se=ue.codecs.filter(function(ie){return ie.name.toLowerCase()==="rtx"}).length;!se&&k.sendEncodingParameters[0].rtx&&delete k.sendEncodingParameters[0].rtx,c._transceive(k,I==="sendrecv"||I==="recvonly",I==="sendrecv"||I==="sendonly"),F&&(I==="sendrecv"||I==="sendonly")?(O=F.track,T?(d[T.stream]||(d[T.stream]=new t.MediaStream),n(O,d[T.stream]),p.push([O,F,d[T.stream]])):(d.default||(d.default=new t.MediaStream),n(O,d.default),p.push([O,F,d.default]))):delete k.rtpReceiver}}),c._dtlsRole===void 0&&(c._dtlsRole=l.type==="offer"?"active":"passive"),c._remoteDescription={type:l.type,sdp:l.sdp},l.type==="offer"?c._updateSignalingState("have-remote-offer"):c._updateSignalingState("stable"),Object.keys(d).forEach(function(S){var y=d[S];if(y.getTracks().length){if(c.remoteStreams.indexOf(y)===-1){c.remoteStreams.push(y);var b=new Event("addstream");b.stream=y,t.setTimeout(function(){c._dispatchEvent("addstream",b)})}p.forEach(function(w){var x=w[0],_=w[1];y.id===w[2].id&&r(c,x,_,[y])})}}),p.forEach(function(S){S[2]||r(c,S[0],S[1],[])}),t.setTimeout(function(){c&&c.transceivers&&c.transceivers.forEach(function(S){S.iceTransport&&S.iceTransport.state==="new"&&S.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),S.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},i.prototype.close=function(){this.transceivers.forEach(function(l){l.iceTransport&&l.iceTransport.stop(),l.dtlsTransport&&l.dtlsTransport.stop(),l.rtpSender&&l.rtpSender.stop(),l.rtpReceiver&&l.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},i.prototype._updateSignalingState=function(l){this.signalingState=l;var c=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",c)},i.prototype._maybeFireNegotiationNeeded=function(){var l=this;this.signalingState!=="stable"||this.needNegotiation===!0||(this.needNegotiation=!0,t.setTimeout(function(){if(l.needNegotiation){l.needNegotiation=!1;var c=new Event("negotiationneeded");l._dispatchEvent("negotiationneeded",c)}},0))},i.prototype._updateIceConnectionState=function(){var l,c={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(p){p.iceTransport&&!p.rejected&&c[p.iceTransport.state]++}),l="new",c.failed>0?l="failed":c.checking>0?l="checking":c.disconnected>0?l="disconnected":c.new>0?l="new":c.connected>0?l="connected":c.completed>0&&(l="completed"),l!==this.iceConnectionState){this.iceConnectionState=l;var d=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",d)}},i.prototype._updateConnectionState=function(){var l,c={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(p){p.iceTransport&&p.dtlsTransport&&!p.rejected&&(c[p.iceTransport.state]++,c[p.dtlsTransport.state]++)}),c.connected+=c.completed,l="new",c.failed>0?l="failed":c.connecting>0?l="connecting":c.disconnected>0?l="disconnected":c.new>0?l="new":c.connected>0&&(l="connected"),l!==this.connectionState){this.connectionState=l;var d=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",d)}},i.prototype.createOffer=function(){var l=this;if(l._isClosed)return Promise.reject(zn("InvalidStateError","Can not call createOffer after close"));var c=l.transceivers.filter(function(g){return g.kind==="audio"}).length,d=l.transceivers.filter(function(g){return g.kind==="video"}).length,p=arguments[0];if(p){if(p.mandatory||p.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");p.offerToReceiveAudio!==void 0&&(p.offerToReceiveAudio===!0?c=1:p.offerToReceiveAudio===!1?c=0:c=p.offerToReceiveAudio),p.offerToReceiveVideo!==void 0&&(p.offerToReceiveVideo===!0?d=1:p.offerToReceiveVideo===!1?d=0:d=p.offerToReceiveVideo)}for(l.transceivers.forEach(function(g){g.kind==="audio"?(c--,c<0&&(g.wantReceive=!1)):g.kind==="video"&&(d--,d<0&&(g.wantReceive=!1))});c>0||d>0;)c>0&&(l._createTransceiver("audio"),c--),d>0&&(l._createTransceiver("video"),d--);var h=je.writeSessionBoilerplate(l._sdpSessionId,l._sdpSessionVersion++);l.transceivers.forEach(function(g,C){var v=g.track,S=g.kind,y=g.mid||je.generateIdentifier();g.mid=y,g.iceGatherer||(g.iceGatherer=l._createIceGatherer(C,l.usingBundle));var b=t.RTCRtpSender.getCapabilities(S);e<15019&&(b.codecs=b.codecs.filter(function(x){return x.name!=="rtx"})),b.codecs.forEach(function(x){x.name==="H264"&&x.parameters["level-asymmetry-allowed"]===void 0&&(x.parameters["level-asymmetry-allowed"]="1"),g.remoteCapabilities&&g.remoteCapabilities.codecs&&g.remoteCapabilities.codecs.forEach(function(_){x.name.toLowerCase()===_.name.toLowerCase()&&x.clockRate===_.clockRate&&(x.preferredPayloadType=_.payloadType)})}),b.headerExtensions.forEach(function(x){var _=g.remoteCapabilities&&g.remoteCapabilities.headerExtensions||[];_.forEach(function(I){x.uri===I.uri&&(x.id=I.id)})});var w=g.sendEncodingParameters||[{ssrc:(2*C+1)*1001}];v&&e>=15019&&S==="video"&&!w[0].rtx&&(w[0].rtx={ssrc:w[0].ssrc+1}),g.wantReceive&&(g.rtpReceiver=new t.RTCRtpReceiver(g.dtlsTransport,S)),g.localCapabilities=b,g.sendEncodingParameters=w}),l._config.bundlePolicy!=="max-compat"&&(h+="a=group:BUNDLE "+l.transceivers.map(function(g){return g.mid}).join(" ")+`\r
`),h+=`a=ice-options:trickle\r
`,l.transceivers.forEach(function(g,C){h+=Lw(g,g.localCapabilities,"offer",g.stream,l._dtlsRole),h+=`a=rtcp-rsize\r
`,g.iceGatherer&&l.iceGatheringState!=="new"&&(C===0||!l.usingBundle)&&(g.iceGatherer.getLocalCandidates().forEach(function(v){v.component=1,h+="a="+je.writeCandidate(v)+`\r
`}),g.iceGatherer.state==="completed"&&(h+=`a=end-of-candidates\r
`))});var m=new t.RTCSessionDescription({type:"offer",sdp:h});return Promise.resolve(m)},i.prototype.createAnswer=function(){var l=this;if(l._isClosed)return Promise.reject(zn("InvalidStateError","Can not call createAnswer after close"));if(!(l.signalingState==="have-remote-offer"||l.signalingState==="have-local-pranswer"))return Promise.reject(zn("InvalidStateError","Can not call createAnswer in signalingState "+l.signalingState));var c=je.writeSessionBoilerplate(l._sdpSessionId,l._sdpSessionVersion++);l.usingBundle&&(c+="a=group:BUNDLE "+l.transceivers.map(function(h){return h.mid}).join(" ")+`\r
`),c+=`a=ice-options:trickle\r
`;var d=je.getMediaSections(l._remoteDescription.sdp).length;l.transceivers.forEach(function(h,m){if(!(m+1>d)){if(h.rejected){h.kind==="application"?h.protocol==="DTLS/SCTP"?c+=`m=application 0 DTLS/SCTP 5000\r
`:c+="m=application 0 "+h.protocol+` webrtc-datachannel\r
`:h.kind==="audio"?c+=`m=audio 0 UDP/TLS/RTP/SAVPF 0\r
a=rtpmap:0 PCMU/8000\r
`:h.kind==="video"&&(c+=`m=video 0 UDP/TLS/RTP/SAVPF 120\r
a=rtpmap:120 VP8/90000\r
`),c+=`c=IN IP4 0.0.0.0\r
a=inactive\r
a=mid:`+h.mid+`\r
`;return}if(h.stream){var g;h.kind==="audio"?g=h.stream.getAudioTracks()[0]:h.kind==="video"&&(g=h.stream.getVideoTracks()[0]),g&&e>=15019&&h.kind==="video"&&!h.sendEncodingParameters[0].rtx&&(h.sendEncodingParameters[0].rtx={ssrc:h.sendEncodingParameters[0].ssrc+1})}var C=df(h.localCapabilities,h.remoteCapabilities),v=C.codecs.filter(function(S){return S.name.toLowerCase()==="rtx"}).length;!v&&h.sendEncodingParameters[0].rtx&&delete h.sendEncodingParameters[0].rtx,c+=Lw(h,C,"answer",h.stream,l._dtlsRole),h.rtcpParameters&&h.rtcpParameters.reducedSize&&(c+=`a=rtcp-rsize\r
`)}});var p=new t.RTCSessionDescription({type:"answer",sdp:c});return Promise.resolve(p)},i.prototype.addIceCandidate=function(l){var c=this,d;return l&&!(l.sdpMLineIndex!==void 0||l.sdpMid)?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(p,h){if(c._remoteDescription)if(!l||l.candidate==="")for(var m=0;m<c.transceivers.length&&!(!c.transceivers[m].rejected&&(c.transceivers[m].iceTransport.addRemoteCandidate({}),d=je.getMediaSections(c._remoteDescription.sdp),d[m]+=`a=end-of-candidates\r
`,c._remoteDescription.sdp=je.getDescription(c._remoteDescription.sdp)+d.join(""),c.usingBundle));m++);else{var g=l.sdpMLineIndex;if(l.sdpMid){for(var C=0;C<c.transceivers.length;C++)if(c.transceivers[C].mid===l.sdpMid){g=C;break}}var v=c.transceivers[g];if(v){if(v.rejected)return p();var S=Object.keys(l.candidate).length>0?je.parseCandidate(l.candidate):{};if(S.protocol==="tcp"&&(S.port===0||S.port===9)||S.component&&S.component!==1)return p();if((g===0||g>0&&v.iceTransport!==c.transceivers[0].iceTransport)&&!A5(v.iceTransport,S))return h(zn("OperationError","Can not add ICE candidate"));var y=l.candidate.trim();y.indexOf("a=")===0&&(y=y.substr(2)),d=je.getMediaSections(c._remoteDescription.sdp),d[g]+="a="+(S.type?y:"end-of-candidates")+`\r
`,c._remoteDescription.sdp=je.getDescription(c._remoteDescription.sdp)+d.join("")}else return h(zn("OperationError","Can not add ICE candidate"))}else return h(zn("InvalidStateError","Can not add ICE candidate without a remote description"));p()})},i.prototype.getStats=function(l){if(l&&l instanceof t.MediaStreamTrack){var c=null;if(this.transceivers.forEach(function(p){p.rtpSender&&p.rtpSender.track===l?c=p.rtpSender:p.rtpReceiver&&p.rtpReceiver.track===l&&(c=p.rtpReceiver)}),!c)throw zn("InvalidAccessError","Invalid selector.");return c.getStats()}var d=[];return this.transceivers.forEach(function(p){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(h){p[h]&&d.push(p[h].getStats())})}),Promise.all(d).then(function(p){var h=new Map;return p.forEach(function(m){m.forEach(function(g){h.set(g.id,g)})}),h})};var s=["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"];s.forEach(function(l){var c=t[l];if(c&&c.prototype&&c.prototype.getStats){var d=c.prototype.getStats;c.prototype.getStats=function(){return d.apply(this).then(function(p){var h=new Map;return Object.keys(p).forEach(function(m){p[m].type=iie(p[m]),h.set(m,p[m])}),h})}}});var a=["createOffer","createAnswer"];return a.forEach(function(l){var c=i.prototype[l];i.prototype[l]=function(){var d=arguments;return typeof d[0]=="function"||typeof d[1]=="function"?c.apply(this,[arguments[2]]).then(function(p){typeof d[0]=="function"&&d[0].apply(null,[p])},function(p){typeof d[1]=="function"&&d[1].apply(null,[p])}):c.apply(this,arguments)}}),a=["setLocalDescription","setRemoteDescription","addIceCandidate"],a.forEach(function(l){var c=i.prototype[l];i.prototype[l]=function(){var d=arguments;return typeof d[1]=="function"||typeof d[2]=="function"?c.apply(this,arguments).then(function(){typeof d[1]=="function"&&d[1].apply(null)},function(p){typeof d[2]=="function"&&d[2].apply(null,[p])}):c.apply(this,arguments)}}),["getStats"].forEach(function(l){var c=i.prototype[l];i.prototype[l]=function(){var d=arguments;return typeof d[1]=="function"?c.apply(this,arguments).then(function(){typeof d[1]=="function"&&d[1].apply(null)}):c.apply(this,arguments)}}),i};const lie=wt(aie);function hO(t){const e=t&&t.navigator,n=function(r){return{name:{PermissionDeniedError:"NotAllowedError"}[r.name]||r.name,message:r.message,constraint:r.constraint,toString(){return this.name}}},o=e.mediaDevices.getUserMedia.bind(e.mediaDevices);e.mediaDevices.getUserMedia=function(r){return o(r).catch(i=>Promise.reject(n(i)))}}function fO(t){"getDisplayMedia"in t.navigator&&t.navigator.mediaDevices&&(t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||(t.navigator.mediaDevices.getDisplayMedia=t.navigator.getDisplayMedia.bind(t.navigator)))}function vv(t,e){if(t.RTCIceGatherer&&(t.RTCIceCandidate||(t.RTCIceCandidate=function(r){return r}),t.RTCSessionDescription||(t.RTCSessionDescription=function(r){return r}),e.version<15025)){const o=Object.getOwnPropertyDescriptor(t.MediaStreamTrack.prototype,"enabled");Object.defineProperty(t.MediaStreamTrack.prototype,"enabled",{set(r){o.set.call(this,r);const i=new Event("enabled");i.enabled=r,this.dispatchEvent(i)}})}t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)&&Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=new t.RTCDtmfSender(this):this.track.kind==="video"&&(this._dtmf=null)),this._dtmf}}),t.RTCDtmfSender&&!t.RTCDTMFSender&&(t.RTCDTMFSender=t.RTCDtmfSender);const n=lie(t,e.version);t.RTCPeerConnection=function(r){return r&&r.iceServers&&(r.iceServers=rie(r.iceServers,e.version),Ny("ICE servers after filtering:",r.iceServers)),new n(r)},t.RTCPeerConnection.prototype=n.prototype}function mO(t){t.RTCRtpSender&&!("replaceTrack"in t.RTCRtpSender.prototype)&&(t.RTCRtpSender.prototype.replaceTrack=t.RTCRtpSender.prototype.setTrack)}const Ow=Object.freeze(Object.defineProperty({__proto__:null,shimGetDisplayMedia:fO,shimGetUserMedia:hO,shimPeerConnection:vv,shimReplaceTrack:mO},Symbol.toStringTag,{value:"Module"}));function gO(t,e){const n=t&&t.navigator,o=t&&t.MediaStreamTrack;if(n.getUserMedia=function(r,i,s){Kg("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(r).then(i,s)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const r=function(s,a,l){a in s&&!(l in s)&&(s[l]=s[a],delete s[a])},i=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(s){return typeof s=="object"&&typeof s.audio=="object"&&(s=JSON.parse(JSON.stringify(s)),r(s.audio,"autoGainControl","mozAutoGainControl"),r(s.audio,"noiseSuppression","mozNoiseSuppression")),i(s)},o&&o.prototype.getSettings){const s=o.prototype.getSettings;o.prototype.getSettings=function(){const a=s.apply(this,arguments);return r(a,"mozAutoGainControl","autoGainControl"),r(a,"mozNoiseSuppression","noiseSuppression"),a}}if(o&&o.prototype.applyConstraints){const s=o.prototype.applyConstraints;o.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),r(a,"autoGainControl","mozAutoGainControl"),r(a,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[a])}}}}function cie(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(o){if(!(o&&o.video)){const r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,Promise.reject(r)}return o.video===!0?o.video={mediaSource:e}:o.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(o)})}function vO(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Cv(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(r){const i=t.RTCPeerConnection.prototype[r],s={[r](){return arguments[0]=new(r==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};t.RTCPeerConnection.prototype[r]=s[r]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},o=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[i,s,a]=arguments;return o.apply(this,[i||null]).then(l=>{if(e.version<53&&!s)try{l.forEach(c=>{c.type=n[c.type]||c.type})}catch(c){if(c.name!=="TypeError")throw c;l.forEach((d,p)=>{l.set(p,Object.assign({},d,{type:n[d.type]||d.type}))})}return l}).then(s,a)}}function CO(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const r=e.apply(this,[]);return r.forEach(i=>i._pc=this),r});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const r=n.apply(this,arguments);return r._pc=this,r}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function yO(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const o=e.apply(this,[]);return o.forEach(r=>r._pc=this),o}),Lu(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function SO(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){Kg("removeStream","removeTrack"),this.getSenders().forEach(o=>{o.track&&n.getTracks().includes(o.track)&&this.removeTrack(o)})})}function bO(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function wO(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const o=arguments[1],r=o&&"sendEncodings"in o;r&&o.sendEncodings.forEach(s=>{if("rid"in s&&!/^[a-z0-9]{0,16}$/i.test(s.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in s&&!(parseFloat(s.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in s&&!(parseFloat(s.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const i=e.apply(this,arguments);if(r){const{sender:s}=i,a=s.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=o.sendEncodings,s.sendEncodings=o.sendEncodings,this.setParametersPromises.push(s.setParameters(a).then(()=>{delete s.sendEncodings}).catch(()=>{delete s.sendEncodings})))}return i})}function _O(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const o=e.apply(this,arguments);return"encodings"in o||(o.encodings=[].concat(this.sendEncodings||[{}])),o})}function xO(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function AO(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const Dw=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:wO,shimCreateAnswer:AO,shimCreateOffer:xO,shimGetDisplayMedia:cie,shimGetParameters:_O,shimGetUserMedia:gO,shimOnTrack:vO,shimPeerConnection:Cv,shimRTCDataChannel:bO,shimReceiverGetStats:yO,shimRemoveStream:SO,shimSenderGetStats:CO},Symbol.toStringTag,{value:"Module"}));function TO(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(o){this._localStreams||(this._localStreams=[]),this._localStreams.includes(o)||this._localStreams.push(o),o.getAudioTracks().forEach(r=>e.call(this,r,o)),o.getVideoTracks().forEach(r=>e.call(this,r,o))},t.RTCPeerConnection.prototype.addTrack=function(o,...r){return r&&r.forEach(i=>{this._localStreams?this._localStreams.includes(i)||this._localStreams.push(i):this._localStreams=[i]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const o=this._localStreams.indexOf(n);if(o===-1)return;this._localStreams.splice(o,1);const r=n.getTracks();this.getSenders().forEach(i=>{r.includes(i.track)&&this.removeTrack(i)})})}}function IO(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=o=>{o.streams.forEach(r=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(r))return;this._remoteStreams.push(r);const i=new Event("addstream");i.stream=r,this.dispatchEvent(i)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const o=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(r){r.streams.forEach(i=>{if(o._remoteStreams||(o._remoteStreams=[]),o._remoteStreams.indexOf(i)>=0)return;o._remoteStreams.push(i);const s=new Event("addstream");s.stream=i,o.dispatchEvent(s)})}),e.apply(o,arguments)}}}function EO(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,n=e.createOffer,o=e.createAnswer,r=e.setLocalDescription,i=e.setRemoteDescription,s=e.addIceCandidate;e.createOffer=function(c,d){const p=arguments.length>=2?arguments[2]:arguments[0],h=n.apply(this,[p]);return d?(h.then(c,d),Promise.resolve()):h},e.createAnswer=function(c,d){const p=arguments.length>=2?arguments[2]:arguments[0],h=o.apply(this,[p]);return d?(h.then(c,d),Promise.resolve()):h};let a=function(l,c,d){const p=r.apply(this,[l]);return d?(p.then(c,d),Promise.resolve()):p};e.setLocalDescription=a,a=function(l,c,d){const p=i.apply(this,[l]);return d?(p.then(c,d),Promise.resolve()):p},e.setRemoteDescription=a,a=function(l,c,d){const p=s.apply(this,[l]);return d?(p.then(c,d),Promise.resolve()):p},e.addIceCandidate=a}function kO(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const n=e.mediaDevices,o=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=r=>o(RO(r))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(o,r,i){e.mediaDevices.getUserMedia(o).then(r,i)}).bind(e))}function RO(t){return t&&t.video!==void 0?Object.assign({},t,{video:tO(t.video)}):t}function PO(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(o,r){if(o&&o.iceServers){const i=[];for(let s=0;s<o.iceServers.length;s++){let a=o.iceServers[s];!a.hasOwnProperty("urls")&&a.hasOwnProperty("url")?(Kg("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,i.push(a)):i.push(o.iceServers[s])}o.iceServers=i}return new e(o,r)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function LO(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function MO(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(o){if(o){typeof o.offerToReceiveAudio<"u"&&(o.offerToReceiveAudio=!!o.offerToReceiveAudio);const r=this.getTransceivers().find(s=>s.receiver.track.kind==="audio");o.offerToReceiveAudio===!1&&r?r.direction==="sendrecv"?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":r.direction==="recvonly"&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):o.offerToReceiveAudio===!0&&!r&&this.addTransceiver("audio"),typeof o.offerToReceiveVideo<"u"&&(o.offerToReceiveVideo=!!o.offerToReceiveVideo);const i=this.getTransceivers().find(s=>s.receiver.track.kind==="video");o.offerToReceiveVideo===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):o.offerToReceiveVideo===!0&&!i&&this.addTransceiver("video")}return e.apply(this,arguments)}}function OO(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}const Fw=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:OO,shimCallbacksAPI:EO,shimConstraints:RO,shimCreateOfferLegacy:MO,shimGetUserMedia:kO,shimLocalStreamsAPI:TO,shimRTCIceServerUrls:PO,shimRemoteStreamsAPI:IO,shimTrackEventTransceiver:LO},Symbol.toStringTag,{value:"Module"}));function em(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(o){if(typeof o=="object"&&o.candidate&&o.candidate.indexOf("a=")===0&&(o=JSON.parse(JSON.stringify(o)),o.candidate=o.candidate.substr(2)),o.candidate&&o.candidate.length){const r=new e(o),i=Jf.parseCandidate(o.candidate),s=Object.assign(r,i);return s.toJSON=function(){return{candidate:s.candidate,sdpMid:s.sdpMid,sdpMLineIndex:s.sdpMLineIndex,usernameFragment:s.usernameFragment}},s}return new e(o)},t.RTCIceCandidate.prototype=e.prototype,Lu(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function _p(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(a){if(!a||!a.sdp)return!1;const l=Jf.splitSections(a.sdp);return l.shift(),l.some(c=>{const d=Jf.parseMLine(c);return d&&d.kind==="application"&&d.protocol.indexOf("SCTP")!==-1})},o=function(a){const l=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(l===null||l.length<2)return-1;const c=parseInt(l[1],10);return c!==c?-1:c},r=function(a){let l=65536;return e.browser==="firefox"&&(e.version<57?a===-1?l=16384:l=2147483637:e.version<60?l=e.version===57?65535:65536:l=2147483637),l},i=function(a,l){let c=65536;e.browser==="firefox"&&e.version===57&&(c=65535);const d=Jf.matchPrefix(a.sdp,"a=max-message-size:");return d.length>0?c=parseInt(d[0].substr(19),10):e.browser==="firefox"&&l!==-1&&(c=2147483637),c},s=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:l}=this.getConfiguration();l==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const l=o(arguments[0]),c=r(l),d=i(arguments[0],l);let p;c===0&&d===0?p=Number.POSITIVE_INFINITY:c===0||d===0?p=Math.max(c,d):p=Math.min(c,d);const h={};Object.defineProperty(h,"maxMessageSize",{get(){return p}}),this._sctp=h}return s.apply(this,arguments)}}function xp(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(o,r){const i=o.send;o.send=function(){const a=arguments[0],l=a.length||a.size||a.byteLength;if(o.readyState==="open"&&r.sctp&&l>r.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+r.sctp.maxMessageSize+" bytes)");return i.apply(o,arguments)}}const n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const r=n.apply(this,arguments);return e(r,this),r},Lu(t,"datachannel",o=>(e(o.channel,o.target),o))}function yv(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const o=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=r=>{const i=r.target;if(i._lastConnectionState!==i.connectionState){i._lastConnectionState=i.connectionState;const s=new Event("connectionstatechange",r);i.dispatchEvent(s)}return r},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),o.apply(this,arguments)}})}function Sv(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e.version>=605)return;const n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(r){if(r&&r.sdp&&r.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const i=r.sdp.split(`
`).filter(s=>s.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&r instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:r.type,sdp:i}):r.sdp=i}return n.apply(this,arguments)}}function tm(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}const die=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Sv,shimAddIceCandidateNullOrEmpty:tm,shimConnectionState:yv,shimMaxMessageSize:_p,shimRTCIceCandidate:em,shimSendThrowTypeError:xp},Symbol.toStringTag,{value:"Module"}));function uie({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0}){const n=Ny,o=nie(t),r={browserDetails:o,commonShim:die,extractVersion:wp,disableLog:eie,disableWarnings:tie};switch(o.browser){case"chrome":if(!Pw||!gv||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),r;if(o.version===null)return n("Chrome shim can not determine version, not shimming."),r;n("adapter.js shimming chrome."),r.browserShim=Pw,tm(t,o),nO(t,o),oO(t),gv(t,o),rO(t),cO(t,o),iO(t),sO(t),aO(t),dO(t,o),em(t),yv(t),_p(t,o),xp(t),Sv(t,o);break;case"firefox":if(!Dw||!Cv||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),r;n("adapter.js shimming firefox."),r.browserShim=Dw,tm(t,o),gO(t,o),Cv(t,o),vO(t),SO(t),CO(t),yO(t),bO(t),wO(t),_O(t),xO(t),AO(t),em(t),yv(t),_p(t,o),xp(t);break;case"edge":if(!Ow||!vv||!e.shimEdge)return n("MS edge shim is not included in this adapter release."),r;n("adapter.js shimming edge."),r.browserShim=Ow,hO(t),fO(t),vv(t,o),mO(t),_p(t,o),xp(t);break;case"safari":if(!Fw||!e.shimSafari)return n("Safari shim is not included in this adapter release."),r;n("adapter.js shimming safari."),r.browserShim=Fw,tm(t,o),PO(t),MO(t),EO(t),TO(t),IO(t),LO(t),kO(t),OO(t),em(t),_p(t,o),xp(t),Sv(t,o);break;default:n("Unsupported browser!");break}return r}const Nw=uie({window:typeof window>"u"?void 0:window});function Fi(t,e,n,o){Object.defineProperty(t,e,{get:n,set:o,enumerable:!0,configurable:!0})}var T5=Nw.default||Nw,np=new(function(){function t(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}return t.prototype.isWebRTCSupported=function(){return typeof RTCPeerConnection<"u"},t.prototype.isBrowserSupported=function(){var e=this.getBrowser(),n=this.getVersion(),o=this.supportedBrowsers.includes(e);return o?e==="chrome"?n>=this.minChromeVersion:e==="firefox"?n>=this.minFirefoxVersion:e==="safari"?!this.isIOS&&n>=this.minSafariVersion:!1:!1},t.prototype.getBrowser=function(){return T5.browserDetails.browser},t.prototype.getVersion=function(){return T5.browserDetails.version||0},t.prototype.isUnifiedPlanSupported=function(){var e=this.getBrowser(),n=T5.browserDetails.version||0;if(e==="chrome"&&n<this.minChromeVersion)return!1;if(e==="firefox"&&n>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;var o,r=!1;try{o=new RTCPeerConnection,o.addTransceiver("audio"),r=!0}catch{}finally{o&&o.close()}return r},t.prototype.toString=function(){return`Supports:
    browser:`.concat(this.getBrowser(),`
    version:`).concat(this.getVersion(),`
    isIOS:`).concat(this.isIOS,`
    isWebRTCSupported:`).concat(this.isWebRTCSupported(),`
    isBrowserSupported:`).concat(this.isBrowserSupported(),`
    isUnifiedPlanSupported:`).concat(this.isUnifiedPlanSupported())},t}()),Hw={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},pie=function(){function t(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.chunkedMTU=16300,this.defaultConfig=Hw,this.browser=np.getBrowser(),this.browserVersion=np.getVersion(),this.supports=function(){var e={browser:np.isBrowserSupported(),webRTC:np.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!e.webRTC)return e;var n;try{n=new RTCPeerConnection(Hw),e.audioVideo=!0;var o=void 0;try{o=n.createDataChannel("_PEERJSTEST",{ordered:!0}),e.data=!0,e.reliable=!!o.ordered;try{o.binaryType="blob",e.binaryBlob=!np.isIOS}catch{}}catch{}finally{o&&o.close()}}catch{}finally{n&&n.close()}return e}(),this.pack=Iw.pack,this.unpack=Iw.unpack,this._dataCount=1}return t.prototype.noop=function(){},t.prototype.validateId=function(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e)},t.prototype.chunk=function(e){for(var n=[],o=e.size,r=Math.ceil(o/vt.chunkedMTU),i=0,s=0;s<o;){var a=Math.min(o,s+vt.chunkedMTU),l=e.slice(s,a),c={__peerData:this._dataCount,n:i,data:l,total:r};n.push(c),s=a,i++}return this._dataCount++,n},t.prototype.blobToArrayBuffer=function(e,n){var o=new FileReader;return o.onload=function(r){r.target&&n(r.target.result)},o.readAsArrayBuffer(e),o},t.prototype.binaryStringToArrayBuffer=function(e){for(var n=new Uint8Array(e.length),o=0;o<e.length;o++)n[o]=e.charCodeAt(o)&255;return n.buffer},t.prototype.randomToken=function(){return Math.random().toString(36).slice(2)},t.prototype.isSecure=function(){return location.protocol==="https:"},t}(),vt=new pie,DO={};Fi(DO,"Peer",()=>Zw,t=>Zw=t);var S1={},hie=Object.prototype.hasOwnProperty,bo="~";function ch(){}Object.create&&(ch.prototype=Object.create(null),new ch().__proto__||(bo=!1));function fie(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function FO(t,e,n,o,r){if(typeof n!="function")throw new TypeError("The listener must be a function");var i=new fie(n,o||t,r),s=bo?bo+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],i]:t._events[s].push(i):(t._events[s]=i,t._eventsCount++),t}function nm(t,e){--t._eventsCount===0?t._events=new ch:delete t._events[e]}function io(){this._events=new ch,this._eventsCount=0}io.prototype.eventNames=function(){var e=[],n,o;if(this._eventsCount===0)return e;for(o in n=this._events)hie.call(n,o)&&e.push(bo?o.slice(1):o);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(n)):e};io.prototype.listeners=function(e){var n=bo?bo+e:e,o=this._events[n];if(!o)return[];if(o.fn)return[o.fn];for(var r=0,i=o.length,s=new Array(i);r<i;r++)s[r]=o[r].fn;return s};io.prototype.listenerCount=function(e){var n=bo?bo+e:e,o=this._events[n];return o?o.fn?1:o.length:0};io.prototype.emit=function(e,n,o,r,i,s){var a=bo?bo+e:e;if(!this._events[a])return!1;var l=this._events[a],c=arguments.length,d,p;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,n),!0;case 3:return l.fn.call(l.context,n,o),!0;case 4:return l.fn.call(l.context,n,o,r),!0;case 5:return l.fn.call(l.context,n,o,r,i),!0;case 6:return l.fn.call(l.context,n,o,r,i,s),!0}for(p=1,d=new Array(c-1);p<c;p++)d[p-1]=arguments[p];l.fn.apply(l.context,d)}else{var h=l.length,m;for(p=0;p<h;p++)switch(l[p].once&&this.removeListener(e,l[p].fn,void 0,!0),c){case 1:l[p].fn.call(l[p].context);break;case 2:l[p].fn.call(l[p].context,n);break;case 3:l[p].fn.call(l[p].context,n,o);break;case 4:l[p].fn.call(l[p].context,n,o,r);break;default:if(!d)for(m=1,d=new Array(c-1);m<c;m++)d[m-1]=arguments[m];l[p].fn.apply(l[p].context,d)}}return!0};io.prototype.on=function(e,n,o){return FO(this,e,n,o,!1)};io.prototype.once=function(e,n,o){return FO(this,e,n,o,!0)};io.prototype.removeListener=function(e,n,o,r){var i=bo?bo+e:e;if(!this._events[i])return this;if(!n)return nm(this,i),this;var s=this._events[i];if(s.fn)s.fn===n&&(!r||s.once)&&(!o||s.context===o)&&nm(this,i);else{for(var a=0,l=[],c=s.length;a<c;a++)(s[a].fn!==n||r&&!s[a].once||o&&s[a].context!==o)&&l.push(s[a]);l.length?this._events[i]=l.length===1?l[0]:l:nm(this,i)}return this};io.prototype.removeAllListeners=function(e){var n;return e?(n=bo?bo+e:e,this._events[n]&&nm(this,n)):(this._events=new ch,this._eventsCount=0),this};io.prototype.off=io.prototype.removeListener;io.prototype.addListener=io.prototype.on;io.prefixed=bo;io.EventEmitter=io;S1=io;var Le={};Fi(Le,"LogLevel",()=>Io,t=>Io=t);Fi(Le,"default",()=>Bw,t=>Bw=t);var tl=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var o=n.call(t),r,i=[],s;try{for(;(e===void 0||e-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(s)throw s.error}}return i},nl=function(t,e,n){if(n||arguments.length===2)for(var o=0,r=e.length,i;o<r;o++)(i||!(o in e))&&(i||(i=Array.prototype.slice.call(e,0,o)),i[o]=e[o]);return t.concat(i||Array.prototype.slice.call(e))},mie="PeerJS: ",Io;(function(t){t[t.Disabled=0]="Disabled",t[t.Errors=1]="Errors",t[t.Warnings=2]="Warnings",t[t.All=3]="All"})(Io||(Io={}));var gie=function(){function t(){this._logLevel=Io.Disabled}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._logLevel>=Io.All&&this._print.apply(this,nl([Io.All],tl(e),!1))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._logLevel>=Io.Warnings&&this._print.apply(this,nl([Io.Warnings],tl(e),!1))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._logLevel>=Io.Errors&&this._print.apply(this,nl([Io.Errors],tl(e),!1))},t.prototype.setLogFunction=function(e){this._print=e},t.prototype._print=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var r=nl([mie],tl(n),!1);for(var i in r)r[i]instanceof Error&&(r[i]="("+r[i].name+") "+r[i].message);e>=Io.All?console.log.apply(console,nl([],tl(r),!1)):e>=Io.Warnings?console.warn.apply(console,nl(["WARNING"],tl(r),!1)):e>=Io.Errors&&console.error.apply(console,nl(["ERROR"],tl(r),!1))},t}(),Bw=new gie,NO={};Fi(NO,"Socket",()=>zw,t=>zw=t);var Rr;(function(t){t.Data="data",t.Media="media"})(Rr||(Rr={}));var jt;(function(t){t.BrowserIncompatible="browser-incompatible",t.Disconnected="disconnected",t.InvalidID="invalid-id",t.InvalidKey="invalid-key",t.Network="network",t.PeerUnavailable="peer-unavailable",t.SslUnavailable="ssl-unavailable",t.ServerError="server-error",t.SocketError="socket-error",t.SocketClosed="socket-closed",t.UnavailableID="unavailable-id",t.WebRTC="webrtc"})(jt||(jt={}));var Ki;(function(t){t.Binary="binary",t.BinaryUTF8="binary-utf8",t.JSON="json"})(Ki||(Ki={}));var ts;(function(t){t.Message="message",t.Disconnected="disconnected",t.Error="error",t.Close="close"})(ts||(ts={}));var Rn;(function(t){t.Heartbeat="HEARTBEAT",t.Candidate="CANDIDATE",t.Offer="OFFER",t.Answer="ANSWER",t.Open="OPEN",t.Error="ERROR",t.IdTaken="ID-TAKEN",t.InvalidKey="INVALID-KEY",t.Leave="LEAVE",t.Expire="EXPIRE"})(Rn||(Rn={}));var Hy={};Hy=JSON.parse('{"name":"peerjs","version":"1.4.7","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz StÃ¼ckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","SoÌˆren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","types":"dist/types.d.ts","engines":{"node":">= 10"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"mocha -r ts-node/register -r jsdom-global/register test/**/*.ts","format":"prettier --write .","semantic-release":"semantic-release"},"devDependencies":{"@parcel/config-default":"^2.5.0","@parcel/packager-ts":"^2.5.0","@parcel/transformer-typescript-tsc":"^2.5.0","@parcel/transformer-typescript-types":"^2.5.0","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@types/chai":"^4.3.0","@types/mocha":"^9.1.0","@types/node":"^17.0.18","chai":"^4.3.6","git-authors-cli":"^1.0.40","jsdom":"^19.0.0","jsdom-global":"^3.0.2","mocha":"^9.2.0","mock-socket":"8.0.5","parcel":"^2.5.0","parcel-transformer-tsc-sourcemaps":"^1.0.2","prettier":"^2.6.2","semantic-release":"^19.0.2","standard":"^16.0.4","ts-node":"^10.5.0","typescript":"^4.5.5"},"dependencies":{"@swc/helpers":"^0.3.13","eventemitter3":"^4.0.7","peerjs-js-binarypack":"1.0.1","webrtc-adapter":"^7.7.1"}}');var vie=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Cie=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var o=n.call(t),r,i=[],s;try{for(;(e===void 0||e-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(s)throw s.error}}return i},yie=function(t,e,n){if(n||arguments.length===2)for(var o=0,r=e.length,i;o<r;o++)(i||!(o in e))&&(i||(i=Array.prototype.slice.call(e,0,o)),i[o]=e[o]);return t.concat(i||Array.prototype.slice.call(e))},Sie=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zw=function(t){vie(e,t);function e(n,o,r,i,s,a){a===void 0&&(a=5e3);var l=t.call(this)||this;l.pingInterval=a,l._disconnected=!0,l._messagesQueue=[];var c=n?"wss://":"ws://";return l._baseUrl=c+o+":"+r+i+"peerjs?key="+s,l}return e.prototype.start=function(n,o){var r=this;this._id=n;var i="".concat(this._baseUrl,"&id=").concat(n,"&token=").concat(o);this._socket||!this._disconnected||(this._socket=new WebSocket(i+"&version="+Hy.version),this._disconnected=!1,this._socket.onmessage=function(s){var a;try{a=JSON.parse(s.data),Le.default.log("Server message received:",a)}catch{Le.default.log("Invalid server message",s.data);return}r.emit(ts.Message,a)},this._socket.onclose=function(s){r._disconnected||(Le.default.log("Socket closed.",s),r._cleanup(),r._disconnected=!0,r.emit(ts.Disconnected))},this._socket.onopen=function(){r._disconnected||(r._sendQueuedMessages(),Le.default.log("Socket open"),r._scheduleHeartbeat())})},e.prototype._scheduleHeartbeat=function(){var n=this;this._wsPingTimer=setTimeout(function(){n._sendHeartbeat()},this.pingInterval)},e.prototype._sendHeartbeat=function(){if(!this._wsOpen()){Le.default.log("Cannot send heartbeat, because socket closed");return}var n=JSON.stringify({type:Rn.Heartbeat});this._socket.send(n),this._scheduleHeartbeat()},e.prototype._wsOpen=function(){return!!this._socket&&this._socket.readyState===1},e.prototype._sendQueuedMessages=function(){var n,o,r=yie([],Cie(this._messagesQueue),!1);this._messagesQueue=[];try{for(var i=Sie(r),s=i.next();!s.done;s=i.next()){var a=s.value;this.send(a)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}},e.prototype.send=function(n){if(!this._disconnected){if(!this._id){this._messagesQueue.push(n);return}if(!n.type){this.emit(ts.Error,"Invalid message");return}if(this._wsOpen()){var o=JSON.stringify(n);this._socket.send(o)}}},e.prototype.close=function(){this._disconnected||(this._cleanup(),this._disconnected=!0)},e.prototype._cleanup=function(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)},e}(S1.EventEmitter),bv={};Fi(bv,"MediaConnection",()=>jw,t=>jw=t);var By={};Fi(By,"Negotiator",()=>Vw,t=>Vw=t);var qm=function(){return qm=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},qm.apply(this,arguments)},uf=function(t,e,n,o){function r(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(d){try{c(o.next(d))}catch(p){s(p)}}function l(d){try{c(o.throw(d))}catch(p){s(p)}}function c(d){d.done?i(d.value):r(d.value).then(a,l)}c((o=o.apply(t,e||[])).next())})},pf=function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},o,r,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(d){return l([c,d])}}function l(c){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,r&&(i=c[0]&2?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,r=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(d){c=[6,d],r=0}finally{o=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Vw=function(){function t(e){this.connection=e}return t.prototype.startConnection=function(e){var n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===Rr.Media&&e._stream&&this._addTracksToConnection(e._stream,n),e.originator){if(this.connection.type===Rr.Data){var o=this.connection,r={ordered:!!e.reliable},i=n.createDataChannel(o.label,r);o.initialize(i)}this._makeOffer()}else this.handleSDP("OFFER",e.sdp)},t.prototype._startPeerConnection=function(){Le.default.log("Creating RTCPeerConnection.");var e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e},t.prototype._setupListeners=function(e){var n=this,o=this.connection.peer,r=this.connection.connectionId,i=this.connection.type,s=this.connection.provider;Le.default.log("Listening for ICE candidates."),e.onicecandidate=function(a){!a.candidate||!a.candidate.candidate||(Le.default.log("Received ICE candidates for ".concat(o,":"),a.candidate),s.socket.send({type:Rn.Candidate,payload:{candidate:a.candidate,type:i,connectionId:r},dst:o}))},e.oniceconnectionstatechange=function(){switch(e.iceConnectionState){case"failed":Le.default.log("iceConnectionState is failed, closing connections to "+o),n.connection.emit("error",new Error("Negotiation of connection to "+o+" failed.")),n.connection.close();break;case"closed":Le.default.log("iceConnectionState is closed, closing connections to "+o),n.connection.emit("error",new Error("Connection to "+o+" closed.")),n.connection.close();break;case"disconnected":Le.default.log("iceConnectionState changed to disconnected on the connection with "+o);break;case"completed":e.onicecandidate=vt.noop;break}n.connection.emit("iceStateChanged",e.iceConnectionState)},Le.default.log("Listening for data channel"),e.ondatachannel=function(a){Le.default.log("Received data channel");var l=a.channel,c=s.getConnection(o,r);c.initialize(l)},Le.default.log("Listening for remote stream"),e.ontrack=function(a){Le.default.log("Received remote stream");var l=a.streams[0],c=s.getConnection(o,r);if(c.type===Rr.Media){var d=c;n._addStreamToMediaConnection(l,d)}}},t.prototype.cleanup=function(){Le.default.log("Cleaning up PeerConnection to "+this.connection.peer);var e=this.connection.peerConnection;if(e){this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=function(){};var n=e.signalingState!=="closed",o=!1;if(this.connection.type===Rr.Data){var r=this.connection,i=r.dataChannel;i&&(o=!!i.readyState&&i.readyState!=="closed")}(n||o)&&e.close()}},t.prototype._makeOffer=function(){return uf(this,void 0,Promise,function(){var e,n,o,r,i,s,a;return pf(this,function(l){switch(l.label){case 0:e=this.connection.peerConnection,n=this.connection.provider,l.label=1;case 1:return l.trys.push([1,7,,8]),[4,e.createOffer(this.connection.options.constraints)];case 2:o=l.sent(),Le.default.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(o.sdp=this.connection.options.sdpTransform(o.sdp)||o.sdp),l.label=3;case 3:return l.trys.push([3,5,,6]),[4,e.setLocalDescription(o)];case 4:return l.sent(),Le.default.log("Set localDescription:",o,"for:".concat(this.connection.peer)),r={sdp:o,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata,browser:vt.browser},this.connection.type===Rr.Data&&(i=this.connection,r=qm(qm({},r),{label:i.label,reliable:i.reliable,serialization:i.serialization})),n.socket.send({type:Rn.Offer,payload:r,dst:this.connection.peer}),[3,6];case 5:return s=l.sent(),s!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(jt.WebRTC,s),Le.default.log("Failed to setLocalDescription, ",s)),[3,6];case 6:return[3,8];case 7:return a=l.sent(),n.emitError(jt.WebRTC,a),Le.default.log("Failed to createOffer, ",a),[3,8];case 8:return[2]}})})},t.prototype._makeAnswer=function(){return uf(this,void 0,Promise,function(){var e,n,o,r,i;return pf(this,function(s){switch(s.label){case 0:e=this.connection.peerConnection,n=this.connection.provider,s.label=1;case 1:return s.trys.push([1,7,,8]),[4,e.createAnswer()];case 2:o=s.sent(),Le.default.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(o.sdp=this.connection.options.sdpTransform(o.sdp)||o.sdp),s.label=3;case 3:return s.trys.push([3,5,,6]),[4,e.setLocalDescription(o)];case 4:return s.sent(),Le.default.log("Set localDescription:",o,"for:".concat(this.connection.peer)),n.socket.send({type:Rn.Answer,payload:{sdp:o,type:this.connection.type,connectionId:this.connection.connectionId,browser:vt.browser},dst:this.connection.peer}),[3,6];case 5:return r=s.sent(),n.emitError(jt.WebRTC,r),Le.default.log("Failed to setLocalDescription, ",r),[3,6];case 6:return[3,8];case 7:return i=s.sent(),n.emitError(jt.WebRTC,i),Le.default.log("Failed to create answer, ",i),[3,8];case 8:return[2]}})})},t.prototype.handleSDP=function(e,n){return uf(this,void 0,Promise,function(){var o,r,i,s;return pf(this,function(a){switch(a.label){case 0:n=new RTCSessionDescription(n),o=this.connection.peerConnection,r=this.connection.provider,Le.default.log("Setting remote description",n),i=this,a.label=1;case 1:return a.trys.push([1,5,,6]),[4,o.setRemoteDescription(n)];case 2:return a.sent(),Le.default.log("Set remoteDescription:".concat(e," for:").concat(this.connection.peer)),e!=="OFFER"?[3,4]:[4,i._makeAnswer()];case 3:a.sent(),a.label=4;case 4:return[3,6];case 5:return s=a.sent(),r.emitError(jt.WebRTC,s),Le.default.log("Failed to setRemoteDescription, ",s),[3,6];case 6:return[2]}})})},t.prototype.handleCandidate=function(e){return uf(this,void 0,Promise,function(){var n,o,r,i,s,a;return pf(this,function(l){switch(l.label){case 0:Le.default.log("handleCandidate:",e),n=e.candidate,o=e.sdpMLineIndex,r=e.sdpMid,i=this.connection.peerConnection,s=this.connection.provider,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,i.addIceCandidate(new RTCIceCandidate({sdpMid:r,sdpMLineIndex:o,candidate:n}))];case 2:return l.sent(),Le.default.log("Added ICE candidate for:".concat(this.connection.peer)),[3,4];case 3:return a=l.sent(),s.emitError(jt.WebRTC,a),Le.default.log("Failed to handleCandidate, ",a),[3,4];case 4:return[2]}})})},t.prototype._addTracksToConnection=function(e,n){if(Le.default.log("add tracks from stream ".concat(e.id," to peer connection")),!n.addTrack)return Le.default.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(function(o){n.addTrack(o,e)})},t.prototype._addStreamToMediaConnection=function(e,n){Le.default.log("add stream ".concat(e.id," to media connection ").concat(n.connectionId)),n.addStream(e)},t}(),zy={};Fi(zy,"BaseConnection",()=>Ww,t=>Ww=t);var bie=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ww=function(t){bie(e,t);function e(n,o,r){var i=t.call(this)||this;return i.peer=n,i.provider=o,i.options=r,i._open=!1,i.metadata=r.metadata,i}return Object.defineProperty(e.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),e}(S1.EventEmitter),wie=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Gm=function(){return Gm=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},Gm.apply(this,arguments)},_ie=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jw=function(t){wie(e,t);function e(n,o,r){var i=t.call(this,n,o,r)||this;return i._localStream=i.options._stream,i.connectionId=i.options.connectionId||e.ID_PREFIX+vt.randomToken(),i._negotiator=new By.Negotiator(i),i._localStream&&i._negotiator.startConnection({_stream:i._localStream,originator:!0}),i}return Object.defineProperty(e.prototype,"type",{get:function(){return Rr.Media},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localStream",{get:function(){return this._localStream},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"remoteStream",{get:function(){return this._remoteStream},enumerable:!1,configurable:!0}),e.prototype.addStream=function(n){Le.default.log("Receiving stream",n),this._remoteStream=n,t.prototype.emit.call(this,"stream",n)},e.prototype.handleMessage=function(n){var o=n.type,r=n.payload;switch(n.type){case Rn.Answer:this._negotiator.handleSDP(o,r.sdp),this._open=!0;break;case Rn.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:Le.default.warn("Unrecognized message type:".concat(o," from peer:").concat(this.peer));break}},e.prototype.answer=function(n,o){var r,i;if(o===void 0&&(o={}),this._localStream){Le.default.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=n,o&&o.sdpTransform&&(this.options.sdpTransform=o.sdpTransform),this._negotiator.startConnection(Gm(Gm({},this.options._payload),{_stream:n}));var s=this.provider._getMessages(this.connectionId);try{for(var a=_ie(s),l=a.next();!l.done;l=a.next()){var c=l.value;this.handleMessage(c)}}catch(d){r={error:d}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}this._open=!0},e.prototype.close=function(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,t.prototype.emit.call(this,"close"))},e.ID_PREFIX="mc_",e}(zy.BaseConnection),wv={};Fi(wv,"DataConnection",()=>$w,t=>$w=t);var HO={};Fi(HO,"EncodingQueue",()=>Uw,t=>Uw=t);var xie=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Uw=function(t){xie(e,t);function e(){var n=t.call(this)||this;return n.fileReader=new FileReader,n._queue=[],n._processing=!1,n.fileReader.onload=function(o){n._processing=!1,o.target&&n.emit("done",o.target.result),n.doNextTask()},n.fileReader.onerror=function(o){Le.default.error("EncodingQueue error:",o),n._processing=!1,n.destroy(),n.emit("error",o)},n}return Object.defineProperty(e.prototype,"queue",{get:function(){return this._queue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0}),e.prototype.enque=function(n){this.queue.push(n),!this.processing&&this.doNextTask()},e.prototype.destroy=function(){this.fileReader.abort(),this._queue=[]},e.prototype.doNextTask=function(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))},e}(S1.EventEmitter),Aie=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Tie=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$w=function(t){Aie(e,t);function e(n,o,r){var i=t.call(this,n,o,r)||this;return i.stringify=JSON.stringify,i.parse=JSON.parse,i._buffer=[],i._bufferSize=0,i._buffering=!1,i._chunkedData={},i._encodingQueue=new HO.EncodingQueue,i.connectionId=i.options.connectionId||e.ID_PREFIX+vt.randomToken(),i.label=i.options.label||i.connectionId,i.serialization=i.options.serialization||Ki.Binary,i.reliable=!!i.options.reliable,i._encodingQueue.on("done",function(s){i._bufferedSend(s)}),i._encodingQueue.on("error",function(){Le.default.error("DC#".concat(i.connectionId,": Error occured in encoding from blob to arraybuffer, close DC")),i.close()}),i._negotiator=new By.Negotiator(i),i._negotiator.startConnection(i.options._payload||{originator:!0}),i}return Object.defineProperty(e.prototype,"type",{get:function(){return Rr.Data},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataChannel",{get:function(){return this._dc},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bufferSize",{get:function(){return this._bufferSize},enumerable:!1,configurable:!0}),e.prototype.initialize=function(n){this._dc=n,this._configureDataChannel()},e.prototype._configureDataChannel=function(){var n=this;(!vt.supports.binaryBlob||vt.supports.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=function(){Le.default.log("DC#".concat(n.connectionId," dc connection success")),n._open=!0,n.emit("open")},this.dataChannel.onmessage=function(o){Le.default.log("DC#".concat(n.connectionId," dc onmessage:"),o.data),n._handleDataMessage(o)},this.dataChannel.onclose=function(){Le.default.log("DC#".concat(n.connectionId," dc closed for:"),n.peer),n.close()}},e.prototype._handleDataMessage=function(n){var o=this,r=n.data,i=r.constructor,s=this.serialization===Ki.Binary||this.serialization===Ki.BinaryUTF8,a=r;if(s){if(i===Blob){vt.blobToArrayBuffer(r,function(c){var d=vt.unpack(c);o.emit("data",d)});return}else if(i===ArrayBuffer)a=vt.unpack(r);else if(i===String){var l=vt.binaryStringToArrayBuffer(r);a=vt.unpack(l)}}else this.serialization===Ki.JSON&&(a=this.parse(r));if(a.__peerData){this._handleChunk(a);return}t.prototype.emit.call(this,"data",a)},e.prototype._handleChunk=function(n){var o=n.__peerData,r=this._chunkedData[o]||{data:[],count:0,total:n.total};if(r.data[n.n]=n.data,r.count++,this._chunkedData[o]=r,r.total===r.count){delete this._chunkedData[o];var i=new Blob(r.data);this._handleDataMessage({data:i})}},e.prototype.close=function(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,t.prototype.emit.call(this,"close"))},e.prototype.send=function(n,o){if(!this.open){t.prototype.emit.call(this,"error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(this.serialization===Ki.JSON)this._bufferedSend(this.stringify(n));else if(this.serialization===Ki.Binary||this.serialization===Ki.BinaryUTF8){var r=vt.pack(n);if(!o&&r.size>vt.chunkedMTU){this._sendChunks(r);return}vt.supports.binaryBlob?this._bufferedSend(r):this._encodingQueue.enque(r)}else this._bufferedSend(n)},e.prototype._bufferedSend=function(n){(this._buffering||!this._trySend(n))&&(this._buffer.push(n),this._bufferSize=this._buffer.length)},e.prototype._trySend=function(n){var o=this;if(!this.open)return!1;if(this.dataChannel.bufferedAmount>e.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(function(){o._buffering=!1,o._tryBuffer()},50),!1;try{this.dataChannel.send(n)}catch(r){return Le.default.error("DC#:".concat(this.connectionId," Error when sending:"),r),this._buffering=!0,this.close(),!1}return!0},e.prototype._tryBuffer=function(){if(this.open&&this._buffer.length!==0){var n=this._buffer[0];this._trySend(n)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}},e.prototype._sendChunks=function(n){var o,r,i=vt.chunk(n);Le.default.log("DC#".concat(this.connectionId," Try to send ").concat(i.length," chunks..."));try{for(var s=Tie(i),a=s.next();!a.done;a=s.next()){var l=a.value;this.send(l,!0)}}catch(c){o={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}},e.prototype.handleMessage=function(n){var o=n.payload;switch(n.type){case Rn.Answer:this._negotiator.handleSDP(n.type,o.sdp);break;case Rn.Candidate:this._negotiator.handleCandidate(o.candidate);break;default:Le.default.warn("Unrecognized message type:",n.type,"from peer:",this.peer);break}},e.ID_PREFIX="dc_",e.MAX_BUFFERED_AMOUNT=8388608,e}(zy.BaseConnection),BO={};Fi(BO,"API",()=>Kw,t=>Kw=t);var qw=function(t,e,n,o){function r(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(d){try{c(o.next(d))}catch(p){s(p)}}function l(d){try{c(o.throw(d))}catch(p){s(p)}}function c(d){d.done?i(d.value):r(d.value).then(a,l)}c((o=o.apply(t,e||[])).next())})},Gw=function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},o,r,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(d){return l([c,d])}}function l(c){if(o)throw new TypeError("Generator is already executing.");for(;n;)try{if(o=1,r&&(i=c[0]&2?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,r=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(d){c=[6,d],r=0}finally{o=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Kw=function(){function t(e){this._options=e}return t.prototype._buildRequest=function(e){var n=this._options.secure?"https":"http",o=this._options,r=o.host,i=o.port,s=o.path,a=o.key,l=new URL("".concat(n,"://").concat(r,":").concat(i).concat(s).concat(a,"/").concat(e));return l.searchParams.set("ts","".concat(Date.now()).concat(Math.random())),l.searchParams.set("version",Hy.version),fetch(l.href,{referrerPolicy:this._options.referrerPolicy})},t.prototype.retrieveId=function(){return qw(this,void 0,Promise,function(){var e,n,o;return Gw(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this._buildRequest("id")];case 1:if(e=r.sent(),e.status!==200)throw new Error("Error. Status:".concat(e.status));return[2,e.text()];case 2:throw n=r.sent(),Le.default.error("Error retrieving ID",n),o="",this._options.path==="/"&&this._options.host!==vt.CLOUD_HOST&&(o=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+o);case 3:return[2]}})})},t.prototype.listAllPeers=function(){return qw(this,void 0,Promise,function(){var e,n,o;return Gw(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this._buildRequest("peers")];case 1:if(e=r.sent(),e.status!==200)throw e.status===401?(n="",this._options.host===vt.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)):new Error("Error. Status:".concat(e.status));return[2,e.json()];case 2:throw o=r.sent(),Le.default.error("Error retrieving list peers",o),new Error("Could not get list peers from the server."+o);case 3:return[2]}})})},t}(),Iie=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function o(){this.constructor=e}e.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),Dp=function(){return Dp=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},Dp.apply(this,arguments)},op=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Eie=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var o=n.call(t),r,i=[],s;try{for(;(e===void 0||e-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(s)throw s.error}}return i},Zw=function(t){Iie(e,t);function e(n,o){var r=t.call(this)||this;r._id=null,r._lastServerId=null,r._destroyed=!1,r._disconnected=!1,r._open=!1,r._connections=new Map,r._lostMessages=new Map;var i;return n&&n.constructor==Object?o=n:n&&(i=n.toString()),o=Dp({debug:0,host:vt.CLOUD_HOST,port:vt.CLOUD_PORT,path:"/",key:e.DEFAULT_KEY,token:vt.randomToken(),config:vt.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin"},o),r._options=o,r._options.host==="/"&&(r._options.host=window.location.hostname),r._options.path&&(r._options.path[0]!=="/"&&(r._options.path="/"+r._options.path),r._options.path[r._options.path.length-1]!=="/"&&(r._options.path+="/")),r._options.secure===void 0&&r._options.host!==vt.CLOUD_HOST?r._options.secure=vt.isSecure():r._options.host==vt.CLOUD_HOST&&(r._options.secure=!0),r._options.logFunction&&Le.default.setLogFunction(r._options.logFunction),Le.default.logLevel=r._options.debug||0,r._api=new BO.API(o),r._socket=r._createServerConnection(),!vt.supports.audioVideo&&!vt.supports.data?(r._delayedAbort(jt.BrowserIncompatible,"The current browser does not support WebRTC"),r):i&&!vt.validateId(i)?(r._delayedAbort(jt.InvalidID,'ID "'.concat(i,'" is invalid')),r):(i?r._initialize(i):r._api.retrieveId().then(function(s){return r._initialize(s)}).catch(function(s){return r._abort(jt.ServerError,s)}),r)}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"socket",{get:function(){return this._socket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connections",{get:function(){var n,o,r=Object.create(null);try{for(var i=op(this._connections),s=i.next();!s.done;s=i.next()){var a=Eie(s.value,2),l=a[0],c=a[1];r[l]=c}}catch(d){n={error:d}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disconnected",{get:function(){return this._disconnected},enumerable:!1,configurable:!0}),e.prototype._createServerConnection=function(){var n=this,o=new NO.Socket(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return o.on(ts.Message,function(r){n._handleMessage(r)}),o.on(ts.Error,function(r){n._abort(jt.SocketError,r)}),o.on(ts.Disconnected,function(){n.disconnected||(n.emitError(jt.Network,"Lost connection to server."),n.disconnect())}),o.on(ts.Close,function(){n.disconnected||n._abort(jt.SocketClosed,"Underlying socket is already closed.")}),o},e.prototype._initialize=function(n){this._id=n,this.socket.start(n,this._options.token)},e.prototype._handleMessage=function(n){var o,r,i=n.type,s=n.payload,a=n.src;switch(i){case Rn.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Rn.Error:this._abort(jt.ServerError,s.msg);break;case Rn.IdTaken:this._abort(jt.UnavailableID,'ID "'.concat(this.id,'" is taken'));break;case Rn.InvalidKey:this._abort(jt.InvalidKey,'API KEY "'.concat(this._options.key,'" is invalid'));break;case Rn.Leave:Le.default.log("Received leave message from ".concat(a)),this._cleanupPeer(a),this._connections.delete(a);break;case Rn.Expire:this.emitError(jt.PeerUnavailable,"Could not connect to peer ".concat(a));break;case Rn.Offer:var g=s.connectionId,C=this.getConnection(a,g);if(C&&(C.close(),Le.default.warn("Offer received for existing Connection ID:".concat(g))),s.type===Rr.Media){var l=new bv.MediaConnection(a,this,{connectionId:g,_payload:s,metadata:s.metadata});C=l,this._addConnection(a,C),this.emit("call",l)}else if(s.type===Rr.Data){var c=new wv.DataConnection(a,this,{connectionId:g,_payload:s,metadata:s.metadata,label:s.label,serialization:s.serialization,reliable:s.reliable});C=c,this._addConnection(a,C),this.emit("connection",c)}else{Le.default.warn("Received malformed connection type:".concat(s.type));return}var d=this._getMessages(g);try{for(var p=op(d),h=p.next();!h.done;h=p.next()){var m=h.value;C.handleMessage(m)}}catch(v){o={error:v}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(o)throw o.error}}break;default:if(!s){Le.default.warn("You received a malformed message from ".concat(a," of type ").concat(i));return}var g=s.connectionId,C=this.getConnection(a,g);C&&C.peerConnection?C.handleMessage(n):g?this._storeMessage(g,n):Le.default.warn("You received an unrecognized message:",n);break}},e.prototype._storeMessage=function(n,o){this._lostMessages.has(n)||this._lostMessages.set(n,[]),this._lostMessages.get(n).push(o)},e.prototype._getMessages=function(n){var o=this._lostMessages.get(n);return o?(this._lostMessages.delete(n),o):[]},e.prototype.connect=function(n,o){if(o===void 0&&(o={}),this.disconnected){Le.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(jt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}var r=new wv.DataConnection(n,this,o);return this._addConnection(n,r),r},e.prototype.call=function(n,o,r){if(r===void 0&&(r={}),this.disconnected){Le.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(jt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!o){Le.default.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}var i=new bv.MediaConnection(n,this,Dp(Dp({},r),{_stream:o}));return this._addConnection(n,i),i},e.prototype._addConnection=function(n,o){Le.default.log("add connection ".concat(o.type,":").concat(o.connectionId," to peerId:").concat(n)),this._connections.has(n)||this._connections.set(n,[]),this._connections.get(n).push(o)},e.prototype._removeConnection=function(n){var o=this._connections.get(n.peer);if(o){var r=o.indexOf(n);r!==-1&&o.splice(r,1)}this._lostMessages.delete(n.connectionId)},e.prototype.getConnection=function(n,o){var r,i,s=this._connections.get(n);if(!s)return null;try{for(var a=op(s),l=a.next();!l.done;l=a.next()){var c=l.value;if(c.connectionId===o)return c}}catch(d){r={error:d}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return null},e.prototype._delayedAbort=function(n,o){var r=this;setTimeout(function(){r._abort(n,o)},0)},e.prototype._abort=function(n,o){Le.default.error("Aborting!"),this.emitError(n,o),this._lastServerId?this.disconnect():this.destroy()},e.prototype.emitError=function(n,o){Le.default.error("Error:",o);var r;typeof o=="string"?r=new Error(o):r=o,r.type=n,this.emit("error",r)},e.prototype.destroy=function(){this.destroyed||(Le.default.log("Destroy peer with ID:".concat(this.id)),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))},e.prototype._cleanup=function(){var n,o;try{for(var r=op(this._connections.keys()),i=r.next();!i.done;i=r.next()){var s=i.value;this._cleanupPeer(s),this._connections.delete(s)}}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}this.socket.removeAllListeners()},e.prototype._cleanupPeer=function(n){var o,r,i=this._connections.get(n);if(i)try{for(var s=op(i),a=s.next();!a.done;a=s.next()){var l=a.value;l.close()}}catch(c){o={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}},e.prototype.disconnect=function(){if(!this.disconnected){var n=this.id;Le.default.log("Disconnect peer with ID:".concat(n)),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=n,this._id=null,this.emit("disconnected",n)}},e.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)Le.default.log("Attempting reconnection to server with ID ".concat(this._lastServerId)),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)Le.default.error("In a hurry? We're still trying to make the initial connection!");else throw new Error("Peer ".concat(this.id," cannot reconnect because it is not disconnected from the server!"))}},e.prototype.listAllPeers=function(n){var o=this;n===void 0&&(n=function(r){}),this._api.listAllPeers().then(function(r){return n(r)}).catch(function(r){return o._abort(jt.ServerError,r)})},e.DEFAULT_KEY="peerjs",e}(S1.EventEmitter),Qw=DO.Peer;const kie=new TextEncoder,Rie=new TextDecoder,zO=t=>{let e;return typeof t=="string"?e=kie.encode(t):e=t,btoa(String.fromCharCode(...e))},Pie=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o+=1)n[o]=e.charCodeAt(o);return Rie.decode(n)};function Lie(t){const e=t.getMergedSshConfig(),n=`https://account.termius.com/host-sharing#ip=${t.address}&port=${e.port}`,o=t.label?`&label=${t.label}`:"",r=t.os_name?`&os=${t.os_name}`:"",i=e.identity.username?`&username=${e.identity.username}`:"",s=t.is_shared&&t.id?`&id=${t.id}`:"",a=e.proxy?"&proxy=true":"";return encodeURI(`${n}${o}${i}${s}${r}${a}`)}class VO{static generateRandomChar(){let e="";do{const n=new Uint8Array(1);window.crypto.getRandomValues(n);const o=String.fromCharCode(Array.from(n)[0]);this.allowedChars.test(o)&&(e=o)}while(e==="");return e}static generatePassword(){const e=[];for(let n=0;n<20;n+=1)e.push(this.generateRandomChar());return SU(e.join(""))}}E(VO,"allowedChars",/[A-Za-z\d@$!%*_\-+.]/);const Mie="https://termius.com/terminal-multiplayer",Oie=({peerId:t,terminalTitle:e="",connectionId:n,password:o,version:r})=>{const i=new URLSearchParams({peerId:t,terminalTitle:e,connectionId:n,version:r,pwd:o??VO.generatePassword()});return`${Mie}#${i.toString()}`},dh="2.0.0",Die=[],tr=ne.object({timestamp:ne.string().datetime(),senderId:ne.string().uuid().describe("This uuid id is generated every time on the creating of a Multiplayer API instance, or resetting it."),peerId:ne.string().uuid().describe("This uuid id is taken from peerjs."),receivers:ne.array(ne.string().uuid()).optional(),sessionId:ne.string().uuid().describe("This is actual HostPeerId"),messageId:ne.string().uuid(),version:ne.enum([dh,...Die])}),Fie=ne.enum(["grant","take","refuse"]),Nie=ne.enum(["accepted","rejected"]),Hie=ne.literal("edit-access"),Bie=ne.object({type:ne.literal("request"),requestId:ne.string().uuid(),requestType:Hie,metadata:tr}),zie=ne.object({type:ne.literal("request-cancel"),requestId:ne.string().uuid(),metadata:tr}),Vie=ne.object({type:ne.literal("response"),requestId:ne.string().uuid(),status:Nie,metadata:tr}),Vy=ne.union([ne.string(),ne.instanceof(Uint8Array)]),Wie=ne.object({type:ne.literal("terminal-input"),content:Vy,metadata:tr}),jie=ne.object({type:ne.literal("terminal-output"),content:Vy,metadata:tr}),Uie=ne.object({type:ne.literal("terminal-init-data"),content:Vy,metadata:tr}),$ie=ne.object({type:ne.literal("access-control"),action:Fie,controlOwner:ne.string().uuid(),metadata:tr}),WO=ne.object({os:ne.enum(["mac","win","linux"]),colorScheme:ne.enum(tse(Em)).optional(),terminalSize:ne.tuple([ne.number(),ne.number()]),fontSize:ne.number().optional()}),qie=ne.object({type:ne.literal("host-settings"),settings:WO,metadata:tr}),Gie=ne.object({type:ne.literal("update-settings"),settings:WO,metadata:tr}),Kie=ne.object({type:ne.literal("peer-connected"),userId:ne.number().optional().describe("The Termius user id, if available. So it's only for logged in users."),username:ne.string().describe(`The username of the peer, if it's logged in. Otherwise it's generated by hot as "Guest {number}"`),metadata:tr}),Zie=ne.object({type:ne.literal("peer-disconnected"),metadata:tr}),Qie=ne.object({type:ne.literal("close-connection"),metadata:tr}),Yie=ne.object({userId:ne.number().optional().describe("The Termius user id, if available. So it's only for logged in users."),participantId:ne.string().uuid().describe("This uuid id is generated every time on the creating of a Multiplayer API instance, or resetting it."),peerId:ne.string().uuid().describe("This uuid id is taken from peerjs."),username:ne.string().describe(`The username of the peer, if it's logged in. Otherwise it's generated by hot as "Guest {number}"`),isControlOwner:ne.boolean(),isHost:ne.boolean()}),Xie=ne.object({type:ne.literal("session-state"),peers:ne.array(Yie),metadata:tr}),Jie=ne.object({type:ne.enum(["ping","pong"]),timestamp:ne.string().datetime(),id:ne.string().uuid(),pingId:ne.string().uuid()}),ese=tk(Jie),Yw=ne.discriminatedUnion("type",[Bie,zie,Vie,Wie,jie,Uie,$ie,qie,Gie,Kie,Zie,Qie,Xie]);function tse(t){return Object.keys(t)}class b1 extends bU{constructor(){super(...arguments);E(this,"name",`MultiplayerError - v${dh}`)}}class nse{constructor(){E(this,"healthStates",new Map);E(this,"intervals",new Map);E(this,"establishmentTimeouts",new Map);E(this,"peerEstablishmentCallbacks",new Map);E(this,"callbacks",new Map);E(this,"pingInterval",1e4);E(this,"pongTimeout",5e3);E(this,"maxMissedPings",3);E(this,"pongGracePeriodMultiplier",1.5);E(this,"establishConnectionDelay",1e3);E(this,"connectionEstablishmentTimeout",3e4)}startMonitoring(e,n){this.healthStates.has(e)&&this.stopMonitoring(e);const o={lastPingTime:0,lastPongTime:Date.now(),missedPings:0,isHealthy:!0};return this.healthStates.set(e,o),this.callbacks.set(e,n),setTimeout(()=>{if(!e.open){this.stopMonitoring(e);return}this.startPingInterval(e)},this.establishConnectionDelay),o}stopMonitoring(e){const n=this.intervals.get(e);n&&(clearInterval(n),this.intervals.delete(e)),this.healthStates.delete(e),this.callbacks.delete(e)}handleMessage(e,n){if(n.type==="ping"){this.handlePing(e,n);return}n.type==="pong"&&this.handlePong(e,n)}triggerHealthCheck(e){const n=this.healthStates.get(e);n&&(n.lastPingTime=Date.now()-this.pingInterval-1e3,n.missedPings=0)}watchPeerConnectionEstablishment(e,n){this.peerEstablishmentCallbacks.set(e,n);const o=setTimeout(()=>{n.onConnectionEstablishmentFailed(e),this.cleanupPeerEstablishmentWatch(e)},this.connectionEstablishmentTimeout);this.establishmentTimeouts.set(e,o)}notifyConnectionHealthy(e){this.cleanupPeerEstablishmentWatch(e)}cleanupPeerEstablishmentWatch(e){const n=this.establishmentTimeouts.get(e);n&&(clearTimeout(n),this.establishmentTimeouts.delete(e)),this.peerEstablishmentCallbacks.delete(e)}hasMissedPong(e,n){if(e.lastPingTime===0)return!1;const o=n-e.lastPingTime,r=n-e.lastPongTime;return o>this.pongTimeout&&r>o}startPingInterval(e){const n=setInterval(()=>{if(!e.open){this.stopMonitoring(e);return}const o=this.healthStates.get(e),r=this.callbacks.get(e);if(!o||!r)return;const i=Date.now();if(this.hasMissedPong(o,i)&&(o.missedPings+=1,o.missedPings>=this.maxMissedPings)){o.isHealthy=!1,r.onUnhealthy(e);return}this.sendPing(e,o)},this.pingInterval);this.intervals.set(e,n)}sendPing(e,n){try{const o=new Date().toISOString(),r=un(),i={type:"ping",timestamp:o,id:r,pingId:r},s={...n,lastPingTime:Date.now()};this.healthStates.set(e,s),this.sendHealthCheck(e,i)}catch{this.stopMonitoring(e)}}sendHealthCheck(e,n){e.send(zO(JSON.stringify(n)))}handlePing(e,n){try{const o={type:"pong",pingId:n.id,id:un(),timestamp:new Date().toISOString()};this.sendHealthCheck(e,o)}catch{}}handlePong(e,n){const o=this.healthStates.get(e),r=this.callbacks.get(e);if(!o||!r)return;const i=Date.now();if(i-o.lastPingTime<this.pingInterval*this.pongGracePeriodMultiplier){const a=!o.isHealthy;o.lastPongTime=i,o.missedPings=0,o.isHealthy=!0,a&&r.onHealthy(e)}}}function Xw(){if("connection"in navigator){const{connection:t}=navigator;return t}}class ose{constructor(){E(this,"networkChangeListener");E(this,"callbacks")}startMonitoring(e){if(this.networkChangeListener||typeof window>"u")return;this.callbacks=e,this.networkChangeListener=()=>{var o;(o=this.callbacks)==null||o.onNetworkChange()},window.addEventListener("online",this.networkChangeListener),window.addEventListener("offline",this.networkChangeListener);const n=Xw();n&&n.addEventListener("change",this.networkChangeListener)}stopMonitoring(){if(!this.networkChangeListener||typeof window>"u")return;window.removeEventListener("online",this.networkChangeListener),window.removeEventListener("offline",this.networkChangeListener);const e=Xw();e&&e.removeEventListener("change",this.networkChangeListener),this.networkChangeListener=void 0,this.callbacks=void 0}isMonitoring(){return this.networkChangeListener!==void 0}}class rse{constructor(){E(this,"monitoredConnections",new Map)}startMonitoring(e,n){const{peerConnection:o}=e;if(!o)return{webrtcState:"unknown",iceConnectionState:"unknown"};const r={webrtcState:o.connectionState||"unknown",iceConnectionState:o.iceConnectionState||"unknown"},i=()=>{var c;const l=o.connectionState;r.webrtcState=l,(l==="failed"||l==="disconnected")&&n.onConnectionFailed(e),(c=n.onConnectionStateChange)==null||c.call(n,e,l)},s=()=>{var c;const l=o.iceConnectionState;r.iceConnectionState=l,(l==="failed"||l==="disconnected")&&(n.onConnectionFailed(e),l==="failed"&&n.onIceRestartNeeded(e)),(c=n.onIceConnectionStateChange)==null||c.call(n,e,l)};o.addEventListener("connectionstatechange",i),o.addEventListener("iceconnectionstatechange",s);const a=()=>{o.removeEventListener("connectionstatechange",i),o.removeEventListener("iceconnectionstatechange",s)};return this.monitoredConnections.set(e,{callbacks:n,stateDetail:r,cleanup:a}),r}stopMonitoring(e){const n=this.monitoredConnections.get(e);n&&(n.cleanup(),this.monitoredConnections.delete(e))}restartIce(e){const{peerConnection:n}=e;if(n)try{n.restartIce()}catch{}}dispose(){for(const[e]of this.monitoredConnections)this.stopMonitoring(e)}}class ise{constructor(){E(this,"dataChannelMap");E(this,"healthService",new nse);E(this,"pendingHealthCallbacks",new Map);this.dataChannelMap=new Map}addConnection(e,n,o){const r=this.dataChannelMap.get(e)??[];this.dataChannelMap.set(e,[...r,n]),this.pendingHealthCallbacks.set(n.connection,o)}startHealthMonitoring(e){const n=this.pendingHealthCallbacks.get(e);n&&(this.healthService.startMonitoring(e,n),this.pendingHealthCallbacks.delete(e))}removeConnection(e,n){const r=(this.dataChannelMap.get(e)??[]).filter(i=>i.connection.connectionId!==n.connectionId);this.healthService.stopMonitoring(n),this.pendingHealthCallbacks.delete(n),r.length>0?this.dataChannelMap.set(e,r):this.dataChannelMap.delete(e)}getConnections(e){return this.dataChannelMap.get(e)}clearConnections(e){(this.dataChannelMap.get(e)??[]).forEach(o=>{this.healthService.stopMonitoring(o.connection),this.pendingHealthCallbacks.delete(o.connection)}),this.dataChannelMap.delete(e)}get map(){return this.dataChannelMap}handleHealthMessage(e,n){if(n.type==="ping")for(const o of this.dataChannelMap.values()){const r=o.find(i=>i.connection===e);if(r){this.healthService.notifyConnectionHealthy(r.currentUserPeerId);break}}this.healthService.handleMessage(e,n)}triggerHealthCheck(e){this.healthService.triggerHealthCheck(e)}watchConnectionEstablishment(e,n){this.healthService.watchPeerConnectionEstablishment(e,{onConnectionEstablishmentFailed:n})}notifyConnectionHealthy(e){this.healthService.notifyConnectionHealthy(e)}}class sse{constructor(){E(this,"peersMap");this.peersMap=new Map}addPeer(e,n){this.peersMap.set(e,n)}getPeer(e){return this.peersMap.get(e)}getPeerByHostId(e){for(const[n,o]of this.peersMap.entries())if(o.hostPeerId===e)return{peerInfo:o,currentUserPeerId:n}}removePeer(e){this.peersMap.delete(e)}clear(){this.peersMap.clear()}get map(){return this.peersMap}}class ase{constructor(){E(this,"peerManager");E(this,"connectionManager");E(this,"networkDetectionService",new ose);E(this,"webRTCMonitoringService",new rse);E(this,"handlePeerCreation",e=>{const{peer:n,resolve:o}=e,{role:r,dataChannelEventHandlers:i,inviteLinkOptions:s}=e.props,a=r==="host";return l=>{const c=a?this.generateInviteLink({...s,peerId:l,version:dh}):"";this.peerManager.addPeer(l,{peer:n,role:r,inviteLink:c,hostPeerId:a?l:void 0}),o(l),a||this.watchConnectionEstablishment(l,i.onError)}});this.peerManager=new sse,this.connectionManager=new ise}get peersMap(){return this.peerManager.map}get dataChannelConnectionsMap(){return this.connectionManager.map}async addPeer(e){const{peerOptions:n,role:o}=e,r=n!=null&&n.id?new Qw(n.id,n):new Qw(n);return new Promise((i,s)=>{this.setupPeerEvents({peer:r,props:e,resolve:i,reject:s}),n!=null&&n.id&&this.peerManager.addPeer(n.id,{peer:r,role:o,inviteLink:void 0,hostPeerId:void 0})})}connectToHost(e){const{participantPeerId:n,hostPeerId:o,eventHandlers:r,metadata:i,password:s,terminalTitle:a,connectionId:l}=e;Ce(o,Xf);const c=this.peerManager.getPeer(n);if(!c)return;const d=c.peer.connect(o,{metadata:i}),p=this.generateInviteLink({peerId:o,password:s,terminalTitle:a,connectionId:l,version:dh});this.peerManager.addPeer(n,{...c,inviteLink:p,hostPeerId:o}),this.setupConnectionHandlers(o,d,r)}sendMessage(e,n,o){try{Yw.parse(n);const r=this.connectionManager.getConnections(e);Ce(r,"Multiplayer Message sending to the not existed connection");const i=o!=null&&o.length?r.filter(a=>o.includes(a.peerId)):r,s=zO(JSON.stringify(n));i.forEach(({connection:a})=>{a.open&&a.send(s)})}catch{}}removePeer(e){const n=this.peerManager.getPeer(e);n&&(n.hostPeerId&&this.clearDataChannelConnections(n.hostPeerId),n.peer.destroy(),this.peerManager.removePeer(e))}getPeerInfoById(e){for(const[n,o]of this.peersMap.entries())if(o.hostPeerId===e)return{peerInfo:o,currentUserPeerId:n}}dispose(){this.peerManager.map.forEach((e,n)=>this.removePeer(n)),this.networkDetectionService.stopMonitoring(),this.webRTCMonitoringService.dispose()}clearDataChannelConnections(e){const n=this.connectionManager.getConnections(e);n==null||n.forEach(({connection:o})=>{this.webRTCMonitoringService.stopMonitoring(o),o.open&&(o.dataChannel.close(),o.close())}),this.connectionManager.clearConnections(e)}generateInviteLink(e){return Oie(e)}setupConnectionHandlers(e,n,o){const r=n.peer,i=this.peerManager.getPeerByHostId(e);Ce(i,_re);const s={connection:n,peerId:r,currentUserPeerId:i.currentUserPeerId,hostPeerId:e},a={onUnhealthy:l=>{l.dataChannel.close(),l.close()},onHealthy:l=>{}};this.connectionManager.addConnection(e,s,a),this.setupWebRTCStateMonitoring(n,s,o),n.on("data",l=>{this.handleData(l,n,o)}),n.on("close",()=>{this.connectionManager.removeConnection(e,n),o.onClose(n)}),n.on("error",l=>{o.onError(l,n.label)}),n.on("open",()=>{this.isHostConnection(e)&&this.connectionManager.startHealthMonitoring(n),this.resetHealthWatcher(e),o.onOpen(n,e)})}resetHealthWatcher(e){const n=this.peerManager.getPeerByHostId(e);n!=null&&n.currentUserPeerId&&this.connectionManager.notifyConnectionHealthy(n.currentUserPeerId)}setupWebRTCStateMonitoring(e,n,o){const r={onConnectionStateChange:o.onConnectionStateChange,onIceConnectionStateChange:o.onIceConnectionStateChange,onConnectionFailed:i=>{this.connectionManager.triggerHealthCheck(i),this.isHostConnection(n.hostPeerId)||this.watchConnectionEstablishment(n.currentUserPeerId,o.onError)},onIceRestartNeeded:i=>{this.webRTCMonitoringService.restartIce(i)}};this.webRTCMonitoringService.startMonitoring(e,r),this.setupVPNDetection(o)}setupVPNDetection(e){if(this.networkDetectionService.isMonitoring())return;const n={onNetworkChange:()=>{var o;(o=e.onNetworkChange)==null||o.call(e);for(const r of this.connectionManager.map.values())for(const i of r)this.connectionManager.triggerHealthCheck(i.connection)}};this.networkDetectionService.startMonitoring(n)}isHostConnection(e){for(const[n,o]of this.peersMap.entries())if(o.role==="host"&&o.hostPeerId===e)return!0;return!1}handleData(e,n,o){try{const r=Pie(e),i=JSON.parse(r);if(ese(i)){this.connectionManager.handleHealthMessage(n,i);return}const s=Yw.parse(i);o.onData(s,n)}catch{}}watchConnectionEstablishment(e,n){this.connectionManager.watchConnectionEstablishment(e,o=>{n(new b1,"P2P data connection establishment failed.")})}setupPeerEvents(e){const{peer:n,reject:o}=e,{role:r,dataChannelEventHandlers:i}=e.props,s=r==="host";n.on("open",this.handlePeerCreation(e)),n.on("connection",a=>{s&&this.setupConnectionHandlers(n.id,a,i)}),n.on("close",()=>{n.id&&this.removePeer(n.id)}),n.on("error",a=>{["network","disconnected"].includes(a.type??"")||(i==null||i.onError(a,a.name||"Peer Error"),n.id&&this.removePeer(n.id),o(a))})}}var jO={exports:{}};(function(t,e){(function(n,o){t.exports=o()})(self,()=>(()=>{var n={903:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BaseRenderLayer=void 0;const c=l(274),d=l(627),p=l(237),h=l(860),m=l(374),g=l(296),C=l(345),v=l(859),S=l(399),y=l(855);class b extends v.Disposable{get canvas(){return this._canvas}get cacheCanvas(){var _;return(_=this._charAtlas)==null?void 0:_.pages[0].canvas}constructor(_,I,T,A,k,R,M,D,F,z){super(),this._terminal=_,this._container=I,this._alpha=k,this._themeService=R,this._bufferService=M,this._optionsService=D,this._decorationService=F,this._coreBrowserService=z,this._deviceCharWidth=0,this._deviceCharHeight=0,this._deviceCellWidth=0,this._deviceCellHeight=0,this._deviceCharLeft=0,this._deviceCharTop=0,this._selectionModel=(0,g.createSelectionRenderModel)(),this._bitmapGenerator=[],this._charAtlasDisposable=this.register(new v.MutableDisposable),this._onAddTextureAtlasCanvas=this.register(new C.EventEmitter),this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._cellColorResolver=new c.CellColorResolver(this._terminal,this._optionsService,this._selectionModel,this._decorationService,this._coreBrowserService,this._themeService),this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add(`xterm-${T}-layer`),this._canvas.style.zIndex=A.toString(),this._initCanvas(),this._container.appendChild(this._canvas),this._refreshCharAtlas(this._themeService.colors),this.register(this._themeService.onChangeColors(j=>{this._refreshCharAtlas(j),this.reset(),this.handleSelectionChanged(this._selectionModel.selectionStart,this._selectionModel.selectionEnd,this._selectionModel.columnSelectMode)})),this.register((0,v.toDisposable)(()=>{this._canvas.remove()}))}_initCanvas(){this._ctx=(0,m.throwIfFalsy)(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()}handleBlur(){}handleFocus(){}handleCursorMove(){}handleGridChanged(_,I){}handleSelectionChanged(_,I,T=!1){this._selectionModel.update(this._terminal._core,_,I,T)}_setTransparency(_){if(_===this._alpha)return;const I=this._canvas;this._alpha=_,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,I),this._refreshCharAtlas(this._themeService.colors),this.handleGridChanged(0,this._bufferService.rows-1)}_refreshCharAtlas(_){if(!(this._deviceCharWidth<=0&&this._deviceCharHeight<=0)){this._charAtlas=(0,d.acquireTextureAtlas)(this._terminal,this._optionsService.rawOptions,_,this._deviceCellWidth,this._deviceCellHeight,this._deviceCharWidth,this._deviceCharHeight,this._coreBrowserService.dpr),this._charAtlasDisposable.value=(0,C.forwardEvent)(this._charAtlas.onAddTextureAtlasCanvas,this._onAddTextureAtlasCanvas),this._charAtlas.warmUp();for(let I=0;I<this._charAtlas.pages.length;I++)this._bitmapGenerator[I]=new w(this._charAtlas.pages[I].canvas)}}resize(_){this._deviceCellWidth=_.device.cell.width,this._deviceCellHeight=_.device.cell.height,this._deviceCharWidth=_.device.char.width,this._deviceCharHeight=_.device.char.height,this._deviceCharLeft=_.device.char.left,this._deviceCharTop=_.device.char.top,this._canvas.width=_.device.canvas.width,this._canvas.height=_.device.canvas.height,this._canvas.style.width=`${_.css.canvas.width}px`,this._canvas.style.height=`${_.css.canvas.height}px`,this._alpha||this._clearAll(),this._refreshCharAtlas(this._themeService.colors)}clearTextureAtlas(){var _;(_=this._charAtlas)==null||_.clearTexture()}_fillCells(_,I,T,A){this._ctx.fillRect(_*this._deviceCellWidth,I*this._deviceCellHeight,T*this._deviceCellWidth,A*this._deviceCellHeight)}_fillMiddleLineAtCells(_,I,T=1){const A=Math.ceil(.5*this._deviceCellHeight);this._ctx.fillRect(_*this._deviceCellWidth,(I+1)*this._deviceCellHeight-A-this._coreBrowserService.dpr,T*this._deviceCellWidth,this._coreBrowserService.dpr)}_fillBottomLineAtCells(_,I,T=1,A=0){this._ctx.fillRect(_*this._deviceCellWidth,(I+1)*this._deviceCellHeight+A-this._coreBrowserService.dpr-1,T*this._deviceCellWidth,this._coreBrowserService.dpr)}_curlyUnderlineAtCell(_,I,T=1){this._ctx.save(),this._ctx.beginPath(),this._ctx.strokeStyle=this._ctx.fillStyle;const A=this._coreBrowserService.dpr;this._ctx.lineWidth=A;for(let k=0;k<T;k++){const R=(_+k)*this._deviceCellWidth,M=(_+k+.5)*this._deviceCellWidth,D=(_+k+1)*this._deviceCellWidth,F=(I+1)*this._deviceCellHeight-A-1,z=F-A,j=F+A;this._ctx.moveTo(R,F),this._ctx.bezierCurveTo(R,z,M,z,M,F),this._ctx.bezierCurveTo(M,j,D,j,D,F)}this._ctx.stroke(),this._ctx.restore()}_dottedUnderlineAtCell(_,I,T=1){this._ctx.save(),this._ctx.beginPath(),this._ctx.strokeStyle=this._ctx.fillStyle;const A=this._coreBrowserService.dpr;this._ctx.lineWidth=A,this._ctx.setLineDash([2*A,A]);const k=_*this._deviceCellWidth,R=(I+1)*this._deviceCellHeight-A-1;this._ctx.moveTo(k,R);for(let M=0;M<T;M++){const D=(_+T+M)*this._deviceCellWidth;this._ctx.lineTo(D,R)}this._ctx.stroke(),this._ctx.closePath(),this._ctx.restore()}_dashedUnderlineAtCell(_,I,T=1){this._ctx.save(),this._ctx.beginPath(),this._ctx.strokeStyle=this._ctx.fillStyle;const A=this._coreBrowserService.dpr;this._ctx.lineWidth=A,this._ctx.setLineDash([4*A,3*A]);const k=_*this._deviceCellWidth,R=(_+T)*this._deviceCellWidth,M=(I+1)*this._deviceCellHeight-A-1;this._ctx.moveTo(k,M),this._ctx.lineTo(R,M),this._ctx.stroke(),this._ctx.closePath(),this._ctx.restore()}_fillLeftLineAtCell(_,I,T){this._ctx.fillRect(_*this._deviceCellWidth,I*this._deviceCellHeight,this._coreBrowserService.dpr*T,this._deviceCellHeight)}_strokeRectAtCell(_,I,T,A){const k=this._coreBrowserService.dpr;this._ctx.lineWidth=k,this._ctx.strokeRect(_*this._deviceCellWidth+k/2,I*this._deviceCellHeight+k/2,T*this._deviceCellWidth-k,A*this._deviceCellHeight-k)}_clearAll(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._themeService.colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))}_clearCells(_,I,T,A){this._alpha?this._ctx.clearRect(_*this._deviceCellWidth,I*this._deviceCellHeight,T*this._deviceCellWidth,A*this._deviceCellHeight):(this._ctx.fillStyle=this._themeService.colors.background.css,this._ctx.fillRect(_*this._deviceCellWidth,I*this._deviceCellHeight,T*this._deviceCellWidth,A*this._deviceCellHeight))}_fillCharTrueColor(_,I,T){this._ctx.font=this._getFont(!1,!1),this._ctx.textBaseline=p.TEXT_BASELINE,this._clipRow(T);let A=!1;this._optionsService.rawOptions.customGlyphs!==!1&&(A=(0,h.tryDrawCustomChar)(this._ctx,_.getChars(),I*this._deviceCellWidth,T*this._deviceCellHeight,this._deviceCellWidth,this._deviceCellHeight,this._optionsService.rawOptions.fontSize,this._coreBrowserService.dpr)),A||this._ctx.fillText(_.getChars(),I*this._deviceCellWidth+this._deviceCharLeft,T*this._deviceCellHeight+this._deviceCharTop+this._deviceCharHeight)}_drawChars(_,I,T){var F,z,j,H;const A=_.getChars(),k=_.getCode(),R=_.getWidth();if(this._cellColorResolver.resolve(_,I,this._bufferService.buffer.ydisp+T,this._deviceCellWidth),!this._charAtlas)return;let M;if(M=A&&A.length>1?this._charAtlas.getRasterizedGlyphCombinedChar(A,this._cellColorResolver.result.bg,this._cellColorResolver.result.fg,this._cellColorResolver.result.ext,!0):this._charAtlas.getRasterizedGlyph(_.getCode()||y.WHITESPACE_CELL_CODE,this._cellColorResolver.result.bg,this._cellColorResolver.result.fg,this._cellColorResolver.result.ext,!0),!M.size.x||!M.size.y)return;this._ctx.save(),this._clipRow(T),this._bitmapGenerator[M.texturePage]&&this._charAtlas.pages[M.texturePage].canvas!==this._bitmapGenerator[M.texturePage].canvas&&((z=(F=this._bitmapGenerator[M.texturePage])==null?void 0:F.bitmap)==null||z.close(),delete this._bitmapGenerator[M.texturePage]),this._charAtlas.pages[M.texturePage].version!==((j=this._bitmapGenerator[M.texturePage])==null?void 0:j.version)&&(this._bitmapGenerator[M.texturePage]||(this._bitmapGenerator[M.texturePage]=new w(this._charAtlas.pages[M.texturePage].canvas)),this._bitmapGenerator[M.texturePage].refresh(),this._bitmapGenerator[M.texturePage].version=this._charAtlas.pages[M.texturePage].version);let D=M.size.x;this._optionsService.rawOptions.rescaleOverlappingGlyphs&&(0,m.allowRescaling)(k,R,M.size.x,this._deviceCellWidth)&&(D=this._deviceCellWidth-1),this._ctx.drawImage(((H=this._bitmapGenerator[M.texturePage])==null?void 0:H.bitmap)||this._charAtlas.pages[M.texturePage].canvas,M.texturePosition.x,M.texturePosition.y,M.size.x,M.size.y,I*this._deviceCellWidth+this._deviceCharLeft-M.offset.x,T*this._deviceCellHeight+this._deviceCharTop-M.offset.y,D,M.size.y),this._ctx.restore()}_clipRow(_){this._ctx.beginPath(),this._ctx.rect(0,_*this._deviceCellHeight,this._bufferService.cols*this._deviceCellWidth,this._deviceCellHeight),this._ctx.clip()}_getFont(_,I){return`${I?"italic":""} ${_?this._optionsService.rawOptions.fontWeightBold:this._optionsService.rawOptions.fontWeight} ${this._optionsService.rawOptions.fontSize*this._coreBrowserService.dpr}px ${this._optionsService.rawOptions.fontFamily}`}}a.BaseRenderLayer=b;class w{get bitmap(){return this._bitmap}constructor(_){this.canvas=_,this._state=0,this._commitTimeout=void 0,this._bitmap=void 0,this.version=-1}refresh(){var _;(_=this._bitmap)==null||_.close(),this._bitmap=void 0,S.isSafari||(this._commitTimeout===void 0&&(this._commitTimeout=window.setTimeout(()=>this._generate(),100)),this._state===1&&(this._state=2))}_generate(){var _;this._state===0&&((_=this._bitmap)==null||_.close(),this._bitmap=void 0,this._state=1,window.createImageBitmap(this.canvas).then(I=>{this._state===2?this.refresh():this._bitmap=I,this._state=0}),this._commitTimeout&&(this._commitTimeout=void 0))}}},949:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CanvasRenderer=void 0;const c=l(627),d=l(56),p=l(374),h=l(345),m=l(859),g=l(873),C=l(43),v=l(630),S=l(744);class y extends m.Disposable{constructor(w,x,_,I,T,A,k,R,M,D,F){super(),this._terminal=w,this._screenElement=x,this._bufferService=I,this._charSizeService=T,this._optionsService=A,this._coreBrowserService=M,this._themeService=F,this._observerDisposable=this.register(new m.MutableDisposable),this._onRequestRedraw=this.register(new h.EventEmitter),this.onRequestRedraw=this._onRequestRedraw.event,this._onChangeTextureAtlas=this.register(new h.EventEmitter),this.onChangeTextureAtlas=this._onChangeTextureAtlas.event,this._onAddTextureAtlasCanvas=this.register(new h.EventEmitter),this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event;const z=this._optionsService.rawOptions.allowTransparency;this._renderLayers=[new S.TextRenderLayer(this._terminal,this._screenElement,0,z,this._bufferService,this._optionsService,k,D,this._coreBrowserService,F),new v.SelectionRenderLayer(this._terminal,this._screenElement,1,this._bufferService,this._coreBrowserService,D,this._optionsService,F),new C.LinkRenderLayer(this._terminal,this._screenElement,2,_,this._bufferService,this._optionsService,D,this._coreBrowserService,F),new g.CursorRenderLayer(this._terminal,this._screenElement,3,this._onRequestRedraw,this._bufferService,this._optionsService,R,this._coreBrowserService,D,F)];for(const j of this._renderLayers)(0,h.forwardEvent)(j.onAddTextureAtlasCanvas,this._onAddTextureAtlasCanvas);this.dimensions=(0,p.createRenderDimensions)(),this._devicePixelRatio=this._coreBrowserService.dpr,this._updateDimensions(),this._observerDisposable.value=(0,d.observeDevicePixelDimensions)(this._renderLayers[0].canvas,this._coreBrowserService.window,(j,H)=>this._setCanvasDevicePixelDimensions(j,H)),this.register(this._coreBrowserService.onWindowChange(j=>{this._observerDisposable.value=(0,d.observeDevicePixelDimensions)(this._renderLayers[0].canvas,j,(H,O)=>this._setCanvasDevicePixelDimensions(H,O))})),this.register((0,m.toDisposable)(()=>{for(const j of this._renderLayers)j.dispose();(0,c.removeTerminalFromCache)(this._terminal)}))}get textureAtlas(){return this._renderLayers[0].cacheCanvas}handleDevicePixelRatioChange(){this._devicePixelRatio!==this._coreBrowserService.dpr&&(this._devicePixelRatio=this._coreBrowserService.dpr,this.handleResize(this._bufferService.cols,this._bufferService.rows))}handleResize(w,x){this._updateDimensions();for(const _ of this._renderLayers)_.resize(this.dimensions);this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}handleCharSizeChanged(){this.handleResize(this._bufferService.cols,this._bufferService.rows)}handleBlur(){this._runOperation(w=>w.handleBlur())}handleFocus(){this._runOperation(w=>w.handleFocus())}handleSelectionChanged(w,x,_=!1){this._runOperation(I=>I.handleSelectionChanged(w,x,_)),this._themeService.colors.selectionForeground&&this._onRequestRedraw.fire({start:0,end:this._bufferService.rows-1})}handleCursorMove(){this._runOperation(w=>w.handleCursorMove())}clear(){this._runOperation(w=>w.reset())}_runOperation(w){for(const x of this._renderLayers)w(x)}renderRows(w,x){for(const _ of this._renderLayers)_.handleGridChanged(w,x)}clearTextureAtlas(){for(const w of this._renderLayers)w.clearTextureAtlas()}_updateDimensions(){if(!this._charSizeService.hasValidSize)return;const w=this._coreBrowserService.dpr;this.dimensions.device.char.width=Math.floor(this._charSizeService.width*w),this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*w),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.top=this._optionsService.rawOptions.lineHeight===1?0:Math.round((this.dimensions.device.cell.height-this.dimensions.device.char.height)/2),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.char.left=Math.floor(this._optionsService.rawOptions.letterSpacing/2),this.dimensions.device.canvas.height=this._bufferService.rows*this.dimensions.device.cell.height,this.dimensions.device.canvas.width=this._bufferService.cols*this.dimensions.device.cell.width,this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/w),this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/w),this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows,this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols}_setCanvasDevicePixelDimensions(w,x){this.dimensions.device.canvas.height=x,this.dimensions.device.canvas.width=w;for(const _ of this._renderLayers)_.resize(this.dimensions);this._requestRedrawViewport()}_requestRedrawViewport(){this._onRequestRedraw.fire({start:0,end:this._bufferService.rows-1})}}a.CanvasRenderer=y},873:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CursorRenderLayer=void 0;const c=l(457),d=l(859),p=l(399),h=l(782),m=l(903);class g extends m.BaseRenderLayer{constructor(v,S,y,b,w,x,_,I,T,A){super(v,S,"cursor",y,!0,A,w,x,T,I),this._onRequestRedraw=b,this._coreService=_,this._cursorBlinkStateManager=this.register(new d.MutableDisposable),this._cell=new h.CellData,this._state={x:0,y:0,isFocused:!1,style:"",width:0},this._cursorRenderers={bar:this._renderBarCursor.bind(this),block:this._renderBlockCursor.bind(this),underline:this._renderUnderlineCursor.bind(this),outline:this._renderOutlineCursor.bind(this)},this.register(x.onOptionChange(()=>this._handleOptionsChanged())),this._handleOptionsChanged()}resize(v){super.resize(v),this._state={x:0,y:0,isFocused:!1,style:"",width:0}}reset(){var v;this._clearCursor(),(v=this._cursorBlinkStateManager.value)==null||v.restartBlinkAnimation(),this._handleOptionsChanged()}handleBlur(){var v;(v=this._cursorBlinkStateManager.value)==null||v.pause(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})}handleFocus(){var v;(v=this._cursorBlinkStateManager.value)==null||v.resume(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})}_handleOptionsChanged(){this._optionsService.rawOptions.cursorBlink?this._cursorBlinkStateManager.value||(this._cursorBlinkStateManager.value=new c.CursorBlinkStateManager(()=>this._render(!0),this._coreBrowserService)):this._cursorBlinkStateManager.clear(),this._onRequestRedraw.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})}handleCursorMove(){var v;(v=this._cursorBlinkStateManager.value)==null||v.restartBlinkAnimation()}handleGridChanged(v,S){!this._cursorBlinkStateManager.value||this._cursorBlinkStateManager.value.isPaused?this._render(!1):this._cursorBlinkStateManager.value.restartBlinkAnimation()}_render(v){if(!this._coreService.isCursorInitialized||this._coreService.isCursorHidden)return void this._clearCursor();const S=this._bufferService.buffer.ybase+this._bufferService.buffer.y,y=S-this._bufferService.buffer.ydisp;if(y<0||y>=this._bufferService.rows)return void this._clearCursor();const b=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1);if(this._bufferService.buffer.lines.get(S).loadCell(b,this._cell),this._cell.content!==void 0){if(!this._coreBrowserService.isFocused){this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._themeService.colors.cursor.css;const w=this._optionsService.rawOptions.cursorStyle,x=this._optionsService.rawOptions.cursorInactiveStyle;return x&&x!=="none"&&this._cursorRenderers[x](b,y,this._cell),this._ctx.restore(),this._state.x=b,this._state.y=y,this._state.isFocused=!1,this._state.style=w,void(this._state.width=this._cell.getWidth())}if(!this._cursorBlinkStateManager.value||this._cursorBlinkStateManager.value.isCursorVisible){if(this._state){if(this._state.x===b&&this._state.y===y&&this._state.isFocused===this._coreBrowserService.isFocused&&this._state.style===this._optionsService.rawOptions.cursorStyle&&this._state.width===this._cell.getWidth())return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[this._optionsService.rawOptions.cursorStyle||"block"](b,y,this._cell),this._ctx.restore(),this._state.x=b,this._state.y=y,this._state.isFocused=!1,this._state.style=this._optionsService.rawOptions.cursorStyle,this._state.width=this._cell.getWidth()}else this._clearCursor()}}_clearCursor(){this._state&&(p.isFirefox||this._coreBrowserService.dpr<1?this._clearAll():this._clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:0,y:0,isFocused:!1,style:"",width:0})}_renderBarCursor(v,S,y){this._ctx.save(),this._ctx.fillStyle=this._themeService.colors.cursor.css,this._fillLeftLineAtCell(v,S,this._optionsService.rawOptions.cursorWidth),this._ctx.restore()}_renderBlockCursor(v,S,y){this._ctx.save(),this._ctx.fillStyle=this._themeService.colors.cursor.css,this._fillCells(v,S,y.getWidth(),1),this._ctx.fillStyle=this._themeService.colors.cursorAccent.css,this._fillCharTrueColor(y,v,S),this._ctx.restore()}_renderUnderlineCursor(v,S,y){this._ctx.save(),this._ctx.fillStyle=this._themeService.colors.cursor.css,this._fillBottomLineAtCells(v,S),this._ctx.restore()}_renderOutlineCursor(v,S,y){this._ctx.save(),this._ctx.strokeStyle=this._themeService.colors.cursor.css,this._strokeRectAtCell(v,S,y.getWidth(),1),this._ctx.restore()}}a.CursorRenderLayer=g},574:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.GridCache=void 0,a.GridCache=class{constructor(){this.cache=[]}resize(l,c){for(let d=0;d<l;d++){this.cache.length<=d&&this.cache.push([]);for(let p=this.cache[d].length;p<c;p++)this.cache[d].push(void 0);this.cache[d].length=c}this.cache.length=l}clear(){for(let l=0;l<this.cache.length;l++)for(let c=0;c<this.cache[l].length;c++)this.cache[l][c]=void 0}}},43:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.LinkRenderLayer=void 0;const c=l(197),d=l(237),p=l(903);class h extends p.BaseRenderLayer{constructor(g,C,v,S,y,b,w,x,_){super(g,C,"link",v,!0,_,y,b,w,x),this.register(S.onShowLinkUnderline(I=>this._handleShowLinkUnderline(I))),this.register(S.onHideLinkUnderline(I=>this._handleHideLinkUnderline(I)))}resize(g){super.resize(g),this._state=void 0}reset(){this._clearCurrentLink()}_clearCurrentLink(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);const g=this._state.y2-this._state.y1-1;g>0&&this._clearCells(0,this._state.y1+1,this._state.cols,g),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}}_handleShowLinkUnderline(g){if(g.fg===d.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._themeService.colors.background.css:g.fg&&(0,c.is256Color)(g.fg)?this._ctx.fillStyle=this._themeService.colors.ansi[g.fg].css:this._ctx.fillStyle=this._themeService.colors.foreground.css,g.y1===g.y2)this._fillBottomLineAtCells(g.x1,g.y1,g.x2-g.x1);else{this._fillBottomLineAtCells(g.x1,g.y1,g.cols-g.x1);for(let C=g.y1+1;C<g.y2;C++)this._fillBottomLineAtCells(0,C,g.cols);this._fillBottomLineAtCells(0,g.y2,g.x2)}this._state=g}_handleHideLinkUnderline(g){this._clearCurrentLink()}}a.LinkRenderLayer=h},630:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SelectionRenderLayer=void 0;const c=l(903);class d extends c.BaseRenderLayer{constructor(h,m,g,C,v,S,y,b){super(h,m,"selection",g,!0,b,C,y,S,v),this._clearState()}_clearState(){this._state={start:void 0,end:void 0,columnSelectMode:void 0,ydisp:void 0}}resize(h){super.resize(h),this._selectionModel.selectionStart&&this._selectionModel.selectionEnd&&(this._clearState(),this._redrawSelection(this._selectionModel.selectionStart,this._selectionModel.selectionEnd,this._selectionModel.columnSelectMode))}reset(){this._state.start&&this._state.end&&(this._clearState(),this._clearAll())}handleBlur(){this.reset(),this._redrawSelection(this._selectionModel.selectionStart,this._selectionModel.selectionEnd,this._selectionModel.columnSelectMode)}handleFocus(){this.reset(),this._redrawSelection(this._selectionModel.selectionStart,this._selectionModel.selectionEnd,this._selectionModel.columnSelectMode)}handleSelectionChanged(h,m,g){super.handleSelectionChanged(h,m,g),this._redrawSelection(h,m,g)}_redrawSelection(h,m,g){if(!this._didStateChange(h,m,g,this._bufferService.buffer.ydisp))return;if(this._clearAll(),!h||!m)return void this._clearState();const C=h[1]-this._bufferService.buffer.ydisp,v=m[1]-this._bufferService.buffer.ydisp,S=Math.max(C,0),y=Math.min(v,this._bufferService.rows-1);if(S>=this._bufferService.rows||y<0)this._state.ydisp=this._bufferService.buffer.ydisp;else{if(this._ctx.fillStyle=(this._coreBrowserService.isFocused?this._themeService.colors.selectionBackgroundTransparent:this._themeService.colors.selectionInactiveBackgroundTransparent).css,g){const b=h[0],w=m[0]-b,x=y-S+1;this._fillCells(b,S,w,x)}else{const b=C===S?h[0]:0,w=S===v?m[0]:this._bufferService.cols;this._fillCells(b,S,w-b,1);const x=Math.max(y-S-1,0);if(this._fillCells(0,S+1,this._bufferService.cols,x),S!==y){const _=v===y?m[0]:this._bufferService.cols;this._fillCells(0,y,_,1)}}this._state.start=[h[0],h[1]],this._state.end=[m[0],m[1]],this._state.columnSelectMode=g,this._state.ydisp=this._bufferService.buffer.ydisp}}_didStateChange(h,m,g,C){return!this._areCoordinatesEqual(h,this._state.start)||!this._areCoordinatesEqual(m,this._state.end)||g!==this._state.columnSelectMode||C!==this._state.ydisp}_areCoordinatesEqual(h,m){return!(!h||!m)&&h[0]===m[0]&&h[1]===m[1]}}a.SelectionRenderLayer=d},744:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TextRenderLayer=void 0;const c=l(577),d=l(147),p=l(782),h=l(855),m=l(903),g=l(574);class C extends m.BaseRenderLayer{constructor(S,y,b,w,x,_,I,T,A,k){super(S,y,"text",b,w,k,x,_,T,A),this._characterJoinerService=I,this._characterWidth=0,this._characterFont="",this._characterOverlapCache={},this._workCell=new p.CellData,this._state=new g.GridCache,this.register(_.onSpecificOptionChange("allowTransparency",R=>this._setTransparency(R)))}resize(S){super.resize(S);const y=this._getFont(!1,!1);this._characterWidth===S.device.char.width&&this._characterFont===y||(this._characterWidth=S.device.char.width,this._characterFont=y,this._characterOverlapCache={}),this._state.clear(),this._state.resize(this._bufferService.cols,this._bufferService.rows)}reset(){this._state.clear(),this._clearAll()}_forEachCell(S,y,b){for(let w=S;w<=y;w++){const x=w+this._bufferService.buffer.ydisp,_=this._bufferService.buffer.lines.get(x),I=this._characterJoinerService.getJoinedCharacters(x);for(let T=0;T<this._bufferService.cols;T++){_.loadCell(T,this._workCell);let A=this._workCell,k=!1,R=T;if(A.getWidth()!==0){if(I.length>0&&T===I[0][0]){k=!0;const M=I.shift();A=new c.JoinedCellData(this._workCell,_.translateToString(!0,M[0],M[1]),M[1]-M[0]),R=M[1]-1}!k&&this._isOverlapping(A)&&R<_.length-1&&_.getCodePoint(R+1)===h.NULL_CELL_CODE&&(A.content&=-12582913,A.content|=8388608),b(A,T,w),T=R}}}}_drawBackground(S,y){const b=this._ctx,w=this._bufferService.cols;let x=0,_=0,I=null;b.save(),this._forEachCell(S,y,(T,A,k)=>{let R=null;T.isInverse()?R=T.isFgDefault()?this._themeService.colors.foreground.css:T.isFgRGB()?`rgb(${d.AttributeData.toColorRGB(T.getFgColor()).join(",")})`:this._themeService.colors.ansi[T.getFgColor()].css:T.isBgRGB()?R=`rgb(${d.AttributeData.toColorRGB(T.getBgColor()).join(",")})`:T.isBgPalette()&&(R=this._themeService.colors.ansi[T.getBgColor()].css);let M=!1;this._decorationService.forEachDecorationAtCell(A,this._bufferService.buffer.ydisp+k,void 0,D=>{D.options.layer!=="top"&&M||(D.backgroundColorRGB&&(R=D.backgroundColorRGB.css),M=D.options.layer==="top")}),I===null&&(x=A,_=k),k!==_?(b.fillStyle=I||"",this._fillCells(x,_,w-x,1),x=A,_=k):I!==R&&(b.fillStyle=I||"",this._fillCells(x,_,A-x,1),x=A,_=k),I=R}),I!==null&&(b.fillStyle=I,this._fillCells(x,_,w-x,1)),b.restore()}_drawForeground(S,y){this._forEachCell(S,y,(b,w,x)=>this._drawChars(b,w,x))}handleGridChanged(S,y){this._state.cache.length!==0&&(this._charAtlas&&this._charAtlas.beginFrame(),this._clearCells(0,S,this._bufferService.cols,y-S+1),this._drawBackground(S,y),this._drawForeground(S,y))}_isOverlapping(S){if(S.getWidth()!==1||S.getCode()<256)return!1;const y=S.getChars();if(this._characterOverlapCache.hasOwnProperty(y))return this._characterOverlapCache[y];this._ctx.save(),this._ctx.font=this._characterFont;const b=Math.floor(this._ctx.measureText(y).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[y]=b,b}}a.TextRenderLayer=C},274:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CellColorResolver=void 0;const c=l(855),d=l(160),p=l(374);let h,m=0,g=0,C=!1,v=!1,S=!1,y=0;a.CellColorResolver=class{constructor(b,w,x,_,I,T){this._terminal=b,this._optionService=w,this._selectionRenderModel=x,this._decorationService=_,this._coreBrowserService=I,this._themeService=T,this.result={fg:0,bg:0,ext:0}}resolve(b,w,x,_){if(this.result.bg=b.bg,this.result.fg=b.fg,this.result.ext=268435456&b.bg?b.extended.ext:0,g=0,m=0,v=!1,C=!1,S=!1,h=this._themeService.colors,y=0,b.getCode()!==c.NULL_CELL_CODE&&b.extended.underlineStyle===4){const I=Math.max(1,Math.floor(this._optionService.rawOptions.fontSize*this._coreBrowserService.dpr/15));y=w*_%(2*Math.round(I))}if(this._decorationService.forEachDecorationAtCell(w,x,"bottom",I=>{I.backgroundColorRGB&&(g=I.backgroundColorRGB.rgba>>8&16777215,v=!0),I.foregroundColorRGB&&(m=I.foregroundColorRGB.rgba>>8&16777215,C=!0)}),S=this._selectionRenderModel.isCellSelected(this._terminal,w,x),S){if(67108864&this.result.fg||50331648&this.result.bg){if(67108864&this.result.fg)switch(50331648&this.result.fg){case 16777216:case 33554432:g=this._themeService.colors.ansi[255&this.result.fg].rgba;break;case 50331648:g=(16777215&this.result.fg)<<8|255;break;default:g=this._themeService.colors.foreground.rgba}else switch(50331648&this.result.bg){case 16777216:case 33554432:g=this._themeService.colors.ansi[255&this.result.bg].rgba;break;case 50331648:g=(16777215&this.result.bg)<<8|255}g=d.rgba.blend(g,4294967040&(this._coreBrowserService.isFocused?h.selectionBackgroundOpaque:h.selectionInactiveBackgroundOpaque).rgba|128)>>8&16777215}else g=(this._coreBrowserService.isFocused?h.selectionBackgroundOpaque:h.selectionInactiveBackgroundOpaque).rgba>>8&16777215;if(v=!0,h.selectionForeground&&(m=h.selectionForeground.rgba>>8&16777215,C=!0),(0,p.treatGlyphAsBackgroundColor)(b.getCode())){if(67108864&this.result.fg&&!(50331648&this.result.bg))m=(this._coreBrowserService.isFocused?h.selectionBackgroundOpaque:h.selectionInactiveBackgroundOpaque).rgba>>8&16777215;else{if(67108864&this.result.fg)switch(50331648&this.result.bg){case 16777216:case 33554432:m=this._themeService.colors.ansi[255&this.result.bg].rgba;break;case 50331648:m=(16777215&this.result.bg)<<8|255}else switch(50331648&this.result.fg){case 16777216:case 33554432:m=this._themeService.colors.ansi[255&this.result.fg].rgba;break;case 50331648:m=(16777215&this.result.fg)<<8|255;break;default:m=this._themeService.colors.foreground.rgba}m=d.rgba.blend(m,4294967040&(this._coreBrowserService.isFocused?h.selectionBackgroundOpaque:h.selectionInactiveBackgroundOpaque).rgba|128)>>8&16777215}C=!0}}this._decorationService.forEachDecorationAtCell(w,x,"top",I=>{I.backgroundColorRGB&&(g=I.backgroundColorRGB.rgba>>8&16777215,v=!0),I.foregroundColorRGB&&(m=I.foregroundColorRGB.rgba>>8&16777215,C=!0)}),v&&(g=S?-16777216&b.bg&-134217729|g|50331648:-16777216&b.bg|g|50331648),C&&(m=-16777216&b.fg&-67108865|m|50331648),67108864&this.result.fg&&(v&&!C&&(m=50331648&this.result.bg?-134217728&this.result.fg|67108863&this.result.bg:-134217728&this.result.fg|16777215&h.background.rgba>>8|50331648,C=!0),!v&&C&&(g=50331648&this.result.fg?-67108864&this.result.bg|67108863&this.result.fg:-67108864&this.result.bg|16777215&h.foreground.rgba>>8|50331648,v=!0)),h=void 0,this.result.bg=v?g:this.result.bg,this.result.fg=C?m:this.result.fg,this.result.ext&=536870911,this.result.ext|=y<<29&3758096384}}},627:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.removeTerminalFromCache=a.acquireTextureAtlas=void 0;const c=l(509),d=l(197),p=[];a.acquireTextureAtlas=function(h,m,g,C,v,S,y,b){const w=(0,d.generateConfig)(C,v,S,y,m,g,b);for(let I=0;I<p.length;I++){const T=p[I],A=T.ownedBy.indexOf(h);if(A>=0){if((0,d.configEquals)(T.config,w))return T.atlas;T.ownedBy.length===1?(T.atlas.dispose(),p.splice(I,1)):T.ownedBy.splice(A,1);break}}for(let I=0;I<p.length;I++){const T=p[I];if((0,d.configEquals)(T.config,w))return T.ownedBy.push(h),T.atlas}const x=h._core,_={atlas:new c.TextureAtlas(document,w,x.unicodeService),config:w,ownedBy:[h]};return p.push(_),_.atlas},a.removeTerminalFromCache=function(h){for(let m=0;m<p.length;m++){const g=p[m].ownedBy.indexOf(h);if(g!==-1){p[m].ownedBy.length===1?(p[m].atlas.dispose(),p.splice(m,1)):p[m].ownedBy.splice(g,1);break}}}},197:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.is256Color=a.configEquals=a.generateConfig=void 0;const c=l(160);a.generateConfig=function(d,p,h,m,g,C,v){const S={foreground:C.foreground,background:C.background,cursor:c.NULL_COLOR,cursorAccent:c.NULL_COLOR,selectionForeground:c.NULL_COLOR,selectionBackgroundTransparent:c.NULL_COLOR,selectionBackgroundOpaque:c.NULL_COLOR,selectionInactiveBackgroundTransparent:c.NULL_COLOR,selectionInactiveBackgroundOpaque:c.NULL_COLOR,ansi:C.ansi.slice(),contrastCache:C.contrastCache,halfContrastCache:C.halfContrastCache};return{customGlyphs:g.customGlyphs,devicePixelRatio:v,letterSpacing:g.letterSpacing,lineHeight:g.lineHeight,deviceCellWidth:d,deviceCellHeight:p,deviceCharWidth:h,deviceCharHeight:m,fontFamily:g.fontFamily,fontSize:g.fontSize,fontWeight:g.fontWeight,fontWeightBold:g.fontWeightBold,allowTransparency:g.allowTransparency,drawBoldTextInBrightColors:g.drawBoldTextInBrightColors,minimumContrastRatio:g.minimumContrastRatio,colors:S}},a.configEquals=function(d,p){for(let h=0;h<d.colors.ansi.length;h++)if(d.colors.ansi[h].rgba!==p.colors.ansi[h].rgba)return!1;return d.devicePixelRatio===p.devicePixelRatio&&d.customGlyphs===p.customGlyphs&&d.lineHeight===p.lineHeight&&d.letterSpacing===p.letterSpacing&&d.fontFamily===p.fontFamily&&d.fontSize===p.fontSize&&d.fontWeight===p.fontWeight&&d.fontWeightBold===p.fontWeightBold&&d.allowTransparency===p.allowTransparency&&d.deviceCharWidth===p.deviceCharWidth&&d.deviceCharHeight===p.deviceCharHeight&&d.drawBoldTextInBrightColors===p.drawBoldTextInBrightColors&&d.minimumContrastRatio===p.minimumContrastRatio&&d.colors.foreground.rgba===p.colors.foreground.rgba&&d.colors.background.rgba===p.colors.background.rgba},a.is256Color=function(d){return(50331648&d)==16777216||(50331648&d)==33554432}},237:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TEXT_BASELINE=a.DIM_OPACITY=a.INVERTED_DEFAULT_COLOR=void 0;const c=l(399);a.INVERTED_DEFAULT_COLOR=257,a.DIM_OPACITY=.5,a.TEXT_BASELINE=c.isFirefox||c.isLegacyEdge?"bottom":"ideographic"},457:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CursorBlinkStateManager=void 0,a.CursorBlinkStateManager=class{constructor(l,c){this._renderCallback=l,this._coreBrowserService=c,this.isCursorVisible=!0,this._coreBrowserService.isFocused&&this._restartInterval()}get isPaused(){return!(this._blinkStartTimeout||this._blinkInterval)}dispose(){this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(this._coreBrowserService.window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}restartBlinkAnimation(){this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0})))}_restartInterval(l=600){this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout=this._coreBrowserService.window.setTimeout(()=>{if(this._animationTimeRestarted){const c=600-(Date.now()-this._animationTimeRestarted);if(this._animationTimeRestarted=void 0,c>0)return void this._restartInterval(c)}this.isCursorVisible=!1,this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0}),this._blinkInterval=this._coreBrowserService.window.setInterval(()=>{if(this._animationTimeRestarted){const c=600-(Date.now()-this._animationTimeRestarted);return this._animationTimeRestarted=void 0,void this._restartInterval(c)}this.isCursorVisible=!this.isCursorVisible,this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._renderCallback(),this._animationFrame=void 0})},600)},l)}pause(){this.isCursorVisible=!0,this._blinkInterval&&(this._coreBrowserService.window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(this._coreBrowserService.window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}resume(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()}}},860:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.tryDrawCustomChar=a.powerlineDefinitions=a.boxDrawingDefinitions=a.blockElementDefinitions=void 0;const c=l(374);a.blockElementDefinitions={"â–€":[{x:0,y:0,w:8,h:4}],"â–":[{x:0,y:7,w:8,h:1}],"â–‚":[{x:0,y:6,w:8,h:2}],"â–ƒ":[{x:0,y:5,w:8,h:3}],"â–„":[{x:0,y:4,w:8,h:4}],"â–…":[{x:0,y:3,w:8,h:5}],"â–†":[{x:0,y:2,w:8,h:6}],"â–‡":[{x:0,y:1,w:8,h:7}],"â–ˆ":[{x:0,y:0,w:8,h:8}],"â–‰":[{x:0,y:0,w:7,h:8}],"â–Š":[{x:0,y:0,w:6,h:8}],"â–‹":[{x:0,y:0,w:5,h:8}],"â–Œ":[{x:0,y:0,w:4,h:8}],"â–":[{x:0,y:0,w:3,h:8}],"â–Ž":[{x:0,y:0,w:2,h:8}],"â–":[{x:0,y:0,w:1,h:8}],"â–":[{x:4,y:0,w:4,h:8}],"â–”":[{x:0,y:0,w:8,h:1}],"â–•":[{x:7,y:0,w:1,h:8}],"â––":[{x:0,y:4,w:4,h:4}],"â–—":[{x:4,y:4,w:4,h:4}],"â–˜":[{x:0,y:0,w:4,h:4}],"â–™":[{x:0,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"â–š":[{x:0,y:0,w:4,h:4},{x:4,y:4,w:4,h:4}],"â–›":[{x:0,y:0,w:4,h:8},{x:4,y:0,w:4,h:4}],"â–œ":[{x:0,y:0,w:8,h:4},{x:4,y:0,w:4,h:8}],"â–":[{x:4,y:0,w:4,h:4}],"â–ž":[{x:4,y:0,w:4,h:4},{x:0,y:4,w:4,h:4}],"â–Ÿ":[{x:4,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"ðŸ­°":[{x:1,y:0,w:1,h:8}],"ðŸ­±":[{x:2,y:0,w:1,h:8}],"ðŸ­²":[{x:3,y:0,w:1,h:8}],"ðŸ­³":[{x:4,y:0,w:1,h:8}],"ðŸ­´":[{x:5,y:0,w:1,h:8}],"ðŸ­µ":[{x:6,y:0,w:1,h:8}],"ðŸ­¶":[{x:0,y:1,w:8,h:1}],"ðŸ­·":[{x:0,y:2,w:8,h:1}],"ðŸ­¸":[{x:0,y:3,w:8,h:1}],"ðŸ­¹":[{x:0,y:4,w:8,h:1}],"ðŸ­º":[{x:0,y:5,w:8,h:1}],"ðŸ­»":[{x:0,y:6,w:8,h:1}],"ðŸ­¼":[{x:0,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"ðŸ­½":[{x:0,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"ðŸ­¾":[{x:7,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"ðŸ­¿":[{x:7,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"ðŸ®€":[{x:0,y:0,w:8,h:1},{x:0,y:7,w:8,h:1}],"ðŸ®":[{x:0,y:0,w:8,h:1},{x:0,y:2,w:8,h:1},{x:0,y:4,w:8,h:1},{x:0,y:7,w:8,h:1}],"ðŸ®‚":[{x:0,y:0,w:8,h:2}],"ðŸ®ƒ":[{x:0,y:0,w:8,h:3}],"ðŸ®„":[{x:0,y:0,w:8,h:5}],"ðŸ®…":[{x:0,y:0,w:8,h:6}],"ðŸ®†":[{x:0,y:0,w:8,h:7}],"ðŸ®‡":[{x:6,y:0,w:2,h:8}],"ðŸ®ˆ":[{x:5,y:0,w:3,h:8}],"ðŸ®‰":[{x:3,y:0,w:5,h:8}],"ðŸ®Š":[{x:2,y:0,w:6,h:8}],"ðŸ®‹":[{x:1,y:0,w:7,h:8}],"ðŸ®•":[{x:0,y:0,w:2,h:2},{x:4,y:0,w:2,h:2},{x:2,y:2,w:2,h:2},{x:6,y:2,w:2,h:2},{x:0,y:4,w:2,h:2},{x:4,y:4,w:2,h:2},{x:2,y:6,w:2,h:2},{x:6,y:6,w:2,h:2}],"ðŸ®–":[{x:2,y:0,w:2,h:2},{x:6,y:0,w:2,h:2},{x:0,y:2,w:2,h:2},{x:4,y:2,w:2,h:2},{x:2,y:4,w:2,h:2},{x:6,y:4,w:2,h:2},{x:0,y:6,w:2,h:2},{x:4,y:6,w:2,h:2}],"ðŸ®—":[{x:0,y:2,w:8,h:2},{x:0,y:6,w:8,h:2}]};const d={"â–‘":[[1,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0]],"â–’":[[1,0],[0,0],[0,1],[0,0]],"â–“":[[0,1],[1,1],[1,0],[1,1]]};a.boxDrawingDefinitions={"â”€":{1:"M0,.5 L1,.5"},"â”":{3:"M0,.5 L1,.5"},"â”‚":{1:"M.5,0 L.5,1"},"â”ƒ":{3:"M.5,0 L.5,1"},"â”Œ":{1:"M0.5,1 L.5,.5 L1,.5"},"â”":{3:"M0.5,1 L.5,.5 L1,.5"},"â”":{1:"M0,.5 L.5,.5 L.5,1"},"â”“":{3:"M0,.5 L.5,.5 L.5,1"},"â””":{1:"M.5,0 L.5,.5 L1,.5"},"â”—":{3:"M.5,0 L.5,.5 L1,.5"},"â”˜":{1:"M.5,0 L.5,.5 L0,.5"},"â”›":{3:"M.5,0 L.5,.5 L0,.5"},"â”œ":{1:"M.5,0 L.5,1 M.5,.5 L1,.5"},"â”£":{3:"M.5,0 L.5,1 M.5,.5 L1,.5"},"â”¤":{1:"M.5,0 L.5,1 M.5,.5 L0,.5"},"â”«":{3:"M.5,0 L.5,1 M.5,.5 L0,.5"},"â”¬":{1:"M0,.5 L1,.5 M.5,.5 L.5,1"},"â”³":{3:"M0,.5 L1,.5 M.5,.5 L.5,1"},"â”´":{1:"M0,.5 L1,.5 M.5,.5 L.5,0"},"â”»":{3:"M0,.5 L1,.5 M.5,.5 L.5,0"},"â”¼":{1:"M0,.5 L1,.5 M.5,0 L.5,1"},"â•‹":{3:"M0,.5 L1,.5 M.5,0 L.5,1"},"â•´":{1:"M.5,.5 L0,.5"},"â•¸":{3:"M.5,.5 L0,.5"},"â•µ":{1:"M.5,.5 L.5,0"},"â•¹":{3:"M.5,.5 L.5,0"},"â•¶":{1:"M.5,.5 L1,.5"},"â•º":{3:"M.5,.5 L1,.5"},"â•·":{1:"M.5,.5 L.5,1"},"â•»":{3:"M.5,.5 L.5,1"},"â•":{1:(C,v)=>`M0,${.5-v} L1,${.5-v} M0,${.5+v} L1,${.5+v}`},"â•‘":{1:(C,v)=>`M${.5-C},0 L${.5-C},1 M${.5+C},0 L${.5+C},1`},"â•’":{1:(C,v)=>`M.5,1 L.5,${.5-v} L1,${.5-v} M.5,${.5+v} L1,${.5+v}`},"â•“":{1:(C,v)=>`M${.5-C},1 L${.5-C},.5 L1,.5 M${.5+C},.5 L${.5+C},1`},"â•”":{1:(C,v)=>`M1,${.5-v} L${.5-C},${.5-v} L${.5-C},1 M1,${.5+v} L${.5+C},${.5+v} L${.5+C},1`},"â••":{1:(C,v)=>`M0,${.5-v} L.5,${.5-v} L.5,1 M0,${.5+v} L.5,${.5+v}`},"â•–":{1:(C,v)=>`M${.5+C},1 L${.5+C},.5 L0,.5 M${.5-C},.5 L${.5-C},1`},"â•—":{1:(C,v)=>`M0,${.5+v} L${.5-C},${.5+v} L${.5-C},1 M0,${.5-v} L${.5+C},${.5-v} L${.5+C},1`},"â•˜":{1:(C,v)=>`M.5,0 L.5,${.5+v} L1,${.5+v} M.5,${.5-v} L1,${.5-v}`},"â•™":{1:(C,v)=>`M1,.5 L${.5-C},.5 L${.5-C},0 M${.5+C},.5 L${.5+C},0`},"â•š":{1:(C,v)=>`M1,${.5-v} L${.5+C},${.5-v} L${.5+C},0 M1,${.5+v} L${.5-C},${.5+v} L${.5-C},0`},"â•›":{1:(C,v)=>`M0,${.5+v} L.5,${.5+v} L.5,0 M0,${.5-v} L.5,${.5-v}`},"â•œ":{1:(C,v)=>`M0,.5 L${.5+C},.5 L${.5+C},0 M${.5-C},.5 L${.5-C},0`},"â•":{1:(C,v)=>`M0,${.5-v} L${.5-C},${.5-v} L${.5-C},0 M0,${.5+v} L${.5+C},${.5+v} L${.5+C},0`},"â•ž":{1:(C,v)=>`M.5,0 L.5,1 M.5,${.5-v} L1,${.5-v} M.5,${.5+v} L1,${.5+v}`},"â•Ÿ":{1:(C,v)=>`M${.5-C},0 L${.5-C},1 M${.5+C},0 L${.5+C},1 M${.5+C},.5 L1,.5`},"â• ":{1:(C,v)=>`M${.5-C},0 L${.5-C},1 M1,${.5+v} L${.5+C},${.5+v} L${.5+C},1 M1,${.5-v} L${.5+C},${.5-v} L${.5+C},0`},"â•¡":{1:(C,v)=>`M.5,0 L.5,1 M0,${.5-v} L.5,${.5-v} M0,${.5+v} L.5,${.5+v}`},"â•¢":{1:(C,v)=>`M0,.5 L${.5-C},.5 M${.5-C},0 L${.5-C},1 M${.5+C},0 L${.5+C},1`},"â•£":{1:(C,v)=>`M${.5+C},0 L${.5+C},1 M0,${.5+v} L${.5-C},${.5+v} L${.5-C},1 M0,${.5-v} L${.5-C},${.5-v} L${.5-C},0`},"â•¤":{1:(C,v)=>`M0,${.5-v} L1,${.5-v} M0,${.5+v} L1,${.5+v} M.5,${.5+v} L.5,1`},"â•¥":{1:(C,v)=>`M0,.5 L1,.5 M${.5-C},.5 L${.5-C},1 M${.5+C},.5 L${.5+C},1`},"â•¦":{1:(C,v)=>`M0,${.5-v} L1,${.5-v} M0,${.5+v} L${.5-C},${.5+v} L${.5-C},1 M1,${.5+v} L${.5+C},${.5+v} L${.5+C},1`},"â•§":{1:(C,v)=>`M.5,0 L.5,${.5-v} M0,${.5-v} L1,${.5-v} M0,${.5+v} L1,${.5+v}`},"â•¨":{1:(C,v)=>`M0,.5 L1,.5 M${.5-C},.5 L${.5-C},0 M${.5+C},.5 L${.5+C},0`},"â•©":{1:(C,v)=>`M0,${.5+v} L1,${.5+v} M0,${.5-v} L${.5-C},${.5-v} L${.5-C},0 M1,${.5-v} L${.5+C},${.5-v} L${.5+C},0`},"â•ª":{1:(C,v)=>`M.5,0 L.5,1 M0,${.5-v} L1,${.5-v} M0,${.5+v} L1,${.5+v}`},"â•«":{1:(C,v)=>`M0,.5 L1,.5 M${.5-C},0 L${.5-C},1 M${.5+C},0 L${.5+C},1`},"â•¬":{1:(C,v)=>`M0,${.5+v} L${.5-C},${.5+v} L${.5-C},1 M1,${.5+v} L${.5+C},${.5+v} L${.5+C},1 M0,${.5-v} L${.5-C},${.5-v} L${.5-C},0 M1,${.5-v} L${.5+C},${.5-v} L${.5+C},0`},"â•±":{1:"M1,0 L0,1"},"â•²":{1:"M0,0 L1,1"},"â•³":{1:"M1,0 L0,1 M0,0 L1,1"},"â•¼":{1:"M.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"â•½":{1:"M.5,.5 L.5,0",3:"M.5,.5 L.5,1"},"â•¾":{1:"M.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"â•¿":{1:"M.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"â”":{1:"M.5,.5 L.5,1",3:"M.5,.5 L1,.5"},"â”Ž":{1:"M.5,.5 L1,.5",3:"M.5,.5 L.5,1"},"â”‘":{1:"M.5,.5 L.5,1",3:"M.5,.5 L0,.5"},"â”’":{1:"M.5,.5 L0,.5",3:"M.5,.5 L.5,1"},"â”•":{1:"M.5,.5 L.5,0",3:"M.5,.5 L1,.5"},"â”–":{1:"M.5,.5 L1,.5",3:"M.5,.5 L.5,0"},"â”™":{1:"M.5,.5 L.5,0",3:"M.5,.5 L0,.5"},"â”š":{1:"M.5,.5 L0,.5",3:"M.5,.5 L.5,0"},"â”":{1:"M.5,0 L.5,1",3:"M.5,.5 L1,.5"},"â”ž":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,.5 L.5,0"},"â”Ÿ":{1:"M.5,0 L.5,.5 L1,.5",3:"M.5,.5 L.5,1"},"â” ":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,1"},"â”¡":{1:"M.5,.5 L.5,1",3:"M.5,0 L.5,.5 L1,.5"},"â”¢":{1:"M.5,.5 L.5,0",3:"M0.5,1 L.5,.5 L1,.5"},"â”¥":{1:"M.5,0 L.5,1",3:"M.5,.5 L0,.5"},"â”¦":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"â”§":{1:"M.5,0 L.5,.5 L0,.5",3:"M.5,.5 L.5,1"},"â”¨":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,1"},"â”©":{1:"M.5,.5 L.5,1",3:"M.5,0 L.5,.5 L0,.5"},"â”ª":{1:"M.5,.5 L.5,0",3:"M0,.5 L.5,.5 L.5,1"},"â”­":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"â”®":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,.5 L1,.5"},"â”¯":{1:"M.5,.5 L.5,1",3:"M0,.5 L1,.5"},"â”°":{1:"M0,.5 L1,.5",3:"M.5,.5 L.5,1"},"â”±":{1:"M.5,.5 L1,.5",3:"M0,.5 L.5,.5 L.5,1"},"â”²":{1:"M.5,.5 L0,.5",3:"M0.5,1 L.5,.5 L1,.5"},"â”µ":{1:"M.5,0 L.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"â”¶":{1:"M.5,0 L.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"â”·":{1:"M.5,.5 L.5,0",3:"M0,.5 L1,.5"},"â”¸":{1:"M0,.5 L1,.5",3:"M.5,.5 L.5,0"},"â”¹":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,.5 L0,.5"},"â”º":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,.5 L1,.5"},"â”½":{1:"M.5,0 L.5,1 M.5,.5 L1,.5",3:"M.5,.5 L0,.5"},"â”¾":{1:"M.5,0 L.5,1 M.5,.5 L0,.5",3:"M.5,.5 L1,.5"},"â”¿":{1:"M.5,0 L.5,1",3:"M0,.5 L1,.5"},"â•€":{1:"M0,.5 L1,.5 M.5,.5 L.5,1",3:"M.5,.5 L.5,0"},"â•":{1:"M.5,.5 L.5,0 M0,.5 L1,.5",3:"M.5,.5 L.5,1"},"â•‚":{1:"M0,.5 L1,.5",3:"M.5,0 L.5,1"},"â•ƒ":{1:"M0.5,1 L.5,.5 L1,.5",3:"M.5,0 L.5,.5 L0,.5"},"â•„":{1:"M0,.5 L.5,.5 L.5,1",3:"M.5,0 L.5,.5 L1,.5"},"â•…":{1:"M.5,0 L.5,.5 L1,.5",3:"M0,.5 L.5,.5 L.5,1"},"â•†":{1:"M.5,0 L.5,.5 L0,.5",3:"M0.5,1 L.5,.5 L1,.5"},"â•‡":{1:"M.5,.5 L.5,1",3:"M.5,.5 L.5,0 M0,.5 L1,.5"},"â•ˆ":{1:"M.5,.5 L.5,0",3:"M0,.5 L1,.5 M.5,.5 L.5,1"},"â•‰":{1:"M.5,.5 L1,.5",3:"M.5,0 L.5,1 M.5,.5 L0,.5"},"â•Š":{1:"M.5,.5 L0,.5",3:"M.5,0 L.5,1 M.5,.5 L1,.5"},"â•Œ":{1:"M.1,.5 L.4,.5 M.6,.5 L.9,.5"},"â•":{3:"M.1,.5 L.4,.5 M.6,.5 L.9,.5"},"â”„":{1:"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5"},"â”…":{3:"M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5"},"â”ˆ":{1:"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5"},"â”‰":{3:"M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5"},"â•Ž":{1:"M.5,.1 L.5,.4 M.5,.6 L.5,.9"},"â•":{3:"M.5,.1 L.5,.4 M.5,.6 L.5,.9"},"â”†":{1:"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333"},"â”‡":{3:"M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333"},"â”Š":{1:"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95"},"â”‹":{3:"M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95"},"â•­":{1:(C,v)=>`M.5,1 L.5,${.5+v/.15*.5} C.5,${.5+v/.15*.5},.5,.5,1,.5`},"â•®":{1:(C,v)=>`M.5,1 L.5,${.5+v/.15*.5} C.5,${.5+v/.15*.5},.5,.5,0,.5`},"â•¯":{1:(C,v)=>`M.5,0 L.5,${.5-v/.15*.5} C.5,${.5-v/.15*.5},.5,.5,0,.5`},"â•°":{1:(C,v)=>`M.5,0 L.5,${.5-v/.15*.5} C.5,${.5-v/.15*.5},.5,.5,1,.5`}},a.powerlineDefinitions={"î‚°":{d:"M0,0 L1,.5 L0,1",type:0,rightPadding:2},"î‚±":{d:"M-1,-.5 L1,.5 L-1,1.5",type:1,leftPadding:1,rightPadding:1},"î‚²":{d:"M1,0 L0,.5 L1,1",type:0,leftPadding:2},"î‚³":{d:"M2,-.5 L0,.5 L2,1.5",type:1,leftPadding:1,rightPadding:1},"î‚´":{d:"M0,0 L0,1 C0.552,1,1,0.776,1,.5 C1,0.224,0.552,0,0,0",type:0,rightPadding:1},"î‚µ":{d:"M.2,1 C.422,1,.8,.826,.78,.5 C.8,.174,0.422,0,.2,0",type:1,rightPadding:1},"î‚¶":{d:"M1,0 L1,1 C0.448,1,0,0.776,0,.5 C0,0.224,0.448,0,1,0",type:0,leftPadding:1},"î‚·":{d:"M.8,1 C0.578,1,0.2,.826,.22,.5 C0.2,0.174,0.578,0,0.8,0",type:1,leftPadding:1},"î‚¸":{d:"M-.5,-.5 L1.5,1.5 L-.5,1.5",type:0},"î‚¹":{d:"M-.5,-.5 L1.5,1.5",type:1,leftPadding:1,rightPadding:1},"î‚º":{d:"M1.5,-.5 L-.5,1.5 L1.5,1.5",type:0},"î‚¼":{d:"M1.5,-.5 L-.5,1.5 L-.5,-.5",type:0},"î‚½":{d:"M1.5,-.5 L-.5,1.5",type:1,leftPadding:1,rightPadding:1},"î‚¾":{d:"M-.5,-.5 L1.5,1.5 L1.5,-.5",type:0}},a.powerlineDefinitions["î‚»"]=a.powerlineDefinitions["î‚½"],a.powerlineDefinitions["î‚¿"]=a.powerlineDefinitions["î‚¹"],a.tryDrawCustomChar=function(C,v,S,y,b,w,x,_){const I=a.blockElementDefinitions[v];if(I)return function(R,M,D,F,z,j){for(let H=0;H<M.length;H++){const O=M[H],U=z/8,N=j/8;R.fillRect(D+O.x*U,F+O.y*N,O.w*U,O.h*N)}}(C,I,S,y,b,w),!0;const T=d[v];if(T)return function(R,M,D,F,z,j){let H=p.get(M);H||(H=new Map,p.set(M,H));const O=R.fillStyle;if(typeof O!="string")throw new Error(`Unexpected fillStyle type "${O}"`);let U=H.get(O);if(!U){const N=M[0].length,W=M.length,B=R.canvas.ownerDocument.createElement("canvas");B.width=N,B.height=W;const $=(0,c.throwIfFalsy)(B.getContext("2d")),q=new ImageData(N,W);let X,ee,ue,se;if(O.startsWith("#"))X=parseInt(O.slice(1,3),16),ee=parseInt(O.slice(3,5),16),ue=parseInt(O.slice(5,7),16),se=O.length>7&&parseInt(O.slice(7,9),16)||1;else{if(!O.startsWith("rgba"))throw new Error(`Unexpected fillStyle color format "${O}" when drawing pattern glyph`);[X,ee,ue,se]=O.substring(5,O.length-1).split(",").map(ie=>parseFloat(ie))}for(let ie=0;ie<W;ie++)for(let J=0;J<N;J++)q.data[4*(ie*N+J)]=X,q.data[4*(ie*N+J)+1]=ee,q.data[4*(ie*N+J)+2]=ue,q.data[4*(ie*N+J)+3]=M[ie][J]*(255*se);$.putImageData(q,0,0),U=(0,c.throwIfFalsy)(R.createPattern(B,null)),H.set(O,U)}R.fillStyle=U,R.fillRect(D,F,z,j)}(C,T,S,y,b,w),!0;const A=a.boxDrawingDefinitions[v];if(A)return function(R,M,D,F,z,j,H){R.strokeStyle=R.fillStyle;for(const[O,U]of Object.entries(M)){let N;R.beginPath(),R.lineWidth=H*Number.parseInt(O),N=typeof U=="function"?U(.15,.15/j*z):U;for(const W of N.split(" ")){const B=W[0],$=m[B];if(!$){console.error(`Could not find drawing instructions for "${B}"`);continue}const q=W.substring(1).split(",");q[0]&&q[1]&&$(R,g(q,z,j,D,F,!0,H))}R.stroke(),R.closePath()}}(C,A,S,y,b,w,_),!0;const k=a.powerlineDefinitions[v];return!!k&&(function(R,M,D,F,z,j,H,O){const U=new Path2D;U.rect(D,F,z,j),R.clip(U),R.beginPath();const N=H/12;R.lineWidth=O*N;for(const W of M.d.split(" ")){const B=W[0],$=m[B];if(!$){console.error(`Could not find drawing instructions for "${B}"`);continue}const q=W.substring(1).split(",");q[0]&&q[1]&&$(R,g(q,z,j,D,F,!1,O,(M.leftPadding??0)*(N/2),(M.rightPadding??0)*(N/2)))}M.type===1?(R.strokeStyle=R.fillStyle,R.stroke()):R.fill(),R.closePath()}(C,k,S,y,b,w,x,_),!0)};const p=new Map;function h(C,v,S=0){return Math.max(Math.min(C,v),S)}const m={C:(C,v)=>C.bezierCurveTo(v[0],v[1],v[2],v[3],v[4],v[5]),L:(C,v)=>C.lineTo(v[0],v[1]),M:(C,v)=>C.moveTo(v[0],v[1])};function g(C,v,S,y,b,w,x,_=0,I=0){const T=C.map(A=>parseFloat(A)||parseInt(A));if(T.length<2)throw new Error("Too few arguments for instruction");for(let A=0;A<T.length;A+=2)T[A]*=v-_*x-I*x,w&&T[A]!==0&&(T[A]=h(Math.round(T[A]+.5)-.5,v,0)),T[A]+=y+_*x;for(let A=1;A<T.length;A+=2)T[A]*=S,w&&T[A]!==0&&(T[A]=h(Math.round(T[A]+.5)-.5,S,0)),T[A]+=b;return T}},56:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.observeDevicePixelDimensions=void 0;const c=l(859);a.observeDevicePixelDimensions=function(d,p,h){let m=new p.ResizeObserver(g=>{const C=g.find(y=>y.target===d);if(!C)return;if(!("devicePixelContentBoxSize"in C))return m==null||m.disconnect(),void(m=void 0);const v=C.devicePixelContentBoxSize[0].inlineSize,S=C.devicePixelContentBoxSize[0].blockSize;v>0&&S>0&&h(v,S)});try{m.observe(d,{box:["device-pixel-content-box"]})}catch{m.disconnect(),m=void 0}return(0,c.toDisposable)(()=>m==null?void 0:m.disconnect())}},374:(s,a)=>{function l(d){return 57508<=d&&d<=57558}function c(d){return d>=128512&&d<=128591||d>=127744&&d<=128511||d>=128640&&d<=128767||d>=9728&&d<=9983||d>=9984&&d<=10175||d>=65024&&d<=65039||d>=129280&&d<=129535||d>=127462&&d<=127487}Object.defineProperty(a,"__esModule",{value:!0}),a.computeNextVariantOffset=a.createRenderDimensions=a.treatGlyphAsBackgroundColor=a.allowRescaling=a.isEmoji=a.isRestrictedPowerlineGlyph=a.isPowerlineGlyph=a.throwIfFalsy=void 0,a.throwIfFalsy=function(d){if(!d)throw new Error("value must not be falsy");return d},a.isPowerlineGlyph=l,a.isRestrictedPowerlineGlyph=function(d){return 57520<=d&&d<=57527},a.isEmoji=c,a.allowRescaling=function(d,p,h,m){return p===1&&h>Math.ceil(1.5*m)&&d!==void 0&&d>255&&!c(d)&&!l(d)&&!function(g){return 57344<=g&&g<=63743}(d)},a.treatGlyphAsBackgroundColor=function(d){return l(d)||function(p){return 9472<=p&&p<=9631}(d)},a.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},a.computeNextVariantOffset=function(d,p,h=0){return(d-(2*Math.round(p)-h))%(2*Math.round(p))}},296:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createSelectionRenderModel=void 0;class l{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(d,p,h,m=!1){if(this.selectionStart=p,this.selectionEnd=h,!p||!h||p[0]===h[0]&&p[1]===h[1])return void this.clear();const g=d.buffers.active.ydisp,C=p[1]-g,v=h[1]-g,S=Math.max(C,0),y=Math.min(v,d.rows-1);S>=d.rows||y<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=m,this.viewportStartRow=C,this.viewportEndRow=v,this.viewportCappedStartRow=S,this.viewportCappedEndRow=y,this.startCol=p[0],this.endCol=h[0])}isCellSelected(d,p,h){return!!this.hasSelection&&(h-=d.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?p>=this.startCol&&h>=this.viewportCappedStartRow&&p<this.endCol&&h<=this.viewportCappedEndRow:p<this.startCol&&h>=this.viewportCappedStartRow&&p>=this.endCol&&h<=this.viewportCappedEndRow:h>this.viewportStartRow&&h<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&h===this.viewportStartRow&&p>=this.startCol&&p<this.endCol||this.viewportStartRow<this.viewportEndRow&&h===this.viewportEndRow&&p<this.endCol||this.viewportStartRow<this.viewportEndRow&&h===this.viewportStartRow&&p>=this.startCol)}}a.createSelectionRenderModel=function(){return new l}},509:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TextureAtlas=void 0;const c=l(237),d=l(860),p=l(374),h=l(160),m=l(345),g=l(485),C=l(385),v=l(147),S=l(855),y={texturePage:0,texturePosition:{x:0,y:0},texturePositionClipSpace:{x:0,y:0},offset:{x:0,y:0},size:{x:0,y:0},sizeClipSpace:{x:0,y:0}};let b;class w{get pages(){return this._pages}constructor(A,k,R){this._document=A,this._config=k,this._unicodeService=R,this._didWarmUp=!1,this._cacheMap=new g.FourKeyMap,this._cacheMapCombined=new g.FourKeyMap,this._pages=[],this._activePages=[],this._workBoundingBox={top:0,left:0,bottom:0,right:0},this._workAttributeData=new v.AttributeData,this._textureSize=512,this._onAddTextureAtlasCanvas=new m.EventEmitter,this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event,this._onRemoveTextureAtlasCanvas=new m.EventEmitter,this.onRemoveTextureAtlasCanvas=this._onRemoveTextureAtlasCanvas.event,this._requestClearModel=!1,this._createNewPage(),this._tmpCanvas=I(A,4*this._config.deviceCellWidth+4,this._config.deviceCellHeight+4),this._tmpCtx=(0,p.throwIfFalsy)(this._tmpCanvas.getContext("2d",{alpha:this._config.allowTransparency,willReadFrequently:!0}))}dispose(){for(const A of this.pages)A.canvas.remove();this._onAddTextureAtlasCanvas.dispose()}warmUp(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)}_doWarmUp(){const A=new C.IdleTaskQueue;for(let k=33;k<126;k++)A.enqueue(()=>{if(!this._cacheMap.get(k,S.DEFAULT_COLOR,S.DEFAULT_COLOR,S.DEFAULT_EXT)){const R=this._drawToCache(k,S.DEFAULT_COLOR,S.DEFAULT_COLOR,S.DEFAULT_EXT);this._cacheMap.set(k,S.DEFAULT_COLOR,S.DEFAULT_COLOR,S.DEFAULT_EXT,R)}})}beginFrame(){return this._requestClearModel}clearTexture(){if(this._pages[0].currentRow.x!==0||this._pages[0].currentRow.y!==0){for(const A of this._pages)A.clear();this._cacheMap.clear(),this._cacheMapCombined.clear(),this._didWarmUp=!1}}_createNewPage(){if(w.maxAtlasPages&&this._pages.length>=Math.max(4,w.maxAtlasPages)){const k=this._pages.filter(H=>2*H.canvas.width<=(w.maxTextureSize||4096)).sort((H,O)=>O.canvas.width!==H.canvas.width?O.canvas.width-H.canvas.width:O.percentageUsed-H.percentageUsed);let R=-1,M=0;for(let H=0;H<k.length;H++)if(k[H].canvas.width!==M)R=H,M=k[H].canvas.width;else if(H-R==3)break;const D=k.slice(R,R+4),F=D.map(H=>H.glyphs[0].texturePage).sort((H,O)=>H>O?1:-1),z=this.pages.length-D.length,j=this._mergePages(D,z);j.version++;for(let H=F.length-1;H>=0;H--)this._deletePage(F[H]);this.pages.push(j),this._requestClearModel=!0,this._onAddTextureAtlasCanvas.fire(j.canvas)}const A=new x(this._document,this._textureSize);return this._pages.push(A),this._activePages.push(A),this._onAddTextureAtlasCanvas.fire(A.canvas),A}_mergePages(A,k){const R=2*A[0].canvas.width,M=new x(this._document,R,A);for(const[D,F]of A.entries()){const z=D*F.canvas.width%R,j=Math.floor(D/2)*F.canvas.height;M.ctx.drawImage(F.canvas,z,j);for(const O of F.glyphs)O.texturePage=k,O.sizeClipSpace.x=O.size.x/R,O.sizeClipSpace.y=O.size.y/R,O.texturePosition.x+=z,O.texturePosition.y+=j,O.texturePositionClipSpace.x=O.texturePosition.x/R,O.texturePositionClipSpace.y=O.texturePosition.y/R;this._onRemoveTextureAtlasCanvas.fire(F.canvas);const H=this._activePages.indexOf(F);H!==-1&&this._activePages.splice(H,1)}return M}_deletePage(A){this._pages.splice(A,1);for(let k=A;k<this._pages.length;k++){const R=this._pages[k];for(const M of R.glyphs)M.texturePage--;R.version++}}getRasterizedGlyphCombinedChar(A,k,R,M,D){return this._getFromCacheMap(this._cacheMapCombined,A,k,R,M,D)}getRasterizedGlyph(A,k,R,M,D){return this._getFromCacheMap(this._cacheMap,A,k,R,M,D)}_getFromCacheMap(A,k,R,M,D,F=!1){return b=A.get(k,R,M,D),b||(b=this._drawToCache(k,R,M,D,F),A.set(k,R,M,D,b)),b}_getColorFromAnsiIndex(A){if(A>=this._config.colors.ansi.length)throw new Error("No color found for idx "+A);return this._config.colors.ansi[A]}_getBackgroundColor(A,k,R,M){if(this._config.allowTransparency)return h.NULL_COLOR;let D;switch(A){case 16777216:case 33554432:D=this._getColorFromAnsiIndex(k);break;case 50331648:const F=v.AttributeData.toColorRGB(k);D=h.channels.toColor(F[0],F[1],F[2]);break;default:D=R?h.color.opaque(this._config.colors.foreground):this._config.colors.background}return D}_getForegroundColor(A,k,R,M,D,F,z,j,H,O){const U=this._getMinimumContrastColor(A,k,R,M,D,F,z,H,j,O);if(U)return U;let N;switch(D){case 16777216:case 33554432:this._config.drawBoldTextInBrightColors&&H&&F<8&&(F+=8),N=this._getColorFromAnsiIndex(F);break;case 50331648:const W=v.AttributeData.toColorRGB(F);N=h.channels.toColor(W[0],W[1],W[2]);break;default:N=z?this._config.colors.background:this._config.colors.foreground}return this._config.allowTransparency&&(N=h.color.opaque(N)),j&&(N=h.color.multiplyOpacity(N,c.DIM_OPACITY)),N}_resolveBackgroundRgba(A,k,R){switch(A){case 16777216:case 33554432:return this._getColorFromAnsiIndex(k).rgba;case 50331648:return k<<8;default:return R?this._config.colors.foreground.rgba:this._config.colors.background.rgba}}_resolveForegroundRgba(A,k,R,M){switch(A){case 16777216:case 33554432:return this._config.drawBoldTextInBrightColors&&M&&k<8&&(k+=8),this._getColorFromAnsiIndex(k).rgba;case 50331648:return k<<8;default:return R?this._config.colors.background.rgba:this._config.colors.foreground.rgba}}_getMinimumContrastColor(A,k,R,M,D,F,z,j,H,O){if(this._config.minimumContrastRatio===1||O)return;const U=this._getContrastCache(H),N=U.getColor(A,M);if(N!==void 0)return N||void 0;const W=this._resolveBackgroundRgba(k,R,z),B=this._resolveForegroundRgba(D,F,z,j),$=h.rgba.ensureContrastRatio(W,B,this._config.minimumContrastRatio/(H?2:1));if(!$)return void U.setColor(A,M,null);const q=h.channels.toColor($>>24&255,$>>16&255,$>>8&255);return U.setColor(A,M,q),q}_getContrastCache(A){return A?this._config.colors.halfContrastCache:this._config.colors.contrastCache}_drawToCache(A,k,R,M,D=!1){const F=typeof A=="number"?String.fromCharCode(A):A,z=Math.min(this._config.deviceCellWidth*Math.max(F.length,2)+4,this._textureSize);this._tmpCanvas.width<z&&(this._tmpCanvas.width=z);const j=Math.min(this._config.deviceCellHeight+8,this._textureSize);if(this._tmpCanvas.height<j&&(this._tmpCanvas.height=j),this._tmpCtx.save(),this._workAttributeData.fg=R,this._workAttributeData.bg=k,this._workAttributeData.extended.ext=M,this._workAttributeData.isInvisible())return y;const H=!!this._workAttributeData.isBold(),O=!!this._workAttributeData.isInverse(),U=!!this._workAttributeData.isDim(),N=!!this._workAttributeData.isItalic(),W=!!this._workAttributeData.isUnderline(),B=!!this._workAttributeData.isStrikethrough(),$=!!this._workAttributeData.isOverline();let q=this._workAttributeData.getFgColor(),X=this._workAttributeData.getFgColorMode(),ee=this._workAttributeData.getBgColor(),ue=this._workAttributeData.getBgColorMode();if(O){const Oe=q;q=ee,ee=Oe;const ot=X;X=ue,ue=ot}const se=this._getBackgroundColor(ue,ee,O,U);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=se.css,this._tmpCtx.fillRect(0,0,this._tmpCanvas.width,this._tmpCanvas.height),this._tmpCtx.globalCompositeOperation="source-over";const ie=H?this._config.fontWeightBold:this._config.fontWeight,J=N?"italic":"";this._tmpCtx.font=`${J} ${ie} ${this._config.fontSize*this._config.devicePixelRatio}px ${this._config.fontFamily}`,this._tmpCtx.textBaseline=c.TEXT_BASELINE;const le=F.length===1&&(0,p.isPowerlineGlyph)(F.charCodeAt(0)),ve=F.length===1&&(0,p.isRestrictedPowerlineGlyph)(F.charCodeAt(0)),Me=this._getForegroundColor(k,ue,ee,R,X,q,O,U,H,(0,p.treatGlyphAsBackgroundColor)(F.charCodeAt(0)));this._tmpCtx.fillStyle=Me.css;const we=ve?0:4;let be=!1;this._config.customGlyphs!==!1&&(be=(0,d.tryDrawCustomChar)(this._tmpCtx,F,we,we,this._config.deviceCellWidth,this._config.deviceCellHeight,this._config.fontSize,this._config.devicePixelRatio));let Ne,$e=!le;if(Ne=typeof A=="number"?this._unicodeService.wcwidth(A):this._unicodeService.getStringCellWidth(A),W){this._tmpCtx.save();const Oe=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/15)),ot=Oe%2==1?.5:0;if(this._tmpCtx.lineWidth=Oe,this._workAttributeData.isUnderlineColorDefault())this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle;else if(this._workAttributeData.isUnderlineColorRGB())$e=!1,this._tmpCtx.strokeStyle=`rgb(${v.AttributeData.toColorRGB(this._workAttributeData.getUnderlineColor()).join(",")})`;else{$e=!1;let Ve=this._workAttributeData.getUnderlineColor();this._config.drawBoldTextInBrightColors&&this._workAttributeData.isBold()&&Ve<8&&(Ve+=8),this._tmpCtx.strokeStyle=this._getColorFromAnsiIndex(Ve).css}this._tmpCtx.beginPath();const Cn=we,At=Math.ceil(we+this._config.deviceCharHeight)-ot-(D?2*Oe:0),wr=At+Oe,Be=At+2*Oe;let ut=this._workAttributeData.getUnderlineVariantOffset();for(let Ve=0;Ve<Ne;Ve++){this._tmpCtx.save();const it=Cn+Ve*this._config.deviceCellWidth,Zt=Cn+(Ve+1)*this._config.deviceCellWidth,Ls=it+this._config.deviceCellWidth/2;switch(this._workAttributeData.extended.underlineStyle){case 2:this._tmpCtx.moveTo(it,At),this._tmpCtx.lineTo(Zt,At),this._tmpCtx.moveTo(it,Be),this._tmpCtx.lineTo(Zt,Be);break;case 3:const Hi=Oe<=1?Be:Math.ceil(we+this._config.deviceCharHeight-Oe/2)-ot,Ja=Oe<=1?At:Math.ceil(we+this._config.deviceCharHeight+Oe/2)-ot,Xu=new Path2D;Xu.rect(it,At,this._config.deviceCellWidth,Be-At),this._tmpCtx.clip(Xu),this._tmpCtx.moveTo(it-this._config.deviceCellWidth/2,wr),this._tmpCtx.bezierCurveTo(it-this._config.deviceCellWidth/2,Ja,it,Ja,it,wr),this._tmpCtx.bezierCurveTo(it,Hi,Ls,Hi,Ls,wr),this._tmpCtx.bezierCurveTo(Ls,Ja,Zt,Ja,Zt,wr),this._tmpCtx.bezierCurveTo(Zt,Hi,Zt+this._config.deviceCellWidth/2,Hi,Zt+this._config.deviceCellWidth/2,wr);break;case 4:const el=ut===0?0:ut>=Oe?2*Oe-ut:Oe-ut;ut>=Oe||el===0?(this._tmpCtx.setLineDash([Math.round(Oe),Math.round(Oe)]),this._tmpCtx.moveTo(it+el,At),this._tmpCtx.lineTo(Zt,At)):(this._tmpCtx.setLineDash([Math.round(Oe),Math.round(Oe)]),this._tmpCtx.moveTo(it,At),this._tmpCtx.lineTo(it+el,At),this._tmpCtx.moveTo(it+el+Oe,At),this._tmpCtx.lineTo(Zt,At)),ut=(0,p.computeNextVariantOffset)(Zt-it,Oe,ut);break;case 5:const of=.6,Ju=.3,s5=Zt-it,Ab=Math.floor(of*s5),Tb=Math.floor(Ju*s5),Bj=s5-Ab-Tb;this._tmpCtx.setLineDash([Ab,Tb,Bj]),this._tmpCtx.moveTo(it,At),this._tmpCtx.lineTo(Zt,At);break;default:this._tmpCtx.moveTo(it,At),this._tmpCtx.lineTo(Zt,At)}this._tmpCtx.stroke(),this._tmpCtx.restore()}if(this._tmpCtx.restore(),!be&&this._config.fontSize>=12&&!this._config.allowTransparency&&F!==" "){this._tmpCtx.save(),this._tmpCtx.textBaseline="alphabetic";const Ve=this._tmpCtx.measureText(F);if(this._tmpCtx.restore(),"actualBoundingBoxDescent"in Ve&&Ve.actualBoundingBoxDescent>0){this._tmpCtx.save();const it=new Path2D;it.rect(Cn,At-Math.ceil(Oe/2),this._config.deviceCellWidth*Ne,Be-At+Math.ceil(Oe/2)),this._tmpCtx.clip(it),this._tmpCtx.lineWidth=3*this._config.devicePixelRatio,this._tmpCtx.strokeStyle=se.css,this._tmpCtx.strokeText(F,we,we+this._config.deviceCharHeight),this._tmpCtx.restore()}}}if($){const Oe=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/15)),ot=Oe%2==1?.5:0;this._tmpCtx.lineWidth=Oe,this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle,this._tmpCtx.beginPath(),this._tmpCtx.moveTo(we,we+ot),this._tmpCtx.lineTo(we+this._config.deviceCharWidth*Ne,we+ot),this._tmpCtx.stroke()}if(be||this._tmpCtx.fillText(F,we,we+this._config.deviceCharHeight),F==="_"&&!this._config.allowTransparency){let Oe=_(this._tmpCtx.getImageData(we,we,this._config.deviceCellWidth,this._config.deviceCellHeight),se,Me,$e);if(Oe)for(let ot=1;ot<=5&&(this._tmpCtx.save(),this._tmpCtx.fillStyle=se.css,this._tmpCtx.fillRect(0,0,this._tmpCanvas.width,this._tmpCanvas.height),this._tmpCtx.restore(),this._tmpCtx.fillText(F,we,we+this._config.deviceCharHeight-ot),Oe=_(this._tmpCtx.getImageData(we,we,this._config.deviceCellWidth,this._config.deviceCellHeight),se,Me,$e),Oe);ot++);}if(B){const Oe=Math.max(1,Math.floor(this._config.fontSize*this._config.devicePixelRatio/10)),ot=this._tmpCtx.lineWidth%2==1?.5:0;this._tmpCtx.lineWidth=Oe,this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle,this._tmpCtx.beginPath(),this._tmpCtx.moveTo(we,we+Math.floor(this._config.deviceCharHeight/2)-ot),this._tmpCtx.lineTo(we+this._config.deviceCharWidth*Ne,we+Math.floor(this._config.deviceCharHeight/2)-ot),this._tmpCtx.stroke()}this._tmpCtx.restore();const at=this._tmpCtx.getImageData(0,0,this._tmpCanvas.width,this._tmpCanvas.height);let ae;if(ae=this._config.allowTransparency?function(Oe){for(let ot=0;ot<Oe.data.length;ot+=4)if(Oe.data[ot+3]>0)return!1;return!0}(at):_(at,se,Me,$e),ae)return y;const ze=this._findGlyphBoundingBox(at,this._workBoundingBox,z,ve,be,we);let Qe,Ge;for(;;){if(this._activePages.length===0){const Oe=this._createNewPage();Qe=Oe,Ge=Oe.currentRow,Ge.height=ze.size.y;break}Qe=this._activePages[this._activePages.length-1],Ge=Qe.currentRow;for(const Oe of this._activePages)ze.size.y<=Oe.currentRow.height&&(Qe=Oe,Ge=Oe.currentRow);for(let Oe=this._activePages.length-1;Oe>=0;Oe--)for(const ot of this._activePages[Oe].fixedRows)ot.height<=Ge.height&&ze.size.y<=ot.height&&(Qe=this._activePages[Oe],Ge=ot);if(Ge.y+ze.size.y>=Qe.canvas.height||Ge.height>ze.size.y+2){let Oe=!1;if(Qe.currentRow.y+Qe.currentRow.height+ze.size.y>=Qe.canvas.height){let ot;for(const Cn of this._activePages)if(Cn.currentRow.y+Cn.currentRow.height+ze.size.y<Cn.canvas.height){ot=Cn;break}if(ot)Qe=ot;else if(w.maxAtlasPages&&this._pages.length>=w.maxAtlasPages&&Ge.y+ze.size.y<=Qe.canvas.height&&Ge.height>=ze.size.y&&Ge.x+ze.size.x<=Qe.canvas.width)Oe=!0;else{const Cn=this._createNewPage();Qe=Cn,Ge=Cn.currentRow,Ge.height=ze.size.y,Oe=!0}}Oe||(Qe.currentRow.height>0&&Qe.fixedRows.push(Qe.currentRow),Ge={x:0,y:Qe.currentRow.y+Qe.currentRow.height,height:ze.size.y},Qe.fixedRows.push(Ge),Qe.currentRow={x:0,y:Ge.y+Ge.height,height:0})}if(Ge.x+ze.size.x<=Qe.canvas.width)break;Ge===Qe.currentRow?(Ge.x=0,Ge.y+=Ge.height,Ge.height=0):Qe.fixedRows.splice(Qe.fixedRows.indexOf(Ge),1)}return ze.texturePage=this._pages.indexOf(Qe),ze.texturePosition.x=Ge.x,ze.texturePosition.y=Ge.y,ze.texturePositionClipSpace.x=Ge.x/Qe.canvas.width,ze.texturePositionClipSpace.y=Ge.y/Qe.canvas.height,ze.sizeClipSpace.x/=Qe.canvas.width,ze.sizeClipSpace.y/=Qe.canvas.height,Ge.height=Math.max(Ge.height,ze.size.y),Ge.x+=ze.size.x,Qe.ctx.putImageData(at,ze.texturePosition.x-this._workBoundingBox.left,ze.texturePosition.y-this._workBoundingBox.top,this._workBoundingBox.left,this._workBoundingBox.top,ze.size.x,ze.size.y),Qe.addGlyph(ze),Qe.version++,ze}_findGlyphBoundingBox(A,k,R,M,D,F){k.top=0;const z=M?this._config.deviceCellHeight:this._tmpCanvas.height,j=M?this._config.deviceCellWidth:R;let H=!1;for(let O=0;O<z;O++){for(let U=0;U<j;U++){const N=O*this._tmpCanvas.width*4+4*U+3;if(A.data[N]!==0){k.top=O,H=!0;break}}if(H)break}k.left=0,H=!1;for(let O=0;O<F+j;O++){for(let U=0;U<z;U++){const N=U*this._tmpCanvas.width*4+4*O+3;if(A.data[N]!==0){k.left=O,H=!0;break}}if(H)break}k.right=j,H=!1;for(let O=F+j-1;O>=F;O--){for(let U=0;U<z;U++){const N=U*this._tmpCanvas.width*4+4*O+3;if(A.data[N]!==0){k.right=O,H=!0;break}}if(H)break}k.bottom=z,H=!1;for(let O=z-1;O>=0;O--){for(let U=0;U<j;U++){const N=O*this._tmpCanvas.width*4+4*U+3;if(A.data[N]!==0){k.bottom=O,H=!0;break}}if(H)break}return{texturePage:0,texturePosition:{x:0,y:0},texturePositionClipSpace:{x:0,y:0},size:{x:k.right-k.left+1,y:k.bottom-k.top+1},sizeClipSpace:{x:k.right-k.left+1,y:k.bottom-k.top+1},offset:{x:-k.left+F+(M||D?Math.floor((this._config.deviceCellWidth-this._config.deviceCharWidth)/2):0),y:-k.top+F+(M||D?this._config.lineHeight===1?0:Math.round((this._config.deviceCellHeight-this._config.deviceCharHeight)/2):0)}}}}a.TextureAtlas=w;class x{get percentageUsed(){return this._usedPixels/(this.canvas.width*this.canvas.height)}get glyphs(){return this._glyphs}addGlyph(A){this._glyphs.push(A),this._usedPixels+=A.size.x*A.size.y}constructor(A,k,R){if(this._usedPixels=0,this._glyphs=[],this.version=0,this.currentRow={x:0,y:0,height:0},this.fixedRows=[],R)for(const M of R)this._glyphs.push(...M.glyphs),this._usedPixels+=M._usedPixels;this.canvas=I(A,k,k),this.ctx=(0,p.throwIfFalsy)(this.canvas.getContext("2d",{alpha:!0}))}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.currentRow.x=0,this.currentRow.y=0,this.currentRow.height=0,this.fixedRows.length=0,this.version++}}function _(T,A,k,R){const M=A.rgba>>>24,D=A.rgba>>>16&255,F=A.rgba>>>8&255,z=k.rgba>>>24,j=k.rgba>>>16&255,H=k.rgba>>>8&255,O=Math.floor((Math.abs(M-z)+Math.abs(D-j)+Math.abs(F-H))/12);let U=!0;for(let N=0;N<T.data.length;N+=4)T.data[N]===M&&T.data[N+1]===D&&T.data[N+2]===F||R&&Math.abs(T.data[N]-M)+Math.abs(T.data[N+1]-D)+Math.abs(T.data[N+2]-F)<O?T.data[N+3]=0:U=!1;return U}function I(T,A,k){const R=T.createElement("canvas");return R.width=A,R.height=k,R}},577:function(s,a,l){var c=this&&this.__decorate||function(S,y,b,w){var x,_=arguments.length,I=_<3?y:w===null?w=Object.getOwnPropertyDescriptor(y,b):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(S,y,b,w);else for(var T=S.length-1;T>=0;T--)(x=S[T])&&(I=(_<3?x(I):_>3?x(y,b,I):x(y,b))||I);return _>3&&I&&Object.defineProperty(y,b,I),I},d=this&&this.__param||function(S,y){return function(b,w){y(b,w,S)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CharacterJoinerService=a.JoinedCellData=void 0;const p=l(147),h=l(855),m=l(782),g=l(97);class C extends p.AttributeData{constructor(y,b,w){super(),this.content=0,this.combinedData="",this.fg=y.fg,this.bg=y.bg,this.combinedData=b,this._width=w}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(y){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}a.JoinedCellData=C;let v=a.CharacterJoinerService=class UO{constructor(y){this._bufferService=y,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new m.CellData}register(y){const b={id:this._nextCharacterJoinerId++,handler:y};return this._characterJoiners.push(b),b.id}deregister(y){for(let b=0;b<this._characterJoiners.length;b++)if(this._characterJoiners[b].id===y)return this._characterJoiners.splice(b,1),!0;return!1}getJoinedCharacters(y){if(this._characterJoiners.length===0)return[];const b=this._bufferService.buffer.lines.get(y);if(!b||b.length===0)return[];const w=[],x=b.translateToString(!0);let _=0,I=0,T=0,A=b.getFg(0),k=b.getBg(0);for(let R=0;R<b.getTrimmedLength();R++)if(b.loadCell(R,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==A||this._workCell.bg!==k){if(R-_>1){const M=this._getJoinedRanges(x,T,I,b,_);for(let D=0;D<M.length;D++)w.push(M[D])}_=R,T=I,A=this._workCell.fg,k=this._workCell.bg}I+=this._workCell.getChars().length||h.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-_>1){const R=this._getJoinedRanges(x,T,I,b,_);for(let M=0;M<R.length;M++)w.push(R[M])}return w}_getJoinedRanges(y,b,w,x,_){const I=y.substring(b,w);let T=[];try{T=this._characterJoiners[0].handler(I)}catch(A){console.error(A)}for(let A=1;A<this._characterJoiners.length;A++)try{const k=this._characterJoiners[A].handler(I);for(let R=0;R<k.length;R++)UO._mergeRanges(T,k[R])}catch(k){console.error(k)}return this._stringRangesToCellRanges(T,x,_),T}_stringRangesToCellRanges(y,b,w){let x=0,_=!1,I=0,T=y[x];if(T){for(let A=w;A<this._bufferService.cols;A++){const k=b.getWidth(A),R=b.getString(A).length||h.WHITESPACE_CELL_CHAR.length;if(k!==0){if(!_&&T[0]<=I&&(T[0]=A,_=!0),T[1]<=I){if(T[1]=A,T=y[++x],!T)break;T[0]<=I?(T[0]=A,_=!0):_=!1}I+=R}}T&&(T[1]=this._bufferService.cols)}}static _mergeRanges(y,b){let w=!1;for(let x=0;x<y.length;x++){const _=y[x];if(w){if(b[1]<=_[0])return y[x-1][1]=b[1],y;if(b[1]<=_[1])return y[x-1][1]=Math.max(b[1],_[1]),y.splice(x,1),y;y.splice(x,1),x--}else{if(b[1]<=_[0])return y.splice(x,0,b),y;if(b[1]<=_[1])return _[0]=Math.min(b[0],_[0]),y;b[0]<_[1]&&(_[0]=Math.min(b[0],_[0]),w=!0)}}return w?y[y.length-1][1]=b[1]:y.push(b),y}};a.CharacterJoinerService=v=c([d(0,g.IBufferService)],v)},160:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.contrastRatio=a.toPaddedHex=a.rgba=a.rgb=a.css=a.color=a.channels=a.NULL_COLOR=void 0;let l=0,c=0,d=0,p=0;var h,m,g,C,v;function S(b){const w=b.toString(16);return w.length<2?"0"+w:w}function y(b,w){return b<w?(w+.05)/(b+.05):(b+.05)/(w+.05)}a.NULL_COLOR={css:"#00000000",rgba:0},function(b){b.toCss=function(w,x,_,I){return I!==void 0?`#${S(w)}${S(x)}${S(_)}${S(I)}`:`#${S(w)}${S(x)}${S(_)}`},b.toRgba=function(w,x,_,I=255){return(w<<24|x<<16|_<<8|I)>>>0},b.toColor=function(w,x,_,I){return{css:b.toCss(w,x,_,I),rgba:b.toRgba(w,x,_,I)}}}(h||(a.channels=h={})),function(b){function w(x,_){return p=Math.round(255*_),[l,c,d]=v.toChannels(x.rgba),{css:h.toCss(l,c,d,p),rgba:h.toRgba(l,c,d,p)}}b.blend=function(x,_){if(p=(255&_.rgba)/255,p===1)return{css:_.css,rgba:_.rgba};const I=_.rgba>>24&255,T=_.rgba>>16&255,A=_.rgba>>8&255,k=x.rgba>>24&255,R=x.rgba>>16&255,M=x.rgba>>8&255;return l=k+Math.round((I-k)*p),c=R+Math.round((T-R)*p),d=M+Math.round((A-M)*p),{css:h.toCss(l,c,d),rgba:h.toRgba(l,c,d)}},b.isOpaque=function(x){return(255&x.rgba)==255},b.ensureContrastRatio=function(x,_,I){const T=v.ensureContrastRatio(x.rgba,_.rgba,I);if(T)return h.toColor(T>>24&255,T>>16&255,T>>8&255)},b.opaque=function(x){const _=(255|x.rgba)>>>0;return[l,c,d]=v.toChannels(_),{css:h.toCss(l,c,d),rgba:_}},b.opacity=w,b.multiplyOpacity=function(x,_){return p=255&x.rgba,w(x,p*_/255)},b.toColorRGB=function(x){return[x.rgba>>24&255,x.rgba>>16&255,x.rgba>>8&255]}}(m||(a.color=m={})),function(b){let w,x;try{const _=document.createElement("canvas");_.width=1,_.height=1;const I=_.getContext("2d",{willReadFrequently:!0});I&&(w=I,w.globalCompositeOperation="copy",x=w.createLinearGradient(0,0,1,1))}catch{}b.toColor=function(_){if(_.match(/#[\da-f]{3,8}/i))switch(_.length){case 4:return l=parseInt(_.slice(1,2).repeat(2),16),c=parseInt(_.slice(2,3).repeat(2),16),d=parseInt(_.slice(3,4).repeat(2),16),h.toColor(l,c,d);case 5:return l=parseInt(_.slice(1,2).repeat(2),16),c=parseInt(_.slice(2,3).repeat(2),16),d=parseInt(_.slice(3,4).repeat(2),16),p=parseInt(_.slice(4,5).repeat(2),16),h.toColor(l,c,d,p);case 7:return{css:_,rgba:(parseInt(_.slice(1),16)<<8|255)>>>0};case 9:return{css:_,rgba:parseInt(_.slice(1),16)>>>0}}const I=_.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(I)return l=parseInt(I[1]),c=parseInt(I[2]),d=parseInt(I[3]),p=Math.round(255*(I[5]===void 0?1:parseFloat(I[5]))),h.toColor(l,c,d,p);if(!w||!x)throw new Error("css.toColor: Unsupported css format");if(w.fillStyle=x,w.fillStyle=_,typeof w.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(w.fillRect(0,0,1,1),[l,c,d,p]=w.getImageData(0,0,1,1).data,p!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:h.toRgba(l,c,d,p),css:_}}}(g||(a.css=g={})),function(b){function w(x,_,I){const T=x/255,A=_/255,k=I/255;return .2126*(T<=.03928?T/12.92:Math.pow((T+.055)/1.055,2.4))+.7152*(A<=.03928?A/12.92:Math.pow((A+.055)/1.055,2.4))+.0722*(k<=.03928?k/12.92:Math.pow((k+.055)/1.055,2.4))}b.relativeLuminance=function(x){return w(x>>16&255,x>>8&255,255&x)},b.relativeLuminance2=w}(C||(a.rgb=C={})),function(b){function w(_,I,T){const A=_>>24&255,k=_>>16&255,R=_>>8&255;let M=I>>24&255,D=I>>16&255,F=I>>8&255,z=y(C.relativeLuminance2(M,D,F),C.relativeLuminance2(A,k,R));for(;z<T&&(M>0||D>0||F>0);)M-=Math.max(0,Math.ceil(.1*M)),D-=Math.max(0,Math.ceil(.1*D)),F-=Math.max(0,Math.ceil(.1*F)),z=y(C.relativeLuminance2(M,D,F),C.relativeLuminance2(A,k,R));return(M<<24|D<<16|F<<8|255)>>>0}function x(_,I,T){const A=_>>24&255,k=_>>16&255,R=_>>8&255;let M=I>>24&255,D=I>>16&255,F=I>>8&255,z=y(C.relativeLuminance2(M,D,F),C.relativeLuminance2(A,k,R));for(;z<T&&(M<255||D<255||F<255);)M=Math.min(255,M+Math.ceil(.1*(255-M))),D=Math.min(255,D+Math.ceil(.1*(255-D))),F=Math.min(255,F+Math.ceil(.1*(255-F))),z=y(C.relativeLuminance2(M,D,F),C.relativeLuminance2(A,k,R));return(M<<24|D<<16|F<<8|255)>>>0}b.blend=function(_,I){if(p=(255&I)/255,p===1)return I;const T=I>>24&255,A=I>>16&255,k=I>>8&255,R=_>>24&255,M=_>>16&255,D=_>>8&255;return l=R+Math.round((T-R)*p),c=M+Math.round((A-M)*p),d=D+Math.round((k-D)*p),h.toRgba(l,c,d)},b.ensureContrastRatio=function(_,I,T){const A=C.relativeLuminance(_>>8),k=C.relativeLuminance(I>>8);if(y(A,k)<T){if(k<A){const D=w(_,I,T),F=y(A,C.relativeLuminance(D>>8));if(F<T){const z=x(_,I,T);return F>y(A,C.relativeLuminance(z>>8))?D:z}return D}const R=x(_,I,T),M=y(A,C.relativeLuminance(R>>8));if(M<T){const D=w(_,I,T);return M>y(A,C.relativeLuminance(D>>8))?R:D}return R}},b.reduceLuminance=w,b.increaseLuminance=x,b.toChannels=function(_){return[_>>24&255,_>>16&255,_>>8&255,255&_]}}(v||(a.rgba=v={})),a.toPaddedHex=S,a.contrastRatio=y},345:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.runAndSubscribe=a.forwardEvent=a.EventEmitter=void 0,a.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=l=>(this._listeners.push(l),{dispose:()=>{if(!this._disposed){for(let c=0;c<this._listeners.length;c++)if(this._listeners[c]===l)return void this._listeners.splice(c,1)}}})),this._event}fire(l,c){const d=[];for(let p=0;p<this._listeners.length;p++)d.push(this._listeners[p]);for(let p=0;p<d.length;p++)d[p].call(void 0,l,c)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},a.forwardEvent=function(l,c){return l(d=>c.fire(d))},a.runAndSubscribe=function(l,c){return c(void 0),l(d=>c(d))}},859:(s,a)=>{function l(c){for(const d of c)d.dispose();c.length=0}Object.defineProperty(a,"__esModule",{value:!0}),a.getDisposeArrayDisposable=a.disposeArray=a.toDisposable=a.MutableDisposable=a.Disposable=void 0,a.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const c of this._disposables)c.dispose();this._disposables.length=0}register(c){return this._disposables.push(c),c}unregister(c){const d=this._disposables.indexOf(c);d!==-1&&this._disposables.splice(d,1)}},a.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(c){var d;this._isDisposed||c===this._value||((d=this._value)==null||d.dispose(),this._value=c)}clear(){this.value=void 0}dispose(){var c;this._isDisposed=!0,(c=this._value)==null||c.dispose(),this._value=void 0}},a.toDisposable=function(c){return{dispose:c}},a.disposeArray=l,a.getDisposeArrayDisposable=function(c){return{dispose:()=>l(c)}}},485:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.FourKeyMap=a.TwoKeyMap=void 0;class l{constructor(){this._data={}}set(d,p,h){this._data[d]||(this._data[d]={}),this._data[d][p]=h}get(d,p){return this._data[d]?this._data[d][p]:void 0}clear(){this._data={}}}a.TwoKeyMap=l,a.FourKeyMap=class{constructor(){this._data=new l}set(c,d,p,h,m){this._data.get(c,d)||this._data.set(c,d,new l),this._data.get(c,d).set(p,h,m)}get(c,d,p,h){var m;return(m=this._data.get(c,d))==null?void 0:m.get(p,h)}clear(){this._data.clear()}}},399:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isChromeOS=a.isLinux=a.isWindows=a.isIphone=a.isIpad=a.isMac=a.getSafariVersion=a.isSafari=a.isLegacyEdge=a.isFirefox=a.isNode=void 0,a.isNode=typeof process<"u"&&"title"in process;const l=a.isNode?"node":navigator.userAgent,c=a.isNode?"node":navigator.platform;a.isFirefox=l.includes("Firefox"),a.isLegacyEdge=l.includes("Edge"),a.isSafari=/^((?!chrome|android).)*safari/i.test(l),a.getSafariVersion=function(){if(!a.isSafari)return 0;const d=l.match(/Version\/(\d+)/);return d===null||d.length<2?0:parseInt(d[1])},a.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(c),a.isIpad=c==="iPad",a.isIphone=c==="iPhone",a.isWindows=["Windows","Win16","Win32","WinCE"].includes(c),a.isLinux=c.indexOf("Linux")>=0,a.isChromeOS=/\bCrOS\b/.test(l)},385:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DebouncedIdleTask=a.IdleTaskQueue=a.PriorityTaskQueue=void 0;const c=l(399);class d{constructor(){this._tasks=[],this._i=0}enqueue(m){this._tasks.push(m),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(m){this._idleCallback=void 0;let g=0,C=0,v=m.timeRemaining(),S=0;for(;this._i<this._tasks.length;){if(g=Date.now(),this._tasks[this._i]()||this._i++,g=Math.max(1,Date.now()-g),C=Math.max(g,C),S=m.timeRemaining(),1.5*C>S)return v-g<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(v-g))}ms`),void this._start();v=S}this.clear()}}class p extends d{_requestCallback(m){return setTimeout(()=>m(this._createDeadline(16)))}_cancelCallback(m){clearTimeout(m)}_createDeadline(m){const g=Date.now()+m;return{timeRemaining:()=>Math.max(0,g-Date.now())}}}a.PriorityTaskQueue=p,a.IdleTaskQueue=!c.isNode&&"requestIdleCallback"in window?class extends d{_requestCallback(h){return requestIdleCallback(h)}_cancelCallback(h){cancelIdleCallback(h)}}:p,a.DebouncedIdleTask=class{constructor(){this._queue=new a.IdleTaskQueue}set(h){this._queue.clear(),this._queue.enqueue(h)}flush(){this._queue.flush()}}},147:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ExtendedAttrs=a.AttributeData=void 0;class l{constructor(){this.fg=0,this.bg=0,this.extended=new c}static toColorRGB(p){return[p>>>16&255,p>>>8&255,255&p]}static fromColorRGB(p){return(255&p[0])<<16|(255&p[1])<<8|255&p[2]}clone(){const p=new l;return p.fg=this.fg,p.bg=this.bg,p.extended=this.extended.clone(),p}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}a.AttributeData=l;class c{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(p){this._ext=p}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(p){this._ext&=-469762049,this._ext|=p<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(p){this._ext&=-67108864,this._ext|=67108863&p}get urlId(){return this._urlId}set urlId(p){this._urlId=p}get underlineVariantOffset(){const p=(3758096384&this._ext)>>29;return p<0?4294967288^p:p}set underlineVariantOffset(p){this._ext&=536870911,this._ext|=p<<29&3758096384}constructor(p=0,h=0){this._ext=0,this._urlId=0,this._ext=p,this._urlId=h}clone(){return new c(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}a.ExtendedAttrs=c},782:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CellData=void 0;const c=l(133),d=l(855),p=l(147);class h extends p.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new p.ExtendedAttrs,this.combinedData=""}static fromCharData(g){const C=new h;return C.setFromCharData(g),C}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,c.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(g){this.fg=g[d.CHAR_DATA_ATTR_INDEX],this.bg=0;let C=!1;if(g[d.CHAR_DATA_CHAR_INDEX].length>2)C=!0;else if(g[d.CHAR_DATA_CHAR_INDEX].length===2){const v=g[d.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=v&&v<=56319){const S=g[d.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=S&&S<=57343?this.content=1024*(v-55296)+S-56320+65536|g[d.CHAR_DATA_WIDTH_INDEX]<<22:C=!0}else C=!0}else this.content=g[d.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|g[d.CHAR_DATA_WIDTH_INDEX]<<22;C&&(this.combinedData=g[d.CHAR_DATA_CHAR_INDEX],this.content=2097152|g[d.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}a.CellData=h},855:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.WHITESPACE_CELL_CODE=a.WHITESPACE_CELL_WIDTH=a.WHITESPACE_CELL_CHAR=a.NULL_CELL_CODE=a.NULL_CELL_WIDTH=a.NULL_CELL_CHAR=a.CHAR_DATA_CODE_INDEX=a.CHAR_DATA_WIDTH_INDEX=a.CHAR_DATA_CHAR_INDEX=a.CHAR_DATA_ATTR_INDEX=a.DEFAULT_EXT=a.DEFAULT_ATTR=a.DEFAULT_COLOR=void 0,a.DEFAULT_COLOR=0,a.DEFAULT_ATTR=256|a.DEFAULT_COLOR<<9,a.DEFAULT_EXT=0,a.CHAR_DATA_ATTR_INDEX=0,a.CHAR_DATA_CHAR_INDEX=1,a.CHAR_DATA_WIDTH_INDEX=2,a.CHAR_DATA_CODE_INDEX=3,a.NULL_CELL_CHAR="",a.NULL_CELL_WIDTH=1,a.NULL_CELL_CODE=0,a.WHITESPACE_CELL_CHAR=" ",a.WHITESPACE_CELL_WIDTH=1,a.WHITESPACE_CELL_CODE=32},133:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Utf8ToUtf32=a.StringToUtf32=a.utf32ToString=a.stringFromCodePoint=void 0,a.stringFromCodePoint=function(l){return l>65535?(l-=65536,String.fromCharCode(55296+(l>>10))+String.fromCharCode(l%1024+56320)):String.fromCharCode(l)},a.utf32ToString=function(l,c=0,d=l.length){let p="";for(let h=c;h<d;++h){let m=l[h];m>65535?(m-=65536,p+=String.fromCharCode(55296+(m>>10))+String.fromCharCode(m%1024+56320)):p+=String.fromCharCode(m)}return p},a.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(l,c){const d=l.length;if(!d)return 0;let p=0,h=0;if(this._interim){const m=l.charCodeAt(h++);56320<=m&&m<=57343?c[p++]=1024*(this._interim-55296)+m-56320+65536:(c[p++]=this._interim,c[p++]=m),this._interim=0}for(let m=h;m<d;++m){const g=l.charCodeAt(m);if(55296<=g&&g<=56319){if(++m>=d)return this._interim=g,p;const C=l.charCodeAt(m);56320<=C&&C<=57343?c[p++]=1024*(g-55296)+C-56320+65536:(c[p++]=g,c[p++]=C)}else g!==65279&&(c[p++]=g)}return p}},a.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(l,c){const d=l.length;if(!d)return 0;let p,h,m,g,C=0,v=0,S=0;if(this.interim[0]){let w=!1,x=this.interim[0];x&=(224&x)==192?31:(240&x)==224?15:7;let _,I=0;for(;(_=63&this.interim[++I])&&I<4;)x<<=6,x|=_;const T=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,A=T-I;for(;S<A;){if(S>=d)return 0;if(_=l[S++],(192&_)!=128){S--,w=!0;break}this.interim[I++]=_,x<<=6,x|=63&_}w||(T===2?x<128?S--:c[C++]=x:T===3?x<2048||x>=55296&&x<=57343||x===65279||(c[C++]=x):x<65536||x>1114111||(c[C++]=x)),this.interim.fill(0)}const y=d-4;let b=S;for(;b<d;){for(;!(!(b<y)||128&(p=l[b])||128&(h=l[b+1])||128&(m=l[b+2])||128&(g=l[b+3]));)c[C++]=p,c[C++]=h,c[C++]=m,c[C++]=g,b+=4;if(p=l[b++],p<128)c[C++]=p;else if((224&p)==192){if(b>=d)return this.interim[0]=p,C;if(h=l[b++],(192&h)!=128){b--;continue}if(v=(31&p)<<6|63&h,v<128){b--;continue}c[C++]=v}else if((240&p)==224){if(b>=d)return this.interim[0]=p,C;if(h=l[b++],(192&h)!=128){b--;continue}if(b>=d)return this.interim[0]=p,this.interim[1]=h,C;if(m=l[b++],(192&m)!=128){b--;continue}if(v=(15&p)<<12|(63&h)<<6|63&m,v<2048||v>=55296&&v<=57343||v===65279)continue;c[C++]=v}else if((248&p)==240){if(b>=d)return this.interim[0]=p,C;if(h=l[b++],(192&h)!=128){b--;continue}if(b>=d)return this.interim[0]=p,this.interim[1]=h,C;if(m=l[b++],(192&m)!=128){b--;continue}if(b>=d)return this.interim[0]=p,this.interim[1]=h,this.interim[2]=m,C;if(g=l[b++],(192&g)!=128){b--;continue}if(v=(7&p)<<18|(63&h)<<12|(63&m)<<6|63&g,v<65536||v>1114111)continue;c[C++]=v}}return C}}},776:function(s,a,l){var c=this&&this.__decorate||function(v,S,y,b){var w,x=arguments.length,_=x<3?S:b===null?b=Object.getOwnPropertyDescriptor(S,y):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(v,S,y,b);else for(var I=v.length-1;I>=0;I--)(w=v[I])&&(_=(x<3?w(_):x>3?w(S,y,_):w(S,y))||_);return x>3&&_&&Object.defineProperty(S,y,_),_},d=this&&this.__param||function(v,S){return function(y,b){S(y,b,v)}};Object.defineProperty(a,"__esModule",{value:!0}),a.traceCall=a.setTraceLogger=a.LogService=void 0;const p=l(859),h=l(97),m={trace:h.LogLevelEnum.TRACE,debug:h.LogLevelEnum.DEBUG,info:h.LogLevelEnum.INFO,warn:h.LogLevelEnum.WARN,error:h.LogLevelEnum.ERROR,off:h.LogLevelEnum.OFF};let g,C=a.LogService=class extends p.Disposable{get logLevel(){return this._logLevel}constructor(v){super(),this._optionsService=v,this._logLevel=h.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),g=this}_updateLogLevel(){this._logLevel=m[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(v){for(let S=0;S<v.length;S++)typeof v[S]=="function"&&(v[S]=v[S]())}_log(v,S,y){this._evalLazyOptionalParams(y),v.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+S,...y)}trace(v,...S){var y;this._logLevel<=h.LogLevelEnum.TRACE&&this._log(((y=this._optionsService.options.logger)==null?void 0:y.trace.bind(this._optionsService.options.logger))??console.log,v,S)}debug(v,...S){var y;this._logLevel<=h.LogLevelEnum.DEBUG&&this._log(((y=this._optionsService.options.logger)==null?void 0:y.debug.bind(this._optionsService.options.logger))??console.log,v,S)}info(v,...S){var y;this._logLevel<=h.LogLevelEnum.INFO&&this._log(((y=this._optionsService.options.logger)==null?void 0:y.info.bind(this._optionsService.options.logger))??console.info,v,S)}warn(v,...S){var y;this._logLevel<=h.LogLevelEnum.WARN&&this._log(((y=this._optionsService.options.logger)==null?void 0:y.warn.bind(this._optionsService.options.logger))??console.warn,v,S)}error(v,...S){var y;this._logLevel<=h.LogLevelEnum.ERROR&&this._log(((y=this._optionsService.options.logger)==null?void 0:y.error.bind(this._optionsService.options.logger))??console.error,v,S)}};a.LogService=C=c([d(0,h.IOptionsService)],C),a.setTraceLogger=function(v){g=v},a.traceCall=function(v,S,y){if(typeof y.value!="function")throw new Error("not supported");const b=y.value;y.value=function(...w){if(g.logLevel!==h.LogLevelEnum.TRACE)return b.apply(this,w);g.trace(`GlyphRenderer#${b.name}(${w.map(_=>JSON.stringify(_)).join(", ")})`);const x=b.apply(this,w);return g.trace(`GlyphRenderer#${b.name} return`,x),x}}},726:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createDecorator=a.getServiceDependencies=a.serviceRegistry=void 0;const l="di$target",c="di$dependencies";a.serviceRegistry=new Map,a.getServiceDependencies=function(d){return d[c]||[]},a.createDecorator=function(d){if(a.serviceRegistry.has(d))return a.serviceRegistry.get(d);const p=function(h,m,g){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(C,v,S){v[l]===v?v[c].push({id:C,index:S}):(v[c]=[{id:C,index:S}],v[l]=v)})(p,h,g)};return p.toString=()=>d,a.serviceRegistry.set(d,p),p}},97:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.IDecorationService=a.IUnicodeService=a.IOscLinkService=a.IOptionsService=a.ILogService=a.LogLevelEnum=a.IInstantiationService=a.ICharsetService=a.ICoreService=a.ICoreMouseService=a.IBufferService=void 0;const c=l(726);var d;a.IBufferService=(0,c.createDecorator)("BufferService"),a.ICoreMouseService=(0,c.createDecorator)("CoreMouseService"),a.ICoreService=(0,c.createDecorator)("CoreService"),a.ICharsetService=(0,c.createDecorator)("CharsetService"),a.IInstantiationService=(0,c.createDecorator)("InstantiationService"),function(p){p[p.TRACE=0]="TRACE",p[p.DEBUG=1]="DEBUG",p[p.INFO=2]="INFO",p[p.WARN=3]="WARN",p[p.ERROR=4]="ERROR",p[p.OFF=5]="OFF"}(d||(a.LogLevelEnum=d={})),a.ILogService=(0,c.createDecorator)("LogService"),a.IOptionsService=(0,c.createDecorator)("OptionsService"),a.IOscLinkService=(0,c.createDecorator)("OscLinkService"),a.IUnicodeService=(0,c.createDecorator)("UnicodeService"),a.IDecorationService=(0,c.createDecorator)("DecorationService")}},o={};function r(s){var a=o[s];if(a!==void 0)return a.exports;var l=o[s]={exports:{}};return n[s].call(l.exports,l,l.exports,r),l.exports}var i={};return(()=>{var s=i;Object.defineProperty(s,"__esModule",{value:!0}),s.CanvasAddon=void 0;const a=r(345),l=r(859),c=r(776),d=r(949);class p extends l.Disposable{constructor(){super(...arguments),this._onChangeTextureAtlas=this.register(new a.EventEmitter),this.onChangeTextureAtlas=this._onChangeTextureAtlas.event,this._onAddTextureAtlasCanvas=this.register(new a.EventEmitter),this.onAddTextureAtlasCanvas=this._onAddTextureAtlasCanvas.event}get textureAtlas(){var m;return(m=this._renderer)==null?void 0:m.textureAtlas}activate(m){const g=m._core;if(!m.element)return void this.register(g.onWillOpen(()=>this.activate(m)));this._terminal=m;const C=g.coreService,v=g.optionsService,S=g.screenElement,y=g.linkifier,b=g,w=b._bufferService,x=b._renderService,_=b._characterJoinerService,I=b._charSizeService,T=b._coreBrowserService,A=b._decorationService,k=b._logService,R=b._themeService;(0,c.setTraceLogger)(k),this._renderer=new d.CanvasRenderer(m,S,y,w,I,v,_,C,T,A,R),this.register((0,a.forwardEvent)(this._renderer.onChangeTextureAtlas,this._onChangeTextureAtlas)),this.register((0,a.forwardEvent)(this._renderer.onAddTextureAtlasCanvas,this._onAddTextureAtlasCanvas)),x.setRenderer(this._renderer),x.handleResize(w.cols,w.rows),this.register((0,l.toDisposable)(()=>{var M;x.setRenderer(this._terminal._core._createRenderer()),x.handleResize(m.cols,m.rows),(M=this._renderer)==null||M.dispose(),this._renderer=void 0}))}clearTextureAtlas(){var m;(m=this._renderer)==null||m.clearTextureAtlas()}}s.CanvasAddon=p})(),i})())})(jO);var lse=jO.exports,$O={exports:{}};(function(t,e){(function(n,o){t.exports=o()})(self,()=>(()=>{var n={345:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.runAndSubscribe=a.forwardEvent=a.EventEmitter=void 0,a.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=l=>(this._listeners.push(l),{dispose:()=>{if(!this._disposed){for(let c=0;c<this._listeners.length;c++)if(this._listeners[c]===l)return void this._listeners.splice(c,1)}}})),this._event}fire(l,c){const d=[];for(let p=0;p<this._listeners.length;p++)d.push(this._listeners[p]);for(let p=0;p<d.length;p++)d[p].call(void 0,l,c)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},a.forwardEvent=function(l,c){return l(d=>c.fire(d))},a.runAndSubscribe=function(l,c){return c(void 0),l(d=>c(d))}},859:(s,a)=>{function l(c){for(const d of c)d.dispose();c.length=0}Object.defineProperty(a,"__esModule",{value:!0}),a.getDisposeArrayDisposable=a.disposeArray=a.toDisposable=a.MutableDisposable=a.Disposable=void 0,a.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const c of this._disposables)c.dispose();this._disposables.length=0}register(c){return this._disposables.push(c),c}unregister(c){const d=this._disposables.indexOf(c);d!==-1&&this._disposables.splice(d,1)}},a.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(c){var d;this._isDisposed||c===this._value||((d=this._value)==null||d.dispose(),this._value=c)}clear(){this.value=void 0}dispose(){var c;this._isDisposed=!0,(c=this._value)==null||c.dispose(),this._value=void 0}},a.toDisposable=function(c){return{dispose:c}},a.disposeArray=l,a.getDisposeArrayDisposable=function(c){return{dispose:()=>l(c)}}}},o={};function r(s){var a=o[s];if(a!==void 0)return a.exports;var l=o[s]={exports:{}};return n[s](l,l.exports,r),l.exports}var i={};return(()=>{var s=i;Object.defineProperty(s,"__esModule",{value:!0}),s.SearchAddon=void 0;const a=r(345),l=r(859),c=" ~!@#$%^&*()+`-=[]{}|\\;:\"',./<>?";class d extends l.Disposable{constructor(h){super(),this._highlightedLines=new Set,this._highlightDecorations=[],this._selectedDecoration=this.register(new l.MutableDisposable),this._linesCacheTimeoutId=0,this._linesCacheDisposables=new l.MutableDisposable,this._onDidChangeResults=this.register(new a.EventEmitter),this.onDidChangeResults=this._onDidChangeResults.event,this._highlightLimit=(h==null?void 0:h.highlightLimit)??1e3}activate(h){this._terminal=h,this.register(this._terminal.onWriteParsed(()=>this._updateMatches())),this.register(this._terminal.onResize(()=>this._updateMatches())),this.register((0,l.toDisposable)(()=>this.clearDecorations()))}_updateMatches(){var h;this._highlightTimeout&&window.clearTimeout(this._highlightTimeout),this._cachedSearchTerm&&((h=this._lastSearchOptions)!=null&&h.decorations)&&(this._highlightTimeout=setTimeout(()=>{const m=this._cachedSearchTerm;this._cachedSearchTerm=void 0,this.findPrevious(m,{...this._lastSearchOptions,incremental:!0,noScroll:!0})},200))}clearDecorations(h){this._selectedDecoration.clear(),(0,l.disposeArray)(this._highlightDecorations),this._highlightDecorations=[],this._highlightedLines.clear(),h||(this._cachedSearchTerm=void 0)}clearActiveDecoration(){this._selectedDecoration.clear()}findNext(h,m){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");const g=!this._lastSearchOptions||this._didOptionsChange(this._lastSearchOptions,m);this._lastSearchOptions=m,m!=null&&m.decorations&&(this._cachedSearchTerm===void 0||h!==this._cachedSearchTerm||g)&&this._highlightAllMatches(h,m);const C=this._findNextAndSelect(h,m);return this._fireResults(m),this._cachedSearchTerm=h,C}_highlightAllMatches(h,m){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!h||h.length===0)return void this.clearDecorations();m=m||{},this.clearDecorations(!0);const g=[];let C,v=this._find(h,0,0,m);for(;v&&((C==null?void 0:C.row)!==v.row||(C==null?void 0:C.col)!==v.col)&&!(g.length>=this._highlightLimit);)C=v,g.push(C),v=this._find(h,C.col+C.term.length>=this._terminal.cols?C.row+1:C.row,C.col+C.term.length>=this._terminal.cols?0:C.col+1,m);for(const S of g){const y=this._createResultDecoration(S,m.decorations);y&&(this._highlightedLines.add(y.marker.line),this._highlightDecorations.push({decoration:y,match:S,dispose(){y.dispose()}}))}}_find(h,m,g,C){var y;if(!this._terminal||!h||h.length===0)return(y=this._terminal)==null||y.clearSelection(),void this.clearDecorations();if(g>this._terminal.cols)throw new Error(`Invalid col: ${g} to search in terminal of ${this._terminal.cols} cols`);let v;this._initLinesCache();const S={startRow:m,startCol:g};if(v=this._findInLine(h,S,C),!v)for(let b=m+1;b<this._terminal.buffer.active.baseY+this._terminal.rows&&(S.startRow=b,S.startCol=0,v=this._findInLine(h,S,C),!v);b++);return v}_findNextAndSelect(h,m){var b;if(!this._terminal||!h||h.length===0)return(b=this._terminal)==null||b.clearSelection(),this.clearDecorations(),!1;const g=this._terminal.getSelectionPosition();this._terminal.clearSelection();let C=0,v=0;g&&(this._cachedSearchTerm===h?(C=g.end.x,v=g.end.y):(C=g.start.x,v=g.start.y)),this._initLinesCache();const S={startRow:v,startCol:C};let y=this._findInLine(h,S,m);if(!y)for(let w=v+1;w<this._terminal.buffer.active.baseY+this._terminal.rows&&(S.startRow=w,S.startCol=0,y=this._findInLine(h,S,m),!y);w++);if(!y&&v!==0)for(let w=0;w<v&&(S.startRow=w,S.startCol=0,y=this._findInLine(h,S,m),!y);w++);return!y&&g&&(S.startRow=g.start.y,S.startCol=0,y=this._findInLine(h,S,m)),this._selectResult(y,m==null?void 0:m.decorations,m==null?void 0:m.noScroll)}findPrevious(h,m){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");const g=!this._lastSearchOptions||this._didOptionsChange(this._lastSearchOptions,m);this._lastSearchOptions=m,m!=null&&m.decorations&&(this._cachedSearchTerm===void 0||h!==this._cachedSearchTerm||g)&&this._highlightAllMatches(h,m);const C=this._findPreviousAndSelect(h,m);return this._fireResults(m),this._cachedSearchTerm=h,C}_didOptionsChange(h,m){return!!m&&(h.caseSensitive!==m.caseSensitive||h.regex!==m.regex||h.wholeWord!==m.wholeWord)}_fireResults(h){if(h!=null&&h.decorations){let m=-1;if(this._selectedDecoration.value){const g=this._selectedDecoration.value.match;for(let C=0;C<this._highlightDecorations.length;C++){const v=this._highlightDecorations[C].match;if(v.row===g.row&&v.col===g.col&&v.size===g.size){m=C;break}}}this._onDidChangeResults.fire({resultIndex:m,resultCount:this._highlightDecorations.length})}}_findPreviousAndSelect(h,m){var w;if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!this._terminal||!h||h.length===0)return(w=this._terminal)==null||w.clearSelection(),this.clearDecorations(),!1;const g=this._terminal.getSelectionPosition();this._terminal.clearSelection();let C=this._terminal.buffer.active.baseY+this._terminal.rows-1,v=this._terminal.cols;const S=!0;this._initLinesCache();const y={startRow:C,startCol:v};let b;if(g&&(y.startRow=C=g.start.y,y.startCol=v=g.start.x,this._cachedSearchTerm!==h&&(b=this._findInLine(h,y,m,!1),b||(y.startRow=C=g.end.y,y.startCol=v=g.end.x))),b||(b=this._findInLine(h,y,m,S)),!b){y.startCol=Math.max(y.startCol,this._terminal.cols);for(let x=C-1;x>=0&&(y.startRow=x,b=this._findInLine(h,y,m,S),!b);x--);}if(!b&&C!==this._terminal.buffer.active.baseY+this._terminal.rows-1)for(let x=this._terminal.buffer.active.baseY+this._terminal.rows-1;x>=C&&(y.startRow=x,b=this._findInLine(h,y,m,S),!b);x--);return this._selectResult(b,m==null?void 0:m.decorations,m==null?void 0:m.noScroll)}_initLinesCache(){const h=this._terminal;this._linesCache||(this._linesCache=new Array(h.buffer.active.length),this._linesCacheDisposables.value=(0,l.getDisposeArrayDisposable)([h.onLineFeed(()=>this._destroyLinesCache()),h.onCursorMove(()=>this._destroyLinesCache()),h.onResize(()=>this._destroyLinesCache())])),window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=window.setTimeout(()=>this._destroyLinesCache(),15e3)}_destroyLinesCache(){this._linesCache=void 0,this._linesCacheDisposables.clear(),this._linesCacheTimeoutId&&(window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=0)}_isWholeWord(h,m,g){return(h===0||c.includes(m[h-1]))&&(h+g.length===m.length||c.includes(m[h+g.length]))}_findInLine(h,m,g={},C=!1){var R;const v=this._terminal,S=m.startRow,y=m.startCol,b=v.buffer.active.getLine(S);if(b!=null&&b.isWrapped)return C?void(m.startCol+=v.cols):(m.startRow--,m.startCol+=v.cols,this._findInLine(h,m,g));let w=(R=this._linesCache)==null?void 0:R[S];w||(w=this._translateBufferLineToStringWithWrap(S,!0),this._linesCache&&(this._linesCache[S]=w));const[x,_]=w,I=this._bufferColsToStringOffset(S,y),T=g.caseSensitive?h:h.toLowerCase(),A=g.caseSensitive?x:x.toLowerCase();let k=-1;if(g.regex){const M=RegExp(T,"g");let D;if(C)for(;D=M.exec(A.slice(0,I));)k=M.lastIndex-D[0].length,h=D[0],M.lastIndex-=h.length-1;else D=M.exec(A.slice(I)),D&&D[0].length>0&&(k=I+(M.lastIndex-D[0].length),h=D[0])}else C?I-T.length>=0&&(k=A.lastIndexOf(T,I-T.length)):k=A.indexOf(T,I);if(k>=0){if(g.wholeWord&&!this._isWholeWord(k,A,h))return;let M=0;for(;M<_.length-1&&k>=_[M+1];)M++;let D=M;for(;D<_.length-1&&k+h.length>=_[D+1];)D++;const F=k-_[M],z=k+h.length-_[D],j=this._stringLengthToBufferSize(S+M,F);return{term:h,col:j,row:S+M,size:this._stringLengthToBufferSize(S+D,z)-j+v.cols*(D-M)}}}_stringLengthToBufferSize(h,m){const g=this._terminal.buffer.active.getLine(h);if(!g)return 0;for(let C=0;C<m;C++){const v=g.getCell(C);if(!v)break;const S=v.getChars();S.length>1&&(m-=S.length-1);const y=g.getCell(C+1);y&&y.getWidth()===0&&m++}return m}_bufferColsToStringOffset(h,m){const g=this._terminal;let C=h,v=0,S=g.buffer.active.getLine(C);for(;m>0&&S;){for(let y=0;y<m&&y<g.cols;y++){const b=S.getCell(y);if(!b)break;b.getWidth()&&(v+=b.getCode()===0?1:b.getChars().length)}if(C++,S=g.buffer.active.getLine(C),S&&!S.isWrapped)break;m-=g.cols}return v}_translateBufferLineToStringWithWrap(h,m){var y;const g=this._terminal,C=[],v=[0];let S=g.buffer.active.getLine(h);for(;S;){const b=g.buffer.active.getLine(h+1),w=!!b&&b.isWrapped;let x=S.translateToString(!w&&m);if(w&&b){const _=S.getCell(S.length-1);_&&_.getCode()===0&&_.getWidth()===1&&((y=b.getCell(0))==null?void 0:y.getWidth())===2&&(x=x.slice(0,-1))}if(C.push(x),!w)break;v.push(v[v.length-1]+x.length),h++,S=b}return[C.join(""),v]}_selectResult(h,m,g){const C=this._terminal;if(this._selectedDecoration.clear(),!h)return C.clearSelection(),!1;if(C.select(h.col,h.row,h.size),m){const v=C.registerMarker(-C.buffer.active.baseY-C.buffer.active.cursorY+h.row);if(v){const S=C.registerDecoration({marker:v,x:h.col,width:h.size,backgroundColor:m.activeMatchBackground,layer:"top",overviewRulerOptions:{color:m.activeMatchColorOverviewRuler}});if(S){const y=[];y.push(v),y.push(S.onRender(b=>this._applyStyles(b,m.activeMatchBorder,!0))),y.push(S.onDispose(()=>(0,l.disposeArray)(y))),this._selectedDecoration.value={decoration:S,match:h,dispose(){S.dispose()}}}}}if(!g&&(h.row>=C.buffer.active.viewportY+C.rows||h.row<C.buffer.active.viewportY)){let v=h.row-C.buffer.active.viewportY;v-=Math.floor(C.rows/2),C.scrollLines(v)}return!0}_applyStyles(h,m,g){h.classList.contains("xterm-find-result-decoration")||(h.classList.add("xterm-find-result-decoration"),m&&(h.style.outline=`1px solid ${m}`)),g&&h.classList.add("xterm-find-active-result-decoration")}_createResultDecoration(h,m){const g=this._terminal,C=g.registerMarker(-g.buffer.active.baseY-g.buffer.active.cursorY+h.row);if(!C)return;const v=g.registerDecoration({marker:C,x:h.col,width:h.size,backgroundColor:m.matchBackground,overviewRulerOptions:this._highlightedLines.has(C.line)?void 0:{color:m.matchOverviewRuler,position:"center"}});if(v){const S=[];S.push(C),S.push(v.onRender(y=>this._applyStyles(y,m.matchBorder,!1))),S.push(v.onDispose(()=>(0,l.disposeArray)(S)))}return v}}s.SearchAddon=d})(),i})())})($O);var cse=$O.exports,qO={exports:{}};(function(t,e){(function(n,o){t.exports=o()})(us,()=>(()=>{var n={930:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ColorContrastCache=void 0;const c=l(485);a.ColorContrastCache=class{constructor(){this._color=new c.TwoKeyMap,this._css=new c.TwoKeyMap}setCss(d,p,h){this._css.set(d,p,h)}getCss(d,p){return this._css.get(d,p)}setColor(d,p,h){this._color.set(d,p,h)}getColor(d,p){return this._color.get(d,p)}clear(){this._color.clear(),this._css.clear()}}},997:function(s,a,l){var c=this&&this.__decorate||function(I,T,A,k){var R,M=arguments.length,D=M<3?T:k===null?k=Object.getOwnPropertyDescriptor(T,A):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(I,T,A,k);else for(var F=I.length-1;F>=0;F--)(R=I[F])&&(D=(M<3?R(D):M>3?R(T,A,D):R(T,A))||D);return M>3&&D&&Object.defineProperty(T,A,D),D},d=this&&this.__param||function(I,T){return function(A,k){T(A,k,I)}};Object.defineProperty(a,"__esModule",{value:!0}),a.ThemeService=a.DEFAULT_ANSI_COLORS=void 0;const p=l(930),h=l(160),m=l(345),g=l(859),C=l(97),v=h.css.toColor("#ffffff"),S=h.css.toColor("#000000"),y=h.css.toColor("#ffffff"),b=h.css.toColor("#000000"),w={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};a.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const I=[h.css.toColor("#2e3436"),h.css.toColor("#cc0000"),h.css.toColor("#4e9a06"),h.css.toColor("#c4a000"),h.css.toColor("#3465a4"),h.css.toColor("#75507b"),h.css.toColor("#06989a"),h.css.toColor("#d3d7cf"),h.css.toColor("#555753"),h.css.toColor("#ef2929"),h.css.toColor("#8ae234"),h.css.toColor("#fce94f"),h.css.toColor("#729fcf"),h.css.toColor("#ad7fa8"),h.css.toColor("#34e2e2"),h.css.toColor("#eeeeec")],T=[0,95,135,175,215,255];for(let A=0;A<216;A++){const k=T[A/36%6|0],R=T[A/6%6|0],M=T[A%6];I.push({css:h.channels.toCss(k,R,M),rgba:h.channels.toRgba(k,R,M)})}for(let A=0;A<24;A++){const k=8+10*A;I.push({css:h.channels.toCss(k,k,k),rgba:h.channels.toRgba(k,k,k)})}return I})());let x=a.ThemeService=class extends g.Disposable{get colors(){return this._colors}constructor(I){super(),this._optionsService=I,this._contrastCache=new p.ColorContrastCache,this._halfContrastCache=new p.ColorContrastCache,this._onChangeColors=this.register(new m.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:v,background:S,cursor:y,cursorAccent:b,selectionForeground:void 0,selectionBackgroundTransparent:w,selectionBackgroundOpaque:h.color.blend(S,w),selectionInactiveBackgroundTransparent:w,selectionInactiveBackgroundOpaque:h.color.blend(S,w),ansi:a.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(I={}){const T=this._colors;if(T.foreground=_(I.foreground,v),T.background=_(I.background,S),T.cursor=_(I.cursor,y),T.cursorAccent=_(I.cursorAccent,b),T.selectionBackgroundTransparent=_(I.selectionBackground,w),T.selectionBackgroundOpaque=h.color.blend(T.background,T.selectionBackgroundTransparent),T.selectionInactiveBackgroundTransparent=_(I.selectionInactiveBackground,T.selectionBackgroundTransparent),T.selectionInactiveBackgroundOpaque=h.color.blend(T.background,T.selectionInactiveBackgroundTransparent),T.selectionForeground=I.selectionForeground?_(I.selectionForeground,h.NULL_COLOR):void 0,T.selectionForeground===h.NULL_COLOR&&(T.selectionForeground=void 0),h.color.isOpaque(T.selectionBackgroundTransparent)&&(T.selectionBackgroundTransparent=h.color.opacity(T.selectionBackgroundTransparent,.3)),h.color.isOpaque(T.selectionInactiveBackgroundTransparent)&&(T.selectionInactiveBackgroundTransparent=h.color.opacity(T.selectionInactiveBackgroundTransparent,.3)),T.ansi=a.DEFAULT_ANSI_COLORS.slice(),T.ansi[0]=_(I.black,a.DEFAULT_ANSI_COLORS[0]),T.ansi[1]=_(I.red,a.DEFAULT_ANSI_COLORS[1]),T.ansi[2]=_(I.green,a.DEFAULT_ANSI_COLORS[2]),T.ansi[3]=_(I.yellow,a.DEFAULT_ANSI_COLORS[3]),T.ansi[4]=_(I.blue,a.DEFAULT_ANSI_COLORS[4]),T.ansi[5]=_(I.magenta,a.DEFAULT_ANSI_COLORS[5]),T.ansi[6]=_(I.cyan,a.DEFAULT_ANSI_COLORS[6]),T.ansi[7]=_(I.white,a.DEFAULT_ANSI_COLORS[7]),T.ansi[8]=_(I.brightBlack,a.DEFAULT_ANSI_COLORS[8]),T.ansi[9]=_(I.brightRed,a.DEFAULT_ANSI_COLORS[9]),T.ansi[10]=_(I.brightGreen,a.DEFAULT_ANSI_COLORS[10]),T.ansi[11]=_(I.brightYellow,a.DEFAULT_ANSI_COLORS[11]),T.ansi[12]=_(I.brightBlue,a.DEFAULT_ANSI_COLORS[12]),T.ansi[13]=_(I.brightMagenta,a.DEFAULT_ANSI_COLORS[13]),T.ansi[14]=_(I.brightCyan,a.DEFAULT_ANSI_COLORS[14]),T.ansi[15]=_(I.brightWhite,a.DEFAULT_ANSI_COLORS[15]),I.extendedAnsi){const A=Math.min(T.ansi.length-16,I.extendedAnsi.length);for(let k=0;k<A;k++)T.ansi[k+16]=_(I.extendedAnsi[k],a.DEFAULT_ANSI_COLORS[k+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(I){this._restoreColor(I),this._onChangeColors.fire(this.colors)}_restoreColor(I){if(I!==void 0)switch(I){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[I]=this._restoreColors.ansi[I]}else for(let T=0;T<this._restoreColors.ansi.length;++T)this._colors.ansi[T]=this._restoreColors.ansi[T]}modifyColors(I){I(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function _(I,T){if(I!==void 0)try{return h.css.toColor(I)}catch{}return T}a.ThemeService=x=c([d(0,C.IOptionsService)],x)},160:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.contrastRatio=a.toPaddedHex=a.rgba=a.rgb=a.css=a.color=a.channels=a.NULL_COLOR=void 0;let l=0,c=0,d=0,p=0;var h,m,g,C,v;function S(b){const w=b.toString(16);return w.length<2?"0"+w:w}function y(b,w){return b<w?(w+.05)/(b+.05):(b+.05)/(w+.05)}a.NULL_COLOR={css:"#00000000",rgba:0},function(b){b.toCss=function(w,x,_,I){return I!==void 0?`#${S(w)}${S(x)}${S(_)}${S(I)}`:`#${S(w)}${S(x)}${S(_)}`},b.toRgba=function(w,x,_,I=255){return(w<<24|x<<16|_<<8|I)>>>0},b.toColor=function(w,x,_,I){return{css:b.toCss(w,x,_,I),rgba:b.toRgba(w,x,_,I)}}}(h||(a.channels=h={})),function(b){function w(x,_){return p=Math.round(255*_),[l,c,d]=v.toChannels(x.rgba),{css:h.toCss(l,c,d,p),rgba:h.toRgba(l,c,d,p)}}b.blend=function(x,_){if(p=(255&_.rgba)/255,p===1)return{css:_.css,rgba:_.rgba};const I=_.rgba>>24&255,T=_.rgba>>16&255,A=_.rgba>>8&255,k=x.rgba>>24&255,R=x.rgba>>16&255,M=x.rgba>>8&255;return l=k+Math.round((I-k)*p),c=R+Math.round((T-R)*p),d=M+Math.round((A-M)*p),{css:h.toCss(l,c,d),rgba:h.toRgba(l,c,d)}},b.isOpaque=function(x){return(255&x.rgba)==255},b.ensureContrastRatio=function(x,_,I){const T=v.ensureContrastRatio(x.rgba,_.rgba,I);if(T)return h.toColor(T>>24&255,T>>16&255,T>>8&255)},b.opaque=function(x){const _=(255|x.rgba)>>>0;return[l,c,d]=v.toChannels(_),{css:h.toCss(l,c,d),rgba:_}},b.opacity=w,b.multiplyOpacity=function(x,_){return p=255&x.rgba,w(x,p*_/255)},b.toColorRGB=function(x){return[x.rgba>>24&255,x.rgba>>16&255,x.rgba>>8&255]}}(m||(a.color=m={})),function(b){let w,x;try{const _=document.createElement("canvas");_.width=1,_.height=1;const I=_.getContext("2d",{willReadFrequently:!0});I&&(w=I,w.globalCompositeOperation="copy",x=w.createLinearGradient(0,0,1,1))}catch{}b.toColor=function(_){if(_.match(/#[\da-f]{3,8}/i))switch(_.length){case 4:return l=parseInt(_.slice(1,2).repeat(2),16),c=parseInt(_.slice(2,3).repeat(2),16),d=parseInt(_.slice(3,4).repeat(2),16),h.toColor(l,c,d);case 5:return l=parseInt(_.slice(1,2).repeat(2),16),c=parseInt(_.slice(2,3).repeat(2),16),d=parseInt(_.slice(3,4).repeat(2),16),p=parseInt(_.slice(4,5).repeat(2),16),h.toColor(l,c,d,p);case 7:return{css:_,rgba:(parseInt(_.slice(1),16)<<8|255)>>>0};case 9:return{css:_,rgba:parseInt(_.slice(1),16)>>>0}}const I=_.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(I)return l=parseInt(I[1]),c=parseInt(I[2]),d=parseInt(I[3]),p=Math.round(255*(I[5]===void 0?1:parseFloat(I[5]))),h.toColor(l,c,d,p);if(!w||!x)throw new Error("css.toColor: Unsupported css format");if(w.fillStyle=x,w.fillStyle=_,typeof w.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(w.fillRect(0,0,1,1),[l,c,d,p]=w.getImageData(0,0,1,1).data,p!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:h.toRgba(l,c,d,p),css:_}}}(g||(a.css=g={})),function(b){function w(x,_,I){const T=x/255,A=_/255,k=I/255;return .2126*(T<=.03928?T/12.92:Math.pow((T+.055)/1.055,2.4))+.7152*(A<=.03928?A/12.92:Math.pow((A+.055)/1.055,2.4))+.0722*(k<=.03928?k/12.92:Math.pow((k+.055)/1.055,2.4))}b.relativeLuminance=function(x){return w(x>>16&255,x>>8&255,255&x)},b.relativeLuminance2=w}(C||(a.rgb=C={})),function(b){function w(_,I,T){const A=_>>24&255,k=_>>16&255,R=_>>8&255;let M=I>>24&255,D=I>>16&255,F=I>>8&255,z=y(C.relativeLuminance2(M,D,F),C.relativeLuminance2(A,k,R));for(;z<T&&(M>0||D>0||F>0);)M-=Math.max(0,Math.ceil(.1*M)),D-=Math.max(0,Math.ceil(.1*D)),F-=Math.max(0,Math.ceil(.1*F)),z=y(C.relativeLuminance2(M,D,F),C.relativeLuminance2(A,k,R));return(M<<24|D<<16|F<<8|255)>>>0}function x(_,I,T){const A=_>>24&255,k=_>>16&255,R=_>>8&255;let M=I>>24&255,D=I>>16&255,F=I>>8&255,z=y(C.relativeLuminance2(M,D,F),C.relativeLuminance2(A,k,R));for(;z<T&&(M<255||D<255||F<255);)M=Math.min(255,M+Math.ceil(.1*(255-M))),D=Math.min(255,D+Math.ceil(.1*(255-D))),F=Math.min(255,F+Math.ceil(.1*(255-F))),z=y(C.relativeLuminance2(M,D,F),C.relativeLuminance2(A,k,R));return(M<<24|D<<16|F<<8|255)>>>0}b.blend=function(_,I){if(p=(255&I)/255,p===1)return I;const T=I>>24&255,A=I>>16&255,k=I>>8&255,R=_>>24&255,M=_>>16&255,D=_>>8&255;return l=R+Math.round((T-R)*p),c=M+Math.round((A-M)*p),d=D+Math.round((k-D)*p),h.toRgba(l,c,d)},b.ensureContrastRatio=function(_,I,T){const A=C.relativeLuminance(_>>8),k=C.relativeLuminance(I>>8);if(y(A,k)<T){if(k<A){const D=w(_,I,T),F=y(A,C.relativeLuminance(D>>8));if(F<T){const z=x(_,I,T);return F>y(A,C.relativeLuminance(z>>8))?D:z}return D}const R=x(_,I,T),M=y(A,C.relativeLuminance(R>>8));if(M<T){const D=w(_,I,T);return M>y(A,C.relativeLuminance(D>>8))?R:D}return R}},b.reduceLuminance=w,b.increaseLuminance=x,b.toChannels=function(_){return[_>>24&255,_>>16&255,_>>8&255,255&_]}}(v||(a.rgba=v={})),a.toPaddedHex=S,a.contrastRatio=y},345:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.runAndSubscribe=a.forwardEvent=a.EventEmitter=void 0,a.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=l=>(this._listeners.push(l),{dispose:()=>{if(!this._disposed){for(let c=0;c<this._listeners.length;c++)if(this._listeners[c]===l)return void this._listeners.splice(c,1)}}})),this._event}fire(l,c){const d=[];for(let p=0;p<this._listeners.length;p++)d.push(this._listeners[p]);for(let p=0;p<d.length;p++)d[p].call(void 0,l,c)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},a.forwardEvent=function(l,c){return l(d=>c.fire(d))},a.runAndSubscribe=function(l,c){return c(void 0),l(d=>c(d))}},859:(s,a)=>{function l(c){for(const d of c)d.dispose();c.length=0}Object.defineProperty(a,"__esModule",{value:!0}),a.getDisposeArrayDisposable=a.disposeArray=a.toDisposable=a.MutableDisposable=a.Disposable=void 0,a.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const c of this._disposables)c.dispose();this._disposables.length=0}register(c){return this._disposables.push(c),c}unregister(c){const d=this._disposables.indexOf(c);d!==-1&&this._disposables.splice(d,1)}},a.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(c){var d;this._isDisposed||c===this._value||((d=this._value)==null||d.dispose(),this._value=c)}clear(){this.value=void 0}dispose(){var c;this._isDisposed=!0,(c=this._value)==null||c.dispose(),this._value=void 0}},a.toDisposable=function(c){return{dispose:c}},a.disposeArray=l,a.getDisposeArrayDisposable=function(c){return{dispose:()=>l(c)}}},485:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.FourKeyMap=a.TwoKeyMap=void 0;class l{constructor(){this._data={}}set(d,p,h){this._data[d]||(this._data[d]={}),this._data[d][p]=h}get(d,p){return this._data[d]?this._data[d][p]:void 0}clear(){this._data={}}}a.TwoKeyMap=l,a.FourKeyMap=class{constructor(){this._data=new l}set(c,d,p,h,m){this._data.get(c,d)||this._data.set(c,d,new l),this._data.get(c,d).set(p,h,m)}get(c,d,p,h){var m;return(m=this._data.get(c,d))==null?void 0:m.get(p,h)}clear(){this._data.clear()}}},726:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createDecorator=a.getServiceDependencies=a.serviceRegistry=void 0;const l="di$target",c="di$dependencies";a.serviceRegistry=new Map,a.getServiceDependencies=function(d){return d[c]||[]},a.createDecorator=function(d){if(a.serviceRegistry.has(d))return a.serviceRegistry.get(d);const p=function(h,m,g){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(C,v,S){v[l]===v?v[c].push({id:C,index:S}):(v[c]=[{id:C,index:S}],v[l]=v)})(p,h,g)};return p.toString=()=>d,a.serviceRegistry.set(d,p),p}},97:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.IDecorationService=a.IUnicodeService=a.IOscLinkService=a.IOptionsService=a.ILogService=a.LogLevelEnum=a.IInstantiationService=a.ICharsetService=a.ICoreService=a.ICoreMouseService=a.IBufferService=void 0;const c=l(726);var d;a.IBufferService=(0,c.createDecorator)("BufferService"),a.ICoreMouseService=(0,c.createDecorator)("CoreMouseService"),a.ICoreService=(0,c.createDecorator)("CoreService"),a.ICharsetService=(0,c.createDecorator)("CharsetService"),a.IInstantiationService=(0,c.createDecorator)("InstantiationService"),function(p){p[p.TRACE=0]="TRACE",p[p.DEBUG=1]="DEBUG",p[p.INFO=2]="INFO",p[p.WARN=3]="WARN",p[p.ERROR=4]="ERROR",p[p.OFF=5]="OFF"}(d||(a.LogLevelEnum=d={})),a.ILogService=(0,c.createDecorator)("LogService"),a.IOptionsService=(0,c.createDecorator)("OptionsService"),a.IOscLinkService=(0,c.createDecorator)("OscLinkService"),a.IUnicodeService=(0,c.createDecorator)("UnicodeService"),a.IDecorationService=(0,c.createDecorator)("DecorationService")}},o={};function r(s){var a=o[s];if(a!==void 0)return a.exports;var l=o[s]={exports:{}};return n[s].call(l.exports,l,l.exports,r),l.exports}var i={};return(()=>{var s=i;Object.defineProperty(s,"__esModule",{value:!0}),s.HTMLSerializeHandler=s.SerializeAddon=void 0;const a=r(997);function l(C,v,S){return Math.max(v,Math.min(C,S))}class c{constructor(v){this._buffer=v}serialize(v,S){const y=this._buffer.getNullCell(),b=this._buffer.getNullCell();let w=y;const x=v.start.y,_=v.end.y,I=v.start.x,T=v.end.x;this._beforeSerialize(_-x,x,_);for(let A=x;A<=_;A++){const k=this._buffer.getLine(A);if(k){const R=A===v.start.y?I:0,M=A===v.end.y?T:k.length;for(let D=R;D<M;D++){const F=k.getCell(D,w===y?b:y);F?(this._nextCell(F,w,A,D),w=F):console.warn(`Can't get cell at row=${A}, col=${D}`)}}this._rowEnd(A,A===_)}return this._afterSerialize(),this._serializeString(S)}_nextCell(v,S,y,b){}_rowEnd(v,S){}_beforeSerialize(v,S,y){}_afterSerialize(){}_serializeString(v){return""}}function d(C,v){return C.getFgColorMode()===v.getFgColorMode()&&C.getFgColor()===v.getFgColor()}function p(C,v){return C.getBgColorMode()===v.getBgColorMode()&&C.getBgColor()===v.getBgColor()}function h(C,v){return C.isInverse()===v.isInverse()&&C.isBold()===v.isBold()&&C.isUnderline()===v.isUnderline()&&C.isOverline()===v.isOverline()&&C.isBlink()===v.isBlink()&&C.isInvisible()===v.isInvisible()&&C.isItalic()===v.isItalic()&&C.isDim()===v.isDim()&&C.isStrikethrough()===v.isStrikethrough()}class m extends c{constructor(v,S){super(v),this._terminal=S,this._rowIndex=0,this._allRows=new Array,this._allRowSeparators=new Array,this._currentRow="",this._nullCellCount=0,this._cursorStyle=this._buffer.getNullCell(),this._cursorStyleRow=0,this._cursorStyleCol=0,this._backgroundCell=this._buffer.getNullCell(),this._firstRow=0,this._lastCursorRow=0,this._lastCursorCol=0,this._lastContentCursorRow=0,this._lastContentCursorCol=0,this._thisRowLastChar=this._buffer.getNullCell(),this._thisRowLastSecondChar=this._buffer.getNullCell(),this._nextRowFirstChar=this._buffer.getNullCell()}_beforeSerialize(v,S,y){this._allRows=new Array(v),this._lastContentCursorRow=S,this._lastCursorRow=S,this._firstRow=S}_rowEnd(v,S){var b;this._nullCellCount>0&&!p(this._cursorStyle,this._backgroundCell)&&(this._currentRow+=`\x1B[${this._nullCellCount}X`);let y="";if(!S){v-this._firstRow>=this._terminal.rows&&((b=this._buffer.getLine(this._cursorStyleRow))==null||b.getCell(this._cursorStyleCol,this._backgroundCell));const w=this._buffer.getLine(v),x=this._buffer.getLine(v+1);if(x.isWrapped){y="";const _=w.getCell(w.length-1,this._thisRowLastChar),I=w.getCell(w.length-2,this._thisRowLastSecondChar),T=x.getCell(0,this._nextRowFirstChar),A=T.getWidth()>1;let k=!1;(T.getChars()&&A?this._nullCellCount<=1:this._nullCellCount<=0)&&((_.getChars()||_.getWidth()===0)&&p(_,T)&&(k=!0),A&&(I.getChars()||I.getWidth()===0)&&p(_,T)&&p(I,T)&&(k=!0)),k||(y="-".repeat(this._nullCellCount+1),y+="\x1B[1D\x1B[1X",this._nullCellCount>0&&(y+="\x1B[A",y+=`\x1B[${w.length-this._nullCellCount}C`,y+=`\x1B[${this._nullCellCount}X`,y+=`\x1B[${w.length-this._nullCellCount}D`,y+="\x1B[B"),this._lastContentCursorRow=v+1,this._lastContentCursorCol=0,this._lastCursorRow=v+1,this._lastCursorCol=0)}else y=`\r
`,this._lastCursorRow=v+1,this._lastCursorCol=0}this._allRows[this._rowIndex]=this._currentRow,this._allRowSeparators[this._rowIndex++]=y,this._currentRow="",this._nullCellCount=0}_diffStyle(v,S){const y=[],b=!d(v,S),w=!p(v,S),x=!h(v,S);if(b||w||x)if(v.isAttributeDefault())S.isAttributeDefault()||y.push(0);else{if(b){const _=v.getFgColor();v.isFgRGB()?y.push(38,2,_>>>16&255,_>>>8&255,255&_):v.isFgPalette()?_>=16?y.push(38,5,_):y.push(8&_?90+(7&_):30+(7&_)):y.push(39)}if(w){const _=v.getBgColor();v.isBgRGB()?y.push(48,2,_>>>16&255,_>>>8&255,255&_):v.isBgPalette()?_>=16?y.push(48,5,_):y.push(8&_?100+(7&_):40+(7&_)):y.push(49)}x&&(v.isInverse()!==S.isInverse()&&y.push(v.isInverse()?7:27),v.isBold()!==S.isBold()&&y.push(v.isBold()?1:22),v.isUnderline()!==S.isUnderline()&&y.push(v.isUnderline()?4:24),v.isOverline()!==S.isOverline()&&y.push(v.isOverline()?53:55),v.isBlink()!==S.isBlink()&&y.push(v.isBlink()?5:25),v.isInvisible()!==S.isInvisible()&&y.push(v.isInvisible()?8:28),v.isItalic()!==S.isItalic()&&y.push(v.isItalic()?3:23),v.isDim()!==S.isDim()&&y.push(v.isDim()?2:22),v.isStrikethrough()!==S.isStrikethrough()&&y.push(v.isStrikethrough()?9:29))}return y}_nextCell(v,S,y,b){if(v.getWidth()===0)return;const w=v.getChars()==="",x=this._diffStyle(v,this._cursorStyle);if(w?!p(this._cursorStyle,v):x.length>0){this._nullCellCount>0&&(p(this._cursorStyle,this._backgroundCell)||(this._currentRow+=`\x1B[${this._nullCellCount}X`),this._currentRow+=`\x1B[${this._nullCellCount}C`,this._nullCellCount=0),this._lastContentCursorRow=this._lastCursorRow=y,this._lastContentCursorCol=this._lastCursorCol=b,this._currentRow+=`\x1B[${x.join(";")}m`;const _=this._buffer.getLine(y);_!==void 0&&(_.getCell(b,this._cursorStyle),this._cursorStyleRow=y,this._cursorStyleCol=b)}w?this._nullCellCount+=v.getWidth():(this._nullCellCount>0&&(p(this._cursorStyle,this._backgroundCell)||(this._currentRow+=`\x1B[${this._nullCellCount}X`),this._currentRow+=`\x1B[${this._nullCellCount}C`,this._nullCellCount=0),this._currentRow+=v.getChars(),this._lastContentCursorRow=this._lastCursorRow=y,this._lastContentCursorCol=this._lastCursorCol=b+v.getWidth())}_serializeString(v){let S=this._allRows.length;this._buffer.length-this._firstRow<=this._terminal.rows&&(S=this._lastContentCursorRow+1-this._firstRow,this._lastCursorCol=this._lastContentCursorCol,this._lastCursorRow=this._lastContentCursorRow);let y="";for(let _=0;_<S;_++)y+=this._allRows[_],_+1<S&&(y+=this._allRowSeparators[_]);if(!v){const _=this._buffer.baseY+this._buffer.cursorY,I=this._buffer.cursorX,T=A=>{A>0?y+=`\x1B[${A}C`:A<0&&(y+=`\x1B[${-A}D`)};(_!==this._lastCursorRow||I!==this._lastCursorCol)&&((b=_-this._lastCursorRow)>0?y+=`\x1B[${b}B`:b<0&&(y+=`\x1B[${-b}A`),T(I-this._lastCursorCol))}var b;const w=this._terminal._core._inputHandler._curAttrData,x=this._diffStyle(w,this._cursorStyle);return x.length>0&&(y+=`\x1B[${x.join(";")}m`),y}}s.SerializeAddon=class{activate(C){this._terminal=C}_serializeBufferByScrollback(C,v,S){const y=v.length,b=S===void 0?y:l(S+C.rows,0,y);return this._serializeBufferByRange(C,v,{start:y-b,end:y-1},!1)}_serializeBufferByRange(C,v,S,y){return new m(v,C).serialize({start:{x:0,y:typeof S.start=="number"?S.start:S.start.line},end:{x:C.cols,y:typeof S.end=="number"?S.end:S.end.line}},y)}_serializeBufferAsHTML(C,v){var w;const S=C.buffer.active,y=new g(S,C,v);if(!v.onlySelection){const x=S.length,_=v.scrollback,I=_===void 0?x:l(_+C.rows,0,x);return y.serialize({start:{x:0,y:x-I},end:{x:C.cols,y:x-1}})}const b=(w=this._terminal)==null?void 0:w.getSelectionPosition();return b!==void 0?y.serialize({start:{x:b.start.x,y:b.start.y},end:{x:b.end.x,y:b.end.y}}):""}_serializeModes(C){let v="";const S=C.modes;if(S.applicationCursorKeysMode&&(v+="\x1B[?1h"),S.applicationKeypadMode&&(v+="\x1B[?66h"),S.bracketedPasteMode&&(v+="\x1B[?2004h"),S.insertMode&&(v+="\x1B[4h"),S.originMode&&(v+="\x1B[?6h"),S.reverseWraparoundMode&&(v+="\x1B[?45h"),S.sendFocusMode&&(v+="\x1B[?1004h"),S.wraparoundMode===!1&&(v+="\x1B[?7l"),S.mouseTrackingMode!=="none")switch(S.mouseTrackingMode){case"x10":v+="\x1B[?9h";break;case"vt200":v+="\x1B[?1000h";break;case"drag":v+="\x1B[?1002h";break;case"any":v+="\x1B[?1003h"}return v}serialize(C){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");let v=C!=null&&C.range?this._serializeBufferByRange(this._terminal,this._terminal.buffer.normal,C.range,!0):this._serializeBufferByScrollback(this._terminal,this._terminal.buffer.normal,C==null?void 0:C.scrollback);return C!=null&&C.excludeAltBuffer||this._terminal.buffer.active.type!=="alternate"||(v+=`\x1B[?1049h\x1B[H${this._serializeBufferByScrollback(this._terminal,this._terminal.buffer.alternate,void 0)}`),C!=null&&C.excludeModes||(v+=this._serializeModes(this._terminal)),v}serializeAsHTML(C){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");return this._serializeBufferAsHTML(this._terminal,C||{})}dispose(){}};class g extends c{constructor(v,S,y){super(v),this._terminal=S,this._options=y,this._currentRow="",this._htmlContent="",S._core._themeService?this._ansiColors=S._core._themeService.colors.ansi:this._ansiColors=a.DEFAULT_ANSI_COLORS}_padStart(v,S,y){return S>>=0,y=y??" ",v.length>S?v:((S-=v.length)>y.length&&(y+=y.repeat(S/y.length)),y.slice(0,S)+v)}_beforeSerialize(v,S,y){var _,I;this._htmlContent+="<html><body><!--StartFragment--><pre>";let b="#000000",w="#ffffff";this._options.includeGlobalBackground&&(b=((_=this._terminal.options.theme)==null?void 0:_.foreground)??"#ffffff",w=((I=this._terminal.options.theme)==null?void 0:I.background)??"#000000");const x=[];x.push("color: "+b+";"),x.push("background-color: "+w+";"),x.push("font-family: "+this._terminal.options.fontFamily+";"),x.push("font-size: "+this._terminal.options.fontSize+"px;"),this._htmlContent+="<div style='"+x.join(" ")+"'>"}_afterSerialize(){this._htmlContent+="</div>",this._htmlContent+="</pre><!--EndFragment--></body></html>"}_rowEnd(v,S){this._htmlContent+="<div><span>"+this._currentRow+"</span></div>",this._currentRow=""}_getHexColor(v,S){const y=S?v.getFgColor():v.getBgColor();return(S?v.isFgRGB():v.isBgRGB())?"#"+[y>>16&255,y>>8&255,255&y].map(b=>this._padStart(b.toString(16),2,"0")).join(""):(S?v.isFgPalette():v.isBgPalette())?this._ansiColors[y].css:void 0}_diffStyle(v,S){const y=[],b=!d(v,S),w=!p(v,S),x=!h(v,S);if(b||w||x){const _=this._getHexColor(v,!0);_&&y.push("color: "+_+";");const I=this._getHexColor(v,!1);return I&&y.push("background-color: "+I+";"),v.isInverse()&&y.push("color: #000000; background-color: #BFBFBF;"),v.isBold()&&y.push("font-weight: bold;"),v.isUnderline()&&v.isOverline()?y.push("text-decoration: overline underline;"):v.isUnderline()?y.push("text-decoration: underline;"):v.isOverline()&&y.push("text-decoration: overline;"),v.isBlink()&&y.push("text-decoration: blink;"),v.isInvisible()&&y.push("visibility: hidden;"),v.isItalic()&&y.push("font-style: italic;"),v.isDim()&&y.push("opacity: 0.5;"),v.isStrikethrough()&&y.push("text-decoration: line-through;"),y}}_nextCell(v,S,y,b){if(v.getWidth()===0)return;const w=v.getChars()==="",x=this._diffStyle(v,S);x&&(this._currentRow+=x.length===0?"</span><span>":"</span><span style='"+x.join(" ")+"'>"),this._currentRow+=w?" ":v.getChars()}_serializeString(){return this._htmlContent}}s.HTMLSerializeHandler=g})(),i})())})(qO);var dse=qO.exports,GO={exports:{}};(function(t,e){(function(n,o){t.exports=o()})(us,()=>(()=>{var n={433:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.UnicodeV11=void 0;const c=l(938),d=[[768,879],[1155,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1541],[1552,1562],[1564,1564],[1611,1631],[1648,1648],[1750,1757],[1759,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2045,2045],[2070,2073],[2075,2083],[2085,2087],[2089,2093],[2137,2139],[2259,2306],[2362,2362],[2364,2364],[2369,2376],[2381,2381],[2385,2391],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2558,2558],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2641,2641],[2672,2673],[2677,2677],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2810,2815],[2817,2817],[2876,2876],[2879,2879],[2881,2884],[2893,2893],[2902,2902],[2914,2915],[2946,2946],[3008,3008],[3021,3021],[3072,3072],[3076,3076],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3170,3171],[3201,3201],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3328,3329],[3387,3388],[3393,3396],[3405,3405],[3426,3427],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3981,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4151],[4153,4154],[4157,4158],[4184,4185],[4190,4192],[4209,4212],[4226,4226],[4229,4230],[4237,4237],[4253,4253],[4448,4607],[4957,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6158],[6277,6278],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6683,6683],[6742,6742],[6744,6750],[6752,6752],[6754,6754],[6757,6764],[6771,6780],[6783,6783],[6832,6846],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7040,7041],[7074,7077],[7080,7081],[7083,7085],[7142,7142],[7144,7145],[7149,7149],[7151,7153],[7212,7219],[7222,7223],[7376,7378],[7380,7392],[7394,7400],[7405,7405],[7412,7412],[7416,7417],[7616,7673],[7675,7679],[8203,8207],[8234,8238],[8288,8292],[8294,8303],[8400,8432],[11503,11505],[11647,11647],[11744,11775],[12330,12333],[12441,12442],[42607,42610],[42612,42621],[42654,42655],[42736,42737],[43010,43010],[43014,43014],[43019,43019],[43045,43046],[43204,43205],[43232,43249],[43263,43263],[43302,43309],[43335,43345],[43392,43394],[43443,43443],[43446,43449],[43452,43453],[43493,43493],[43561,43566],[43569,43570],[43573,43574],[43587,43587],[43596,43596],[43644,43644],[43696,43696],[43698,43700],[43703,43704],[43710,43711],[43713,43713],[43756,43757],[43766,43766],[44005,44005],[44008,44008],[44013,44013],[64286,64286],[65024,65039],[65056,65071],[65279,65279],[65529,65531]],p=[[66045,66045],[66272,66272],[66422,66426],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[68325,68326],[68900,68903],[69446,69456],[69633,69633],[69688,69702],[69759,69761],[69811,69814],[69817,69818],[69821,69821],[69837,69837],[69888,69890],[69927,69931],[69933,69940],[70003,70003],[70016,70017],[70070,70078],[70089,70092],[70191,70193],[70196,70196],[70198,70199],[70206,70206],[70367,70367],[70371,70378],[70400,70401],[70459,70460],[70464,70464],[70502,70508],[70512,70516],[70712,70719],[70722,70724],[70726,70726],[70750,70750],[70835,70840],[70842,70842],[70847,70848],[70850,70851],[71090,71093],[71100,71101],[71103,71104],[71132,71133],[71219,71226],[71229,71229],[71231,71232],[71339,71339],[71341,71341],[71344,71349],[71351,71351],[71453,71455],[71458,71461],[71463,71467],[71727,71735],[71737,71738],[72148,72151],[72154,72155],[72160,72160],[72193,72202],[72243,72248],[72251,72254],[72263,72263],[72273,72278],[72281,72283],[72330,72342],[72344,72345],[72752,72758],[72760,72765],[72767,72767],[72850,72871],[72874,72880],[72882,72883],[72885,72886],[73009,73014],[73018,73018],[73020,73021],[73023,73029],[73031,73031],[73104,73105],[73109,73109],[73111,73111],[73459,73460],[78896,78904],[92912,92916],[92976,92982],[94031,94031],[94095,94098],[113821,113822],[113824,113827],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[121344,121398],[121403,121452],[121461,121461],[121476,121476],[121499,121503],[121505,121519],[122880,122886],[122888,122904],[122907,122913],[122915,122916],[122918,122922],[123184,123190],[123628,123631],[125136,125142],[125252,125258],[917505,917505],[917536,917631],[917760,917999]],h=[[4352,4447],[8986,8987],[9001,9002],[9193,9196],[9200,9200],[9203,9203],[9725,9726],[9748,9749],[9800,9811],[9855,9855],[9875,9875],[9889,9889],[9898,9899],[9917,9918],[9924,9925],[9934,9934],[9940,9940],[9962,9962],[9970,9971],[9973,9973],[9978,9978],[9981,9981],[9989,9989],[9994,9995],[10024,10024],[10060,10060],[10062,10062],[10067,10069],[10071,10071],[10133,10135],[10160,10160],[10175,10175],[11035,11036],[11088,11088],[11093,11093],[11904,11929],[11931,12019],[12032,12245],[12272,12283],[12288,12329],[12334,12350],[12353,12438],[12443,12543],[12549,12591],[12593,12686],[12688,12730],[12736,12771],[12784,12830],[12832,12871],[12880,19903],[19968,42124],[42128,42182],[43360,43388],[44032,55203],[63744,64255],[65040,65049],[65072,65106],[65108,65126],[65128,65131],[65281,65376],[65504,65510]],m=[[94176,94179],[94208,100343],[100352,101106],[110592,110878],[110928,110930],[110948,110951],[110960,111355],[126980,126980],[127183,127183],[127374,127374],[127377,127386],[127488,127490],[127504,127547],[127552,127560],[127568,127569],[127584,127589],[127744,127776],[127789,127797],[127799,127868],[127870,127891],[127904,127946],[127951,127955],[127968,127984],[127988,127988],[127992,128062],[128064,128064],[128066,128252],[128255,128317],[128331,128334],[128336,128359],[128378,128378],[128405,128406],[128420,128420],[128507,128591],[128640,128709],[128716,128716],[128720,128722],[128725,128725],[128747,128748],[128756,128762],[128992,129003],[129293,129393],[129395,129398],[129402,129442],[129445,129450],[129454,129482],[129485,129535],[129648,129651],[129656,129658],[129664,129666],[129680,129685],[131072,196605],[196608,262141]];let g;function C(v,S){let y,b=0,w=S.length-1;if(v<S[0][0]||v>S[w][1])return!1;for(;w>=b;)if(y=b+w>>1,v>S[y][1])b=y+1;else{if(!(v<S[y][0]))return!0;w=y-1}return!1}a.UnicodeV11=class{constructor(){if(this.version="11",!g){g=new Uint8Array(65536),g.fill(1),g[0]=0,g.fill(0,1,32),g.fill(0,127,160);for(let v=0;v<d.length;++v)g.fill(0,d[v][0],d[v][1]+1);for(let v=0;v<h.length;++v)g.fill(2,h[v][0],h[v][1]+1)}}wcwidth(v){return v<32?0:v<127?1:v<65536?g[v]:C(v,p)?0:C(v,m)?2:1}charProperties(v,S){let y=this.wcwidth(v),b=y===0&&S!==0;if(b){const w=c.UnicodeService.extractWidth(S);w===0?b=!1:w>y&&(y=w)}return c.UnicodeService.createPropertyValue(0,y,b)}}},345:(s,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.runAndSubscribe=a.forwardEvent=a.EventEmitter=void 0,a.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=l=>(this._listeners.push(l),{dispose:()=>{if(!this._disposed){for(let c=0;c<this._listeners.length;c++)if(this._listeners[c]===l)return void this._listeners.splice(c,1)}}})),this._event}fire(l,c){const d=[];for(let p=0;p<this._listeners.length;p++)d.push(this._listeners[p]);for(let p=0;p<d.length;p++)d[p].call(void 0,l,c)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},a.forwardEvent=function(l,c){return l(d=>c.fire(d))},a.runAndSubscribe=function(l,c){return c(void 0),l(d=>c(d))}},490:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.UnicodeV6=void 0;const c=l(938),d=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],p=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let h;a.UnicodeV6=class{constructor(){if(this.version="6",!h){h=new Uint8Array(65536),h.fill(1),h[0]=0,h.fill(0,1,32),h.fill(0,127,160),h.fill(2,4352,4448),h[9001]=2,h[9002]=2,h.fill(2,11904,42192),h[12351]=1,h.fill(2,44032,55204),h.fill(2,63744,64256),h.fill(2,65040,65050),h.fill(2,65072,65136),h.fill(2,65280,65377),h.fill(2,65504,65511);for(let m=0;m<d.length;++m)h.fill(0,d[m][0],d[m][1]+1)}}wcwidth(m){return m<32?0:m<127?1:m<65536?h[m]:function(g,C){let v,S=0,y=C.length-1;if(g<C[0][0]||g>C[y][1])return!1;for(;y>=S;)if(v=S+y>>1,g>C[v][1])S=v+1;else{if(!(g<C[v][0]))return!0;y=v-1}return!1}(m,p)?0:m>=131072&&m<=196605||m>=196608&&m<=262141?2:1}charProperties(m,g){let C=this.wcwidth(m),v=C===0&&g!==0;if(v){const S=c.UnicodeService.extractWidth(g);S===0?v=!1:S>C&&(C=S)}return c.UnicodeService.createPropertyValue(0,C,v)}}},938:(s,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.UnicodeService=void 0;const c=l(345),d=l(490);class p{static extractShouldJoin(m){return(1&m)!=0}static extractWidth(m){return m>>1&3}static extractCharKind(m){return m>>3}static createPropertyValue(m,g,C=!1){return(16777215&m)<<3|(3&g)<<1|(C?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new c.EventEmitter,this.onChange=this._onChange.event;const m=new d.UnicodeV6;this.register(m),this._active=m.version,this._activeProvider=m}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(m){if(!this._providers[m])throw new Error(`unknown Unicode version "${m}"`);this._active=m,this._activeProvider=this._providers[m],this._onChange.fire(m)}register(m){this._providers[m.version]=m}wcwidth(m){return this._activeProvider.wcwidth(m)}getStringCellWidth(m){let g=0,C=0;const v=m.length;for(let S=0;S<v;++S){let y=m.charCodeAt(S);if(55296<=y&&y<=56319){if(++S>=v)return g+this.wcwidth(y);const x=m.charCodeAt(S);56320<=x&&x<=57343?y=1024*(y-55296)+x-56320+65536:g+=this.wcwidth(x)}const b=this.charProperties(y,C);let w=p.extractWidth(b);p.extractShouldJoin(b)&&(w-=p.extractWidth(C)),g+=w,C=b}return g}charProperties(m,g){return this._activeProvider.charProperties(m,g)}}a.UnicodeService=p}},o={};function r(s){var a=o[s];if(a!==void 0)return a.exports;var l=o[s]={exports:{}};return n[s](l,l.exports,r),l.exports}var i={};return(()=>{var s=i;Object.defineProperty(s,"__esModule",{value:!0}),s.Unicode11Addon=void 0;const a=r(433);s.Unicode11Addon=class{activate(l){l.unicode.register(new a.UnicodeV11)}dispose(){}}})(),i})())})(GO);var use=GO.exports,KO={exports:{}};(function(t,e){(function(n,o){t.exports=o()})(self,()=>(()=>{var n={6:(s,a)=>{function l(d){try{const p=new URL(d),h=p.password&&p.username?`${p.protocol}//${p.username}:${p.password}@${p.host}`:p.username?`${p.protocol}//${p.username}@${p.host}`:`${p.protocol}//${p.host}`;return d.toLocaleLowerCase().startsWith(h.toLocaleLowerCase())}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.LinkComputer=a.WebLinkProvider=void 0,a.WebLinkProvider=class{constructor(d,p,h,m={}){this._terminal=d,this._regex=p,this._handler=h,this._options=m}provideLinks(d,p){const h=c.computeLink(d,this._regex,this._terminal,this._handler);p(this._addCallbacks(h))}_addCallbacks(d){return d.map(p=>(p.leave=this._options.leave,p.hover=(h,m)=>{if(this._options.hover){const{range:g}=p;this._options.hover(h,m,g)}},p))}};class c{static computeLink(p,h,m,g){const C=new RegExp(h.source,(h.flags||"")+"g"),[v,S]=c._getWindowedLineStrings(p-1,m),y=v.join("");let b;const w=[];for(;b=C.exec(y);){const x=b[0];if(!l(x))continue;const[_,I]=c._mapStrIdx(m,S,0,b.index),[T,A]=c._mapStrIdx(m,_,I,x.length);if(_===-1||I===-1||T===-1||A===-1)continue;const k={start:{x:I+1,y:_+1},end:{x:A,y:T+1}};w.push({range:k,text:x,activate:g})}return w}static _getWindowedLineStrings(p,h){let m,g=p,C=p,v=0,S="";const y=[];if(m=h.buffer.active.getLine(p)){const b=m.translateToString(!0);if(m.isWrapped&&b[0]!==" "){for(v=0;(m=h.buffer.active.getLine(--g))&&v<2048&&(S=m.translateToString(!0),v+=S.length,y.push(S),m.isWrapped&&S.indexOf(" ")===-1););y.reverse()}for(y.push(b),v=0;(m=h.buffer.active.getLine(++C))&&m.isWrapped&&v<2048&&(S=m.translateToString(!0),v+=S.length,y.push(S),S.indexOf(" ")===-1););}return[y,g]}static _mapStrIdx(p,h,m,g){const C=p.buffer.active,v=C.getNullCell();let S=m;for(;g;){const y=C.getLine(h);if(!y)return[-1,-1];for(let b=S;b<y.length;++b){y.getCell(b,v);const w=v.getChars();if(v.getWidth()&&(g-=w.length||1,b===y.length-1&&w==="")){const x=C.getLine(h+1);x&&x.isWrapped&&(x.getCell(0,v),v.getWidth()===2&&(g+=1))}if(g<0)return[h,b]}h++,S=0}return[h,S]}}a.LinkComputer=c}},o={};function r(s){var a=o[s];if(a!==void 0)return a.exports;var l=o[s]={exports:{}};return n[s](l,l.exports,r),l.exports}var i={};return(()=>{var s=i;Object.defineProperty(s,"__esModule",{value:!0}),s.WebLinksAddon=void 0;const a=r(6),l=/(https?|HTTPS?):[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function c(d,p){const h=window.open();if(h){try{h.opener=null}catch{}h.location.href=p}else console.warn("Opening link blocked as opener could not be cleared")}s.WebLinksAddon=class{constructor(d=c,p={}){this._handler=d,this._options=p}activate(d){this._terminal=d;const p=this._options,h=p.urlRegex||l;this._linkProvider=this._terminal.registerLinkProvider(new a.WebLinkProvider(this._terminal,h,this._handler,p))}dispose(){var d;(d=this._linkProvider)==null||d.dispose()}}})(),i})())})(KO);var pse=KO.exports;var hse=4;function ZO(t){return wU(t,hse)}class fse{constructor(){E(this,"terminal");E(this,"disposables",new gt);E(this,"render",new ht);E(this,"resize",new Eb(1));E(this,"cursorMove",new Eb(1));E(this,"cursorPlacementObserver",this.setupCursorPlacementObserver());E(this,"cursorRectObserver",this.setupCursorRectObserver())}activate(e){this.terminal=e,this.disposables.add(e.onRender(()=>this.render.next())).add(e.onResize(()=>this.resize.next())).add(e.onCursorMove(()=>this.cursorMove.next()))}dispose(){this.disposables.dispose()}get cursorRect(){return this.cursorRectObserver}get cursorPlacement(){return this.cursorPlacementObserver}setupCursorPlacementObserver(){return this.render.pipe(Mt(()=>this.getCursorPlacement()),v8())}getCursorPlacement(){const{terminal:e}=this;if((e==null?void 0:e.buffer)===void 0)return"offscreen";const n=e.buffer.active,{viewportY:o,baseY:r}=n;return o!==r?"offscreen":"onscreen"}setupCursorRectObserver(){return rc(this.cursorMove,this.resize).pipe(Mt(()=>this.getCursorBoundingClientRect()))}getCursorBoundingClientRect(){const{terminal:e}=this;if(!(e!=null&&e.textarea)||!(e!=null&&e.element))return;const n=e.element.getBoundingClientRect(),o=wM(e),r=o==null?void 0:o.width,i=o==null?void 0:o.height;if(!r||!i)return;const s=e.buffer.active;return new DOMRectReadOnly((s.cursorX+1)*r+n.x,s.cursorY*i+n.y,r,i)}}class mse{constructor(){E(this,"terminal");E(this,"disposables",new gt);E(this,"forwardEvent",e=>{var o,r;const n=new KeyboardEvent(e.type,e);(r=(o=this.terminal)==null?void 0:o.textarea)==null||r.dispatchEvent(n)})}activate(e){this.terminal=e}dispose(){this.disposables.dispose()}}const gse=oc("events"),{EventEmitter:vse}=gse;class ii{constructor(){E(this,"emitterImpl",new vse);E(this,"eventName",Symbol("data"));E(this,"_event");E(this,"disposed",!1)}get event(){return this._event||(this._event=(e,n)=>(n!=null&&n.once?this.emitterImpl.once(this.eventName,e):this.emitterImpl.on(this.eventName,e),{dispose:()=>{this.disposed||this.emitterImpl.off(this.eventName,e)}})),this._event}fire(e,n){this.emitterImpl.emit(this.eventName,e,n)}dispose(){this.emitterImpl.removeAllListeners(this.eventName),this.disposed=!0}get listenerCount(){return this.emitterImpl.listenerCount(this.eventName)}}function Zg(t){return new KE(e=>{const n=t((o,r)=>e.next([o,r]));e.add(()=>n.dispose())})}function Jw(t,e){return Zg(t).subscribe(n=>e.next(n))}const Cse=new Set(["fontSize","fontFamily"]);class yse{constructor(){E(this,"resizeObserver");E(this,"terminal");E(this,"disposables",new gt);E(this,"isEnabled",!1);E(this,"fit",Ci(()=>this.fitNow(),100));E(this,"onOptionChange",async e=>{var n,o;(o=(n=this.terminal)==null?void 0:n.element)!=null&&o.parentElement&&this.isEnabled&&Cse.has(e)&&await this.fit()});this.resizeObserver=new ResizeObserver(this.fit)}activate(e){this.terminal=e,this.disposables.add(_M(e,this.onOptionChange)).add(()=>this.resizeObserver.disconnect()).add(()=>this.fit.cancel())}async fitNow(){if(!this.isEnabled)return;Ce(this.terminal,"[AutoFitAddon]: Attach addon to a xterm instance");const e=await this.estimateDimensions();!e||this.terminal.rows===e.rows&&this.terminal.cols===e.cols||this.terminal.resize(e.cols,e.rows)}dispose(){this.disposables.dispose()}enable(){var e,n;this.isEnabled||(n=(e=this.terminal)==null?void 0:e.element)!=null&&n.parentElement&&(this.isEnabled=!0,this.fit(),this.resizeObserver.observe(this.terminal.element.parentElement))}disable(){this.isEnabled&&(this.isEnabled=!1,this.resizeObserver.disconnect())}async estimateDimensions(){var i,s;if(Ce(this.terminal,"[AutoFitAddon]: Attach addon to a xterm instance"),en((i=this.terminal.element)==null?void 0:i.parentElement,"[AutoFitAddon]: It's not possible to measure unmounted element"),!((s=this.terminal.element)!=null&&s.parentElement))return;const e=await xM(this.terminal);if(en(e,"[AutoFitAddon]: It's not possible to measure when font is not loaded"),!e)return;const{clientWidth:n,clientHeight:o}=this.terminal.element;if(!(n===0&&o===0))return{cols:Math.max(Sse,Math.floor(n/e.width)),rows:Math.max(bse,Math.floor(o/e.height))}}}const Sse=2,bse=1;var QO={exports:{}};(function(t,e){(function(n,o){t.exports=o()})(self,()=>(()=>{var n={575:function(s,a,l){typeof self<"u"||typeof window<"u"||l.g!==void 0&&l.g,s.exports=function(){var c,d="3.7.7",p=d,h=typeof Buffer=="function",m=typeof TextDecoder=="function"?new TextDecoder:void 0,g=typeof TextEncoder=="function"?new TextEncoder:void 0,C=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),v=(c={},C.forEach(function(J,le){return c[J]=le}),c),S=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,y=String.fromCharCode.bind(String),b=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(J){return new Uint8Array(Array.prototype.slice.call(J,0))},w=function(J){return J.replace(/=/g,"").replace(/[+\/]/g,function(le){return le=="+"?"-":"_"})},x=function(J){return J.replace(/[^A-Za-z0-9\+\/]/g,"")},_=function(J){for(var le,ve,Me,we,be="",Ne=J.length%3,$e=0;$e<J.length;){if((ve=J.charCodeAt($e++))>255||(Me=J.charCodeAt($e++))>255||(we=J.charCodeAt($e++))>255)throw new TypeError("invalid character found");be+=C[(le=ve<<16|Me<<8|we)>>18&63]+C[le>>12&63]+C[le>>6&63]+C[63&le]}return Ne?be.slice(0,Ne-3)+"===".substring(Ne):be},I=typeof btoa=="function"?function(J){return btoa(J)}:h?function(J){return Buffer.from(J,"binary").toString("base64")}:_,T=h?function(J){return Buffer.from(J).toString("base64")}:function(J){for(var le=[],ve=0,Me=J.length;ve<Me;ve+=4096)le.push(y.apply(null,J.subarray(ve,ve+4096)));return I(le.join(""))},A=function(J,le){return le===void 0&&(le=!1),le?w(T(J)):T(J)},k=function(J){if(J.length<2)return(le=J.charCodeAt(0))<128?J:le<2048?y(192|le>>>6)+y(128|63&le):y(224|le>>>12&15)+y(128|le>>>6&63)+y(128|63&le);var le=65536+1024*(J.charCodeAt(0)-55296)+(J.charCodeAt(1)-56320);return y(240|le>>>18&7)+y(128|le>>>12&63)+y(128|le>>>6&63)+y(128|63&le)},R=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,M=function(J){return J.replace(R,k)},D=h?function(J){return Buffer.from(J,"utf8").toString("base64")}:g?function(J){return T(g.encode(J))}:function(J){return I(M(J))},F=function(J,le){return le===void 0&&(le=!1),le?w(D(J)):D(J)},z=function(J){return F(J,!0)},j=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,H=function(J){switch(J.length){case 4:var le=((7&J.charCodeAt(0))<<18|(63&J.charCodeAt(1))<<12|(63&J.charCodeAt(2))<<6|63&J.charCodeAt(3))-65536;return y(55296+(le>>>10))+y(56320+(1023&le));case 3:return y((15&J.charCodeAt(0))<<12|(63&J.charCodeAt(1))<<6|63&J.charCodeAt(2));default:return y((31&J.charCodeAt(0))<<6|63&J.charCodeAt(1))}},O=function(J){return J.replace(j,H)},U=function(J){if(J=J.replace(/\s+/g,""),!S.test(J))throw new TypeError("malformed base64.");J+="==".slice(2-(3&J.length));for(var le,ve,Me,we="",be=0;be<J.length;)le=v[J.charAt(be++)]<<18|v[J.charAt(be++)]<<12|(ve=v[J.charAt(be++)])<<6|(Me=v[J.charAt(be++)]),we+=ve===64?y(le>>16&255):Me===64?y(le>>16&255,le>>8&255):y(le>>16&255,le>>8&255,255&le);return we},N=typeof atob=="function"?function(J){return atob(x(J))}:h?function(J){return Buffer.from(J,"base64").toString("binary")}:U,W=h?function(J){return b(Buffer.from(J,"base64"))}:function(J){return b(N(J).split("").map(function(le){return le.charCodeAt(0)}))},B=function(J){return W(q(J))},$=h?function(J){return Buffer.from(J,"base64").toString("utf8")}:m?function(J){return m.decode(W(J))}:function(J){return O(N(J))},q=function(J){return x(J.replace(/[-_]/g,function(le){return le=="-"?"+":"/"}))},X=function(J){return $(q(J))},ee=function(J){return{value:J,enumerable:!1,writable:!0,configurable:!0}},ue=function(){var J=function(le,ve){return Object.defineProperty(String.prototype,le,ee(ve))};J("fromBase64",function(){return X(this)}),J("toBase64",function(le){return F(this,le)}),J("toBase64URI",function(){return F(this,!0)}),J("toBase64URL",function(){return F(this,!0)}),J("toUint8Array",function(){return B(this)})},se=function(){var J=function(le,ve){return Object.defineProperty(Uint8Array.prototype,le,ee(ve))};J("toBase64",function(le){return A(this,le)}),J("toBase64URI",function(){return A(this,!0)}),J("toBase64URL",function(){return A(this,!0)})},ie={version:d,VERSION:p,atob:N,atobPolyfill:U,btoa:I,btoaPolyfill:_,fromBase64:X,toBase64:F,encode:F,encodeURI:z,encodeURL:z,utob:M,btou:O,decode:X,isValid:function(J){if(typeof J!="string")return!1;var le=J.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(le)||!/[^\s0-9a-zA-Z\-_]/.test(le)},fromUint8Array:A,toUint8Array:B,extendString:ue,extendUint8Array:se,extendBuiltins:function(){ue(),se()},Base64:{}};return Object.keys(ie).forEach(function(J){return ie.Base64[J]=ie[J]}),ie}()}},o={};function r(s){var a=o[s];if(a!==void 0)return a.exports;var l=o[s]={exports:{}};return n[s].call(l.exports,l,l.exports,r),l.exports}r.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var i={};return(()=>{var s=i;Object.defineProperty(s,"__esModule",{value:!0}),s.Base64=s.BrowserClipboardProvider=s.ClipboardAddon=void 0;const a=r(575);s.ClipboardAddon=class{constructor(d=new c,p=new l){this._base64=d,this._provider=p}activate(d){this._terminal=d,this._disposable=d.parser.registerOscHandler(52,p=>this._setOrReportClipboard(p))}dispose(){var d;return(d=this._disposable)==null?void 0:d.dispose()}_readText(d,p){var m;const h=this._base64.encodeText(p);(m=this._terminal)==null||m.input(`\x1B]52;${d};${h}\x07`,!1)}_setOrReportClipboard(d){const p=d.split(";");if(p.length<2)return!0;const h=p[0],m=p[1];if(m==="?"){const v=this._provider.readText(h);return v instanceof Promise?v.then(S=>(this._readText(h,S),!0)):(this._readText(h,v),!0)}let g="";try{g=this._base64.decodeText(m)}catch{}const C=this._provider.writeText(h,g);return!(C instanceof Promise)||C.then(()=>!0)}};class l{async readText(p){return p!=="c"?Promise.resolve(""):navigator.clipboard.readText()}async writeText(p,h){return p!=="c"?Promise.resolve():navigator.clipboard.writeText(h)}}s.BrowserClipboardProvider=l;class c{encodeText(p){return a.Base64.encode(p)}decodeText(p){const h=a.Base64.decode(p);return a.Base64.isValid(p)&&a.Base64.encode(h)===p?h:""}}s.Base64=c})(),i})())})(QO);var YO=QO.exports;const wse=YO.ClipboardAddon,e_="__base64-decode-failed-1ff32353-aaac-4aab-8126-415d65735984";class _se{constructor(e){E(this,"addon");const n=new YO.Base64;this.addon=new wse({encodeText:o=>n.encodeText(o),decodeText:o=>{const r=n.decodeText(o);return o.length>0&&r===""?e_:r}},{readText:()=>"",writeText:(o,r)=>r===e_?Promise.resolve():e.writeText(r)})}activate(e){this.addon.activate(e)}dispose(){this.addon.dispose()}}class xse extends BM{constructor(n){super({objectMode:!1,highWaterMark:1e4});E(this,"_write",(n,o,r)=>{this.terminal.write(n,r)});E(this,"_writev",(n,o)=>{const r=n.map(Ase).join("");this.terminal.write(r,o)});this.terminal=n}}const Ase=({chunk:t})=>t;var zd=(t=>(t[t.PCOLOR_MASK=255]="PCOLOR_MASK",t[t.GREEN_SHIFT=8]="GREEN_SHIFT",t[t.RED_SHIFT=16]="RED_SHIFT",t[t.CM_RGB=50331648]="CM_RGB",t[t.RGB_MASK=16777215]="RGB_MASK",t))(zd||{});const Tse=[{name:"Error",rules:[/[ :<|\[]error[0-9]?[ :>|\]]/i]},{name:"Warning",rules:[/[ :<|\[](warning|warn)[0-9]?[ :>|\]]/i]},{name:"OK",rules:[/[ :<|\[](ok|yes|success)[ :>|\]]/i]},{name:"Info",rules:[/[ :<|\[]info[0-9]?[ :>|\]]/i]},{name:"Debug",rules:[/[ :<|\[]debug[0-9]?[ :>|\]]/i]},{name:"IP address & MAC",rules:[new RegExp("(?:(^)|(?<![\\w]))\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}(?![\\w])"),/(?:[A-F0-9]{1,4}:){7}[A-F0-9]{1,4}/i,new RegExp("(?:(^)|(?<![\\w]))([0-9A-F]{1,4}:){1,5}(:[0-9A-F]{1,4}){1,4}(?![\\w])","i"),/([A-F0-9]{2}[:.-]){5}[A-F0-9]{2}/i,new RegExp("(?<![-])([A-F0-9]{4}[.-]){2}[A-F0-9]{4}(?![-])","i")]}];function Ise(t){return(t[0]&255)<<zd.RED_SHIFT|(t[1]&255)<<zd.GREEN_SHIFT|t[2]&255}function Ese(t){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?Ise([parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)])|zd.CM_RGB:0}class kse{constructor(){E(this,"content",0);E(this,"combinedData","");E(this,"fg",0);E(this,"bg",0);E(this,"extended")}}function Rse(t,e){const n=Ese(e);return t.rules.map(o=>({regex:o,color:n}))}function t_(t=""){const e=[],n=tee(t);for(const o of Tse){const r=n.get(o.name);r&&e.push(...Rse(o,r))}return e}function Pse(t,e){const{data:n}=t;if(n.length!==e.length)return!1;for(let o=0;o<n.length;o+=1){const r=n[o],i=e.getCell(o);if(!i||r.chars!==i.getChars()||r.fg!==i.getFgColor()||r.bg!==i.getBgColor())return!1}return!0}function n_(t,e,n=0){let o=e;for(let r=n;r<o;r+=1){const i=t.getCell(r);if(!i)break;const s=i.getChars();s.length>1&&(o-=s.length-1);const a=t.getCell(r+1);a&&a.getWidth()===0&&(o+=1)}return o}class Lse{constructor(){E(this,"terminal");E(this,"disposables",new gt);E(this,"searchRules",t_());E(this,"pendingRowsStartMarker");E(this,"pendingUpdatedRows",[]);E(this,"isEnabled",!1);E(this,"update",Ci((e,n)=>this.updateHighlight(e,n),100))}activate(e){this.terminal=e,this.disposables.add(e.onRender(n=>{this.onRender(n.start,n.end)}))}dispose(){this.disposables.dispose()}updateColors(e){this.searchRules=t_(e)}enable(e){this.isEnabled=e}changeForegroundColor(e,n,o){if(!this.terminal)return;const r=this.terminal.buffer.active._buffer;if(!r)return;const i=r.lines.get(e);if(i)for(const s of n){const a=i.loadCell(s,new kse);if(!a)break;a.fg=a.fg&~zd.RGB_MASK&~zd.PCOLOR_MASK|o,i.setCell(s,a)}}onRender(e,n){var o;if(!this.terminal||!this.isEnabled){this.pendingUpdatedRows=[],(o=this.pendingRowsStartMarker)==null||o.dispose();return}this.maybeMoveMarkerToTop(),this.update(e,n)}updateHighlight(e,n){if(this.terminal)try{if(this.shouldSkipRendering(e,n))return;this.pendingUpdatedRows=[];const o=this.terminal.buffer.active,r=o.type,i=this.getHighlightRegion();let s=i.start;const a=i.end,l=[];for(;s<=a;){const c=o.getLine(s);if(!c)break;const d=c.translateToString(!1);for(const p of this.searchRules)for(let h=0;h<d.length;){const m=d.substring(h).match(p.regex);if(!m||m.index===void 0)break;const g=m[0],C=n_(c,m.index+h);if(C<0)break;const v=n_(c,C+g.length-1,C);if(v<0)break;this.changeForegroundColor(s,YE(C,v+1,1),p.color);const S=s-o.viewportY;S>=0&&!l.includes(S)&&l.push(S),h+=m.index+g.length}s+=1}r===o.type&&this.refreshRowsInBuffer(o,l)}catch{}}refreshRowsInBuffer(e,n){e.type==="normal"?this.updateMarkerPosition():this.rememberUpdatedRows(e,n),this.refreshTerminal(n)}maybeMoveMarkerToTop(){if(!this.terminal)return;const{cursorY:e,baseY:n,type:o}=this.terminal.buffer.active;o==="normal"&&this.pendingRowsStartMarker&&!this.pendingRowsStartMarker.isDisposed&&e+n<this.pendingRowsStartMarker.line&&this.updateMarkerPosition(-n-e)}getHighlightRegion(){if(!this.terminal)return{start:0,end:0};const{cursorY:e,viewportY:n,type:o,length:r}=this.terminal.buffer.active;let i=0,s=n+e;return o==="normal"&&this.pendingRowsStartMarker&&!this.pendingRowsStartMarker.isDisposed&&(i=this.pendingRowsStartMarker.line),o==="alternate"&&(i=n,s=r-1),{start:i,end:s}}shouldSkipAlternateBufferRendering(e,n){if(!this.terminal)return!0;if(this.pendingUpdatedRows.length===0)return!1;const o=this.terminal.buffer.active;for(const r of this.pendingUpdatedRows){if(r.num<e||r.num>n)return!1;const i=o.getLine(r.num);if(!i||!Pse(r,i))return!1}return!0}shouldSkipRendering(e,n){if(!this.terminal)return!0;const{viewportY:o,type:r,baseY:i}=this.terminal.buffer.active;return o!==i?!0:r==="alternate"?this.shouldSkipAlternateBufferRendering(e,n):!this.pendingRowsStartMarker||this.pendingRowsStartMarker.isDisposed?!1:o+n<=this.pendingRowsStartMarker.line}rememberUpdatedRows(e,n){for(const o of n){const r=e.getLine(o);if(!r)break;const i=[];for(let s=0;s<r.length;s+=1){const a=r.getCell(s);if(!a)break;i.push({chars:a.getChars(),fg:a.getFgColor(),bg:a.getBgColor()})}i.length!==0&&this.pendingUpdatedRows.push({num:o,data:i})}}updateMarkerPosition(e=0){var n;this.pendingRowsStartMarker&&!this.pendingRowsStartMarker.isDisposed&&this.pendingRowsStartMarker.dispose(),this.pendingRowsStartMarker=(n=this.terminal)==null?void 0:n.registerMarker(e)}refreshTerminal(e){if(!(!this.terminal||e.length===0))try{const n=Math.min(...e),o=Math.max(...e);this.terminal.refresh(n,o)}catch{this.pendingUpdatedRows=[]}}}class Mse{constructor(e){E(this,"disposables",new gt);E(this,"autoHide",!1);this.autoHide=!!(e!=null&&e.autoHide)}activate(e){var i;const{element:n}=e,o=n==null?void 0:n.querySelector(".xterm-viewport");Ce(o,"Cannot find terminal viewport, make sure to load ScrollbarAddon after xterm was mounted"),Ce(n,"Cannot find terminal viewport, make sure to load ScrollbarAddon after xterm was mounted");function r(s){var a;s&&o&&(o.style.setProperty("--xterm-scrollbar-thumb-color",Vo(s.foreground).alpha(.25).string()),o.style.setProperty("--xterm-scrollbar-track-color",(a=Vo(s.background))!=null&&a.isLight()?Vo("#000").alpha(.1).string():Vo("#FFF").alpha(.1).string()),o.style.setProperty("--xterm-scrollbar-thumb-hover-color",Vo(s.foreground).alpha(1).string()))}if(o.style.setProperty("--xterm-scrollbar-width","6px"),o.style.setProperty("margin-right","calc(-1 * var(--xterm-scrollbar-width))"),r((i=e==null?void 0:e.options)==null?void 0:i.theme),this.disposables.add(_M(e,s=>{var a;s==="theme"&&r((a=e==null?void 0:e.options)==null?void 0:a.theme)})),this.autoHide){o.classList.add("xterm-viewport--scrollbar-hidden");const s=_U(Ose).onTransition(l=>{l.matches("idle")?o.classList.add("xterm-viewport--scrollbar-hidden"):o.classList.remove("xterm-viewport--scrollbar-hidden")}),a=new AbortController;o.addEventListener("scroll",()=>{s.send({type:"SCROLL"})},{passive:!0,signal:a.signal}),n.addEventListener("pointermove",()=>{s.send({type:"POINTER_MOVE"})},{passive:!0,signal:a.signal}),this.disposables.add(()=>a.abort()),s.start(),this.disposables.add(()=>s.stop())}}dispose(){this.disposables.dispose()}}const o_="idleTimer",Ose=E2({id:"xterm-scrollbar",preserveActionOrder:!0,predictableActionArguments:!0,tsTypes:{},schema:{context:{},events:{}},initial:"idle",states:{idle:{description:"The scrollbar is hidden",on:{SCROLL:{target:"scrolling",actions:["scheduleIdleTimeout"]}}},scrolling:{description:"The scrollbar is visible",on:{IDLE:{target:"idle"},SCROLL:{actions:["cancelIdleTimeout","scheduleIdleTimeout"],internal:!0},POINTER_MOVE:{actions:["cancelIdleTimeout","scheduleIdleTimeout"],internal:!0}}}}},{actions:{scheduleIdleTimeout:jn({type:"IDLE"},{delay:1500,id:o_}),cancelIdleTimeout:K6(o_)}}),Dse=[{type:"backspace",mac:{keyCode:8},win:{keyCode:8}},{type:"zoomIn",win:{ctrlKey:!0,keyCode:187},mac:{metaKey:!0,keyCode:187}},{type:"zoomOut",win:{ctrlKey:!0,keyCode:189},mac:{metaKey:!0,keyCode:189}},{type:"copy",win:{ctrlKey:!0,shiftKey:!0,keyCode:67},mac:{metaKey:!0,keyCode:67}},{type:"paste",win:{ctrlKey:!0,shiftKey:!0,keyCode:86},mac:{metaKey:!0,keyCode:86}},{type:"selectAll",win:{ctrlKey:!0,shiftKey:!0,keyCode:65},mac:{metaKey:!0,keyCode:65}}],Fse=t=>{if(t.type==="keydown")return Dse.find(e=>xU(t,Co?e.mac:e.win))};class XO{constructor(e){E(this,"id");E(this,"initialOptions");E(this,"clipboard");E(this,"terminal");E(this,"flowControl");E(this,"autoFitAddon",new yse);E(this,"serializeAddon",new dse.SerializeAddon);E(this,"searchAddon",new cse.SearchAddon);E(this,"cursorAddon",new fse);E(this,"forwardKeyboardEventAddon",new mse);E(this,"highlightAddon",new Lse);E(this,"shellIntegrationBridgeAddon",new AU);E(this,"renderAddon",new lse.CanvasAddon);E(this,"options");E(this,"_onData",new ht);E(this,"_onAttachedToDomNode",new ht);E(this,"_onGlobalShortcutEvent",new ht);E(this,"_onBufferChange",new ht);E(this,"_onDataFilter");E(this,"_onFocus",new ii);E(this,"_onBlur",new ii);E(this,"_onSearchRequest",new ii);E(this,"_onZoomIn",new ii);E(this,"_onZoomOut",new ii);E(this,"_onPaste",new ht);E(this,"_onHoverLink",new ht);E(this,"_onKeyboardEvent",new ht);E(this,"_onScroll",new ii);E(this,"disposables",new gt().add(this._onFocus).add(this._onBlur).add(this._onSearchRequest).add(this._onZoomIn).add(this._onZoomOut).add(this._onScroll).add(()=>this.domListenerController.abort()));E(this,"domListenerController",new AbortController);E(this,"serialize",e=>this.serializeAddon.serialize({scrollback:e}));E(this,"findPrev",(e,n)=>this.searchAddon.findPrevious(e,n));E(this,"findNext",(e,n)=>this.searchAddon.findNext(e,n));E(this,"clearSelection",()=>{this.terminal.clearSelection()});E(this,"resize",(e,n)=>{this.terminal.resize(e,n)});E(this,"focus",()=>{this.terminal.focus()});E(this,"scrollToBottom",()=>{this.terminal.scrollToBottom()});E(this,"clear",()=>{this.terminal.clear()});E(this,"updateTerminalView",()=>{this.terminal.resize(this.terminal.cols,this.terminal.rows-1),this.autoFitAddon.enable(),this.autoFitAddon.fitNow()});E(this,"write",async e=>{try{await this.flowControl.write(e)}catch(n){if(Hse(n))return;throw n}});E(this,"setTheme",e=>{this.terminal.options.theme=Nse(e),this.highlightAddon.updateColors(e.name),this.updateTerminalView()});E(this,"setBellSoundEnabled",e=>{this.options.enableBellSound=e});E(this,"setOptionIsMeta",e=>{Co&&(this.terminal.options.macOptionIsMeta=e)});E(this,"setBrightenBoldText",e=>{this.terminal.options.drawBoldTextInBrightColors=e});E(this,"setKeywordsHighlighting",e=>{this.highlightAddon.enable(e)});E(this,"setInactiveCursorStyle",e=>{this.terminal.options.cursorInactiveStyle=e});E(this,"resetInactiveCursorStyle",()=>{const{cursorInactiveStyle:e}=this.initialOptions;this.terminal.options.cursorInactiveStyle=e});E(this,"onResize",e=>this.terminal.onResize(e));const{id:n,clipboard:o,xtermModule:r}=e;this.id=n,this.clipboard=o,this.options={backspace:"legacy",rightClickToPaste:!1,enableBellSound:!1};const i=void 0;this.terminal=new r.Terminal({windowsPty:pu?{backend:"conpty",buildNumber:19e3}:void 0,macOptionClickForcesSelection:!0,rightClickSelectsWord:!1,allowProposedApi:!0,logLevel:i}),vte(this.terminal),this.initialOptions=ZO(this.terminal.options),this.flowControl=new xse(this.terminal),this.terminal.onSelectionChange(()=>{this.options.rightClickToPaste&&this.copySelectionToClipboard()}),this.terminal.attachCustomKeyEventHandler(s=>!this.tryHandleKeyboardEvent(s)),this.terminal.onBell(()=>{this.options.enableBellSound&&Bse().catch(He)}),this.setupPreRenderAddons(),this.disposables.add(this.terminal).add(Jw(this.terminal.onData,this._onData)).add(Jw(this.terminal.buffer.onBufferChange,this._onBufferChange)).add(this.shellIntegrationBridgeAddon.onShellPromptDimensions.subscribe())}get onData(){return this._onData.pipe(Mt(([e])=>e),zr(e=>{var n;return((n=this._onDataFilter)==null?void 0:n.call(this,e))??!0}))}get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onSearchRequest(){return this._onSearchRequest.event}get onZoomIn(){return this._onZoomIn.event}get onZoomOut(){return this._onZoomOut.event}get onPaste(){return this._onPaste.asObservable()}get onHoverLink(){return this._onHoverLink.asObservable()}get onKeyboardEvent(){return this._onKeyboardEvent.asObservable()}get onScroll(){return this._onScroll.event}get onInput(){return this.shellIntegrationBridgeAddon.onUserInput}get onCwdChange(){return this.shellIntegrationBridgeAddon.onCwdChange}get onCommandStarted(){return this.shellIntegrationBridgeAddon.onCommandStarted}get onCommandExited(){return this.shellIntegrationBridgeAddon.onCommandExited}get onShellPrompt(){return this.shellIntegrationBridgeAddon.onShellPrompt}get onAttachedToDomNode(){return this._onAttachedToDomNode.asObservable()}get bufferType(){return this.terminal.buffer.active.type}get onGlobalShortcutEvent(){return this._onGlobalShortcutEvent.asObservable()}get onBufferChange(){return this._onBufferChange.pipe(Mt(([e])=>e))}get forwardEvent(){return this.forwardKeyboardEventAddon.forwardEvent}get cursorStyle(){return this.terminal.options.cursorStyle}get cursorRect(){return this.cursorAddon.cursorRect}get cursorPlacement(){return this.cursorAddon.cursorPlacement}get onShellPromptDimensions(){return this.shellIntegrationBridgeAddon.onShellPromptDimensions}get textareaElement(){return this.terminal.textarea}get isAttachedToDOM(){return pn(this.textareaElement)}async getCharSize(){return xM(this.terminal)}get elementRect(){var e;return(e=this.terminal.element)==null?void 0:e.getBoundingClientRect()}registerOnDataFilter(e){this._onDataFilter=e}removeOnDataFilter(){this._onDataFilter=void 0}setUpHookToCleanUpIntegrationShellCommandFromViewport(){this.disposables.add(this.shellIntegrationBridgeAddon.cleanUpShellIntegrationOutput(this.terminal))}tryDetectPasswordPrompt(e){const{active:n}=this.terminal.buffer;if(n.type!=="normal")return!1;const o=n.getLine(n.cursorY+n.baseY);if(!o||!e(o.translateToString(!0)))return!1}get size(){return{rows:this.terminal.rows,cols:this.terminal.cols}}setVisibility(e){e?(this.autoFitAddon.enable(),this.autoFitAddon.fitNow()):this.autoFitAddon.disable()}type(e){this.terminal.input(e,!0)}paste(e){this.terminal.paste(e)}dispose(){this.disposables.dispose()}setFontFamily(e){this.terminal.options.fontFamily=e,this.checkCurrentFont(),this.updateTerminalView()}setFontSize(e){this.terminal.options.fontSize=e,this.checkCurrentFont(),this.updateTerminalView()}setScrollback(e){this.terminal.options.scrollback=e}setBackspaceMode(e){this.options.backspace=e}setRightClickToPaste(e){this.options.rightClickToPaste=e}copySelectionToClipboard(){if(this.terminal.hasSelection()){const e=this.terminal.getSelection();this.clipboard.writeText(e)}}async moveTo(e){this.terminal.element?(this.detach(),e.appendChild(this.terminal.element)):(await this.open(e),this.setupEventListeners(),this.setupPostRenderAddons()),this._onAttachedToDomNode.next(),this.autoFitAddon.enable()}async open(e){this.terminal.options.fontFamily&&await bM(this.terminal.options.fontFamily),this.terminal.open(e)}setupEventListeners(){const{element:e,textarea:n}=this.terminal;Ce(e!=null&&n!=null,"setupEventListeners must be called after xterm was mounted");const o={passive:!0,signal:this.domListenerController.signal};e.addEventListener("contextmenu",()=>{this.options.rightClickToPaste&&this.terminal.paste(this.clipboard.readText())},o),e.addEventListener("wheel",Pl(r=>{requestAnimationFrame(()=>this._onScroll.fire(r))},300),o),n.addEventListener("focus",()=>{this._onFocus.fire()},o),n.addEventListener("blur",()=>{this._onBlur.fire()},o),e.addEventListener("dragover",r=>{r.preventDefault(),r.stopPropagation()},{signal:this.domListenerController.signal}),e.addEventListener("drop",r=>{var a;const i=(a=r.dataTransfer)==null?void 0:a.files;if(!(i!=null&&i.length))return;const s=[...i].map(l=>nee(l.path)).join(" ");this.terminal.paste(s),this.focus()},o)}setupPreRenderAddons(){this.terminal.loadAddon(this.shellIntegrationBridgeAddon)}setupPostRenderAddons(){this.terminal.loadAddon(this.renderAddon),this.terminal.loadAddon(this.autoFitAddon),this.terminal.loadAddon(this.serializeAddon),this.terminal.loadAddon(new pse.WebLinksAddon((e,n)=>{(Co&&e.metaKey||!Co&&e.ctrlKey)&&C8({title:n,url:n})},{hover:e=>{this._onHoverLink.next(e)},leave:()=>{this._onHoverLink.next(void 0)}})),this.terminal.loadAddon(this.searchAddon),this.terminal.loadAddon(this.cursorAddon),this.terminal.loadAddon(this.forwardKeyboardEventAddon),this.terminal.loadAddon(new Mse({autoHide:!0})),this.terminal.loadAddon(this.highlightAddon),this.terminal.loadAddon(new use.Unicode11Addon),this.terminal.loadAddon(new _se(this.clipboard)),this.terminal.unicode.activeVersion="11"}detach(){var e,n;this.autoFitAddon.disable(),(n=(e=this.terminal.element)==null?void 0:e.parentElement)==null||n.removeChild(this.terminal.element)}onBinary(e){return this.terminal.onBinary(n=>e(Buffer.from(n,"binary")))}tryHandleKeyboardEvent(e){return this.tryHandleGlobalShortcut(e),e.defaultPrevented||(this.tryHandleTerminalShortcut(e),e.defaultPrevented)?!0:(this._onKeyboardEvent.next(e),e.defaultPrevented)}tryHandleGlobalShortcut(e){if(e.type!=="keydown")return;const n=on.getBoundShortcutFromEvent(e);if(!n)return;const{type:o}=n;switch(e.preventDefault(),o){case"clearTerminalBuffer":this.clear();break;case"copyFromTerminal":this.copySelectionToClipboard();break;case"pasteToTerminal":{const r=this.clipboard.readText();this.terminal.paste(r),this._onPaste.next(r);break}case"selectAllInTerminal":this.terminal.selectAll();break;case"openTerminalSearch":this._onSearchRequest.fire();break}this._onGlobalShortcutEvent.next(o)}tryHandleTerminalShortcut(e){if(e.type!=="keydown")return;const n=Fse(e);if(n)switch(n.type){case"backspace":this.options.backspace==="legacy"&&(e.preventDefault(),this._onData.next([Tt.BS,void 0]));break;case"zoomIn":e.preventDefault(),this._onZoomIn.fire();break;case"zoomOut":e.preventDefault(),this._onZoomOut.fire();break;case"copy":case"paste":case"selectAll":e.preventDefault();break}}checkCurrentFont(){this.terminal.options}}const Nse=t=>{const e=t.colorPaletteOverrides;return{foreground:t.foregroundColor,background:t.backgroundColor,cursor:t.cursorColor,selectionBackground:t.selectionColor,black:e[0],red:e[1],green:e[2],yellow:e[3],blue:e[4],magenta:e[5],cyan:e[6],white:e[7],brightBlack:e[8],brightRed:e[9],brightGreen:e[10],brightYellow:e[11],brightBlue:e[12],brightMagenta:e[13],brightCyan:e[14],brightWhite:e[15]}};function Hse(t){return t.message.includes("write data discarded")}let rp;function Bse(){return rp||(rp=document.createElement("audio"),rp.src=zse,rp.load()),rp.play()}const zse="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjMyLjEwNAAAAAAAAAAAAAAA//tQxAADB8AhSmxhIIEVCSiJrDCQBTcu3UrAIwUdkRgQbFAZC1CQEwTJ9mjRvBA4UOLD8nKVOWfh+UlK3z/177OXrfOdKl7pyn3Xf//WreyTRUoAWgBgkOAGbZHBgG1OF6zM82DWbZaUmMBptgQhGjsyYqc9ae9XFz280948NMBWInljyzsNRFLPWdnZGWrddDsjK1unuSrVN9jJsK8KuQtQCtMBjCEtImISdNKJOopIpBFpNSMbIHCSRpRR5iakjTiyzLhchUUBwCgyKiweBv/7UsQbg8isVNoMPMjAAAA0gAAABEVFGmgqK////9bP/6XCykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq";function Vse(t){return t===void 0}var Wse="Expected a function";function jse(t){if(typeof t!="function")throw new TypeError(Wse);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Use(t,e){return TU(t,jse(du(e)))}class JO{constructor(e){E(this,"multiplayerProtocol");E(this,"generateMessageMetadata",(e={})=>{const n=Use(e??{},Vse),{senderId:o,senderPeerId:r,hostPeerId:i}={senderId:this.multiplayerApiInstance.participantId,senderPeerId:this.multiplayerApiInstance.peerId,hostPeerId:this.multiplayerApiInstance.hostPeerId,...n};return Ce(i&&r,wre),{messageId:un(),peerId:r,senderId:o,timestamp:new Date().toISOString(),sessionId:i,version:dh}});E(this,"sendUserConnected",async e=>{const{userId:n,participantId:o,peerId:r,participantUserName:i}=e,s=this.generateMessageMetadata({senderId:o,senderPeerId:r});this.sendMessage({message:{type:"peer-connected",userId:n,username:i,metadata:s}})});E(this,"sendUserDisconnected",async e=>{const n=this.generateMessageMetadata({senderId:e});this.sendMessage({message:{type:"peer-disconnected",metadata:n}})});E(this,"sendSessionState",async e=>{const{peers:n,receivers:o}=e,r=this.generateMessageMetadata();this.sendMessage({message:{type:"session-state",peers:n,metadata:r},receivers:o})});this.multiplayerApiInstance=e,this.multiplayerProtocol=e.multiplayerProtocol}sendHostSettings({terminalSize:e,receivers:n}){const o=this.generateMessageMetadata();this.sendMessage({message:{type:"host-settings",settings:{os:nk(),terminalSize:e},metadata:o},receivers:n})}sendMessage({message:e,receivers:n=[]}){Ce(this.multiplayerApiInstance.isMultiplayerSessionActive()),this.multiplayerProtocol.sendMessage(this.multiplayerApiInstance.hostPeerId,e,n.filter(o=>o!==this.multiplayerApiInstance.peerId))}sendInitTerminalBufferData(e,n){const o=this.prepareTerminalMessage(e,"terminal-init-data");o&&this.sendMessage({message:o,receivers:n})}sendTerminalData(e,n,o,r){const i=this.prepareTerminalMessage(e,n,o);this.sendMessage({message:i,receivers:r})}prepareTerminalMessage(e,n,o){const r=this.generateMessageMetadata({senderId:o});return{type:n,content:e,metadata:r}}}class eD{constructor(e){E(this,"_disposableStore");E(this,"_messageSender");this.multiplayerApi=e,this._messageSender=new JO(e),this._disposableStore=new gt,this.multiplayerApi.currentUserRole="participant",process.on("exit",()=>{this.dispose()})}shell(e,n,o){const{stream:r,signal:i}=e;if(r==null||r.password==null||!(r!=null&&r.config))return;const s=()=>{this.multiplayerApi.dispose(),i.removeEventListener("abort",s),e.delegate.onDisconnect(ia)};i.addEventListener("abort",s);const a=this.getShellHandlers(),l={onOpen:c=>{i.removeEventListener("abort",s),o.onReady(a,{status:"unknown"}),o.onShellIntegrationStatus({type:"skipped"})},onClose:c=>{e.delegate.onDisconnect()},onError:(c,d)=>{e.delegate.onDisconnect(`Closed due to error: ${c.name}`),e.delegate.onError(c.message,d??e.displayLabel)}};this.multiplayerApi.startMultiplayerConnection({connection:e,role:"participant",handlers:l,terminalTitle:r==null?void 0:r.terminalTitle,config:r.config,token:r.password,userAccountId:hr(r.currentUserId,void 0),username:r.currentUsername}).then(()=>{this._disposableStore.add(this.multiplayerApi.connectionEvents.onTerminalData.subscribe(({data:c})=>{o.onOutput(c.toString())}))}).catch(He),this._disposableStore.add(this.multiplayerApi)}dispose(){this._disposableStore.dispose()}getShellHandlers(){const{multiplayerApi:e,_messageSender:n}=this;return{getType:async()=>{},sendData:i=>{e.hostPeerId&&n.sendTerminalData(i,"terminal-input",e.participantId,[e.hostPeerId])},sendBinary:i=>{e.hostPeerId&&n.sendTerminalData(i,"terminal-input",e.participantId,[e.hostPeerId])},sendSize:(i,s)=>({col:i,row:s}),close:()=>{e.resetInstance(),this.dispose()},setupShellIntegration:async()=>!1}}}function r_(t){return Array.from(t)}function $se(t){return Buffer.from(t)}class Yc{constructor(){E(this,"map",new Map)}add(e){return this.set(un(),e)}get(e){return this.map.get(e)}set(e,n){return this.map.set(e,n),e}delete(e){return this.map.delete(e)}take(e){const n=this.get(e);return this.delete(e),n}}function qse(t){return{...t,abortController:null,delegate:null,analyticsHelper:null}}class Gse{constructor(e){E(this,"execs",new Yc);E(this,"shells",new Yc);E(this,"portForwardings",new Yc);E(this,"connections",new Yc);E(this,"resolvers",new Yc);E(this,"abortConnection",e=>{var n;typeof e=="string"&&((n=this.connections.get(e))==null||n.abort())});E(this,"adaptDispatch",e=>{this.dispatch({send:n=>{this.client.emit("message",n)},emit:(...n)=>{this.client.emit(...n)}},e)});this.client=e}listen(){this.client.on("message",this.adaptDispatch),this.client.on("abort",this.abortConnection)}stop(){this.client.off("message",this.adaptDispatch),this.client.off("abort",this.abortConnection)}send(...e){this.client.emit("message",...e)}async exec(e,n){const{connectionId:o,sanitizedConnection:r}=this.addConnection(e);return new Promise((i,s)=>{this.send({type:"exec",payload:{execId:this.execs.add({resolve:i,reject:s}),connectionId:o,command:n,connection:r}})})}shell(e,n,o){const{connectionId:r,sanitizedConnection:i}=this.addConnection(e);this.send({type:"shell",payload:{shellId:this.shells.add(o),connectionId:r,options:n,connection:i}})}portForwarding(e,n,o){const{connectionId:r,sanitizedConnection:i}=this.addConnection(e);this.send({type:"portForwarding",payload:{portForwardingId:this.portForwardings.add(o),connectionId:r,options:n,connection:i}})}dispatch(e,n){var r,i,s,a,l,c,d,p,h,m,g,C,v,S,y,b,w,x,_,I,T;const{payload:o}=n;switch(n.type){case"shell.onOutput":{const{shellId:A,data:k}=o;(r=this.shells.get(A))==null||r.onOutput(k);break}case"exec.resolve":{const{execId:A,result:k}=o;(i=this.execs.get(A))==null||i.resolve(k);break}case"exec.reject":{const{execId:A,error:k}=o;(s=this.execs.get(A))==null||s.reject(k);break}case"shell.onReady":{const{shellId:A,info:k}=o;(a=this.shells.get(A))==null||a.onReady({getType:()=>this.withPromise(R=>{e.send({type:"shell.getType",payload:{shellId:A,promiseId:R}})}),sendData:R=>{e.send({type:"shell.sendData",payload:{shellId:A,data:R}})},sendBinary:R=>{e.send({type:"shell.sendBinary",payload:{shellId:A,data:r_(R)}})},sendSize:(R,M)=>{e.send({type:"shell.sendSize",payload:{shellId:A,columns:R,rows:M}})},close:()=>{e.send({type:"shell.close",payload:{shellId:A}})},setupShellIntegration:()=>this.withPromise(R=>{e.send({type:"shell.setupShellIntegration",payload:{shellId:A,promiseId:R}})})},k);break}case"shell.onShellIntegrationStatus":{const{shellId:A,status:k}=o;(l=this.shells.get(A))==null||l.onShellIntegrationStatus(k);break}case"shell.onFinished":{const{shellId:A}=o;(c=this.shells.get(A))==null||c.onFinished();break}case"shell.onExit":{const{shellId:A,status:k}=o;(d=this.shells.get(A))==null||d.onExit(k);break}case"portForwarding.onStarted":{const{portForwardingId:A,bindAddress:k,bindPort:R}=o;(p=this.portForwardings.get(A))==null||p.onStarted({close:()=>{e.send({type:"portForwarding.close",payload:{portForwardingId:A}})},getBindAddress:()=>k,getBindPort:()=>R});break}case"portForwarding.onStopped":{const{portForwardingId:A}=o;(h=this.portForwardings.get(A))==null||h.onStopped();break}case"callback.hostVerifier":{const{connectionId:A,config:k,checkResult:R,hashedKey:M,pubKey:D,keyType:F,callbackId:z}=o;(m=this.connections.get(A))==null||m.delegate.hostVerifier(k,R,M,D,F,(...j)=>{e.send({type:"callback.call",payload:{callbackId:z,args:j}})});break}case"callback.askUserNecessaryFields":{const{connectionId:A,host:k,successCallbackId:R,failureCallbackId:M}=o;(g=this.connections.get(A))==null||g.delegate.askUserNecessaryFields(new _t(k)).then((...D)=>{e.send({type:"callback.call",payload:{callbackId:R,args:D}})},(...D)=>{e.send({type:"callback.call",payload:{callbackId:M,args:D}})});break}case"callback.requestPassphrase":{const{connectionId:A,callbackId:k}=o;(C=this.connections.get(A))==null||C.delegate.requestPassphrase((...R)=>{e.send({type:"callback.call",payload:{callbackId:k,args:R}})});break}case"callback.handleHostChainConnection":{const{connectionId:A,hostChainConnection:k}=o,R=this.connections.get(A);R==null||R.delegate.handleHostChainConnection(new pt({...k,abortController:R.abortController,delegate:R.delegate,analyticsHelper:R==null?void 0:R.analyticsHelper}));break}case"callback.requestKeyboardInteractive":{const{connectionId:A,name:k,instructions:R,interruptibleWithPublickey:M,prompts:D,successCallbackId:F,failureCallbackId:z}=o;(v=this.connections.get(A))==null||v.delegate.requestKeyboardInteractive(k,R,M,D,(...j)=>{e.send({type:"callback.call",payload:{callbackId:F,args:j}})},(...j)=>{e.send({type:"callback.call",payload:{callbackId:z,args:j}})});break}case"callback.requestSignature":{const{connectionId:A,publicKey:k,storage:R,credentialId:M,data:D,successCallbackId:F,failureCallbackId:z}=o;(S=this.connections.get(A))==null||S.delegate.requestSignature(k,R,M,$se(D)).then(j=>{e.send({type:"callback.call",payload:{callbackId:F,args:[r_(j)]}})}).catch(j=>{e.send({type:"callback.call",payload:{callbackId:z,args:[IU(j)]}})});break}case"callback.onDisconnect":{const{connectionId:A,reason:k}=o;(y=this.connections.get(A))==null||y.delegate.onDisconnect(k);break}case"callback.onSessionLogFinishedWriting":{const{connectionId:A}=o;(b=this.connections.get(A))==null||b.delegate.onSessionLogFinishedWriting();break}case"callback.onClosed":{const{connectionId:A,msg:k}=o;(w=this.connections.get(A))==null||w.delegate.onClosed(k);break}case"callback.onError":{const{connectionId:A,error:k,title:R,errorType:M,errorCode:D,softwareVersion:F}=o,z=this.connections.get(A);z==null||z.delegate.onError(k,R,M,D,F);break}case"callback.requestSKPresence":{const{connectionId:A,isRequired:k}=o;(x=this.connections.get(A))==null||x.delegate.requestSKPresence(k);break}case"callback.updateSKPresence":{const{connectionId:A,name:k}=o;(_=this.connections.get(A))==null||_.delegate.updateSKPresence(k);break}case"callback.requestPIN":{const{connectionId:A,successCallbackId:k}=o,R=this.connections.get(A);R==null||R.delegate.requestPIN((...M)=>{e.send({type:"callback.call",payload:{callbackId:k,args:M}})});break}case"callback.requestChooseKey":{const{connectionId:A,successCallbackId:k}=o,R=this.connections.get(A);R==null||R.delegate.requestChooseKey((...M)=>{e.send({type:"callback.call",payload:{callbackId:k,args:M}})});break}case"callback.requestAuthMethod":{const{connectionId:A,successCallbackId:k,methods:R}=o,M=this.connections.get(A);M==null||M.delegate.requestAuthMethod(R,(...D)=>{e.send({type:"callback.call",payload:{callbackId:k,args:D}})});break}case"callback.requestDiscoverableSKKeys":{const{connectionId:A,skKeys:k,successCallbackId:R}=o,M=this.connections.get(A);M==null||M.delegate.requestDiscoverableSKKeys(k,(...D)=>{e.send({type:"callback.call",payload:{callbackId:R,args:D}})});break}case"callback.onLogMessage":{const{connectionId:A,message:k}=o,R=this.connections.get(A);R==null||R.delegate.onLogMessage(k);break}case"callback.onHostOSDetected":{const{connectionId:A,os:k}=o,R=this.connections.get(A);R==null||R.delegate.onHostOSDetected(k);break}case"promise.resolve":{const{promiseId:A,value:k}=o;(I=this.resolvers.take(A))==null||I.resolve(k);break}case"promise.reject":{const{promiseId:A,error:k}=o;(T=this.resolvers.take(A))==null||T.reject(k);break}}}fs(e,n){e.delegate.onError("file system has not been implemented for IPC yet",e.displayLabel)}closeAllServices(){this.send({type:"closeAllServices"})}addConnection(e){const{client:n}=this,o=this.connections.add(e);e.abortController.signal.addEventListener("abort",i);const r=qse(e);return{connectionId:o,sanitizedConnection:r};function i(){n.emit("abort",o),e.abortController.signal.removeEventListener("abort",i)}}withPromise(e){return new Promise((n,o)=>{e(this.resolvers.add({resolve:n,reject:o}))})}}class Kse{constructor(){E(this,"providers",new Yc)}async exec(e,n){const{provider:o,disconnect:r}=await this.getProviderForExec(e);try{return await o.exec(e,n)}finally{r()}}async getProviderForExec(e){const n=this.providers.get(e.id);return n?{...n,disconnect:()=>{}}:I5()}async shell(e,n,o){try{const{provider:r,disconnect:i}=await I5();this.providers.set(e.id,{provider:r,disconnect:i}),r.shell(e,n,{...o,onFinished:(...s)=>{try{o.onFinished(...s)}finally{this.providers.delete(e.id),i()}}})}catch(r){this.providers.delete(e.id),e.delegate.onError(r.message,e.displayLabel)}}async portForwarding(e,n,o){try{const{provider:r,disconnect:i}=await I5();r.portForwarding(e,n,{...o,onStopped:(...s)=>{try{o.onStopped(...s)}finally{i()}}})}catch(r){e.delegate.onError(r.message,e.displayLabel)}}async fs(e,n){Zse(e)}closeAllServices(){throw new Error("not implemented for out of process connections")}}async function I5(){const t=EU(g8),e=await da.invoke("request-service-process");return new Promise(n=>{t.connectTo(e,()=>{const o=new Gse(t.of[e]);o.listen(),n({provider:o,disconnect:()=>setTimeout(()=>t.disconnect(e),500)})})})}function Zse(t){t.delegate.onError("not implemented for out of process connections",t.displayLabel)}const Qse=new jM(new Kse);function Yse(t){const{connection:e,multiplayerApi:n}=t;return e.protocol==="local"?Qse:e.protocol==="stream"?new eD(n):y1}class w1{constructor(e){this.getContext=e}}class Xse extends w1{isAllowed(){const{isHost:e,participantId:n,controlOwnerId:o}=this.getContext();return e?!0:n===o}}class Jse extends w1{isAllowed(e){const{isHost:n,controlOwnerId:o}=this.getContext();return n&&e===o}}class eae extends w1{isPreviousControlOwner(e){const{isHost:n,participantId:o}=this.getContext();return e?!n&&e===o:!1}isAllowed(){return!1}}class Wy extends w1{constructor(e,n){super(e),this.getContext=e,this.messageSender=n}supports(e){return this.supportedTypes.has(e.type)}translate(e){this.messageSender.sendMessage({message:e})}}class tae extends Wy{constructor(){super(...arguments);E(this,"supportedTypes",new Set(["peer-connected","peer-disconnected","close-connection","response"]))}isAllowed(){const{isHost:n}=this.getContext();return n}}class nae extends Wy{constructor(){super(...arguments);E(this,"supportedTypes",new Set(["terminal-output","access-control"]))}isAllowed(n){const{isHost:o,controlOwnerId:r}=this.getContext(),i=r===n.metadata.senderId;return o&&i}}class oae extends Wy{constructor(){super(...arguments);E(this,"supportedTypes",new Set(["request","request-cancel"]))}isAllowed(){const{controlOwnerPeerId:n,hostPeerId:o}=this.getContext();return n!==o}translate(n){const{controlOwnerPeerId:o}=this.getContext();o&&this.messageSender.sendMessage({message:n,receivers:[o]})}}class rae extends w1{}class iae extends rae{isAllowed(){const{participantId:e,controlOwnerId:n}=this.getContext();return e===n}}class tD{constructor(e,n){E(this,"shellPermission");E(this,"retranslatePermissions",[]);E(this,"controlOwnershipManagementPermission");E(this,"controlTakingBackPermission");E(this,"participantPreviousControlOwnerPermission");this.messageSender=n,this.shellPermission=new iae(e),this.controlOwnershipManagementPermission=new Xse(e),this.controlTakingBackPermission=new Jse(e),this.participantPreviousControlOwnerPermission=new eae(e),this.messageSender&&(this.retranslatePermissions=[new tae(e,this.messageSender),new nae(e,this.messageSender),new oae(e,this.messageSender)])}canRetranslate(e){return this.retranslatePermissions.find(n=>n.supports(e)&&n.isAllowed(e))}canWriteToShell(){return this.shellPermission.isAllowed()}canManageControlOwnership(){return this.controlOwnershipManagementPermission.isAllowed()}canTakeControlBack(e){return this.controlTakingBackPermission.isAllowed(e)}isParticipantPreviousControlOwner(e){return this.participantPreviousControlOwnerPermission.isPreviousControlOwner(e)}maybeTranslate(e){const n=this.canRetranslate(e);n&&n.translate(e)}}class sae{constructor(e,n){E(this,"disposables",new gt);E(this,"shell");E(this,"onShellOutput");E(this,"permissionManager");E(this,"messageQueue");E(this,"shellOutputSubscription");this._multiplayerApi=e,this.terminalApi=n,this.messageQueue=this.createMessageQueue(),this.permissionManager=new tD(this.multiplayerApi.getContext)}get multiplayerApi(){return this._multiplayerApi}get canManageControlOwnership(){return this.permissionManager.canManageControlOwnership()}get hasControl(){return this.permissionManager.canWriteToShell()}canTakeControlBack(e){return this.permissionManager.canTakeControlBack(e)}isParticipantPreviousControlOwner(e){return this.permissionManager.isParticipantPreviousControlOwner(e)}async startMultiplayerByHost(e){this.multiplayerApi.currentUserRole="host";const{multiplayerApi:n}=this,o={onOpen:async(i,s)=>{Ce(n.hostPeerId),e.onOpen({conn:i,initTerminalBufferData:this.terminalApi.serialize(),sessionId:n.hostPeerId,terminalSize:[this.terminalApi.size.cols,this.terminalApi.size.rows]})}},r=await this.multiplayerApi.startMultiplayerConnection({...e,role:"host",connection:e.connection,handlers:o});return this.observeMultiplayerApi(),this.observeShellOutput(),r}processTerminalData(e){this.maybeWriteToShell(e)}setShell(e){this.shell=e}setShellOutputEmitter(e){this.onShellOutput=e}dispose(){this.multiplayerApi.dispose(),this.disposables.dispose(),this.disposables=new gt,this.shellOutputSubscription=void 0}observeMultiplayerApi(){var e,n;this.disposables.add(this.multiplayerApi.connectionEvents.onTerminalData.subscribe(({data:o,dataPrintAllowed:r,senderId:i})=>{var a;this.multiplayerApi.currentUserRole==="host"&&r&&i!==((a=this.multiplayerApi)==null?void 0:a.participantId)&&this.messageQueue.push({senderId:i,terminalData:o})})),this.disposables.add((n=(e=this.multiplayerApi.connectionEvents.onControlGranted)==null?void 0:e.subscribe)==null?void 0:n.call(e,()=>{this.messageQueue.kill(),this.messageQueue=this.createMessageQueue()}))}observeShellOutput(){Ce(this.onShellOutput,kU),!this.shellOutputSubscription&&(this.shellOutputSubscription=this.onShellOutput(e=>{const{internalEventBus:n}=this.multiplayerApi.connectionEvents;n.emit("shellOutput",{data:e})}),this.disposables.add(this.shellOutputSubscription))}createMessageQueue(){return Oy(async e=>{var o,r;if(!this.shell||!this.onShellOutput)return;const n=e.terminalData.toString();this.shell.sendData(n),(r=(o=this.multiplayerApi)==null?void 0:o.stats)==null||r.increaseReceiverCommands(n)},1)}maybeWriteToShell(e){var n;if(!this.multiplayerApi.isMultiplayerSessionActive()){this.writeDataToShell(e);return}this.permissionManager.canWriteToShell()&&(this.writeDataToShell(e),(n=this.multiplayerApi.stats)==null||n.increaseReceiverCommands(e))}writeDataToShell(e){var n,o,r,i;e instanceof Uint8Array?(o=(n=this.shell)==null?void 0:n.sendBinary)==null||o.call(n,e):(i=(r=this.shell)==null?void 0:r.sendData)==null||i.call(r,e)}}function _1(t){throw new Error("Switch is not exhaustive")}function $a(t,e){const n=[];e!=null&&e.clearLine&&n.push(aae(e.connection,e==null?void 0:e.platformName)),n.push(t);const o=t.endsWith(Tt.CR);return e!=null&&e.run&&!o&&n.push(Tt.CR),n.join("")}function aae(t,e=nk()){if(!t)return Tt.NAK;const{protocol:n,shellPath:o,host:r}=t;if(r.os_name==="windows"&&n!=="local")return`${Tt.ESC}[1;5~`;if(!(n==="local"&&e==="win"))return Tt.NAK;const s=o==null?void 0:o.endsWith("cmd.exe"),a=o==null?void 0:o.endsWith("powershell.exe"),l=o==null?void 0:o.endsWith("pwsh.exe");return s||a||l?Tt.ESC.repeat(2):Tt.NAK}class lae{constructor(e){E(this,"id");E(this,"terminalApi");E(this,"multiplayerShellBridge");E(this,"_resolveShellProvider");E(this,"shell");E(this,"_sessionInfo");E(this,"_currentConnection");E(this,"abortPendingConnection");E(this,"_onShellReady",new ht);E(this,"_onShellIntegrationStatus",new ht);E(this,"_onShellOutput",new ii);E(this,"_onError",new ii);E(this,"_onDisconnect",new ii);E(this,"_onExit",new ht);E(this,"disposables",new gt);E(this,"taskQueue");E(this,"outputSize",0);E(this,"execInBackground",async e=>{const n=await this.taskQueue.pushAsync({type:"exec",payload:e});let o=!1;for(const r of this.taskQueue)if(r.type==="exec"&&r.payload.kind===e.kind){o=!0;break}return{result:n,hasFollowingPendingExecutions:o}});E(this,"getShell",async()=>{const e=await this.taskQueue.pushAsync({type:"get-shell"});return e!=null&&e.echoSupported?e.name:void 0});E(this,"getOutputSizeInMb",()=>RU(this.outputSize));const{terminalApi:n,id:o,multiplayerShellBridge:r}=e;this.id=o,this.terminalApi=n,this._resolveShellProvider=e.getShellProvider,this.disposables.add(this._onShellOutput).add(this._onError).add(this._onDisconnect).add(this.terminalApi.onData.subscribe(i=>{this.multiplayerShellBridge.processTerminalData(i)})).add(this.terminalApi.onBinary(i=>{var s;return(s=this.shell)==null?void 0:s.sendBinary(i)})).add(this.terminalApi.onResize(i=>{var s;return(s=this.shell)==null?void 0:s.sendSize(i.cols,i.rows)})).add(this.onShellOutput(()=>{var i;(i=this.shell)==null||i.sendSize(this.terminalApi.size.cols,this.terminalApi.size.rows)},{once:!0})),this.taskQueue=this.createTaskQueue(),this._onShellOutput.event(i=>{this.outputSize+=Buffer.byteLength(i,"utf8")}),this.multiplayerShellBridge=r}get sessionInfo(){return this._sessionInfo}get isShellReady(){return!!this.shell}get currentConnection(){return this._currentConnection}setCurrentConnection(e){this._currentConnection=e}get onShellReady(){return this._onShellReady.asObservable()}get onShellIntegrationStatus(){return this._onShellIntegrationStatus.asObservable()}get onShellOutput(){return this._onShellOutput.event}get onError(){return this._onError.event}get onDisconnect(){return this._onDisconnect.event}get onExit(){return this._onExit.asObservable()}get multiplayerApi(){return this.multiplayerShellBridge.multiplayerApi}disconnect(){var e;return(e=this.abortPendingConnection)==null||e.call(this),new Promise((n,o)=>{this.shell?(this.onDisconnect(()=>n(),{once:!0}),this.onError(o,{once:!0}),this.shell.close()):(this.cleanUpAfterDisconnect(),n())})}cleanUpAfterDisconnect(){this._currentConnection&&(this._currentConnection.delegate.onDisconnect=()=>{},this._currentConnection.delegate.onError=()=>{},this._currentConnection=void 0,this.stopMultiplayer()),this.abortPendingConnection=void 0,this.shell=void 0,this._sessionInfo=void 0,this.taskQueue.kill(),this.taskQueue=this.createTaskQueue(),this.terminalApi.write(_n.DISABLE_ALT_BUFFER),this.terminalApi.write(_n.DISABLE_MOUSE_EVENTS),this.terminalApi.write(_n.SHOW_CURSOR),this.terminalApi.write(_n.SET_DEFAULT_BACKGROUND_COLOR),this.terminalApi.write(_n.SET_DEFAULT_FOREGROUND_COLOR)}dispose(){this.disconnect().finally(()=>{this.disposables.dispose(),this.stopMultiplayer(),this._onExit.complete()})}createTaskQueue(){return Oy(async e=>{var n;switch(e.type){case"exec":return this.execInBackgroundUnsafe(e.payload.command);case"get-shell":return(n=this.shell)==null?void 0:n.getType();default:return _1()}},1)}startConnection(e,n){Ce(!this.abortPendingConnection,"Connection has been started already"),Ce(!this._currentConnection,"Connection has been established already");const o=e.delegate,r=e.clone({delegate:{...o,onDisconnect:a=>{var l,c,d;if(!this.isShellReady&&hw.isCanceledByUser(a)&&((l=e.analyticsHelper)==null||l.connectionFailed({failureReason:"Canceled"})),this.isShellReady&&((c=e.analyticsHelper)==null||c.connectionClosed({sessionLogSize:this.getOutputSizeInMb(),connectionID:e.id,connectionClosedAt:Date.now()})),o.onDisconnect(a),n.toSessionLogAfterDisconnect){this._currentConnection=(d=this._currentConnection)==null?void 0:d.clone({protocol:"session-log"}),this.terminalApi.write(_n.HIDE_CURSOR);return}else this.cleanUpAfterDisconnect();this._onDisconnect.fire(a)},onError:(a,l,c,d,p)=>{var h;if(!this.isShellReady){const m=I2(p,jg);(h=e.analyticsHelper)==null||h.connectionFailed({failureReason:ok(c),errorCode:d,sshServer:m==null?void 0:m.softwareVersion,sshServerComment:m==null?void 0:m.comment})}o.onError(a,l,c,d),this.cleanUpAfterDisconnect(),this._onError.fire(new hw(a,{title:l,code:d,type:c})),this.terminalApi.write(_n.HIDE_CURSOR)}}});this._currentConnection=r,this.abortPendingConnection=()=>{var a;return(a=this._currentConnection)==null?void 0:a.abort()};const i={onReady:(a,l)=>{var c;this.shell=a,this.multiplayerShellBridge.setShell(a),this.multiplayerShellBridge.setShellOutputEmitter(this.onShellOutput),this._sessionInfo=l,this.abortPendingConnection=void 0,this.terminalApi.write(_n.SHOW_CURSOR),(c=r.analyticsHelper)==null||c.connectionEstablished({type:y8(r.protocol),connectionID:r.id}),this.shell.sendSize(this.terminalApi.size.cols,this.terminalApi.size.rows),this.terminalApi.focus(),this._onShellReady.next([a,l])},onShellIntegrationStatus:a=>{this._onShellIntegrationStatus.next(a);const l=r.protocol==="local";a.type==="started"&&!l&&this.terminalApi.setUpHookToCleanUpIntegrationShellCommandFromViewport()},onOutput:a=>{this.terminalApi.write(a),this._onShellOutput.fire(a)},onExit:a=>{this._onExit.next(a)},onFinished:()=>{}};return this._resolveShellProvider({connection:r,multiplayerApi:this.multiplayerApi}).shell(r,{rows:this.terminalApi.size.rows,columns:this.terminalApi.size.cols,term:n.termString},i),r}async setupShellIntegration(){var e;await((e=this.shell)==null?void 0:e.setupShellIntegration())}async startMultiplayerByHost(e){Ce(this.currentConnection,"There is no active shell connection"),Ce(this.multiplayerApi,"Multiplayer API is not provided");const n=await this.multiplayerShellBridge.startMultiplayerByHost({...e,connection:this.currentConnection});return this.multiplayerShellBridge.disposables.add(this.onExit.subscribe(()=>{this.stopMultiplayer()})).add(this.onDisconnect(()=>{this.stopMultiplayer()})),n}stopMultiplayer(){this.multiplayerShellBridge.dispose()}async execInBackgroundUnsafe(e){if(this._currentConnection==null)return{success:!1,error:new Error("No established connection for exec")};try{const n=this._resolveShellProvider({connection:this._currentConnection,multiplayerApi:this.multiplayerApi});if(n instanceof eD)return{success:!1,error:new Error("exec not supported for Multiplayer connections")};const{exitCode:o,data:r}=await n.exec(this._currentConnection,e);if(o){const i=new Error(r);return i.code=o,{error:i,success:!1}}return{output:r,success:!0}}catch(n){return{error:n,success:!1}}}pasteSnippet(e){const n=$a(e,{connection:this.currentConnection,run:!1});if(this.terminalApi.isAttachedToDOM)this.terminalApi.focus(),this.terminalApi.paste(n);else{const o=cae(n);this.multiplayerShellBridge.processTerminalData(o)}}execSnippet(e){this.pasteSnippet(e),this.terminalApi.isAttachedToDOM?this.terminalApi.type(Tt.CR):this.multiplayerShellBridge.processTerminalData(Tt.CR)}}function cae(t){return t.replace(/\r?\n/g,Tt.CR)}const dae={writeText:t=>Z6.writeText(t),readText:()=>Z6.readText("clipboard")};class uae{constructor(e){E(this,"mediatorMap",new Map);E(this,"xtermLoadPromise");E(this,"xtermModule",null);E(this,"multiplayerSingleton");E(this,"load",async()=>{await this.xtermLoadPromise});this.xtermLoadPromise=P(()=>import("./xterm-bc4cf23d.js").then(n=>n.x),["./xterm-bc4cf23d.js","./reconnectSaga-e33541d6.js","./reconnectSaga-b241274d.css"],import.meta.url),this.xtermLoadPromise.then(n=>{this.xtermModule=n}),this.multiplayerSingleton=e}find(e){return this.mediatorMap.get(e)}getOrCreateInstance(e,n){Ce(this.xtermModule,"wait for xtermModule to load prior to call getInstance");const o=this.mediatorMap.get(e);if(o)return o;const r=this.multiplayerSingleton.getOrCreateMultiplayerApi(e),i=new XO({id:e,clipboard:n!=null&&n.disableClipboard?{readText:()=>"",writeText:()=>{}}:dae,xtermModule:this.xtermModule,allowTransparency:!0,logLevel:n==null?void 0:n.logLevel}),s=new lae({id:e,terminalApi:i,multiplayerShellBridge:new sae(r,i),getShellProvider:Yse});return this.mediatorMap.set(e,s),s}disposeInstance(e){const n=this.mediatorMap.get(e);n==null||n.terminalApi.dispose(),n==null||n.dispose(),this.mediatorMap.delete(e)}dispose(){for(const e of this.mediatorMap.keys())this.disposeInstance(e);this.mediatorMap.clear()}values(){return this.mediatorMap.values()}get isXtermLoaded(){return this.xtermModule!=null}}const pae=new Map,hae=new goe,nD=new ase,oD=new Kre(nD),fae=new uae(oD),jy={controllerMap:hae,connectionMap:pae,mediatorPool:fae,multiplayerProtocol:nD,multiplayerAPI:oD};function mae({controllerMap:t,connectionMap:e,mediatorPool:n,multiplayerProtocol:o,multiplayerAPI:r}){for(const i of t.values())i.disconnect();t.clear(),n.dispose(),e.clear(),o.dispose(),r.dispose()}const gae=(t,e)=>f.createElement("svg",{width:"14px",height:"12px",viewBox:"0 0 14 12",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:e,...t},f.createElement("g",{id:"V3-assets",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},f.createElement("g",{id:"Assets",transform:"translate(-401.000000, -490.000000)",fillRule:"nonzero",fill:"currentColor"},f.createElement("g",{id:"port-forwarding",transform:"translate(401.000000, 490.000000)"},f.createElement("g",{id:"Layer_1"},f.createElement("g",{id:"Page-1"},f.createElement("path",{d:"M3.25355163,8.92210236 L0.309923488,8.92210236 C0.203095023,8.92210236 0.103925956,8.86469698 0.0474882764,8.77014696 C-0.00935252982,8.67559696 -0.0153994241,8.55698734 0.0309600987,8.45652794 L2.19977952,3.75224264 C2.25137969,3.63996449 2.35982065,3.5686299 2.47874291,3.5686299 L5.42277416,3.5686299 C5.5291995,3.5686299 5.62836857,3.62603526 5.68480626,3.72058528 C5.74164705,3.81513528 5.74809709,3.9337449 5.70173756,4.03420429 L3.53251502,8.7384896 C3.48091485,8.85076774 3.37247388,8.92210236 3.25355163,8.92210236",id:"Fill-1"}),f.createElement("path",{d:"M8.21131962,11.8690237 C8.17382887,11.8690237 8.13633813,11.861848 8.10045989,11.8474967 C7.98032826,11.7993775 7.9013155,11.6790795 7.9013155,11.5444301 L7.9013155,9.08444134 L4.64808638,9.08444134 C4.54206417,9.08444134 4.44329823,9.02788018 4.38645743,8.93417436 C4.32961662,8.84046854 4.32236034,8.72312523 4.36710736,8.62266583 L6.5363299,3.75587269 C6.58712381,3.64190615 6.69637104,3.56888314 6.8169058,3.56888314 L7.74651502,3.56888314 L7.74651502,0.324213688 C7.74651502,0.190830632 7.82472151,0.0709547206 7.94324064,0.0224134186 C8.0621629,-0.0261278834 8.19721021,0.00595158571 8.28388235,0.103878386 L13.2544295,5.72791585 C13.3636767,5.85074644 13.3644829,6.04069066 13.2572513,6.16520965 L8.44150473,11.7618107 C8.38143891,11.8314569 8.29758865,11.8690237 8.21131962,11.8690237",id:"Fill-3"}))))))),vae=f.forwardRef(gae),Cae=f.memo(vae),yae=(t,e)=>f.createElement("svg",{width:"14px",height:"14px",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:e,...t},f.createElement("title",null,"snippets"),f.createElement("desc",null,"Created with Sketch."),f.createElement("defs",null),f.createElement("g",{id:"V3-assets",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},f.createElement("g",{id:"Assets",transform:"translate(-401.000000, -424.000000)",fillRule:"nonzero",fill:"currentColor"},f.createElement("g",{id:"snippets",transform:"translate(401.000000, 424.000000)"},f.createElement("g",{id:"Layer_1"},f.createElement("g",null,f.createElement("path",{d:"M13.6033333,7.28 C13.4866667,7.91777778 13.0744444,8.05777778 12.5144444,8.22888889 C11.1377778,8.57888889 11.9233333,10.22 11.7366667,11.2311111 C11.3985429,12.4476133 10.2683056,13.2719459 9.00666667,13.2222222 C8.74719309,13.178253 8.52380683,13.0141443 8.40427713,12.7796822 C8.28474743,12.5452201 8.28316133,12.2680369 8.4,12.0322222 C8.64888889,11.3244444 9.36444444,11.5033333 9.73,10.9977778 C10.0955556,10.4922222 9.82333333,9.59777778 9.83111111,9.06888889 C9.82504212,8.72545519 9.8776497,8.38350594 9.98666667,8.05777778 C10.0382532,7.91947171 10.1033847,7.78660351 10.1811111,7.66111111 C10.2355556,7.56777778 10.6866667,7.13222222 10.6944444,7.06222222 C10.7022222,6.99222222 10.0722222,6.18333333 10.01,6.00444444 C9.91925605,5.75415458 9.86426996,5.49231607 9.84666667,5.22666667 C9.8,4.66666667 10.1111111,3.60111111 9.73,3.11111111 C9.34888889,2.62111111 8.73444444,2.80777778 8.45444444,2.17 C8.30659568,1.90030648 8.29863169,1.57568169 8.43307782,1.29906265 C8.56752394,1.02244361 8.82770214,0.828144916 9.13111111,0.777777778 C10.2977778,0.567777778 11.5655556,1.78888889 11.7444444,2.87 C11.8611111,3.57 11.6044444,4.27 11.7444444,4.97777778 C11.8844444,5.68555556 12.0788889,5.75555556 12.6933333,5.91111111 C13.1634961,5.9958545 13.5303383,6.36580553 13.6111111,6.83666667",id:"Shape"}),f.createElement("path",{d:"M0.396666667,7.28 C0.513333333,7.91777778 0.925555556,8.05777778 1.48555556,8.22888889 C2.86222222,8.57888889 2.07666667,10.22 2.26333333,11.2311111 C2.60145708,12.4476133 3.73169443,13.2719459 4.99333333,13.2222222 C5.25280691,13.178253 5.47619317,13.0141443 5.59572287,12.7796822 C5.71525257,12.5452201 5.71683867,12.2680369 5.6,12.0322222 C5.35111111,11.3244444 4.63555556,11.5033333 4.27,10.9977778 C3.90444444,10.4922222 4.17666667,9.59777778 4.16888889,9.06888889 C4.17495788,8.72545519 4.1223503,8.38350594 4.01333333,8.05777778 C3.96174679,7.91947171 3.89661532,7.78660351 3.81888889,7.66111111 C3.76444444,7.56777778 3.31333333,7.13222222 3.30555556,7.06222222 C3.29777778,6.99222222 3.92777778,6.18333333 3.99,6.00444444 C4.08074395,5.75415458 4.13573004,5.49231607 4.15333333,5.22666667 C4.2,4.66666667 3.88888889,3.60111111 4.27,3.11111111 C4.65111111,2.62111111 5.26555556,2.80777778 5.54555556,2.17 C5.69340432,1.90030648 5.70136831,1.57568169 5.56692218,1.29906265 C5.43247606,1.02244361 5.17229786,0.828144916 4.86888889,0.777777778 C3.70222222,0.583333333 2.43444444,1.79666667 2.25555556,2.87777778 C2.13888889,3.57777778 2.39555556,4.27777778 2.25555556,4.98555556 C2.11555556,5.69333333 1.92111111,5.76333333 1.30666667,5.91888889 C0.838822077,6.00260638 0.472606383,6.36882208 0.388888889,6.83666667",id:"Shape"}))))))),Sae=f.forwardRef(yae),Uy=f.memo(Sae),Ic=()=>{const t=de(),{classes:e}=bae(),n=V(Lh),o=V(k2),r=()=>t(rk(n.map(i=>i.id)));return L(hn,{offsetTop:151,className:e.wrapper,children:[u(wo,{title:o?"No access to team vaults":"No vaults selected",text:o?`You donâ€™t have permissions to access team vaults.
Contact your team admin to request access.`:"Please select at least one vault in the vault picker.",icon:u(Xp,{height:"25px",width:"25px"})}),o&&u(re,{gap:"15px",marginTop:"20px",children:L(Ue,{onClick:r,children:["Back to",L(re,{direction:"row",gap:"5px",marginLeft:"10px",alignItems:"center",children:[u(Xp,{}),u(Z,{children:"Personal"})]})]})})]})},bae=K()({wrapper:{backgroundColor:"var(--entity-grid-background)"}}),wae=()=>{const{title:t,description:e}=_ae(),{classes:n}=xae();return u(hn,{offsetTop:151,className:n.wrapper,children:u(wo,{title:t,text:e,icon:u(hu,{height:"25px",width:"25px"})})})},_ae=()=>{const t=V(R2),e=V(S8);return t.length===1&&!PU(t[0].encryptionKeyId,e)?{title:"Logs are disabled for the selected vault",description:"Enable logs for this vault in settings."}:{title:"Logs will appear here",description:"Connection logs are records of your activity during an SSH session."}},xae=K()({wrapper:{backgroundColor:"var(--entity-grid-background)"}}),Aae=(t,e)=>f.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:12,viewBox:"0 0 12 12",fill:"none",ref:e,...t},f.createElement("path",{d:"M1.93701 11.9999H10.063C11.3386 11.9999 12 11.28 12 9.91094V2.08877C12 0.7133 11.3386 -0.000143796 10.063 -0.000143796H1.93701C0.661417 -0.000143796 0 0.7133 0 2.08877V9.91094C0 11.2864 0.661417 11.9999 1.93701 11.9999ZM1.91929 10.7401C1.42913 10.7401 1.15748 10.4573 1.15748 9.89809V3.95915C1.15748 3.39354 1.42913 3.11716 1.91929 3.11716H10.0689C10.565 3.11716 10.8425 3.39354 10.8425 3.95915V9.89809C10.8425 10.4573 10.565 10.7401 10.0689 10.7401H1.91929ZM2.92913 5.34747H3.27756C3.49016 5.34747 3.56102 5.27677 3.56102 5.04538V4.67259C3.56102 4.44121 3.49016 4.3705 3.27756 4.3705H2.92913C2.72244 4.3705 2.65157 4.44121 2.65157 4.67259V5.04538C2.65157 5.27677 2.72244 5.34747 2.92913 5.34747ZM4.86614 5.34806H5.20866C5.42126 5.34806 5.49213 5.27736 5.49213 5.04597V4.67318C5.49213 4.4418 5.42126 4.37109 5.20866 4.37109H4.86614C4.65354 4.37109 4.58268 4.4418 4.58268 4.67318V5.04597C4.58268 5.27736 4.65354 5.34806 4.86614 5.34806ZM6.79724 5.34806L7.13976 5.34747C7.35236 5.34747 7.42323 5.27677 7.42323 5.04538V4.67259C7.42323 4.44121 7.35236 4.3705 7.13976 4.3705L6.79724 4.37109C6.58465 4.37109 6.51378 4.4418 6.51378 4.67318V5.04597C6.51378 5.27736 6.58465 5.34806 6.79724 5.34806ZM2.92913 7.4171H3.27756C3.49016 7.4171 3.56102 7.3464 3.56102 7.11501V6.74222C3.56102 6.51084 3.49016 6.44013 3.27756 6.44013H2.92913C2.72244 6.44013 2.65157 6.51084 2.65157 6.74222V7.11501C2.65157 7.3464 2.72244 7.4171 2.92913 7.4171ZM4.86024 7.4171H5.20866C5.42126 7.4171 5.49213 7.3464 5.49213 7.11501V6.74222C5.49213 6.51084 5.42126 6.44013 5.20866 6.44013H4.86024C4.65354 6.44013 4.58268 6.51084 4.58268 6.74222V7.11501C4.58268 7.3464 4.65354 7.4171 4.86024 7.4171ZM6.79724 7.4171H7.13976C7.35236 7.4171 7.42323 7.3464 7.42323 7.11501V6.74222C7.42323 6.51084 7.35236 6.44013 7.13976 6.44013H6.79724C6.58465 6.44013 6.51378 6.51084 6.51378 6.74222V7.11501C6.51378 7.3464 6.58465 7.4171 6.79724 7.4171ZM8.72835 7.4171H9.07087C9.28346 7.4171 9.35433 7.3464 9.35433 7.11501V6.74222C9.35433 6.51084 9.28346 6.44013 9.07087 6.44013H8.72835C8.51575 6.44013 8.44488 6.51084 8.44488 6.74222V7.11501C8.44488 7.3464 8.51575 7.4171 8.72835 7.4171ZM2.92913 9.48673H3.27756C3.49016 9.48673 3.56102 9.41603 3.56102 9.18464V8.81185C3.56102 8.58047 3.49016 8.50976 3.27756 8.50976H2.92913C2.72244 8.50976 2.65157 8.58047 2.65157 8.81185V9.18464C2.65157 9.41603 2.72244 9.48673 2.92913 9.48673ZM4.86024 9.48673H5.20866C5.42126 9.48673 5.49213 9.41603 5.49213 9.18464V8.81185C5.49213 8.58047 5.42126 8.50976 5.20866 8.50976H4.86024C4.65354 8.50976 4.58268 8.58047 4.58268 8.81185V9.18464C4.58268 9.41603 4.65354 9.48673 4.86024 9.48673Z",fill:"currentColor"}),f.createElement("path",{d:"M9.07087 5.34806H8.72835C8.51575 5.34806 8.44488 5.27736 8.44488 5.04597V4.67318C8.44488 4.4418 8.51575 4.37109 8.72835 4.37109H9.07087C9.28346 4.37109 9.35433 4.4418 9.35433 4.67318V5.04597C9.35433 5.27736 9.28346 5.34806 9.07087 5.34806Z",fill:"currentColor"})),Tae=f.forwardRef(Aae),Iae=f.memo(Tae),Eae=(t,e)=>f.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:12,viewBox:"0 0 12 12",fill:"none",ref:e,...t},f.createElement("g",{clipPath:"url(#clip0_2240_1156)"},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.81588 2.97736C4.81588 4.23516 3.76681 5.27887 2.50901 5.27887C1.25121 5.27887 0.202148 4.23516 0.202148 2.97736C0.202148 1.71422 1.24586 0.665161 2.50901 0.665161C3.76681 0.665161 4.81588 1.71422 4.81588 2.97736ZM1.96843 4.06389C2.04871 4.15488 2.12364 4.21375 2.23605 4.21375C2.3538 4.21375 2.45013 4.16023 2.50901 4.06389L3.62765 2.30833C3.67582 2.22804 3.69724 2.16381 3.69724 2.08888C3.69724 1.95507 3.56877 1.83732 3.41891 1.83732C3.32257 1.83732 3.24228 1.89085 3.17806 1.98718L2.22533 3.51795L1.80785 2.98807C1.73827 2.89708 1.66334 2.85427 1.56165 2.85427C1.41713 2.85427 1.29938 2.97736 1.29938 3.13259C1.29938 3.21822 1.31544 3.28245 1.36896 3.34133L1.96843 4.06389ZM6.41623 3.38414H11.79C12.0148 3.38414 12.2021 3.20752 12.2021 2.97736C12.2021 2.75256 12.0148 2.57594 11.79 2.57594H6.41623C6.19143 2.57594 6.00945 2.75256 6.00945 2.97736C6.00945 3.20752 6.19143 3.38414 6.41623 3.38414ZM4.81588 9.17C4.81588 10.4278 3.76681 11.4769 2.50901 11.4769C1.25121 11.4769 0.202148 10.4278 0.202148 9.17C0.202148 7.90686 1.24586 6.8578 2.50901 6.8578C3.76681 6.8578 4.81588 7.90151 4.81588 9.17ZM0.983592 9.17C0.983592 9.99423 1.6794 10.6955 2.50901 10.6955C3.33327 10.6955 4.03443 9.99423 4.03443 9.17C4.03443 8.34039 3.33327 7.63924 2.50901 7.63924C1.68475 7.63924 0.983592 8.34039 0.983592 9.17ZM11.79 9.57144H6.41623C6.19143 9.57144 6.00945 9.3948 6.00945 9.17001C6.00945 8.93989 6.19143 8.76326 6.41623 8.76326H11.79C12.0148 8.76326 12.2021 8.93989 12.2021 9.17001C12.2021 9.3948 12.0148 9.57144 11.79 9.57144Z",fill:"currentColor"})),f.createElement("defs",null,f.createElement("clipPath",{id:"clip0_2240_1156"},f.createElement("rect",{width:12,height:12,fill:"white"})))),kae=f.forwardRef(Eae),Rae=f.memo(kae),Pae=(t,e)=>f.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.40937 1.14285H11.1895C11.6369 1.14285 11.9995 1.49415 11.9995 1.92749V9.95853C11.9995 10.3919 11.6369 10.7432 11.1895 10.7432H7.40937C6.962 10.7432 6.59934 10.3919 6.59934 9.95853V1.92749C6.59934 1.49415 6.962 1.14285 7.40937 1.14285ZM7.4327 1.74287C7.30383 1.74287 7.19936 1.858 7.19936 2.00002V9.886C7.19936 10.028 7.30383 10.1431 7.4327 10.1431H11.1662C11.295 10.1431 11.3995 10.028 11.3995 9.886V2.00002C11.3995 1.858 11.295 1.74287 11.1662 1.74287H10.7981V2.08481C10.7981 2.22727 10.6826 2.34275 10.5402 2.34275H8.05595C7.91349 2.34275 7.798 2.22727 7.798 2.08481V1.74287H7.4327ZM1.20004 1.14342C0.537276 1.14342 0 1.6807 0 2.34346V8.15904C0 8.8218 0.537275 9.35908 1.20004 9.35908H5.74225C5.88471 9.35908 6.0002 9.2436 6.0002 9.10114V8.00159C6.0002 7.85913 5.88471 7.74364 5.74225 7.74364H1.20004C0.868658 7.74364 0.60002 7.475 0.60002 7.14362V2.34346C0.60002 2.01208 0.868658 1.74344 1.20004 1.74344H5.74225C5.88471 1.74344 6.0002 1.62796 6.0002 1.4855V1.40137C6.0002 1.25891 5.88471 1.14342 5.74225 1.14342H1.20004ZM5.87123 9.58999C5.94246 9.58999 6.0002 9.64774 6.0002 9.71896V10.6146C6.0002 10.6858 5.94246 10.7436 5.87123 10.7436H3.86581C3.80736 10.7436 3.76934 10.682 3.79548 10.6298C3.90204 10.4166 4.11987 10.282 4.35815 10.282C4.4029 10.282 4.4438 10.2567 4.46382 10.2167L4.55858 10.0272C4.67052 9.80329 4.86471 9.58999 5.11503 9.58999H5.87123Z",fill:"currentColor"})),Lae=f.forwardRef(Pae),Mae=f.memo(Lae),Oae=(t,e)=>f.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:12,viewBox:"0 0 12 12",fill:"none",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.00005 5.22854C7.27819 5.22854 8.31433 4.1924 8.31433 2.91426C8.31433 1.63612 7.27819 0.599976 6.00005 0.599976C4.72191 0.599976 3.68577 1.63612 3.68577 2.91426C3.68577 4.1924 4.72191 5.22854 6.00005 5.22854ZM5.99991 11.4C7.80701 11.4 9.40679 10.5123 10.387 9.14923C9.76987 7.31842 8.03884 6.00003 5.99989 6.00003C3.96095 6.00003 2.22994 7.3184 1.61279 9.14919C2.593 10.5123 4.19279 11.4 5.99991 11.4Z",fill:"currentColor"})),Dae=f.forwardRef(Oae),Fae=f.memo(Dae),Nae=(t,e)=>f.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M6.37366 0.0728226C3.80027 0.0728226 1.71411 2.15898 1.71411 4.73237C1.71411 5.88122 2.13179 6.93115 2.82108 7.7436L6.37366 11.9275L9.92612 7.74346C10.6154 6.93115 11.0331 5.88109 11.0331 4.73224C11.0332 2.15898 8.94705 0.0728226 6.37366 0.0728226ZM6.37366 6.48818C5.3153 6.48818 4.45742 5.6303 4.45742 4.57194C4.45742 3.51358 5.3153 2.6557 6.37366 2.6557C7.43202 2.6557 8.28991 3.51358 8.28991 4.57194C8.28991 5.6303 7.43202 6.48818 6.37366 6.48818Z",fill:"currentColor"})),Hae=f.forwardRef(Nae),Bae=f.memo(Hae),Ko={User:{normal:{width:"25%",minWidth:"180px"},compact:{width:"40%",minWidth:"180px"},icon:u(Fae,{})},Action:{normal:{width:"15%",minWidth:"100px"},compact:{width:"8%",minWidth:"50px"},icon:u(Rae,{}),hiddenInCompactMode:!0},Host:{normal:{width:"20%",minWidth:"130px"},compact:{width:"35%",minWidth:"130px"},icon:u(ic,{width:"14px",height:"14px"})},Time:{normal:{width:"10%",minWidth:"80px"},compact:{width:"8%",minWidth:"50px"},icon:u(Iae,{}),hiddenInCompactMode:!0},Device:{normal:{width:"15%",minWidth:"60px"},compact:{width:"8%",minWidth:"50px"},icon:u(Mae,{width:"14px",height:"14px"}),hiddenInCompactMode:!0},Location:{normal:{width:"15%",minWidth:"60px"},compact:{width:"25%",minWidth:"60px"},icon:u(Bae,{})}},Qg=(t,e)=>t==="normal"||!Ko[e].hiddenInCompactMode,zae=0,Vae=100,Wae=60,jae=41,Uae=72,$ae=45,_v=10,qae=({viewMode:t})=>{const{classes:e}=ku();return L(re,{width:"100%",padding:"0 10px",className:e.header,children:[u(re,{height:"10px",bgcolor:"var(--entity-grid-background)"}),u(re,{direction:"row",alignItems:"center",alignSelf:"stretch",justifyContent:"space-between",padding:"0 5px",borderBottom:`1px solid var(${sw})`,bgcolor:"var(--entity-grid-background)",children:Object.entries(Ko).map(([n,o],r)=>{const i=Qg(t,n);return L(re,{flexBasis:o[t].width,minWidth:o[t].minWidth,padding:"10px 0",direction:"row",gap:i?"10px":"0",alignItems:"center",overflow:"hidden",children:[r!==0&&u(re,{width:"1px",height:"24px",bgcolor:`var(${sw})`}),u(re,{margin:i?"initial":"auto",children:u(yi,{icon:o.icon,color:"var(--secondary)"})}),i&&u(Z,{variant:"body1",color:"main",ellipsis:!0,children:n})]},n)})})]})},Gae=(t,e)=>f.createElement("svg",{width:16,height:24,viewBox:"0 0 16 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M0.716797 21.0524C0.716797 22.821 1.95251 24 3.80041 24H12.201C14.0489 24 15.2846 22.821 15.2846 21.0524V2.94757C15.2846 1.17903 14.0489 0 12.201 0H3.80041C1.95251 0 0.716797 1.17903 0.716797 2.94757V21.0524ZM2.54202 20.7577V3.24232C2.54202 2.33538 3.07485 1.82522 4.03848 1.82522H11.9742C12.9265 1.82522 13.4594 2.33538 13.4594 3.24232V20.7577C13.4594 21.6646 12.9265 22.1748 11.9742 22.1748H4.03848C3.07485 22.1748 2.54202 21.6646 2.54202 20.7577ZM5.45558 6.15588C6.21514 6.15588 6.87268 5.49835 6.87268 4.69343C6.87268 3.92253 6.21514 3.265 5.45558 3.265C4.63933 3.265 3.99313 3.92253 3.99313 4.69343C3.99313 5.49835 4.63933 6.15588 5.45558 6.15588Z",fill:"currentColor"})),Kae=f.forwardRef(Gae),Zae=f.memo(Kae),Qae=(t,e)=>f.createElement("svg",{width:16,height:24,viewBox:"0 0 16 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M3.80041 24H12.201C14.0489 24 15.2846 22.821 15.2846 21.0524V2.94757C15.2846 1.17903 14.0489 0 12.201 0H3.80041C1.95251 0 0.716797 1.17903 0.716797 2.94757V21.0524C0.716797 22.821 1.95251 24 3.80041 24ZM4.03848 22.1748C3.07485 22.1748 2.54202 21.6646 2.54202 20.7577V3.24232C2.54202 2.33538 3.07485 1.82522 4.03848 1.82522H5.48959C5.67098 1.82522 5.76167 1.91592 5.76167 2.08597V2.34672C5.76167 2.82286 6.0791 3.14029 6.54391 3.14029H9.4688C9.94495 3.14029 10.251 2.82286 10.251 2.34672V2.08597C10.251 1.91592 10.3417 1.82522 10.5231 1.82522H11.9742C12.9265 1.82522 13.4594 2.33538 13.4594 3.24232V20.7577C13.4594 21.6646 12.9265 22.1748 11.9742 22.1748H4.03848ZM5.60296 21.3472H10.4211C10.7272 21.3472 10.9426 21.1318 10.9426 20.8144C10.9426 20.4969 10.7272 20.2929 10.4211 20.2929H5.60296C5.29686 20.2929 5.07013 20.4969 5.07013 20.8144C5.07013 21.1318 5.29686 21.3472 5.60296 21.3472Z",fill:"currentColor"})),Yae=f.forwardRef(Qae),Xae=f.memo(Yae),Jae=(t,e)=>f.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:13,viewBox:"0 0 20 13",fill:"none",ref:e,...t},f.createElement("path",{d:"M0 11.3509C0 10.914 0.353675 10.5603 0.783634 10.5603H2.30236V2.3287C2.30236 1.35783 2.87101 0.858521 3.78641 0.858521H16.2136C17.1775 0.858521 17.6976 1.35783 17.6976 2.3287V10.5603H19.2164C19.6463 10.5603 20 10.914 20 11.3509C20 11.7878 19.6463 12.1415 19.2164 12.1415H0.783634C0.353675 12.1415 0 11.7878 0 11.3509ZM3.41886 10.5603H16.5811V2.64077C16.5811 2.19694 16.3592 1.97503 15.9154 1.97503H4.0846C3.64078 1.97503 3.41886 2.19694 3.41886 2.64077V10.5603Z",fill:"currentColor"})),ele=f.forwardRef(Jae),rD=f.memo(ele),tle=(t,e)=>f.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M3.51211712,15 L8.17190229,15 C8.05949197,14.0523506 8,13.0444554 8,12 C8,10.9555446 8.05949197,9.94764942 8.17190229,9 L3.51211712,9 C3.18046266,9.93833678 3,10.9480937 3,12 C3,13.0519063 3.18046266,14.0616632 3.51211712,15 L3.51211712,15 Z M3.93551965,16 C5.12590433,18.3953444 7.35207678,20.1851177 10.0280093,20.783292 C9.24889451,19.7227751 8.65216136,18.0371362 8.31375067,16 L3.93551965,16 L3.93551965,16 Z M20.4878829,15 C20.8195373,14.0616632 21,13.0519063 21,12 C21,10.9480937 20.8195373,9.93833678 20.4878829,9 L15.8280977,9 C15.940508,9.94764942 16,10.9555446 16,12 C16,13.0444554 15.940508,14.0523506 15.8280977,15 L20.4878829,15 L20.4878829,15 Z M20.0644804,16 L15.6862493,16 C15.3478386,18.0371362 14.7511055,19.7227751 13.9719907,20.783292 C16.6479232,20.1851177 18.8740957,18.3953444 20.0644804,16 L20.0644804,16 Z M9.18440269,15 L14.8155973,15 C14.9340177,14.0623882 15,13.0528256 15,12 C15,10.9471744 14.9340177,9.93761183 14.8155973,9 L9.18440269,9 C9.06598229,9.93761183 9,10.9471744 9,12 C9,13.0528256 9.06598229,14.0623882 9.18440269,15 L9.18440269,15 Z M9.3349823,16 C9.85717082,18.9678295 10.9180729,21 12,21 C13.0819271,21 14.1428292,18.9678295 14.6650177,16 L9.3349823,16 L9.3349823,16 Z M3.93551965,8 L8.31375067,8 C8.65216136,5.96286383 9.24889451,4.27722486 10.0280093,3.21670804 C7.35207678,3.81488234 5.12590433,5.60465556 3.93551965,8 L3.93551965,8 Z M20.0644804,8 C18.8740957,5.60465556 16.6479232,3.81488234 13.9719907,3.21670804 C14.7511055,4.27722486 15.3478386,5.96286383 15.6862493,8 L20.0644804,8 L20.0644804,8 Z M9.3349823,8 L14.6650177,8 C14.1428292,5.03217048 13.0819271,3 12,3 C10.9180729,3 9.85717082,5.03217048 9.3349823,8 L9.3349823,8 Z M12,22 C6.4771525,22 2,17.5228475 2,12 C2,6.4771525 6.4771525,2 12,2 C17.5228475,2 22,6.4771525 22,12 C22,17.5228475 17.5228475,22 12,22 Z",fill:"currentColor"})),nle=f.forwardRef(tle),ole=f.memo(nle),rle=new Map([["AccountManagement",ole],["Desktop",rD],["iPhone",Xae],["Google",Zae]]);function ile(t){return rle.get(t)||rD}const sle=({name:t,type:e="Desktop",viewMode:n})=>{const{classes:o,cx:r}=ku(),i=V(LU)??Cee.name,s=t||i,a=Qg(n,"Device"),l=ile(e),c=Ko.Device[n];return L(re,{flexBasis:c.width,minWidth:c.minWidth,overflow:"hidden",direction:"row",gap:"5px",alignItems:"center",width:"100%",padding:a?"5px 10px":"5px",borderLeft:"1px solid var(--background-entity)",children:[u(yi,{className:r(o.statusIcon,o.entityIcon),icon:u(l,{})}),a&&u(Z,{ellipsis:!0,color:"main",children:s})]})},x1=({children:t,disableInteractive:e=!1})=>u(re,{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","aria-label":"Column content",onClick:n=>{e&&n.stopPropagation()},children:t}),ale=({host:t,protocol:e})=>e==="local"?"local":e==="serial"?"serial":t?On.icon(t):"unknown",lle=["ssh","mosh","telnet"],cle=({host:t,label:e,protocol:n,viewMode:o})=>{const r=t&&n&&lle.includes(n);return u(re,{flexBasis:Ko.Host[o].width,minWidth:Ko.Host[o].minWidth,overflow:"hidden",children:L(re,{direction:"row",alignItems:"center",maxWidth:"100%",padding:"5px 10px",borderLeft:"1px solid var(--background-entity)",children:[t&&u(Uo,{icon:ale({host:t,protocol:n})}),L(x1,{children:[u(Z,{ellipsis:!0,color:"main",children:e}),r&&u(Z,{color:"secondary",variant:"body2",children:t.description})]})]})})},dle=({location:t,ipAddress:e,viewMode:n})=>u(re,{flexBasis:Ko.Location[n].width,minWidth:Ko.Location[n].minWidth,overflow:"hidden",padding:"5px 10px",borderLeft:"1px solid var(--background-entity)",children:!t&&!e?u(Z,{variant:"body1",color:"secondary",ellipsis:!0,children:"Location unavailable"}):L(x1,{children:[u(Z,{variant:"body1",color:"main",children:t}),u(Z,{ellipsis:!0,color:t?"secondary":"primary",variant:t?"body2":"body1",children:e})]})}),ule=(t,e)=>f.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none",ref:e,...t},f.createElement("path",{d:"M18.5433 0L14.9738 3.56942L14.0684 2.66398C12.9012 1.49679 10.8664 1.49576 9.69819 2.66398L8.45473 3.90744L7.63783 3.09054L6.18109 4.54728L15.4527 13.8189L16.9095 12.3622L16.0926 11.5453L17.336 10.3018C18.5413 9.0965 18.5413 7.1369 17.336 5.93159L16.4306 5.02616L20 1.45674L18.5433 0ZM4.54728 6.18109L3.09054 7.63783L3.90744 8.45473L2.66398 9.69819C1.45867 10.9035 1.45867 12.8631 2.66398 14.0684L3.56942 14.9738L0 18.5433L1.45674 20L5.02616 16.4306L5.93159 17.336C6.51467 17.9191 7.29049 18.2414 8.1167 18.2414C8.94188 18.2414 9.71873 17.9201 10.3018 17.336L11.5453 16.0926L12.3622 16.9095L13.8189 15.4527L4.54728 6.18109Z",fill:"currentColor"})),ple=f.forwardRef(ule),hle=f.memo(ple),fle=({status:t,viewMode:e})=>{const{classes:n,cx:o}=ku(),r=Qg(e,"Action");return u(re,{flexBasis:Ko.Action[e].width,minWidth:Ko.Action[e].minWidth,alignItems:"baseline",overflow:"hidden",height:"100%",children:u(re,{padding:"0 5px",borderLeft:"1px solid var(--background-entity)",width:"100%",height:"100%",children:L(re,{direction:"row",gap:"10px",padding:r?"5px 0":"0",alignItems:"center",width:"100%",height:"100%",className:n.status,children:[u(yi,{className:o(n.statusIcon,n.statusIconConnected),icon:u(hle,{}),color:"var(--accent)"}),r&&u(Z,{variant:"body1",ellipsis:!0,color:"main",children:t})]})})})};function mle(t,e){so(2,arguments);var n=Jt(t),o=qi(e);return isNaN(o)?new Date(NaN):(o&&n.setDate(n.getDate()+o),n)}function gle(t,e){so(2,arguments);var n=Jt(t),o=qi(e);if(isNaN(o))return new Date(NaN);if(!o)return n;var r=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+o+1,0);var s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function ip(t,e){if(so(2,arguments),!e||km(e)!=="object")return new Date(NaN);var n=e.years?qi(e.years):0,o=e.months?qi(e.months):0,r=e.weeks?qi(e.weeks):0,i=e.days?qi(e.days):0,s=e.hours?qi(e.hours):0,a=e.minutes?qi(e.minutes):0,l=e.seconds?qi(e.seconds):0,c=Jt(t),d=o||n?gle(c,o+n*12):c,p=i||r?mle(d,i+r*7):d,h=a+s*60,m=l+h*60,g=m*1e3,C=new Date(p.getTime()+g);return C}function vle(t,e,n){so(2,arguments);var o=ik(t,e)/MU;return sk(n==null?void 0:n.roundingMethod)(o)}function Cle(t,e){so(2,arguments);var n=Jt(t),o=Jt(e),r=n.getFullYear()-o.getFullYear(),i=n.getMonth()-o.getMonth();return r*12+i}function yle(t){so(1,arguments);var e=Jt(t);return e.setHours(23,59,59,999),e}function Sle(t){so(1,arguments);var e=Jt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function ble(t){so(1,arguments);var e=Jt(t);return yle(e).getTime()===Sle(e).getTime()}function wle(t,e){so(2,arguments);var n=Jt(t),o=Jt(e),r=md(n,o),i=Math.abs(Cle(n,o)),s;if(i<1)s=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-r*i);var a=md(n,o)===-r;ble(Jt(t))&&i===1&&md(t,o)===1&&(a=!1),s=r*(i-Number(a))}return s===0?0:s}function _le(t,e,n){so(2,arguments);var o=ik(t,e)/1e3;return sk(n==null?void 0:n.roundingMethod)(o)}function xle(t,e){so(2,arguments);var n=Jt(t),o=Jt(e);return n.getFullYear()-o.getFullYear()}function Ale(t,e){so(2,arguments);var n=Jt(t),o=Jt(e),r=md(n,o),i=Math.abs(xle(n,o));n.setFullYear(1584),o.setFullYear(1584);var s=md(n,o)===-r,a=r*(i-Number(s));return a===0?0:a}function Tle(t){so(1,arguments);var e=Jt(t.start),n=Jt(t.end);if(isNaN(e.getTime()))throw new RangeError("Start Date is invalid");if(isNaN(n.getTime()))throw new RangeError("End Date is invalid");var o={};o.years=Math.abs(Ale(n,e));var r=md(n,e),i=ip(e,{years:r*o.years});o.months=Math.abs(wle(n,i));var s=ip(i,{months:r*o.months});o.days=Math.abs(OU(n,s));var a=ip(s,{days:r*o.days});o.hours=Math.abs(DU(n,a));var l=ip(a,{hours:r*o.hours});o.minutes=Math.abs(vle(n,l));var c=ip(l,{minutes:r*o.minutes});return o.seconds=Math.abs(_le(n,c)),o}const Ile=t=>{const{days:e=0,hours:n=0,minutes:o=0,seconds:r=0}=Tle({start:0,end:t});return e?`${e}d`:n?`${n}h ${o?`${o}m`:""}`:o?`${o}m ${r?`${r}s`:""}`:`${r}s`},Ele=({connectedAt:t,disconnectedAt:e,viewMode:n})=>{const o=e?e-t:0,r=Ile(o),i=Qg(n,"Time");return u(re,{flexBasis:Ko.Time[n].width,minWidth:Ko.Time[n].minWidth,overflow:"hidden",padding:i?"5px 10px":"5px",borderLeft:"1px solid var(--background-entity)",children:L(x1,{children:[u(Z,{ellipsis:!0,color:"main",children:oM(new Date(t),"HH:mm")}),e&&u(Z,{variant:"body2",color:"secondary",children:r})]})})},kle=(t,e)=>f.createElement("svg",{width:41,height:50,viewBox:"0 0 41 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.3092 21.4286C26.2265 21.4286 31.0234 16.6316 31.0234 10.7143C31.0234 4.79695 26.2265 0 20.3092 0C14.3918 0 9.59487 4.79695 9.59487 10.7143C9.59487 16.6316 14.3918 21.4286 20.3092 21.4286ZM20.3094 50.0002C28.6744 50.0002 36.0799 45.8918 40.6181 39.5828C39.5303 37.3674 39.1546 36.4737 38.944 35.9728C38.715 35.4281 38.6811 35.3476 38.1394 34.5371C34.2964 28.7874 27.7459 25.0009 20.3111 25.0009C10.8711 25.0009 2.85681 31.1052 0 39.5818C4.53813 45.8914 11.9439 50.0002 20.3094 50.0002Z",fill:"url(#paint0_linear)"}),f.createElement("defs",null,f.createElement("linearGradient",{id:"paint0_linear",x1:20.309,y1:0,x2:20.309,y2:50.0002,gradientUnits:"userSpaceOnUse"},f.createElement("stop",{stopColor:"#7B7F98"}),f.createElement("stop",{offset:1,stopColor:"#5A5E73"})))),Rle=f.forwardRef(kle),Ple=f.memo(Rle),Lle=({actor:t,onActorNameClick:e})=>{const{classes:n}=ku(),{fullName:o="",email:r="",userId:i=0,avatar:s=""}=t;return L(Se.Fragment,{children:[u(ps,{size:"extraLarge",isActive:!1,color:Ia(r,i),letter:Mh({email:r}),avatar:s}),L(x1,{disableInteractive:!0,children:[o&&u(re,{onClick:e,children:u(Z,{variant:"body1",color:"main",children:o})}),r&&u(Ea,{title:r,placement:"top",tooltipClassName:n.emailTooltip,PopperProps:{modifiers:[{name:"offset",options:{offset:[0,-8]}}]},children:u(re,{onClick:e,children:u(Z,{ellipsis:!0,color:o?"secondary":"primary",variant:o?"body2":"body1",children:r})})})]})]})},Mle=()=>{const{classes:t}=ku();return L(Se.Fragment,{children:[u(re,{className:t.entityIcon,flexShrink:0,children:u(Ple,{width:16,height:16})}),u(x1,{disableInteractive:!0,children:u(Z,{variant:"body1",color:"secondary",children:"No account"})})]})},Ole=({actorId:t,viewMode:e,onClick:n})=>{const o=V(ys),r=V(a=>FU(a,t??o)),s=!V(sc)&&r;return u(re,{flexBasis:Ko.User[e].width,minWidth:Ko.User[e].minWidth,overflow:"hidden",children:u(re,{direction:"row",padding:"5px",gap:"10px",borderRadius:"10px",alignItems:"center",children:s?u(Lle,{actor:r,onActorNameClick:n}):u(Mle,{})})})},Dle=t=>oM(new Date(t),"MMM dd, yyyy"),Fle=f.memo(gee),iD=f.memo(({index:t,style:e,flattenedLogs:n,classes:o,viewMode:r,handleLogOpen:i})=>{var a,l;if(t===n.length)return u(Ee,{style:e,height:_v});const s=n[t];if(s.type==="promo")return u(re,{style:e,children:u(Fle,{})});if(s.type==="date")return u(re,{style:e,pl:"10px",justifyContent:"center",children:u(Z,{variant:"body1",ellipsis:!0,color:"main",children:Dle(s.date)})});if(s.type==="log"){const{log:c}=s,d=n[t+1],p=n[t-1],h=p&&p.type==="date",m=!d||d.type==="date",g=h&&m,C=ce(o.listItem,h&&o.firstInGroup,m&&o.lastInGroup,g&&o.singleInGroup),v=()=>i(c);return L(re,{style:e,direction:"row",alignItems:"center",alignSelf:"stretch",justifyContent:"space-between",padding:"5px",className:C,onClick:v,"data-type":"log",component:"li",children:[u(Ole,{actorId:c.actorId,viewMode:r,onClick:v}),u(fle,{status:c.errorMsg?"failed":"connected",viewMode:r}),u(cle,{host:c.host,label:c.label,protocol:c.protocol,viewMode:r}),u(Ele,{connectedAt:c.connected_at,disconnectedAt:c.disconnectedAt,viewMode:r}),u(sle,{name:(a=c.deviceInfo)==null?void 0:a.name,type:(l=c.deviceInfo)==null?void 0:l.mobile_type,viewMode:r}),u(dle,{location:c.location,ipAddress:c.ipAddress,viewMode:r})]})}return null});iD.displayName="LogsListRow";function Nle(t,e){var n,o;so(1,arguments);var r=Jt(t);if(isNaN(r.getTime()))throw new RangeError("Invalid time value");var i=String((n=e==null?void 0:e.format)!==null&&n!==void 0?n:"extended"),s=String((o=e==null?void 0:e.representation)!==null&&o!==void 0?o:"complete");if(i!=="extended"&&i!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(s!=="date"&&s!=="time"&&s!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var a="",l="",c=i==="extended"?"-":"",d=i==="extended"?":":"";if(s!=="time"){var p=Ms(r.getDate(),2),h=Ms(r.getMonth()+1,2),m=Ms(r.getFullYear(),4);a="".concat(m).concat(c).concat(h).concat(c).concat(p)}if(s!=="date"){var g=r.getTimezoneOffset();if(g!==0){var C=Math.abs(g),v=Ms(Math.floor(C/60),2),S=Ms(C%60,2),y=g<0?"+":"-";l="".concat(y).concat(v,":").concat(S)}else l="Z";var b=Ms(r.getHours(),2),w=Ms(r.getMinutes(),2),x=Ms(r.getSeconds(),2),_=a===""?"":"T",I=[b,w,x].join(d);a="".concat(a).concat(_).concat(I).concat(l)}return a}const Hle=["can download","can open"],Ble=t=>Nle(new Date(t),{representation:"date"}),zle={type:"promo"},Vle=()=>{const t=V(NU),e=V(s=>s.history.sessionLogsFilesStatus),n=vee(),o=f.useMemo(()=>{switch(n){case"default":case"no_account_over_size_limit":case"free_plan_over_size_limit":return!0;default:return!1}},[n]),r=f.useMemo(()=>!(t!=null&&t.length)||!e?[]:t.filter(s=>s.local_id&&(e==null?void 0:e[s.local_id])&&Hle.includes(e[s.local_id])),[t,e]);return{flattenedLogs:f.useMemo(()=>{if(!r.length)return[];const s=new Map;r.forEach(c=>{const d=Ble(c.connected_at);s.has(d)||s.set(d,[]);const p=s.get(d);p&&p.push(c)});const a=Array.from(s.keys()).sort((c,d)=>new Date(d).getTime()-new Date(c).getTime()),l=[];a.length>0&&o&&l.push(zle);for(const c of a){l.push({type:"date",date:c});const d=s.get(c);if(d)for(const p of d)l.push({type:"log",log:p})}return l},[r,o])}},Wle=({onOpenSessionLog:t})=>{const e=de(),[n,o]=f.useState(0),{classes:r}=ku(),{flattenedLogs:i}=Vle(),a=Cy("(max-width: 900px)")?"compact":"normal",l=f.useRef(null),c=f.useRef(null),d=V(ka),p=V(ac),h=f.useCallback(()=>{if(c.current){const S=c.current.clientHeight-$ae-_v;o(S||1)}},[]);f.useLayoutEffect(()=>{const S=requestAnimationFrame(h),y=Ci(h,Vae);return window.addEventListener("resize",y),()=>{cancelAnimationFrame(S),y.cancel(),window.removeEventListener("resize",y)}},[h]),f.useEffect(()=>{h()},[i.length,d,h]),Oh(()=>{e(HU.request()),e(he("logsScreenOpened"))});const m=f.useMemo(()=>Ci(S=>{t(S),e(he("sessionLogOpened",{sessionLogSource:"Logs Screen"}))},zae,{leading:!0,trailing:!1}),[t,e]),g=f.useCallback(S=>{if(S===i.length)return _v;const y=i[S];return y.type==="promo"?Uae:y.type==="date"?jae:Wae},[i]),C=f.useCallback(S=>{if(S===i.length)return"spacer";const y=i[S];return y.type==="log"?`log-${y.log.id??y.log.local_id}`:y.type==="date"?`date-${y.date}`:y.type==="promo"?"promo":S},[i]),v=f.useCallback(({index:S,style:y})=>u(iD,{index:S,style:y,flattenedLogs:i,classes:r,viewMode:a,handleLogOpen:m}),[i,r,a,m]);return f.useEffect(()=>{l.current&&l.current.resetAfterIndex(0,!0)},[i]),p?u(Ic,{}):i.length===0?u(wae,{}):u(re,{ref:c,bgcolor:"var(--entity-grid-background)",height:"100%",padding:"10px 10px 0 10px",children:L(re,{pt:"45px",height:"100%",children:[u(qae,{viewMode:a}),u(re,{children:u(Dh,{ref:l,height:n,width:"100%",itemCount:i.length+1,itemSize:g,itemKey:C,overscanCount:10,initialScrollOffset:0,useIsScrolling:!1,children:v})})]})})};var Yg={exports:{}},sD={},aD={},lD=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),o=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var r=42;e[n]=r;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,n);if(s.value!==r||s.enumerable!==!0)return!1}return!0},jle=lD,Xg=function(){return jle()&&!!Symbol.toStringTag},Ule=Error,$le=EvalError,qle=RangeError,Gle=ReferenceError,cD=SyntaxError,Jg=TypeError,Kle=URIError,i_=typeof Symbol<"u"&&Symbol,Zle=lD,Qle=function(){return typeof i_!="function"||typeof Symbol!="function"||typeof i_("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Zle()},s_={foo:{}},Yle=Object,Xle=function(){return{__proto__:s_}.foo===s_.foo&&!({__proto__:null}instanceof Yle)},Jle="Function.prototype.bind called on incompatible ",ece=Object.prototype.toString,tce=Math.max,nce="[object Function]",a_=function(e,n){for(var o=[],r=0;r<e.length;r+=1)o[r]=e[r];for(var i=0;i<n.length;i+=1)o[i+e.length]=n[i];return o},oce=function(e,n){for(var o=[],r=n||0,i=0;r<e.length;r+=1,i+=1)o[i]=e[r];return o},rce=function(t,e){for(var n="",o=0;o<t.length;o+=1)n+=t[o],o+1<t.length&&(n+=e);return n},ice=function(e){var n=this;if(typeof n!="function"||ece.apply(n)!==nce)throw new TypeError(Jle+n);for(var o=oce(arguments,1),r,i=function(){if(this instanceof r){var d=n.apply(this,a_(o,arguments));return Object(d)===d?d:this}return n.apply(e,a_(o,arguments))},s=tce(0,n.length-o.length),a=[],l=0;l<s;l++)a[l]="$"+l;if(r=Function("binder","return function ("+rce(a,",")+"){ return binder.apply(this,arguments); }")(i),n.prototype){var c=function(){};c.prototype=n.prototype,r.prototype=new c,c.prototype=null}return r},sce=ice,$y=Function.prototype.bind||sce,ace=Function.prototype.call,lce=Object.prototype.hasOwnProperty,cce=$y,dce=cce.call(ace,lce),st,uce=Ule,pce=$le,hce=qle,fce=Gle,Vd=cD,yd=Jg,mce=Kle,dD=Function,E5=function(t){try{return dD('"use strict"; return ('+t+").constructor;")()}catch{}},wl=Object.getOwnPropertyDescriptor;if(wl)try{wl({},"")}catch{wl=null}var k5=function(){throw new yd},gce=wl?function(){try{return arguments.callee,k5}catch{try{return wl(arguments,"callee").get}catch{return k5}}}():k5,Fc=Qle(),vce=Xle(),bn=Object.getPrototypeOf||(vce?function(t){return t.__proto__}:null),Xc={},Cce=typeof Uint8Array>"u"||!bn?st:bn(Uint8Array),_l={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?st:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?st:ArrayBuffer,"%ArrayIteratorPrototype%":Fc&&bn?bn([][Symbol.iterator]()):st,"%AsyncFromSyncIteratorPrototype%":st,"%AsyncFunction%":Xc,"%AsyncGenerator%":Xc,"%AsyncGeneratorFunction%":Xc,"%AsyncIteratorPrototype%":Xc,"%Atomics%":typeof Atomics>"u"?st:Atomics,"%BigInt%":typeof BigInt>"u"?st:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?st:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?st:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?st:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":uce,"%eval%":eval,"%EvalError%":pce,"%Float32Array%":typeof Float32Array>"u"?st:Float32Array,"%Float64Array%":typeof Float64Array>"u"?st:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?st:FinalizationRegistry,"%Function%":dD,"%GeneratorFunction%":Xc,"%Int8Array%":typeof Int8Array>"u"?st:Int8Array,"%Int16Array%":typeof Int16Array>"u"?st:Int16Array,"%Int32Array%":typeof Int32Array>"u"?st:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Fc&&bn?bn(bn([][Symbol.iterator]())):st,"%JSON%":typeof JSON=="object"?JSON:st,"%Map%":typeof Map>"u"?st:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Fc||!bn?st:bn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?st:Promise,"%Proxy%":typeof Proxy>"u"?st:Proxy,"%RangeError%":hce,"%ReferenceError%":fce,"%Reflect%":typeof Reflect>"u"?st:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?st:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Fc||!bn?st:bn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?st:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Fc&&bn?bn(""[Symbol.iterator]()):st,"%Symbol%":Fc?Symbol:st,"%SyntaxError%":Vd,"%ThrowTypeError%":gce,"%TypedArray%":Cce,"%TypeError%":yd,"%Uint8Array%":typeof Uint8Array>"u"?st:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?st:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?st:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?st:Uint32Array,"%URIError%":mce,"%WeakMap%":typeof WeakMap>"u"?st:WeakMap,"%WeakRef%":typeof WeakRef>"u"?st:WeakRef,"%WeakSet%":typeof WeakSet>"u"?st:WeakSet};if(bn)try{null.error}catch(t){var yce=bn(bn(t));_l["%Error.prototype%"]=yce}var Sce=function t(e){var n;if(e==="%AsyncFunction%")n=E5("async function () {}");else if(e==="%GeneratorFunction%")n=E5("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=E5("async function* () {}");else if(e==="%AsyncGenerator%"){var o=t("%AsyncGeneratorFunction%");o&&(n=o.prototype)}else if(e==="%AsyncIteratorPrototype%"){var r=t("%AsyncGenerator%");r&&bn&&(n=bn(r.prototype))}return _l[e]=n,n},l_={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},A1=$y,Km=dce,bce=A1.call(Function.call,Array.prototype.concat),wce=A1.call(Function.apply,Array.prototype.splice),c_=A1.call(Function.call,String.prototype.replace),Zm=A1.call(Function.call,String.prototype.slice),_ce=A1.call(Function.call,RegExp.prototype.exec),xce=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ace=/\\(\\)?/g,Tce=function(e){var n=Zm(e,0,1),o=Zm(e,-1);if(n==="%"&&o!=="%")throw new Vd("invalid intrinsic syntax, expected closing `%`");if(o==="%"&&n!=="%")throw new Vd("invalid intrinsic syntax, expected opening `%`");var r=[];return c_(e,xce,function(i,s,a,l){r[r.length]=a?c_(l,Ace,"$1"):s||i}),r},Ice=function(e,n){var o=e,r;if(Km(l_,o)&&(r=l_[o],o="%"+r[0]+"%"),Km(_l,o)){var i=_l[o];if(i===Xc&&(i=Sce(o)),typeof i>"u"&&!n)throw new yd("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:o,value:i}}throw new Vd("intrinsic "+e+" does not exist!")},T1=function(e,n){if(typeof e!="string"||e.length===0)throw new yd("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new yd('"allowMissing" argument must be a boolean');if(_ce(/^%?[^%]*%?$/,e)===null)throw new Vd("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var o=Tce(e),r=o.length>0?o[0]:"",i=Ice("%"+r+"%",n),s=i.name,a=i.value,l=!1,c=i.alias;c&&(r=c[0],wce(o,bce([0,1],c)));for(var d=1,p=!0;d<o.length;d+=1){var h=o[d],m=Zm(h,0,1),g=Zm(h,-1);if((m==='"'||m==="'"||m==="`"||g==='"'||g==="'"||g==="`")&&m!==g)throw new Vd("property names with quotes must have matching quotes");if((h==="constructor"||!p)&&(l=!0),r+="."+h,s="%"+r+"%",Km(_l,s))a=_l[s];else if(a!=null){if(!(h in a)){if(!n)throw new yd("base intrinsic for "+e+" exists, but the property is not available.");return}if(wl&&d+1>=o.length){var C=wl(a,h);p=!!C,p&&"get"in C&&!("originalValue"in C.get)?a=C.get:a=a[h]}else p=Km(a,h),a=a[h];p&&!l&&(_l[s]=a)}}return a},uD={exports:{}},R5,d_;function qy(){if(d_)return R5;d_=1;var t=T1,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return R5=e,R5}var Ece=T1,om=Ece("%Object.getOwnPropertyDescriptor%",!0);if(om)try{om([],"length")}catch{om=null}var e3=om,u_=qy(),kce=cD,Nc=Jg,p_=e3,Rce=function(e,n,o){if(!e||typeof e!="object"&&typeof e!="function")throw new Nc("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new Nc("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Nc("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Nc("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Nc("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Nc("`loose`, if provided, must be a boolean");var r=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,l=!!p_&&p_(e,n);if(u_)u_(e,n,{configurable:s===null&&l?l.configurable:!s,enumerable:r===null&&l?l.enumerable:!r,value:o,writable:i===null&&l?l.writable:!i});else if(a||!r&&!i&&!s)e[n]=o;else throw new kce("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},xv=qy(),pD=function(){return!!xv};pD.hasArrayLengthDefineBug=function(){if(!xv)return null;try{return xv([],"length",{value:1}).length!==1}catch{return!0}};var Pce=pD,Lce=T1,h_=Rce,Mce=Pce(),f_=e3,m_=Jg,Oce=Lce("%Math.floor%"),Dce=function(e,n){if(typeof e!="function")throw new m_("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||Oce(n)!==n)throw new m_("`length` must be a positive 32-bit integer");var o=arguments.length>2&&!!arguments[2],r=!0,i=!0;if("length"in e&&f_){var s=f_(e,"length");s&&!s.configurable&&(r=!1),s&&!s.writable&&(i=!1)}return(r||i||!o)&&(Mce?h_(e,"length",n,!0,!0):h_(e,"length",n)),e};(function(t){var e=$y,n=T1,o=Dce,r=Jg,i=n("%Function.prototype.apply%"),s=n("%Function.prototype.call%"),a=n("%Reflect.apply%",!0)||e.call(s,i),l=qy(),c=n("%Math.max%");t.exports=function(h){if(typeof h!="function")throw new r("a function is required");var m=a(e,s,arguments);return o(m,1+c(0,h.length-(arguments.length-1)),!0)};var d=function(){return a(e,i,arguments)};l?l(t.exports,"apply",{value:d}):t.exports.apply=d})(uD);var Fce=uD.exports,hD=T1,fD=Fce,Nce=fD(hD("String.prototype.indexOf")),Gy=function(e,n){var o=hD(e,!!n);return typeof o=="function"&&Nce(e,".prototype.")>-1?fD(o):o},Hce=Xg(),Bce=Gy,Av=Bce("Object.prototype.toString"),t3=function(e){return Hce&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:Av(e)==="[object Arguments]"},mD=function(e){return t3(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Av(e)!=="[object Array]"&&Av(e.callee)==="[object Function]"},zce=function(){return t3(arguments)}();t3.isLegacyArguments=mD;var Vce=zce?t3:mD,Wce=Object.prototype.toString,jce=Function.prototype.toString,Uce=/^\s*(?:function)?\*/,gD=Xg(),P5=Object.getPrototypeOf,$ce=function(){if(!gD)return!1;try{return Function("return function*() {}")()}catch{}},L5,qce=function(e){if(typeof e!="function")return!1;if(Uce.test(jce.call(e)))return!0;if(!gD){var n=Wce.call(e);return n==="[object GeneratorFunction]"}if(!P5)return!1;if(typeof L5>"u"){var o=$ce();L5=o?P5(o):!1}return P5(e)===L5},vD=Function.prototype.toString,id=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Tv,rm;if(typeof id=="function"&&typeof Object.defineProperty=="function")try{Tv=Object.defineProperty({},"length",{get:function(){throw rm}}),rm={},id(function(){throw 42},null,Tv)}catch(t){t!==rm&&(id=null)}else id=null;var Gce=/^\s*class\b/,Iv=function(e){try{var n=vD.call(e);return Gce.test(n)}catch{return!1}},M5=function(e){try{return Iv(e)?!1:(vD.call(e),!0)}catch{return!1}},im=Object.prototype.toString,Kce="[object Object]",Zce="[object Function]",Qce="[object GeneratorFunction]",Yce="[object HTMLAllCollection]",Xce="[object HTML document.all class]",Jce="[object HTMLCollection]",ede=typeof Symbol=="function"&&!!Symbol.toStringTag,tde=!(0 in[,]),Ev=function(){return!1};if(typeof document=="object"){var nde=document.all;im.call(nde)===im.call(document.all)&&(Ev=function(e){if((tde||!e)&&(typeof e>"u"||typeof e=="object"))try{var n=im.call(e);return(n===Yce||n===Xce||n===Jce||n===Kce)&&e("")==null}catch{}return!1})}var ode=id?function(e){if(Ev(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{id(e,null,Tv)}catch(n){if(n!==rm)return!1}return!Iv(e)&&M5(e)}:function(e){if(Ev(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(ede)return M5(e);if(Iv(e))return!1;var n=im.call(e);return n!==Zce&&n!==Qce&&!/^\[object HTML/.test(n)?!1:M5(e)},rde=ode,ide=Object.prototype.toString,CD=Object.prototype.hasOwnProperty,sde=function(e,n,o){for(var r=0,i=e.length;r<i;r++)CD.call(e,r)&&(o==null?n(e[r],r,e):n.call(o,e[r],r,e))},ade=function(e,n,o){for(var r=0,i=e.length;r<i;r++)o==null?n(e.charAt(r),r,e):n.call(o,e.charAt(r),r,e)},lde=function(e,n,o){for(var r in e)CD.call(e,r)&&(o==null?n(e[r],r,e):n.call(o,e[r],r,e))},cde=function(e,n,o){if(!rde(n))throw new TypeError("iterator must be a function");var r;arguments.length>=3&&(r=o),ide.call(e)==="[object Array]"?sde(e,n,r):typeof e=="string"?ade(e,n,r):lde(e,n,r)},yD=cde,O5=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],dde=typeof globalThis>"u"?us:globalThis,SD=function(){for(var e=[],n=0;n<O5.length;n++)typeof dde[O5[n]]=="function"&&(e[e.length]=O5[n]);return e},bD=yD,ude=SD,Ky=Gy,pde=Ky("Object.prototype.toString"),wD=Xg(),sm=e3,hde=typeof globalThis>"u"?us:globalThis,_D=ude(),fde=Ky("Array.prototype.indexOf",!0)||function(e,n){for(var o=0;o<e.length;o+=1)if(e[o]===n)return o;return-1},mde=Ky("String.prototype.slice"),xD={},D5=Object.getPrototypeOf;wD&&sm&&D5&&bD(_D,function(t){var e=new hde[t];if(Symbol.toStringTag in e){var n=D5(e),o=sm(n,Symbol.toStringTag);if(!o){var r=D5(n);o=sm(r,Symbol.toStringTag)}xD[t]=o.get}});var gde=function(e){var n=!1;return bD(xD,function(o,r){if(!n)try{n=o.call(e)===r}catch{}}),n},AD=function(e){if(!e||typeof e!="object")return!1;if(!wD||!(Symbol.toStringTag in e)){var n=mde(pde(e),8,-1);return fde(_D,n)>-1}return sm?gde(e):!1},TD=yD,vde=SD,ID=Gy,F5=e3,Cde=ID("Object.prototype.toString"),ED=Xg(),g_=typeof globalThis>"u"?us:globalThis,yde=vde(),Sde=ID("String.prototype.slice"),kD={},N5=Object.getPrototypeOf;ED&&F5&&N5&&TD(yde,function(t){if(typeof g_[t]=="function"){var e=new g_[t];if(Symbol.toStringTag in e){var n=N5(e),o=F5(n,Symbol.toStringTag);if(!o){var r=N5(n);o=F5(r,Symbol.toStringTag)}kD[t]=o.get}}});var bde=function(e){var n=!1;return TD(kD,function(o,r){if(!n)try{var i=o.call(e);i===r&&(n=i)}catch{}}),n},wde=AD,_de=function(e){return wde(e)?!ED||!(Symbol.toStringTag in e)?Sde(Cde(e),8,-1):bde(e):!1};(function(t){var e=Vce,n=qce,o=_de,r=AD;function i(ae){return ae.call.bind(ae)}var s=typeof BigInt<"u",a=typeof Symbol<"u",l=i(Object.prototype.toString),c=i(Number.prototype.valueOf),d=i(String.prototype.valueOf),p=i(Boolean.prototype.valueOf);if(s)var h=i(BigInt.prototype.valueOf);if(a)var m=i(Symbol.prototype.valueOf);function g(ae,ze){if(typeof ae!="object")return!1;try{return ze(ae),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=n,t.isTypedArray=r;function C(ae){return typeof Promise<"u"&&ae instanceof Promise||ae!==null&&typeof ae=="object"&&typeof ae.then=="function"&&typeof ae.catch=="function"}t.isPromise=C;function v(ae){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(ae):r(ae)||$(ae)}t.isArrayBufferView=v;function S(ae){return o(ae)==="Uint8Array"}t.isUint8Array=S;function y(ae){return o(ae)==="Uint8ClampedArray"}t.isUint8ClampedArray=y;function b(ae){return o(ae)==="Uint16Array"}t.isUint16Array=b;function w(ae){return o(ae)==="Uint32Array"}t.isUint32Array=w;function x(ae){return o(ae)==="Int8Array"}t.isInt8Array=x;function _(ae){return o(ae)==="Int16Array"}t.isInt16Array=_;function I(ae){return o(ae)==="Int32Array"}t.isInt32Array=I;function T(ae){return o(ae)==="Float32Array"}t.isFloat32Array=T;function A(ae){return o(ae)==="Float64Array"}t.isFloat64Array=A;function k(ae){return o(ae)==="BigInt64Array"}t.isBigInt64Array=k;function R(ae){return o(ae)==="BigUint64Array"}t.isBigUint64Array=R;function M(ae){return l(ae)==="[object Map]"}M.working=typeof Map<"u"&&M(new Map);function D(ae){return typeof Map>"u"?!1:M.working?M(ae):ae instanceof Map}t.isMap=D;function F(ae){return l(ae)==="[object Set]"}F.working=typeof Set<"u"&&F(new Set);function z(ae){return typeof Set>"u"?!1:F.working?F(ae):ae instanceof Set}t.isSet=z;function j(ae){return l(ae)==="[object WeakMap]"}j.working=typeof WeakMap<"u"&&j(new WeakMap);function H(ae){return typeof WeakMap>"u"?!1:j.working?j(ae):ae instanceof WeakMap}t.isWeakMap=H;function O(ae){return l(ae)==="[object WeakSet]"}O.working=typeof WeakSet<"u"&&O(new WeakSet);function U(ae){return O(ae)}t.isWeakSet=U;function N(ae){return l(ae)==="[object ArrayBuffer]"}N.working=typeof ArrayBuffer<"u"&&N(new ArrayBuffer);function W(ae){return typeof ArrayBuffer>"u"?!1:N.working?N(ae):ae instanceof ArrayBuffer}t.isArrayBuffer=W;function B(ae){return l(ae)==="[object DataView]"}B.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&B(new DataView(new ArrayBuffer(1),0,1));function $(ae){return typeof DataView>"u"?!1:B.working?B(ae):ae instanceof DataView}t.isDataView=$;var q=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function X(ae){return l(ae)==="[object SharedArrayBuffer]"}function ee(ae){return typeof q>"u"?!1:(typeof X.working>"u"&&(X.working=X(new q)),X.working?X(ae):ae instanceof q)}t.isSharedArrayBuffer=ee;function ue(ae){return l(ae)==="[object AsyncFunction]"}t.isAsyncFunction=ue;function se(ae){return l(ae)==="[object Map Iterator]"}t.isMapIterator=se;function ie(ae){return l(ae)==="[object Set Iterator]"}t.isSetIterator=ie;function J(ae){return l(ae)==="[object Generator]"}t.isGeneratorObject=J;function le(ae){return l(ae)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=le;function ve(ae){return g(ae,c)}t.isNumberObject=ve;function Me(ae){return g(ae,d)}t.isStringObject=Me;function we(ae){return g(ae,p)}t.isBooleanObject=we;function be(ae){return s&&g(ae,h)}t.isBigIntObject=be;function Ne(ae){return a&&g(ae,m)}t.isSymbolObject=Ne;function $e(ae){return ve(ae)||Me(ae)||we(ae)||be(ae)||Ne(ae)}t.isBoxedPrimitive=$e;function at(ae){return typeof Uint8Array<"u"&&(W(ae)||ee(ae))}t.isAnyArrayBuffer=at,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(ae){Object.defineProperty(t,ae,{enumerable:!1,value:function(){throw new Error(ae+" is not supported in userland")}})})})(aD);var xde=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"},kv={exports:{}};typeof Object.create=="function"?kv.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:kv.exports=function(e,n){if(n){e.super_=n;var o=function(){};o.prototype=n.prototype,e.prototype=new o,e.prototype.constructor=e}};var Ade=kv.exports;(function(t){var e=Object.getOwnPropertyDescriptors||function($){for(var q=Object.keys($),X={},ee=0;ee<q.length;ee++)X[q[ee]]=Object.getOwnPropertyDescriptor($,q[ee]);return X},n=/%[sdj%]/g;t.format=function(B){if(!x(B)){for(var $=[],q=0;q<arguments.length;q++)$.push(s(arguments[q]));return $.join(" ")}for(var q=1,X=arguments,ee=X.length,ue=String(B).replace(n,function(ie){if(ie==="%%")return"%";if(q>=ee)return ie;switch(ie){case"%s":return String(X[q++]);case"%d":return Number(X[q++]);case"%j":try{return JSON.stringify(X[q++])}catch{return"[Circular]"}default:return ie}}),se=X[q];q<ee;se=X[++q])y(se)||!A(se)?ue+=" "+se:ue+=" "+s(se);return ue},t.deprecate=function(B,$){if(typeof process<"u"&&process.noDeprecation===!0)return B;if(typeof process>"u")return function(){return t.deprecate(B,$).apply(this,arguments)};var q=!1;function X(){if(!q){if(process.throwDeprecation)throw new Error($);process.traceDeprecation?console.trace($):console.error($),q=!0}return B.apply(this,arguments)}return X};var o={},r=/^$/;if(process.env.NODE_DEBUG){var i=process.env.NODE_DEBUG;i=i.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),r=new RegExp("^"+i+"$","i")}t.debuglog=function(B){if(B=B.toUpperCase(),!o[B])if(r.test(B)){var $=process.pid;o[B]=function(){var q=t.format.apply(t,arguments);console.error("%s %d: %s",B,$,q)}}else o[B]=function(){};return o[B]};function s(B,$){var q={seen:[],stylize:l};return arguments.length>=3&&(q.depth=arguments[2]),arguments.length>=4&&(q.colors=arguments[3]),S($)?q.showHidden=$:$&&t._extend(q,$),I(q.showHidden)&&(q.showHidden=!1),I(q.depth)&&(q.depth=2),I(q.colors)&&(q.colors=!1),I(q.customInspect)&&(q.customInspect=!0),q.colors&&(q.stylize=a),d(q,B,q.depth)}t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(B,$){var q=s.styles[$];return q?"\x1B["+s.colors[q][0]+"m"+B+"\x1B["+s.colors[q][1]+"m":B}function l(B,$){return B}function c(B){var $={};return B.forEach(function(q,X){$[q]=!0}),$}function d(B,$,q){if(B.customInspect&&$&&M($.inspect)&&$.inspect!==t.inspect&&!($.constructor&&$.constructor.prototype===$)){var X=$.inspect(q,B);return x(X)||(X=d(B,X,q)),X}var ee=p(B,$);if(ee)return ee;var ue=Object.keys($),se=c(ue);if(B.showHidden&&(ue=Object.getOwnPropertyNames($)),R($)&&(ue.indexOf("message")>=0||ue.indexOf("description")>=0))return h($);if(ue.length===0){if(M($)){var ie=$.name?": "+$.name:"";return B.stylize("[Function"+ie+"]","special")}if(T($))return B.stylize(RegExp.prototype.toString.call($),"regexp");if(k($))return B.stylize(Date.prototype.toString.call($),"date");if(R($))return h($)}var J="",le=!1,ve=["{","}"];if(v($)&&(le=!0,ve=["[","]"]),M($)){var Me=$.name?": "+$.name:"";J=" [Function"+Me+"]"}if(T($)&&(J=" "+RegExp.prototype.toString.call($)),k($)&&(J=" "+Date.prototype.toUTCString.call($)),R($)&&(J=" "+h($)),ue.length===0&&(!le||$.length==0))return ve[0]+J+ve[1];if(q<0)return T($)?B.stylize(RegExp.prototype.toString.call($),"regexp"):B.stylize("[Object]","special");B.seen.push($);var we;return le?we=m(B,$,q,se,ue):we=ue.map(function(be){return g(B,$,q,se,be,le)}),B.seen.pop(),C(we,J,ve)}function p(B,$){if(I($))return B.stylize("undefined","undefined");if(x($)){var q="'"+JSON.stringify($).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return B.stylize(q,"string")}if(w($))return B.stylize(""+$,"number");if(S($))return B.stylize(""+$,"boolean");if(y($))return B.stylize("null","null")}function h(B){return"["+Error.prototype.toString.call(B)+"]"}function m(B,$,q,X,ee){for(var ue=[],se=0,ie=$.length;se<ie;++se)O($,String(se))?ue.push(g(B,$,q,X,String(se),!0)):ue.push("");return ee.forEach(function(J){J.match(/^\d+$/)||ue.push(g(B,$,q,X,J,!0))}),ue}function g(B,$,q,X,ee,ue){var se,ie,J;if(J=Object.getOwnPropertyDescriptor($,ee)||{value:$[ee]},J.get?J.set?ie=B.stylize("[Getter/Setter]","special"):ie=B.stylize("[Getter]","special"):J.set&&(ie=B.stylize("[Setter]","special")),O(X,ee)||(se="["+ee+"]"),ie||(B.seen.indexOf(J.value)<0?(y(q)?ie=d(B,J.value,null):ie=d(B,J.value,q-1),ie.indexOf(`
`)>-1&&(ue?ie=ie.split(`
`).map(function(le){return"  "+le}).join(`
`).slice(2):ie=`
`+ie.split(`
`).map(function(le){return"   "+le}).join(`
`))):ie=B.stylize("[Circular]","special")),I(se)){if(ue&&ee.match(/^\d+$/))return ie;se=JSON.stringify(""+ee),se.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(se=se.slice(1,-1),se=B.stylize(se,"name")):(se=se.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),se=B.stylize(se,"string"))}return se+": "+ie}function C(B,$,q){var X=B.reduce(function(ee,ue){return ue.indexOf(`
`)>=0,ee+ue.replace(/\u001b\[\d\d?m/g,"").length+1},0);return X>60?q[0]+($===""?"":$+`
 `)+" "+B.join(`,
  `)+" "+q[1]:q[0]+$+" "+B.join(", ")+" "+q[1]}t.types=aD;function v(B){return Array.isArray(B)}t.isArray=v;function S(B){return typeof B=="boolean"}t.isBoolean=S;function y(B){return B===null}t.isNull=y;function b(B){return B==null}t.isNullOrUndefined=b;function w(B){return typeof B=="number"}t.isNumber=w;function x(B){return typeof B=="string"}t.isString=x;function _(B){return typeof B=="symbol"}t.isSymbol=_;function I(B){return B===void 0}t.isUndefined=I;function T(B){return A(B)&&F(B)==="[object RegExp]"}t.isRegExp=T,t.types.isRegExp=T;function A(B){return typeof B=="object"&&B!==null}t.isObject=A;function k(B){return A(B)&&F(B)==="[object Date]"}t.isDate=k,t.types.isDate=k;function R(B){return A(B)&&(F(B)==="[object Error]"||B instanceof Error)}t.isError=R,t.types.isNativeError=R;function M(B){return typeof B=="function"}t.isFunction=M;function D(B){return B===null||typeof B=="boolean"||typeof B=="number"||typeof B=="string"||typeof B=="symbol"||typeof B>"u"}t.isPrimitive=D,t.isBuffer=xde;function F(B){return Object.prototype.toString.call(B)}function z(B){return B<10?"0"+B.toString(10):B.toString(10)}var j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function H(){var B=new Date,$=[z(B.getHours()),z(B.getMinutes()),z(B.getSeconds())].join(":");return[B.getDate(),j[B.getMonth()],$].join(" ")}t.log=function(){console.log("%s - %s",H(),t.format.apply(t,arguments))},t.inherits=Ade,t._extend=function(B,$){if(!$||!A($))return B;for(var q=Object.keys($),X=q.length;X--;)B[q[X]]=$[q[X]];return B};function O(B,$){return Object.prototype.hasOwnProperty.call(B,$)}var U=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function($){if(typeof $!="function")throw new TypeError('The "original" argument must be of type Function');if(U&&$[U]){var q=$[U];if(typeof q!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(q,U,{value:q,enumerable:!1,writable:!1,configurable:!0}),q}function q(){for(var X,ee,ue=new Promise(function(J,le){X=J,ee=le}),se=[],ie=0;ie<arguments.length;ie++)se.push(arguments[ie]);se.push(function(J,le){J?ee(J):X(le)});try{$.apply(this,se)}catch(J){ee(J)}return ue}return Object.setPrototypeOf(q,Object.getPrototypeOf($)),U&&Object.defineProperty(q,U,{value:q,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(q,e($))},t.promisify.custom=U;function N(B,$){if(!B){var q=new Error("Promise was rejected with a falsy value");q.reason=B,B=q}return $(B)}function W(B){if(typeof B!="function")throw new TypeError('The "original" argument must be of type Function');function $(){for(var q=[],X=0;X<arguments.length;X++)q.push(arguments[X]);var ee=q.pop();if(typeof ee!="function")throw new TypeError("The last argument must be of type Function");var ue=this,se=function(){return ee.apply(ue,arguments)};B.apply(this,q).then(function(ie){process.nextTick(se.bind(null,null,ie))},function(ie){process.nextTick(N.bind(null,ie,se))})}return Object.setPrototypeOf($,Object.getPrototypeOf(B)),Object.defineProperties($,e(B)),$}t.callbackify=W})(sD);var Tde=sD.inspect;function RD(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+Tde(t))}function PD(t){if(RD(t),t.length===0)return".";for(var e=t.charCodeAt(0),n=e===47,o=-1,r=!0,i=t.length-1;i>=1;--i)if(e=t.charCodeAt(i),e===47){if(!r){o=i;break}}else r=!1;return o===-1?n?"/":".":n&&o===1?"//":t.slice(0,o)}function LD(t){RD(t);var e=t.length;if(e===0)return".";var n=-1,o=-1,r=!0,i=0,s=t.charCodeAt(0);if(e>1)if(s===47||s===92){if(n=i=1,s=t.charCodeAt(1),s===47||s===92){for(var a=2,l=a;a<e&&(s=t.charCodeAt(a),!(s===47||s===92));++a);if(a<e&&a!==l){for(l=a;a<e&&(s=t.charCodeAt(a),!(s!==47&&s!==92));++a);if(a<e&&a!==l){for(l=a;a<e&&(s=t.charCodeAt(a),!(s===47||s===92));++a);if(a===e)return t;a!==l&&(n=i=a+1)}}}}else(s>=65&&s<=90||s>=97&&s<=122)&&(s=t.charCodeAt(1),t.charCodeAt(1)===58&&(n=i=2,e>2&&(s=t.charCodeAt(2),(s===47||s===92)&&(n=i=3))));else if(s===47||s===92)return t[0];for(var c=e-1;c>=i;--c)if(s=t.charCodeAt(c),s===47||s===92){if(!r){o=c;break}}else r=!1;if(o===-1){if(n===-1)return".";o=n}return t.slice(0,o)}Yg.exports=process.platform==="win32"?LD:PD;Yg.exports.posix=PD;Yg.exports.win32=LD;var Ide=Yg.exports;const Ede=wt(Ide);async function Fp(t){const e=[];for(const n of t){const o=await n();o&&e.push(o)}return e}class kde{constructor(){E(this,"connections");this.connections=new Map}addConnection(e){this.connections.set(e,{transferNumbers:0,isClosed:!1})}_closeConnection(e){e.close(),this.connections.delete(e)}closeConnection(e){const n=this.connections.get(e);n&&(n.isClosed=!0,n.transferNumbers||this._closeConnection(e))}startTransfer(e,n){const o=r=>{const i=this.connections.get(r);i&&(i.transferNumbers+=1)};o(e),o(n)}finishTransfer(e,n){const o=r=>{const i=this.connections.get(r);i&&(i.transferNumbers-=1,!i.transferNumbers&&i.isClosed&&this._closeConnection(r))};o(e),o(n)}}const MD=t=>t.replace(/\\/g,"/"),Sd=(...t)=>MD(Br(...t)),OD=({isDirectory:t,isSymbolicLink:e})=>({mode:0,uid:0,gid:0,size:0,atime:0,mtime:0,isDirectory:()=>t,isSymbolicLink:()=>e}),Rde=Wg(yee),v_=t=>Rde("ls",["-a","-l",t]),Pde=async(t,e)=>{if(pu)return{};try{const n=await v_(t),o=Lde(n),r=e.filter(a=>!o.hasOwnProperty(a)),i=await Promise.all(r.map(async a=>[a,await v_(Br(t,a)).catch(()=>null)])),s=Object.fromEntries(i.filter(([,a])=>a!=null));return Object.assign(o,s)}catch{}return{}},Lde=t=>Object.fromEntries(t.split(`
`).filter(Boolean).map(e=>Mde(e)||Dde(e)||null).filter(Boolean)),Mde=t=>{const e=t.lastIndexOf(":");return e!==-1?[t.slice(e+4),t]:null},Ode=/(\S+\s+){7}\S+ (.+)/,Dde=t=>{const e=t.match(Ode);return e!=null?[e[2],e[0]]:null};class Rv{constructor(){E(this,"fs");E(this,"end",()=>{});E(this,"realpath",(...e)=>this.fs.realpath(...e));E(this,"readdir",async e=>{const n=await this.fs.readdir(e),o=await Pde(e,n)||{};return Promise.all(n.map(async r=>{const i=Sd(e,r),s=await this.getAttrs(i),a=o[r]||"";return hv({attrs:s,filename:r,longname:a})}))});E(this,"getItemSFTP",async(e,n)=>{const o=await this.getAttrs(e);return hv({attrs:o,filename:n,longname:""})});E(this,"readdirTransfer",async e=>{const n=await this.fs.readdir(e);return Promise.all(n.map(async o=>{const r=Sd(e,o),i=await this.getAttrs(r);return HM({attrs:i,filename:o})}))});E(this,"symlink",(e,n)=>this.fs.symlink(n,e));E(this,"readlink",(...e)=>this.fs.readlink(...e));E(this,"rmdir",(...e)=>this.fs.rmdir(...e));E(this,"rename",(...e)=>this.fs.rename(...e));E(this,"unlink",(...e)=>this.fs.unlink(...e));E(this,"mkdir",(...e)=>this.fs.mkdir(...e));E(this,"chmod",(...e)=>this.fs.chmod(...e));E(this,"createReadStream",(...e)=>this.fs.createReadStream(...e,{highWaterMark:6e4}));E(this,"createWriteStream",(...e)=>this.fs.createWriteStream(...e));this.fs=Wg(Rd)}async getAttrs(e){try{const n=await this.fs.lstat(e);return Fde(n)}catch{return OD({isDirectory:!1,isSymbolicLink:!1})}}}const Fde=t=>{const e=t.isDirectory(),n=t.isSymbolicLink();return{mode:t.mode,uid:t.uid,gid:t.gid,size:t.size,atime:t.atime.getTime()/1e3,mtime:t.mtime.getTime()/1e3,isDirectory:()=>e,isSymbolicLink:()=>n}},DD=({filename:t,extension:e,isDirectory:n,isSymbolicLink:o})=>({filename:t,extension:e,isDirectory:n,isLink:o,isHidden:!1,isSelectable:!1,ownership:{user:"",group:""},permissions:"",attrs:OD({isDirectory:n,isSymbolicLink:o}),title:null});class wi{constructor(e){E(this,"path");this.path=Sd(e)}join(e){let n=Sd(e);return n!=="/"&&n.endsWith("/")&&(n=n.slice(0,-1)),this.isAbsolute(n)?n:Sd(this.path,n)}isAbsolute(e){return e.startsWith("/")||e[1]===":"}isRoot(){return this.path==="/"||this.path==="./"}}const Nde=(t,e,n)=>new Promise((o,r)=>{Bne(t,e,i=>{i?r(i):o(!0)}),t.on("data",i=>{n.transferred(i.length)})}),C_=65535,am=10,Hde=1e3/am;function y_(t){return(+Date.now()-t)/Hde&65535}var Bde=function(t){const e=+Date.now(),n=am*(t||5),o=[0];let r=1,i=y_(e)-1&C_;return function(s){const a=y_(e);let l=a-i&C_;for(l>n&&(l=n),i=a;l--;)r===n&&(r=0),o[r]=o[r===0?n-1:r-1],r++;s&&(o[r-1]+=s);const c=o[r-1],d=o.length<n?0:o[r===n?0:r];return o.length<am?c:(c-d)*am/o.length}};const zde=wt(Bde),Vde=1e3;class Wde extends Fy{constructor(n){super();E(this,"length");E(this,"transferredLength");E(this,"transferSpeed");E(this,"throughput");E(this,"_throttleEmit",Pl(()=>{const n=Math.round((this.length-this.transferredLength)/this.transferSpeed*1e3),o=Math.round(this.transferredLength/this.length*100);this.emit("progress",{percentage:o,transferred:this.transferredLength,remaining:n,length:this.length,speed:this.transferSpeed})},Vde));this.length=n,this.transferredLength=0,this.transferSpeed=0,this.throughput=zde()}transferred(n){this.transferredLength+=n,this.transferSpeed=this.throughput(n),this._throttleEmit()}setTransferredLength(n){this.transferredLength=n}}class jde extends Fy{constructor(n){super();E(this,"source");E(this,"destination");E(this,"destinationPath");E(this,"sourcePath");E(this,"data");E(this,"transferredLength");E(this,"filesCount");E(this,"filesTransferred");E(this,"item");E(this,"currentItemName");E(this,"progress");E(this,"readStream");E(this,"writeStream");E(this,"toTransfer");E(this,"toRemove");E(this,"deferredFiles");E(this,"isSkipAllFilesWithError");E(this,"_emitStartFileTransferEvent",()=>{});this.source=n.source,this.sourcePath=n.sourcePath,this.destination=n.destination,this.destinationPath=n.destinationPath,this.filesTransferred=0,this.data=this.prepareData(n.data),this.filesCount=this.data.files.length,this.transferredLength=0,this.item=this.getTransferStreamDataItem(n.data[0]),this.currentItemName="",this.deferredFiles=[],this.toTransfer=this.prepareDataToStart(this.data),this.toRemove=this.prepareToRemove(n.data),this.isSkipAllFilesWithError=!1,this.progress=new Wde(this.data.length),this.progress.on("progress",o=>{this._emitStartFileTransferEvent(),this.emit("progress",{...o,filesTransferred:this.filesTransferred})})}async fileTransferer(n,o){try{const r=this.sourcePath?new wi(this.sourcePath).join(n.path):this.source.path.join(n.path),i=this.destinationPath?new wi(this.destinationPath).join(o):this.destination.path.join(o),s=this.destination.sessionId;this.item=n,this.currentItemName=i;const a=this.source.client.createReadStream(r);this.readStream=a;const l=this.destination.client.createWriteStream(i,{mode:n.origin.attrs.mode});this.writeStream=l,this._emitStartFileTransferEvent=m8(()=>this.emit("startTransferFile",i,s)),await Nde(a,l,this.progress),this.filesTransferred+=1,this.transferredLength+=n.origin.attrs.size}catch(r){this.isSkipAllFilesWithError?this.filesTransferred+=1:this.deferredFiles.push({source:n,destination:o,error:`${r} while transferring "${this.currentItemName}".`})}}async createDirectories(n){const o=async r=>{try{const i=this.destination.path.join(r.path),s=this.destination.sessionId;this.item=r,this.currentItemName=i,await this.destination.client.mkdir(i),this.emit("dirCreated",i,s)}catch(i){if(!this.isSkipAllFilesWithError&&i!=="Failure"&&i.code!=="EEXIST")throw i}this.toTransfer.dirs.shift()};await Fp(n.map(r=>()=>o(r)))}async transferFiles(n){await Fp(n.map(o=>()=>this.fileTransferer(o.source,o.destination))),this.toTransfer.files=[]}async createLinks(n){const o=async r=>{try{const i=this.destination.path.join(r.path),s=this.destination.sessionId;this.item=r,this.currentItemName=i,await this.destination.client.symlink(i,r.targetPath),this.emit("linkCreated",i,s)}catch(i){if(!this.isSkipAllFilesWithError&&i!=="Failure")throw i}this.toTransfer.links.shift()};await Promise.all(n.map(r=>o(r)))}getTransferStreamDataItem(n){return n.data.dirs[0]||n.data.files[0]||n.data.links[0]}prepareToRemove(n){return n.filter(o=>o.behavior==="replace").map(this.getTransferStreamDataItem)}prepareData(n){return n.reduce((o,r)=>{const{dirs:i,files:s,links:a,length:l}=this.prepareDataNamespace(r);return{dirs:[...o.dirs,...i],files:[...o.files,...s],links:[...o.links,...a],length:o.length+l}},{dirs:[],files:[],links:[],length:0})}prepareDataToStart(n){return JSON.parse(JSON.stringify(n))}prepareDataNamespace(n){const o=this.getTransferStreamDataItem(n).origin.filename;let{dirs:r,files:i,links:s}=n.data;const{newName:a}=n;return a&&(r=n.data.dirs.map(l=>({...l,path:l.path.replace(o,a)})),i=n.data.files.map(l=>({...l,path:l.path.replace(o,a)})),s=n.data.links.map(l=>({...l,path:l.path.replace(o,a)}))),{dirs:r,files:i.map((l,c)=>({source:n.data.files[c],destination:l.path})),links:s,length:n.data.length}}skipAllFilesWithError(){this.isSkipAllFilesWithError=!0}skipItem(n){const o=this.toTransfer.dirs.filter(d=>!d.path.startsWith(n)),r=this.toTransfer.files.filter(d=>!d.source.path.startsWith(n)),i=this.toTransfer.links.filter(d=>!d.path.startsWith(n)),{length:s}=this.toTransfer,a=this.toTransfer.files.concat(this.deferredFiles).filter(d=>d.source.path.startsWith(n)),l=a.length,c=a.reduce((d,p)=>d+p.source.origin.attrs.size,0);this.emit("skip",l,c),this.toTransfer={dirs:o,files:r,links:i,length:s},this.toRemove=this.toRemove.filter(d=>!d.path.startsWith(n)),this.deferredFiles=this.deferredFiles.filter(d=>!d.source.path.startsWith(n))}async remove(){const n=async o=>{try{this.item=o,this.currentItemName=this.destination.path.join(o.origin.filename),await this.destination.delete(o.origin),this.toRemove.shift()}catch(r){if(this.isSkipAllFilesWithError)this.toRemove.shift();else throw r}};await Fp(this.toRemove.map(o=>()=>n(o))),this.toTransfer.files=this.toTransfer.files.concat(this.deferredFiles),this.deferredFiles=[]}async resolveError(n){this.isSkipAllFilesWithError?(n.forEach(o=>this.skipItem(o.source.path)),await this.start()):this.emit("error",n)}async start(){try{await this.remove(),this.progress.setTransferredLength(this.transferredLength);const{dirs:n,files:o,links:r}=this.prepareDataToStart(this.toTransfer);await this.createDirectories(n),await this.createLinks(r),await this.transferFiles(o),this.deferredFiles.length?this.resolveError(this.deferredFiles):this.emit("end")}catch(n){const{path:o,origin:r}=this.item;this.resolveError([{source:{path:o,origin:r},destination:"",error:`${n} while transferring "${this.currentItemName}".`}])}}async close(){let n=this.currentItemName;const o=this.destination.sessionId;if(this.readStream&&this.readStream.close(),this.writeStream){this.writeStream.end(),n=this.writeStream.path;try{await this.destination.client.unlink(n)}catch{}}this.emit("close",n,o)}}class Qm extends Error{constructor(){super(...arguments);E(this,"name","SftpReadLinkError")}}class zo extends Error{constructor(){super(...arguments);E(this,"name","SftpSessionError")}}class FD extends Po{constructor(){super(...arguments);E(this,"name","SftpUserError")}}let Zy=class Pv{constructor(e){E(this,"path");E(this,"client");E(this,"sessionId");this.path=e.path,this.client=e.client,this.sessionId=e.sessionId}clone(){return new Pv(this)}static connect({connection:e,fsProvider:n}){const o=Ie.v4(),r=new pt({...e,protocol:"ssh"});return new Promise((i,s)=>{e.signal.addEventListener("abort",()=>s(new ak)),n.fs(r,{onReady:async a=>{try{const l=await a.realpath("."),c=new wi(l||"/");i(new Pv({path:c,client:a,sessionId:o}))}catch(l){l instanceof FD?s(l):s(new zo(l))}},onFinished(){}})})}async changeDirectory(e){const n=this.path.join(e),o=await this.readDir(n);return this.path=new wi(n),o}async getDirectoryData(e){const n=[{origin:e,path:e.filename}],o={dirs:[],files:[],links:[],length:0};for(;;){const r=n.pop();if(r==null)return o;if(r.origin.isDirectory)o.dirs.push(r),(await this.readDirTransfer(r.path)).forEach(s=>{n.push({origin:s,path:Sd(r.path,s.filename)})});else if(r.origin.isLink){const{targetPath:i}=await this.readLink(r.path);o.links.push({...r,targetPath:i})}else o.files.push(r),o.length+=r.origin.attrs.size}}async createTransferStream({destination:e,destinationPath:n,sourcePath:o,data:r}){const i=await Fp(r.map(s=>async()=>({data:await this.getDirectoryData(s.item),behavior:s.behavior,newName:s.newName})));return new jde({source:this.clone(),sourcePath:o,destination:e.clone(),destinationPath:n,data:i})}async readDir(e=""){try{return await this.client.readdir(this.path.join(e))}catch(n){throw n.message==="No such file"?new Qm(n):new zo(n)}}async readDirTransfer(e=""){try{return await this.client.readdirTransfer(this.path.join(e))}catch(n){throw n.message==="No such file"?new Qm(n):new zo(n)}}async readLink(e=""){let n=null;try{n=await this.client.readlink(this.path.join(e)),n=MD(n)}catch(o){throw new zo(o)}return{path:e,targetPath:n}}async rename(e,n){const o=this.path.join(e.filename),r=this.path.join(n);try{await this.client.rename(o,r)}catch(i){throw new zo(i)}}async newFolder(e){const n=this.path.join(e);try{await this.client.mkdir(n)}catch(o){throw new zo(o)}}async editPermissions(e,n){const o=this.path.join(e.filename);try{await this.client.chmod(o,n.mode)}catch(r){throw new zo(r)}}async deleteDirectory(e){const n=await this.getDirectoryData(e),o=async i=>{for(const s of SM(i,16))await Promise.all(s.map(a=>this.deleteFile(a.path)))},r=async i=>{for(const s of i.reverse())try{await this.client.rmdir(this.path.join(s.path))}catch(a){throw new zo(a)}};await o(n.files),await o(n.links),await r(n.dirs)}async deleteFile(e){try{await this.client.unlink(this.path.join(e))}catch(n){throw new zo(n)}}async delete(e){e.isDirectory?await this.deleteDirectory(e):await this.deleteFile(e.filename)}currentPath(){return this.path.path}fullPath(e){return this.path.join(e)}isAtRoot(){return this.path.isRoot()}close(){this.client&&this.client.end()}async getLogicalDiskList(){return[]}};const Ude=Wg(See),$de=async()=>{try{return(await Ude("wmic logicaldisk get caption")).replace(/ /g,"").split(`
`).slice(1,-2).map(e=>e.slice(0,2))}catch{return[]}};class Wd extends Zy{constructor(n,o=!1){super({path:n,client:new Rv,sessionId:"local-session"});E(this,"isLogicalDiskList");this.isLogicalDiskList=o}clone(){return new Wd(this.path,this.isLogicalDiskList)}static async connect(){const n=new Rv;return new Wd(new wi(await n.realpath(qde())))}async getLogicalDiskList(){return(await $de()).map(o=>DD({filename:o,extension:"folder",isDirectory:!0,isSymbolicLink:!1}))}async isPathToLogicalDiskList(n,o){try{const r=await this.client.realpath(this.path.join(""));return n===".."&&o===r}catch{return!1}}async changeDirectory(n){try{let o=await this.client.realpath(`${this.path.join(`${n}/`)}/`);this.isLogicalDiskList=await this.isPathToLogicalDiskList(n,o),this.isLogicalDiskList&&(o="/");const r=await this.readDir(o);return this.path=new wi(o),r}catch(o){throw new zo(o)}}async readDir(n=""){let o=null;if(this.isLogicalDiskList)return o=await this.getLogicalDiskList(),o;try{const r=`${this.path.join(n)}/`;o=await this.client.readdir(r)}catch(r){throw r.code==="ENOTDIR"?new Qm(r):new zo(r)}return o}async readDirTransfer(n=""){let o=null;if(this.isLogicalDiskList)return o=await this.getLogicalDiskList(),o;try{const r=`${this.path.join(n)}/`;o=await this.client.readdirTransfer(r)}catch(r){throw r.code==="ENOTDIR"?new Qm(r):new zo(r)}return o}getHost(){throw new Error("not implemented")}address(){return"localhost"}}function qde(){return process.env.HOME?process.env.HOME:"/"}const Gde=oc("chokidar"),Kde=oc("tmp");class Qy extends Zy{constructor(n){super({client:new Rv,path:n??new wi(S_()),sessionId:"temp-loader"});E(this,"isTemp",!0)}clone(){return new Qy(this.path)}createTempFolderForFile(){const{name:n}=Kde.dirSync();return n}async connect(){this.path=new wi(await this.client.realpath(S_()))}async getItem(n,o){const r=Br(n,o);return this.client.getItemSFTP(r,o)}getHost(){throw new Error("not implemented")}address(){return"localhost"}}function S_(){const t=g8.getPath("userData")||"",e=Br(t,"temp");try{Rd.existsSync(e)||Rd.mkdirSync(e)}catch{return t}return e}const Zde={ignoreInitial:!0,disableGlobbing:!0,followSymlinks:!1,depth:0};class Yy{constructor(e,n,o){E(this,"watcher");E(this,"handleFileChange",(e,n)=>{(n==null?void 0:n.mtimeMs)!==this.originalStat.mtimeMs&&this.eventHandler()});this.absolutePath=e,this.originalStat=n,this.eventHandler=o,this.watcher=Gde.watch(e,Zde),this.watcher.on("change",this.handleFileChange)}static async create(e,n,o){const r=Br(e,n),i=await lk.stat(r);return new Yy(r,i,o)}pause(){this.watcher.unwatch(this.absolutePath)}resume(){this.watcher.add(this.absolutePath)}close(){this.watcher.close()}}class ND extends Error{constructor(){super(...arguments);E(this,"name","SftpTransferError")}}class Qde{constructor(e,n,o,r=!1){E(this,"transferDialogInterface");E(this,"destination");E(this,"items");E(this,"answer");E(this,"itemFilenames");E(this,"destinationFilenames");E(this,"destinationDuplicatedFilenames");E(this,"remainingDuplicatedItemsCounter");E(this,"skipCheck");this.destination=e,this.items=n,this.transferDialogInterface=o,this.answer={behavior:"merge",forAll:!1},this.itemFilenames=this.items.map(i=>i.filename.toLowerCase()),this.destinationFilenames=[],this.destinationDuplicatedFilenames=[],this.remainingDuplicatedItemsCounter=0,this.skipCheck=r}async load(){if(!this.destination)throw new ND("No destination");this.destinationFilenames=(await this.destination.readDir()).map(e=>e.filename.toLowerCase()),this.destinationDuplicatedFilenames=this.destinationFilenames.filter(e=>this.itemFilenames.includes(e)),this.remainingDuplicatedItemsCounter=this.destinationDuplicatedFilenames.length}generateNewNameIteration(e){let n="",o=e;return e[0]==="."&&(n=".",o=e.slice(1)),`${n}Copy of ${o}`}generateNewName(e){let n=this.generateNewNameIteration(e);for(;this.destinationFilenames.includes(n.toLowerCase());)n=this.generateNewNameIteration(n);return n}prepareResult(e,n="merge"){const o={behavior:n};return n==="duplicate"&&(o.newName=this.generateNewName(e.filename),this.updateDestinationFilenames(o.newName.toLowerCase())),o}updateDestinationFilenames(e){this.destinationFilenames.push(e),this.itemFilenames.includes(e)&&(this.destinationDuplicatedFilenames.push(e),this.remainingDuplicatedItemsCounter+=1)}async checkTransfer(e){return!this.skipCheck&&this.destinationDuplicatedFilenames.includes(e.filename.toLowerCase())?this.answer.forAll?this.prepareResult(e,this.answer.behavior):(this.answer=await this.transferDialogInterface.requestTransfer({text:e.filename,isSingle:this.remainingDuplicatedItemsCounter===1,isDirectory:e.isDirectory}),this.remainingDuplicatedItemsCounter-=1,this.prepareResult(e,this.answer.behavior)):this.prepareResult(e)}}var Lv={exports:{}},zl={},Mv={exports:{}},$r={},Ov={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",o="contents",r=/input|select|textarea|button|object|iframe/;function i(p,h){return h.getPropertyValue("overflow")!=="visible"||p.scrollWidth<=0&&p.scrollHeight<=0}function s(p){var h=p.offsetWidth<=0&&p.offsetHeight<=0;if(h&&!p.innerHTML)return!0;try{var m=window.getComputedStyle(p),g=m.getPropertyValue("display");return h?g!==o&&i(p,m):g===n}catch{return console.warn("Failed to inspect element style"),!1}}function a(p){for(var h=p,m=p.getRootNode&&p.getRootNode();h&&h!==document.body;){if(m&&h===m&&(h=m.host.parentNode),s(h))return!1;h=h.parentNode}return!0}function l(p,h){var m=p.nodeName.toLowerCase(),g=r.test(m)&&!p.disabled||m==="a"&&p.href||h;return g&&a(p)}function c(p){var h=p.getAttribute("tabindex");h===null&&(h=void 0);var m=isNaN(h);return(m||h>=0)&&l(p,!m)}function d(p){var h=[].slice.call(p.querySelectorAll("*"),0).reduce(function(m,g){return m.concat(g.shadowRoot?d(g.shadowRoot):[g])},[]);return h.filter(c)}t.exports=e.default})(Ov,Ov.exports);var HD=Ov.exports;Object.defineProperty($r,"__esModule",{value:!0});$r.resetState=eue;$r.log=tue;$r.handleBlur=uh;$r.handleFocus=ph;$r.markForFocusLater=nue;$r.returnFocus=oue;$r.popWithoutFocus=rue;$r.setupScopedFocus=iue;$r.teardownScopedFocus=sue;var Yde=HD,Xde=Jde(Yde);function Jde(t){return t&&t.__esModule?t:{default:t}}var jd=[],sd=null,Dv=!1;function eue(){jd=[]}function tue(){}function uh(){Dv=!0}function ph(){if(Dv){if(Dv=!1,!sd)return;setTimeout(function(){if(!sd.contains(document.activeElement)){var t=(0,Xde.default)(sd)[0]||sd;t.focus()}},0)}}function nue(){jd.push(document.activeElement)}function oue(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{jd.length!==0&&(e=jd.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function rue(){jd.length>0&&jd.pop()}function iue(t){sd=t,window.addEventListener?(window.addEventListener("blur",uh,!1),document.addEventListener("focus",ph,!0)):(window.attachEvent("onBlur",uh),document.attachEvent("onFocus",ph))}function sue(){sd=null,window.addEventListener?(window.removeEventListener("blur",uh),document.removeEventListener("focus",ph)):(window.detachEvent("onBlur",uh),document.detachEvent("onFocus",ph))}var Fv={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=HD,o=r(n);function r(a){return a&&a.__esModule?a:{default:a}}function i(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?i(a.activeElement.shadowRoot):a.activeElement}function s(a,l){var c=(0,o.default)(a);if(!c.length){l.preventDefault();return}var d=void 0,p=l.shiftKey,h=c[0],m=c[c.length-1],g=i();if(a===g){if(!p)return;d=m}if(m===g&&!p&&(d=h),h===g&&p&&(d=m),d){l.preventDefault(),d.focus();return}var C=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),v=C!=null&&C[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(v){var S=c.indexOf(g);if(S>-1&&(S+=p?-1:1),d=c[S],typeof d>"u"){l.preventDefault(),d=p?m:h,d.focus();return}l.preventDefault(),d.focus()}}t.exports=e.default})(Fv,Fv.exports);var aue=Fv.exports,qr={},lue=function(){},cue=lue,Nr={},BD={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()})(BD);var due=BD.exports;Object.defineProperty(Nr,"__esModule",{value:!0});Nr.canUseDOM=Nr.SafeNodeList=Nr.SafeHTMLCollection=void 0;var uue=due,pue=hue(uue);function hue(t){return t&&t.__esModule?t:{default:t}}var n3=pue.default,fue=n3.canUseDOM?window.HTMLElement:{};Nr.SafeHTMLCollection=n3.canUseDOM?window.HTMLCollection:{};Nr.SafeNodeList=n3.canUseDOM?window.NodeList:{};Nr.canUseDOM=n3.canUseDOM;Nr.default=fue;Object.defineProperty(qr,"__esModule",{value:!0});qr.resetState=yue;qr.log=Sue;qr.assertNodeList=zD;qr.setElement=bue;qr.validateElement=Xy;qr.hide=wue;qr.show=_ue;qr.documentNotReadyOrSSRTesting=xue;var mue=cue,gue=Cue(mue),vue=Nr;function Cue(t){return t&&t.__esModule?t:{default:t}}var lr=null;function yue(){lr&&(lr.removeAttribute?lr.removeAttribute("aria-hidden"):lr.length!=null?lr.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(lr).forEach(function(t){return t.removeAttribute("aria-hidden")})),lr=null}function Sue(){}function zD(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function bue(t){var e=t;if(typeof e=="string"&&vue.canUseDOM){var n=document.querySelectorAll(e);zD(n,e),e=n}return lr=e||lr,lr}function Xy(t){var e=t||lr;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,gue.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function wue(t){var e=!0,n=!1,o=void 0;try{for(var r=Xy(t)[Symbol.iterator](),i;!(e=(i=r.next()).done);e=!0){var s=i.value;s.setAttribute("aria-hidden","true")}}catch(a){n=!0,o=a}finally{try{!e&&r.return&&r.return()}finally{if(n)throw o}}}function _ue(t){var e=!0,n=!1,o=void 0;try{for(var r=Xy(t)[Symbol.iterator](),i;!(e=(i=r.next()).done);e=!0){var s=i.value;s.removeAttribute("aria-hidden")}}catch(a){n=!0,o=a}finally{try{!e&&r.return&&r.return()}finally{if(n)throw o}}}function xue(){lr=null}var Mu={};Object.defineProperty(Mu,"__esModule",{value:!0});Mu.resetState=Aue;Mu.log=Tue;var Np={},Hp={};function b_(t,e){t.classList.remove(e)}function Aue(){var t=document.getElementsByTagName("html")[0];for(var e in Np)b_(t,Np[e]);var n=document.body;for(var o in Hp)b_(n,Hp[o]);Np={},Hp={}}function Tue(){}var Iue=function(e,n){return e[n]||(e[n]=0),e[n]+=1,n},Eue=function(e,n){return e[n]&&(e[n]-=1),n},kue=function(e,n,o){o.forEach(function(r){Iue(n,r),e.add(r)})},Rue=function(e,n,o){o.forEach(function(r){Eue(n,r),n[r]===0&&e.remove(r)})};Mu.add=function(e,n){return kue(e.classList,e.nodeName.toLowerCase()=="html"?Np:Hp,n.split(" "))};Mu.remove=function(e,n){return Rue(e.classList,e.nodeName.toLowerCase()=="html"?Np:Hp,n.split(" "))};var Ou={};Object.defineProperty(Ou,"__esModule",{value:!0});Ou.log=Lue;Ou.resetState=Mue;function Pue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var VD=function t(){var e=this;Pue(this,t),this.register=function(n){e.openInstances.indexOf(n)===-1&&(e.openInstances.push(n),e.emit("register"))},this.deregister=function(n){var o=e.openInstances.indexOf(n);o!==-1&&(e.openInstances.splice(o,1),e.emit("deregister"))},this.subscribe=function(n){e.subscribers.push(n)},this.emit=function(n){e.subscribers.forEach(function(o){return o(n,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},Ym=new VD;function Lue(){console.log("portalOpenInstances ----------"),console.log(Ym.openInstances.length),Ym.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function Mue(){Ym=new VD}Ou.default=Ym;var Jy={};Object.defineProperty(Jy,"__esModule",{value:!0});Jy.resetState=Nue;Jy.log=Hue;var Oue=Ou,Due=Fue(Oue);function Fue(t){return t&&t.__esModule?t:{default:t}}var Wn=void 0,Ar=void 0,xl=[];function Nue(){for(var t=[Wn,Ar],e=0;e<t.length;e++){var n=t[e];n&&n.parentNode&&n.parentNode.removeChild(n)}Wn=Ar=null,xl=[]}function Hue(){console.log("bodyTrap ----------"),console.log(xl.length);for(var t=[Wn,Ar],e=0;e<t.length;e++){var n=t[e],o=n||{};console.log(o.nodeName,o.className,o.id)}console.log("edn bodyTrap ----------")}function w_(){xl.length!==0&&xl[xl.length-1].focusContent()}function Bue(t,e){!Wn&&!Ar&&(Wn=document.createElement("div"),Wn.setAttribute("data-react-modal-body-trap",""),Wn.style.position="absolute",Wn.style.opacity="0",Wn.setAttribute("tabindex","0"),Wn.addEventListener("focus",w_),Ar=Wn.cloneNode(),Ar.addEventListener("focus",w_)),xl=e,xl.length>0?(document.body.firstChild!==Wn&&document.body.insertBefore(Wn,document.body.firstChild),document.body.lastChild!==Ar&&document.body.appendChild(Ar)):(Wn.parentElement&&Wn.parentElement.removeChild(Wn),Ar.parentElement&&Ar.parentElement.removeChild(Ar))}Due.default.subscribe(Bue);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(F){for(var z=1;z<arguments.length;z++){var j=arguments[z];for(var H in j)Object.prototype.hasOwnProperty.call(j,H)&&(F[H]=j[H])}return F},o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},r=function(){function F(z,j){for(var H=0;H<j.length;H++){var O=j[H];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(z,O.key,O)}}return function(z,j,H){return j&&F(z.prototype,j),H&&F(z,H),z}}(),i=f,s=ao,a=x(s),l=$r,c=w(l),d=aue,p=x(d),h=qr,m=w(h),g=Mu,C=w(g),v=Nr,S=x(v),y=Ou,b=x(y);function w(F){if(F&&F.__esModule)return F;var z={};if(F!=null)for(var j in F)Object.prototype.hasOwnProperty.call(F,j)&&(z[j]=F[j]);return z.default=F,z}function x(F){return F&&F.__esModule?F:{default:F}}function _(F,z){if(!(F instanceof z))throw new TypeError("Cannot call a class as a function")}function I(F,z){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:F}function T(F,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);F.prototype=Object.create(z&&z.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(F,z):F.__proto__=z)}var A={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},k=function(z){return z.code==="Tab"||z.keyCode===9},R=function(z){return z.code==="Escape"||z.keyCode===27},M=0,D=function(F){T(z,F);function z(j){_(this,z);var H=I(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,j));return H.setOverlayRef=function(O){H.overlay=O,H.props.overlayRef&&H.props.overlayRef(O)},H.setContentRef=function(O){H.content=O,H.props.contentRef&&H.props.contentRef(O)},H.afterClose=function(){var O=H.props,U=O.appElement,N=O.ariaHideApp,W=O.htmlOpenClassName,B=O.bodyOpenClassName,$=O.parentSelector,q=$&&$().ownerDocument||document;B&&C.remove(q.body,B),W&&C.remove(q.getElementsByTagName("html")[0],W),N&&M>0&&(M-=1,M===0&&m.show(U)),H.props.shouldFocusAfterRender&&(H.props.shouldReturnFocusAfterClose?(c.returnFocus(H.props.preventScroll),c.teardownScopedFocus()):c.popWithoutFocus()),H.props.onAfterClose&&H.props.onAfterClose(),b.default.deregister(H)},H.open=function(){H.beforeOpen(),H.state.afterOpen&&H.state.beforeClose?(clearTimeout(H.closeTimer),H.setState({beforeClose:!1})):(H.props.shouldFocusAfterRender&&(c.setupScopedFocus(H.node),c.markForFocusLater()),H.setState({isOpen:!0},function(){H.openAnimationFrame=requestAnimationFrame(function(){H.setState({afterOpen:!0}),H.props.isOpen&&H.props.onAfterOpen&&H.props.onAfterOpen({overlayEl:H.overlay,contentEl:H.content})})}))},H.close=function(){H.props.closeTimeoutMS>0?H.closeWithTimeout():H.closeWithoutTimeout()},H.focusContent=function(){return H.content&&!H.contentHasFocus()&&H.content.focus({preventScroll:!0})},H.closeWithTimeout=function(){var O=Date.now()+H.props.closeTimeoutMS;H.setState({beforeClose:!0,closesAt:O},function(){H.closeTimer=setTimeout(H.closeWithoutTimeout,H.state.closesAt-Date.now())})},H.closeWithoutTimeout=function(){H.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},H.afterClose)},H.handleKeyDown=function(O){k(O)&&(0,p.default)(H.content,O),H.props.shouldCloseOnEsc&&R(O)&&(O.stopPropagation(),H.requestClose(O))},H.handleOverlayOnClick=function(O){H.shouldClose===null&&(H.shouldClose=!0),H.shouldClose&&H.props.shouldCloseOnOverlayClick&&(H.ownerHandlesClose()?H.requestClose(O):H.focusContent()),H.shouldClose=null},H.handleContentOnMouseUp=function(){H.shouldClose=!1},H.handleOverlayOnMouseDown=function(O){!H.props.shouldCloseOnOverlayClick&&O.target==H.overlay&&O.preventDefault()},H.handleContentOnClick=function(){H.shouldClose=!1},H.handleContentOnMouseDown=function(){H.shouldClose=!1},H.requestClose=function(O){return H.ownerHandlesClose()&&H.props.onRequestClose(O)},H.ownerHandlesClose=function(){return H.props.onRequestClose},H.shouldBeClosed=function(){return!H.state.isOpen&&!H.state.beforeClose},H.contentHasFocus=function(){return document.activeElement===H.content||H.content.contains(document.activeElement)},H.buildClassName=function(O,U){var N=(typeof U>"u"?"undefined":o(U))==="object"?U:{base:A[O],afterOpen:A[O]+"--after-open",beforeClose:A[O]+"--before-close"},W=N.base;return H.state.afterOpen&&(W=W+" "+N.afterOpen),H.state.beforeClose&&(W=W+" "+N.beforeClose),typeof U=="string"&&U?W+" "+U:W},H.attributesFromObject=function(O,U){return Object.keys(U).reduce(function(N,W){return N[O+"-"+W]=U[W],N},{})},H.state={afterOpen:!1,beforeClose:!1},H.shouldClose=null,H.moveFromContentToOverlay=null,H}return r(z,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(H,O){this.props.isOpen&&!H.isOpen?this.open():!this.props.isOpen&&H.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!O.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var H=this.props,O=H.appElement,U=H.ariaHideApp,N=H.htmlOpenClassName,W=H.bodyOpenClassName,B=H.parentSelector,$=B&&B().ownerDocument||document;W&&C.add($.body,W),N&&C.add($.getElementsByTagName("html")[0],N),U&&(M+=1,m.hide(O)),b.default.register(this)}},{key:"render",value:function(){var H=this.props,O=H.id,U=H.className,N=H.overlayClassName,W=H.defaultStyles,B=H.children,$=U?{}:W.content,q=N?{}:W.overlay;if(this.shouldBeClosed())return null;var X={ref:this.setOverlayRef,className:this.buildClassName("overlay",N),style:n({},q,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},ee=n({id:O,ref:this.setContentRef,style:n({},$,this.props.style.content),className:this.buildClassName("content",U),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),ue=this.props.contentElement(ee,B);return this.props.overlayElement(X,ue)}}]),z}(i.Component);D.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},D.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(S.default),a.default.instanceOf(v.SafeHTMLCollection),a.default.instanceOf(v.SafeNodeList),a.default.arrayOf(a.default.instanceOf(S.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},e.default=D,t.exports=e.default})(Mv,Mv.exports);var zue=Mv.exports;function WD(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function jD(t){function e(n){var o=this.constructor.getDerivedStateFromProps(t,n);return o??null}this.setState(e.bind(this))}function UD(t,e){try{var n=this.props,o=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,o)}finally{this.props=n,this.state=o}}WD.__suppressDeprecationWarning=!0;jD.__suppressDeprecationWarning=!0;UD.__suppressDeprecationWarning=!0;function Du(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,o=null,r=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?o="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(o="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?r="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(r="UNSAFE_componentWillUpdate"),n!==null||o!==null||r!==null){var i=t.displayName||t.name,s=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+s+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(o!==null?`
  `+o:"")+(r!==null?`
  `+r:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=WD,e.componentWillReceiveProps=jD),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=UD;var a=e.componentDidUpdate;e.componentDidUpdate=function(c,d,p){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:p;a.call(this,c,d,h)}}return t}const Vue=Object.freeze(Object.defineProperty({__proto__:null,polyfill:Du},Symbol.toStringTag,{value:"Module"})),e9=Fh(Vue);Object.defineProperty(zl,"__esModule",{value:!0});zl.bodyOpenClassName=zl.portalClassName=void 0;var __=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Wue=function(){function t(e,n){for(var o=0;o<n.length;o++){var r=n[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),$D=f,Xm=I1($D),jue=Mo,Jm=I1(jue),Uue=ao,qe=I1(Uue),$ue=zue,x_=I1($ue),que=qr,Gue=Zue(que),Ys=Nr,A_=I1(Ys),Kue=e9;function Zue(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function I1(t){return t&&t.__esModule?t:{default:t}}function Que(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T_(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Yue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Xue=zl.portalClassName="ReactModalPortal",Jue=zl.bodyOpenClassName="ReactModal__Body--open",cl=Ys.canUseDOM&&Jm.default.createPortal!==void 0,I_=function(e){return document.createElement(e)},E_=function(){return cl?Jm.default.createPortal:Jm.default.unstable_renderSubtreeIntoContainer};function hf(t){return t()}var E1=function(t){Yue(e,t);function e(){var n,o,r,i;Que(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return i=(o=(r=T_(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),r),r.removePortal=function(){!cl&&Jm.default.unmountComponentAtNode(r.node);var c=hf(r.props.parentSelector);c&&c.contains(r.node)?c.removeChild(r.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},r.portalRef=function(c){r.portal=c},r.renderPortal=function(c){var d=E_(),p=d(r,Xm.default.createElement(x_.default,__({defaultStyles:e.defaultStyles},c)),r.node);r.portalRef(p)},o),T_(r,i)}return Wue(e,[{key:"componentDidMount",value:function(){if(Ys.canUseDOM){cl||(this.node=I_("div")),this.node.className=this.props.portalClassName;var o=hf(this.props.parentSelector);o.appendChild(this.node),!cl&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(o){var r=hf(o.parentSelector),i=hf(this.props.parentSelector);return{prevParent:r,nextParent:i}}},{key:"componentDidUpdate",value:function(o,r,i){if(Ys.canUseDOM){var s=this.props,a=s.isOpen,l=s.portalClassName;o.portalClassName!==l&&(this.node.className=l);var c=i.prevParent,d=i.nextParent;d!==c&&(c.removeChild(this.node),d.appendChild(this.node)),!(!o.isOpen&&!a)&&!cl&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!Ys.canUseDOM||!this.node||!this.portal)){var o=this.portal.state,r=Date.now(),i=o.isOpen&&this.props.closeTimeoutMS&&(o.closesAt||r+this.props.closeTimeoutMS);i?(o.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,i-r)):this.removePortal()}}},{key:"render",value:function(){if(!Ys.canUseDOM||!cl)return null;!this.node&&cl&&(this.node=I_("div"));var o=E_();return o(Xm.default.createElement(x_.default,__({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(o){Gue.setElement(o)}}]),e}($D.Component);E1.propTypes={isOpen:qe.default.bool.isRequired,style:qe.default.shape({content:qe.default.object,overlay:qe.default.object}),portalClassName:qe.default.string,bodyOpenClassName:qe.default.string,htmlOpenClassName:qe.default.string,className:qe.default.oneOfType([qe.default.string,qe.default.shape({base:qe.default.string.isRequired,afterOpen:qe.default.string.isRequired,beforeClose:qe.default.string.isRequired})]),overlayClassName:qe.default.oneOfType([qe.default.string,qe.default.shape({base:qe.default.string.isRequired,afterOpen:qe.default.string.isRequired,beforeClose:qe.default.string.isRequired})]),appElement:qe.default.oneOfType([qe.default.instanceOf(A_.default),qe.default.instanceOf(Ys.SafeHTMLCollection),qe.default.instanceOf(Ys.SafeNodeList),qe.default.arrayOf(qe.default.instanceOf(A_.default))]),onAfterOpen:qe.default.func,onRequestClose:qe.default.func,closeTimeoutMS:qe.default.number,ariaHideApp:qe.default.bool,shouldFocusAfterRender:qe.default.bool,shouldCloseOnOverlayClick:qe.default.bool,shouldReturnFocusAfterClose:qe.default.bool,preventScroll:qe.default.bool,parentSelector:qe.default.func,aria:qe.default.object,data:qe.default.object,role:qe.default.string,contentLabel:qe.default.string,shouldCloseOnEsc:qe.default.bool,overlayRef:qe.default.func,contentRef:qe.default.func,id:qe.default.string,overlayElement:qe.default.func,contentElement:qe.default.func};E1.defaultProps={isOpen:!1,portalClassName:Xue,bodyOpenClassName:Jue,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,n){return Xm.default.createElement("div",e,n)},contentElement:function(e,n){return Xm.default.createElement("div",e,n)}};E1.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,Kue.polyfill)(E1);zl.default=E1;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=zl,o=r(n);function r(i){return i&&i.__esModule?i:{default:i}}e.default=o.default,t.exports=e.default})(Lv,Lv.exports);var epe=Lv.exports;const qD=wt(epe),GD={position:"absolute",zIndex:1302,backgroundColor:"var(--backdrop-color)",display:"flex",justifyContent:"center",alignItems:"center"},KD={borderRadius:"5px",border:"none",backgroundColor:"var(--main-form-bg)",boxShadow:"0 6px 10px 0 rgba(0,0,0,0.2)",padding:0,position:"static",top:65,bottom:"initial",left:0,right:0,width:"calc(100% - 40px)",height:"fit-content",maxHeight:"calc(100% - 80px)"},tpe={overlay:GD,content:{...KD,maxWidth:500}},npe={overlay:GD,content:{...KD,maxWidth:700}},k_={modalPrimary:tpe,modalTransfer:npe};class ZD extends f.Component{constructor(n){super(n);E(this,"hide",()=>{this.setState({visible:!1,type:"default"})});E(this,"setContent",(n,o=!1)=>{this.setState({visible:!0,content:n,isCloseOnOverlayClick:o})});E(this,"getParent",()=>document.getElementById(this.props.parentId)||document.body||new HTMLElement);E(this,"handleOk",n=>{this.hide(),this.state.promiseInfo.resolve(n)});E(this,"handleClose",()=>{this.hide(),this.state.promiseInfo.reject(new FD)});E(this,"onRequestClose",()=>{this.state.isCloseOnOverlayClick&&this.handleClose()});E(this,"createPromise",()=>new Promise((n,o)=>{const r={resolve:n,reject:o};this.setState({promiseInfo:r})}));this.state={visible:!1,promiseInfo:{resolve:()=>{},reject:()=>{}},content:null,isCloseOnOverlayClick:!1,type:"default"}}render(){const n={default:k_.modalPrimary,transfer:k_.modalTransfer};return u("div",{children:u(qD,{ariaHideApp:!1,style:n[this.state.type],isOpen:this.state.visible,parentSelector:this.getParent,contentLabel:this.props.title,onRequestClose:this.onRequestClose,children:this.state.content})})}}E(ZD,"defaultProps",{title:""});function ope(t){const[e,n]=f.useState({checked:!1}),o=(d,p)=>{n({...e,checked:p})},r=d=>()=>{t.onOk({behavior:d,forAll:e.checked})},{text:i,isDirectory:s,onClose:a}=t,{classes:l}=rpe(),c=[{children:"Stop",onClick:a,color:"error",className:l.leftSideButton,autoFocus:!1},{children:"Skip",onClick:r("skip"),variant:"text"},{children:"Replace",onClick:r("replace"),color:"regular"},{children:"Duplicate",onClick:r("duplicate"),color:"accent"}];return s&&c.push({children:"Merge",onClick:r("merge")}),L(b8,{title:"File already exists",onClose:a,actionButtons:c,children:[L(Z,{variant:"body1",children:[`An item named "${i}" already exists in this location.`,u("br",{}),"Do you want to replace it with the one you are moving?"]}),!t.isSingle&&u(w8,{label:"Apply to All",checked:e.checked,onChange:o,className:l.forAllContainer})]})}const rpe=K()({forAllContainer:{margin:"25px 0"},leftSideButton:{marginRight:"auto"}});function ipe({itemsWithError:t,resolvedItems:e,onClick:n=()=>{},onCancel:o=()=>{}}){const[r,i]=f.useState({resolvedItems:[...e],currentItemIndex:0}),s=()=>n({resolvedItems:[...r.resolvedItems],isFinished:!1,isSkipAll:!1}),a=m=>()=>{n({resolvedItems:[...r.resolvedItems,...t.slice(r.currentItemIndex).map(g=>({...g,behavior:m}))],isFinished:!0,isSkipAll:m==="skip"})},l=m=>()=>{const g=[...r.resolvedItems,{...t[r.currentItemIndex],behavior:m}],C=r.currentItemIndex+1<t.length?r.currentItemIndex+1:r.currentItemIndex;i({...r,resolvedItems:g,currentItemIndex:C}),e.length===t.length&&n({resolvedItems:e,isFinished:!0,isSkipAll:!1})},{classes:c}=spe(),p=`${t[r.currentItemIndex].error||"Error!!!"} What do you want to do?`,h=[{children:"Cancel transfer",onClick:o,color:"error",className:c.leftSideButton},{children:"Skip all",onClick:a("skip"),variant:"text"},{children:"Skip",onClick:l("skip"),variant:"text"},{children:"Retry",onClick:a("retry"),color:"accent"}];return u(b8,{title:"Error during transfer",titleColor:"error",onClose:s,actionButtons:h,children:p})}const spe=K()({leftSideButton:{marginRight:"auto"}}),ape=Ii(bee),lpe=Ii(ope),cpe=Ii(ipe);class dpe extends ZD{constructor(){super(...arguments);E(this,"requestInfo",n=>(this.setContent(u(ape,{...n,onOk:o=>this.handleOk(o),onClose:this.handleClose})),this.createPromise()));E(this,"requestTransferError",(n,o)=>(this.setContent(u(cpe,{itemsWithError:n,resolvedItems:o,onCancel:this.handleClose,onClick:this.handleOk})),this.setState({type:"transfer"}),this.createPromise()));E(this,"requestTransfer",n=>(this.setContent(u(lpe,{...n,onClose:this.handleClose,onOk:this.handleOk})),this.setState({type:"transfer"}),this.createPromise()))}componentDidMount(){const n={requestInfo:this.requestInfo,requestTransfer:this.requestTransfer,requestTransferError:this.requestTransferError};this.props.onInitDialogsComponent(n)}}var upe=function(t){if(typeof t!="number")throw new TypeError("Expected a number");var e=t>0?Math.floor:Math.ceil;return{days:e(t/864e5),hours:e(t/36e5)%24,minutes:e(t/6e4)%60,seconds:e(t/1e3)%60,milliseconds:e(t)%1e3}};const ppe=upe,R_=(t,e)=>e===1?t:t+"s";var hpe=(t,e)=>{if(!Number.isFinite(t))throw new TypeError("Expected a finite number");if(e=e||{},t<1e3){const c=typeof e.msDecimalDigits=="number"?e.msDecimalDigits:0;return(c?t.toFixed(c):Math.ceil(t))+(e.verbose?" "+R_("millisecond",Math.ceil(t)):"ms")}const n=[],o=(c,d,p,h)=>{if(c===0)return;const m=e.verbose?" "+R_(d,c):p;n.push((h||c)+m)},r=ppe(t);if(o(Math.trunc(r.days/365),"year","y"),o(r.days%365,"day","d"),o(r.hours,"hour","h"),o(r.minutes,"minute","m"),e.compact)return o(r.seconds,"second","s"),"~"+n[0];const i=t/1e3%60,s=typeof e.secDecimalDigits=="number"?e.secDecimalDigits:1,a=i.toFixed(s),l=e.keepDecimalsOnWholeSeconds?a:a.replace(/\.0+$/,"");return o(i,"second","s",l),n.join(" ")};const fpe=wt(hpe);var H5=["Bytes","kB","MB","GB","TB","PB","EB"],mpe=function(t,e,n,o){var r,i;return o=o||1,H5.forEach(function(s,a){n&&(s=s.slice(0,1));var l=Math.pow(1024,a),c;t>=l&&(c=String((t/l).toFixed(o)),c.indexOf(".0")===c.length-2&&(c=c.slice(0,-2)),r=c+(e?"":" ")+s)}),r||(i=n?H5[0].slice(0,1):H5[0],r="0"+(e?"":" ")+i),r};const Bp=wt(mpe),gpe={percentage:0,remaining:"",speed:0,transferred:0,length:0,filesTransferred:0,filesCount:0,filesSkipped:0,filesSkippedLength:0,error:"",itemsWithError:[],resolvedItems:[]};function vpe(t,e){const{type:n}=e;switch(n){case"progress":{const{payload:o}=e;return{...t,transferred:Bp(o.transferred),length:Bp(o.length),filesTransferred:o.filesTransferred+t.filesSkipped,percentage:Math.round((o.transferred+t.filesSkippedLength)/o.length*100)}}case"remaining":{const{payload:o}=e;return{...t,remaining:`about ${fpe(o.remaining,{verbose:!0,compact:!0})} remaining`,speed:Bp(o.speed)}}case"error":{const{payload:o}=e;return{...t,error:o[0].error||"error",itemsWithError:o,resolvedItems:[]}}case"skip":{const{payload:o}=e;return{...t,filesSkipped:t.filesSkipped+o.filesSkipped,filesSkippedLength:t.filesSkippedLength+o.filesSkippedLength}}case"restart":return{...t,error:""};default:return t}}const QD=t=>{var l;const[e,n]=f.useReducer(vpe,{...gpe,itemsWithError:(t==null?void 0:t.deferredFiles)??[],error:((l=t==null?void 0:t.deferredFiles[0])==null?void 0:l.error)??"",filesCount:(t==null?void 0:t.filesCount)??0}),o=c=>{const d=Math.max(c.remaining,1e3);n({type:"remaining",payload:{remaining:d,speed:c.speed}})},r=f.useRef(Pl(o,1e3,{trailing:!1,leading:!0})),i=c=>{n({type:"progress",payload:c}),r.current(c)},s=c=>{n({type:"error",payload:c})},a=(c,d)=>{n({type:"skip",payload:{filesSkipped:c,filesSkippedLength:d}})};return f.useEffect(()=>t?(t.on("progress",i),t.on("error",s),t.on("skip",a),()=>{t.removeListener("progress",i),t.removeListener("error",s),t.removeListener("skip",a)}):()=>{},[t]),[e,n]};function as(t){const{className:e,isRegular:n,isError:o,...r}=t,i=f.useMemo(()=>o?"error":n?"regular":"accent",[o,n]);return u(Ue,{size:"small",variant:"text",color:i,...r})}const Cpe="data:image/webp;base64,UklGRgQEAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNQ2kqSBFIjDbCEVhOx91H+liJiAcTp9N4zX3zK0GdoMbYY2Q5uhzdBmaDO0GdoMbYY2l78MAFZQOCCmAwAAUBMAnQEqMAAwAD4xFIhCoiEhFx38zCADBKALKwXz6bstuAN5V9ADwM/g//cP0oM0A/nPVG8HfH9589luSIy2/K/kR7AbiPFcfy31R7/Cfl3zc3iXqG/0T/b/1r14s7j5N/f/+17FX9K/2/A3L0q/NHkupFUFqUrq9auONu9mZOPAkhfTdAjAv9b5hG91SMI+5UEA71oVb7sBPl7u2Oz19MZcAAD+SEYYQz1zc3DPz4DNOL/p6H/6c9yxv+gUcF25PgwvZrWEcj/+P/3ky+wDc3/7qvPv7HJjcfzv/fJl9Lm5vx7/rIBveTzc8C24OLQfSjdqbN6/ODk/8eUT9wbOUaaX6JcfR/ifpx15Nb5ZBKOeRzF+r1xkeD1wmAMMeYJGAwhjBn5PxaQJwsjr5ysNynP3kUv7l5GHFbPd3qStwj4kLAqRV+TRvhpHyAk202ercvJ4dz2bwRbG/47OmyH+M0/Er8yWV/NWNSjzJcR9gLWo7SE0sK/4ekMF9Q9cTlk4vsXlr6yg9qRpQhQraz2/4z+EiKtZ4sq+rCKMbWLIhM8TEH+Rlj+YFPrY7ApEhA2jepH55qE3V6T6o/iTanK3e0R+BJ+E5n60th/p9dyEad/2E0pr2kEuK5KEQrVc7F72oJX6xrDXxM8DOxnbmSeB3B8rTX4T+h3PSCLLr/FaPovrNR5neO7gwbOlenz3qkA1MkpUTYsxO57TyXO2MYGFXozgMUFlPZ/zzD+KL/LqvEvEeoWcVs9vTo9WJ/ujkg80ZcYMbBAGUXWlR1aFPdXdnb6exi+f2Tjgq9x9euNE06kHVwn/MOUMHAGrE2FtGJQLiUb/UFr8VzXlQjohOz/uI6C6JC6ztZKJAH8gX0BScI956B9jm4ja/tzEMbz9Q+j44O2vyA//n0k1ov0PzffZIVD77BNaReC9/0djPyUhNWcj+zCn41XBEl8X5DncRvmZamezuaTQJDxXIqfMMaZY3KG90mUcxYxSM34FZJc7dZ5ui9gPpbWzTGr5OcW0zzys40ikapkkrHthODeqbLJaSyM+varvTXx5Uf4jfzlWiXf8ROzZ4KXke5Xdb8Ex5oxLYIqMS4zlKFqH0TT2l/mcJ5PlLxqHOze5LPkj+cl6pOzSHMxBYdZNVRAdoEQq3/zfLjyCcNtkJeBmXWQEFcW+6qoM59iVw5jzp8enGfv+L/Ki/aXpCLgZb7uFW24B/4rDMJqcmyXM0Pwix81jf72/2k74/wAAAA==",ype="data:image/webp;base64,UklGRkIDAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNQ2kqSBFIjDbCEVhOx91H+liJiAcbr4bhivv2VoM7QZ2gxthjZDm6HN0GZoM7QZ2gxtzr8MAFZQOCDkAgAAcA8AnQEqMAAwAD4xFIhCoiEhFx38ACADBLUATpnaQmPa+P+5hMLOpv9B57raA1Eb0QP1V9MD2Nf21/Y72kLv1oy4+eVygseT30MKhX6rf8JMLWIhO0SNg/DRO6JOB+vjv2sqROwOOSBJRMabmaTmt0W61NvST43TWd4lU+5cIJU62ThAAP4VLpDdN/wa//w0fB2/L7P2OfZwOu6Ew6BCNG/OFcbFf/6HnhHVt2Hf/N959/Y5Ev+o8I6tfIn/i6fs8ZEgzS0H5SmwFlstOGzmnzrSxbon4bXg89M/8BPJ/MZ/2EoOfsrHgAs1+0gmzeDqNnYedqih864V5RVtYzWO8ZvZn9ffez5I1/oNp/7Tf+51tTygz7/U+Dm2rU2r/8EWNXCkvBxGRNwPfLM/Rkc3eQixrfD8vi6v/tBVFvwqYj0H5gojSEnqD/j/wHgOFD75ZkzKdAkhmWoVaT30TECuSnSNiujrW8+4udgUr64gvtooDzvbzf7uq0+7rFkfEPiCrhk+dApiqzWr+DLp3TGSpBEGfFjubR8KUXpiL0R/XUH3L+wtVy7IqwI2L2QycqPIJ08NWn1HUDdnePyCqwLhmnxGU4Qst+YZWq5otFZmjDehdCQ9NOxHmo6Y6q0KBkWUoAB+l18OP/tRN0QccuDf+DMJ1alBhIYocTL/Bi0ln1MO20aCzbp3jmdu8dxhbFmXgWLXYQlVOVhsXRtUkeN5UETRbMcXxb0QWxeDUthpiktKkSco/hqVVvFhEDSC7cq+GgGA5rohA/fP6rBiB5m9uD+monXJ9sjBNfmtDKizXr/W/zKq4gm6V0AK7KkNLnyJZTofMv3UwTAt0vk/ri61uSxFeWx35ZzuWc1j7Fd+7aUQ01zpn/xMBrWCgqgpHrpDulHczI5FVqP1rf67neB5Ky3Ga317HrvUBNUq45vsrT8yu5h3O4/CbOU5Ib4RSqog6H2Hwrp7QkRkQ3rXvTmJDlaAAAA=",Spe="data:image/webp;base64,UklGRuwDAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDEAAAABUNQ2krNQA+WYHbRe8z8pIiYgpqlcJq5fK+gKuoKuoCvoCrqCrqAr6Aq6gq6gy78MAFZQOCCUAwAAkBMAnQEqMAAwAD4xFIhDIiEhFV1VVCADBKALK/x0YWXTkB0udsxuAN5g9ADyx/2A+Dz9wcId/oHVJ8Jep77I8eVl595zj/+K/IfiBMX7oX+R7m70N7i7/I/kzzmcw7+mf8X0u/8jzbfQHoj/6veZmAuSDGAk2zwx/PiDqTBni1+++mtn5W5fbSHBNAIJmeEYORmpjVokqZ66hmGau0aSnDxi/ltAAP4X3dmMEblPwurgm82X9CEf07l4TxK0epUZtjepEr/a/sZb9Lm5v+i6v/wcimfIHcZb9Lm5vx7Cc4jUSXyek1y94x3JwFQXgmNzmeX2eRPqf4ZR2nBA2xteGL4+yk5m8VHchna5fhhWwZv6kuFVyBFBcDulx/Lbz8iZixe8/oeIyczP+Sj0FfdzwpZKH1bRZ0PM3HWAEseCfaxeTYdj6qZbLk0pfv0YU2mxPaLj3bTz4+iz9XERnVKrPGwS/RFYlegVn64/aa1+ln11cw1XK7eHLxm3meZQdnwkKO3Yz/2/4/zOkwc4VHOGwGdlZydsPXua3Fhv/lK52Pwgn49bD4LQZl/Rzq88EptLioEjb7A+9Doncp7NXTW9PO9cd7+lGpY7/MD/CxYa7aoJUtxsfCZoNwDGDMEGpo4dheMy9h/imN9pzc/lBdMQuO3wBFk0KMrpTKLJZuqmXQFoUq7SyXvxuOAhLwiLLUnlG6cnjQ3pW/GeqwWcHQDnZ8CNExXhl4mar3Yu/LVE0BWmkQvUQosBUZ0yDH1oCI8kLejg+kO3tJkSF5bH84y2vHQiWHkA9EAYRW2+v5pUcb0Idbf+NbMZLHmJPfB7z/k0/6U1L+MB3/grIH/XAcORi+sS6r1iaUekN0jHwa/Lh1qyhNY//8oC3lGZqk890IfRS5EoiPH7X03quXkmc/ksH1Nka7G/d+k1k1ToMBrf2hzHsf+5tvwRb/zanvF+VgC5/8Jm/93nwuGJ6ecnRK2PwBx6VIyNROvx155ch0ngDj0b9ba80Nd4N30lV6sY+F3C0YWSdlplRnKiRH2qsKhAvPpfNeZb8bxXNoa3jbnq5QlKfwxwd+7f6Hn+VpZy/9vHVGxxUf/R42lpXm8R8fFXn/9u2kv9jJ/lvXiN8WVj6E+cVfhi8Y0gPMDYO2/4o7qVwCbtcdi665ArqRY9mdJlzbCmQOiEd1g+5sE4VS0yxyZxKI7qMV/wrSFceJxgGOXL7gAAAA==",bpe="data:image/webp;base64,UklGRhAEAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNQ2kqSBFIjDbCEVhOx91H+liJiAcTp9N4zX3zK0GdoMbYY2Q5uhzdBmaDO0GdoMbYY2l78MAFZQOCCyAwAA0BMAnQEqMAAwAD4xFolDIiEhFV1UACADBLEATpzgbA8kPrvmCV/riRJuqecftgPMB5tnoL8jPrMf49/u/YA/Xb0z/ZJ/u+CAdLzwh6tUk5sivy/unlRuKv7ljUn5HcxvbAcex3v53P9B/GvW7/0vOp9D+wX+pP+7Rd/AfSbs92Zg+qexJy2aw8fXW5eiJrXRzUZLjTVi/rBXbYGLBG1OiDURtwVXugAA/sNFN1TEb+1J5ViNkv/Caf6FZPj+Z/AI3AcMDdNOmjgfrF8gp+dlHFBj9YvbR5n+PW/xA12W9H/Q+4NP49b/EDWA/PvHfv1geVQp31poPdPNX+j5/LjfpBpk5Ae9+d5tvVsV3LmwdSo6qBrikP0NS1JqC+Cc7/xW2j+PArpB3gvmrQi67EWJnvfsuy1DuaJw4V93/7EowR5sO4IzQi+d+6YEw/x/krmnn5HaoEC8gNGEUB7eMc+S1xWij5P1IUDLK5bplWREBxqmb9jCC81ptWcf9V35a7KxkLb26HS7Cgg6idqA/NVOOw+SYHSX34LrqfjMhjPmajaR6gfrnRluoAIw45yk6u+ScwiSpE3w1Z2A1KCV96vdVpiew1eLrjQ2crPbORWlke9tgxsJ+dpy/9TnCeYZL72eytPy69GeXvotupmvfrJHF5DoDb4saTiNIAy5Wr1J8leVZXOCz32sKS0edKywzxT5ix5LzRrv6duT/MviWV0O0CARnmK1+P7yBW4FK/8Y4XdXGZdUe2ICCP5Nff3Ml8UdwOxJ3VOSu21RuVOFi85jV76jPwxszGBWI3+X7ERuP0Det/8sWP/53/qT3CHT4khJBKvoSDZxc5k/2UQ6x2y4xl/X1aPUtAslrbSC8+C74wIh+DUo4l3c/mQV2LYTHSg88wUVR9GyOgJ8FDjLGLKFb697xnVuUj4o6rqjC5z/zuobY/9e5zYplzCp/SUyFOTn6SYBrJdEtr8WMBJMh6M+znma28bgIOFw/LapSeTmdOUiCrWEL/sZ6U33bN6o3a65LOhMPmGTjK731X5novk3ij+Vet7INFVdJmFfX/OHhXvtEqwg/rpMgG/Oyx5ga6A+TUbMXhRTVxl7zqpFKFa0hCWfb4tAVZIatZzmPSw/FamiwAcefzdCKuFhoH84g70BHqvqCKm7rItVmdDHQVU8EPjAWnbY9zA37wa+h60u3BtPlLv2CJn3r+BjXSkQOF5mMxzdL2uu23frqhybf8Pc4iZFnj9gHMFHE/7XLInp0YYAAA==",YD="data:image/webp;base64,UklGRswBAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNQ2kqSBFIjDbCEVhOx91H+liJiAcTp9N4zX3zK0GdoMbYY2Q5uhzdBmaDO0GdoMbYY2l78MAFZQOCBuAQAAEAgAnQEqMAAwAD4xEohCoiEhGOme/CADBLOAWyO1/tjAYjdZtJQANc/JWUGAMxls1Jp77I5LLdqFxT2MzeQvvNO4PlDRKJgSwAD+9hF7Ukh0/nLt+nA+jt/NfeNL1E3X2I+clM4VxGkW4JmJmfRzxYd5X7mAnLkZ+hPRSPLl7VX8iEg2xwb4sfMm7bB2Nqa2z4DsAJa7xup7ieQP8SFbqV5Uqup3gisKvyvgVfJ/LyleGQdyRSGHsKd9/+/ogIO4Rb5QhpSzDBKDRD/75Dpk9AOy8/CG8zpzg1HzAf2cQL8Q5E5w2O3nJz25fZMrfQmW+oDuRODEUiNjjPfUg8j+yj2vHw/gkPV0smkc5DBYNnBatYRrE4CcQQQ6FEc56zjeijTMK/QO4F9bdbcRK7xoSWCIkA/wX8cezeFz+zdZ/HvBkFuJ/RgCTJwLMvzQ+MAbdAG+X3lIIWWrqY3+eLX/4zw37QqJ+9RBDU5LsgAA",wpe="data:image/webp;base64,UklGRg4EAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNy2jaQpSSVOxy5Bs/eu/wtExASM0+m7Ybz+lqHN0GZoM7QZ2gxthjZDm6HN0GZoM7Q5/zIAAFZQOCCwAwAAMBUAnQEqMAAwAD4xFIdCoiELjgMyEAGCWwAuzMl+Z+Z/kr7EVa/un3p4gIkfI37ju1L+Gt5v5jP2Z9I31Ibxz/JfUA/Ub0wfZD8mq5idFV5D9hcpx9m/Jzkt2n/6x+Sn5AZkTtAPwAyyuNL/M+lNn8+k/+n7g/6l/61Ab+BDBkQhIfVZX/DcBmI2vRn1EvsonZWggHWAZyMrlReO9lE+pKbNLBvwFcu7p31YN3HQrA6JsAD+/KmN+al/J+Noo+9KBtcUHZO9fqn1/lFHCk8ZyKDjoqsgQ7mB03jwCaGAMrOCPsE8RTPvJKTN1L1z//IrJWapcPviH1TQK0z2qXD7YaQXjo/YGhOEbN0jZvE9JOGEz2McuT/hoNUQ/Fmcf5vDrzRe2u+pmdaUZXyh0HSVEmrLaHtiYE7b/DcoMWpUDEJHyWOV/f/QhqrG+a7SdN5PdsaejK7ZvmKfbGpFFFaDOmiYHvf/B4GX1/1yDzJNTu34jv52gMKFBHStz/uAgAlRRvAvXkA4CP/x/btT63UFa8fXDJbVXzGnzXPYiW8FAK9N2zC+IwMGJiG8KXDoH98Htw6N3XkvikBeB+3t91EB5taUmpkLZS/U4KferJZI3TI2ygniELxreoTClqhPVV32uY2xMDG830vnYE8iK39QZElNepDyqbr+mmhP+N/FhYzNT64VLG4AosEDm69yYvs6ZBkgxdaG81rAAHQkqAxwDPof44n1LRR3N+EXx15UOftb36+EOB6dFh1DtzdQOqjHer4a4h5Js0RKV3J13dSHSOPp7jRiAzi9+genAWF0vggIK7+mknzPy5GrN5cj6yp+PJQq4pXQ5jLSHpNKNn9gWiw/W7kjt2LMWu0/HW/XP9SBmZof5JUkBDpAPecx6nUR2zeXFeeTWnv4nWfPkg12CZ4BcmeRVgsjTQmrt6SsQj8jDjZuNt73sItenAfnBZeJE3lK5V429/ZLmsf+UHpPpbp80WIs1ZkuD4+37t+VFeYeAH+tmyLPO+u4/6xWH1v30SeHCZP/h6+Gd2/2nsUhb1d44CcqW7HlKf8R+RSZvFrHXmPz1sp0NL+ESxWzop/OnQsx714yd5bnxJ0TX59cTRjsqxKcd+iqNy4l3E5VJWKa//4DkUf93qOQfPQ/VH8/tMIWC87/Knf81NeKx7oRkdgjPcMJUvv/z1CUw1t+ajbNj9KD5cwSQ8J1ZB3kidEuxfdg3J+30eDCnRL9txMgZNAzk0b5I9vT2Mv/Q6TfwAA=",_pe="data:image/webp;base64,UklGRjACAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNQ2kqSBFIjDbCEVhOx91H+liJiAcbr4bhivv2VoM7QZ2gxthjZDm6HN0GZoM7QZ2gxtzr8MAFZQOCDSAQAAcAoAnQEqMAAwAD4xEohCoiEhGqquqCADBLOAXIv62HjRQrp/gNQl3mX/POGXkKfoj0RP9yXNrIWGJ+Uub0jht0Av6oX+CU4sqRxL4Mgit8OLM1imn3EJ7YiTNqAA/vupbmusW6Z/9n8y8yvwcgivRSaHdd1HB5h0rDBDJdIt1f/1P6m/U5hCLOk1jAJJKuvoyfs5/7rTXEZBw6VI/v/W7HjQnta/yS6BZH8e5X5nOqNa8fEMM/O5pQ2KlbY6F1eHc6HxvHTC0yh3tuP/77ZTiVGNVo9OxAq9VcPj//NtIhZej9I7ZlefQY7udrbJKhS2y23X1GEz+2EYewePZ39j0xQIpIM7+evidag8k/iVlcjAd07q4G08H/zDAafJ/p3MepR5W2uMCO+0zpJhU6Sg5B2Ea94QBcV89Jy6tFFiIrHsgULSRGFYwEbEughnSzLLaPuZorpfzr6+ngIP0y1/rDXEezTsQ3/xE4pGegIHparBv+TLe+h//ERiooNDZsUSo82RELvcUlDQFN3sF8K33jxzwZ1IlHPoHlLa6/Jp+vnKO2HEn5Q7JqSH0dZenXr8qmnwYeAhJfOyTJBioSTMMi2OnvbPV8X7qwb4VzLK4AAAAA==",xpe="data:image/webp;base64,UklGRsACAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNQ2kqSBFIjDbCEVhOx91H+liJiAcTp9N4zX3zK0GdoMbYY2Q5uhzdBmaDO0GdoMbYY2l78MAFZQOCBiAgAA0AwAnQEqMAAwAD4xFIhCoiEhFxoHMCADBLKAWpDga+rQbnIbCWXPQA6U6s01nrhBZzOkRadnzXv8jzAahf6ff6zgK1CVYjywjLkmE8Xi3Q902wwVgeFqb2FsRpEQtI01HbvotMtp7s5u9MTit5LAAP7374zRZmvfy8Jfv5ys/1+7zvkF/ejbU3xDPeYr6MlL2IBpNy53MBMMdJr6vZ6y7QnXH2doRuszN7JBkISzfbTtSSi//Z8CLJf/EWQ+fCcQTL27W9RMlgm/5eqj57N2vrdD3As/5WM48ELcLlyat58uxCsT+kLoRKvkYHGIEwzI9vL8tdQW9/Ea+XvZH2yf0oo97Y248vNRJFJ4vgKQRWcoUpjd3fJte7nw8pyHgOABcHJQEedxPrZcxVgYjs3QhnZVYyUgBElR7f4+XsTPZzwgQVYvpghCxTEkNigxS/AFq4Ys2dBGamI+VUAGqv9BTV99QmPZnPMfSG2hDI6BqDda/tCFRK18LBvNgwMYcbmWB4c0uzda8LHlp1YC23pvo9hwuctAcx/2IePJhOfKxb6P4WPzR/dVy0j/fH2c7VjYwjm/y3MTPCIVKGwdqE6TK0bVve8opZ3/54ZzvX5cXkGxMAfMb/3zaFbYeR16qQBe4zsYGNnSrq/hP/odeZRrwtrYbF1GAoxv+QUDPtUjtfN9h14giDE7VrXODeby/0WMSkhwi4NFU2Vm72+B+C5s+qNeVIZarpRh0vZpQkb0Xxv4Bt3eWM3dANPMCqA52r43bqp8v/gHxd5VMLJTU1jf/9oZYF1fW+lhBNC8qNtpcIAAAA==",Ape="data:image/webp;base64,UklGRuwDAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSD4AAAABYNQ2kqSBUFAa4jAsCAuhIWTvo/4rRcQEjNPJu13j9bfoSqMrja40utJYlIaVhpWGlYaVhpWGlYaVxvzLAFZQOCCIAwAAkBIAnQEqMAAwAD4xGIpEIiGhEcSAIAMEsoBOnLxsWp+77eQJBL6MPKq6AG4l/zm+k+gB0qNZQ5TH2E8wDV0fnvAA3wr+Pf1X8kctZ+Y/6LSMuMJjY/1XpF57fyf/Of9z3Bf5V/U/+TwKH7RpPrNye6vjOz3KJotI1/yblxHElCOHLNot5M3Dp/QZMZ5jtbmL6bxYkH1UOFQ/iPv8AAD+9++KNSSi2ACRn9+fXxPT5ou4B3xmV5ZRiQL9yP/+X8za7A8uAMZ/0c7BU9Z6lOzgH1M6Hb5b2OgzR26C9S7dUZldXjInGTlH2CksnCY/6drvV49Px/GAOU8AfaiQQTFq0AS0JH/3AaZY91z9gNbV3Q0Z/T/JOzRPAOy3/0pvbULGTTi2ws8g7TOxD+qI2Qv+Nb0g93zGWiG5/Oo2V/6v4vmNqIZ/ayfXbLAc6bT/5ZbL+SJEfrfoq2/xkQbnhyhfKJIjGj3ANzPYSWuu2yvUhf4Xfc5ZQCGshz5D8wu1iLIo/dKD3Jy0CmTGaCTjzCo9P8xp7h5oblje0J82r7zJX13lWHq/JYJ2IXSGIS66Vg4Zms2k64d0856NWRIptBbvt2bUThoRq8gVruQMt0jhTmusF6oYsTfnyAuzRLLTEAQQdMJEK1uKAewG/IlmdP8nGmogU5Sp+3Q11QDr5hi5ZTfcVLd+nH2xTGCjPU2TyItEVoThCdizkMJFZTlhBlbJEUw7RTuhw9YR1RDL1H0ROE/WW+cBKs+G78ddt7q2aYz4r7RXP7kynDuH94m6Tj8Z7WwMu1Q1yxf7y/Bof/+Sm5Dky2TfvKL0cVtPB2ADjGAXH9ndA/9MXLLtpJJf7Z0QsfCsTZybRTDhI+ymNDDQrYXOt/ZebPyhU9EsdpM5Hyurg3xlRFCe+JV8iwjfcTvEVmaBgVqIZBYzXr8Sv4d/O/NtpM64XI/K577vYXlD09R/a79br9F6+AnhlWrIug65oL+SA5JqTTQ67/zwwPjSaa+UIm2/+W9kw5bhBa/3Z3vzp6JSQs9vUsvm4DTgI6aNrZEbz8o8/ZEYf9CAH53lNj0oEGLvpKVAldEwe5qAMK+XR+cy4TJ3tuMuL+T+Dw1exOExN/9E1UFFJzVdlkvQVVszB+8os2AnthazvaMc8XdYfYPwqDACAQgBt8cLO8m7PzYi1x3sPep4ejADw0MnwcTHrHmxEIYAAA==",Tpe="data:image/webp;base64,UklGRtgCAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNQ2kqSBFIjDbCEVhOx91H+liJiAcTp9N4zX3zK0GdoMbYY2Q5uhzdBmaDO0GdoMbYY2l78MAFZQOCB6AgAAsAwAnQEqMAAwAD4xFIhCoiEhE5wHbCADBLOAW7n2Fa7Ag4G2i5pn1Af8zfRvQA6VX/FSibj+vlAbJKWa/qvMfmkHO/gNB6OMmbcJ4vFYNOL4DKqp6viJ9kJ6I4NgokDlPastBqZP6Nh8LoiEBwAA/vfvjNPabp/5icf4Z9Zz9/9z1YFpOCeEec+I6ZdT4T2YL20SCkr2ez0Glbhe5Ysmys6pUxy/Lu5k97TK4v0+5y/Pvt90ZvzBt2j8NSd4X/+kfrfJsiTu/jmUaHwS82ZSBdNneCbs380G54cnovLKz//5WM3fluPaAu+gwXSoi95/4zmNcSbMUdpxzmbQFeR0wrmB51qG4Ap9RqK+YduIBI99W6yUJoibn/zC7WJHiMEpwcM1a/f+m55bgyVSDgsfUAPczypXNx7z6Tr60EUQyNmc40cT9pIH8cYkcnWZ5mn/7h1/PTfQ+uIMob9e85kf+AjYiJFuNVyFacflU/+vRNPhRtwooEO/a9njPml8HTF5RgR6iNn6pdyoWlRd5pt8/rX32HrtAWWtzQ2TQoliqC8i6nTrk6H1F9+ep+uTn8gMJlfyfh9Avw7I/9eV2UNz9o/7ZPvBnY5hlWX/PFTf+07g96xEwP/8XyprSKT3vRuS1nVXqST9N+O/0aJtse0vCuJ2S+/qJ4KlfaWpS5k9h7L5aZXqxuWj6s7GinA4wY7yCyTrsYLpbzA0IOTJWydWPPDz5eB6ldDinG0A4loUlLEwoY8E5o5Qe8MJt+Dma1DTx/89/+g+LgJxpZKGoubu0gfBxzTXGTQOamJY5PueBy4TNZiPL6uv3A+IQ5rpEQm8fd0Cz4ZFjAAAAA==",Ipe="data:image/webp;base64,UklGRuYDAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSD0AAAABYNQ2kqSBVFAWQkFZZgupIcx95b9SRExAGr75sNPxY9m4bFw2LhuXjcsPLkTLIVoO0XKIlkO0HKLl7y8DAFZQOCCCAwAAsBEAnQEqMAAwAD4xFolDIiEhE5wGSCADBLYAVhlevsfYPxm/IDpb+E4Hbm3lj/Rfbd2t8yA6gG8iegB+xnph+yp5QFy95RY+/+7eCBTR/8BpEPFXRgf7f7Vfjiz9PTPsF/qysN+sSeC9GEy7MdHZj3q+HEUOR0ymiOxLtMp8df779eM/Y+evZILlRd07g4Am1e9NTS0AAP78Fv5lIvSOuBE7r8rPifCE72aT90Ks1sRObv/zGHgn1WoDz+qfGBb5LnSF/6rUPAvaLfiWzS3nGIfMG9sLordtf1v8LR34X00puZZXOSMPc/eBoG4TNT81K/pD83LRq7vFtp6Czi8PwvXEIa7N6EKQgHFXDIA3+HkEI/6LjXOCroQuJsMfHnp2f0Jer35srxNI62QBRYE52i8Gm1It5vEfoCEW0J7TkfLiap5iNrlV/PyKF5DUVOp42FELqDT/BDQFlSpL3hOltVcj6msuNf+2sGk9IcWm3RW3W1lwSUNE//Mr89+27u9+lY+R7Vxzz/vvA8z6BkLIi572B+MA72cHTprpvpU3y+NKxPP97LZ04ctySqTC5Jmi9Y5A5hE5VftYx3CbTUzWVipBK/RHqGtU8f0e9Unv2T4w82H39dsxeNZIvOw0C1Y94REZ7371Wd39FsP/T/0ek5irO+V8L46BRMYAD/nMYtHc914aqbLSEk1tJtKmZSXQHTm3pvXOfh5eTPw3TX0VjWfh8jhS43zxOysQCKN+NiCM4RbKhyT6Dc/wAFYcNx/bl/MTUWqxd4i5y06CYIpseFs3nPdj+XbHWrvQo1B43SMDn9sBX/lwpy3/gb+tgh6h9td7n3dCJmyh7PA8+AK2NlTpZ+sM4a1H+ZlCBGrsD3lEvcdGdF4R8I7lQmCZ/BlrpBOZzVdTB2Qcmlt4sj6KMHfb7POx9lVPD5glLt93azfnNy/I1NCNV1k7b+f5lN3zgMDqQQJcH5vfS+AbrtthsKdXf7+vkOkvByE/6T9Sez1gdQBEXPlpCUuRuErhFY0PmDL7R2C2AdSGl1gLNEGzchXDA+yVdens6MrcYWxR1NBQ9Wbr5sF8bIjg6oAruepqbQdLcuVoVui5HGtdcojWlV0JEJAwnV7RurKklXiB/5YB+c420s2In+6Krs0cLmpi4NfboMz2ZTKWXp3AbfSAno8Kj3TcKVIO4gmkdIEx6YDQAA==",Epe="data:image/webp;base64,UklGRv4DAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNy2jaQpSSVOxy5Bs/eu/wtExASM0+m7Ybz+lqHN0GZoM7QZ2gxthjZDm6HN0GZoM7Q5/zIAAFZQOCCgAwAAUBMAnQEqMAAwAD4xFohDIiEhEcd8IAMEtABOnOBrHzS+c+ZFYv6HuChAuxadPtr/MB4AHAyep76AH6wdZb5T1HY/I79qsvv+V/Ij8brR45C0JHjtYvv956e/975vPp3/ke4R/KP55/nfzX4zv9gDvay4wMObraGC+8J4vFU/g0CTTRT3eS+Tao9oNr6O65GA/93Gq/Kf5Af/lowoJTJQ68MrwAD+/xtWbnDCSeM+QRsKIoZLX15yVotxZP5mY9IeJF+wLoiigg1A1E//6/r3iW/jfmO8nN6xuZn/lH4nJsW29NYP8px8WoZBtPwB0cKXEdGCzjoi3h3rT1YfMRdmRqopCLMsb4Fr5VlVMYTgLOwZOGwa7xDCmVtjRGj3daiVt7/x9+Wfnzh4BjrwGZLnSW7YAj+vwXh//wa/bdKP8L78GtVrFT/IrVJO/QHyLQR0f/+YL6ohaON1gnhDJTHUVcd8//cXCMYCq6d/X9Hcv2pxyznmotMWY5sqOTu0HiR6G5FtYaWJz6IEifP2SzaAW9nLaH9TifrH3wZ7XAXEkvTL78zUx3swqwP6Ljh/re8cU9kwFnlrv6Vra+M8QxvDBZ4sL161KGSd0phuAL7E0Vc3natJT+fkH3dv93aVPKwm+A/H10Uo/zyhnmXkCMXwkNsN/S+0R01t3Kv96UlabGOcYmz7UyzzyfelAWcar0cwTpZ6hgJsBvZsIS+G70MO9HUNaQkOo5qSqaJ3wttmnOrKnkrhqf0H5oNgpIOe7G5Ox/+TKklQaKYjuLs15uf5//aq0X15n8tUCv1yM4dMHVkhQSSnFmjEyUhBFR4sZ3n+S/NfODfXS58/AMp0fMLylVpKYXYPrtbQHP/NHZp7bxT7UD23KwZDGEcsCHyoADPnfxu+UWoJO/4ldfB+zeHoLCm+0Aopf7cSotlpkw8lX+TW0NmlMPfI3+GrP5x1wfIq2YXWY3i9TIWFp8Leo+sZlXa5iCx3Ng3kOak4/T8IbrEBvHg95GkFLhyNih8XoQ3NZpA21D25vTvIUZZVTNPP1aPYEe0PRmwlZBfuDoURIIfCuZzQuXTtD4EsrWELIEC5Vr9v/T0VLAYdd6XK+c8DssBU3cCbMUqTR/FnEQD5w+eq7lNBnT2GhWjQ17//D9hyDhtoFypndf0+iTTA51WviHV3Bk8wXlmPwmvnaLqZdlHFsa4aNWenhpZ+awojf80tx+djJmhD/yiP1Lgj8ZAAAA==",kpe="data:image/webp;base64,UklGRjgDAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNQ2kqSBFIjDbCEVhOx91H+liJiAcTp9N4zX3zK0GdoMbYY2Q5uhzdBmaDO0GdoMbYY2l78MAFZQOCDaAgAA8A4AnQEqMAAwAD4xEodCoiENVVdUEAGCWYAuzmBvJu27ZocDbH871plf6zewB5afsZf36t812H06PKH5AmLz0EtD/tp7hP8X/q/95UrTUu9vR+HIfcjZYTVE9dr+OMsXpUkRnXzXeqv65voF8TT3lmRXR0XXNwKi1KOZrQuqPpAA/tlDHd2DgWV8xvyaPq3WfUj7g3Tl327mK7Ufhgf9wP/B3f5O6G//8vU/ex6v/wd3+Tuhv/5dI6fW1v9QJxTMxez/I2y514C9Am6ae3bQhzZ7M75Ap8GXAXIFeceiaSrO0NHRrgPutznmrJw6TE1UPchXT4aUgk1Hev+UiKGaQexj42TInrZ/8KmPvvLHXIOfnrXWhHSKrVfVWP4Ssrj+5MNSsmZxVAQm/CdZgfxzVYa+u/PlDFKzEz89VftuS35iJXcLcBVg36vLzyLLFFdr3jHN3fmR4NFWTsYu6naj18HHZdN2ZX4RgnHlSA9MmgrXKdDS0EsT2UhKZIKWFRwbvHFZO7099VM2RdO+wT5TGn4OwSAOqMGuWeVkPBG14wNHQmLibtWmJGIluVPndguwS4Q+tBk33eAJJVDDpe5v0zoB+OKsFl7f0p/MStz/9ZQPrO5v8JT+TP7f3PxByor2uGW999LTM2mzQIH8drXiD/tFTOKdmpdwY9qoeEXeb/uc+OcGCfqbOTxfxkR+1BjP89eNYGr/9f+SAL1woX/xp7PEqX/mIzWabfn3a8/4iM+N6NvjhKewE/1ERhXvTDX37D38Munbk6G6dfX/bYh5ElZ8BdaD5kfT/sig7/Bz838Zhl2OSMI8urVNi3c5iZGVYzKhuywskadLVxs1WZ4LTnNv/EPArMIOVrT2uH/VsD/f+h3HOlXXN21ybGLrQnMX0d7Xl6StNKCXaPEu3cQpvCmaxgp27IU+4bG7Q9OZ4B+nbAaXawscl6FjUIPRclT8GjWErNsV8wAAAA==",Rpe="data:image/webp;base64,UklGRgQFAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDEAAAABUNQ2krNQA+WYHbRe8z8pIiYgpqlcJq5fK+gKuoKuoCvoCrqCrqAr6Aq6gq6gy78MAFZQOCCsBAAA8BcAnQEqMAAwAD4xFIhDIiEhFVquqCADBLYATpl9oWfVfMirn+L++H4c75wQLrX/AfcB78PUB+L95L5kf2A/Yz2b/UB+nnsAf2v+3eir7HnoI/p16S/7KfA3+2P7MfAb+wH/66wC11/VPs7lCXymci/u2Sd/Tf8zpHX+V5DOMv/VenF/l+XT6K9gb9RP95wOaA7TcSDcpfecv10sWkFZXVlmHalp9/o2dZ/7VvQAfLN7T/aWd7BMtvPaZNqbEELu0Lb3ibq+evAA7pE7st2I9YC8f+Pi1Lyk2imQ/a+CkdgIKkb0awQye6zpRJrPAz+R326LTu1txvVnq97aSq0ulVe+qIxtNYSmoxw+aH0B/r2Fw7q/9b2/UsVztR9ImMNnJQimLXQR//xiFC1UrX/t7I/G4KpxYzPpdM8u9GDnsNx3osIVxqKABna8eoTmp/TarWskwlSxukUH4+cAyBZT8ZqXI1/y4vPDysTtm2A+X5cpiMF1hu3uDjgf8XOtNVQtMLJyEypfFHy9++Pzt694T5/PQ9wfIKeK/JQVu2xoopQnclI8d1vG3IGzpdGP/M8cwqoPZXFfw5WAOIJwja7tXr8kNPQxlp6MXbzkf/OGgTH76f/UcC8Y+uBxzxYn/+Ifj2ioSJthxN/aM7ik8f/2KSEeeIt+6al3HLva2txW+RioJClBrrEpRMx3gA0sT6qx431NHtowdg0b/XPH9i4l1uLBbz+2OKT3QXNmqPsELrW0hKz/5ng0wcuOMhpTwHCoIy/53ulx7yU5Pz/ZWCbv4/lZSA0rSDxZmwCCBxpKCbKKXMhACY0hQS9ZdNM59FRIAgGurhTpsHJOKMPSQ6sOTZlVmMO5VTH0HF6i4UB6rIOXwj+3mPNGsTx6/jvmefDrzfLM+58e5dyvW+GR9NXG/BmSSNms/Zd7wV0huTfK/hlaxgmqNm9eQm28yHhDyx9T9QJ/8yFd/b2eELXfLQi2LV0XrAT+ymwDlVjmfSA9OVqwqTwBbxDmz/B8ALvjJybuc7znFVuGi1KS/uwKU/OuCCuPD6bGMXxb3vOjHH24CrJA+afb/1pGoWpINM32dInhjdOqUWMiTYKuyKQHfBJyHOzvOZPzkN3i8uIYvYE/5iTmd3D9qaq9xYGs3RJ7/SKr9VtVS9Gn9pJf0DZoHzLbr/st0sKF1XJ9dtcust3pk2XZeNeiu8YpPxDo6h9g/+YY4BUrjRMAvDneMbcb8SOvz5etm56kbE/ABg0mmtkCJBsjhjjS/SDwfaQptOaCbcZqNV4c3/1vTgryr//k1URcUOiStjtg8dHGBi2OxbTbw/zoF2LIJje8nAxjOw7SQYEbw6HLGLR3Hsra2/UD1J1IFDstg+rF43smNkdcLNQZVp42K2q5XJXqdsEjJI9LoMBjp9jeN6tAdMeazgEiRqRVvs1QThDNg3vsUxLq4dlO4P8wIERbbXp/nf+938SOvIedYmm//Y2rB+eCJu/H7JHpLKZ8Zfhz100fHOOp0Pb5ZG/gflu9SHt2I6iExqT50Q/MMO2Aa0vTAItBMqR+YgegAVgsLwt5nqdSWascjPL/d4LVosjAbfHmQploAAA=",Ppe="data:image/webp;base64,UklGRuQEAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDsAAAABUBRJUoOkkYQUnCFpJZDT/qmKiAkI01Qux3D9mnArwq0ItyLcinArwq0ItyLcinArwq0ItyLcSv5lAABWUDggggQAAJAZAJ0BKjAAMAA+MRaJQyIhIROVJCADBLYATpygqZ8kPl/4q+wJVf7N96998Ij1Q/hPtu+AHqr5WD1Pfrp6lf2S9ID9SfcB+rnsAf2D/M+jB7GP6zewB+qvqrf5n9ovgi/af9sPgI/Xr/6XWToVvDkmMkn/E5xjIXPon+q4zO4z8VXh4egf/l/kB69Pyb/D+wR/KP6f/uexP6HiooUClLuehiqVb2qq778wI/Yn7jHdnoyLoQ57slCAnjxiocXx2fPN6LbYk1li1rv8Uvr+SxQdGtXKyADmcvwK77Vt3R7rV/CzH/45kqBSios3fAELV/Bf8s550zfhD00Ib5nWXiz30Eg4Ndckes+gW9E+QlNn0u+Rtqi1WYk0b5gSQJx3XNv/caJzD/fqTW8S1R9SCEoK+HpbmprgfnEAv+d+Ye2cwf5H3n3a+aOFCsGBb1Ta/we16zr6mpes4PPo4RuwQSFdxLZmKifZhUQH8FJ0FE6t4ukHYA4nu2xScOLTZ50N8kUSOPQuMulP6N9HXN7brnnAd1v3sIgyLyqDR2CRZwfj+5K2qh8+0+VpVdaPJ7PZoBM1O12N/dLs0t6QwXWVC0n2hmXdLOZACjaCd3kCjtB1/czRt2wA3W8d2cPbLMOW3p8ELnVimmFNoD3/k4mwLc3iT2bR5nEc7SEFY//BV37llcePotPp56tavoOX129pvskDWC/9WStKGaMSnyBYXL+6hczOCWu8P634dBeGyRouyeHuk/6IS5S1MS+P+L8vT1Pg1vDoz3NXfYD6g+dNEqxlyUbO7flWAFM7WISIeYsbFQ8uq0P3nx2sz29FIxcEXpX4Ktm5NgmoVsfMnqLxCbik99XGAAMj5Y93nHXI28RCbvDHM+Q105aa6jITt0vJsUro/9QnSht+zR51YOxeB8cb+QzYYBlTWcE2KlntxQ4D2Is9S03bTL9tTYeQj5zsNRlPGjjuekpAkUq8/zgbopRQIXSL/6zkdyDICTE35XZBeTYJ5wjfb0w0uE4/1OWCSNK1+fjtnpW0YvNV6jHMw1oaqQwpVOKWn8FFYYRSAy11ZrrwXJ84CmUnpGlJcsxRIsSACHmYHYHGqqN2lCJOYPDJ9e1kxT1b8qGdbiOb4/sXLuABPcbGn+yWu5dJqQJ9K6iP/pvGAjaP3M6EGCswpL747R7F4dmeMZdWmEbuNafEJbG9Uz35wLTN7QQAt58dP0sf8q1NJiyR5Ta5da6ySOHF5TvYOdgs4JO+t43OOfrz/aCariaIPYh/9ZI/4kxWQDp+ba1qLwOS1/ztatxCdd3HZYeOPxBNCmeNLZrhZW1NjYBsgfUgje1HRUWBl7IDZMei6K1MUcp8UKJs25Qo7UvT2APZKBE4eiMtZzYqpXzjl7oiEZf2XuQ3EUsiLDL/rh9c4sPPgPIHakiTZ6hEkJR9VzFnn0b5uGXTTLh07309viWgQd4rfof5EYs6/ZY0SQO43p2P9I3Gjhv/PoVu9gMl6wDwFSeJ/ltgVQVdDMLL1DExpJqZDM+ON8cDFKgCZIAA",Lpe="data:image/webp;base64,UklGRgIEAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNy2jaQpSSVOxy5Bs/eu/wtExASM0+m7Ybz+lqHN0GZoM7QZ2gxthjZDm6HN0GZoM7Q5/zIAAFZQOCCkAwAAcBIAnQEqMAAwAD4xFolDIiEhE5wGSCADBLYAXZl7P4vXPxy9iKpv4veAiX9cf6Dpb7avzH/aB7QHqd9ADpPP2Z9gD9Ves3/a39wPZ8//91E5ZQ/y+6fkdn2PyUdHXnregP9z7gv6p/5j7a1n8y1o5UMmmPLhFGjZJcH2SQQpwYFBXMV0FJ7SNorLR9NqDDSDFMEZn08RTnafzStAAP78qZKxHz3ZmCs8M/vYw01FPsky6RIBPyH8+Xle757z5VVi/U5yb6JzYxFwVdzFNvfYlyx8rZsBEVHkj4SXv/5jPVi2qcx8axFZpAfVi2qcx/eyMwoyKZFuMXNdiLiiCSofEORC6LeJyy65GsRh38DmaSBgzM58kdmdhHNft42I/rj1VkXXMrcZt6uuuED2/mPbXfsOKe/XB56jc97Z5PVwIA/4t+JPeaOgGxxHhHWv1THTOyvMAhyYhyEf/g8b29/9d7mUMYLAjvt1VQ3+9pqf/m4rio04EAM7cSQ1vx/sA8JuEscy2FdoEnfYXZY5ai5RuYTcYdGOuTPJQkHd1ua71nwDw7jf8PJtJ/HXhLu6maKeJzOve+Ysxudhr6JpIOhPxR2F1ZOuUnRyoyjxVU4Oi0H41469eV5E5BwYkABSDz1NNuMXFJh8gDrn48AKYA3T9/qf4H5vR/WYeg1oY0RxSU6paCMElKHBk38EyQDBRnIWYbAnV96qgF0qZSbxk06TV5r9FvMsQH2UAxUaq+efcnkRWoNzMmNTpftXFO2iAzQX/S6kzj2K86gtn6xndi6uwi4QgZQgMYx2z3pgmKwxGRd+4BO1WNFYnqdbcPOfpRUTfR4Rhzu+OwUj1kPcoD1tbd+SmkOoGjEfPV3VPtq4XRdI3hYB9DtqcPLJ14BxOdw4F9AbZOkH1y8p/2t5l79EE9zzPKNb2hx38FpqKrU+Cnbx/ceAAPAPgrpfn4LoKewuHHOZNRMO4SvpV+6pQ35R2XWRek9mxFl8ir//68tyQvjS4FShGuf/MYOdKJyO4dv97N/6COxTvlO8/pcJPOakINAbV2xPoF0X/7Fkf3LtTzeIzKP8qUsjkeq30X3gSWFht3py8MkCGHP0YqUpz17YRQ34gPAA/c5EaTymNtS/i9ut6d9H30iXxQGd0n/aDVY3r4ZsEjQSHtD53OtF83pzKT60n7+jbpN0x9NwL5oUNF/QO4UJC5+E++idiiH293YiyBk7qB/7+8ejKFs7Q8n6zRpZYAA=",Mpe="data:image/webp;base64,UklGRiwEAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNQ2kqSBFIjDbCEVhOx91H+liJiAcTp9N4zX3zK0GdoMbYY2Q5uhzdBmaDO0GdoMbYY2l78MAFZQOCDOAwAAsBIAnQEqMAAwAD4xFolDIiEhFV1UrCADBLKATplew49p3J/JPoA9Eu2A52n/TeoD/S+kB1Gf6geyr5b3szf4nBAOvH+09Ed469mMoN96zQGNO/kzcysc3n0Zz/yf+7/9X3C/5P/Rv+PwHKoxqChDzr7T75iHLEtmAx3qNFzUa+/nkbTVetWsGZxK3ANFUBetqxz5lR5GndJt9dXW18gA/tpZyYfYG8n/VP0QTK8w/+qnIt80q3n5PxT73p8OdSixVoWaNkV/w6xa115nppJSPv9dZTo9w4LZfJq50o0/A3Lm3RqVLzjE/dOU9orNmT7Sv/lh0LkrQmVXuCdJ2tBeCgQxsg2T+Ya2ZKgl7X/0jft+4Wv7HLllrEHXUoEXe/Tm81AjOxZwDtFTGCKAI9PE8Oizxy441Ljja7BB/Sp9SMr4GGFQ+XCD7WhWsYaOYMKIdBx/cAWYfF9ABf+g5hSF3FH7f7VTrVEXf5wpScu3NrQppM8ythdszf9WeBpv0jBd2+luc/eRDn+iKCgPU14xDFV+cC65DFu3yz3C34Piek/Hr/zVblI/y7R/wzOEaYNWtz+evCufskOLwtL3CUzGk3YSbNfFQVPQLdWkruOtw3+1z6ksZy/jZXQIkwIrmC4Ituh83FA4PIOVzuwwIV0g+kXwWrFFfmVQRboCWG/m0/AtIyPvf2EW4hzygfWXG62lfIufTpVMuR0tVLSk6XmXwzUuIBOXtCJYlRCP+1IpNFrpRxGcY5dRJ2uhjuH+iwU9YJYoyaaOe4R2wMkuP35MNRixXJf5z0+CwHUqgWUbW7uZKw8qvsUrU0vs8S7E0nwavqkNhj2Og2G8dWHsmTphMzDnKQIU2+pmDLgygMblEAA/f8zj/sKlENqLO3hCQDTqd80EWiB/4r15THye9u/+d+3CywWn1FnNWDWMeR0VaU//6YC/F2+x9h8igJW5kXcGVbqP/mkqBHQpwHMv5NaqwhKdH3RfeR75HWcENZFWIQPaC32+cl/1+/vHwZV7d3lFrkn3EIxU8U/0m5/5XOfLYAi3dNwNonxtNx84Iy/WI/XHx0VrHTiKST5nTXS/G8dsvHJ/o0ujPM3aXzTxt6l+G4nx5XWVqeFwSVR1a6kmV+PAB08X2dUvRHoLboC5j6U6T2oDoRl7JMvawb8l9ryT55SNxUSt1F+hpYSucTxo6KSmQzuevL6m8Bul/Kz2IqbTrcX/ANxJND82K7sAcj5mh9G+8UGbiMklzzQfKrB+JZy259SZfHz4DmGzOKHwI/3VS8mSAvrsH3bpUPckAAA=",Ope="data:image/webp;base64,UklGRigEAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDoAAAABYBRJkpSVgJSWiEOklITiPvpPRERMwDidfZeM19+StEnaJG2SNkmbpE3SJmmTtEnaZGpzmdqc/zIAVlA4IMgDAADwEwCdASowADAAPjEUiEMiISEVVKwgAwSxAE6c4GwPHL675glf7LISbrynQbYDzAebj6CvP/6iX0AP1J9Nb2RsAA6cf4Qeb/jw9IyRyQP7t5P7Xf8kMlxojf+U5F2Yt/N/9P9x3xlf6Pme+ifYJ/U//bJfa5hTSQtvF2Hl4tZam0Y0pYwA08bE145UG7b+LStOj/FBjZvlksymoUPXHuxtAmAP5dKgdQAA/sNGtzEdyznYz7lM/4TT/Q/xx9Ad2P8a+7ex09UTkI4H6szw1wrC7Cz/+rM4K8B/Hrf4eJZP+J/g/Qn/49b/DxJUV5iWLnvdISKmJ+m2fNYf21taF76U/7RhI3e+3IeTLr8DnRlNRsymzS/oQo3ge/m2Gy00elNZeP5puzlC6WsR8ZzjXas228FuGXgv2TU57+u7t+xI400qLLm+AeggeaGLL2v+nrrkIS2SDceDJNki3fPxJbhX2ozKqgJlZXOVZRg+M1gYFrJgLwtyg4/6rvy2A3anvX77EPZUupZU+2QgIIF7ujfnOeo2a6LW2vXpmRPkJ2z27//d5/OIZ1fVbcgJ9+FX6//0OuczR9pSRyMABjfjE9E16KXEDFFutvPp0QV6BGH/q4b+Hv1gsRQA27SwYzKTlrXnbQy5wxGIrJo/nXnzooce1mXN0xELe5Qmsfraf2Dy6U2lxgmWTkcQvmTu443kmId+IAsdEOOVqlN33e+1/4VoHSOySotDr+HxMcVny22BcwlvQL0H1yImE7POQvbaB96jGt+LAj3MVdX3TloAg7tgq/5zVtlN/+XD/+GZvtjjs84/D0v/1utk57tNH+7/xKLwGW9zDffjYP//maPgNOcUepr5res4NzJxnpMNWjvpe1X2Occvasq4AVa7t8QjxZIgI1u5pbUaqRcxI2P1U7qtrqG3ewIvJ9whfFPef2aewbWU5Sk81H4NB+7F8k/Vk5erQ+b+i/9LRHv/ZuW9N+YowSz6rWZm6AX4PHor00ps2yRCJ4Cqf8enxVw6FPf1DRZcPwaqefMSsOXl7aA+1mIihZM6REP/XMLDM1YAhNEi+M8k96f0DlF8oViPUX4xmw2e0Bdye4njyAzhz29gvflSAd3+GTnMvB/Vrg5G18OhlSG46KVhp4XvmI5zhnwWmsMHi2vGLiT9QuZWcS1xwbEYH0dFOdJUius4SAOBsduLIGfPCgJlVKhKRd9o8ic6sB4POmdYTfxX6UsP1yaBrgFNvaVWoCug9s/ockEAA7xXKEstnobpj40LHXi6kx/must3caXho4AAAA==",Dpe=""+new URL("folder-43acac31.svg",import.meta.url).href,Fpe="data:image/webp;base64,UklGRtADAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNQ2kqSBFIjDbCEVhOx91H+liJiAcbr4bhivv2VoM7QZ2gxthjZDm6HN0GZoM7QZ2gxtzr8MAFZQOCByAwAAcBMAnQEqMAAwAD4xGIpDIiGhE5wFJCADBLYAUvLga68G/qv4wexFXfvj4tMk3Vn+q+3LtQbbvzGeUd6nvNy9Gn1WvQA/Wb0v/Y8/dL0kbmr+Ktjx/gMzfjxNB45IAuz/i+Yb6g9gf9T/9f191NH1xV0q171oEjEVUSGGMjCy4+rAP5JXRx/I+WcVDtFYZ+urELDZ31rKMsoToturJ0nGd79EzAAA/vpkBJLX/+6QCWiu1t2vrwAhqHU8e5PXdoG9r33tNfgxOW+ELSdLE3DE+/6JDu3xOz6qpeBfobm0Z4+9Dc2fHGH/zGFGdVIP41gK5h/sCLVSD/eVET5LXcUuTNvN8gypMMeNm7F/Olcdduj66WMKCJOnj4QbLkpt92tJoDIZ6OkEV062sd+TE9Sj9DhWCxSOCZvu2rBk2N6JerVtD5Vawn/90JI+ZMiZ2BV7rEdRpuxlMyI5/C9kZwd/G3Du8zMVptLczvc98Pwu+J3FJW5+4BPC21jWcpBhvNqExF599EvOgjd+6sKlTrcPncG2d4rZSTSIaLdYy0QV2Zo8OZvn4OTXR+81XxO8sI93xM69o1l5/Ycuk3jrdP5vXvOgJxgagd+bRmwTQxcA1arjntzY+T3/F2uZndkwHRAnAoEPyxszUfc1x5ZBLFAHf0TVWXt0oFXCNUv6LOWM/wsLRQHQeeB0qb9uENc7789NX6LWaCe6SQSGPTIfnYMVH1r6Ee9J777gUWAgUnzc65w/jgFICR9QAY6kae87TqGY7Cap1dptkNxx1GITECAzRiBDzTG6jQ+098ecnudwaLnOt/Vt1r7kDe3v8Gv15v8EhLNO5PXZGU+hts6fz0znucn81t+zK6Q9Np2xjjmBaX9s/uJ8ENo/8apFngvTgXYf769d/jXktgFCB71uKOtZxg28y/lZZAayHTWZ/jigERlgP9HG3mmXlp/wXrJ9P3M4d7i/+N4KTkImdrDt/qf9AAXxETy0R9H9USiXPDxuF2C9hyXG//r4LCIdfPIRbsq0L/5Wfw6cGtyDnEzYz+KzcqJ899jQIYM5a36zEf6UnXyPO2O6vtY2qFeuY4JorBAhXw960y6PCiGHE/yrJuSs+3vdcXmKsqwAndM2gP04nf/TJsI2RocDb5qx1WEdy+xzMvFjROUt/jx2qJPKnaUtjAAA",Npe="data:image/webp;base64,UklGRioCAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNy2jaQpSSVOxy5Bs/eu/wtExASM0+m7Ybz+lqHN0GZoM7QZ2gxthjZDm6HN0GZoM7Q5/zIAAFZQOCDMAQAAkAkAnQEqMAAwAD4tEIdCoaEPHYIADAFiWcAtdXsWJWA/Aby/nZP8lqJu84f6UitvJLP+1y8wG8zH4saA1pClYROnZ+3xUiYq/kv4gBUWKJiaNrJymAD+9++M09yun/mUijMP2sv3/4KD+1Hq6XyubtfjfVLDwWi+5+bDbWs2tYg16ZQ/Z+eBdeoe9eK158bxzjG+Se2/6M/3+XmQ5b8cRRHhznuxavibh71kS296mwzHvis3D1saZLiAHTBJ5f/xEwdvaEpb3HPWJZVdX6Sf+8n0gbXP/Ax3BXWrSAoOVa1Dm7u9TRPRPTyNIKPVTaVbvFAV2CcZ3qL0VHBa8gU1g414wN3GWmgBcAMJAHKlO1T3sBZ8Z63HMK0laFFKL4IhiGNyAiOTnpO/UhI9VotHSCF9NQ79CsUQ5qUy639MrSt/r/C9g6r/g17HaOc4q6efqn81YOv++yS7lbwK6zy31Fqa0Nf3Z+d/wSjwkPfDh8zslv/n7W+GNGmcaMr6fPaNOYrc2Jaavv4s0zP3jOgak2Ty6RhAKo/cHOkKdZJqZqmXT3qYsUHirZ+2Cm3jAm8lyfHqN3P0K377nJGjyTJDzWSu+UBqio4x+gAAAA==",Hpe="data:image/webp;base64,UklGRs4CAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNQ2kqSBFIjDbCEVhOx91H+liJiAcTp9N4zX3zK0GdoMbYY2Q5uhzdBmaDO0GdoMbYY2l78MAFZQOCBwAgAAsA0AnQEqMAAwAD4xEohCoiEhFxoHMCADBLKAWpDgawrY3gQavbibgDeePQA6WP/M1uzkwj5L8BnCcY1oT2Ra6CXxr/K+pD/Qv9vwAChKsR5YRxuYkGD6u8lVID0us+20kTHn31RdPE+dyWU6Ini4xjp/pKFgQAD+9++MUb1v/mKlLQuZh+v8x1vNu4B3xnUQ7zShFm5ql7FYGkiHGbPbN2HYVf3EH8f7q5dGpTj3mLDMS/dReztYdovd466JySFKDYqm0K0P+Tmwb2L/8b9qjS+ZQk1tpwR+u1bLGFm2lNRol76gUr/6DgQrQTFtHuCkGEkZiz/lmEDovrYK1E/F+kjCpmRXWsoHajsTrN6p7R/BE63hC7dGzwpxKX33C7WI2wYnn4x0Sy2Fqdz4eU59tO+gxjpLfQa7VOKz0zXQaxyzmLSoye7yG0ZMp7EvDOTyeJ3x9wPPHjxLWSNTrw3xF5qx3uT/MboP/ehlzd6d1wKazEKzdOXOVCmf4d8RG4Mc/W/6e+MqqFtf9WwTOEHOwBtlWJZ7j4R8A3Bnj6JDfsffBr7a42H0BLAczDt+ZYxcAbyNENhxL6oaa/9WN/8ecyrPH9EdF+ss5X1f06Ll/GocWPONIe3F7ExFT73+4VE3PQE52vuxn7XcWSU9CH9+FBmVyBm+Xzdi7c4MHc4zX+pmphP4jxudKqjKkA2SH4fDyg9c3Hcd2xB+WZZMnprKd+uTLGu2fh6JKrd1xV3T96cHF5RiRaxwue//5dU4+eL+qOy2+N+K/frEkevhqzc5JD/7CHx9RN2xOYLDVgnft16aL2X1FkFqR2MMyFlz8NAA",Bpe="data:image/webp;base64,UklGRnYDAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNQ2kqSBFIjDbCEVhOx91H+liJiAcTp9N4zX3zK0GdoMbYY2Q5uhzdBmaDO0GdoMbYY2l78MAFZQOCAYAwAAcBAAnQEqMAAwAD4xFIhCoiEhFVYAIAMEsoBgEqCq7xpC1vA4B+2a54z/JagtvKld5fRuWXPZfsXj7uH8g1+S/47dM/QZ/tmpd/0n2zfFf/efbl7ifor/ierP/tOArZZYdr0WXi0KPGK6sscWDh6o/g3nV+2DXNIB//tQ2NwEiau2o3wBmOzuYqf53gAA/vsuryObUxPJ4HGaY96vxTFwDgxfwhV0YiHyR689yshJxlXVf2f/wT5tLZzc6ln/8A+fpXupD4tzbEbK2fks3w+ZbffT7EY+U1/A7ZRqRiif+UgmMN/b/NAQmXmhsxifim2UCk8dT2bI8jxrsH5+hSF5k183wS891NLZH/fz24BzW0HYs6v4nEzL83EJhNyk2kMmR/u+VUED5VkvYUpXLbmZvQ/zP9WOat0caJVQj1v+aslxqVUhMLl6iTE/5enFPiuiBOoCP8l/GV/ZkPEU/CRiz19D9OA9bA1TUk8ePwr0easD4lHcWcXilQLXy0IY14m+fD5Ox3JLmW+YBylIN1rRcpMTw7vU+9nv7KN3yp/bm9f5URpqXS+4LGqygkhPqJgV/2ktHIKDedff0JG2+BS7IHENTofaZ49w+X/YYhBXg9AwFZ17WSjRNMBH3SuVbeSMZyDglT4JwvNJmAdpfH+fHIcIlam0BVD6H692MWaQjyIugp7Uptg+5+wqmAWr+VV94Bg2z/0vLlItTPxKOB26Z7jFU6zgt6v6WrufIjio6rxkvI4IuVSE3toR3lGRlx7pv7X891f6lnPYX9LJtvOyoUVW2O7p9Wv2/PESTZ+TY0wtIFIVG+EYKC6Gtn6BNzFgb8svZb7j3m5DH/ILC7QKGR/8HRHvX+tQS0/MvD7SzOoINCTjezBBbT3Fn//nioLDkUBoG1bpw5FUEJv2wfdgf7phsBBUWKxZBYhSf1Xz8MzrLV0+KgCggbgKJMUgVGbRFKjyFTDur27N/9pNyowFzaH1uUKkeAUCSW34UEUPXJYXnCKtzJesPrww+mN0xe2xEDyj5TjNVNhabKCGjtTwH5TVnf+QueAA",zpe="data:image/webp;base64,UklGRngDAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSFQAAAABcFvbthJRjkO1hCwih6JcIk3t4jA3n7UiYgKES3NpvxwTQ/jcxselzIZCZUOjsaGQ2ZDIbMgVNmQyGzKJDYXKhkxmQ6qwIRXZ4NDF/wUsTD9HcAVWUDgg/gIAANARAJ0BKjAAMAA+MRiKQ6IhoRHFACADBLUAXZzXa88JBJ77+Ab/wOeO9VH65eYB1APIA6zb+ReoB+t3pmeyv+0vo+0fDHr/r3zAaSfHP/4zuALij503yJ6b/or2C/5H/Lf9v+aH9Z5EBQLB1i/xbXTpZW5rt636WS6RQOI9vUcDNKz1lr50e8hu7r/bkt8QAy8dtPulwAAA/vYRelL5Db373Nrc2/4O/07hT/BpPuERVwJI2/kYFhJY47ptMJJzAjudOwZfEcOrh3r8Jv45O01/IpL1F98SHDM48uKT++tWZf2JHWPZ9dsONxAt/oWROWq9xXrRUrgTwpkHd1l8jNZfjua6tefeUHs11WBWgMevTKrvZ5yr/cCbw1xRzbI6WRgPyXnT0Ezmu3Q4FAoav85vLstCQU7qsNcIj1w821bHx+2f7u4Zj/vt96PY3//NBftqLT5Va27LXlNd/MD/P+hRr7NlOFmvVFh9RyhJHHwvqmiH/FAS2aNieMK26hwRcUHhQe5VcgRRf5vHsLzzHFPxYl4rjD/9lcHo//w3z7//4LIjG35Cs6yCcAaxcMtpvIj5767PT667rn0ps1WH4Ig+pz2N2H3AXADgtP/mgv8+XSZFWTHo860/+cxJvySRiat8XGQa+C2vDsnava/7dz9c+2+iBPf6WfTL5aicXOhu+M/ywZ0pE2aDuSD0qM5/6pY33J5kN/NgAziQgzRZquIjTE/o3IWJ+Ejv/6pclTkeDTcuf502JSqklhUFpn9N2f98sLII2YenVYIb2GFr+XIlvP+aIaNy9M+4NvlFacryr34VsDofb5Vok9n0KlcAiNkhdRp1+YPEX6jZGpH+tpEbbyw/zWmv7O91I/q1M1i8YJ8vjVjFhe8TyjoHvpH8wHna44tLzHkf/jvuQvGHLgVl8d1vT9a/MOHLbYfMm3/9ctJskZ2XOAWJH6TCUnM67pIi12Zncz1yXcYP9WeSavkR1OLQ9+kt49Ot1dKRFFHg3GBX5Ju2IUPPdJrzQAA=",Vpe="data:image/webp;base64,UklGRsYDAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDwAAAABYNQ2kqSBNFAWQqAMg4U6EO5r818pIiYgTFO5TLh+raAr6Aq6gq6gK+gKuoKuoCuPLkdbydFWXl36awBWUDggZAMAALAPAJ0BKjAAMAA+MRSIQyIhIRccBMwgAwS2AE6c4GtvGP7XxVnCxgpnAdqXOAdA/yZuta9DP9gPJA+FX9y/SQeR/GO/iH1DZEvn6eivYL/VRSbVi3kolqBKRtMXGt3FVp5vD2S/NrOwobEfw61rwv8bMQOlWKpsJQUP9B+rK/N+ZWfGdaQAAP78Fv5p7Je//VlPNFnv0oc7/lBt7NJ+6FWZZpdhZR8SLwIIXfX2fzGfLgvVdXyj/m38YFubuV+2K/PoIVNQQy3DVlL0SQEHE0xw1mxk/E6rGF4PCvC2o+F0CL7wOBIW+9ccvvnO+xap8ACthLnxFs3SP2S4zPPkhC0/8/p+A7QgaqnU0Vra3Cc1WLzqs3ciI2n/O/769iffIeZ0pbQE/8PwAs07mNV/GNT+kVhhBM54vTBF0YIAzQbTry6//O5+qhAlm2ZJaWeWMu39qzG76xXxWnG2Tl8VE9Ortsea2UtUCt1ScT1/ilbffAckGLDeLOR7w6KqAchdrfJxkI2oFxQwz2S+61597b30F3KxYH/NGBbICKFIafO76inP1ldH+IlBr/oXafnlr7+25g2IYROuAcqjD2XKfEKjza4huGt/b97OSv/zVJr0Bh+bb35vezXzjQx+wDdenUx8kMaL+3ysdWxDuCEcBD0FfEDyl4Is6hi8lMzPM9bx4j5L1wt/uZz1EIE9XsRvRuTIgf8/ZF8Ct/slGrcCM3l+HTfw1H7WOC2DQwPYHI1mv42yQu2C9W53+GJnBwt22dqx6Bm4GOyV4D1M1A1HGgqBMszmv6ZsZZl54vexs1TgZadbSmfeFYB/f9+bh83+F9dIfaLwVjCYIuh40VHyBgI0Oyi3Lpksf/TborrV8kNoGBIX7c0nhzCmebL+HnRoL8KrVFpMZHBk6Ke/6o/bNOSh6hXN4tBNJqCAM0IJMJS4f8O7rDRzNtk22P+aJ6plBLMCFd7XekD2KbBM/yuQuTpTL2KnbpL0FY3+BFN+8y7phq+PfwHCT+CsMgy8S940FYqyZ4F6ZP59IBEsvxpus/59rEoBSIX3AnfMTEnKj0cdo3XPUhPQCNo/l+nGA1dgU9fsLTnCzP4HFtsA7sS0Fxxcd62HuPbikm1SjlH0iqdux2P/NMzxWvig2rJCeHOQXkyM0AA=",Wpe="data:image/webp;base64,UklGRrADAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNQ2kqSBFIjDbCEVhOx91H+liJiAcTp9N4zX3zK0GdoMbYY2Q5uhzdBmaDO0GdoMbYY2l78MAFZQOCBSAwAA8BAAnQEqMAAwAD4xFolDoiEhE5wFJCADBLKAVYbob22QK5V6Kdt3zvnoA/0u/D+gB0tEt3x7v7R+S8+Hz3TkjpiP8s/wHpa/1XmD+l/+N7h/8r/n/+w/NXjT/1yV9/AZBHBKpeTZWt6tie0LuVcOxSa+9mxq7vn5dIKDxOe4bx5E7SLY+11ckbzKxAez7D4AAP75c11nFYJ/4dPNf4C/5r9sLsH/vSEONGGUAo8PO07BtlYTvXtjYYaUBD16bZlkBGReRpIgsNrP3w9JGtH4QBb3t2UtfGCOPAvfbha7xf/xPjvvA1eF3xBZ/2EjAfd/WLhwnb1sbgCrh8r5ovGR24eAc79fa2tLT33QSzvfOtyqxQFmR3xApVRyBfErqDTgH6mCWkQSdxL//0HOpsVvv+JDAQvYkvy+sf/lmAbMJOUdsxQ5xbMUqc/5z92yVkU4K9eHe6Xuh3WkZj37OS5a3dp/cLtY3k6tIBFjjVNKAamjCBX9XyktGXBmljoeEEzqaSZB4nAH5EK5OjJb96f/Y+Dk/Vwfzy9W7KGlFVXrzN9L1ifmBgkdP/ox5WkkcY2dXlZQmlC6AZHgcYXyxTXWB4Wel6b67sFBtf6CAKfS6eAN/KmfwlvoCUydObCw0V3beBmPd2pJgXbXvlMxxNoe0RIgDM4k8xw+HMBEOPVaNA5MxFwFp93sgoRKWwuWv/+F3g5DAS81XG8NIq6vGoddv7zHI3cW3sxJxcIuKDgZyD61B0PH3juH/7fzz86cGunPf2e1Pf1F9Q0FPbIf5Ka//f3JK3OrfhET2VJtv5rIYp9/vHAWot3L0eo5cHyw48WswfHOMhM0lEG/TM5t30fZBkao7XdGSi0RPcS/vg4M307xtScE4nU8FENeoNZPQcf6PkgW0Vz8G6fx8D2mfZpSG+bIEPjZQs+CD0q9y2iYormXVkFRvLWypu71YsOK98U3CH4JYPCTlj4uD2+BBeL2uTAiKtK4GXNwppO7y+9tKzskgS/EY+Iryww2WUTin5bAaq1DJtR///t7/5/+BcVWc9xVY+RcIPDiaUPOEpjO2Tz8uh0Vevhv+lv/9XUT/Zqb2filNLCTJ+06S3SYVHtlht5dwh4g2Ra0L3fhaE3j5gAAAA==",jpe="data:image/webp;base64,UklGRg4EAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNQ2kqSBEMjDbCEUpOx91H+liJiAcbr4bhivv2VoM7QZ2gxthjZDm6HN0GZoM7QZ2gxtzr8MAFZQOCCwAwAAUBUAnQEqMAAwAD4xFolDoiEhEcWAIAMEtgBUk3s/39j/EDnTOOoEzifk7/T9K3bbeY3oO+gB+x3WO/tV7AH6u+mt+x3wc/uf+0nszf/O6u/i50QXrxlDnqH5L5+/8h8ss+maEvxqfzjxgPTrz5fS//O9wP9Of9L+bXGmq7AD0WDaDicfm4bD9b5lEIgq2M5Z3B3FsV22YxnxEEnZ7TqEHDmhSPwIypiHO9gSSn48rgEjp/AA/vpkBHNZMGQWZIDWI9SV14n4Dlfvkj0Q86/8z5ZkwnB5HEY7e5sukFV+Cl3bRwr7MWI6Fum4ieZ5IfTbPNAPv/5V/Vi36qB3viB4lc79WLfqoHf2mHCZ4+pkuNwV9UlobR69qm73bAh+E3H0xC1+xXNu3E2AI7dm+25XBdS97kraaY+ed/hD/e0FQRg6w30sAmL4elq8rNQ2c4AG8YH387a+33sOIQ/OyZZ7o4QKYtDjamHkXcB3cxnoj+V3lwlCd/7jo//B4ZYY/36MuubPF62/5/GP33hw6Ox/ekUDGnGAT+ZOzfH4+98zanuVM8dTl8OzVJGVT9yA880n9I/ZoNwH3ltZRzWcHYhHOsbn+SFDW/3Z2XQWvhvM1qHuRS62AQ8dnI3Lp1QyReaiAvZCKrGeDVGAqyl84KO71700aFa9bD5zTG+FXik65XQaPfwS3/VhAUgh7/Se6vtf6BWieCJNMcmCxoR/2Y3mm25QwHzU9qbkwFNuPW1HwJc0tsDFvPQGKFx8S6IyBwSxvmd79FQeQRWuhwbwk1n1Uxk73vKgKTpSL1sXETqAJd/zdyY0IFPhg2LKbbO9uFciwRjN6bL2TULT0nCxzr5WpTSmA7IhGVpXb7u/2etwjQw6FwHg9Ov53aA3/vRH94cSuakeq+199QbXcSbfJtLSCMYcr7mD9+vvJdJT+36kiHdU6a4bvP/w1KS0vm6viGquB77mVFfuLwF0dyNBZBM1r06KUyWecX/iTS+jNBFGoGXZw7vzok/raU7GSshjPgSxuv/PfHVGBGgfm6n5zGZ4agMipG/Kv+Y7lO/Ttyi8eGTLej/T3jqTQoK9EXjiRGccLyCxpR9CLu+FOn3E4pd1Es6/wCHx8w0H6LwLXMJx0Zh7u+7JyA3rCuNVlEJB8QVFmCmUv49bx895Qx0eOXRDJ8MY1L7Vf+RK7CMX/hoYDbpLpJyT78n3pO/6pW0tAxs+FOlFY3cpfeFCdEnhw9I6dUhLtuhLHg3Hi2+tOjIAAAA=",Upe="data:image/webp;base64,UklGRpADAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNQ2kqSBFIjDbCEVhOx91H+liJiAcbr4bhivv2VoM7QZ2gxthjZDm6HN0GZoM7QZ2gxtzr8MAFZQOCAyAwAA0BMAnQEqMAAwAD4xGIlDIiGhE5wFtCADBLYAUvLG/wD8AOnkrZ0b8YOXg4r8D7+QTXrU/VfzD8gPpB6M/Ex6Z/mA/YD0jv8B7IvQA/p/9V62n0EP2M9K/9cvgw/b/0i3kBXcYJXwk8sL6I9gb9Rv9uoFUW41/m7/OvaHw7NfMKmxg83VgGCN6kis85500QDekX75WRFJ8olk1aoYUOv8/tGhl2mWEfAA+eSqBnD5wllCnURPdz/4U3p0qPlOAO95Hlz77hppTeXG/dtK6D74FuTfP3q03o+m2FCTerNeMhdt79aEf0lBqWfAxeX8uChZrf5XfHDTIingF2h+VLK1D8f2OT/Ct6BK0lfeZYeFFHsUqEy27ptH+QyC1DoQM9Hv4O+ZNhmTn9r315YpAFpLiJ9U5po3xFQbt11bj//w6tKtqVDdT1MX9Bulp/vw7qC3gnzjf7l4S4Mpc8NPadpZ/f7tkkXW2+YPiTgimGLxXt/PGBtvlUX0nVS2ShXa4eyqdiwKdQ+CVaXFVczGjmrMrlv16In6724xA24cTQYS28jtHILdPHajAAUdvQ9S3bH2nJaNvAyNbTDmnscjEg+BsQiwmO+yQRzxBRhphYkdMctP0oJvJ7YoVs3GSyrpfzSJWg2MfINSVAXKKJxTJgRYTkfNIWOWxDyf9KCD1HDtbSqRsvPow2KUL5UHd7pJrxjxL/jmijKZ/faXfX/FYztgHKLcz+6Y7HH/nMT+MLWLjPL0UH3EUDF9rH/lgAFVwIwo4wBJjsZyeD0G1lq365JrAug7xPzWira9y3PHnizZFBYNMeJM6NA9hOrl88FS73cuV+x24ZRf7zZIcT2TLm2WObSpqjDYGQ8F6tLPvekwu/8lAOD+3x2XAEB9Wtouxv5n+NNc2ONoBx/7OoRdx+AqG9tl/NK3C4ExSQS4kvwodIU1jRjbuh7EdlL1ElP6vK2szuVArW5NrhTbeoOLhaorm0eDpdKHm9Pl6EENKbJppKTmEcX/L3PnNN1U9Skv8icUL2OG6L95tRsZZDdlhxjYZ8D5NX6lzFMDRZtQRnSeenOvd3nMNdP+88ukoTUFxqAAAAA=",$pe=""+new URL("link-64a0b60a.svg",import.meta.url).href,qpe="data:image/webp;base64,UklGRsIDAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNy2jaQpSSVOxy5Bs/eu/wtExASM0+m7Ybz+lqHN0GZoM7QZ2gxthjZDm6HN0GZoM7Q5/zIAAFZQOCBkAwAAsBEAnQEqMAAwAD4xGIhDIiGhFV1UrCADBKALUX6FALRMD98ngebZrcJ7zh6AH7HeUB8H/lVZoB/Oepv4P9TqTUNj/ID152u35AbMnSA7ZLkZJiH8y/5n2Z/GPoTegPRS/1+8qrC/WI4tR87nz3+Sa9by9DnwdIxgFNajvW8kKC9ts0BPM/J2dtbPBza5bywTmtp/J1yAAP4B+8j0aLr+e+XrqDhf+ZL/8B/ek//YGRKLXqFYHA8Xv6y/uMt+lG//Vv4d/RyYlPgr+xlv0o34qXmlIqxw+pNRZ2YLJoBi9MRPOVPus3yt7JyGphWq8b/R/0jbHwab8fgmPr2DEbfjruol8GkoURXh/xOclw7ZREmLkhN/O1B9s/Pe9/TgP17Lt6A3QbKAplgo3RO9o1k1cY+EPyfyOQbyLwVy+8NcdzZmnuBuvCo58C54grkbJXBF3RB1KEYozIFtbemI9/uK9Wzdmzf4PaAphfnI/MoPcmQVZWjbv2zV+dt/MobVyeImnnAiYEW0OWk/xYfv/lRj8n9zzvgsRnN6cpsnRW7WlPqfBvz7TPTyUCUs95HMiuhFOOn7GEzCD8z6fh7qtnR+zJwbBX/yBu60tBl8C3YpC1md2/Kf6Ulfbsw/djanyGMfZp+VK4geZa6SzpolFpwpxDhnPOpf5lUljG5K461etU1mb8H4XsNdq4n+u1DWbn6gLwey+ubJhEYb+upjE7/tBv7e68U+i7X86BbvRclzLc9v+CbuzzVRUkN/NtETgPUXoYzfVVFPsnyCzT2e8mTuu+OnJzT1OKbbhIog+A/Ien9ynKTGRtjCjb3+NvBZFPCIGqSe0ap2xVQcZqaI+1U3NSq8rKMZ6aRLXL3Fz2eNptt3yu/5xrwYnf3HnAONX9BP7pXE9hNaR0dFRFnRdmcepknCQAXKjgbdj+GFHE1PP//N2zwJYRNyL+a9SLsZz3fuv9cvQ7TPxkCVU7Okh+MprHgSVdHe7Gjuo3VpcqLlyw9RKhw/I3/qpq5Jc0MrhUf5di/CEdPRdX7lan9zKVZ8b6Ky0fMylx7Z3/gpd5mE/iP+Uoxt1Pqx16jv6b4a2cof/n+/52mDQ5wYcxscKIMfhW2TbFNwIomC+Ppl1meT78gLPk7NzFEs/pOkgP8Z6sgTYAAAAA==",Gpe="data:image/webp;base64,UklGRuYDAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNQ2kqSBFIjDbCEVhOx91H+liJiAcTp9N4zX3zK0GdoMbYY2Q5uhzdBmaDO0GdoMbYY2l78MAFZQOCCIAwAAkBEAnQEqMAAwAD4xFIhCoiEhFVVUIAMEoAsrBfPo+ZIJfuAN5L9AD9jvIz+ET9wfSqzQD+c9TPozfY5/T928vNrpjwP8LxgdxB/nuQzmG/zX/ffkB79Ggb6O9Sz+of7H8x1O653d3G/RtNvXfyzLI5a0U9osECSkWcLNnGebjZMrIN3QkkDmRjevNyPxKOaJDE6Fq4AA/khDxDtvz4lZ419q5cdf+nof/pz/RqD/YFHpk+B54cNLxEF5f/j/3ky+vh9/7qvPv7HJjcfzv+8mX0o3+02LgWzvfYi+GGajZ9K0wvk9Ta8kdT6QOf1F8jFmPv+ijLTTty4SunHPHnNWsm91W0Bq6yhHDHaEZuwZmbKSu6YJBpvP08WUniW91bFhx9+76U9n59qy95l56/2r8KD9A6V/U85u9z0Ng+w803xtxxe69Anygfx/A8CfGR/huHlJwTfcCMRLvsSYHph6GUdacZNKX7iIYL5iC3vbiyXmzRrmUHtSr39YVt37Zq3LsDC+0YDhxqVF+8WFdj9n7tfyNM1Sktn/h10LSfj+fJoPWht6xd+qafys1XAd3NaVBKoyirxpYWLEd1PRYOl+Lz6kuNLdkZlOr6kJ39vtTbmXL49pnW1hAcr9brmB+gAHsrBbdjvf0OggcHaxcidvuFj2pKDezKLZ4QX385C5QmFx/S5NQaLIOYrXTMoc93kI614MKYvugXxSO1/2AXbYfjsVsbzQFpwtGMnsq79eTudUva/KHx2+8L1jVBQiHJ2iRdsD9Ko6lEdXRseeKVsUa1CJrgeIm9gYES8XpSqlo8s419ntNszrzRplw/Qim1Go0po18qXkX7Vb/uafe/9GN1tm/3Oa7j5UGQNidQxn/+NPXS6ZujW9RB4HO/mOPkUTtXS+Z2rYtmZXKE1o1W50doY9pzkbVqrNcshaoImFv25kggnQkuHw2YY0Kg2Jll/QXq9Ev/RzaWOeSKST4MAr4v//5B7ZpfDStGUE0RbBqip46uUH0EYB9BuomS9f/X/pYFWYR3L8+E3TUoXQUgUGcMcJBuHoxBhF4a+I0/smsSK8GOUj1C0EgVWJ+QvykdlsogrjGBE9qMGKifw2Xf4H+8mHSE9GKn+XYL7UXbsyR2FCT8542z6FrbTcyy35kQLOj8Qf7/GKrFzodHCZdZ1Sqc75aBeaeXGxon2m7ZvSuHf+OroHebUAAA==",Kpe="data:image/webp;base64,UklGRlAEAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNy2jaQpSSVOxy5Bs/eu/wtExASM0+m7Ybz+lqHN0GZoM7QZ2gxthjZDm6HN0GZoM7Q5/zIAAFZQOCDyAwAA8BQAnQEqMAAwAD4xFIdCoiEKqwAQAYJYgCdOcD+Ac4hc/qvmCWPqlhF+pKePtmvMB5tXoN3g70AP1d9Nj2Rf3UwgDptdDl6UPpPwflVtafyZ4dfjf9I/yu0Ae45/j+SjmH/zX/C/lj/cvjW/1Ptm90P0Z7Bf8q/pf+64FVjody5speoKt7IEKjgimV6v9MX2kVR9PuX4C9s+kNgVEMRsMMYoSDslUjrgXKpDXIW7FIAA/s7zASnJvaRoX27jz/Jiv9p5unSk/kZLeN9k8PHTV9rtEimp2E/Bj9XaDCv77GBfmJRWldD/Q+4ex9PW/zEogbEyotnSWgKFyNv+1gvz9I6UeXUZyVvorkT0mDfe0Cw4QRp2PrCkhiH5Pa9nRvf28IFCB6uJ6ahiB2MiBHS1x7BGYl9tFNi4snAV1llo3a0iWZ067/7ElXaE/9W8s0wftOyQPDH9Kq8XON8lvWsEV2kztQ2ga9te/Xp1JZXPCEF51OCMQmvZ7k0Jz3M4/6rvy1exbmirrg67yVWVQsMyoCBZtfH79XfZYF4Dd/0Ubhx0GY3+dNgHvPrrxNnConUOOkqd9F3zL2wJpSD+b1Xz4b7dMk+e55T3Gn+3RCaxemuMMXVsgrg+bkt47MXXE/MZfD5bdair+XZFrWk+p771u8VYwwu+cNtLA6fJIbrT4WWk+7oT9clGkneJlFo/waMVgwhYzqmXjVkysnGzsOaar+hytoqZXWT4l5Y6mcW2D/8ZESf6jBgWbcmokULZGb+C5ZBf27d8V7cZzJJX3jTiOpU9ikmjsKfuK4Aq9oafc6KP/X2J+H+VKbJzF+l7L/7WI44P6qbNs6UjxP6X7I67slUZi46zuYZKcPB5P/AuAMHnGSqE5fn50bR436WhfhYeOG0okx7J16ZBpkd3E+X5PhH3BRlFkFcCxginmESdUXNQ+G2XRAC/ZjemJj9zvxrqMKKgVF+VkWU/LNCIzjRCwVsOrNmtQa1w+pY6Ejy175vZdvsIQNUnpIG2Le9CTtBbhhMpvdfbMgpn4VfxE0VsYVN05t+Re6T6gG4r2s7aHQ7ix633iQr5GEqacisdsKv7Qu8S34fzXc73zBS3GY1JEoNgZLRXf2lXHTXDoI3myJmvMkiL/XJeqvCq93tKP3DmC+8yeoKyIScQzCppc0uJLdSg1QDJhYVmWKHzNXEnR8lY/4eWE8waHphLWHCbp8vAtetpHeQPah4JWIYzH76v0fXsL9O0zAzc9zfpJ+Mz5dg29dypvKZ7pRON3n1DcCLGHCPXC3Ap4x7s5uJJXYfPMW0sWK+rLwH63DCZ3eZ5E5nhjPEC4astPZG4j0xYcoyAAAA=",Zpe="data:image/webp;base64,UklGRoAEAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNQ2kqSBFIjDbCEVhOx91H+liJiAcbr4bhivv2VoM7QZ2gxthjZDm6HN0GZoM7QZ2gxtzr8MAFZQOCAiBAAAsBUAnQEqMAAwAD4xFodCoiEKqwAQAYJYgCdOY3+Ac4gYHmCVRrUxFOrOeBtm/MB5wnoN88zqDP2x9gD9OfTO9kr9zfTAzQD+gdpH9k6GTyB7P5QH7r5Rd7eu9v9GR/8fxmdxL/b+RrmK/0T+9/k777n+h5ofoH/u+4H/Jv6b/tuBa/aNmlervjtSaDkkPfLiVHQebzJjqg1SbXUaXveUllaTgwcjheSf0XetQjZkOHChO63ohQAA4XY012F80IeS5kKt0T4uCoR8zOVW8cQ8VdJsoVU/lQY/VZGj+TpCcoMfqsgbip/T1v8OpvVdXnSGWPx63+HU0/lDKXnNur4dRqQuOBefn+sU8tJAwiC5Z8eCNJ7QIBiHWjbh1kT+g3+Gu58f4s07jdnp+fhHuu0EQdqymLk+AXPZSqXZd40v8NdW0voEA8kAyScl/sSVPoiShCX/nMbwtX2yBRoNMzRX3innil65YNltAJf2zAXaJfXJITAa4gzstouymDxvJuPeOq78tRgBXAQ3Y/h/h+c0z0bbwU/vfvr/E/9Cp6UpJRyJ/IYMl/uFxO4Bm4CxXu2kFnWAoO8CwiY5dcpPVbPJkejdkVICW1qfQ+VB+SThW7bmLSJwMu6P8MS2gdzTc1sj4SLr81a2e1m1Tr1A2tkru/Vm6jy2eshNc1gzOXrEOiGlf45l7sGoX/RFfktVhJZspIvV+bTHFdS67pQvv+iCYBPykzBVqPlEpba7TIL5DRgceXtCNx+18TnUi0PtVGS3/Z6XXB/+Kfy7og5ZW9LxcSx0OlRLpKR+CXHBcRwVTfc9/q92g34Nq13fxVDlMHGwl69p2d+NFVdZu14F/SgSCn8pv5Lk/x+jt/xM4v+qOYcSg+Ipv7Ra1UpfnX9X18cgXUvjU0FgDh4o2vtlwtqIFmCKECf1uKkwtEYvMJZFl1KazJAelwa07oHEXWPpfDubv+3m+9fF/YZHu03F8kR77d/pTymVDJ5i16419PkR60AGZ0rCkIf9rBLWhvbRH97ohsFz21SHc3YHrArpMrd+JH56JSYyl3EGuA/5G5IiLJerix532UZyP6DQ0BT5JPq3nxNFjKFNMaHyt3VcoEg8ghjNILfl5EK1KPTFmcGSlm/Jy6wliJnHCCqFcYrJYgm1j9XSyaITyug0J0zr3sQUFCA65D17TEMU7UIdQi3aZ/m/hpZTsG9Sx69Sx1TRTQs9yJI0GufFDBBMddYmPWrwpUWVm6BSzN6zSgqodY4mN45vrSYMEGnOn3rDCO9Nyw/7ddrDdCEEdMd6XYav3gQdnJH++nbkIbf73h/+0nwEeK2Uj3dp/iuJ5E7f5fX6Il9YPxhr/d1g+PR4S6BpyVO/aB+WiYMGzsmrYllKwOnyM8SMfR5sf/8/0fnRreNwR+AAAAA=",Qpe="data:image/webp;base64,UklGRowDAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNy2jaQpSSVOxy5Bs/eu/wtExASM0+m7Ybz+lqHN0GZoM7QZ2gxthjZDm6HN0GZoM7Q5/zIAAFZQOCAuAwAAUBIAnQEqMAAwAD4xFohDIiEhE5wGSCADBLYATpyAHLYV+6BxXPD/fjJX+df71iO/MB+uHo6f1X2AegB/duo8/inqAfrB6WHsVfth6MH//eb1gT/uMFL4QP9V9s3xp6E3oj2Cv5F/Wf9uWVRyES/shtf3HQUAV2vMVtZFOc4k4uHMgJgxIL2vUXsGdDxcraDKGYGp20UnCncuRgAA/nGezW8DPCqfgD6I7kKIpupcYylufgRA/1UUIFUCeDjeFfXzH3zHmGiX+VwVDjzDRLyT8e8qxCPKcqy7SnmAvf/cL9Nnjb7nxPmxkDrMVV+CZX7Q+h2Te/jtxS94U6w+qNid5eHdqsd525ce+Afhs0GnxCKBUfBUd3/7+iAmvXaUvZv3EqjD0K/7pVr+SRP0bcOQdtQf2FT38Lv32RK9ZzrMEbfmMzGtIDoXhtchXY5XeWdami3wQqUs33Hu1xn6XIaU1v1jomPDVODBUF7WyYMeUoO6SCE736SlPuHqaumRh2dTCU6FDskBtCJcbTx6Q2rQ//hbPEkO4Vwc1UUzscjmnOEBmzl4aOCfmZ3A6Vy0GvRWIdf3+g2az/nMr/1HqrnKyfqYPGgkJ1jtOfzFMrz5jv/WchmHZiMoltCPCkov7xD7HW5VkVU3R+/fzy+795SOEBX+9q3HPuK1C+4LIom4LtFkpHXTzjuv8njrI9694nCnSckVOLy4J07ZfOj9KYBYJTuO18t5835wefY6EiHTsW4YpEC8GYtGxOhEp/Cem8CmiqrVfqJwUfTjIk+WqBXW/eHv3nfpX6EGjf7uUf+w2RRuhG4ubw+qyn7pqP0Fjamn+Kv/4gPf8mqT/+EgB7NS2alangpfqDt7eKsPxlwdZz/kwlIGAe83AcBmzhfY1D0IXWIpoXj9NjDqAyvRU5886YWbo8tuBl/yamak/LzZ0YUVcMF21LK96TUUvyAkuTrZagSqoFkWjyL3FbesFphtPS/WQB/8YoasU9+8AhUf+I40SaT0lr/vWtNhfn5GxDXH/m3/+bVf/+cwNMlMQeDNryuiCjYsAvkbD7QBDxenOMmNwA8ODTWdUG1bDgLAAA==",Ype="data:image/webp;base64,UklGRk4DAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNQ2kqSBFIjDbCEVhOx91H+liJiAcTp9N4zX3zK0GdoMbYY2Q5uhzdBmaDO0GdoMbYY2l78MAFZQOCDwAgAA0A8AnQEqMAAwAD4xFIhCoiEhFxwGZCADBLMAUvLG7E8gfwGAHbZjgbY/nkujA6jn0APLO9i/91fRsubVc9lYcaN0Y7Il8/T5D/h/+D7gn6r/7RAb+AriUhZ7VKhhz6rLo0yuHWIhfCs74wP+Cz26v6JphIUz6ZiWFbNB6HG7JSBbyMXR04MQAP7LdAd0Z2KA5dm4/LdhCZF7dC7bVO3p/J3Q3/4ozcDtf8Hd/k7ob/+NkKbFNc44Jv8Q93bOVCghfuPeiAK+GoT5wHljzJNG+j7k8uRGrBn9pDuf/IPOyufv85sWz2QWn/Dnc59mPg+NS5kJbmmHAIz/9G1TIz+eLdNb6nEfI+YvkyNLlC0KDXXwb13LYCx0YxRzJtFf+fQz7j/x8i+vCVCbv/vFVW924/ddgI+aqOYelezliBtcwGhengEK7oPEzX/X9DSnrHM3+pOywnrfeBo4yo49A4/GQI7019Jbdv6iPyEOM5XVtlnQATSnhQyFJXvNsvkMF2h0S8+Mq3lVu7s+TfHg8gdMbJu7fY4pYs2JHZiWnaorS7jdat66om4jNRIVdtLnUT70aDpnB9q+g6ic01z+IZV1+Yux/nT31C8iwe4v2OX2MwXcmfi9cFP+rt9xGo0r9TQmcwhX6H4R9hPmJwed8wuv+c171n80U8SrmglLW3nx2pM16Fa2apb3rmfESiyEZTQc1NspPAcEWjkZ4j5rp4On/+2OtUNmm2j/1+OnKaQWG/tv8HL8et2jDv5CQnNJ6hNR/mMxtPzX8IXd//G47SAcRjaCvUy+7l1tIvHjI31EdjcKsu2u75mX6xOKiF9MrzM3zH9Z/P4Pm2xNXmzupL4wfvJGjyVAZ31Ty4xhYr94Lng6Ou4+e2qY5/4EVN0/eXtVWlQ3fnCfOj3+NH6OZyxeC9XOlf365CTjcImZ+jZiuRg3csIBttyvNw/PSFVtNu+U70PTNHwZs+xX5wuL/2LJfWj52VDMEXupM+GYyeZAAAA=",Xpe="data:image/webp;base64,UklGRn4DAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNy2jaQpSSVOxy5Bs/eu/wtExASM0+m7Ybz+lqHN0GZoM7QZ2gxthjZDm6HN0GZoM7Q5/zIAAFZQOCAgAwAAcBEAnQEqMAAwAD4xFIhDIiEhFVquqCADBLMATpygvwDmosrdA46PeOGA6GGj20vim+rd0ZnUd+gB+t3ptexk4Dr3HM048L/OaLz+QGvJ/1Xpj/2Xmz+dv9z7g/8m/pX+kOm1kMlqQbu8peeBMajjBn5UsTpjUCQvtO8BeTD4Hvz4JUSEU6UuiiRbkoTzmF76MEyswAD+/xtWcm8QUpSvlw6ufMkqz4cSFsQVNe38YU/7MefLQY/WFP4zx7en8iFv+N/y0Px5dX5Gzv5c0fmxgpL8uUZ0uj1hT78jnf8ThodFVLYgOZ8eVrHhLagvNniv8TzPlvnJHctp+MJH48wuU4OZg1/1apMt+F6aqH9ifd+nwwsh/i482X/vEI6PdOjryHyWLxNlhJ5UTkAsH/NMARf7Vc8b5JwCJynHTi7zcTJ5LzACZ1GWpK41uFvh1v2KC6Mz32Q0u+tW4V24ddcJSHT5iWArH8MSQnlm4y6ySsRVeUxvsB93D/D567ML/NIOvZeq12aUl3DSv6vOdrFugKMxKPhtvNvCxs7eW/5u9XXxiz8a/KvPFsDLTcXr3LnII7jK4xW+U/dM3WyxxAKF8VQDQjFBUCxjBOnf/UdQWhknSbDEk6yj6ydvHJZU3lx9Q1YpF7qPxjA/hSiXTfK+gQf3LIkbdHc5C5VHRxWlL+PG/UVi0rXzpyS5mF9135tV4guVkuhdOzQjzCYSQo40FTzB0NM2orPmH3nes6GiDHuwGHx7U91MXJ8Mz/hkf/pr1W0R3Qt8ZkuHzVii8gSrp8U9WP9790DI/5bD//DQWsHuJCV4QCjOv/g/TZ+5XsZttm7K/nPR/+++su2Eg4DK7OqDp829z5Ho9ofhoLfNz16OxwN1N0tK8dCG/8iSCfQITKR3n47TGp/fQg2aVdvrghursTNfc5r6yqKPCdGW3VTtk0P0gZgotGWrQfqz1sgHD87A7hg8bdT0MTvus1DHwKjG5UhcemCDIlo42HZqtLS/+nN9hhOMkqGCDDfT/5O9hpFb4uyjxBtMYW8MAkAWViizPZ+fzvBoVOsTpEAAAAA=",Jpe="data:image/webp;base64,UklGRmADAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNQ2kqSBFIjDbCEVhOx91H+liJiAcTp9N4zX3zK0GdoMbYY2Q5uhzdBmaDO0GdoMbYY2l78MAFZQOCACAwAA0BAAnQEqMAAwAD4xFIdCoiELjgMyEAGCWwAuzmN/gHQMSL61+O3DhGH3Vb+S+3LtLbbvzAfq76QH+O/mfuA85LfAP2A9Lj9XPge/cz9u/aKpAFSoLJvJ5mof70+yH+6bquxTzttFkbGR1iUefOoJ0I6SAE/t0aj+f62mjpsWnHNlc3N5aFym5XvygvAGJAAA/p7tdSVNjPr3tPezh3wR+sXh66yJ8U+xYoglpK70ie/7bO+JaFHWn6L0pELsT/9F3V3SBwNPlcmEG8zqD3AUw/ux/34yVL8RDE2Z1xnZEu/jMaGIP/gp6pmMZhMBc8Hezj7TswHw7ulfEmpAVE7qo+YDOu6BrbQoK//x+kl87ZNeM75p46+GBvpAcG/iinkjlkGYfNbZnDVH2uoVqmNIZwfYAwHmC4ZN7831rrT/bf2khUSbl6+bnSBzVRCxYPTGab4P18bh7m6Pr8M5mL6EejYK5InkSyNqiCBjvwVCtgsR2YdDYVyUBDdLixefCHoebW9WjzQv1wBsj9xZIddo4FnZ3EVPnEBpukYC6X9rHhUI+DLzpDDwfToWRgBEd0Xn8XQyjnS34FXCFFIxDhwbl7fuJvhwa1ea1e3CdwYU3lfGhP+SALaDzdiw/cxNwJ1qvpKbAx73EsL/7Z6wf+qdZ5VPyCUej4p92/6CwZ5ORBXP0OX52euDoLxBF6JohzGhyHoYU5zRM5dDUjVv0Ve+7rEvtMxqJUT2ZRdxgcOf9PfLERxZ0ddtpJgBXvpQD/ZhOFOCR9esnQ8SD/zuXiIfmT/x//8bDL+f//cIkf+/Plx6pjj+jtci8WU9yJxuZ0XJ4ryZUR3Lbu9hLtF6IgnPy9/zkfVgiqtvWy2h4X6X+A/q1Rvq0EO/j3p//Jj/jQPUUJiJhw4K3TuJx/i9a64o0IdOP0a/vratFz5rI6ktXqZfbYl/Cy//P8DX7BKxG+i9EtsoU8ID12hli3/uFP/mpKKDriyyNYc7wDZMgihQNIwMcF4OajzkZteVRhjccloAAAA=",ehe="data:image/webp;base64,UklGRjgDAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDsAAAABUBRJUoOkkYIknCFpJZDT/qmKiAkI01Qux3D9mnArwq0ItyLcinArwq0ItyLcinArwq0ItyLcSv5lAABWUDgg1gIAAFAPAJ0BKjAAMAA+MRSHQqIhC47/MhABglmALZNrruv8Pen23o1u2A3EG8jegB5ZnsX+TTml/X3/gK7XK140BTxPQkzvfP3/Q9wb+S/1P/YcCalQefHhP7pSmMTmn6WIbSE1ejG74aXLPEsdVa+Xi15TtyFC+EHBQFc2EDdKMZwQRfQAAP5GFqY1oXcyytPevkVQ5p1pld6p/wd38ndDf/y9j80ATX/B3fyd0N//NIFP8NT5YJc2E18TUwXdd9lWVYAvKAbXEr7/dP6Nv47dHpIum9pXfNFecXo/8lkxONf3hsqrT/4VAKDp/3SQgHd24GFYU2YYyZB7QL/uGkrP5uXJxwGfC7ll7eHAPQUJeMgDxe1iZgDWwfhbrvBl8NCelx92BJ/rCV+Pvbf2vGT8CwuzCUteL3LNE6ET45pUN9hXWMSo/eg2oG98z/SOnQpUuTK7FX9/NXCKtokPrQWgtFXynES+jWH4Dqz08/zv0MQtCD/DC8PedsQOeibWMmkvS9SQglcwVjepCdWhScelCglC/3lwrzaO3ioSPi5kv64pfWlUlCPKP/RghruNz2+C4uUKPinX38pKykoyVXTnNQnL0rTI/HJL73+uxIbal24RyMpzQZVfzHC8d7X4LFEGKy/bF26UN2Wr7xuutCTVsN8+xlaXpzFTkcaf8EESZaUpXs6fzVQVm8zzq+qfdfpYoJlcPPm0sDhqP1SqyOf//Nfa4sc//+aaNf/yxAunzh2emTssP3RRfCdp9zP4/L2SkjZte5NOiX4E+FH9Q2lB5zCxQ7tx6BVGw+Nf5uaoNoZcZZv8wH0+6I7nbffdjPyHmW0QwR9SWJcnXjzpk5MpF0b/VDuLR4A/wz5QDlDaJasWp9AUzvbMjGwxy/v/MvD/x++yeZ/+8RROcG5YN30i2XtgEnk5ivG1QST6XqsZwKR/5Ag85uQEEEbB48luCljZj+egqhAAAA==",the="data:image/webp;base64,UklGRloDAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNQ2kqSBFIjDbCEVhOx91H+liJiAcTp9N4zX3zK0GdoMbYY2Q5uhzdBmaDO0GdoMbYY2l78MAFZQOCD8AgAAsA8AnQEqMAAwAD4xEohCoiEhGqqtVCADBLMATpzgbA8rvl+9cvvXJ/G3Oe24HIAe6/eKfQA/VX00vY58qq54cqwfHKXbUO/4D03NBL0h/yfVI/xxhyMXql44LJ/SiQKUBhB5yUyiMdONSrhk0cBWqJ8c3VQvpgT8hVp44WJLTruYlzEFsrgA/v7iiVaL2s35hQV+5cFUeNLPAbv21HDHrz/WReaDUR3+tb9vt6aa/+Uj00jFbWNyWf5oWv5bb6f2rrkWea/xr/fxdHtADNua0RBamStBe0tPupVz+HDx/7SbCHeRuuBsCMfj75e++flptG/+L5ELfz4/5wdn7674fB/2QMbbhDW8OG9eLMHBAsc7/e3MFKvpbQTnNo0ggebaDhiqggCyHcOWnXM4X+GINFJQNHj/dH8ww+5rtaIdf4C99VdHkE+nkUgeGEAIxHO1XAiZwGxea6Be1KtJ3Wmo8mrhq83/+W+76dw/1Yjq0li/DZOICofCoEF/iWJfM2H+UrWfHOlAJslQJ0sySiKlv15ykisJ+TRHeb2iWTvtAa7mrljL+nK0vF7Of8/vyoLfCCiJdZClazaun/9DsQUd/XU8xwd0QzN0d7PFP/XvllsIf6/E+7ux1L+HiKdHJ5uUT/fn/4OiaXdW+RaJMJZ4LMJ6W/Wa/j3mi1IwnLI8hT/2GAOpBOi2OcIHMi06HKo6B0uf0nfWZ42PJ6cH67V+f/LHOoSswBRrM6Xz16sXifvz/8FlZVfVwAR5VKPrp3TFHGWKRgjbkq3rPUL09/k2V0YW4Oac9/XvU8n68eGmtv//4/1f/mM+Tm3fwfkD+a/MZc0EKUxjYJ+0feM5TAWTUjBvhI1Bsd3PuUBr1C8RrxkBMoA8J4tdmpSpiHeGEXGjXkq5PT0peSXGRu7SZHph4TJQ+yp7c+mfK7TRc8x8jXSNcif/xGdX6vrA87XVdyq6tuIRoIUcx/N1dceW83kW9MdkO36+U56P/JPna9ltQExgQHZ6xuFdVvwAAAA=",nhe="data:image/webp;base64,UklGRioEAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNQ2kqSBFIjDbCEVhOx91H+liJiAcTp9N4zX3zK0GdoMbYY2Q5uhzdBmaDO0GdoMbYY2l78MAFZQOCDMAwAAMBQAnQEqMAAwAD4xFIdDIiEKrqtUEAGCWwAnTM0PVen+ZFTP6n9+9/IIF1kfnfYV/QPUptgPMB+tP7M+7h/p/1u9wG8q+gB+wHpW/sB8If7X/sh7SH/zuqvRxezXoDuU/gO0A3u+/HY9/wmIZ+JLGB6Hn8550dQ3+S/zr/cjlU45VtFhAMmlKlADzWigRqjCxP1i54EYaRZZdW3qCAhIzeWeUDiCDHI0mgAAwkYPj+lP+qO/gEMvgt2zxyZ41b/URIFn4QAM2BcztR1AGPqplZsU+FgZWrSvsbWqdJB+BMy1lIA9qx3o3tsBKzSqeXbA3r0MbsObukibMFUE+HrWob/5m9PIsH/PhKhWn0n138j0Edsn4+pn8VTwLRXoLlgIjwHM+L3Yr9uZCne75ZADTW/7GWwuh6+TK8DHr1A6FkgGOxIdmK9kwOrnGvsvRz1O9/Uv83nvRT6w5v5XHY84fbIt/pow0Qz+Igz4lkig7yfj+Pw0lY/6fVylPxcRh19XrJxFw/a8V1xbtEW+p/rvmryqOeKv2YLCLswjrP/vhLDpWm6thzo1n4D9C37SQHvmy9WawfnjB23K394vNxBuKxq77N5iXzTBXF9Pp49e03yAWyY0mYbIGQz8bCeZ2qK9FE99L3WHqjs48LsAU/fmrqtCfxu9P/5lQ+YuIElYHkKCpPPoF/UzSB/8NPtur9c/OnU/u/srXs6m52XzvtJ/3ZOy6aPml1vtcFrZv+eIz96bOxR9WfPKE1V9cNDtZ1mvq6Y4N/z6eC7JaLbfSK4Db8lxJEo4AwniFJdJNwXr1qxh9ZVRzPivSOK4hH169pxw2rck7xcBbcTwcLeH7frkpPcj/qR89Qypy1/jt8E0lZutSr1+PWq2VjcpeU9e5Sv0NPGMg85X4dS2aSln8yOjU7HNcRJ0e48Mpx3qpc3fi37qAvpXyMfWWfyJ/gwTCfjv8EOPFfwX2I7CrqqDxaj7C6nPAx/MpBBaSXJpPDlD+8wmFfnK+MuRI66clKdwUNjy5PC7T1x7C8BHI+PSILQhP+OEfu/GiNSaPnJIroYrFG9Rt+d74JOO/xcoUCTsA9m/0XPlNbAU/cpNirnXAhWfLqQpbb1xSRtsFjaTWWl31u0ik8wW5L1rJpjYt9M/9nSGS0gpF80mGWipSNh0EHsLxHZKbQcVgaxgYHYD1ew3pzL78Gsq1U40A/EqMpMlq8F7b6kgf3XnyP+IJZAoEaBNkMun2fIuOP7eGwG573Gxav7DVubizcWVtr+GtU4/Vk20NbWhP/nhxvrNMRAA",ohe="data:image/webp;base64,UklGRnwDAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDkAAAABUNS2kTSQBlKhLLOFNBD2vvJfKSImwKapXJZdv1aEK8IV4YpwRbgiXBGuCFccF04r4bQSTiv5lwEAVlA4IBwDAABQEQCdASowADAAPjEYiUMiIaETnAW0IAMEtgBXJ+PFc9G3yjufxARcesL8zbgOgBzwHstfrd7AH7AemN7Iv7Pelfd69Hf8RMf3mcZeA5zOKf/D+npodTSv9p+Y3GSrzqxIgSZlSzGUBPqAPaR2hnkPLK9YwpgRfszD3Oq2W3HUQje+XqFn0yDR7Fs100ZDKJ2G6BAA/v8a8eSksSGGs0pg3PRXjRXjoGSL/F8bcTJVzh//5ovvJl9KC//xizwoC8+95MvpQX/yU7FcOxCjO4s3rULUcoZcASoyzkekxQOaeTNGwP1fP494peWvT0D6Gb53CxeCY7oKoD9o/8Bgfif0ICg31n/oRj/cwOboWP1+36vIJCVO30BLZy8qFJAwzLZWuPtupSzn5wsL/1uqtWlvz81zy+Dk0FmSWZfPEyL47Wucf+j5lLoRwYyfxMs7BjGs2oCOO0V+pcN/Ge6tRJ7dsd02jqafIO41AKx0Odfc9h/RhfpA3LxYi6kebeyTVcr8hlo46Wvg3V3Ntk9r0PJvepUQ6AGLiPHHSbXjF1tAl5NSN1YoV2O7Qg9CnsNS/dQXXVclxGYrw5TBZ2v25AVTXkCHMSf+d7CeMop/dR7UQxAFWJiG72959Yz9cpye8KVvXkvcqqDdNfPkkS4+ySf0W/9LIJovn+rcwJQ1Kesk3sCZOgY8RXahXs8PBnWj9qV0iSu6qaKJRL6AP9beycWx1hQOP6tC66wwWr5r3MM/Rln0y4m02ZiP/4Lf/6892pvdPiv2zn5U1xXqKRxYZa6Dc/+S3VkWrlTA/amqiBZ/4Nte/6g+hNPv9riHdfPkP7+9F8ra5RSTZDbm3mm4//96lhk85qzWdPThw62ZZmpfqYL7Fn++VSpBhjhxQSKRlVUZH/xi9avge7IAiadIJ1EoW7s/TyZo/vFL0uxoKqmw9RCIN8/8fMaXkUHim5IMfkmn8dSTjxnCKcoD9iBP14eBgFvTnuJ2MXqJ8SBwWGLJHpIF9jzGqOUTh+9TFocVNA4FfMSHwgotuhZF12ZrlEW74jsGZDNgZE/AzgAA",rhe="data:image/webp;base64,UklGRpIDAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNy2jaQpSSVOxy5Bs/eu/wtExASM0+m7Ybz+lqHN0GZoM7QZ2gxthjZDm6HN0GZoM7Q5/zIAAFZQOCA0AwAAMBIAnQEqMAAwAD4xFolDIiEhEcZ8IAMEsoBakKCr7y9zHxk9gQa3bPc8J6AN459ADpYv8zWwPqA7V3xR7DZNd8VnDf8Pjqv87pFnFzTF/51/tftu+Jr+i+4z20fj/+A9gv+Xf0r/efbTyFbGw7mQH6gsVMh4jTyjht/P3MOKiPkwKujzXnTagZaiFqMzc/kEHM3rUyYkhRJ/6AD++XTUemtruu27c2iEO/6r45CpV3AN3G3OM0n4vOl//MelRFMeiFef6hXAw4camfzJ4I1SI1FqMam6PVUmbmEQH9wsMnTJp+zUyZv9Xirmipwb4L/zrBvwvI4xTsqhUq/0ZfH5FbWCJ6/snXiQJbRK7iaVYXbK9qghSqS0+CGjH3OKFH/ftxhafl6br/fL5iG0UoYJDyRBEq9vxNbvyj1/SeKdn0XH5lFxmMV/vqmUuITSwq1NRM8iJMQ8p+VQAzf3C7WHuUSUocl0sc95VKGwH/8dLkQPfAlUpuz9Ur9H88NswW+QT0rsKwt7G5z5U9cM6xdjDtQTeM3RH5eh6mY3ROMPmvPg6VjwF3dBI+T96C2aYik33+LBjXAYxAs1yfeB1BY+0vjavzekoak/2SSQ1fQaFhci3E9r6vHhYfZkrDfkbReiEnhkIA57KfqwHm20w+OMp+ZMkkWL2O90mzkIgZZx8hry+nw8OgVRVzpeOlhCQWv4ux4lpAS8//PTNv/fCMJyejA/yhcXfdjRdhmEL1UmdPclnyqnCtbPnsqoVpiZpENIVcDgdjJ//GDMskGl0WQS5nQwShL6ZqazNqlngNDHEk8CmBvqbd9nX+0b/wfiP8wLKCPv+JxHnOhnKZ6Yx8P+hLpgpHyUcKRerg60x/SPG0v+DbcVyfmqAFED211/0z9t6QOIOz5rAwC1/wANfWpt3Fe7wbXHGEt34w88HiTX7iz61USQ3nf/1+gIJPKGKqlUW+rlZIvfOU5orFYanATK6NiL/buSMyLd4Rcn4WPWhS+xf62r9SftBO8MxrYI4AGyp9i4+AcXYP37LAMBju/oBDP+yLmsSPc9vELv15acXUxgoS/xYnVltKzucP1AsprwVNKAAA==",ihe="data:image/webp;base64,UklGRiIEAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNQ2kqSBFIjDbCEVhOx91H+liJiAcbr4bhivv2VoM7QZ2gxthjZDm6HN0GZoM7QZ2gxtzr8MAFZQOCDEAwAAkBQAnQEqMAAwAD4xFIlDoiEhE5wFtCADBLYAVJN7QmPVfxg5r3ivwPxfJAuwr890sPw1vOfMB+0Hq6/4r1Pbxb6AH7Hemz7Hv7nejD//7rBwtOUJfEfkBn5seRoPXJARc/4D098+D0n/0fcC/lH9G/1qk2yiIIXCJvZHx3ApBCbm/sDAUZR1JI9SYBViFdM2+P7nooOYeHzUTUIdxiZFn/NiAtIADzqn5hHFDMAA/vpkBJBiRK3+Jsa/hw281SfhS3ibn1jdjEWXPdMHpzPw1oqTJWpej9zSJRAc4KVdx6poHER0uW30+ekz0//Kv6sW6rXfvh5wphn1Yt1Wu/tMN9spDjk23Ndp7OMy+xAOPMGFvndV7vJWaWnw2knkat3yN6ONzI225P39T/LtZ/XNxq1YJ5eYdbc++5XJm0TR8w/Crbwo3OPSCSlCP8jO7IiTFPILaIn/A3NGr3sK7TqbWuV0BSHXaUfF5lBlj7i+z/4PDRvN+Y80ZVzk47+f13hQn0nEngf6+Qf7OBzBlJrUeSYPx/o5Efoba9kTVw3p1LUIQ10h52V+OB4DK2RRD+Aljj72eOCZXh1/fPJCTtu7yJhTKFbfj/vp3qiNQfoA2Y/+09H+EnS1N/ui0KaTYlC8tvGq2dcCIu2bb/l/+jeMC47NQh/lxx4pAbGYedb9duX6snFuRaMfvrgtHf/D0z06jYNQG7B0lo8xa+oh9rO98kfB5QpPcMm7z7YqDcB78RHGHIWzyehFAUGZ1ZTlLOXNGXSdYmRt2rI8TPeZcZsYy2qbsGvnMabqV1jCBPUwJQ/hGcQZmtolCd8JP+xGzf5ciIT8zDbJlyss+f/AO9XkkR3X7SbV/V//zJXgriT+sN79i5BS8kYr1i/1wz+n0Sf75Fp7MBDMvMWp1Dfhv40Ul7HPvxH3yZfG5Sy/KnY5xll/PLQr833ek1HAeFsEYqtCgP5c6VUR/bsf+rf7toyChNIP+hlhESYp+HVzQSDt7+8YEVEnIjBOYfMXHQC6bPcl71f/j5BKtl9SvPj048NOP96PGvIQf9OODnhlf4NIeTTxbpR08NDIZz+dcqkSVD+aiVZZenTBhQCp890hHtwx+hpmzOBi5tGTHX00R5d5Juu2/cbxJXmY0P7NumW96cYp0WdLZ8wCY0K+hXgho0P0tjeBFp5f/2v//m/cmS7R0+GR/0LR3Ka0bUMKEWGwR9VNTkQ4kDOOSAfLlfT87SZ+U+81diPQucVrrz1QVUMNO6/NXBLVQFK538C0ELW+ICllupAAAA==",she="data:image/webp;base64,UklGRlIDAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNy2jaQpSSVOxy5Bs/eu/wtExASM0+m7Ybz+lqHN0GZoM7QZ2gxthjZDm6HN0GZoM7Q5/zIAAFZQOCD0AgAAsBEAnQEqMAAwAD4xEodCoiEMdZt+EAGCWwArlWN1v5vfQPxy5V7jrvhxyJSuuP9H9wHag22/mA/Wb0kv6r7AP0d9gD/Ff1X0gOsP/U/0sf2i+DP9uPSNo/mMG8Eln0P8Z6lWhrNHSsiArkJ/hz3G08nn4Jh3r9tCT5hfMym8bJlw1pC0uIV1hcDJgT0LJmhmh1UAcEboAP6e7ZtqpPGD353w9Rk12f78MHPTsJ1lr+zu01T7LlvJ+b6GVM37bR/8Gf8jLX0FRZiPAmegoMTMGzPeKPudXPcgY9kO/aFidBGXZkISklwTy4ee4fxryHqi5frf/Vdr9iWX2WxJIbGjUDPZGB3OsK9UZ2ulUBrLjQqK6fiewXMgO13/1feqX5agyJwnV7xY+CqZ/qSff/nA0zDIdWSjNj1wST5jBYqvsq6nMfE7m6Wi46nvkDYqjh792BV1MdUaqJGRIhLzrVvRz/rKjW2+XNutbGQaid4sqD6P1YMjidmI9P4rnsMaQUCbcqnnO8FJQUH5gk4tH3FF2gRVBazPNdjpPzA6qs4LxTKsE0Rm5Zn1uKeuTDQD24y5zm5y5+ebT22cPvsJFCg0mwRaNtZwI941svf+U6qUDGYnFnsSTRUXUCMx3AvkkpeT6UH42F00W6o70Xx6P+N/Wzc+5Uu3RGIiWv5DTvxrf/folJ95M7zeapP/kZPyz/j/I20NSaKeEz/AFBesrqaFJUvcenO64A/lxt1q+SXgwI68z9tIyeXLgxniYY7h5/l/pO+tWI/SGWbYRvdvCqk5BOnh642N1aTzR4Y46E/+MC2cyCcs7nHol/kVwlbV6u3dl/cW+ZBu2XecFt9foO7aO6xff+YyPNNW8aUWQdzRU4Tkml8hzvpAMS4WX8L6kEcsVQHIENJ0gEwbupU8Vjcrb4LpHKl4kYjnub6GNMJs/e6Cd9Dsv+ty+5RijdTzySpEFZy4u6oq2O2W4pj9xYUE8IotDZg60zAv1M+KvjQz+DHaAAAA",ahe="data:image/webp;base64,UklGRggEAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSD0AAAABYBRJUiQktRQkIAVnK6klcF/134iImIAwzeVyCtevlYizaMWiFYtWLFqxaMWiFYtWLFqxaMWiFYtWvr8MAFZQOCCkAwAA0BMAnQEqMAAwAD4xFIhCoiEhFxwGZCADBLYATplhIE/QPMEsv377u0QLsZnh7ZjnZP8v6qd5L9Cjy2vY7/uvnLXe79m6GTzDIn63cCf8pwty5b5T/YuQljP/x3p6aCXpD/j+4R/Kf63/sPzV401KFeDVFIt0DwVi4ZVoon1cr9+XxpLEgvwlQZNr8zm+6GXeBQOkB1OD5DIX0K0ySNw6yIMUspC3oQAA/rl+A08FUCWxi8rP9f9LatPSBybnPUeIWFJ4TGFTv+xDhDfsDJFy2eaqfCNK61iXLC1MkCoBCO5cthEfg/JqmJanDUeS7dPn0tl5oH+T5me9PdU6Vh+tA6x4JLx/yW6Zw2UzSJi8yAfzZEhfZX+ONYNsMwFXYQkf60R92HvgCmxjlkEAKqoQfer5gXW3dfF+p47L/E0QGriGl0zqWe+m/sQ7m29a0JrSG34o6qTqPVBof4ch+6fUvB49CTZ1OY/kboApW9X++AsnFPcp/Ddowxoms6Tp/sO67UAA1ifAZIaCpmMgkwXloEwZbYX8ReFpYEm93o7JV55aU8tMHu8ysdstoyukdldH+woyLSDF78y0UHWYA3YOA8JvuePpMa1YQSdJhWWT+VTmTN756rLpJfUy1m9RfoD1WZOKzsTrdW2nKu8C182f+gviPeuZ28Ar6/l9emBySyh2vXAA0KnNPLkyheW2wWHXDr4GDhxuQjy++8PK5wFMRPsaB3QWbIgJrlyo1ewrhID4XOSeGTj/bwUAOOw1f39v2wyiBEcFnISOsL/ufP1hl+QlsMbdr9wWePQOxn/HP/GeJMwbHF33I5OAnDGNhIHkT/D9pUFI9DzuYvrm5MQgc5TDci/TExf/k1104yWJhKuAHAFY7ftLsX569CgbcKcL5mQV3B2eYEsBfG9CF9WGkd15EU2k+30vmmohrzer9ueylO8CVYLseX3xmo4a6wNRTy87r37o2mtPiEquH/9jzzjTnH+oJzDYPEgdL2gJrzRIxLFWS0xCdDK4tnGtz+iCVo7E38luhrcDdVbtOd5LZBRHWgpcamqTMfFE5OPCbOJETgYG+Lpinx0zM4XHWncKenB2C5V8J1+X9Hiw4Pj4WW/0rxWF9t8pmNLt79CWOqKwac6niOwyv+0595kgs9oQBlFsleP/LIfjtaMLKh1JXQt9A/je6jysSGPr9LkKNRtD2wOh2geU+7jiBZMDWGdg3h7JqkKMeqreSD8eK20W8gyAAAA=",lhe="data:image/webp;base64,UklGRkoDAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNQ2kqSBEMjDbCEUpOx91H+liJiAcbr4bhivv2VoM7QZ2gxthjZDm6HN0GZoM7QZ2gxtzr8MAFZQOCDsAgAAMA8AnQEqMAAwAD4xFolDIiEhE5wFJCADBLKAUvLG6vrY3lQb7bAc7h/jvUhvI+81f6nBGppn/MXwDVUWv38g8rXnp58vpn2DP47/TP+RwEqwqOYlElHH3T0p+P+UEHXnRQVQBV2TJopU5zHA+v1zZexluCagyZCrTqeHATbcr82BMAD+8gBtCOH/Br/8NB3nxPwPcf+iu+52nM/eoeJsWR3+/j3QX7A/s9lrcC8hK0bEIBjVFcv5/CBkKZYOsnqgQ8xt9C3sCD0L+UDy2sgdIlP7CR68OXS/GA/zN/sOpFJuv/aHuYznGwfGU6r+6asAYSe62iw+6r/2BYJ5pGPFHAQ2r9NSD32D4Ce1A6FUPWwfBUpcn/bQ63AzxGWbeTrZ04r8K3LEB2wsf4Yc6RGAMif/V/LQ6ZIXD7gQgrTAky9P//iMhE7rXbYMQnsb/txUZ/m+eUAPdrxoWVoq6UhhABN6lmJXCiUXKwbN4cTPq5nt2iu04pXB+gotkUpIXQa7lbJVkpfCnwrnFOS6diIWJXNoXiMxZmXjJws8ptZlmy8p/00kE2VMLf+gdk6AT4X8zsd85tXvstSP5YM2MhGUVWe/1H2JRjf8xsCKeuI9cfDf+qDYbKJ+HvOLjip1X17XOrE3IDIH6A7ApgO7N48dPFPVpfaitrF0bnktjtqGjit9q2oFHxJJayJBja+7hEk9IIn/rkWcpnPVJQqif5sRThKdzdCTcrS3syrlQ4EHjQ7eo7GrsIsUYpoX9cv/q7wf2/SeGMede+DPZr/KOG/bg/6tW7Otbnqh7rL6U3H/xd58GWZ8vXNSDpT923xm/3LSrAUYhQVRPBAOnyZaLD+jCdZ/ybuvX8MFvxkbsX+yJe3f5jmwEeQMPzAdfiHs1q/ArsnYVMwvXBq3TuWwdnTcvd0+ozKPwPzomkl0bgMljeXLToxS0j1UQGSNVcinIJaXh07PSH9p9bzm5I8ZLztzDllzQpWaN0bnQrYAAA==",che="data:image/webp;base64,UklGRgoEAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNQ2kqSBFIjDbCEVhOx91H+liJiAcTp9N4zX3zK0GdoMbYY2Q5uhzdBmaDO0GdoMbYY2l78MAFZQOCCsAwAAsBIAnQEqMAAwAD4xFohDIiEKqlYQAYJYgCdOcDYHkh9d8wStdeQJN2AzkPwBvAOdo9AHPHexn6AH6k+mR7JHlgZoBpv/lv2OyeD4rycpYHEB3EvGyTFf6X/qvtJ+MT/R85H037BP8p/oP/B4DlXn8B9jYk8AVyVfYNfp1beNbhaofnoe7ult+XjouuKHZ2OEAAa3e2EdySs/gD3ubMAA/sNG5rRB3TsWuhly/8Jp/jv44gu4byGVsR+oW0Kbj52f/1ZnnEO5HolQY/VmbV+A/j1v8PEsn/E/4PnIj+PW/w8SSteZ6fEgbiow7aLvMvmHG/8Fp/de9J1to2fFz8+n/Px54vztv92U3ZtxhT39rIshKb/dlqP1D6GEedzQWEggnmHzUE9eUW7kOnTBEornKaF8vKhEon/CnPKaRFZvQ7ZbpDI1Dx8KpOrd7+qQ+Fcgn2hbnJ1zv9YugplZW1FfJTGwN02nUggi5r9eZVlE96e4+Oq76tYgAupvFkRzMsmr1nSytas3wmBf8HEv/Lo31WRRwtQljJB6POhmLGNXVFWAX5n28YWEP8w3//iQvF4G+iiOn411SjDSuTPO2hwkD547Qinjel3c8fPCJwNiFMnH5VvoRhhyBei8Uq5KxmYQMCO2bM180CehGdUnw9cPvmDpc89wC9dCo42TGP9VSz9Kd4+S0N7x9rM3jFedH5GtNd4Od97NVE0Sqfj/9rM4WmcIk4wjuLcSN5gWy2L1dS1Jbeo6nqASeZbQxMsMmDbGDm58iT37xbVb+agqGm3N5Rvx/ZhUZ3qsz16/ZEznho/LeRoPvM/iv9d67sc5rXu89Rdaf7FFHX65b8ScTsS8IatZaknuXRouAAb48FDu+i/7CbUOKNkhv51q2EB6vGq35DwT9nVwcxHdB2fEg9Ge9gvqn+ZlYIfzmB1KFsj2zobDBqx8o9kN594pJfgk/5ZVARSFibst2fERZ1lu8L/Q+qIx4hjvrW3QQzefVQfP/H8SLzWblNFvMLhr7LGTuTBN2Awllo6+z5ZA02DX9ZFpG3bFBXKvFiC3+/w62f8xH//wOiXPg3eFfnIrXL+DZQcAHNMXacXD3/wnxzONUNCUXd38GBBk8c9KeTd6+YfhYnuIO+j7JmBm8cHZrA4jpP26olwltFN2cokcnE39ln3Zfb4sH0C/u8x9BRm6FYneBwZKliUtxU4vTc1rMRP105MPWBvphBZr+VjT8r50Dopb29zyZQ6n2agS/wAAAA==",dhe="data:image/webp;base64,UklGRtIDAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNy2jaQpSSVOxy5Bs/eu/wtExASM0+m7Ybz+lqHN0GZoM7QZ2gxthjZDm6HN0GZoM7Q5/zIAAFZQOCB0AwAAEBIAnQEqMAAwAD4xFolDIiEhE5UkIAMEtgBOmY5B892/EnlxuGfA2SX9Cf6b7Se1FbgPOO6kD0APLN9lT9tfRmvAGjnj+/4Sac/5LSMP9Px2sxf+l+fXoG/J/8v7A/8k/qP/J4ABXn6xJ7UwwmgsZRomoLQfjgNvPiMSkDaB6r/3VEsIZDEtQ4hj8axWCAoHf/RIXeSE2bzwAP78FbNAwxYf6qQ29C/2dP7F3Mtp5bf8RKmL/ovCf/5jBCL6udjBF/Nv+MC3yaFKWfq52KWlP6M/Z0MbztfRndR8E/+TRtbRXhRv6/gRQEeG4acPjxGlrhYttbq2C/5VN7WwxPr0qe468BnYUFchjSMH87qPzdkdVxYDJi+sxilgjto13Bg8EvyD/HBYtdKYu9/F3h1TOy7AbupTE5bEH8+C5TPzxvj09e7q/Q/QyvmPvNfKiJ6efHrLNzFW0bh39QprOvQ4i1rr5cZQ0ze/p42//9LvAnzE88Y5uplOD+kMQv+PkqyGDjUk5XcdNzhWyt6UAE1pqschPoaccb70h/Tqfxzcx93/GUdvun2OD7DB8ndbsMRT5ZMWSl2ja1TuJmHLFx5O8hq5hYCJY8pAuakuHs/ctIMI+fNJT7OLy4HcunYmbaOOIAFcpfV//jx/Jzd8TB0H/TDpD/Qx8tctKht/bVfB2h1+IlmTR/tbdLNnQvw/9RwBrI8vb9OTvXYDMOZwzXhO3h5fIv4LtbPbdGCfCgoojJeR05SgIVicD9Jh59LH2KSU33EezebUAJviR7mScsK0PLqOCA6U31plrQhZDZEtt36iU/fm9OgA8ykhIs/qd/aE/+5fUIaKoujmA1qk5J3P/zhn/nHmPdmPYWiFCeyXs2ritjZowk8/+OiVoFcj5snxaf1OIIvjfGlkP8hEKiVvyTlXuXQDntC3PaeRMvfr1z/jj8T8sE5NTwxSxYaoB0o+XLjZJkzFr4FPQIlauOel88P86HBzwrF2LtC3oiw+vI5U5rZTUoo71WUiB1wSdqffZ583YWP+K46/XsDAOVEYIWk1E6eXMzGRztbr4EQzvG5x4AJcABpaH8nsrPOg059el8Kn3WMyzjXHF0+gnSHVnjXf9s7p38TgcVXDYW/nOIUnmDswEqPSXaVjy2GSAP3zgVhZ27Kduy6Iv2lZQYlQPYawAAA=",uhe="data:image/webp;base64,UklGRlQDAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSD0AAAABYNQ2kqSBVBAWSkFZZgupIcx95b9SRExAGr75sNPxY9m4bFw2LhuXjcvG5QcXouUQLYdoOUTLIVr+/jIAAFZQOCDwAgAA0A4AnQEqMAAwAD4xFolDoiEhE5SQIAMEsoBZYdJ0nsCP9ejzbd87xkAHSvf6XBL+mfyy5+j9y8rG7zTAP6z5x3+T5evxr/Af9b1R/9d9tHzAJHzKWxV1GASjpz+36u6khk0aQS8Jr6+qou5TTALj9B+xWYRrNkT2uVYVJ2tsyAD+4LYzTjHmf9N6dHKfbu+B/iFYcW95nLxLD1ItJ3txiy2iyS3KNT/ab+v+2NUYW+aijfWGgxXcCMygP6z7zyuhTCvY898z33v4CXlhRq3/sfvzNtX/P/rbGyRD/82rc+4RNC8A1EtpCvJoxp+f5AVgkEGK/66vg8lWan/0HOq1ZNQuTPP/IpQ1yET4M//LONzBHWP5zf/+m4EL4B7/oBm1l9wO7noFDtBdfPO8rpUQGFhdvWAK2JaRhpJUC33C7WGbc4nOefGIUuMgFGVRbrc1S8SwKorxzX5Uq8Vie/v29vDJcb12DdnOo+1iZaO/cT881d47QfCCJtDMhOu/Vqi0oBaivDisFU3/rFvpp9pDrkSCzM4f5upOO6uKFxBec5p16uzFtye3JkWiPu/kQ0d/76rhuRcBnXq6BjMDqCxh89sBENeAVrVVDjlMDuRkidRJbOQfG+2CsnpzgEjHvsPwLmDGSSPxQ3KeO26KLdzvO2gG4EVXCNNGk43M1SF0OtyGUWcbVKvZlvSZRnJ4OZ4Bup5gCNOmEAbJX/T/bhbi7qg4ZVROqoqa2pLmvfSp/7aVqh796086nz1Jb/8/lY5REZkMJU+ufT9ZQdQHoexUdZ/Ld/ySz8R+i818eJ38Xz/aC2ohc4B3evYBmjylc+ZW6zQG//Nx8xBUoUk7da9kg7XiXyRn+PsrXoAY8Mla4xWHOTCnHv9f/QaImUljxwWygqP8EL8tcQCKm95WRl/ILzais8fL19Vt77+F1Uo5UqjgX5Ngr3Ajh6pqbuaHFo7asrnhqouffWVJ/agiS9z8+x9vz/Yw1J4TbGRvTdqKwAA=",phe="data:image/webp;base64,UklGRq4CAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNy2jaQpSSVOxy5Bs/eu/wtExASM0+m7Ybz+lqHN0GZoM7QZ2gxthjZDm6HN0GZoM7Q5/zIAAFZQOCBQAgAAMAwAnQEqMAAwAD4xEodCoiEMdZt+EAGCWcArZupu5GA3lvNAeoD//74B6IHSwf7Ct08Kam5qYB5WX+Z5nsrdMb+Ayj0cczYOKWXPfF8V/+Ru16BvLNolY+xy8JHhPhTcQPXzPW5jSLjOeAD++XNdaWv9Kf8kyLZXD2T/2h95bhz22NL/aWL9LnOJW/i6LFmxIIcBNphkegpTgVuI5y+c//B3hN8Bq48DtuBnfvu/1BqnOJQhPk2s2FsdvBO7Y/xHrgR627g79PKATV+ddgTTdO4wvNaINEnf+/ogIsR7hM6zzxfDeQuR/skkviv8uYfbpAMT0MDHG1a6ZRF3UFBn/aiYWKUD5L/RdVdvJ6wpiWeRUqZYQZEF187wkVvMDeZ0CXxnhI5uN/RodbFdxnSTwzxmzXCGQL9cvlb+2ER/5ziUV4Divy5L8LPnhNdfet9rmH2loRQMB7u8yWz/+G62RJ+y257JKOimww0nfrmpkfgF8RTLTVv3buw98e4F/2QA7c+pXWtyQlU6BZ26LUPed78A7LFjiN4IDIYNLNYZXlrssJ+F774HiTXu1v8ad+aIaX4ufS33rvpLfynVViQ/+cg/8f/7tof3/xJqyIS52PJmxrC6KrfJaaq862kjGjUgPl9Myl4JofUJ+AV+pk+2AizEoXQN9dOiw+0fISvgHQ3hsABq4U84egpJzhr98t0ZP/N03c3Lpvn/LDMy32VxttiZY0FILP9S3076bt1WnAC5cj97uh4lOytpafyCDNZP6nyp6KsUDEDj69fApAAAAA==",hhe="data:image/webp;base64,UklGRrYDAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNQ2kqSBFIjDbCEVhOx91H+liJiAcTp9N4zX3zK0GdoMbYY2Q5uhzdBmaDO0GdoMbYY2l78MAFZQOCBYAwAA8BEAnQEqMAAwAD4xFolDIiEhE5wFtCADBLKAWpCgqn8wxD7wOCTtgOd29AH+c35n0K+l5mQP5DHz/ymTEZYp88/zn5b8CT5y+sH/2n/Tfbd8d3+F5m/nX2D/5d/RP+hwMa3wzD4BZqO8r26P1oYrH29pkivHcFGMonbKVnjmztfjv51I67qCxrF9uX0sk65vYlllGlYB6qAA/vl0+lfv5SCkWK0h/o8/2odGpoL+9WcHSrvCW28j3BIN4OnhGmgg7vfmoxHnWMw/FPkkN5qMvlxrFvn5F3mta137E/e+LUJ3+OkpDCCaQHxNdBM/5hcuL8gdT1po6Dbe4UAS9iAFNmDQ+bfptV49ud370ly/3zpcfAsnHMV8KZjtsAxqN8pIUtA7zrmVKtUsk7yniGeKNj3/9ByKaAf+M8yboNAFV+KyL/5ZjpoF/iL1e9Er98aKJSz3i6Ko/0ssa/L28A9OD0pPaa9yI28yZg9jX3Oqf3C7WGYaUcSicVZxhuX+sTQZAuuHzUAmQ/mtRbDt5EHNh5gVfrglMoZLpgubfmM8AiUaQ8IQxFSAKsjSEdsT3sSYlV/jHNKKZudWBLHsUF1x6p4QuRdZLiua2rTjB9Bx4eYYmSZyW7S3lS16RnVlfK1N/5Mi/878UT3iru8M5/KdJ5tNuf3iTw6H73Sv/yrnFqRAOFY/+ztKRpbIaNB/ovUc85I+WAxJXHmj6ExA7i0gu9eYf9GSdG9XZ/VDyHdTc/xWXeyeJ/6ddWhfjQdMRUWIX8wx9yXJsOxB0M0GX5sAEqaboXrvU7zdhd+6ee9/CeEy6Vtnn6KsCrRI4ONZflljid4qKNY7B1BZbEtLriZZVv/to/K4VWPzP2tX6rteg/WVIf/8R39m9xmpq78HGQVAtiYQttW/FT/5NaH//Xr1S9MJmPo355nwzAdBpiJ9OW0ce9Ng++rG+4EIL4jy9eXHpe9blJjWL+UWGaqJ8bRvIzHn9cbH/lccJb6cmnR2CrApRe9Z8RMmVNVvsdqi0UKzaSbh7GsnEnW9XTdPslUf+X+ue5z+hAfa+HI/9SbuP47Df4jf+RI+TP50d3GN2o1L/tzVY3HJAjdr4Mdwc91D7Zvq3Gh1f7bfX+lODImf/XTuCcJHFBQwAA==",fhe="data:image/webp;base64,UklGRvoDAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNy2jaQpSSVOxy5Bs/eu/wtExASM0+m7Ybz+lqHN0GZoM7QZ2gxthjZDm6HN0GZoM7Q5/zIAAFZQOCCcAwAAcBIAnQEqMAAwAD4xFolDoiEhE5wFtCADBLYAX7V43a/cPxy5pbnZ1m475N/yXSz223mP/Zn9gOw3vFf7R+wB5anscfuH6QF3zfbOVDPufsGZsmofj2C6H975ffoD/f+4L+rX+i9ZVV+s2tE/kN8/X6o42RiuIm12I4JJ+8Pe6xZTudb2s4bs6N6H66Io7su9DH4fi1CUBUgTOKEQAP78qZCDee05gIRYvRuNWjDKku7s26dF3/pJYT5MiEah02NbIlaSS5uUevLV4d6bjLCfviKZonWmWITgN3//Ir2sW/Vzsb++IfTs7b6sW/Vzsb/2w+YbZFmRty8gCRk2YSWda0gUl3Bn76XLn3QAw1+lwa2IDyeg+GS5V7kUPnZfKYRaSRbz3xt8feBSK20mz/8keih7yC2jAU7WzItXHaIidciSz/xsdgSNQab7jrn+qOVcCukzNMkNRTvsXr/4PDDx7/nQXN69Gx3SXsY1hrpvut/94gswW2JCMUJ3VzVn4/mi+3gvTgzb/sdBYo2uKtn9gKLoSY/o5ZUUcX/Mc5BtPXt+aPh1SgH+OsgixXpZb4OB3H/f/nE/gjI4DG2npwmB+zndCERkuiO9jjlEMhr5zN5pjZMK09xGkSjdxzXxSDTwM3/xVOJZvavvSFv1Lor8hj3cwSjc0vJL967CGAp5K9yVqxznO4FaZj9AhZuWJzt3nvJiluEKoWxInDbuFpcvqJ5DV7Ae/QJGmwZTX5Kr93M/QA9xPSlTZoFfFMyJo+BWBtQlAAp6dbwEOAPmIUOcB+zrtOc/5Z7/pP8WGpDjzleESuhfV6LM/hfYdv/sg//uODOyMRRWFMQgtUdxVFI9z7e8Lsv5rxYwsy+f5ALhMKePSOzs5mAGdyJNnBHzTRhg2lJKKU9rXX+DNlQedz7IG+NmLvaoP3/oiOo4PNcJgs//FSfaG6/6kR/+U8S2xzZ7Z4/1gb9sNvjDtwA9e6itascLu/6XKafcv6voOQtukqkEHY/r2e0JHh5Rjf11NnzIQnzafOSnitA7jE/GwTXOHyqM//1C1SGbtkGNfYpXgLgduXQyENaQyQHD2IJ2IkafrANvzYvXu7i+teDKhT/KA36UUHKaZ/EANTxxyY98Pn0b0r0fIADcOrnT+Tb9q2CRN+ElFTlDbtecjIlT8Gqxx9IF0WHsOCR6Zsh1ua0+qALORJ0fDzeBDUHPiB7vONbtckjVMLJkQg5WAAAA",mhe="data:image/webp;base64,UklGRsgDAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNy2jaQpSSVOxy5Bs/eu/wtExASM0+m7Ybz+lqHN0GZoM7QZ2gxthjZDm6HN0GZoM7Q5/zIAAFZQOCBqAwAA8BEAnQEqMAAwAD4xFIhCoiEhFV1WACADBLYAVJOOQBfVfyA5cbgHwBxyJPuvv9P9sHaPzHLqAecd/QOtw9AD9gPTC/aP4R/JmuZv4uWRf+HmpP+P0iLi2I8/+B6e+gH6K9gz9aP+Qse/R9zSiliVpL6sCWCaRhTxX8OHOCLm/h+TAq/01znK4RXX44bV347vazFWT7e5uAAA/v0v94r11ajX7NuMYNU8Fv9s+Obt7kAQJ+hVsGN/+d9mBeqvqKvzb5s2jMM+ZfVXs+finBpHGQovCzgHj55OqNzVViTTwtaAS4mrNxfsby6IR7X9zBCyfqaUZ4zAdkvIKO0Q5M5u7Uyy/gb7nmgJz39dd4jHRmnvJceFzq8TIcxBH/XRxjw6un1mH1h1dkBiGRqEOQ8bhyJyn5TCZLn4eUL/4ymfeI/v+b31vLw8Wt3w49GoPhJ87zgooUkr/PKtZiDW8RimPkKbr//5tr+0hAJuv+oP18X2Oqrf4A/wkacVTMw14GRxYa8use4YbV8m0bxNFnEixGJ7rjL2jmx/vTnAldwslJk6BhxyataJpZr07HTEB29JxRU4n4Zd2DCyuzA9fyTxfT/PuvHsV9mj+9WLzyD4ojfCvnVZvIL+cR73/nOwf695OYh/9QLVMAHNOTNPA8KHP68Nt/xGE7ag85JCdEL5MtS5jbZIfC0/LKmDaxmljuggBIWz9z5Hnm4Kp0nx+rlIvjMp/LWDS/TfLJC+ho08/Aaj1w1JTgcRtc6iDS5gJBsYRhs1yyQW116eD8E+x3UvgIpIblcyZuSXN5VvYWxfakDJ1hKzW1K0Ndz36U5eP/4pZj/G/91Xbl+WhYUIE15JCzP6YK7mkBdzLxn04Ov3Hn4n8Lpoy5BXO8KRaR0nD5hS7EVrnIPYhDZajdnwcIr1mFzgSr1vKBT45KV1Jf+1Api/XxdRR/3I07iVsZdNJi+adzCnYr7pONoVpfWndSrHq662dWLnEICcJEPZfmyRI620C3FQj9DiZRqmV102YeaMNybPYibh9auBev3zRU0sTZjvqJlTDj1xLWuzKodG6pePb/mi5AsZ1vL1Br5e3kngvRzEofUBXsrf/1GzOs3j9M6Xo2aiGcYb3xq91H4eMCv2g+Hfug0PtCY99i3R06Urq0hI4Vzmt1lgAA==",ghe="data:image/webp;base64,UklGRroDAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNQ2kqSBFIjDbCEVhOx91H+liJiAcbr4bhivv2VoM7QZ2gxthjZDm6HN0GZoM7QZ2gxtzr8MAFZQOCBcAwAAkBEAnQEqMAAwAD4xFIhDIiELjQJmEAGCWwAsR8ceZ+7/jB0Ie/HenehSU9XnLd2ntt55gPtm7DvoAf0//Hdaj6AH6zemZ+0fwgeR9c6eWU9eZjq8jn7ZvjT/0PxV9fWVYan1ViWYUYUYuHNn7+wwg4GrPJKSXz9Kp5/J7/zAnTtJkwr3reuIT+NcSPovvsEN9G21V8AA/vkWoV502fYnPIrIOfgmkO7W2hLM7Qp3rRfmQ0XetHKLB0ENfq4bKOjiMRz6VyKNSJefAz5sVTd3/4xb5l+ep17g04J6K9uP+qkH6slsIJ45C8CkbF4J6ZO9NbYmWkppIY3toRu/hpiAANojv/Akdp8+hX4aN+o29f9jXHK+9DCf8lCycrVczGGbdFCRH22O78dhriX1RBsg13EUy/IY/ZOWSqsSUvKFeEITn6piBoLdZPvP/jpE7weD4yPyea4AvL/N/9qlvChtbbUHX+4CelE2+8fGgDaNOt+P8RsGH9/bPX8h4AJfxzPtodeImi1kqK9W/vbbavGJztcjlwM1n+D1s67G0eycPPoqV2RDR7NwzxYqAjePFBXnuot26W6CmISbgLVFiZGRdPj2RqXZ6MiDnR8dIVCROjHC0OOAQqSCZ1MZlih+rKGSlyqyC38KvyLP4SXPOS7Bw7Kx1uQ4iSfckiVTmwCM9WeVc1Ajw3EyOp/coLvAPrJ1BpdRKYJ1dJ7zxtZ6ENhYaOcjTD2GLOBq/NiJFIZF9OZs8mFegc+8M3EscMcbWVe7rcdsUBCHTVh8HCeq0A3JjpILXxeQiBkcaSxlDh70wJH/5OZ/9///JKHu9Fnsc0Lzs9+xKU9R+zYYkic+6sqAFLP7LPaS4HRb1NW3XC9657hmf1F70jvD/uaJ9ffuNuyfD9YQZRSc/IXEEvx8+E2yD06uNxO5QkmMK5P74+L3/q0yv/+AXiVP7Bv/9UuhhAD/7wU5UPzPyrk4loA7fH/5B70nyNlPZTeYEqrq5kwZy194l7IoQSH8tx/4KJ7wKUnNt+kragyHBv+6Qfe2I/w0FfZNOp4sZGXHTim8mPx/Bdo+Rrrxo31LKjrGrJ7XA/njjsn6DTWqdPW7b/OyrvaaaChAafQMxyakpuNa/KYeV389751KaWHWumAAAAA=",vhe="data:image/webp;base64,UklGRpICAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDEAAAABUNQ2krNQA+WYHbRe8z8pIiYgpqlcJq5fK+gKuoKuoCvoCrqCrqAr6Aq6gq6gy78MAFZQOCA6AgAAEAsAnQEqMAAwAD4xEohCoiEhGOs2/CADBLOAW7n4eWbAg22DD6gnvKVZarrltZf3PmV+hPRbTG/e6xUvgoLdT14GaGdT/PLo5Ntm9RzPDEC79CYgcSk5qeypRw93K7vkAAD++LispvLSn/QnO1cdMP2/DuE/haRinrpnoqo6OrEjZKz/TFh30eyyY41E1QRk7a8TSq5+nPeD5/9Wyfpj8L6kMeOs3vMjyePgzuQDuj7sYsP8kv/Egtjk4HbGGos8un3tZoLIH8ywuPAa2WW7/+/ogIfYHGsj4aVMSn2T0v+am/To7KS+h0U7dDQ7qtbpky8DyK7Exmi21Us0Il/a/pDJnWXNO9mL1LJUmL99JworOBPEajWWFOgCUUFfPjYAmyCdoqAUulGxOfR1TlpuMaQHtR3/suyyg0+u7pX+Jk5//IY6mH/53/4X7ELVdOy7vnOUt/xr9y02NWF2v6T0s1xl6gqpARsOV4aASkUKemASWjJvWis22LIveC4J7o103/pTq7j7wwB8GwmyzdwMyWRnGX9yYsXT41As/xT+pug/8qEdLb4sEVqZMdU94dM0hbnowIy//aVq9Wfda6EHxNxaai8rPgeE3t6CLJf1Kf3cYaPzNRGZSqW1es4/VZo/M8rItnh/qAbd6ESLc8NZV+rVnhdPBCPPRpaa7FyEHm8RP//bty7//6wsPnAuINObpL3eyOy2Ct3cow2hJIF0an5oc1JCgehH8BiSU3LZNMF86vFPGzbAAAAA",Che="data:image/webp;base64,UklGRhAEAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDwAAAABYNQ2kqSBVJAayjBbSAVh7iv/lSJiAtI0l8uRrl8rgSuBK4GzaMWiFYtWLFqxaMWiFYtWLFqxaOX7ywBWUDggrgMAAJASAJ0BKjAAMAA+MRSHQqIhCqsAEAGCUAWWAAlP2Qos/s1uAN5c9AD9gPIz+D/9z8IA/nPVE6JzzP7S8dtmF9j8ttw1jRO2A9C+1e8jPxM/EvUb/mf6weut/hear5/9g/9Rf9zvQDNLGcLppJ5oB4O+4SY96vf2sGhMiGslRYRcJUOlWSJHFZLNoYh8u+ahubL55YxwQFlH/O/NbMAA/khFfiW4z8TH/hoQR0emXD/T0P/05/9Ch+gMnzDVuUR4Cp+QTc//af7yZfXux/2A+Hf0cmNx8gf3ky+lBfoffWBbLXzd058GpZ18XG2cfNYOfZHBV67eXf1gn7/vGfOTz+q8ktWkPO6unMS3bENQKF81/rv/7kMHLEtintWYQZ/0DrqSr+ledA9P+vdgP9zKP/i8m8MP+ZtKcM0yaMINcsEkhnwfImHq2fRiKHCFXjFCkN4PzpL+XxJfPHMjTdbW2TCbWguqqZgu6HRD9zcz0QWq9xXw9IYMvjGq7nMPLG73FBzKD2q8r7RK3s/9shqqpAB3tD/0X8YABJYMqw610H/q9PzX82jYaGVXRmfQ8qpKEIXi4SWQZCATl46JXGJVM+Jd6qNP3wSegkctW6XLW9ymzQCpPLc6nTkOv102LQOrIsJLBl/FjXaoCzDufKTOscZ90Xv6HdAes7vDzlsXUZZH2nxJC61gIbqqDB93hTlQREQkHKwm3vmC7n/1sdH81lBJEG8HTujuCnJM3sPBTzaEXgEZ0LKPkA2dF/18ll0q0tWM8zXBBWP+WYJUcGe64PszfxxgKJnIMSxIa2Y7ZvlHgUiXT4Ap7/W7txFf6Sdfbl6g+MXxzfE+e5eSP+DPJl+FtrjKFxZA7Nf+9JUhqDB7fN/9/0bPYJRpSnquEQ+IQ38PxMflWNHgz/5y3y/z/GLBpasS+LPsCQpTyheNZSYA8V05/9O6RmgYvyRgZD+h/QWPAgevp80/8DeLN+0MQQgEWqghf+Z78WM7hjp/knfwY59L1+Fv8MuHzVl/G6zp0mNkqwwbv5IXxRTAwemdyZ0JMBdy/ej1UM6wEHHeevzPFjq2/u0hnH1KY3lwxRDYIRj2Y9jWOG0QqBWf9YFYD59kYBO1/4CYPVbrd0EjBfc75cH+rdU/6ly218UvpW4dwC4FlYbP/Wy/72ExdTcrpyRkZ6WIQgW2P4iD/FE5R/8SOVQIWSUCy5O+g7LPEul7TJVonThBCfjgMdpwAbfUcSzTMG3VHzhWK5jWxorAAA==",yhe="data:image/webp;base64,UklGRjADAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNy2jaQpSSVOxy5Bs/eu/wtExASM0+m7Ybz+lqHN0GZoM7QZ2gxthjZDm6HN0GZoM7Q5/zIAAFZQOCDSAgAA0A4AnQEqMAAwAD4xEodCoiENVgKqEAGCWgAsvvjKTtrhWYWG2P5270S/8DfY/QA6UCXAcM5l/+AXQ3oa+fv997gn8f/pP/F4ABYQPKe8Pe0as36myfVYmD9QSSah+haK9a5vQFYKDi0JZQpbCZuQWNdtNRfAIwkmsBONMDUlwAD+2UIpjHsoYQ/zvvJo3kj9IFvhi1nhs3BtIysb5RH39U7en8ndDf/+XcJNvc/+Du/yd0N/+XR/JcNGX9QKSMUZbpLshrjkjInrVbAxZfs9KP45QO+fZ22IgknF9oWeK4Cg+r+xQRyIHfSECpLVM/avKM2bFnaXMUBSp20Lz9fkhw2D4d/nNdvU9DTQrdZS8VrpsdY528sQ6tzPcx2//LPuZsG4FflsF83w37jMTUzVB3CjVAmZt9OSofAvuF2vZ8z7Ivzsf4lx7XlHZQBnTRFiTGl6Z+CVTr4OOzM8Q0kIFFTnJ64GxoSJUoAHb37emYd9DLlTrUltKvho0X3HUSwnEkgVBmIElIElc6c7RIUo7hUYRMkfsEiD3GSsKGhDLjsq8jMK36f1YLPfcYVPPfYsgfKYsSL8hiIXl9G2zegvIPf8q6LwXdF9bFGpKyTAnf9W5y5oOiq5uMUzJKE+0Udr/yJL9CdB6oR1XwX8ffmLqo0fxKPDo7Dl1gHEm31LzktUzgjxGUT5H5y0q7oMnoa2g5uBROPyzUvLeIfYEUV8mtUg3pqB9AUcsTLd7ognrPVyD97/Q/Exyh3ZqotTtvjg9hA8MLm4kSxdYfxdMYGIAp+ltFOXP/x2/t/s3zj9/TdT3wfC0UuZxEBkmeEeHzq2/kHA0qK29JMPqulGEZOfq83HM7JvuEA14V9u4Qbudd/yLkUmXaEbQ0cTxkj2tSmyTX2tiQUxqi/o8/3/17l24UjWf+NqEraXTdXUr9/3KPrg5DnrTX6AOufqaiP6JS0AAAA=",She="data:image/webp;base64,UklGRkQDAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNQ2kqSBFIjDbCEVhOx91H+liJiAcTp9N4zX3zK0GdoMbYY2Q5uhzdBmaDO0GdoMbYY2l78MAFZQOCDmAgAAUA8AnQEqMAAwAD4xEodCoiEMdZt+EAGCWYAtwGBvRuw7Zl4j5gNyS6ij0APLY9jStAfhnZBb7LOOzmbnCYx/9jzNvn7/me4V/E/6v/muBVWAPPjve0SgkV7XWZqq0g0C04MhBKb5veeAUTYCZZzl5XN1VqNVEA7TJ2FgTfofC9H/2IAA/tlDBn9wP0yHWv0r/1iCc666uoRni/P2JM2g42X7VP+Du/k7ob//y9SsIw87/0O7+Tuhv/5dIr/hr/6gUT8k776EnjotdDjTs+3JHSW9VpQ6uTVDZw7Qi0dlLELvpfNX/XGAY+TOvD6keuV4LMPnIFdtpmr6/XQfyq1xSPvDs4vJkQOx4VQ9fZG7+Jsfrb+8QH8gzkMrR7YFdn3JhqqzgYb/QpBJvlNkz7c2fjgZhS2B4hlozVERZxCvDVe3C3jlrn+MMk1Qm+QPdePjW88fhB1+KJCx5MHqBi6TQZEyehqHtpvZZnIvb2g85zoPA/7TbQL+lfqdUyyD5N5giRY+rNLwhbRcyN5lqIg1SlUYPN0EvhkdnxFljCV8J7fwUMrf4lCS7w4NxiAAMpXaSkTvxbeACX6AUTOzIPvSQb9CTniYHha9EvFbwGb/LbRv5qpH36QoLBQ1OVwbfa/UaajU1MOW/U+Ndea4j40L9JQA2z8E/76Y5KXxlyDQel9iSr/XLmse+njYJzr4v8ZluFuJ79KoJ/xHorFGD/4wQh+MBmPYVrT81ach1vePPbtFHrfzO++Zms8ufkn8hn/9ONkNudfjQlTfr1s6Q3noKsWj6fh9W9//Ir9r1/P9jK8GuvH5gMPuFX7i0cvMsQCzL4PZdpZecF7l8n1vdiI3yL61vKiATE1oNlfET1I3p2QOrV+dJPX/OXe8r7z3fgO/D/gi/lxrexaeTHLKABjf/SWHOpUCzVBwgC4TZzw2OSZ/69AzRfahMhs7HdxFk5bkAldWGPv0e8bNguQrLsROStIx7YAAAA==",bhe="data:image/webp;base64,UklGRsgDAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNy2jaQpSSVOxy5Bs/eu/wtExASM0+m7Ybz+lqHN0GZoM7QZ2gxthjZDm6HN0GZoM7Q5/zIAAFZQOCBqAwAAMBIAnQEqMAAwAD4xGIlDoiGhEcUAIAMEsoBYkqCq/y9GQvA+gGdPtjdw9/st9Q9DnpPq7C+q/jB1kvkz2Vyf71/8n9FB/dfyHy0r5P/gPCC/jOMc/x+pk/43pcf5P3Ae5L6B9gf9Rv9twMagWHJe0/zOxSY5ilslFiMSnoOPdl9KS69MgqVMStAA4NS2XDhxIh2cQmazHcN5sAD++XDGqEnyst+qK3ww/zWT6+BbfA0k5QoYadRaukEFwIhV/ASjVFNDyrjyRkLCLZP/XhQP7HaHE/4wr3hsxZmlbmI98hLDAUG1YS+K5HGBf+SxtDMrkZcM5THcqYRf3MSMLppPFTAPsCf0HH6Oogj6VMP+Ym8YrjxG9jJdQvT3s5kUNIW80Wg5q5X9hXNgwEW0UqLEecwy+2i7YQEF+4Xaw5fEc/oVrKYDWDDa/B5mulkiI5A8PXFOek2c7GaDlx8CGo1NqIz7YiJSAnh8d9U0xIwjtWLeTlFqkB0HdOxwijdcgNYJ5xQEJm4Aygvspxc+GFnw/U/yCwU/9SQ5aFuQ7Jotn5DTWVRPxCDzi1/LY/+EyVv8UP9y7zda02vYYwZ+gPLcHDa2qswfJGZvy7ph4ZREMB8V2fDp41LRAZsWBEB/7YMJ3Bas4esisgY21yVNisbplcJ//4OqTG6diFlZt+nBe5J/FywSJfDyIutpSRz0ADbRzTcJSMT8FpFkR6PJoKVJw4QH0szUCN7M1zIFplAtrxI7WYp/jFUriK30vRUMPvnR+EL/LB/3q6a63tvp/iKzbPO0H4Tv2pei/gFcohgaxR5Z+MOL1AP0eDhbOhBzx6CGJzucqAJUFCYBKHHbzbbwJPGAdnMswrpz1yri9l4nhEYZt8Q6fyDwZu3K/GgllbtSzx//8Un6zc3p8DtFJOVnn/O9E6WL6k/eMbuTg0g3DIqCsyLz9cHnrrTF7csj9aujHXMzr7Es4pVtUeg/8siBFhA+oiIYHRf/xFhb4Cx2tUc79539Jo2BXX7GtjvXO9DzEGKvy0N8QW9uiNrAsQc9aLoTtQPvC15LUPgldmmjvsK1N8gsCQepzV/y4j/80X5T1SFo+GMb/HiinX+9D0x8XlomfsgIMzIjSlaivismw3c1mmya1j+M4C8IwE7noQN/dF8W9QDV4ZjoAA==",whe="data:image/webp;base64,UklGRroCAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSDcAAAABYNy2jaQpSSVOxy5Bs/eu/wtExASM0+m7Ybz+lqHN0GZoM7QZ2gxthjZDm6HN0GZoM7Q5/zIAAFZQOCBcAgAAkA0AnQEqMAAwAD4xEohCoiEhGOs2/CADBLOAW7nqOlTWYzu275nf1J/8XfTd5k/0kvJx8/7dmZMdzaCf+K/qvoz8+LPb9DeiX/vkxv4DKPRxzNg4tI15jDyOD9nIOzrG9LvNd7/Y5iiDKGAAlYBP+V4mn/NoAP7374wZ7TF/2Ke2gy+zp+/9z1+1Hq6Xyrhkhh5WGrTUyT6aYxs/w+pTtIrUPp4WZnv/sq0yvCzNOTiVK5NrAMlVncrH0b9tgGxnI8+Zr1X+0nBvxDa7wA0pcIPkZHH55MagxFwr9NU8nlKXQf/vtgtV8vi7SAEsXDmddP/STNBgXxQAYb7kuRtsm+SZ+BKDiM1CSr1TAilrhT7rzJPCq49ahclCix7jcsHGvGBu4zpYAYA8ev4DDnikx2ai4lbwIT96nd+hbZ5WLjlyqghFQIDx7ncXnRxxmsbtqbcKx8WcHfm07UsPuWSqV9QQC7/R1TQRl4/ldrrkiAuNFJGUPlVM9DTThyRr7gfMYNaGH5Y75FWkFI8Onuk3Gg+ULWuq++LefzZ32r/6p/lYH/MWpzv73LpDhPE19/cRC/i8g/xy239H4/2XvChMg1fUHc8eaAyTjrvVmOO15myOJHhf/qk+2LwDJkFeN3ae1cvgDmZDzVQCDImJgjxrnivUosgQxj8KbJn5N0OMyI3N0gH09i6utkmT56miCqETRr06LCYm0r/Nf3+cDqzABz7Ms9XbYJgv71GO/zywNMv/i1mo3DXv32eEihkyNRTECvUuujLDIc1mLy1bNcab8ZPU8J+yDSO4nJHAAA==",_he="data:image/webp;base64,UklGRmwDAABXRUJQVlA4WAoAAAAQAAAALwAALwAAQUxQSC0AAAABYNy2jaTpvwmVqpnZW/8FImICxrkvM95/S3KSk5zkJCc5yUlOcpKTnOT8ywAAVlA4IBgDAABQEQCdASowADAAPjEUiEMiISEVWq4AIAMEtgBBCg/PM/yA5d11Poc/RdJTBiP1m9wHkwdar6Ev6m+ml+wHwdftb6Ulz059BIH9m8EnwB15MdB/etGO5DODl6gGe38j/v/oyrBr8hzzzll3qqDYUBBerfvy5u3bmsZp7kqwL4D9IhBhDWwzpFWJ2fdWzWwBzr8ziAAA/ucgf/tg/9kH+0g/7sJW8cs///P/+HqW6hY2vzb/jAslm/w9S3ULtQ//KPnuZ7M1S7bNMZwPfs3yy8cC5fYRAJkNVl+UDrkj8nywGe60OOjCAnkub/MWdjf1PVj29zERYDPz61dehbNuz7B3IcM2jFX8jyd03CN5iQsY11BGQk5JTmgdbnl/k90AWYhvC26/zuVb4glG7F/b8dKgby/fNUXVfXsLGGnbXSuNz3RwTutXZE4ngryz7D+KeE2ryvZxaQ+//8+TV23qdOKyCNfd6lanjcLsYP4NfLCEqA7BrTZj3KagLqvuodSpkc3jeXPMxgGOHoK7/9EVUOAumu3eEHkvLxt1WJkI1Ihu3saRqO1vbIMcsNDcBInroJGQOG0pDk6j715tI7aXxq82kWM6emFU5ILfbP8ti8Xfdf/aBnJG/fj1fpfZd9yTwa/iPdyPIZ7RlzfXtQEMniPRevPJFBlaWd81m4SGhuNevH02V/7HxmoRyLJJsKCxByQwFGhip54UMMb98TgkWvySJT2tyPw5+YM8eQnvAplUoyXTARByKS/62f17O6pG3Fui/y8/M1fN9ALQhQ1Krh0gFkPlFVU+gs3D1NP94JJd8zFneJW/cqvFWqKI+JIIbdJxTXOIIpMxd2v1CH5AJqXVJQ2fcIfDVw5dH1fYf38e9ZrTS++v5bYtZnVXT/ZGz7lk/lk6TVVc6MOfqU3oNW1qHoU7AZrvVBGf/hn0zie9RD33+C4ezZ4rQFaO7EUwEGrMHlbAg7Kr8mk7c+EJ5M0ibBbRBp+fw8Udq/zrIor9X5votEHEYjpzZXC8Kiq3z0M5TqjOuuqOHDv+DLcQIfZtiZgq+uTWgAA=",xhe=[["folder",Dpe],["aac",Cpe],["ai",ype],["aiff",Spe],["avi",bpe],["blank",YD],["bmp",wpe],["c",_pe],["cpp",xpe],["css",Ape],["dat",Tpe],["dmg",Ipe],["doc",Epe],["dotx",kpe],["dwg",Rpe],["dxf",Ppe],["eps",Lpe],["exe",Mpe],["flv",Ope],["gif",Fpe],["h",Npe],["hpp",Hpe],["html",Bpe],["ics",zpe],["iso",Vpe],["java",Wpe],["jpg",jpe],["key",Upe],["mid",qpe],["mp3",Gpe],["mp4",Kpe],["mpg",Zpe],["odf",Qpe],["ods",Ype],["odt",Xpe],["otp",Jpe],["ots",ehe],["ott",the],["page",nhe],["pdf",ohe],["php",rhe],["png",ihe],["ppt",she],["psd",ahe],["py",lhe],["qt",che],["rar",dhe],["rb",uhe],["rtf",phe],["sql",hhe],["tga",fhe],["tgz",mhe],["tiff",ghe],["txt",vhe],["wav",Che],["xls",yhe],["xlsx",She],["xml",bhe],["yml",whe],["zip",_he],["link",$pe]],Ahe=xhe.reduce((t,e)=>(t[e[0]]={content:`url(${e[1]})`},t),{container:{position:"relative",display:"flex",alignItems:"center"},default:{padding:"0 7px 0 10px",width:35,height:20,content:`url(${YD})`,flexShrink:0}}),XD=t=>{const{classes:e}=The();return u("div",{className:e.container,children:u("i",{className:ce(t.className,{icon:"icon",[e.default]:!0,[e[t.name]]:t.name})})})},The=K()(Ahe);function Ihe(t){const{className:e,percentage:n}=t,{classes:o}=Ehe();return u(ck,{className:e,classes:{root:o.progressBar,barColorPrimary:o.primary},color:"primary",variant:"determinate",value:n})}const Ehe=K()({progressBar:{"--bg":"var(--light-grey-2)",".termius-dark-theme &":{"--bg":"var(--dark-grey-7)"},backgroundColor:"var(--bg)",width:"100%",maxWidth:"300px",minWidth:"80px"},primary:{backgroundColor:"var(--accent)"}}),JD=Se.forwardRef((t,e)=>{const{className:n,children:o}=t,{classes:r}=khe();return L("span",{ref:e,className:ce(n,r.progressErrorTip),children:[u(P2,{}),u(Ze,{inline:!0,left:5,children:o})]})}),khe=K()({progressErrorTip:{display:"flex",alignItems:"center",color:"var(--red)",margin:"0 5px","& > svg":{width:"14px",height:"14px"}}});function t9(t){const{className:e,name:n,fileInfo:o,modifiedDate:r,extension:i,error:s,onErrorClick:a,isProgressVisible:l=!1,percentage:c=0,actions:d,endAdornment:p}=t,{classes:h}=Rhe();return L("div",{className:ce(e,h.progressBarPresenter,{[h.withProgress]:l}),children:[u(XD,{className:h.icon,name:i}),L("div",{title:n,className:h.info,children:[n,!s&&u(Ze,{inline:!0,left:10,children:o})]}),L("div",{className:h.end,children:[s&&u(Ea,{onClick:a,title:s,placement:"top",children:u("span",{children:u(JD,{children:"Upload failed"})})}),r&&u("span",{className:h.modifiedDate,children:r}),!s&&!!l&&u(Ihe,{className:h.progress,percentage:c}),p,d]})]})}const Rhe=K()({progressBarPresenter:{display:"grid",gridTemplateColumns:"auto 1fr auto",alignItems:"center",width:"100%",fontSize:"12px"},withProgress:{gridTemplateColumns:"auto 1fr minmax(30%, auto)"},icon:{marginLeft:"-10px"},info:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},end:{display:"flex",alignItems:"center",justifyContent:"flex-end"},progress:{margin:"0 10px"},modifiedDate:{fontSize:"12px",textAlign:"right",margin:"0 2px"}});function n9(t){const{className:e,stream:n,showError:o,onCancel:r}=t,{classes:i}=Phe(),[s,a]=QD(n),[l,c]=f.useState(!1),d=()=>{a({type:"restart"}),n==null||n.start()},p=async()=>{if(!n)return;const{itemsWithError:C,resolvedItems:v}=s,S={retry:()=>{},skip:y=>{n.skipItem(y)}};try{const y=await o(C,v);y.isSkipAll&&n.skipAllFilesWithError(),y.isFinished&&(y.resolvedItems.forEach(b=>{b.behavior&&S[b.behavior](b.source.path)}),d())}catch{n.close()}},h=()=>{s.error||c(!0),r==null||r(),n==null||n.close()},{extension:m,isDirectory:g}=n.item.origin;return u(t9,{className:ce(i.streamProgressBar,e),name:n.item.path,extension:m,error:l?"":s.error,onErrorClick:p,isProgressVisible:!s.error,percentage:s.percentage,fileInfo:L(Se.Fragment,{children:[g&&L("span",{className:i.infoItem,children:["Â ",s.filesTransferred," of ",s.filesCount," files,"]}),L("span",{className:i.infoItem,children:["Â ",s.transferred,"/",s.length,","]}),L("span",{className:i.infoItem,children:["Â ",s.speed,"/s,"]}),!!s.remaining&&L("span",{className:i.infoItem,children:["Â ",s.remaining]})]}),actions:L(Se.Fragment,{children:[s.error&&!l&&u(as,{onClick:d,children:"Retry"}),u(as,{isRegular:!0,onClick:h,children:"Discard"})]})})}const Phe=K()({streamProgressBar:{height:"40px",padding:"0 10px"},infoItem:{display:"inline",maxWidth:"30%",textOverflow:"ellipsis",overflow:"hidden","&:last-child":{maxWidth:"10%"}}}),Lhe=""+new URL("close-55652b4b.svg",import.meta.url).href,Mhe=""+new URL("error-ea2607c2.svg",import.meta.url).href,Ohe=()=>({wrapper:{display:"flex",alignItems:"center",height:30,padding:"0 20px",backgroundColor:bt.colors.primary.medium,color:bt.colors.secondary.dark,borderTop:`1px solid ${bt.colors.primary.dark}`,boxSizing:"content-box"},info:{display:"flex",flex:2,overflow:"hidden",whiteSpace:"nowrap",marginRight:20},progress:{display:"flex",flex:1.5,alignItems:"center"},infoItem:{maxWidth:"30%",textOverflow:"ellipsis",overflow:"hidden","&:last-child":{maxWidth:"10%"}},button:{display:"flex",flexShrink:0,alignItems:"center",justifyContent:"center",background:"inherit",borderRadius:"50%",width:20,height:20,marginRight:5,border:"none","&:focus":{outline:0}},closeIcon:{content:`url(${Lhe})`},errorIcon:{content:`url(${Mhe})`},warningIcon:{width:8,height:9},progressBarsContainer:{backgroundColor:"var(--light-grey-4)","&.termius-dark-theme, .termius-dark-theme &":{backgroundColor:"var(--dark-grey-3)"},maxHeight:"20%",overflow:"auto"}});class Dhe extends f.Component{render(){const e=Je.getClasses(this.props),n=()=>{const o=[];for(const[r,i]of this.props.transferStreams)o.unshift(u(n9,{showError:this.props.showError,stream:i},r));return o};return u("div",{className:ce(e.progressBarsContainer),children:n()})}}const Fhe=t=>({transferStreams:cee(t)}),Nhe=Je(_o(Fhe)(Dhe),Ohe,{name:"ConnectedProgressContainer"});var P_=function(e){return{done:!0,value:e}},B5={};function Hhe(t){return zU(t)?"channel":VU(t)?String(t):WU(t)?t.name:String(t)}function Bhe(t,e,n){var o,r,i,s=e;function a(l,c){if(s===B5)return P_(l);if(c&&!r)throw s=B5,c;o&&o(l);var d=c?t[r](c):t[s]();return s=d.nextState,i=d.effect,o=d.stateUpdater,r=d.errorState,s===B5?P_(l):i}return jU(a,function(l){return a(null,l)},n)}function zhe(t,e){for(var n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];var i={done:!1,value:BU(t)},s=function(d){return{done:!1,value:dk.apply(void 0,[e].concat(o,[d]))}},a,l=function(d){return a=d};return Bhe({q1:function(){return{nextState:"q2",effect:i,stateUpdater:l}},q2:function(){return{nextState:"q1",effect:s(a)}}},"q1","takeEvery("+Hhe(t)+", "+e.name+")")}function L_(t,e){for(var n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];return dk.apply(void 0,[zhe,t,e].concat(o))}const M_=oc("open");class Vhe extends Error{constructor(){super(...arguments);E(this,"name","SftpWithoutUnlockUIUserError")}}const Whe=({error:t,onReconnect:e,onClose:n})=>u(b8,{title:"Connection closed",titleColor:"error",onSubmit:e,onClose:n,text:t&&`Closed with error: ${t}`,actionButtons:[{children:"Reconnect",color:"accent",type:"submit"}]}),jhe=Ii(Whe,{hasBackdrop:!0}),Uhe=({changedFiles:t,hostname:e,onConfirm:n,onClose:o})=>{const r=t.length>1,i=Ks("file",t.length,!0),s=L(Se.Fragment,{children:["There ",Ks("is",t.length)," currently"," ",L("strong",{children:[i," being edited"]})," on"," ",u("strong",{children:e}),". Do you want to discard"," ",r?"all files":"the file"," and connect to a different server?"]});return u(_8,{title:"File editing is in progress",text:s,confirmButtonTitle:`Discard ${i}`,buttonColor:"error",onOk:n,onClose:o})},O_=Ii(Uhe,{hasBackdrop:!0}),$he={wrapper:{height:"calc(100% - 128px)",width:"100%",backgroundColor:"var(--sftp-loader-overlay)",position:"absolute",marginTop:128,display:"flex",flexDirection:"column",justifyContent:"space-between"},header:{position:"absolute",height:128,width:"100%"},row:{height:82,width:"100%",display:"flex",justifyContent:"space-between"},containerBorderTopLeft:{flex:1,overflow:"hidden",maxWidth:59,maxHeight:62,marginTop:8,marginLeft:11},borderTopLeft:{height:"120%",width:"120%",borderTop:"3px solid var(--main-color)",borderLeft:"3px solid var(--main-color)",boxSizing:"border-box",borderRadius:10},containerBorderTopRight:{flex:1,overflow:"hidden",maxWidth:59,maxHeight:62,marginTop:8,marginRight:11},borderTopRight:{height:"120%",marginLeft:-12,borderTop:"3px solid var(--main-color)",borderRight:"3px solid var(--main-color)",boxSizing:"border-box",borderRadius:10},containerBorderBottomLeft:{flex:1,overflow:"hidden",maxWidth:59,maxHeight:74,marginTop:8,marginLeft:11},borderBottomLeft:{height:"100%",width:"120%",marginTop:-12,borderBottom:"3px solid var(--main-color)",borderLeft:"3px solid var(--main-color)",boxSizing:"border-box",borderRadius:10},containerBorderBottomRight:{flex:1,overflow:"hidden",maxWidth:59,maxHeight:74,marginTop:8,marginRight:11},borderBottomRight:{height:"100%",marginTop:-12,marginLeft:-12,borderBottom:"3px solid var(--main-color)",borderRight:"3px solid var(--main-color)",boxSizing:"border-box",borderRadius:10},content:{height:"34%",width:"100%",display:"flex",textAlign:"center",alignItems:"center",flexDirection:"column",justifyContent:"center"},icon:{fill:"var(--main-color)",marginBottom:25},title:{fontSize:18,lineHeight:"23px",fontWeight:700,color:"var(--main-color)",textAlign:"center"}};class qhe extends f.Component{constructor(){super(...arguments);E(this,"handleDragOver",n=>{n.preventDefault(),n.stopPropagation()})}render(){const{onDrop:n,onDragLeave:o}=this.props,r=Je.getClasses(this.props);return L(f.Fragment,{children:[L("div",{className:r.wrapper,onDrop:n,onDragLeave:o,onDragOver:this.handleDragOver,children:[L("div",{className:r.row,children:[u("div",{className:r.containerBorderTopLeft,children:u("div",{className:r.borderTopLeft})}),u("div",{className:r.containerBorderTopRight,children:u("div",{className:r.borderTopRight})})]}),L("div",{className:r.content,children:[L("svg",{className:r.icon,width:"50",height:"51",viewBox:"0 0 50 51",xmlns:"http://www.w3.org/2000/svg",children:[u("path",{fillRule:"evenodd",clipRule:"evenodd",d:`M3 25.421V44.421C3 46.0779 4.34315 47.421 6 47.421H44C45.6569 47.421
                  47 46.0779 47 44.421V25.421H50V44.421C50 47.7347 47.3137 50.421 44
                  50.421H6C2.68629 50.421 0 47.7347 0 44.421V25.421H3Z`}),u("path",{d:`M23.9393 38.0607C24.5251 38.6464 25.4749 38.6464 26.0607 38.0607L35.6066
                28.5147C36.1924 27.9289 36.1924 26.9792 35.6066 26.3934C35.0208 25.8076
                34.0711 25.8076 33.4853 26.3934L25 34.8787L16.5147 26.3934C15.9289 25.8076
                14.9792 25.8076 14.3934 26.3934C13.8076 26.9792 13.8076 27.9289 14.3934
                28.5147L23.9393 38.0607ZM23.5 -5.13702e-08L23.5 37L26.5 37L26.5 5.13702e-08L23.5 -5.13702e-08Z`})]}),u("div",{className:r.title,children:"Drop files here"})]}),L("div",{className:r.row,children:[u("div",{className:r.containerBorderBottomLeft,children:u("div",{className:r.borderBottomLeft})}),u("div",{className:r.containerBorderBottomRight,children:u("div",{className:r.borderBottomRight})})]})]}),u("div",{className:r.header})]})}}const Ghe=Je(qhe,$he,{name:"DropZone"}),Ec=K()((t,e,n)=>({trigger:{},divider:{height:"30px"},dropdownChevron:{fill:"currentColor",minWidth:"11px",height:"7px",marginTop:"2px",transform:"rotate(0deg)",transition:`transform ${Jp.shortest}ms ${eh.sharp}`,transformOrigin:"center",[`.${n.trigger}[aria-expanded=true] &`]:{transform:"rotate(180deg)"}},onlySelector:{marginRight:"5px",display:"none","&:hover":{opacity:.5},[`.${n.optionItem}:hover &`]:{display:"block",color:"var(--accent)"}},shortenedVaultOptionName:{[`.${n.optionItem}:hover &`]:{maxWidth:"85px"}},optionItem:{minWidth:"185px",margin:"0px 5px","& svg":{color:"var(--secondary)"},"&:hover svg":{color:"var(--main)"},"&:hover div":{color:"var(--main)"},"&.Mui-selected":{background:"none","&:hover":{background:"var(--hover-light)"}}},optionCheckbox:{"& svg":{color:"var(--light-grey-3) !important"}},vaultAdditionalButton:{minWidth:"185px",height:"unset",margin:"0px 5px 0px 5px",padding:"10px","&:hover":{background:"var(--hover-light)"}},vaultOptionName:{maxWidth:"118px",transition:"all 0.1s ease",[`.${n.optionItem}:hover &`]:{maxWidth:"95px"}},multiSelectMenu:{minWidth:"253px",padding:"5px 0px 0px 0px","--scrollbar-width":0},uncheckedIcon:{color:"var(--light-grey-3) !important"},promoSection:{display:"none",padding:"0px 5px",borderRadius:"5px",background:"var(--accent-transparent)",[`.${n.optionItem}:hover &`]:{display:"flex","& div":{color:"var(--accent)"},"& svg":{color:"var(--accent)"}},[`.${n.vaultAdditionalButton}:hover &`]:{display:"block"}},pendingAccessSection:{[`.${n.optionItem}:hover &`]:{"& div":{color:"var(--secondary)"},"& svg":{color:"var(--secondary)"}}},allVaults:{".termius-dark-theme &":{borderColor:"var(--dark-grey-5)"}}})),eF=f.createContext(void 0),o9=uk(eF,tF);function tF(t){const{value:e,onChange:n,open:o,onOpenChange:r,triggerSlot:i,children:s}=t,a=V(xo),[l,c]=f.useState(null),{classes:d}=Ec(),p=f.useMemo(()=>({value:e,onChange:n,isOpen:o,onOpenChange:r,toggleRef:c}),[e,n,o,r]);return L(eF.Provider,{value:p,children:[i,u(Ss,{dark:a,open:o,onClose:()=>r(!1),onOpen:()=>r(!0),maxHeight:392,disablePortal:!1,className:d.multiSelectMenu,onDoubleClick:h=>h.stopPropagation(),anchorEl:l,position:"left",children:s})]})}const Khe=()=>{const{classes:t}=Ec(),e=o9(),n=de(),o=V(Lh),r=V(L2),i=V(R2);if(!(r&&o.length>2))return null;const a=o.length!==i.length&&!ds(i),l=(e==null?void 0:e.value.length)===o.length,c=()=>{const d=l?[]:o.map(p=>p.id);n(he("vaultFilterSelected",{numberOfSelectedVaults:d.length,personalVaultSelected:l?"no":"yes",allVaults:"yes",isOnly:"no"})),e.onChange(d)};return u(re,{paddingBottom:"5px",borderBottom:"1px solid var(--card-b)",className:t.allVaults,children:u(Qn,{selected:l,icon:u(yi,{size:20,icon:u(Xp,{})}),endAdornment:u(x8,{checked:l,readOnly:!0,customColor:"var(--accent)",indeterminate:a,classNames:{uncheckedIcon:t.uncheckedIcon}}),onClick:c,className:t.optionItem,children:u(Z,{variant:"body1",ellipsis:!0,className:t.vaultOptionName,children:"All vaults"})})})},Zhe=(t,e)=>f.createElement("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M6.38373 14L7.61627 14C7.96459 14 8.21914 13.7923 8.29282 13.4507L8.64115 11.977C8.90239 11.89 9.15694 11.7895 9.37799 11.6823L10.6708 12.4727C10.9589 12.6536 11.2871 12.6268 11.5282 12.3856L12.3923 11.5282C12.6335 11.2871 12.667 10.9388 12.4727 10.6507L11.6823 9.37129C11.7962 9.13684 11.8967 8.89569 11.9703 8.65455L13.4574 8.29952C13.799 8.22584 14 7.97129 14 7.62297L14 6.41053C14 6.0689 13.799 5.81435 13.4574 5.74067L11.9837 5.38565C11.8967 5.111 11.7895 4.86316 11.6957 4.6555L12.4861 3.35598C12.6737 3.06794 12.6536 2.73971 12.4057 2.49856L11.5282 1.63445C11.2804 1.4067 10.9856 1.36651 10.6909 1.53397L9.37799 2.3445C9.16364 2.23062 8.91579 2.13014 8.64115 2.04306L8.29282 0.549282C8.21914 0.207656 7.96459 3.8372e-08 7.61627 3.66938e-08L6.38373 3.07557e-08C6.03541 2.90775e-08 5.78086 0.207656 5.70048 0.549282L5.35215 2.02967C5.09091 2.11675 4.83636 2.21722 4.60861 2.3378L3.30909 1.53397C3.01435 1.36651 2.71292 1.4 2.46507 1.63445L1.59426 2.49856C1.34641 2.73971 1.31962 3.06794 1.51388 3.35598L2.29761 4.6555C2.21053 4.86316 2.10335 5.111 2.01627 5.38565L0.542584 5.74067C0.200957 5.81435 4.90597e-08 6.0689 5.18213e-08 6.41053L6.16224e-08 7.62297C6.44382e-08 7.97129 0.200957 8.22584 0.542584 8.29952L2.02967 8.65455C2.10335 8.89569 2.20383 9.13684 2.311 9.37129L1.52727 10.6507C1.32632 10.9388 1.36651 11.2871 1.60766 11.5282L2.46507 12.3856C2.70622 12.6268 3.04115 12.6536 3.32919 12.4727L4.61531 11.6823C4.84306 11.7895 5.09091 11.89 5.35215 11.977L5.70048 13.4507C5.78086 13.7923 6.03541 14 6.38373 14ZM7 9.36459C5.70048 9.36459 4.63541 8.29282 4.63541 6.9933C4.63541 5.70048 5.70048 4.63541 7 4.63541C8.29952 4.63541 9.36459 5.70048 9.36459 6.9933C9.36459 8.29282 8.29952 9.36459 7 9.36459Z",fill:"currentColor"})),Qhe=f.forwardRef(Zhe),Yhe=f.memo(Qhe);function Xhe(t){const{onSelect:e,variant:n}=t,{classes:o}=Ec(),r=tt(),i=de();if(!(V(lo)&&n!=="sftp"))return null;const{onManageVaults:l}=os(r,i,"Vault Picker");return u(Qn,{onClick:()=>{l(),e()},className:o.vaultAdditionalButton,children:L(re,{direction:"row",gap:"10px",alignItems:"center",flex:"1",children:[u(Yhe,{}),u(Z,{variant:"body1",children:"Manage vaults"})]})})}function Jhe(t){const{variant:e,onSelect:n}=t,o=V(fu),r=tt(),i=de(),{classes:s}=Ec(),a=V(L2),l=V(lo),c=V(mu);if(!(!(e==="sftp")||!a)||!o)return null;const{onNewVault:h,onNewVaultPromo:m,onTeamVaultPromo:g}=os(r,i,"Vault Picker"),C={newVault:{label:"Add vault",action:()=>h("Vaults Filter",c)},teamVaultPromo:{label:"Team",action:()=>g()},newVaultPromo:{label:"Add vault",action:()=>m("Vaults Filter",c)}},v=l?u($U,{width:16,height:16}):u(Xp,{width:16,height:16});return u(Qn,{onClick:()=>{C[o].action(),n()},className:s.vaultAdditionalButton,icon:u(yi,{size:14,icon:v}),endAdornment:!l&&u(re,{className:s.promoSection,children:u(Z,{variant:"body2",color:"accent",children:"Invite members"})}),children:L(re,{direction:"row",gap:"10px",alignItems:"center",flex:"1",children:[u(Z,{variant:"body1",children:C[o].label}),!l&&u(yi,{size:14,icon:u(UU,{})}),o==="newVaultPromo"&&u(pk,{width:14,height:14})]})})}const e1e=t=>{const{variant:e,onOpenChange:n}=t,{classes:o,cx:r}=t1e(),i=V(k2),s=V(lo),a=e==="sftp";if(i)return null;const l=s&&!a;return L(re,{paddingBottom:a?"0px":"5px",className:r({[o.teamMemberSection]:l}),children:[u(Jhe,{variant:e,onSelect:()=>n(!1)}),u(Xhe,{variant:e,onSelect:()=>n(!1)})]})},t1e=K()({teamMemberSection:{borderTop:"1px solid var(--card-b)",padding:"5px 0px",".termius-dark-theme &":{borderColor:"var(--dark-grey-5)"}}});function n1e(t){const{classes:e}=Ec(),{toggleRef:n,onOpenChange:o,isOpen:r}=o9(),{label:i}=V(qU);return t.variant==="sftp"?L(re,{direction:"row",alignItems:"center",gap:"10px",role:"button",maxWidth:"170px","aria-expanded":t.expanded,className:e.trigger,ref:n,onClick:()=>o(!r),children:[u(Ee,{minWidth:0,children:u(Z,{variant:"body2",ellipsis:!0,children:i})}),u(dn,{className:e.dropdownChevron})]}):u(re,{direction:"row",alignItems:"center",gap:"10px",role:"button",width:"30px",height:"30px",justifyContent:"center","aria-expanded":t.expanded,className:e.trigger,ref:n,onClick:()=>o(!r),children:u(dn,{className:e.dropdownChevron})})}function o1e(t){const e=o9(),{value:n,vault:o,pendingAccess:r=!1}=t,i=tt(),s=de(),a=V(Ra),l=GU(o),c=V(lo),d=V(Lh),p=KU(),h=V(gu),m=ZU(o,h),C=V(L2)&&!r,v=r&&!l,S=e.value.includes(n),y=()=>{if(a){b();return}c&&w()},b=async()=>{x(),await rM({sagas:i,funnelIdValue:p,isTriggeredByUser:!0,proPurchaseOnly:XU})},w=()=>{let A=[];if(r){l&&(A=d.map(k=>k.id)),e.onChange(A),_(A);return}A=S?e.value.filter(k=>k!==n):[...e.value,n],e.onChange(A),_(A)},x=()=>{s(he("backUpAndSyncButtonPressed",{backUpButtonLocation:"Vault Picker"})),s(JU({choosePlanSource:"Backup & Sync"})),s(e$({from:"BackUpAndSync",upgradeToProFunnelID:p,trial:"no"}))},_=A=>{s(he("vaultFilterSelected",{numberOfSelectedVaults:A.length,personalVaultSelected:A.some(k=>k==null)?"yes":"no",allVaults:"no",isOnly:"no"}))},{classes:I,cx:T}=Ec();return u(Qn,{selected:S,icon:u(yi,{size:14,icon:u(Xp,{})}),endAdornment:u(r1e,{isSelectedCheckbox:S,isPendingTeamVault:v}),onClick:y,onDoubleClick:A=>A.stopPropagation(),className:I.optionItem,children:L(re,{direction:"row",alignItems:"center",justifyContent:"space-between",width:"100%",height:"40px",children:[L(re,{direction:"row",alignItems:"center",gap:"10px",children:[u(Z,{variant:"body1",ellipsis:!0,className:T(I.vaultOptionName,{[I.shortenedVaultOptionName]:m>99}),children:o.name}),!v&&u(QU,{vault:o,membersCount:m,variant:"showOnlyCounter"})]}),C&&u(Ee,{onClick:A=>{A.stopPropagation(),s(he("vaultFilterSelected",{numberOfSelectedVaults:1,personalVaultSelected:n==null?"yes":"no",allVaults:"no",isOnly:"yes"})),e.onChange([n])},children:u(Z,{className:I.onlySelector,variant:"body1",color:"accent",children:"only"})})]})})}const r1e=t=>{const{isSelectedCheckbox:e,isPendingTeamVault:n}=t,{classes:o}=Ec();return V(Ra)?L(re,{direction:"row",gap:"3px",alignItems:"center",className:o.promoSection,children:[u(Z,{variant:"body2",color:"accent",display:"inline",children:"Sync now"}),u(yi,{size:14,icon:u(pk,{})})]}):n?L(re,{direction:"row",gap:"3px",alignItems:"center",padding:"0px 5px",bgcolor:"var(--light-grey-transparent-10)",borderRadius:"5px",className:o.pendingAccessSection,children:[u(yi,{size:14,icon:u(YU,{})}),u(Z,{variant:"body2",color:"secondary",display:"inline",children:"Pending access"})]}):u(x8,{checked:e,readOnly:!0,customColor:"var(--accent)",classNames:{uncheckedIcon:o.uncheckedIcon}})},i1e=()=>{const t=V(Lh),e=V(k2),n=V(L2),o=V(lo),r=n&&!e&&t.length>2;return u(re,{component:"ul",overflow:"auto",maxHeight:"225px",paddingBottom:o?"5px":"0px",paddingTop:r?"5px":"0px",children:t.map(i=>u(o1e,{vault:i,value:i.id,pendingAccess:e},i.id))})},nF=t=>{const{open:e,onOpenChange:n,variant:o="default"}=t,r=de(),i=V(sc),s=V(k2),a=V(Lh),l=V(t$);if(i)return null;const c=s?a.filter(g=>!n$(g)):a,{label:d,selectedCount:p}=o$(c,l),h=g=>{r(rk(g)),m(g)},m=g=>{g.length||r(s?he("noAccessScreenOpened"):he("noVaultsSelectedScreenOpened"))};return L(tF,{open:e,onOpenChange:n,value:l,onChange:h,triggerSlot:u(n1e,{variant:o,expanded:e,sticker:p,children:d}),children:[u(Khe,{}),u(i1e,{}),u(e1e,{variant:o,onOpenChange:n})]})},s1e=()=>{const{classes:t}=a1e();return u(hn,{offsetTop:50,className:t.wrapper,children:u(wo,{title:"No hosts",text:"Save your connection details as hosts to connect via SFTP.",icon:u(ic,{height:"25px",width:"25px"})})})},a1e=K()({wrapper:{backgroundColor:"var(--entity-grid-background)"}});function l1e({className:t,filters:e,onFiltersChanged:n,tags:o}){const{classes:r,cx:i}=c1e(),s=V(xo),a=de(),l=f.useCallback(({sort:d})=>{d&&a(A8({tab:"hosts",sort:d.type,reverse:d.reverse}))},[a]),c=V(d=>d.sorting.hosts);return L("div",{className:i(r.header,t,{"termius-dark-theme":s}),children:[u(hk,{search:e.search,onChange:n}),o&&u(fk,{dark:s,onChange:n,selectedTags:e.tags}),u(M2,{type:c.by,reverse:c.reverse,onChange:l,dark:s})]})}const c1e=K()({header:{background:"var(--card-a)",display:"flex",padding:"5px 12px",paddingTop:"4px",minHeight:"44px",alignItems:"center",zIndex:10,overflow:"hidden",flexWrap:"wrap",justifyContent:"flex-end",gap:"15px"}});function oF(t,e){const n=(s,a)=>s.id&&a.id?s.id===a.id:s.local_id===a.local_id;if(!e.groupPath.some(s=>t.groups.find(l=>n(l,s))!==s))return null;const r=e.groupPath.map(s=>t.groups.find(a=>n(a,s))).filter(pn),i=r[r.length-1];return{groupPath:r,filters:{...e.filters,groupId:i==null?void 0:i.local_id}}}class rF extends f.Component{constructor(n){super(n);E(this,"onFiltersChanged",n=>{this.setState({filters:{...this.state.filters,...n}})});E(this,"onHostSelect",n=>{this.props.onClick(n)});E(this,"onGroupSelect",n=>{this.props.onClick(n)});E(this,"onClearSelection",()=>{this.props.onClick(void 0)});E(this,"onGroupPathClick",n=>{const o=n[n.length-1];this.setState(r=>({filters:{...r.filters,groupId:o?o.local_id:null},groupPath:n}))});E(this,"openGroup",n=>{n&&this.setState(o=>({filters:{...o.filters,groupId:n.local_id},groupPath:[...o.groupPath,n]}))});const o=T8();this.state={filters:o,groupPath:[]}}static getDerivedStateFromProps(n,o){return oF(n,o)}render(){const{filters:n,groupPath:o}=this.state,{onSelect:r,hideTags:i,hosts:s,groups:a,exclude:l,sort:c,isFiltersBordered:d,showVaultsEmptyScreen:p,emptySearchScreen:h,emptyScreen:m}=this.props,g=Je.getClasses(this.props);return p?u(Ic,{}):L("div",{className:g.selectListWrapper,children:[u(l1e,{tags:!i,className:ce({[g.filtersHeader]:!!d}),filters:n,onFiltersChanged:this.onFiltersChanged}),u(I8,{className:g.path,groups:o,onClick:this.onGroupPathClick,p:"20px 30px 0px"}),u("div",{className:g.listWrapper,children:u(mk,{emptyScreen:m,emptySearchScreen:h,groups:a,hosts:s,filters:n,exclude:l,sort:c,onGroupSelect:this.onGroupSelect,onHostSelect:this.onHostSelect,onClearSelection:this.onClearSelection,openGroup:this.openGroup,onDoubleClick:r,onEnter:He,withoutContextMenu:!0,disableGridLayout:!0,disableDragAndDrop:!0})})]})}}E(rF,"defaultProps",{hosts:[],hideTags:!1,onClick:()=>{},exclude:void 0,showVaultsEmptyScreen:!1});const d1e={selectListWrapper:{flex:"1",padding:"0",overflowX:"hidden",overflowY:"hidden",height:"100%",width:"100%",display:"flex",flexDirection:"column",backgroundColor:"var(--card-c)","--entity-list-background":"var(--light-grey-6)",".termius-dark-theme &":{"--entity-list-background":"var(--dark-grey-2)"}},path:{background:"var(--entity-list-background)"},listWrapper:{flex:"1 1 auto",height:"100%",display:"flex",flexDirection:"column"},filtersHeader:{minHeight:"45px",background:"var(--light-grey-7)",".termius-dark-theme &":{background:"var(--dark-grey-3)"}}},u1e=Je(rF,d1e,{name:"ConnectedSelectHost"}),p1e=t=>{const{classes:e}=h1e(),n=V(Nh),o=V(E8),r=V(p=>p.sorting.hosts),i=V(ac),s=p=>{p instanceof _t&&t.onConnect(p)},[a,l]=f.useState(!1),c=de(),d=f.useCallback(p=>{p&&c(he("vaultFilterButtonPressed")),l(p)},[c]);return L(Se.Fragment,{children:[u(fn,{left:L(Et,{margin:"md",children:[u(O2,{onClick:t.onClose}),u(mn,{title:"Select Host",children:u(nF,{variant:"sftp",open:a,onOpenChange:d})})]}),right:u(Et,{margin:"md",children:L(Ue,{className:e.local,size:"small",color:"accent",onClick:t.onConnectToLocalhost,children:[u(k8,{width:12,height:12}),u(Z,{variant:"boldBody2",children:"Local"})]})})}),u(u1e,{emptyScreen:u(s1e,{}),emptySearchScreen:u(gk,{offsetTop:50}),hosts:n,groups:o,sort:r,onSelect:s,isFiltersBordered:!0,showVaultsEmptyScreen:i},"SelectHostList")]})},h1e=K()({local:{borderRadius:6,textTransform:"none",fontWeight:500,"& svg":{marginRight:5}}}),D_=t=>{const e=vl.extname(t);return e.split(".").pop()||e};function f1e(t){const{className:e,sessionId:n,showError:o,failedFilesOpening:r,showChooseAppDialog:i,openFile:s,removeFailedFileOpeningError:a,addFileTypeAssociation:l}=t,{classes:c}=m1e(),d=V(tM),p=dee(d,n||""),h=async g=>{const C=await i();if(!C)return;const v=D_(g.filePath);s(g.filePath,v,C),l(v,C),a(g)},m=g=>{const C=D_(g.filePath);s(g.filePath,C),a(g)};return L("div",{className:ce(e,c.openingFilesList),children:[p.map(([g,C])=>u(n9,{showError:o,stream:C},g)),r.map(g=>u(t9,{className:c.failedItem,name:vl.basename(g.filePath),extension:vl.extname(g.filePath),endAdornment:L(JD,{children:[u("strong",{children:vl.basename(g.appPath)})," not found"]}),actions:L(Et,{margin:"sm",children:[u(as,{onClick:()=>h(g),children:"Choose App"}),u(as,{isRegular:!0,onClick:()=>m(g),children:"Open default"})]})},g.filePath))]})}const m1e=K()({openingFilesList:{backgroundColor:"var(--light-grey-4)","&.termius-dark-theme, .termius-dark-theme &":{backgroundColor:"var(--dark-grey-3)"},maxHeight:"20vh",overflow:"auto"},failedItem:{height:"40px",padding:"0 10px"}});var r9={},g1e=Cr;Object.defineProperty(r9,"__esModule",{value:!0});var iF=r9.default=void 0,v1e=g1e(vr()),C1e=yr,y1e=(0,v1e.default)((0,C1e.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");iF=r9.default=y1e;var i9={},S1e=Cr;Object.defineProperty(i9,"__esModule",{value:!0});var sF=i9.default=void 0,b1e=S1e(vr()),w1e=yr,_1e=(0,b1e.default)((0,w1e.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");sF=i9.default=_1e;var ad={},z5={},F_;function x1e(){return F_||(F_=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=e;function e(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=o.defaultSortBy,i=o.defaultSortDirection,s=i===void 0?{}:i;if(!n)throw Error('Required parameter "sortCallback" not specified');var a=r||[],l={};a.forEach(function(d){l[d]=s[d]!==void 0?s[d]:"ASC"});function c(d){var p=d.defaultSortDirection,h=d.event,m=d.sortBy;if(h.shiftKey)l[m]!==void 0?l[m]=l[m]==="ASC"?"DESC":"ASC":(l[m]=p,a.push(m));else if(h.ctrlKey||h.metaKey){var g=a.indexOf(m);g>=0&&(a.splice(g,1),delete l[m])}else{a.length=0,a.push(m);var C=Object.keys(l);C.forEach(function(v){v!==m&&delete l[v]}),l[m]!==void 0?l[m]=l[m]==="ASC"?"DESC":"ASC":l[m]=p}n({sortBy:a,sortDirection:l})}return{sort:c,sortBy:a,sortDirection:l}}}(z5)),z5}var V5={},Ho={},N_;function k1(){if(N_)return Ho;N_=1;var t=Kt;Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.bpfrpt_proptype_RowRendererParams=Ho.bpfrpt_proptype_HeaderRendererParams=Ho.bpfrpt_proptype_HeaderRowRendererParams=Ho.bpfrpt_proptype_CellRendererParams=Ho.bpfrpt_proptype_CellDataGetterParams=void 0,t(ao);var e=null;Ho.bpfrpt_proptype_CellDataGetterParams=e;var n=null;Ho.bpfrpt_proptype_CellRendererParams=n;var o=null;Ho.bpfrpt_proptype_HeaderRowRendererParams=o;var r=null;Ho.bpfrpt_proptype_HeaderRendererParams=r;var i=null;return Ho.bpfrpt_proptype_RowRendererParams=i,Ho}var H_;function aF(){return H_||(H_=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=e,k1();function e(n){var o=n.dataKey,r=n.rowData;return typeof r.get=="function"?r.get(o):r[o]}}(V5)),V5}var W5={},B_;function lF(){return B_||(B_=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=e,k1();function e(n){var o=n.cellData;return o==null?"":String(o)}}(W5)),W5}var j5={},z_;function cF(){return z_||(z_=1,function(t){var e=Kt,n=Wr();Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(f);k1(),e(ao);function r(i){var s=i.className,a=i.columns,l=i.style;return o.createElement("div",{className:s,role:"row",style:l},a)}r.propTypes=null}(j5)),j5}var U5={},$5={};function Nv(t){var e,n,o="";if(t)if(typeof t=="object")if(t.push)for(e=0;e<t.length;e++)t[e]&&(n=Nv(t[e]))&&(o&&(o+=" "),o+=n);else for(e in t)t[e]&&(n=Nv(e))&&(o&&(o+=" "),o+=n);else typeof t!="boolean"&&!t.call&&(o&&(o+=" "),o+=t);return o}function cr(){for(var t=0,e,n="";t<arguments.length;)(e=Nv(arguments[t++]))&&(n&&(n+=" "),n+=e);return n}const A1e=Object.freeze(Object.defineProperty({__proto__:null,default:cr},Symbol.toStringTag,{value:"Module"})),o3=Fh(A1e);var q5={},V_;function r3(){return V_||(V_=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={ASC:"ASC",DESC:"DESC"},n=e;t.default=n}(q5)),q5}var W_;function dF(){return W_||(W_=1,function(t){var e=Wr(),n=Kt;Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var o=n(o3);n(ao);var r=e(f),i=n(r3());function s(a){var l=a.sortDirection,c=(0,o.default)("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":l===i.default.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":l===i.default.DESC});return r.createElement("svg",{className:c,width:18,height:18,viewBox:"0 0 24 24"},l===i.default.ASC?r.createElement("path",{d:"M7 14l5-5 5 5z"}):r.createElement("path",{d:"M7 10l5 5 5-5z"}),r.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}s.propTypes={}}($5)),$5}var j_;function uF(){return j_||(j_=1,function(t){var e=Kt,n=Wr();Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(f),r=e(dF());k1(),e(ao);function i(s){var a=s.dataKey,l=s.label,c=s.sortBy,d=s.sortDirection,p=c===a,h=[o.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:typeof l=="string"?l:null},l)];return p&&h.push(o.createElement(r.default,{key:"SortIndicator",sortDirection:d})),h}i.propTypes=null}(U5)),U5}var G5={},K5={exports:{}},U_;function R1(){return U_||(U_=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var o=1;o<arguments.length;o++){var r=arguments[o];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(this,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(K5)),K5.exports}var $_;function pF(){return $_||($_=1,function(t){var e=Wr(),n=Kt;Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(R1()),r=e(f);k1(),n(ao);function i(s){var a=s.className,l=s.columns,c=s.index,d=s.key,p=s.onRowClick,h=s.onRowDoubleClick,m=s.onRowMouseOut,g=s.onRowMouseOver,C=s.onRowRightClick,v=s.rowData,S=s.style,y={"aria-rowindex":c+1};return(p||h||m||g||C)&&(y["aria-label"]="row",y.tabIndex=0,p&&(y.onClick=function(b){return p({event:b,index:c,rowData:v})}),h&&(y.onDoubleClick=function(b){return h({event:b,index:c,rowData:v})}),m&&(y.onMouseOut=function(b){return m({event:b,index:c,rowData:v})}),g&&(y.onMouseOver=function(b){return g({event:b,index:c,rowData:v})}),C&&(y.onContextMenu=function(b){return C({event:b,index:c,rowData:v})})),r.createElement("div",(0,o.default)({},y,{className:a,key:d,role:"row",style:S}),l)}i.propTypes=null}(G5)),G5}var Z5={},q_;function hF(){return q_||(q_=1,function(t){var e=Wr(),n=Kt;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(Pa()),r=n(vu()),i=n(Cu()),s=n(yu()),a=n(La());n(ao);var l=e(f),c=n(uF()),d=n(lF()),p=n(aF()),h=n(r3()),m=function(g){(0,s.default)(C,g);function C(){return(0,o.default)(this,C),(0,r.default)(this,(0,i.default)(C).apply(this,arguments))}return C}(l.Component);t.default=m,(0,a.default)(m,"defaultProps",{cellDataGetter:p.default,cellRenderer:d.default,defaultSortDirection:h.default.ASC,flexGrow:0,flexShrink:1,headerRenderer:c.default,style:{}}),m.propTypes={}}(Z5)),Z5}var Q5={},Y5={},X5={},J5={},G_;function T1e(){return G_||(G_=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=e;function e(n){var o=n.cellCount,r=n.cellSize,i=n.computeMetadataCallback,s=n.computeMetadataCallbackProps,a=n.nextCellsCount,l=n.nextCellSize,c=n.nextScrollToIndex,d=n.scrollToIndex,p=n.updateScrollOffsetForScrollToIndex;(o!==a||(typeof r=="number"||typeof l=="number")&&r!==l)&&(i(s),d>=0&&d===c&&p())}}(J5)),J5}var e4={},t4={exports:{}},n4={exports:{}},K_;function I1e(){return K_||(K_=1,function(t){function e(n,o){if(n==null)return{};var r={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(o.indexOf(i)>=0)continue;r[i]=n[i]}return r}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(n4)),n4.exports}var Z_;function fF(){return Z_||(Z_=1,function(t){var e=I1e();function n(o,r){if(o==null)return{};var i=e(o,r),s,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(o);for(a=0;a<l.length;a++)s=l[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(o,s)&&(i[s]=o[s])}return i}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(t4)),t4.exports}var o4={},Xe={},Q_;function qa(){if(Q_)return Xe;Q_=1;var t=Kt,e=Wr();Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.bpfrpt_proptype_VisibleCellRange=Xe.bpfrpt_proptype_Alignment=Xe.bpfrpt_proptype_OverscanIndicesGetter=Xe.bpfrpt_proptype_OverscanIndices=Xe.bpfrpt_proptype_OverscanIndicesGetterParams=Xe.bpfrpt_proptype_RenderedSection=Xe.bpfrpt_proptype_ScrollbarPresenceChange=Xe.bpfrpt_proptype_Scroll=Xe.bpfrpt_proptype_NoContentRenderer=Xe.bpfrpt_proptype_CellSize=Xe.bpfrpt_proptype_CellSizeGetter=Xe.bpfrpt_proptype_CellRangeRenderer=Xe.bpfrpt_proptype_CellRangeRendererParams=Xe.bpfrpt_proptype_StyleCache=Xe.bpfrpt_proptype_CellCache=Xe.bpfrpt_proptype_CellRenderer=Xe.bpfrpt_proptype_CellRendererParams=Xe.bpfrpt_proptype_CellPosition=void 0,e(f),t(s9()),t(ao);var n=null;Xe.bpfrpt_proptype_CellPosition=n;var o=null;Xe.bpfrpt_proptype_CellRendererParams=o;var r=null;Xe.bpfrpt_proptype_CellRenderer=r;var i=null;Xe.bpfrpt_proptype_CellCache=i;var s=null;Xe.bpfrpt_proptype_StyleCache=s;var a=null;Xe.bpfrpt_proptype_CellRangeRendererParams=a;var l=null;Xe.bpfrpt_proptype_CellRangeRenderer=l;var c=null;Xe.bpfrpt_proptype_CellSizeGetter=c;var d=null;Xe.bpfrpt_proptype_CellSize=d;var p=null;Xe.bpfrpt_proptype_NoContentRenderer=p;var h=null;Xe.bpfrpt_proptype_Scroll=h;var m=null;Xe.bpfrpt_proptype_ScrollbarPresenceChange=m;var g=null;Xe.bpfrpt_proptype_RenderedSection=g;var C=null;Xe.bpfrpt_proptype_OverscanIndicesGetterParams=C;var v=null;Xe.bpfrpt_proptype_OverscanIndices=v;var S=null;Xe.bpfrpt_proptype_OverscanIndicesGetter=S;var y=null;Xe.bpfrpt_proptype_Alignment=y;var b=null;return Xe.bpfrpt_proptype_VisibleCellRange=b,Xe}var Y_;function E1e(){return Y_||(Y_=1,function(t){var e=Kt;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=e(Pa()),o=e(lc()),r=e(La());qa();var i=function(){function s(a){var l=a.cellCount,c=a.cellSizeGetter,d=a.estimatedCellSize;(0,n.default)(this,s),(0,r.default)(this,"_cellSizeAndPositionData",{}),(0,r.default)(this,"_lastMeasuredIndex",-1),(0,r.default)(this,"_lastBatchedIndex",-1),(0,r.default)(this,"_cellCount",void 0),(0,r.default)(this,"_cellSizeGetter",void 0),(0,r.default)(this,"_estimatedCellSize",void 0),this._cellSizeGetter=c,this._cellCount=l,this._estimatedCellSize=d}return(0,o.default)(s,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(l){var c=l.cellCount,d=l.estimatedCellSize,p=l.cellSizeGetter;this._cellCount=c,this._estimatedCellSize=d,this._cellSizeGetter=p}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(l){if(l<0||l>=this._cellCount)throw Error("Requested index ".concat(l," is outside of range 0..").concat(this._cellCount));if(l>this._lastMeasuredIndex)for(var c=this.getSizeAndPositionOfLastMeasuredCell(),d=c.offset+c.size,p=this._lastMeasuredIndex+1;p<=l;p++){var h=this._cellSizeGetter({index:p});if(h===void 0||isNaN(h))throw Error("Invalid size returned for cell ".concat(p," of value ").concat(h));h===null?(this._cellSizeAndPositionData[p]={offset:d,size:0},this._lastBatchedIndex=l):(this._cellSizeAndPositionData[p]={offset:d,size:h},d+=h,this._lastMeasuredIndex=l)}return this._cellSizeAndPositionData[l]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var l=this.getSizeAndPositionOfLastMeasuredCell(),c=l.offset+l.size,d=this._cellCount-this._lastMeasuredIndex-1,p=d*this._estimatedCellSize;return c+p}},{key:"getUpdatedOffsetForIndex",value:function(l){var c=l.align,d=c===void 0?"auto":c,p=l.containerSize,h=l.currentOffset,m=l.targetIndex;if(p<=0)return 0;var g=this.getSizeAndPositionOfCell(m),C=g.offset,v=C-p+g.size,S;switch(d){case"start":S=C;break;case"end":S=v;break;case"center":S=C-(p-g.size)/2;break;default:S=Math.max(v,Math.min(C,h));break}var y=this.getTotalSize();return Math.max(0,Math.min(y-p,S))}},{key:"getVisibleCellRange",value:function(l){var c=l.containerSize,d=l.offset,p=this.getTotalSize();if(p===0)return{};var h=d+c,m=this._findNearestCell(d),g=this.getSizeAndPositionOfCell(m);d=g.offset+g.size;for(var C=m;d<h&&C<this._cellCount-1;)C++,d+=this.getSizeAndPositionOfCell(C).size;return{start:m,stop:C}}},{key:"resetCell",value:function(l){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,l-1)}},{key:"_binarySearch",value:function(l,c,d){for(;c<=l;){var p=c+Math.floor((l-c)/2),h=this.getSizeAndPositionOfCell(p).offset;if(h===d)return p;h<d?c=p+1:h>d&&(l=p-1)}return c>0?c-1:0}},{key:"_exponentialSearch",value:function(l,c){for(var d=1;l<this._cellCount&&this.getSizeAndPositionOfCell(l).offset<c;)l+=d,d*=2;return this._binarySearch(Math.min(l,this._cellCount-1),Math.floor(l/2),c)}},{key:"_findNearestCell",value:function(l){if(isNaN(l))throw Error("Invalid offset ".concat(l," specified"));l=Math.max(0,l);var c=this.getSizeAndPositionOfLastMeasuredCell(),d=Math.max(0,this._lastMeasuredIndex);return c.offset>=l?this._binarySearch(d,0,l):this._exponentialSearch(d,l)}}]),s}();t.default=i}(o4)),o4}var sp={},X_;function k1e(){if(X_)return sp;X_=1,Object.defineProperty(sp,"__esModule",{value:!0}),sp.getMaxElementSize=void 0;var t=15e5,e=16777100,n=function(){return typeof window<"u"},o=function(){return!!window.chrome},r=function(){return n()&&o()?e:t};return sp.getMaxElementSize=r,sp}var J_;function s9(){return J_||(J_=1,function(t){var e=Kt;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=e(fF()),o=e(Pa()),r=e(lc()),i=e(La()),s=e(E1e()),a=k1e();qa();var l=function(){function c(d){var p=d.maxScrollSize,h=p===void 0?(0,a.getMaxElementSize)():p,m=(0,n.default)(d,["maxScrollSize"]);(0,o.default)(this,c),(0,i.default)(this,"_cellSizeAndPositionManager",void 0),(0,i.default)(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new s.default(m),this._maxScrollSize=h}return(0,r.default)(c,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(p){this._cellSizeAndPositionManager.configure(p)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(p){var h=p.containerSize,m=p.offset,g=this._cellSizeAndPositionManager.getTotalSize(),C=this.getTotalSize(),v=this._getOffsetPercentage({containerSize:h,offset:m,totalSize:C});return Math.round(v*(C-g))}},{key:"getSizeAndPositionOfCell",value:function(p){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(p)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(p){var h=p.align,m=h===void 0?"auto":h,g=p.containerSize,C=p.currentOffset,v=p.targetIndex;C=this._safeOffsetToOffset({containerSize:g,offset:C});var S=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:m,containerSize:g,currentOffset:C,targetIndex:v});return this._offsetToSafeOffset({containerSize:g,offset:S})}},{key:"getVisibleCellRange",value:function(p){var h=p.containerSize,m=p.offset;return m=this._safeOffsetToOffset({containerSize:h,offset:m}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:h,offset:m})}},{key:"resetCell",value:function(p){this._cellSizeAndPositionManager.resetCell(p)}},{key:"_getOffsetPercentage",value:function(p){var h=p.containerSize,m=p.offset,g=p.totalSize;return g<=h?0:m/(g-h)}},{key:"_offsetToSafeOffset",value:function(p){var h=p.containerSize,m=p.offset,g=this._cellSizeAndPositionManager.getTotalSize(),C=this.getTotalSize();if(g===C)return m;var v=this._getOffsetPercentage({containerSize:h,offset:m,totalSize:g});return Math.round(v*(C-h))}},{key:"_safeOffsetToOffset",value:function(p){var h=p.containerSize,m=p.offset,g=this._cellSizeAndPositionManager.getTotalSize(),C=this.getTotalSize();if(g===C)return m;var v=this._getOffsetPercentage({containerSize:h,offset:m,totalSize:C});return Math.round(v*(g-h))}}]),c}();t.default=l}(e4)),e4}var r4={},ex;function R1e(){return ex||(ex=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=e;function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,o={};return function(r){var i=r.callback,s=r.indices,a=Object.keys(s),l=!n||a.every(function(d){var p=s[d];return Array.isArray(p)?p.length>0:p>=0}),c=a.length!==Object.keys(o).length||a.some(function(d){var p=o[d],h=s[d];return Array.isArray(h)?p.join(",")!==h.join(","):p!==h});o=s,l&&c&&i(s)}}}(r4)),r4}var i4={},tx;function mF(){return tx||(tx=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,t.SCROLL_DIRECTION_VERTICAL=t.SCROLL_DIRECTION_HORIZONTAL=t.SCROLL_DIRECTION_FORWARD=t.SCROLL_DIRECTION_BACKWARD=void 0,qa();var e=-1;t.SCROLL_DIRECTION_BACKWARD=e;var n=1;t.SCROLL_DIRECTION_FORWARD=n;var o="horizontal";t.SCROLL_DIRECTION_HORIZONTAL=o;var r="vertical";t.SCROLL_DIRECTION_VERTICAL=r;function i(s){var a=s.cellCount,l=s.overscanCellsCount,c=s.scrollDirection,d=s.startIndex,p=s.stopIndex;return c===n?{overscanStartIndex:Math.max(0,d),overscanStopIndex:Math.min(a-1,p+l)}:{overscanStartIndex:Math.max(0,d-l),overscanStopIndex:Math.min(a-1,p)}}}(i4)),i4}var s4={},nx;function P1e(){return nx||(nx=1,function(t){var e=Kt;Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e(s9()),qa();function n(o){var r=o.cellSize,i=o.cellSizeAndPositionManager,s=o.previousCellsCount,a=o.previousCellSize,l=o.previousScrollToAlignment,c=o.previousScrollToIndex,d=o.previousSize,p=o.scrollOffset,h=o.scrollToAlignment,m=o.scrollToIndex,g=o.size,C=o.sizeJustIncreasedFromZero,v=o.updateScrollIndexCallback,S=i.getCellCount(),y=m>=0&&m<S,b=g!==d||C||!a||typeof r=="number"&&r!==a;y&&(b||h!==l||m!==c)?v(m):!y&&S>0&&(g<d||S<s)&&p>i.getTotalSize()-g&&v(S-1)}}(s4)),s4}var a4={},ox;function gF(){return ox||(ox=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=e,qa();function e(n){for(var o=n.cellCache,r=n.cellRenderer,i=n.columnSizeAndPositionManager,s=n.columnStartIndex,a=n.columnStopIndex,l=n.deferredMeasurementCache,c=n.horizontalOffsetAdjustment,d=n.isScrolling,p=n.isScrollingOptOut,h=n.parent,m=n.rowSizeAndPositionManager,g=n.rowStartIndex,C=n.rowStopIndex,v=n.styleCache,S=n.verticalOffsetAdjustment,y=n.visibleColumnIndices,b=n.visibleRowIndices,w=[],x=i.areOffsetsAdjusted()||m.areOffsetsAdjusted(),_=!d&&!x,I=g;I<=C;I++)for(var T=m.getSizeAndPositionOfCell(I),A=s;A<=a;A++){var k=i.getSizeAndPositionOfCell(A),R=A>=y.start&&A<=y.stop&&I>=b.start&&I<=b.stop,M="".concat(I,"-").concat(A),D=void 0;_&&v[M]?D=v[M]:l&&!l.has(I,A)?D={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(D={height:T.size,left:k.offset+c,position:"absolute",top:T.offset+S,width:k.size},v[M]=D);var F={columnIndex:A,isScrolling:d,isVisible:R,key:M,parent:h,rowIndex:I,style:D},z=void 0;(p||d)&&!c&&!S?(o[M]||(o[M]=r(F)),z=o[M]):z=r(F),!(z==null||z===!1)&&w.push(z)}return w}}(a4)),a4}const L1e=!!(typeof window<"u"&&window.document&&window.document.createElement);var ff;function e0(t){if((!ff&&ff!==0||t)&&L1e){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),ff=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return ff}const M1e=Object.freeze(Object.defineProperty({__proto__:null,default:e0},Symbol.toStringTag,{value:"Module"})),O1e=Fh(M1e);var zi={},ol={},rx;function D1e(){if(rx)return ol;rx=1,Object.defineProperty(ol,"__esModule",{value:!0}),ol.caf=ol.raf=void 0;var t;typeof window<"u"?t=window:typeof self<"u"?t=self:t={};var e=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(i){return t.setTimeout(i,1e3/60)},n=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||t.msCancelAnimationFrame||function(i){t.clearTimeout(i)},o=e;ol.raf=o;var r=n;return ol.caf=r,ol}var ix;function F1e(){if(ix)return zi;ix=1;var t=Kt;Object.defineProperty(zi,"__esModule",{value:!0}),zi.bpfrpt_proptype_AnimationTimeoutId=zi.requestAnimationTimeout=zi.cancelAnimationTimeout=void 0;var e=D1e();t(ao);var n=null;zi.bpfrpt_proptype_AnimationTimeoutId=n;var o=function(s){return(0,e.caf)(s.id)};zi.cancelAnimationTimeout=o;var r=function(s,a){var l;Promise.resolve().then(function(){l=Date.now()});var c=function p(){Date.now()-l>=a?s.call():d.id=(0,e.raf)(p)},d={id:(0,e.raf)(c)};return d};return zi.requestAnimationTimeout=r,zi}var sx;function N1e(){return sx||(sx=1,function(t){var e=Kt,n=Wr();Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DEFAULT_SCROLLING_RESET_TIME_INTERVAL=void 0;var o=e(R1()),r=e(Pa()),i=e(lc()),s=e(vu()),a=e(Cu()),l=e(Hh()),c=e(yu()),d=e(La()),p=n(f),h=e(o3),m=e(T1e()),g=e(s9()),C=e(R1e()),v=n(mF()),S=e(P1e()),y=e(gF()),b=e(O1e),w=e9,x=F1e();qa(),e(ao);var _,I;function T(z,j){var H=Object.keys(z);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(z);j&&(O=O.filter(function(U){return Object.getOwnPropertyDescriptor(z,U).enumerable})),H.push.apply(H,O)}return H}function A(z){for(var j=1;j<arguments.length;j++){var H=arguments[j]!=null?arguments[j]:{};j%2?T(H,!0).forEach(function(O){(0,d.default)(z,O,H[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(H)):T(H).forEach(function(O){Object.defineProperty(z,O,Object.getOwnPropertyDescriptor(H,O))})}return z}var k=150;t.DEFAULT_SCROLLING_RESET_TIME_INTERVAL=k;var R={OBSERVED:"observed",REQUESTED:"requested"},M=function(){return null},D=(I=_=function(z){(0,c.default)(j,z);function j(H){var O;(0,r.default)(this,j),O=(0,s.default)(this,(0,a.default)(j).call(this,H)),(0,d.default)((0,l.default)(O),"_onGridRenderedMemoizer",(0,C.default)()),(0,d.default)((0,l.default)(O),"_onScrollMemoizer",(0,C.default)(!1)),(0,d.default)((0,l.default)(O),"_deferredInvalidateColumnIndex",null),(0,d.default)((0,l.default)(O),"_deferredInvalidateRowIndex",null),(0,d.default)((0,l.default)(O),"_recomputeScrollLeftFlag",!1),(0,d.default)((0,l.default)(O),"_recomputeScrollTopFlag",!1),(0,d.default)((0,l.default)(O),"_horizontalScrollBarSize",0),(0,d.default)((0,l.default)(O),"_verticalScrollBarSize",0),(0,d.default)((0,l.default)(O),"_scrollbarPresenceChanged",!1),(0,d.default)((0,l.default)(O),"_scrollingContainer",void 0),(0,d.default)((0,l.default)(O),"_childrenToDisplay",void 0),(0,d.default)((0,l.default)(O),"_columnStartIndex",void 0),(0,d.default)((0,l.default)(O),"_columnStopIndex",void 0),(0,d.default)((0,l.default)(O),"_rowStartIndex",void 0),(0,d.default)((0,l.default)(O),"_rowStopIndex",void 0),(0,d.default)((0,l.default)(O),"_renderedColumnStartIndex",0),(0,d.default)((0,l.default)(O),"_renderedColumnStopIndex",0),(0,d.default)((0,l.default)(O),"_renderedRowStartIndex",0),(0,d.default)((0,l.default)(O),"_renderedRowStopIndex",0),(0,d.default)((0,l.default)(O),"_initialScrollTop",void 0),(0,d.default)((0,l.default)(O),"_initialScrollLeft",void 0),(0,d.default)((0,l.default)(O),"_disablePointerEventsTimeoutId",void 0),(0,d.default)((0,l.default)(O),"_styleCache",{}),(0,d.default)((0,l.default)(O),"_cellCache",{}),(0,d.default)((0,l.default)(O),"_debounceScrollEndedCallback",function(){O._disablePointerEventsTimeoutId=null,O.setState({isScrolling:!1,needToResetStyleCache:!1})}),(0,d.default)((0,l.default)(O),"_invokeOnGridRenderedHelper",function(){var W=O.props.onSectionRendered;O._onGridRenderedMemoizer({callback:W,indices:{columnOverscanStartIndex:O._columnStartIndex,columnOverscanStopIndex:O._columnStopIndex,columnStartIndex:O._renderedColumnStartIndex,columnStopIndex:O._renderedColumnStopIndex,rowOverscanStartIndex:O._rowStartIndex,rowOverscanStopIndex:O._rowStopIndex,rowStartIndex:O._renderedRowStartIndex,rowStopIndex:O._renderedRowStopIndex}})}),(0,d.default)((0,l.default)(O),"_setScrollingContainerRef",function(W){O._scrollingContainer=W}),(0,d.default)((0,l.default)(O),"_onScroll",function(W){W.target===O._scrollingContainer&&O.handleScrollEvent(W.target)});var U=new g.default({cellCount:H.columnCount,cellSizeGetter:function(B){return j._wrapSizeGetter(H.columnWidth)(B)},estimatedCellSize:j._getEstimatedColumnSize(H)}),N=new g.default({cellCount:H.rowCount,cellSizeGetter:function(B){return j._wrapSizeGetter(H.rowHeight)(B)},estimatedCellSize:j._getEstimatedRowSize(H)});return O.state={instanceProps:{columnSizeAndPositionManager:U,rowSizeAndPositionManager:N,prevColumnWidth:H.columnWidth,prevRowHeight:H.rowHeight,prevColumnCount:H.columnCount,prevRowCount:H.rowCount,prevIsScrolling:H.isScrolling===!0,prevScrollToColumn:H.scrollToColumn,prevScrollToRow:H.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:v.SCROLL_DIRECTION_FORWARD,scrollDirectionVertical:v.SCROLL_DIRECTION_FORWARD,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},H.scrollToRow>0&&(O._initialScrollTop=O._getCalculatedScrollTop(H,O.state)),H.scrollToColumn>0&&(O._initialScrollLeft=O._getCalculatedScrollLeft(H,O.state)),O}return(0,i.default)(j,[{key:"getOffsetForCell",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},U=O.alignment,N=U===void 0?this.props.scrollToAlignment:U,W=O.columnIndex,B=W===void 0?this.props.scrollToColumn:W,$=O.rowIndex,q=$===void 0?this.props.scrollToRow:$,X=A({},this.props,{scrollToAlignment:N,scrollToColumn:B,scrollToRow:q});return{scrollLeft:this._getCalculatedScrollLeft(X),scrollTop:this._getCalculatedScrollTop(X)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(O){var U=O.scrollLeft,N=U===void 0?0:U,W=O.scrollTop,B=W===void 0?0:W;if(!(B<0)){this._debounceScrollEnded();var $=this.props,q=$.autoHeight,X=$.autoWidth,ee=$.height,ue=$.width,se=this.state.instanceProps,ie=se.scrollbarSize,J=se.rowSizeAndPositionManager.getTotalSize(),le=se.columnSizeAndPositionManager.getTotalSize(),ve=Math.min(Math.max(0,le-ue+ie),N),Me=Math.min(Math.max(0,J-ee+ie),B);if(this.state.scrollLeft!==ve||this.state.scrollTop!==Me){var we=ve!==this.state.scrollLeft?ve>this.state.scrollLeft?v.SCROLL_DIRECTION_FORWARD:v.SCROLL_DIRECTION_BACKWARD:this.state.scrollDirectionHorizontal,be=Me!==this.state.scrollTop?Me>this.state.scrollTop?v.SCROLL_DIRECTION_FORWARD:v.SCROLL_DIRECTION_BACKWARD:this.state.scrollDirectionVertical,Ne={isScrolling:!0,scrollDirectionHorizontal:we,scrollDirectionVertical:be,scrollPositionChangeReason:R.OBSERVED};q||(Ne.scrollTop=Me),X||(Ne.scrollLeft=ve),Ne.needToResetStyleCache=!1,this.setState(Ne)}this._invokeOnScrollMemoizer({scrollLeft:ve,scrollTop:Me,totalColumnsWidth:le,totalRowsHeight:J})}}},{key:"invalidateCellSizeAfterRender",value:function(O){var U=O.columnIndex,N=O.rowIndex;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,U):U,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,N):N}},{key:"measureAllCells",value:function(){var O=this.props,U=O.columnCount,N=O.rowCount,W=this.state.instanceProps;W.columnSizeAndPositionManager.getSizeAndPositionOfCell(U-1),W.rowSizeAndPositionManager.getSizeAndPositionOfCell(N-1)}},{key:"recomputeGridSize",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},U=O.columnIndex,N=U===void 0?0:U,W=O.rowIndex,B=W===void 0?0:W,$=this.props,q=$.scrollToColumn,X=$.scrollToRow,ee=this.state.instanceProps;ee.columnSizeAndPositionManager.resetCell(N),ee.rowSizeAndPositionManager.resetCell(B),this._recomputeScrollLeftFlag=q>=0&&(this.state.scrollDirectionHorizontal===v.SCROLL_DIRECTION_FORWARD?N<=q:N>=q),this._recomputeScrollTopFlag=X>=0&&(this.state.scrollDirectionVertical===v.SCROLL_DIRECTION_FORWARD?B<=X:B>=X),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(O){var U=O.columnIndex,N=O.rowIndex,W=this.props.columnCount,B=this.props;W>1&&U!==void 0&&this._updateScrollLeftForScrollToColumn(A({},B,{scrollToColumn:U})),N!==void 0&&this._updateScrollTopForScrollToRow(A({},B,{scrollToRow:N}))}},{key:"componentDidMount",value:function(){var O=this.props,U=O.getScrollbarSize,N=O.height,W=O.scrollLeft,B=O.scrollToColumn,$=O.scrollTop,q=O.scrollToRow,X=O.width,ee=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),ee.scrollbarSizeMeasured||this.setState(function(ie){var J=A({},ie,{needToResetStyleCache:!1});return J.instanceProps.scrollbarSize=U(),J.instanceProps.scrollbarSizeMeasured=!0,J}),typeof W=="number"&&W>=0||typeof $=="number"&&$>=0){var ue=j._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:W,scrollTop:$});ue&&(ue.needToResetStyleCache=!1,this.setState(ue))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var se=N>0&&X>0;B>=0&&se&&this._updateScrollLeftForScrollToColumn(),q>=0&&se&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:W||0,scrollTop:$||0,totalColumnsWidth:ee.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:ee.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(O,U){var N=this,W=this.props,B=W.autoHeight,$=W.autoWidth,q=W.columnCount,X=W.height,ee=W.rowCount,ue=W.scrollToAlignment,se=W.scrollToColumn,ie=W.scrollToRow,J=W.width,le=this.state,ve=le.scrollLeft,Me=le.scrollPositionChangeReason,we=le.scrollTop,be=le.instanceProps;this._handleInvalidatedGridSize();var Ne=q>0&&O.columnCount===0||ee>0&&O.rowCount===0;Me===R.REQUESTED&&(!$&&ve>=0&&(ve!==this._scrollingContainer.scrollLeft||Ne)&&(this._scrollingContainer.scrollLeft=ve),!B&&we>=0&&(we!==this._scrollingContainer.scrollTop||Ne)&&(this._scrollingContainer.scrollTop=we));var $e=(O.width===0||O.height===0)&&X>0&&J>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):(0,S.default)({cellSizeAndPositionManager:be.columnSizeAndPositionManager,previousCellsCount:O.columnCount,previousCellSize:O.columnWidth,previousScrollToAlignment:O.scrollToAlignment,previousScrollToIndex:O.scrollToColumn,previousSize:O.width,scrollOffset:ve,scrollToAlignment:ue,scrollToIndex:se,size:J,sizeJustIncreasedFromZero:$e,updateScrollIndexCallback:function(){return N._updateScrollLeftForScrollToColumn(N.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):(0,S.default)({cellSizeAndPositionManager:be.rowSizeAndPositionManager,previousCellsCount:O.rowCount,previousCellSize:O.rowHeight,previousScrollToAlignment:O.scrollToAlignment,previousScrollToIndex:O.scrollToRow,previousSize:O.height,scrollOffset:we,scrollToAlignment:ue,scrollToIndex:ie,size:X,sizeJustIncreasedFromZero:$e,updateScrollIndexCallback:function(){return N._updateScrollTopForScrollToRow(N.props)}}),this._invokeOnGridRenderedHelper(),ve!==U.scrollLeft||we!==U.scrollTop){var at=be.rowSizeAndPositionManager.getTotalSize(),ae=be.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:ve,scrollTop:we,totalColumnsWidth:ae,totalRowsHeight:at})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&(0,x.cancelAnimationTimeout)(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var O=this.props,U=O.autoContainerWidth,N=O.autoHeight,W=O.autoWidth,B=O.className,$=O.containerProps,q=O.containerRole,X=O.containerStyle,ee=O.height,ue=O.id,se=O.noContentRenderer,ie=O.role,J=O.style,le=O.tabIndex,ve=O.width,Me=this.state,we=Me.instanceProps,be=Me.needToResetStyleCache,Ne=this._isScrolling(),$e={boxSizing:"border-box",direction:"ltr",height:N?"auto":ee,position:"relative",width:W?"auto":ve,WebkitOverflowScrolling:"touch",willChange:"transform"};be&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var at=we.columnSizeAndPositionManager.getTotalSize(),ae=we.rowSizeAndPositionManager.getTotalSize(),ze=ae>ee?we.scrollbarSize:0,Qe=at>ve?we.scrollbarSize:0;(Qe!==this._horizontalScrollBarSize||ze!==this._verticalScrollBarSize)&&(this._horizontalScrollBarSize=Qe,this._verticalScrollBarSize=ze,this._scrollbarPresenceChanged=!0),$e.overflowX=at+ze<=ve?"hidden":"auto",$e.overflowY=ae+Qe<=ee?"hidden":"auto";var Ge=this._childrenToDisplay,Oe=Ge.length===0&&ee>0&&ve>0;return p.createElement("div",(0,o.default)({ref:this._setScrollingContainerRef},$,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:(0,h.default)("ReactVirtualized__Grid",B),id:ue,onScroll:this._onScroll,role:ie,style:A({},$e,{},J),tabIndex:le}),Ge.length>0&&p.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:q,style:A({width:U?"auto":at,height:ae,maxWidth:at,maxHeight:ae,overflow:"hidden",pointerEvents:Ne?"none":"",position:"relative"},X)},Ge),Oe&&se())}},{key:"_calculateChildrenToRender",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,N=O.cellRenderer,W=O.cellRangeRenderer,B=O.columnCount,$=O.deferredMeasurementCache,q=O.height,X=O.overscanColumnCount,ee=O.overscanIndicesGetter,ue=O.overscanRowCount,se=O.rowCount,ie=O.width,J=O.isScrollingOptOut,le=U.scrollDirectionHorizontal,ve=U.scrollDirectionVertical,Me=U.instanceProps,we=this._initialScrollTop>0?this._initialScrollTop:U.scrollTop,be=this._initialScrollLeft>0?this._initialScrollLeft:U.scrollLeft,Ne=this._isScrolling(O,U);if(this._childrenToDisplay=[],q>0&&ie>0){var $e=Me.columnSizeAndPositionManager.getVisibleCellRange({containerSize:ie,offset:be}),at=Me.rowSizeAndPositionManager.getVisibleCellRange({containerSize:q,offset:we}),ae=Me.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:ie,offset:be}),ze=Me.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:q,offset:we});this._renderedColumnStartIndex=$e.start,this._renderedColumnStopIndex=$e.stop,this._renderedRowStartIndex=at.start,this._renderedRowStopIndex=at.stop;var Qe=ee({direction:"horizontal",cellCount:B,overscanCellsCount:X,scrollDirection:le,startIndex:typeof $e.start=="number"?$e.start:0,stopIndex:typeof $e.stop=="number"?$e.stop:-1}),Ge=ee({direction:"vertical",cellCount:se,overscanCellsCount:ue,scrollDirection:ve,startIndex:typeof at.start=="number"?at.start:0,stopIndex:typeof at.stop=="number"?at.stop:-1}),Oe=Qe.overscanStartIndex,ot=Qe.overscanStopIndex,Cn=Ge.overscanStartIndex,At=Ge.overscanStopIndex;if($){if(!$.hasFixedHeight()){for(var wr=Cn;wr<=At;wr++)if(!$.has(wr,0)){Oe=0,ot=B-1;break}}if(!$.hasFixedWidth()){for(var Be=Oe;Be<=ot;Be++)if(!$.has(0,Be)){Cn=0,At=se-1;break}}}this._childrenToDisplay=W({cellCache:this._cellCache,cellRenderer:N,columnSizeAndPositionManager:Me.columnSizeAndPositionManager,columnStartIndex:Oe,columnStopIndex:ot,deferredMeasurementCache:$,horizontalOffsetAdjustment:ae,isScrolling:Ne,isScrollingOptOut:J,parent:this,rowSizeAndPositionManager:Me.rowSizeAndPositionManager,rowStartIndex:Cn,rowStopIndex:At,scrollLeft:be,scrollTop:we,styleCache:this._styleCache,verticalOffsetAdjustment:ze,visibleColumnIndices:$e,visibleRowIndices:at}),this._columnStartIndex=Oe,this._columnStopIndex=ot,this._rowStartIndex=Cn,this._rowStopIndex=At}}},{key:"_debounceScrollEnded",value:function(){var O=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&(0,x.cancelAnimationTimeout)(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=(0,x.requestAnimationTimeout)(this._debounceScrollEndedCallback,O)}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"&&typeof this._deferredInvalidateRowIndex=="number"){var O=this._deferredInvalidateColumnIndex,U=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:O,rowIndex:U})}}},{key:"_invokeOnScrollMemoizer",value:function(O){var U=this,N=O.scrollLeft,W=O.scrollTop,B=O.totalColumnsWidth,$=O.totalRowsHeight;this._onScrollMemoizer({callback:function(X){var ee=X.scrollLeft,ue=X.scrollTop,se=U.props,ie=se.height,J=se.onScroll,le=se.width;J({clientHeight:ie,clientWidth:le,scrollHeight:$,scrollLeft:ee,scrollTop:ue,scrollWidth:B})},indices:{scrollLeft:N,scrollTop:W}})}},{key:"_isScrolling",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return Object.hasOwnProperty.call(O,"isScrolling")?!!O.isScrolling:!!U.isScrolling}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var O=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,O({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(O){var U=O.scrollLeft,N=O.scrollTop,W=j._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:U,scrollTop:N});W&&(W.needToResetStyleCache=!1,this.setState(W))}},{key:"_getCalculatedScrollLeft",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return j._getCalculatedScrollLeft(O,U)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,N=j._getScrollLeftForScrollToColumnStateUpdate(O,U);N&&(N.needToResetStyleCache=!1,this.setState(N))}},{key:"_getCalculatedScrollTop",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return j._getCalculatedScrollTop(O,U)}},{key:"_resetStyleCache",value:function(){var O=this._styleCache,U=this._cellCache,N=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var W=this._rowStartIndex;W<=this._rowStopIndex;W++)for(var B=this._columnStartIndex;B<=this._columnStopIndex;B++){var $="".concat(W,"-").concat(B);this._styleCache[$]=O[$],N&&(this._cellCache[$]=U[$])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,N=j._getScrollTopForScrollToRowStateUpdate(O,U);N&&(N.needToResetStyleCache=!1,this.setState(N))}}],[{key:"getDerivedStateFromProps",value:function(O,U){var N={};O.columnCount===0&&U.scrollLeft!==0||O.rowCount===0&&U.scrollTop!==0?(N.scrollLeft=0,N.scrollTop=0):(O.scrollLeft!==U.scrollLeft&&O.scrollToColumn<0||O.scrollTop!==U.scrollTop&&O.scrollToRow<0)&&Object.assign(N,j._getScrollToPositionStateUpdate({prevState:U,scrollLeft:O.scrollLeft,scrollTop:O.scrollTop}));var W=U.instanceProps;N.needToResetStyleCache=!1,(O.columnWidth!==W.prevColumnWidth||O.rowHeight!==W.prevRowHeight)&&(N.needToResetStyleCache=!0),W.columnSizeAndPositionManager.configure({cellCount:O.columnCount,estimatedCellSize:j._getEstimatedColumnSize(O),cellSizeGetter:j._wrapSizeGetter(O.columnWidth)}),W.rowSizeAndPositionManager.configure({cellCount:O.rowCount,estimatedCellSize:j._getEstimatedRowSize(O),cellSizeGetter:j._wrapSizeGetter(O.rowHeight)}),(W.prevColumnCount===0||W.prevRowCount===0)&&(W.prevColumnCount=0,W.prevRowCount=0),O.autoHeight&&O.isScrolling===!1&&W.prevIsScrolling===!0&&Object.assign(N,{isScrolling:!1});var B,$;return(0,m.default)({cellCount:W.prevColumnCount,cellSize:typeof W.prevColumnWidth=="number"?W.prevColumnWidth:null,computeMetadataCallback:function(){return W.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:O,nextCellsCount:O.columnCount,nextCellSize:typeof O.columnWidth=="number"?O.columnWidth:null,nextScrollToIndex:O.scrollToColumn,scrollToIndex:W.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){B=j._getScrollLeftForScrollToColumnStateUpdate(O,U)}}),(0,m.default)({cellCount:W.prevRowCount,cellSize:typeof W.prevRowHeight=="number"?W.prevRowHeight:null,computeMetadataCallback:function(){return W.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:O,nextCellsCount:O.rowCount,nextCellSize:typeof O.rowHeight=="number"?O.rowHeight:null,nextScrollToIndex:O.scrollToRow,scrollToIndex:W.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){$=j._getScrollTopForScrollToRowStateUpdate(O,U)}}),W.prevColumnCount=O.columnCount,W.prevColumnWidth=O.columnWidth,W.prevIsScrolling=O.isScrolling===!0,W.prevRowCount=O.rowCount,W.prevRowHeight=O.rowHeight,W.prevScrollToColumn=O.scrollToColumn,W.prevScrollToRow=O.scrollToRow,W.scrollbarSize=O.getScrollbarSize(),W.scrollbarSize===void 0?(W.scrollbarSizeMeasured=!1,W.scrollbarSize=0):W.scrollbarSizeMeasured=!0,N.instanceProps=W,A({},N,{},B,{},$)}},{key:"_getEstimatedColumnSize",value:function(O){return typeof O.columnWidth=="number"?O.columnWidth:O.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(O){return typeof O.rowHeight=="number"?O.rowHeight:O.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(O){var U=O.prevState,N=O.scrollLeft,W=O.scrollTop,B={scrollPositionChangeReason:R.REQUESTED};return typeof N=="number"&&N>=0&&(B.scrollDirectionHorizontal=N>U.scrollLeft?v.SCROLL_DIRECTION_FORWARD:v.SCROLL_DIRECTION_BACKWARD,B.scrollLeft=N),typeof W=="number"&&W>=0&&(B.scrollDirectionVertical=W>U.scrollTop?v.SCROLL_DIRECTION_FORWARD:v.SCROLL_DIRECTION_BACKWARD,B.scrollTop=W),typeof N=="number"&&N>=0&&N!==U.scrollLeft||typeof W=="number"&&W>=0&&W!==U.scrollTop?B:{}}},{key:"_wrapSizeGetter",value:function(O){return typeof O=="function"?O:function(){return O}}},{key:"_getCalculatedScrollLeft",value:function(O,U){var N=O.columnCount,W=O.height,B=O.scrollToAlignment,$=O.scrollToColumn,q=O.width,X=U.scrollLeft,ee=U.instanceProps;if(N>0){var ue=N-1,se=$<0?ue:Math.min(ue,$),ie=ee.rowSizeAndPositionManager.getTotalSize(),J=ee.scrollbarSizeMeasured&&ie>W?ee.scrollbarSize:0;return ee.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:B,containerSize:q-J,currentOffset:X,targetIndex:se})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(O,U){var N=U.scrollLeft,W=j._getCalculatedScrollLeft(O,U);return typeof W=="number"&&W>=0&&N!==W?j._getScrollToPositionStateUpdate({prevState:U,scrollLeft:W,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(O,U){var N=O.height,W=O.rowCount,B=O.scrollToAlignment,$=O.scrollToRow,q=O.width,X=U.scrollTop,ee=U.instanceProps;if(W>0){var ue=W-1,se=$<0?ue:Math.min(ue,$),ie=ee.columnSizeAndPositionManager.getTotalSize(),J=ee.scrollbarSizeMeasured&&ie>q?ee.scrollbarSize:0;return ee.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:B,containerSize:N-J,currentOffset:X,targetIndex:se})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(O,U){var N=U.scrollTop,W=j._getCalculatedScrollTop(O,U);return typeof W=="number"&&W>=0&&N!==W?j._getScrollToPositionStateUpdate({prevState:U,scrollLeft:-1,scrollTop:W}):{}}}]),j}(p.PureComponent),(0,d.default)(_,"propTypes",null),I);(0,d.default)(D,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:y.default,containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:b.default,noContentRenderer:M,onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:v.default,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:k,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1}),(0,w.polyfill)(D);var F=D;t.default=F}(X5)),X5}var l4={},ax;function H1e(){return ax||(ax=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,t.SCROLL_DIRECTION_VERTICAL=t.SCROLL_DIRECTION_HORIZONTAL=t.SCROLL_DIRECTION_FORWARD=t.SCROLL_DIRECTION_BACKWARD=void 0,qa();var e=-1;t.SCROLL_DIRECTION_BACKWARD=e;var n=1;t.SCROLL_DIRECTION_FORWARD=n;var o="horizontal";t.SCROLL_DIRECTION_HORIZONTAL=o;var r="vertical";t.SCROLL_DIRECTION_VERTICAL=r;function i(s){var a=s.cellCount,l=s.overscanCellsCount,c=s.scrollDirection,d=s.startIndex,p=s.stopIndex;return l=Math.max(1,l),c===n?{overscanStartIndex:Math.max(0,d-1),overscanStopIndex:Math.min(a-1,p+l)}:{overscanStartIndex:Math.max(0,d-l),overscanStopIndex:Math.min(a-1,p+1)}}}(l4)),l4}var lx;function a9(){return lx||(lx=1,function(t){var e=Kt;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"Grid",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"accessibilityOverscanIndicesGetter",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"defaultCellRangeRenderer",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"defaultOverscanIndicesGetter",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"bpfrpt_proptype_NoContentRenderer",{enumerable:!0,get:function(){return s.bpfrpt_proptype_NoContentRenderer}}),Object.defineProperty(t,"bpfrpt_proptype_Alignment",{enumerable:!0,get:function(){return s.bpfrpt_proptype_Alignment}}),Object.defineProperty(t,"bpfrpt_proptype_CellPosition",{enumerable:!0,get:function(){return s.bpfrpt_proptype_CellPosition}}),Object.defineProperty(t,"bpfrpt_proptype_CellSize",{enumerable:!0,get:function(){return s.bpfrpt_proptype_CellSize}}),Object.defineProperty(t,"bpfrpt_proptype_OverscanIndicesGetter",{enumerable:!0,get:function(){return s.bpfrpt_proptype_OverscanIndicesGetter}}),Object.defineProperty(t,"bpfrpt_proptype_RenderedSection",{enumerable:!0,get:function(){return s.bpfrpt_proptype_RenderedSection}}),Object.defineProperty(t,"bpfrpt_proptype_CellRendererParams",{enumerable:!0,get:function(){return s.bpfrpt_proptype_CellRendererParams}}),Object.defineProperty(t,"bpfrpt_proptype_Scroll",{enumerable:!0,get:function(){return s.bpfrpt_proptype_Scroll}});var n=e(N1e()),o=e(H1e()),r=e(gF()),i=e(mF()),s=qa()}(Y5)),Y5}var cx;function B1e(){return cx||(cx=1,function(t){var e=Wr(),n=Kt;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(R1()),r=n(Pa()),i=n(lc()),s=n(vu()),a=n(Cu()),l=n(Hh()),c=n(yu()),d=n(La()),p=n(o3);n(hF()),n(ao);var h=e(f),m=Mo,g=e(a9()),C=n(pF()),v=n(cF()),S=n(r3());function y(x,_){var I=Object.keys(x);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(x);_&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(x,A).enumerable})),I.push.apply(I,T)}return I}function b(x){for(var _=1;_<arguments.length;_++){var I=arguments[_]!=null?arguments[_]:{};_%2?y(I,!0).forEach(function(T){(0,d.default)(x,T,I[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(I)):y(I).forEach(function(T){Object.defineProperty(x,T,Object.getOwnPropertyDescriptor(I,T))})}return x}var w=function(x){(0,c.default)(_,x);function _(I){var T;return(0,r.default)(this,_),T=(0,s.default)(this,(0,a.default)(_).call(this,I)),T.state={scrollbarWidth:0},T._createColumn=T._createColumn.bind((0,l.default)(T)),T._createRow=T._createRow.bind((0,l.default)(T)),T._onScroll=T._onScroll.bind((0,l.default)(T)),T._onSectionRendered=T._onSectionRendered.bind((0,l.default)(T)),T._setRef=T._setRef.bind((0,l.default)(T)),T}return(0,i.default)(_,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(T){var A=T.alignment,k=T.index;if(this.Grid){var R=this.Grid.getOffsetForCell({alignment:A,rowIndex:k}),M=R.scrollTop;return M}return 0}},{key:"invalidateCellSizeAfterRender",value:function(T){var A=T.columnIndex,k=T.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:k,columnIndex:A})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=T.columnIndex,k=A===void 0?0:A,R=T.rowIndex,M=R===void 0?0:R;this.Grid&&this.Grid.recomputeGridSize({rowIndex:M,columnIndex:k})}},{key:"recomputeRowHeights",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:T})}},{key:"scrollToPosition",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:T})}},{key:"scrollToRow",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:T})}},{key:"getScrollbarWidth",value:function(){if(this.Grid){var T=(0,m.findDOMNode)(this.Grid),A=T.clientWidth||0,k=T.offsetWidth||0;return k-A}return 0}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var T=this,A=this.props,k=A.children,R=A.className,M=A.disableHeader,D=A.gridClassName,F=A.gridStyle,z=A.headerHeight,j=A.headerRowRenderer,H=A.height,O=A.id,U=A.noRowsRenderer,N=A.rowClassName,W=A.rowStyle,B=A.scrollToIndex,$=A.style,q=A.width,X=this.state.scrollbarWidth,ee=M?H:H-z,ue=typeof N=="function"?N({index:-1}):N,se=typeof W=="function"?W({index:-1}):W;return this._cachedColumnStyles=[],h.Children.toArray(k).forEach(function(ie,J){var le=T._getFlexStyleForColumn(ie,ie.props.style);T._cachedColumnStyles[J]=b({overflow:"hidden"},le)}),h.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":h.Children.toArray(k).length,"aria-rowcount":this.props.rowCount,className:(0,p.default)("ReactVirtualized__Table",R),id:O,role:"grid",style:$},!M&&j({className:(0,p.default)("ReactVirtualized__Table__headerRow",ue),columns:this._getHeaderColumns(),style:b({height:z,overflow:"hidden",paddingRight:X,width:q},se)}),h.createElement(g.default,(0,o.default)({},this.props,{"aria-readonly":null,autoContainerWidth:!0,className:(0,p.default)("ReactVirtualized__Table__Grid",D),cellRenderer:this._createRow,columnWidth:q,columnCount:1,height:ee,id:void 0,noContentRenderer:U,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:X,scrollToRow:B,style:b({},F,{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(T){var A=T.column,k=T.columnIndex,R=T.isScrolling,M=T.parent,D=T.rowData,F=T.rowIndex,z=this.props.onColumnClick,j=A.props,H=j.cellDataGetter,O=j.cellRenderer,U=j.className,N=j.columnData,W=j.dataKey,B=j.id,$=H({columnData:N,dataKey:W,rowData:D}),q=O({cellData:$,columnData:N,columnIndex:k,dataKey:W,isScrolling:R,parent:M,rowData:D,rowIndex:F}),X=function(ie){z&&z({columnData:N,dataKey:W,event:ie})},ee=this._cachedColumnStyles[k],ue=typeof q=="string"?q:null;return h.createElement("div",{"aria-colindex":k+1,"aria-describedby":B,className:(0,p.default)("ReactVirtualized__Table__rowColumn",U),key:"Row"+F+"-Col"+k,onClick:X,role:"gridcell",style:ee,title:ue},q)}},{key:"_createHeader",value:function(T){var A=T.column,k=T.index,R=this.props,M=R.headerClassName,D=R.headerStyle,F=R.onHeaderClick,z=R.sort,j=R.sortBy,H=R.sortDirection,O=A.props,U=O.columnData,N=O.dataKey,W=O.defaultSortDirection,B=O.disableSort,$=O.headerRenderer,q=O.id,X=O.label,ee=!B&&z,ue=(0,p.default)("ReactVirtualized__Table__headerColumn",M,A.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:ee}),se=this._getFlexStyleForColumn(A,b({},D,{},A.props.headerStyle)),ie=$({columnData:U,dataKey:N,disableSort:B,label:X,sortBy:j,sortDirection:H}),J,le,ve,Me,we;if(ee||F){var be=j!==N,Ne=be?W:H===S.default.DESC?S.default.ASC:S.default.DESC,$e=function(ze){ee&&z({defaultSortDirection:W,event:ze,sortBy:N,sortDirection:Ne}),F&&F({columnData:U,dataKey:N,event:ze})},at=function(ze){(ze.key==="Enter"||ze.key===" ")&&$e(ze)};we=A.props["aria-label"]||X||N,Me="none",ve=0,J=$e,le=at}return j===N&&(Me=H===S.default.ASC?"ascending":"descending"),h.createElement("div",{"aria-label":we,"aria-sort":Me,className:ue,id:q,key:"Header-Col"+k,onClick:J,onKeyDown:le,role:"columnheader",style:se,tabIndex:ve},ie)}},{key:"_createRow",value:function(T){var A=this,k=T.rowIndex,R=T.isScrolling,M=T.key,D=T.parent,F=T.style,z=this.props,j=z.children,H=z.onRowClick,O=z.onRowDoubleClick,U=z.onRowRightClick,N=z.onRowMouseOver,W=z.onRowMouseOut,B=z.rowClassName,$=z.rowGetter,q=z.rowRenderer,X=z.rowStyle,ee=this.state.scrollbarWidth,ue=typeof B=="function"?B({index:k}):B,se=typeof X=="function"?X({index:k}):X,ie=$({index:k}),J=h.Children.toArray(j).map(function(Me,we){return A._createColumn({column:Me,columnIndex:we,isScrolling:R,parent:D,rowData:ie,rowIndex:k,scrollbarWidth:ee})}),le=(0,p.default)("ReactVirtualized__Table__row",ue),ve=b({},F,{height:this._getRowHeight(k),overflow:"hidden",paddingRight:ee},se);return q({className:le,columns:J,index:k,isScrolling:R,key:M,onRowClick:H,onRowDoubleClick:O,onRowRightClick:U,onRowMouseOver:N,onRowMouseOut:W,rowData:ie,style:ve})}},{key:"_getFlexStyleForColumn",value:function(T){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k="".concat(T.props.flexGrow," ").concat(T.props.flexShrink," ").concat(T.props.width,"px"),R=b({},A,{flex:k,msFlex:k,WebkitFlex:k});return T.props.maxWidth&&(R.maxWidth=T.props.maxWidth),T.props.minWidth&&(R.minWidth=T.props.minWidth),R}},{key:"_getHeaderColumns",value:function(){var T=this,A=this.props,k=A.children,R=A.disableHeader,M=R?[]:h.Children.toArray(k);return M.map(function(D,F){return T._createHeader({column:D,index:F})})}},{key:"_getRowHeight",value:function(T){var A=this.props.rowHeight;return typeof A=="function"?A({index:T}):A}},{key:"_onScroll",value:function(T){var A=T.clientHeight,k=T.scrollHeight,R=T.scrollTop,M=this.props.onScroll;M({clientHeight:A,scrollHeight:k,scrollTop:R})}},{key:"_onSectionRendered",value:function(T){var A=T.rowOverscanStartIndex,k=T.rowOverscanStopIndex,R=T.rowStartIndex,M=T.rowStopIndex,D=this.props.onRowsRendered;D({overscanStartIndex:A,overscanStopIndex:k,startIndex:R,stopIndex:M})}},{key:"_setRef",value:function(T){this.Grid=T}},{key:"_setScrollbarWidth",value:function(){var T=this.getScrollbarWidth();this.setState({scrollbarWidth:T})}}]),_}(h.PureComponent);t.default=w,(0,d.default)(w,"defaultProps",{disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:g.accessibilityOverscanIndicesGetter,overscanRowCount:10,rowRenderer:C.default,headerRowRenderer:v.default,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}}),w.propTypes={}}(Q5)),Q5}(function(t){var e=Kt;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createMultiSort",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"defaultCellDataGetter",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"defaultCellRenderer",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"defaultHeaderRowRenderer",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"defaultHeaderRenderer",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"defaultRowRenderer",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"Column",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"SortDirection",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"SortIndicator",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"Table",{enumerable:!0,get:function(){return p.default}}),t.default=void 0;var n=e(x1e()),o=e(aF()),r=e(lF()),i=e(cF()),s=e(uF()),a=e(pF()),l=e(hF()),c=e(r3()),d=e(dF()),p=e(B1e()),h=p.default;t.default=h})(ad);const z1e=wt(ad),V1e={height:"fit-content",bottom:"initial",borderRadius:"5px",backgroundColor:"var(--white)",boxShadow:"0 6px 10px 0 rgba(0,0,0,0.2)",padding:0},W1e={...V1e,zIndex:1500,"--menu-bg-color":"var(--light-grey-7)","--menu-border-color":"var(--light-grey-transparent-10)",".termius-dark-theme &, &.termius-dark-theme":{"--menu-bg-color":"var(--dark-grey-3)","--menu-border-color":"var(--dark-grey-transparent-10)"},backgroundColor:"var(--menu-bg-color)",border:"1px solid",borderColor:"var(--menu-border-color)",boxShadow:"0px 15px 30px 0px rgba(0, 0, 0, 0.15)",overflow:"visible",minWidth:"140px",maxWidth:"250px",borderRadius:"15px",padding:"8px 0 8px 8px"},i3=(t,e,n)=>({loaderSize:{display:"flex",flexGrow:1},filenameContainer:{overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:"center"},hostPickerContainer:{height:"100%",width:"100%",display:"flex",flexDirection:"column"},sftpContainer:{height:"100%",display:"grid",gridTemplateRows:"1fr auto",position:"relative"},sftpPresenter:{display:"flex",width:"100%",height:"100%",flexDirection:"column"},tableContainer:{flex:"1 1 auto",background:"var(--light-grey-6)",".termius-dark-theme &":{background:"var(--dark-grey-2)"}},twoPanelContainerOut:{width:"100%",height:"100%",display:"flex",flexDirection:"column",backgroundColor:"transparent"},twoPanelContainerIn:{flexGrow:1,display:"flex"},contextMenu:{...W1e,backgroundColor:"var(--main-form-bg)",overflowY:"scroll","&::-webkit-scrollbar-track":{display:"flex",margin:8}},onePanel:{flex:"1",overflow:"hidden"},onePanelForNewConnectionFlow:{minWidth:"325px"},onePanelLeft:{borderRight:"1px solid var(--light-grey-5)",".termius-dark-theme &":{borderRight:"1px solid var(--dark-grey-1)"}},menuItem:{padding:"initial",margin:"initial",fontSize:"initial",fontWeight:"initial",color:"initial"},item:{display:"flex",width:"100%",padding:"5px 20px 5px 20px",cursor:"default",fontFamily:bt.typography.fontFamily,...bt.typography.fonts.r12p,color:"var(--main-color)","&:hover":{backgroundColor:"var(--list-hover)"}},title:{flex:"75%"},red:{color:"var(--red)"},disabled:{color:bt.colors.secondary.darker,"&:hover":{backgroundColor:"transparent"}},tableHeader:{"--header-background":"var(--light-grey-6)","--header-border":"var(--light-grey-4)",borderBottom:"1px solid var(--header-border)",background:"var(--header-background)",".termius-dark-theme &":{"--header-background":"var(--dark-grey-2)","--header-border":"var(--dark-grey-4)"},"&&:hover":{background:"var(--header-background)"}},arrow:{marginRight:-5},tableHeaderCell:{height:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},tableHeaderTitle:{textTransform:"initial",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},tableCol:{marginLeft:10},tableHeaderCol:{height:"100%",marginRight:-1,cursor:"default",marginLeft:0,borderRight:"1px solid var(--header-border)",paddingLeft:20,paddingRight:20,"&:last-child":{borderRight:"none"},"&:first-child":{marginLeft:0}},filename:{height:48,display:"flex",textAlign:"left",width:"100%"},filenameTitle:{height:15,overflow:"hidden",textOverflow:"ellipsis"},filenameSmall:{height:12},row:{"&:hover":{backgroundColor:"var(--list-hover)"},[`&.${n.hidden}`]:{"& .cell":{opacity:"0.54"}},[`&.${n.selected}`]:{backgroundColor:"var(--accent)","& *":{color:bt.colors.white.a100},"&:hover":{background:"linear-gradient(0deg, var(--white-a25) 0%, var(--white-a25) 100%), var(--accent)"}},[`&.${n.hidden}.${n.selected}`]:{"& .icon":{opacity:"0.54"},"& .cell":{opacity:"1"}}},hidden:{},selected:{},connectionFlow:{borderLeft:"1px solid var(--main-bg)"},backdropContainer:{display:"flex",flexGrow:1,position:"relative"},backdrop:{position:"absolute",backgroundColor:"var(--sftp-loader-overlay)",zIndex:0}}),j1e=t=>{const{title:e,color:n,disabled:o}=t,r=Je.getClasses(t);return u("div",{className:ce({[r[n??""]]:n,[r.disabled]:o}),children:u("p",{className:r.title,children:e})})},l9=Je(j1e,i3,{name:"ActionItem"}),U1e=t=>{const{contextMenuId:e,items:n,anchorPosition:o,open:r,onClose:i}=t;return u(Ss,{anchorPosition:o,transitionDuration:{enter:0,exit:0},disableBackdrop:!1,open:r,id:e,onClose:i,transformOrigin:{horizontal:"left",vertical:"top"},anchorReference:"anchorPosition",children:n.map(s=>u(Qn,{disabled:s.disabled,onClick:()=>{i(),s.onClick()},children:u(l9,{title:s.title,color:s.color,disabled:s.disabled})},s.title))})},$1e=()=>{const{classes:t}=q1e();return u(Oo,{className:t.root,size:28})},q1e=K()({root:{color:bt.colors.info.medium}}),G1e=({selectedItems:t,onConfirmDelete:e,onClose:n})=>{const o=f.useCallback(()=>{e(t)},[e,t]);return u(_8,{title:`Do you want to delete ${K1e(t)}?`,text:t.map(r=>r.filename).join(`
`),confirmButtonTitle:"Delete",buttonColor:"error",onOk:o,onClose:n,blockKeyboardInput:!1})},K1e=t=>{const e=t.filter(o=>o.isDirectory).length,n=t.length-e;return e&&n?"these items":e?`${Ks("this",e)} ${Ks("folder",e)}`:`${Ks("this",n)} ${Ks("file",n)}`},Z1e=Ii(G1e,{hasBackdrop:!0});function Q1e(t){const e=X1e(t.item.attrs.mode),[n,o]=f.useState({ownerRead:e.includes(Hv),ownerWrite:e.includes(Bv),ownerExecute:e.includes(zv),groupsRead:e.includes(Vv),groupsWrite:e.includes(Wv),groupsExecute:e.includes(jv),othersRead:e.includes(Uv),othersWrite:e.includes($v),othersExecute:e.includes(qv),chmod:t.item.attrs.mode}),r=p=>{p.preventDefault(),t.onOk(t.item,n.chmod)},i=(p,h)=>m=>{const g=m.target.checked?n.chmod+h:n.chmod-h;o({...n,chmod:g,[p]:m.target.checked})},s=(p,h)=>u(w8,{checked:n[p],onChange:i(p,h)}),{path:a,onClose:l}=t,{classes:c,cx:d}=J1e();return L(_8,{title:"Edit permissions",buttonColor:"green",confirmButtonTitle:"Save",onOk:r,onClose:l,noAutoFocus:!0,blockKeyboardInput:!1,children:[u(Ee,{className:c.box,children:u("div",{className:c.path,children:a})}),L(Ee,{className:c.box,children:[L("div",{className:ce(c.row,c.noTop),children:[u("div",{className:c.nameTitle,children:"File Access"}),u("div",{className:c.col,children:"Read"}),u("div",{className:c.col,children:"Write"}),u("div",{className:c.col,children:"Execute"})]}),L("div",{className:c.row,children:[u("div",{className:d(c.name,c.textSecondary),children:"Owner"}),s("ownerRead",Hv),s("ownerWrite",Bv),s("ownerExecute",zv)]}),L("div",{className:c.row,children:[u("div",{className:d(c.name,c.textSecondary),children:"Groups"}),s("groupsRead",Vv),s("groupsWrite",Wv),s("groupsExecute",jv)]}),L("div",{className:d(c.row,c.noBorder),children:[u("div",{className:d(c.name,c.textSecondary),children:"Others"}),s("othersRead",Uv),s("othersWrite",$v),s("othersExecute",qv)]})]}),L(Ee,{className:c.box,children:[u("span",{className:ce(c.row,c.noTop,c.ownership),children:"Ownership"}),L("div",{className:c.row,children:[u("span",{className:c.textSecondary,children:"User"}),u("span",{className:c.textSecondary,children:t.item.ownership.user})]}),L("div",{className:c.row,children:[u("span",{className:c.textSecondary,children:"Group"}),u("span",{className:c.textSecondary,children:t.item.ownership.group})]})]})]})}const Hv=256,Bv=128,zv=64,Vv=32,Wv=16,jv=8,Uv=4,$v=2,qv=1,Y1e=[Hv,Bv,zv,Vv,Wv,jv,Uv,$v,qv],X1e=t=>Y1e.map(e=>t&e).filter(e=>e!==0),J1e=K()({box:{marginBottom:"20px"},textSecondary:{color:"var(--secondary)"},path:{marginTop:"12px",wordBreak:"break-word"},ownership:{fontWeight:"bold"},name:{width:"34%"},nameTitle:{width:"34%",fontWeight:"bold"},col:{width:"22%",textAlign:"right",fontWeight:"bold"},row:{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:0,flexWrap:"wrap",width:"100%",alignItems:"center",padding:"11px 0",borderBottom:"1px solid var(--light-grey-4)"},noBorder:{border:"none"},noTop:{paddingTop:0}}),efe=Ii(Q1e,{hasBackdrop:!0}),tfe=({adjacentNames:t,onNewFolder:e,onClose:n})=>{const o=f.useCallback(s=>s.length===0?"Required":t.includes(s)?"Name is already used":"",[t]),r=f.useCallback(s=>{e(s)},[e]);return D2("keydown",s=>{s.code==="Escape"&&n()}),u(iM,{text:"Foldername *",title:"New folder",validator:o,onOk:r,onClose:n})},nfe=Ii(tfe,{hasBackdrop:!0}),ofe=({selectedItem:t,adjacentNames:e,onRename:n,onClose:o})=>{const r=f.useCallback(a=>a.length===0?"Required":a!==t.filename&&e.includes(a)?"Name is already used":"",[t.filename,e]);D2("keydown",a=>{a.code==="Escape"&&o()});const s=f.useCallback(a=>{n(t,a)},[n,t]);return u(iM,{text:"New filename *",title:"Rename",value:t.filename,validator:r,onOk:s,onClose:o})},rfe=Ii(ofe,{hasBackdrop:!0});var c9={},ife=Cr;Object.defineProperty(c9,"__esModule",{value:!0});var vF=c9.default=void 0,sfe=ife(vr()),afe=yr,lfe=(0,sfe.default)((0,afe.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess");vF=c9.default=lfe;var d9={},cfe=Cr;Object.defineProperty(d9,"__esModule",{value:!0});var CF=d9.default=void 0,dfe=cfe(vr()),ufe=yr,pfe=(0,dfe.default)((0,ufe.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");CF=d9.default=pfe;class hfe extends f.Component{constructor(){super(...arguments);E(this,"onMenuClick",n=>{n.onClick()})}render(){const{items:n,isLoading:o}=this.props,r=Je.getClasses(this.props);return u(Ss,{className:r.menu,position:"right",toggler:({isOpen:i})=>u(F2,{className:r.btn,disabled:o,children:L("span",{className:ce(r.actionBar,{[r.actionBarDisabled]:o}),children:["Actions",i?u(vF,{fontSize:"small"}):u(CF,{fontSize:"small"})]})}),children:({closeMenu:i})=>n.map(s=>u(Qn,{disabled:s.disabled,onClick:()=>{this.onMenuClick(s),i()},children:u(l9,{title:s.title,color:s.color,disabled:s.disabled})},s.title))})}}const ffe=()=>({menu:{marginTop:"5px"},actionBar:{...bt.typography.fonts.b12p,fontSize:"14px",display:"flex",alignItems:"center",fontWeight:450,color:"inherit","&:hover":{color:"var(--input-border-focused)"}},btn:{color:"inherit"},actionBarDisabled:{color:"var(--light-grey-2)","&:hover":{color:"var(--light-grey-2)"}}}),mfe=Je(hfe,ffe,{name:"ActionBar"}),gfe=t=>{const{classes:e}=vfe();return L("div",{className:e.historyNavbar,children:[u("button",{className:ce({[e.button]:!0}),disabled:t.isFirstHistoryPath||t.isLoading,onClick:t.prevHistoryPath,type:"button",children:u(dn,{className:ce({[e.arrow]:!0,[e.left]:!0,[e.blocked]:t.isFirstHistoryPath||t.isLoading})})}),u("button",{className:ce({[e.button]:!0}),disabled:t.isLastHistoryPath||t.isLoading,onClick:t.nextHistoryPath,type:"button",children:u(dn,{className:ce({[e.arrow]:!0,[e.right]:!0,[e.blocked]:t.isLastHistoryPath||t.isLoading})})})]})},vfe=K()({historyNavbar:{maxWidth:68,minWidth:"68px",flex:1,display:"flex",justifyContent:"space-between",zIndex:2},button:{border:"none",width:15,height:15,marginLeft:"0px",marginRight:"16px",backgroundColor:bt.colors.transparent,display:"flex",alignItems:"center",justifyContent:"center"},arrow:{width:10,height:6,fill:"var(--input-border-focused)"},right:{transform:"rotate(-90deg)"},left:{transform:"rotate(90deg)"},blocked:{fill:"var(--light-grey-2)"}}),Cfe=(t,e)=>f.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:15,height:15,viewBox:"0 0 15 15",ref:e,...t},f.createElement("defs",null,f.createElement("linearGradient",{id:"sftp-folder-a",x1:"50%",x2:"50%",y1:"0%",y2:"100%"},f.createElement("stop",{offset:"0%",stopColor:"#66C9F8"}),f.createElement("stop",{offset:"100%",stopColor:"#85D8FC"})),f.createElement("path",{id:"sftp-folder-b",d:"M801,357 L805.792893,357 L805.792893,357 C805.925501,357 806.052678,357.052678 806.146447,357.146447 L807.853553,358.853553 L807.853553,358.853553 C807.947322,358.947322 808.074499,359 808.207107,359 L814,359 L814,359 C814.552285,359 815,359.447715 815,360 L815,371 L815,371 C815,371.552285 814.552285,372 814,372 L801,372 L801,372 C800.447715,372 800,371.552285 800,371 L800,358 L800,358 C800,357.447715 800.447715,357 801,357 Z"})),f.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(-800 -357)"},f.createElement("use",{fill:"url(#sftp-folder-a)",xlinkHref:"#sftp-folder-b"}),f.createElement("path",{stroke:"#60C2EF",strokeWidth:.5,d:"M801,357.25 C800.585786,357.25 800.25,357.585786 800.25,358 L800.25,371 C800.25,371.414214 800.585786,371.75 801,371.75 L814,371.75 C814.414214,371.75 814.75,371.414214 814.75,371 L814.75,360 C814.75,359.585786 814.414214,359.25 814,359.25 L808.207107,359.25 C808.008194,359.25 807.817429,359.170982 807.676777,359.03033 L805.96967,357.323223 C805.922786,357.276339 805.859197,357.25 805.792893,357.25 L801,357.25 Z"}))),yfe=f.forwardRef(Cfe),c4=f.memo(yfe),yF=Se.forwardRef(({className:t,text:e,onClick:n,disabled:o,isRoot:r},i)=>L("button",{ref:i,className:t,disabled:o,onClick:n,type:"button",children:[!r&&"/",u("span",{children:e})]}));yF.displayName="Directory";class Sfe extends f.Component{constructor(){super(...arguments);E(this,"state",{items:[]});E(this,"handleOpenMenu",async()=>{const n=await this.props.getLogicalDiskList();this.setState({items:n})});E(this,"resetMenuItems",()=>{this.setState({items:[]})});E(this,"handleMenuClick",n=>{n.onClick(),this.resetMenuItems()})}render(){const{isLoading:n,className:o,name:r}=this.props,{items:i}=this.state,s=Je.getClasses(this.props);return u(Ss,{position:"center",className:s.menu,onOpen:this.handleOpenMenu,toggler:u(yF,{className:o,disabled:n,text:r,isRoot:!0}),children:({closeMenu:a})=>i.map(l=>u(Qn,{disabled:l.disabled,onClick:()=>{this.handleMenuClick(l),a()},children:u(l9,{title:l.title,color:l.color,disabled:l.disabled})},l.title))})}}const bfe={menu:{marginTop:"5px"},paper:{backgroundColor:"var(--card-c)",border:"1px solid var(--border-color)"}},wfe=Je(Sfe,bfe,{name:"DiskSelect"}),dx=t=>t.endsWith("/")?t:`${t}/`;function _fe(t){const{className:e,onPathChange:n,path:o,logicalDiskList:r,isLoading:i,getLogicalDiskList:s}=t,{classes:a}=xfe(),[l,c]=f.useState(!1),p=o.split("/").reduce((S,y,b,w)=>(S.push([y,w.slice(0,b+1).join("/")]),S),[]),h=p.length>4,m=f.useMemo(()=>h?[p[0],...r$(p,3)]:p,[h,p]),g=p[p.length-4]||[],C=S=>{S.key==="Enter"&&(c(!1),n(S.currentTarget.value))};if(l)return u("div",{className:ce(e,a.pathControl,a.fullWidth),children:u("input",{className:a.pathInput,onKeyPress:C,onBlur:()=>c(!1),defaultValue:dx(o),autoFocus:!0},dx(o))});const v=L("span",{className:ce(a.pathItemContainer,a.alwaysVisible),title:g[0],children:[L(th,{className:ce(a.pathItem,{[a.disabled]:i}),disabled:i,onClick:()=>n(g[1]),children:[u(c4,{className:a.folderIcon}),"..."]}),u(dn,{className:a.arrow})]},g[1]);return L("div",{className:ce(e,a.pathControl),children:[m.map((S,y)=>{const[b,w]=S,x=`name_${w}_${y}`;return y===0&&!(r!=null&&r.length)&&!w?null:y===0&&(r!=null&&r.length)?L("span",{title:b,className:ce(a.pathItemContainer,a.diskSelect),children:[u(c4,{className:a.folderIcon}),u(wfe,{getLogicalDiskList:s,className:ce(a.pathItem,{[a.disabled]:i}),isLoading:i,name:b},x),u(dn,{className:a.arrow})]},x):L(Se.Fragment,{children:[y===1&&h?v:null,L("span",{title:b,className:a.pathItemContainer,children:[L(th,{className:ce(a.pathItem,{[a.disabled]:i}),disabled:i,onClick:()=>n(w),children:[u(c4,{className:a.folderIcon}),u("span",{children:b||"/"})]}),y!==m.length-1&&u(dn,{className:a.arrow})]},x)]},x)}),o&&u("button",{"aria-label":"path",className:a.pathInputHandler,disabled:i,onClick:()=>c(!0),type:"button"})]})}const xfe=K()({pathControl:{"--text-color":"var(--dark-grey-1)",".termius-dark-theme &":{"--text-color":"white"},fontSize:"14px",color:"var(--text-color)",display:"flex",alignItems:"center",height:"32px",overflow:"hidden",zIndex:1},diskSelect:{zIndex:2},pathItemContainer:{display:"flex",alignItems:"center",overflow:"hidden",minWidth:"50px","&:last-of-type":{overflow:"visible",minWidth:"auto"},"&:first-of-type":{overflow:"visible",minWidth:"60px"}},alwaysVisible:{overflow:"visible"},pathItem:{"--hover-color":"var(--light-grey-4)",".termius-dark-theme &":{"--hover-color":"var(--dark-grey-5)"},color:"inherit",border:0,background:"transparent",textTransform:"none",fontWeight:450,height:"26px",padding:"0 5px",fontSize:"14px",overflow:"hidden",zIndex:1,borderRadius:"6px","& > span":{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},"&:last-child":{overflow:"visible"},"&:hover":{background:"var(--hover-color)"},"&:focus-visible":{background:"var(--hover-color)"}},disabled:{},folderIcon:{marginRight:"5px",marginBottom:"1px",minWidth:"15px",minHeight:"15px"},arrow:{width:10,height:6,minWidth:"10px",fill:"var(--light-grey-3)",transform:"rotate(-90deg)",margin:"0 5px"},pathInput:{background:"var(--light-grey-5)",color:"var(--text-color)",height:"25px",border:"1px solid var(--light-grey-4)",borderRadius:"5px",width:"100%",padding:"0 4px",margin:0,".termius-dark-theme &":{background:"var(--dark-grey-5)",borderColor:"var(--dark-grey-4)"}},pathInputHandler:{position:"absolute",top:0,left:0,bottom:0,right:0,width:"100%",overflow:"hidden",border:0,background:"transparent",zIndex:0,"&:hover":{cursor:"text !important"}},fullWidth:{width:"100%"}}),Afe=t=>{const{onSearch:e,disabled:n}=t,o=t.placeholder?t.placeholder:"Search",r=t.value?t.value:"",{classes:i}=Tfe();return L("div",{className:ce({[i.search]:!0,[i.disabled]:n}),children:[u(R8,{htmlColor:"var(--light-grey-2)",fontSize:"small"}),u("input",{className:i.searchInput,value:r,placeholder:o,onChange:e,disabled:n})]})},Tfe=K()((t,e,n)=>({search:{display:"flex",alignItems:"center",flex:"1",minWidth:80,color:"inherit","& svg":{fill:"currentColor",color:"inherit",marginRight:"5px"},[`& .${n.searchInput}`]:{fontSize:"14px",width:"40px",transition:"width 0.3s","&:focus":{width:"120px"},"&:not(:focus)::-webkit-input-placeholder":{color:"inherit"}}},disabled:{color:bt.colors.secondary.darker},searchInput:{width:"calc(100% - 24px)",verticalAlign:"top",border:0,...bt.typography.fonts.r12p,backgroundColor:"inherit",color:"var(--input-color)","&::-webkit-input-placeholder":{color:bt.colors.secondary.darker}}}));function Ife(t){const{className:e,onClick:n,icon:o,hostname:r}=t,{classes:i}=Efe();return u(th,{onClick:n,className:ce(e,i.hostSelect),children:u(Lr,{className:i.layout,icon:u(Uo,{iconClassName:i.icon,icon:o}),title:r})})}const Efe=K()({hostSelect:{"--text-color":"var(--dark-grey-1)","--hover-color":"var(--light-grey-4)",".termius-dark-theme &":{"--text-color":"white","--hover-color":"var(--dark-grey-5)"},color:"var(--text-color)",fontSize:"14px",height:"36px",padding:"0 6px",borderRadius:"12px",textTransform:"none",fontWeight:450,marginLeft:"-8px",display:"grid","&:hover":{background:"var(--hover-color)"},"&:focus-visible":{background:"var(--hover-color)"}},layout:{backgroundColor:"transparent",overflow:"hidden"},icon:{width:"24px",height:"24px",borderRadius:"8px","& svg":{width:"12px"}}});function kfe(t){const{className:e,path:n,hostname:o,hostIcon:r,isLoading:i,onPathChange:s,onSelectHost:a,searchValue:l,historyNavbarProps:c,onSearch:d,actionMenuItems:p,logicalDiskList:h,getLogicalDiskList:m}=t,{classes:g}=Rfe();return L("div",{className:ce(e,g.sftpHeader),children:[L("div",{className:ce(g.row,g.hostPanel),children:[u(Ife,{onClick:a,hostname:o,icon:r||"host"}),u("div",{className:g.spacer}),u(Ze,{right:10,children:u(Afe,{onSearch:C=>{d(C.target.value)},disabled:i,value:l,placeholder:"Filter"})}),u(mfe,{items:p,isLoading:i})]}),L("div",{className:g.row,children:[u(gfe,{...c,isLoading:i}),u(_fe,{path:n,onPathChange:s,isLoading:i,logicalDiskList:h,getLogicalDiskList:m})]})]})}const Rfe=K()({sftpHeader:{"--bg":"var(--light-grey-7)","--border":"var(--light-grey-4)","--sftp-text-color":"var(--main)",".termius-dark-theme &":{"--bg":"var(--dark-grey-3)","--border":"var(--dark-grey-1)"},padding:"0",color:"var(--sftp-text-color)",backgroundColor:"var(--bg)",display:"grid",alignItems:"flex-end",gridTemplateRows:"minmax(0, 1fr) auto"},row:{display:"flex",padding:"0 15px",alignItems:"center",width:"100%",overflowX:"hidden",position:"relative",height:45},spacer:{flex:"1 0 10px"},hostPanel:{width:"100%",marginTop:5,marginBottom:5,marginLeft:2}}),Pfe=(t,e)=>t?e:e.filter(n=>!n.isHidden);var Lfe=/[|\\{}()[\]^$+*?.]/g,Mfe=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(Lfe,"\\$&")};const Ofe=wt(Mfe),Dfe={color:"#f50"};function Ffe(t,e){if(t.length===0)return[];const n=[t[0]];for(let o=1,r=t.length;o<r;o+=1)n.push(e(o)),n.push(t[o]);return n}const Nfe=(t,e,n)=>({...e,title:u("span",{children:Ffe(e.filename.split(n),o=>u("span",{style:Dfe,children:t[0]},o))})}),Hfe=(t,e)=>{const n=new RegExp(Ofe(t),"gi");return e.map(o=>{const r=o.filename.match(n);return r==null||r.length===0?null:Nfe(Array.from(r),o,n)}).filter(pn)},Bfe={insensitive:!0},ux=(t,e=Bfe)=>(n,o)=>vk(e)(kb(n,t),kb(o,t)),SF=t=>t==="sftp-container-left"?"left":"right",mf=(t,e,n)=>{const o=Hfe(e,t);return Pfe(n,o)},zfe=t=>[DD({filename:"..",extension:"folder",isDirectory:!0,isSymbolicLink:!1}),...t],Vfe=t=>{const e=[],n=[];return t.forEach(o=>{o.extension==="folder"?e.push(o):n.push(o)}),{folders:e,files:n}},px=(t,e,n)=>{let o=t;switch(e){case"filename":{o=o.sort(ux(["filename"]));break}case"extension":{o=o.sort(ux(["extension"]));break}case"attrs.mtime":{o=o.sort(iw(["attrs","mtime"]));break}case"attrs.size":{o=o.sort(iw(["attrs","size"]));break}}return n==="DESC"&&(o=o.reverse()),o},d4=(t,e,n)=>{const o=Vfe(t),r=px(o.folders,e,n),i=px(o.files,e,n);return r.concat(i)};let Wfe=class extends f.Component{constructor(n){super(n);E(this,"setSorting",n=>{const{sftpContainerId:o,dispatch:r}=this.props,i=SF(o);r(i$({sorting:n,containerId:i}))});E(this,"isBackItem",n=>n===0&&this.props.hasParentDirectory);E(this,"handleSearch",n=>{const o=mf(this.props.data,n,this.props.showHiddenFiles);this.resetSelectedItems(),this.setState({shownData:o,searchValue:n})});E(this,"normalSelect",n=>[n]);E(this,"singleSelect",n=>this.state.selectedIndexes.includes(n)?Ck(this.state.selectedIndexes,n):[...this.state.selectedIndexes,n]);E(this,"rangeSelect",n=>{const o=this.state.shownData.findIndex(a=>a.filename===n),r=this.state.lastClickIndex?this.state.shownData.findIndex(a=>a.filename===this.state.lastClickIndex):0;let i=r,s=o+1;return i>=s&&(i=o,s=r+1),this.state.shownData.slice(i,s).map(a=>a.filename)});E(this,"selectItems",(n,o)=>{if(Co){if(n.metaKey)return this.singleSelect(o)}else if(n.ctrlKey)return this.singleSelect(o);return n.shiftKey?this.rangeSelect(o):this.normalSelect(o)});E(this,"handleRowClick",({event:n,rowData:o})=>{if(!o.isSelectable)return[];const{filename:r}=o,i=this.selectItems(n,r);return this.setState({selectedIndexes:i,lastClickIndex:r}),n.stopPropagation(),i});E(this,"handleShowContextMenu",({event:n,rowData:o})=>{const{filename:r}=o;if(!o.isSelectable){n.stopPropagation();return}this.state.selectedIndexes.includes(r)||(this.props.dispatch(Su({onScreen:"SFTP",openedVia:"Right Click",wizardID:void 0})),this.setState({selectedIndexes:[r]})),this.handleOpenContextMenu(n)});E(this,"handleOpenContextMenu",n=>{n.stopPropagation();const o={top:n.clientY,left:n.clientX};this.setState({menuOpen:!0,anchorPosition:o})});E(this,"handleCloseContextMenu",()=>{this.setState({menuOpen:!1})});E(this,"resetSelectedItems",()=>{this.setState({selectedIndexes:[],lastClickIndex:null})});E(this,"resetSelectedSorting",()=>{this.setSorting({sortBy:null,sortDirection:"ASC"})});E(this,"getShownData",()=>this.props.hasParentDirectory?zfe(this.state.shownData):this.state.shownData);E(this,"getRowDataKey",n=>n.filename);E(this,"getRowKeyByIndex",n=>this.getShownData()[n]);E(this,"getRowClassName",({index:n})=>{const o=this.getRowKeyByIndex(n),r=o?o.filename:"",i=o?o.isHidden:!1,s=this.state.selectedIndexes.includes(r),a=Je.getClasses(this.props);return ce(a.row,{[a.hidden]:i,[a.selected]:s})});E(this,"onDeleteItem",n=>this.props.actions.onDelete([n]));E(this,"toggleShowHiddenFiles",()=>{const{showHiddenFiles:n,sortBy:o,data:r,actions:i,sortDirection:s}=this.props,a="",l=d4(mf(r,a,!n),o,s);this.resetSelectedItems(),i.onToggleShowHiddenFiles(),this.setState({shownData:l,searchValue:a})});E(this,"handleEditPermission",(n,o)=>{this.setState({displayedDialog:void 0}),this.props.actions.onEditPermissions(n,o)});E(this,"handleRename",async(n,o)=>{this.setState({displayedDialog:void 0}),await this.props.actions.onRename(n,o)&&this.resetSelectedItems()});E(this,"handleDelete",async n=>{this.setState({displayedDialog:void 0}),await this.props.actions.onDelete(n)&&this.resetSelectedItems()});E(this,"handleNewFolder",async n=>{this.setState({displayedDialog:void 0}),this.props.actions.onNewFolder(n)});E(this,"handleTransferSelected",()=>this.props.actions.onTransferTo(this.getSelectedItems()));E(this,"handlePathChange",n=>{this.resetSelectedItems(),this.props.actions.onPathChange(n)});E(this,"handleSelectHost",async()=>{await this.props.actions.onSelectHost()&&(this.resetSelectedItems(),this.setState({searchValue:""}))});E(this,"handleRefresh",()=>{this.resetSelectedItems(),this.props.actions.onRefresh()});E(this,"handleRowDoubleClick",({rowData:n})=>{this.props.actions.onRowDoubleClick(n)});E(this,"handleSort",({sortBy:n,sortDirection:o})=>{const r=d4(this.state.shownData,n,o);this.setSorting({sortBy:n,sortDirection:o}),this.setState({shownData:r})});E(this,"selectAll",()=>{this.setState({selectedIndexes:this.state.shownData.map(n=>n.filename)})});E(this,"handleOpenFile",()=>{if(this.state.selectedIndexes.length!==1)throw Error("No file selected");this.props.actions.onOpenFile(this.getSelectedItems()[0])});E(this,"handleOpenFileWithApp",()=>{if(this.state.selectedIndexes.length!==1)throw Error("No file selected");this.props.actions.onOpenFileWithApp(this.getSelectedItems()[0])});E(this,"openDialog",n=>{setTimeout(()=>this.setState({displayedDialog:n}),0)});E(this,"createActionMenuItems",()=>{const n=this.state.selectedIndexes.length===0,o=this.state.selectedIndexes.length===1,r=!!this.props.path,i=this.state.selectedIndexes.length,s=this.state.selectedIndexes.length>1,a=i&&this.getSelectedItems().some(c=>c.isDirectory);let l=[{title:"Open",onClick:this.handleOpenFile,disabled:!r||!i},{title:"Open with...",onClick:this.handleOpenFileWithApp,disabled:!r||!i},{title:"Copy to target directory",onClick:this.handleTransferSelected,disabled:n},{title:"Rename",onClick:()=>this.openDialog(0),disabled:!o},{title:"Delete",color:"red",onClick:()=>this.openDialog(1),disabled:n},{title:"Refresh",onClick:this.handleRefresh,disabled:!r},{title:"New Folder",onClick:()=>this.openDialog(2),disabled:!r},{title:this.props.showHiddenFiles?"Hide Hidden Files":"Show Hidden Files",onClick:this.toggleShowHiddenFiles,disabled:!r},{title:"Edit Permissions",onClick:()=>this.openDialog(3),disabled:!o},{title:"Select All",onClick:this.selectAll,disabled:!r},{title:"Close",color:"red",onClick:this.props.actions.onConnectionBrakeMethod,disabled:!r}];return this.props.isLocal&&(l=l.filter(c=>c.title!=="Open in Terminal")),this.props.isLocalWindows&&(l=l.filter(c=>c.title!=="Edit Permissions")),(a||s)&&(l=l.filter(c=>!c.title.includes("Open"))),l});E(this,"onHeaderClick",({event:n})=>{n.stopPropagation()});E(this,"headerRowRenderer",({className:n,columns:o,style:r})=>{const i=Je.getClasses(this.props);return u("div",{onContextMenu:s=>s.stopPropagation(),className:ce(n,i.tableHeader),style:r,children:o})});E(this,"renderFilename",({rowData:n})=>{const o=Je.getClasses(this.props);return L("span",{title:n.filename,className:o.filename,children:[u(XD,{name:n.extension}),L("div",{className:o.filenameContainer,children:[u(Z,{className:o.filenameTitle,color:"primary",variant:"body2",children:n.title||n.filename}),n.permissions&&u(Z,{className:o.filenameSmall,color:"secondary",variant:"body2",fontSize:10,children:n.permissions})]})]})});E(this,"renderHeader",n=>{const o=Je.getClasses(this.props);return L("div",{className:o.tableHeaderCell,children:[u(Z,{className:o.tableHeaderTitle,bold:!0,color:"primary",variant:"body2",children:n.label}),n.dataKey===n.sortBy?n.sortDirection==="ASC"&&u(sF,{className:o.arrow,fontSize:"small"})||u(iF,{className:o.arrow,fontSize:"small"}):null]})});E(this,"renderExtension",({rowData:n})=>{const o=Je.getClasses(this.props),r=n.isSelectable?n.extension:"";return u(Z,{title:r,className:o.tableCol,color:"secondary",variant:"body2",children:r})});E(this,"renderUnixTime",({rowData:n})=>{const o=Je.getClasses(this.props),r=n.isSelectable?nM(n.attrs.mtime):"";return u(Z,{title:r,className:o.tableCol,color:"secondary",variant:"body2",children:r})});E(this,"renderSize",({rowData:n})=>{const o=Je.getClasses(this.props);let r;return n.isSelectable?r=n.attrs.isDirectory()?"- -":Bp(n.attrs.size,!1,!1,2):r="",u(Z,{title:r,className:o.tableCol,color:"secondary",variant:"body2",children:r})});E(this,"onDragStart",(n,o,r)=>{const i=this.getSelectedItems();if(i.some(s=>s.filename===o.filename))this.props.onDragStart(this.props.sftpContainerId,i);else{const s=this.handleRowClick({event:n,rowData:o,index:r});this.props.onDragStart(this.props.sftpContainerId,this.getSelectedItems(s))}});E(this,"onDragEnd",n=>{this.props.onDragEnd(),n.preventDefault()});E(this,"onDragEnter",n=>{n.dataTransfer.types[0]==="Files"&&s$&&this.props.onDragStart("local",[])});E(this,"tableRowRenderer",({className:n,columns:o,index:r,key:i,onRowClick:s,onRowDoubleClick:a,onRowMouseOut:l,onRowMouseOver:c,onRowRightClick:d,rowData:p,style:h})=>{const m={"aria-rowindex":r+1};return(s||a||l||c||d)&&(m["aria-label"]="row",m.tabIndex=0,s&&(m.onClick=g=>s({event:g,index:r,rowData:p})),a&&(m.onDoubleClick=g=>a({event:g,index:r,rowData:p})),l&&(m.onMouseOut=g=>l({event:g,index:r,rowData:p})),c&&(m.onMouseOver=g=>c({event:g,index:r,rowData:p})),d&&(m.onContextMenu=g=>d({event:g,index:r,rowData:p}))),f.createElement("div",{onDragStart:g=>this.onDragStart(g,p,r),onDragEnd:this.onDragEnd,...m,className:n,key:i,style:h,draggable:!0},o)});const o="";this.state={searchValue:"",shownData:mf(n.data,o,n.showHiddenFiles),selectedIndexes:[],lastClickIndex:null,menuOpen:!1,anchorPosition:{top:0,left:0},displayedDialog:void 0}}UNSAFE_componentWillReceiveProps(n){const{data:o,isLoading:r,path:i,showHiddenFiles:s}=n;let{searchValue:a}=this.state;if(this.props.path!==i&&(this.resetSelectedItems(),a=""),r){this.setState({searchValue:a});return}const{sortBy:l,sortDirection:c}=n;let d=mf(o,a,s);d=d4(d,l,c),this.setState({shownData:d,searchValue:a})}getSelectedItems(n=this.state.selectedIndexes){return this.state.shownData.filter(o=>n.includes(o.filename))}render(){const{searchValue:n}=this.state,{path:o,hostname:r,isLoading:i,sortBy:s,logicalDiskList:a,getLogicalDiskList:l,sortDirection:c,hostIcon:d,className:p}=this.props,h=this.getShownData(),m=this.createActionMenuItems(),g=["Copy to target directory","Edit Permissions","Rename","Delete","Refresh","New Folder","Open","Open with..."],C=m.filter(y=>g.includes(y.title)),v=Je.getClasses(this.props),S=this.getSelectedItems();return L("div",{className:ce(v.sftpPresenter,p),onDragEnter:this.onDragEnter,children:[u(kfe,{path:o,hostname:r,hostIcon:d,isLoading:i,onSearch:this.handleSearch,searchValue:n,onPathChange:this.handlePathChange,onSelectHost:this.handleSelectHost,historyNavbarProps:this.props.historyNavbarProps,actionMenuItems:m,logicalDiskList:a,getLogicalDiskList:l}),L("div",{className:v.backdropContainer,children:[u("div",{className:v.tableContainer,onClick:this.resetSelectedItems,onContextMenu:this.handleOpenContextMenu,children:u(Bh,{children:({height:y,width:b})=>L(z1e,{onHeaderClick:this.onHeaderClick,headerRowRenderer:this.headerRowRenderer,headerClassName:v.tableHeaderCol,headerHeight:45,height:y,rowCount:h.length,rowGetter:({index:w})=>h[w],rowHeight:40,overscanRowCount:10,onRowDoubleClick:this.handleRowDoubleClick,onRowRightClick:this.handleShowContextMenu,onRowClick:this.handleRowClick,rowClassName:this.getRowClassName,width:b,sort:this.handleSort,sortBy:s,sortDirection:c,rowRenderer:this.tableRowRenderer,children:[u(ad.Column,{label:"Name",dataKey:"filename",width:220,flexGrow:11,headerRenderer:this.renderHeader,className:"cell",cellRenderer:this.renderFilename}),u(ad.Column,{label:"Date Modified",dataKey:"attrs.mtime",width:120,flexGrow:6,headerRenderer:this.renderHeader,className:"cell",cellRenderer:this.renderUnixTime}),u(ad.Column,{label:"Size",dataKey:"attrs.size",width:80,flexGrow:4,headerRenderer:this.renderHeader,className:"cell",cellRenderer:this.renderSize}),u(ad.Column,{label:"Kind",dataKey:"extension",width:80,flexGrow:4,headerRenderer:this.renderHeader,className:"cell",cellRenderer:this.renderExtension})]})})}),u(U1e,{contextMenuId:this.props.contextMenuContainerId,items:C,open:this.state.menuOpen,onClose:this.handleCloseContextMenu,anchorPosition:this.state.anchorPosition}),u(a$,{open:i,className:v.backdrop,children:i&&u($1e,{})})]}),L(qt,{children:[u(xe,{when:this.state.displayedDialog===0&&S.length===1,children:u(rfe,{selectedItem:S[0],adjacentNames:S.map(y=>y.filename).filter(y=>y!==S[0].filename),onRename:this.handleRename,onClose:()=>this.setState({displayedDialog:void 0})})}),u(xe,{when:this.state.displayedDialog===1&&S.length>0,children:u(Z1e,{selectedItems:S,onConfirmDelete:this.handleDelete,onClose:()=>this.setState({displayedDialog:void 0})})}),u(xe,{when:this.state.displayedDialog===2,children:u(nfe,{onNewFolder:this.handleNewFolder,adjacentNames:S.map(y=>y.filename).filter(y=>y!==S[0].filename),onClose:()=>this.setState({displayedDialog:void 0})})}),u(xe,{when:this.state.displayedDialog===3&&S.length>0,children:u(efe,{item:S[0],path:this.props.path,onOk:this.handleEditPermission,onClose:()=>this.setState({displayedDialog:void 0})})})]})]})}};const jfe=(t,e)=>{const n=SF(e.sftpContainerId);return{sortBy:t.sftp[n].sorting.sortBy,sortDirection:t.sftp[n].sorting.sortDirection}},Ufe=Je(_o(jfe,void 0,void 0,{forwardRef:!0})(Wfe),i3,{name:"ConnectedSFTP"});var $fe=Math.max,qfe=Math.min;function bF(t,e,n){var o=t==null?0:t.length;if(!o)return-1;var r=o-1;return n!==void 0&&(r=_2(n),r=n<0?$fe(o+r,0):qfe(r,o-1)),l$(t,du(e),r,!0)}var Gfe=c$(bF);const Zo=Gfe,Vl={"&::-webkit-scrollbar-thumb":{backgroundColor:"var(--dark-grey-4)",visibility:"hidden"},"&:hover::-webkit-scrollbar-thumb":{visibility:"visible"}},Kfe={},t0=({entity:t,EntityClass:e,getIsValidForSaving:n,defaultClassInit:o=Kfe,onConfirmUpdateForm:r=He,prefill:i=P8})=>{const s=f.useMemo(()=>new e(o),[e,o]),a=t||s,[l,c]=f.useState(a),[d,p]=f.useState(!1),{register:h,focusRequiredFields:m}=yk(),g=f.useCallback(()=>{p(!1),c(new e(o))},[e,o]),C=f.useCallback(async()=>{const y=i(l);if(n(y))return y},[i,l,n]),v=f.useCallback(async y=>{const b=l,w=new e({...l,...y});try{c(w),await(r==null?void 0:r(w,b)),p(!0)}catch{c(b)}},[e,l,r]);return f.useMemo(()=>({editableEntity:l,originalEntity:a,isValid:n(l.local_id==null?i(l):l),isDirty:d,resetForm:g,updateForm:v,saveFormInstantly:C,savingStatus:null,register:h,focusRequiredFields:m}),[l,a,n,d,g,v,C,i,h,m])},Fn=Se.memo(t=>{const{className:e,children:n}=t,{classes:o,cx:r}=Zfe();return u("div",{className:r(o.root,e),children:n})}),Zfe=K()({root:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:30,gap:"10px","@media (max-width: 740px)":{gap:"5px"}}});function In({children:t}){const{classes:e}=Qfe();return u("div",{className:e.connectionFlowActionsSubLayout,children:t})}const Qfe=K()({connectionFlowActionsSubLayout:{display:"flex",gap:"inherit"}}),P1=f.createContext(!1);function et(t){const{className:e,...n}=t,{classes:o}=Yfe(),r=f.useContext(P1);return u(Ue,{className:ce(e,{[o.compact]:r}),size:r?"small":"medium",...n})}const Yfe=K()({compact:{fontSize:"10px",letterSpacing:"normal"}});function wF(t){const{classes:e}=xF();return L("div",{className:e.root,children:[u(Z,{variant:"body1",children:"Boosting your shell performance..."}),u(Fn,{children:u(In,{children:u(et,{onClick:t.onClose,children:"Close"})})})]})}function _F(t){const{classes:e}=xF();return L("div",{className:e.root,children:[u(Z,{variant:"body1",children:"Shell boost failed to activate"}),u(Fn,{children:u(In,{children:u(et,{onClick:t.onClose,children:"Close"})})})]})}const xF=K()({root:{display:"flex",flexDirection:"column",height:"100%"}}),Xfe=(t,e)=>f.createElement("svg",{width:16,height:18,viewBox:"0 0 16 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.25 4.00701C0.25 2.19985 1.71499 0.734863 3.52215 0.734863H11.1464V2.51967H3.52215C2.70071 2.51967 2.03481 3.18558 2.03481 4.00701V12.9413H0.25V4.00701Z",fill:"currentColor"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.7719 3.94958H10.7359L15.045 8.25867V16.545C15.045 17.2021 14.5123 17.7348 13.8551 17.7348H4.7719C4.11475 17.7348 3.58203 17.2021 3.58203 16.545V5.13946C3.58203 4.48231 4.11476 3.94958 4.7719 3.94958ZM9.68361 5.15491L13.8358 9.30708H9.68361V5.15491Z",fill:"currentColor"})),Jfe=f.forwardRef(Xfe),Ud=f.memo(Jfe),eme=(t,e)=>f.createElement("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M14 6.99999C14 10.8225 10.8294 14 6.99999 14C3.17744 14 0 10.8225 0 6.99999C0 3.17059 3.17059 0 6.99313 0C10.8225 0 14 3.17059 14 6.99999ZM6.40293 4.2549V6.40293H4.2549C3.89804 6.40293 3.65097 6.64999 3.65097 7.00685C3.65097 7.35689 3.89804 7.5902 4.2549 7.5902H6.40293V9.7451C6.40293 10.0951 6.64313 10.349 6.99313 10.349C7.35 10.349 7.59702 10.1019 7.59702 9.7451V7.5902H9.75198C10.1019 7.5902 10.3559 7.35689 10.3559 7.00685C10.3559 6.64999 10.1019 6.40293 9.75198 6.40293H7.59702V4.2549C7.59702 3.89804 7.35 3.64412 6.99313 3.64412C6.64313 3.64412 6.40293 3.89804 6.40293 4.2549Z",fill:"currentColor"})),tme=f.forwardRef(eme),n0=f.memo(tme);function L1(t){return t.flatMap(({count:e,singular:n,plural:o})=>{switch(e){case 0:return[];case 1:return[n];default:return[o]}}).join(" and ")}function s3(t){return t.flatMap(({count:e,singular:n,plural:o})=>e!==0?[`${e} ${e>1?o:n}`]:[]).join(" and ")}const nme={mode:"debounce",wait:300},ome={debounce:Ci,throttle:Pl},Gr=(t,e,n=nme)=>{const o=Yn(s=>{const[a]=s;e(a.contentRect)}),{mode:r,wait:i}=n;f.useLayoutEffect(()=>{if(t.current&&r){const s=new ResizeObserver(ome[r](o,i));return s.observe(t.current),()=>s.disconnect()}},[o,r,t,i])};function rme(t){const[e,n]=f.useState(!1),o=f.useCallback(()=>{t.current&&n(t.current.scrollHeight>t.current.clientHeight)},[t]);return Gr(t,()=>o()),f.useLayoutEffect(()=>o(),[o]),e}function ime(t,e){return`Remove ${L1([{count:t.length,singular:"a group",plural:"groups"},{count:e.length,singular:"a host",plural:"hosts"}])}`}function sme(t,e){return`You are going to remove ${L1([t.length!==0?{count:t.length,singular:"this group",plural:"these groups"}:{count:e.length,singular:"this host",plural:"these hosts"}])}:`}function ame(t){return`And ${L1([{count:t.length,singular:"this host",plural:"these hosts"}])}:`}function hx({entities:t,presenter:e}){return u("div",{children:t.map(n=>u(Ze,{top:14,bottom:14,children:u(Sk,{children:u(Lr,{title:u(Z,{fontSize:15,bold:!0,color:"primary",children:e.label(n)}),subtitle:u(Z,{fontSize:11,bold:!0,color:"deprecatedSecondary",children:e.description(n)}),icon:u(Uo,{icon:e.icon(n)})})})},n.local_id??-1))})}const lme=t=>{const{onClose:e,onOk:n}=t,{classes:o}=cme(),r=f.useRef(null),i=V(d=>d$(d,t.groups)),s=V(d=>u$(d,t.hosts)),a=N2(s.concat(i.flatMap(d=>d.children_hosts)),d=>d.local_id),l=f.useCallback(d=>{d.preventDefault(),n?n():e()},[e,n]),c=rme(r);return L(Se.Fragment,{children:[u(p$,{color:"primary",endAdornment:"close",title:ime(i,a),onEndAdornmentClick:e}),L("div",{ref:r,className:o.dialogContent,children:[u(Z,{color:"primary",children:sme(i,a)}),u(hx,{entities:i,presenter:Mp}),i.length!==0&&a.length!==0&&u(Ze,{bottom:15,children:u(Z,{color:"primary",children:ame(a)})}),u(hx,{entities:a,presenter:On})]}),u("div",{className:ce(o.footer,{[o.filledFooter]:c}),children:u(H2,{alignRight:!0,children:u(Ue,{onClick:l,color:"error",children:"Remove"})})})]})},cme=K()({dialogContent:{overflowY:"auto",maxHeight:"390px",paddingTop:"25px",paddingRight:"30px",paddingLeft:"30px"},filledFooter:{backgroundColor:"var(--light-grey-6)",".termius-dark-theme &":{backgroundColor:"var(--dark-grey-3)"}},footer:{padding:"20px 30px"}}),u9=L8.promisify(Ii(lme));function Ga(t){const{className:e,status:n,onClick:o=He}=t,{classes:r}=dme(),i=f.useMemo(()=>n==="editing"?"Editing in progress":n==="saving"?"Saving in progress":"All changes saved",[n]);return u("div",{className:ce(e,r.savingStatus),onClick:o,children:u(Ea,{arrowOffset:"-7px",title:i,children:L("div",{className:r.iconContainer,children:[n==="editing"&&L(Se.Fragment,{children:["...",u(Cl,{className:r.icon})]}),n==="saving"&&u(Oo,{size:18,className:r.progress,variant:"indeterminate"}),n==="saved"&&u(zh,{className:r.icon})]})})})}const dme=K()({savingStatus:{width:"18px",justifyContent:"center",display:"flex",alignItems:"center",marginRight:"5px",color:"var(--dark-grey-1)",".termius-dark-theme &":{color:"var(--white)"}},icon:{width:"14px",height:"14px",fill:"currentColor"},iconContainer:{display:"flex"},progress:{color:"inherit"}}),p9=t=>{const{classes:e}=ume();return u(Lt,{className:e.shareButtonWrapper,children:L(Ue,{color:"accent",onClick:t.onClick,disabled:t.disabled,rightIcon:u(h$,{}),variant:"text",fullWidth:!0,children:["Share this ",t.type]})})},ume=K()({shareButtonWrapper:{padding:"10px"}}),AF=({sshConfigIsExisted:t,telnetConfigIsExisted:e,entityIsCreated:n})=>!t&&e&&n,TF=({telnetConfigIsExisted:t,sshConfigIsExisted:e,entityIsCreated:n})=>!t&&e&&n,pme=t=>{const{className:e="",isOpened:n,onClose:o,connectToHost:r,isOpenedFromEmptyScreen:i,connectLabel:s,...a}=t,{editableEntity:l,originalEntity:c,isValid:d,onShareHost:p,savingStatus:h,focusRequiredFields:m}=a,g=tt(),C=V(co),v=Ei(),S=V(B2),[y,b]=f.useState(!1),[w,x]=f.useState(!1);let _=null;S&&(_=u(p9,{type:"host",onClick:p,disabled:!d||l.local_id==null}));const I=!l.local_id||!!h&&h!=="saved",T=()=>{r==null||r(l)},A=j=>{const{target:H,key:O}=j;!I&&O.toLowerCase()==="enter"&&["address","port","username","password"].includes(H.name)&&T()},k=de(),R=()=>{k(Q6.request([l])),k(Y6({entity:"Host",onScreen:"Edit Host"}))},M=async()=>{const j=[l];try{await u9({groups:[],hosts:j})}catch(H){Po.swallow(H);return}await o(),await We(g,z2,{hosts:j,groups:[]})},D=dt(l,C),F=[{visible:!!r,name:"Connect",handler:T,icon:u(kr,{}),disabled:I},{visible:D&&AF({sshConfigIsExisted:!!l.ssh_config,telnetConfigIsExisted:!!l.telnet_config,entityIsCreated:!!l.local_id}),name:"Add SSH",handler:()=>{b(!0),a.onSshConfigChange(new hi({identity:new Nt({is_visible:!1})}))},icon:u(n0,{})},{visible:D&&TF({telnetConfigIsExisted:!!l.telnet_config,sshConfigIsExisted:!!l.ssh_config,entityIsCreated:!!l.local_id}),name:"Add Telnet",handler:()=>{x(!0),a.onTelnetConfigChange(new Ll({identity:new Nt({is_visible:!1})}))},icon:u(n0,{})},{visible:D,name:"Duplicate",handler:R,icon:u(Ud,{}),disabled:I},{visible:Ln(l,C),name:"Remove",handler:M,icon:u($n,{}),disabled:I}],z=()=>{v.openMenu(),k(Su({onScreen:"Edit Host",openedVia:"Three Dots Button",wizardID:void 0}))};return u(bk,{current:l,children:L(Nn,{onKeyUp:A,onEsc:o,className:e,handleEnterKey:!0,hasFormTag:!0,children:[u(fn,{left:u(mn,{title:c!=null&&c.local_id?"Host Details":"New Host",children:u(ki,{...a,entry:l,focusRequiredFields:m})}),right:L(Et,{margin:"md",children:[u(Ga,{status:h}),u(Tn,{ref:v.triggerRef,onClick:z,disabled:Ri(F),"aria-label":"Three dots button",children:u(Pi,{})}),u(Fo,{onClick:o})]}),showBorder:!0}),u(Si,{value:a.editableEntity,children:u(f$,{...a,isVisible:n,shareSlot:_,onConnect:T,isOpenedFromEmptyScreen:i,connectLabel:s,showAllSshConfigs:y,showAllTelnetConfigs:w})}),u(Sr,{onClose:v.closeMenu,autoClose:!0,open:v.isOpened,anchorEl:v.triggerRef.current,anchorOrigin:{horizontal:"left",vertical:"bottom"},transformOrigin:{horizontal:"left",vertical:"top"},menuItems:F})]})})};var h9={},hme=Cr;Object.defineProperty(h9,"__esModule",{value:!0});var f9=h9.default=void 0,fme=hme(vr()),mme=yr,gme=(0,fme.default)((0,mme.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"}),"CloudDownload");f9=h9.default=gme;function IF(t){return t.isPro&&t.group.cloud_config!=null&&dt(t.group,t.editableVaults)}function vme(t){const{className:e,isOpened:n,onClose:o,...r}=t,{editableEntity:i,originalEntity:s,onShare:a,savingStatus:l,isValid:c}=r,{classes:d}=Cme(),p=de(),h=tt(),[m,g]=f.useState(!1),[C,v]=f.useState(!1);m$({isFormOpened:n,entityId:s.local_id},()=>{var k;n&&p(C$({isSshConfigEnabled:s.ssh_config?"yes":"no",isTelnetConfigEnabled:s.telnet_config?"yes":"no",cloudIntegration:s.cloud_config?y$((k=s.cloud_config)==null?void 0:k.cloudType):null}))});const{shareSlot:S}=yme({onShare:a,isValid:c,editableEntity:i}),y=Ei(),b=!i.local_id||!!l&&l!=="saved",w=V(zt),x=V(k=>g$(k,i.local_id)),_=async()=>{if(x==null)return;const k=[x];try{await u9({groups:k,hosts:[]})}catch(R){Po.swallow(R);return}await o(),await We(h,z2,{hosts:[],groups:k})},I=()=>{x!=null&&p(wk.request({group:x,withBackendSync:!0}))},T=V(co),A=[{visible:x!=null&&IF({isPro:w,group:x,editableVaults:T}),name:"Pull data from cloud",handler:I,icon:u(f9,{className:d.cloudSyncIcon})},{visible:AF({sshConfigIsExisted:!!i.ssh_config,telnetConfigIsExisted:!!i.telnet_config,entityIsCreated:!!i.local_id}),name:"Add SSH",handler:()=>{g(!0),r.onSshConfigChange(new hi({identity:new Nt({is_visible:!1})}))},icon:u(n0,{})},{visible:TF({telnetConfigIsExisted:!!i.telnet_config,sshConfigIsExisted:!!i.ssh_config,entityIsCreated:!!i.local_id}),name:"Add Telnet",handler:()=>{v(!0),r.onTelnetConfigChange(new Ll({identity:new Nt({is_visible:!1})}))},icon:u(n0,{})},{visible:x!=null&&Ln(x,T),name:"Remove",handler:_,icon:u($n,{htmlColor:"var(--red)"}),disabled:b}];return u(bk,{current:i,children:L(Nn,{onEsc:o,className:ce(e,d.newGroupForm),handleEnterKey:!0,hasFormTag:!0,children:[u(fn,{left:u(mn,{title:s!=null&&s.local_id?"Group Details":"New Group",children:u(ki,{...r,entry:i})}),right:L(Et,{margin:"md",children:[u(Ga,{status:l}),u(Tn,{ref:y.triggerRef,onClick:y.openMenu,disabled:Ri(A),children:u(Pi,{})}),u(Fo,{onClick:o})]}),showBorder:!0}),u(Si,{value:r.editableEntity,children:u(v$,{...r,isVisible:n,shareSlot:S,showAllSshConfigs:m,showAllTelnetConfigs:C})}),u(Sr,{onClose:y.closeMenu,autoClose:!0,open:y.isOpened,anchorEl:y.triggerRef.current,anchorOrigin:{horizontal:"left",vertical:"bottom"},transformOrigin:{horizontal:"left",vertical:"top"},menuItems:A})]})})}const Cme=K()({newGroupForm:{},cloudSyncIcon:{width:"17px",fill:"currentColor"}});function yme({onShare:t,isValid:e,editableEntity:n}){return{shareSlot:V(B2)?u(p9,{type:"group",onClick:t,disabled:!e||n.local_id==null}):null}}function Sme(t){const{onClosed:e,updateSliderAnimationProgress:n,resetSlider:o,formType:r,isOpened:i,hostForm:s,groupForm:a,onCloseSlider:l,connectToHost:c,isOpenedFromEmptyScreen:d,connectLabel:p,inTerminal:h}=t;return L(V2,{inTerminal:h,isOpened:i,onOpenAnimationStarted:()=>n(!0),onOpenAnimationEnd:()=>n(!1),onCloseAnimationStarted:()=>n(!0),onCloseAnimationEnd:()=>{n(!1),o(),e==null||e()},children:[r==="host"&&u(pme,{onClose:l,isOpened:i,connectToHost:c,isOpenedFromEmptyScreen:d,connectLabel:p,...s}),r==="group"&&u(vme,{onClose:l,isOpened:i,...a})]})}const m9=Se.memo(Sme),bme=Object.freeze(Object.defineProperty({__proto__:null,default:m9},Symbol.toStringTag,{value:"Module"}));function wme(t,e){so(2,arguments);var n=Jt(t),o=Jt(e);return n.getTime()>o.getTime()}const _me={},o0=({entity:t,EntityClass:e,entitiesSelector:n,saveEntity:o,onNewEntityCreated:r,getIsValidForSaving:i,defaultClassInit:s=_me,onConfirmUpdateForm:a=He,prefill:l=P8})=>{const c=f.useMemo(()=>new e(s),[e,s]),d=t||c,[p,h]=f.useState(!1),[m,g]=f.useState(d),[C,v]=f.useState(!1),[S,y]=f.useState(null),{register:b,focusRequiredFields:w}=yk(),x=V(O=>S$(O,n,m.local_id)),_=f.useRef(null),I=f.useRef(null),T=f.useCallback(O=>{g(O),h(!1)},[g]),A=f.useCallback(()=>{v(!1),T(new e(s)),y(null),_.current=null,I.current=null},[e,s,T]),k=f.useCallback(async(O,U,N={disableFormUpdate:!1})=>{const{disableFormUpdate:W}=N;y("saving");const B=await o(O);return y("saved"),U===I.current&&(I.current=null),O.local_id||(W?h(!0):T(new e({...O,...B})),r==null||r(O)),B},[e,r,o,T]),R=f.useMemo(()=>Ci((O,U)=>k(O,U),2e3),[k]),M=f.useMemo(()=>Ci(()=>{y(O=>O==="editing"?"saving":O)},1500),[]),D=O=>O?_.current?wme(O,_.current):!0:!1,F=f.useCallback(async(O,U=!1)=>{if(!O){m.local_id&&A();return}(U||!I.current&&D(O.local_updated_at)&&(i(m)||!C))&&(R.cancel(),T(new e({...m,...O})))},[e,R,m,i,C,A,T]);f.useEffect(()=>{F(x,!1)},[x]),f.useEffect(()=>{F(t,!0)},[t]);const z=f.useCallback(async()=>{const O=l(m);if(i(O))return R.cancel(),M.cancel(),I.current=Ie.v4(),k(O,I.current,{disableFormUpdate:!0})},[l,R,m,i,k,M]),j=f.useCallback(async O=>{const U=m;I.current=Ie.v4();const N=new e({...m,...O});try{T(N),await(a==null?void 0:a(N,U)),_.current=Date.now(),v(!0),S!=="saving"&&y("editing"),i(N)?(M(),R(N,I.current)):R.cancel()}catch{T(U),I.current=null}},[e,R,m,i,a,S,M,T]);return f.useMemo(()=>({editableEntity:m,isDraftMode:p,originalEntity:d,isValid:i(m.local_id==null?l(m):m),isDirty:C,resetForm:A,updateForm:j,saveFormInstantly:z,savingStatus:S,register:b,focusRequiredFields:w}),[m,p,d,i,C,A,j,z,S,l,b,w])},EF=(t,e)=>e!=null&&e.local_id?t.map(n=>n.local_id===e.local_id?n.clone(e):n):t,kF=t=>{const{forms:e,setEditableEntity:n,editableEntity:o}=t,[r,i]=f.useState(null),[s,a]=f.useState(!1),[l,c]=f.useState(),[d,p]=f.useState(!1),h=f.useRef(null),m=f.useCallback(A=>{var k;return(k=e.find(R=>R.type===A))==null?void 0:k.form},[e]),g=f.useMemo(()=>m(r),[m,r]),C=f.useCallback(()=>g!=null&&g.disableDiscardChangesConfirmation?!0:bs(W2),[g==null?void 0:g.disableDiscardChangesConfirmation]),v=f.useCallback(async()=>{var k,R,M;if(!s)return;try{await((k=g==null?void 0:g.onBeforeFormClose)==null?void 0:k.call(g))}catch{return}const A=g==null?void 0:g.isValid;if(A&&(g!=null&&g.isDirty)&&((R=g==null?void 0:g.saveForm)==null||R.call(g)),!A&&(g!=null&&g.isDirty))try{await C(),p(!0),a(!1)}catch{n((g==null?void 0:g.editableEntity)||null),(M=h==null?void 0:h.current)==null||M.resetSelection()}else p(!0),a(!1)},[s,g,C,n]),S=f.useCallback(()=>{e.forEach(({form:A})=>A.resetForm())},[e]),y=f.useCallback(()=>{n(null),i(null),c(void 0),a(!1),S()},[S,n]),b=f.useCallback(async(A,k,R)=>{var D,F,z,j;const M=(A==null?void 0:A.local_id)&&(A==null?void 0:A.local_id)===((D=g==null?void 0:g.editableEntity)==null?void 0:D.local_id)&&(!r||k===r);if(!(!o||M)){g!=null&&g.isValid&&(g!=null&&g.isDirty)&&((F=g==null?void 0:g.saveForm)==null||F.call(g));try{!(g!=null&&g.isValid)&&(g!=null&&g.isDirty)&&!R&&await C(),S(),n(A),i(k),A!=null&&A.local_id||(z=h==null?void 0:h.current)==null||z.resetSelection()}catch{(j=h==null?void 0:h.current)==null||j.resetSelection()}}},[g,o,r,C,S,n]),w=f.useCallback(A=>{i(A)},[i]),x=f.useCallback(({entity:A,formType:k,options:R,withoutDiscardConfirmation:M})=>{var D;if(c(R),o&&s){b(A,k,M);return}n(A),i(k),p(!0),a(!0),(D=h==null?void 0:h.current)==null||D.resetSelection()},[o,b,s,n]),_=f.useCallback(({type:A,isFormInDraftMode:k})=>s&&d||!s&&!d||A!==r||k?!1:!(o!=null&&o.local_id),[o==null?void 0:o.local_id,r,s,d]),I=f.useCallback((A,k)=>{const R=m(k),M=R==null?void 0:R.editableEntity;return M?M!=null&&M.local_id&&_({type:k,isFormInDraftMode:R.isDraftMode})?A.filter(D=>D.local_id!==(M==null?void 0:M.local_id)):EF(A,M):A},[m,_]);return f.useMemo(()=>({isSliderOpened:s,isSliderAnimationInProgress:d,editableEntity:o,entitiesLayoutRef:h,currentForm:g,formType:r,sliderOptions:l,resetSlider:y,filterEntitiesWithPreview:I,shouldShowNewEntityPreview:_,updateSliderAnimationProgress:p,onOpenSlider:x,onCloseSlider:v,onNavigateSlider:w}),[s,d,o,h,g,r,l,y,I,_,p,x,v,w])},g9=()=>{const[t,e]=f.useState(null),n=b$({host:t instanceof _t?t:null,useSaveFormHook:o0}),o=w$({group:t instanceof Gi?t:null,useSaveFormHook:o0}),r=f.useMemo(()=>[{form:n,type:"host"},{form:o,type:"group"}],[n,o]),i=kF({forms:r,editableEntity:t,setEditableEntity:e}),s=i.shouldShowNewEntityPreview({type:"group",isFormInDraftMode:o.isDraftMode}),a=i.shouldShowNewEntityPreview({type:"host",isFormInDraftMode:n.isDraftMode}),l=f.useMemo(()=>s?new Rm({presenter:Mp,entity:new Pm(o.editableEntity)}):null,[o.editableEntity,s]),c=f.useMemo(()=>a?new Rm({presenter:On,entity:new _t(n.editableEntity)}):null,[n.editableEntity,a]);return f.useMemo(()=>({...i,editableEntity:t,hostForm:n,groupForm:o,editableGroupPreview:l,editableHostPreview:c}),[i,t,n,o,l,c])};async function ld(t){try{return await new Promise((e,n)=>{t({resolve:e,reject:n})})}finally{t(void 0)}}function zp(t){return t.resolver!=null}function r0(t,e){const{resolver:n}=t;Ce(n!=null,"resolveForm is called on a closed form"),n.resolve(e)}function Ji(t){const{resolver:e}=t;Ce(e!=null,"cancelForm is called on a closed form"),e.reject(new Po)}const Hc=t=>e=>{e.target===e.currentTarget&&t(e)};function kc(t){function e(n){const o=r=>{const i=t(r);if(typeof i!="object")throw new Error(`[hocify]: Hook results must return null or an object to be spread as props but received typeof "${typeof i}"`);return u(n,{...i,...r})};return o.displayName=`hocify(${n.displayName||n.name})`,o}return e}const RF=t=>{const{className:e,endAdornment:n,title:o,subtitle:r,icon:i}=t,{classes:s}=xme();return L("div",{className:ce(e,s.root),children:[u(Lr,{className:s.headerTitle,icon:u(Uo,{className:s.icon,icon:i}),title:u(Z,{color:"primary",fontSize:14,children:o}),subtitle:u(Z,{color:"deprecatedSecondary",fontSize:12,children:r})}),n]})},xme=K()({root:{display:"flex",minHeight:"63px",alignItems:"center",overflow:"hidden",justifyContent:"space-between"},headerTitle:{overflow:"hidden"},icon:{paddingRight:"17px"}});RF.defaultProps={className:"",endAdornment:null};const PF=Se.memo(({connection:t,hostChainCount:e,currentChainIndex:n,isLogsSwitchVisible:o,isShowLogs:r,isConnectionError:i,onToggleShowLogs:s,onCopyLogs:a})=>{var _,I;const{host:l,protocol:c}=t,d=c==="ssh",p=c==="serial",{firstChain:h}=l,m=!!(d&&e&&!n),g=V(zt),C=m&&h&&g?h:l,v=c!=null?(_=C.getMergedConfigFor(c))==null?void 0:_.port:void 0,S=p?"Serial":On.label(C),y=`${Ame(t)} ${C.address}${v!=null?`:${v}`:""}`,b=p?(I=t.serialOptions)==null?void 0:I.path:y,w=p?"serialport":On.icon(C),x=f.useMemo(()=>i?u(Ze,{left:10,children:u(et,{onClick:a,children:"Copy logs"})}):!i&&o?u(Ze,{left:10,children:u(et,{onClick:s,children:r?"Hide logs":"Show logs"})}):null,[i,o,r,a,s]);return u(RF,{icon:w,title:d&&e&&g?L(Z,{display:"inline",color:"deprecatedSecondary",children:["Chain"," ",L(Z,{display:"inline",color:"primary",children:[n||1," "]}),"of"," ",u(Z,{display:"inline",color:"primary",children:e+1}),":"," ",u(Z,{display:"inline",color:"primary",children:u("span",{title:S,children:S})})]}):u(Z,{color:"primary",children:u("span",{title:S,children:S})}),subtitle:u(Z,{color:"deprecatedSecondary",fontSize:12,children:u("span",{title:b,children:b})}),endAdornment:x})}),Ame=t=>{switch(t.protocol){case"ssh":return"SSH";case"mosh":return"Mosh";case"telnet":return"Telnet";case"serial":return"Serial";default:return""}},Tme=(t,e)=>f.createElement("svg",{width:10,height:10,viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M8.45532 0.955322L7.01164 2.39901L6.64543 2.0328C6.17334 1.56071 5.35035 1.5603 4.87785 2.0328L4.37492 2.53573L4.04452 2.20532L3.45532 2.79452L7.20532 6.54452L7.79452 5.95532L7.46411 5.62492L7.96704 5.12199C8.45454 4.63449 8.45454 3.84191 7.96704 3.35441L7.60083 2.9882L9.04452 1.54452L8.45532 0.955322ZM2.79452 3.45532L2.20532 4.04452L2.53573 4.37492L2.0328 4.87785C1.5453 5.36535 1.5453 6.15793 2.0328 6.64543L2.39901 7.01164L0.955322 8.45532L1.54452 9.04452L2.9882 7.60083L3.35441 7.96704C3.59024 8.20287 3.90403 8.33325 4.2382 8.33325C4.57195 8.33325 4.88616 8.20329 5.12199 7.96704L5.62492 7.46411L5.95532 7.79452L6.54452 7.20532L2.79452 3.45532Z",fill:"white"})),Ime=f.forwardRef(Tme),Gv=f.memo(Ime),Eme=(t,e)=>f.createElement("svg",{width:10,height:2,viewBox:"0 0 10 2",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("circle",{cx:5,cy:1,r:1,fill:"white"}),f.createElement("circle",{cx:1,cy:1,r:1,fill:"white"}),f.createElement("circle",{cx:9,cy:1,r:1,fill:"white"})),kme=f.forwardRef(Eme),Rme=f.memo(kme),Pme=(t,e)=>f.createElement("svg",{width:9,height:11,viewBox:"0 0 9 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.81818 1.04234C2.62657 1.12526 2.40364 1.03831 2.31969 0.847197C2.23591 0.655831 2.32341 0.432759 2.51507 0.349141C3.04586 0.117502 3.61082 0 4.1939 0C6.50648 0 8.38771 1.87902 8.38771 4.18895C8.38771 4.39782 8.2182 4.56713 8.00915 4.56713C7.80011 4.56713 7.6306 4.39782 7.6306 4.18895C7.6306 2.29628 6.08887 0.756357 4.1939 0.756357C3.71542 0.756357 3.25269 0.852539 2.81818 1.04234ZM6.02226 1.91204C5.50635 1.49808 4.85711 1.27021 4.19386 1.27021C2.58267 1.27021 1.27181 2.57954 1.27181 4.1889V4.82403C1.27181 5.0329 1.44132 5.20221 1.65036 5.20221C1.8594 5.20221 2.02891 5.0329 2.02891 4.82403V4.1889C2.02891 2.99664 3.00012 2.02657 4.19386 2.02657C4.69259 2.02657 5.16045 2.19076 5.54799 2.50182C5.71165 2.63239 5.9493 2.60659 6.08026 2.44386C6.21114 2.28098 6.18514 2.04296 6.02226 1.91204ZM5.84422 4.18905C5.84422 3.2801 5.10387 2.54062 4.19392 2.54062C3.28396 2.54062 2.54361 3.2801 2.54361 4.18905V9.27008C2.54361 9.47906 2.71307 9.64826 2.92217 9.64826C3.13126 9.64826 3.30072 9.47906 3.30072 9.27008V4.18905C3.30072 3.69719 3.70141 3.29697 4.19392 3.29697C4.68643 3.29697 5.08712 3.69719 5.08712 4.18905C5.08712 4.39792 5.25663 4.56723 5.46567 4.56723C5.67471 4.56723 5.84422 4.39792 5.84422 4.18905ZM4.57253 4.189C4.57253 3.98014 4.40301 3.81083 4.19397 3.81083C3.98493 3.81083 3.81542 3.98014 3.81542 4.189V7.04708C3.81542 7.25595 3.98493 7.42526 4.19397 7.42526C4.40301 7.42526 4.57253 7.25595 4.57253 7.04708V4.189ZM4.19397 7.9391C4.40301 7.9391 4.57253 8.10841 4.57253 8.31728V9.9051C4.57253 10.1141 4.40306 10.2833 4.19397 10.2833C3.98488 10.2833 3.81542 10.1141 3.81542 9.9051V8.31728C3.81542 8.10841 3.98493 7.9391 4.19397 7.9391ZM5.84393 5.45921C5.84393 5.25035 5.67442 5.08103 5.46538 5.08103C5.25634 5.08103 5.08683 5.25035 5.08683 5.45921V9.26998C5.08683 9.47896 5.25629 9.64816 5.46538 9.64816C5.67447 9.64816 5.84393 9.47896 5.84393 9.26998V5.45921ZM1.65036 5.71614C1.8594 5.71614 2.02891 5.88545 2.02891 6.09432V8.31727C2.02891 8.52624 1.85945 8.69545 1.65036 8.69545C1.44127 8.69545 1.27181 8.52624 1.27181 8.31727V6.09432C1.27181 5.88545 1.44132 5.71614 1.65036 5.71614ZM8.38755 5.45921C8.38755 5.25035 8.21803 5.08103 8.00899 5.08103C7.79995 5.08103 7.63044 5.25035 7.63044 5.45921V7.04703C7.63044 7.2559 7.79995 7.42521 8.00899 7.42521C8.21803 7.42521 8.38755 7.2559 8.38755 7.04703V5.45921ZM6.41078 2.88643C6.60557 2.80842 6.82529 2.90162 6.90374 3.09524C7.0445 3.44279 7.11588 3.81089 7.11588 4.189V8.31734C7.11588 8.52631 6.94642 8.69551 6.73733 8.69551C6.52824 8.69551 6.35878 8.52631 6.35878 8.31734V4.189C6.35878 3.90855 6.30595 3.63606 6.20175 3.3789C6.12337 3.18521 6.21692 2.96488 6.41078 2.88643ZM0.757104 4.18897C0.757104 3.34296 1.06786 2.53028 1.63211 1.90073C1.77154 1.74501 1.75833 1.50587 1.60254 1.36665C1.4467 1.22725 1.20772 1.2406 1.06806 1.39615C0.379294 2.16484 0 3.1566 0 4.18897V7.04705C0 7.25592 0.169511 7.42523 0.378552 7.42523C0.587594 7.42523 0.757104 7.25592 0.757104 7.04705V4.18897Z",fill:"white"})),Lme=f.forwardRef(Pme),Mme=f.memo(Lme),Ome=(t,e)=>f.createElement("svg",{width:10,height:10,viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M4.52042 10H5.47958C5.81197 10 6.05888 9.80048 6.1396 9.47268L6.34853 8.55582L6.57645 8.47506L7.36942 8.96912C7.65432 9.15439 7.97246 9.11164 8.20988 8.87411L8.87464 8.20903C9.11681 7.9715 9.1548 7.65321 8.97436 7.36817L8.47578 6.57482L8.55651 6.35154L9.47293 6.14252C9.80057 6.06176 10 5.81473 10 5.48219V4.53682C10 4.20428 9.80057 3.95724 9.47293 3.87648L8.566 3.65796L8.47578 3.43468L8.97911 2.64133C9.15954 2.35629 9.12156 2.04276 8.87939 1.80048L8.21463 1.13064C7.97721 0.897862 7.66382 0.855107 7.37417 1.03563L6.5812 1.52969L6.34853 1.44418L6.1396 0.527316C6.05888 0.194774 5.81197 0 5.47958 0H4.52042C4.18329 0 3.94112 0.194774 3.8604 0.527316L3.65147 1.44418L3.41406 1.52969L2.62108 1.03563C2.33143 0.855107 2.01804 0.897862 1.78538 1.13064L1.11586 1.80048C0.878443 2.04276 0.835708 2.35629 1.02089 2.64133L1.51947 3.43468L1.42925 3.65796L0.527066 3.87648C0.194682 3.95724 0 4.20428 0 4.53682V5.48219C0 5.81473 0.19943 6.06176 0.527066 6.14252L1.43875 6.35154L1.51947 6.57482L1.02089 7.36817C0.840456 7.65321 0.878443 7.9715 1.12061 8.20903L1.78538 8.87411C2.02279 9.11164 2.34093 9.15439 2.62583 8.96912L3.4188 8.47506L3.65147 8.55582L3.8604 9.47268C3.94112 9.80048 4.18329 10 4.52042 10ZM4.58215 9.42518C4.46819 9.42518 4.40646 9.37292 4.38746 9.26841L4.11206 8.11401C3.8509 8.04276 3.60399 7.94299 3.40931 7.83373L2.40266 8.46081C2.31244 8.51781 2.22697 8.50831 2.1415 8.42755L1.56695 7.84798C1.48623 7.76722 1.47673 7.68646 1.53846 7.59145L2.16049 6.58432C2.07028 6.39905 1.95632 6.14727 1.88984 5.88599L0.731244 5.6152C0.626781 5.5962 0.569801 5.53444 0.569801 5.42043V4.59382C0.569801 4.47981 0.622032 4.41805 0.731244 4.3943L1.88509 4.12352C1.95632 3.85273 2.07502 3.5962 2.15575 3.42043L1.53371 2.41805C1.47198 2.31829 1.47673 2.23753 1.55745 2.15677L2.13675 1.58195C2.22222 1.50119 2.30294 1.49169 2.40266 1.54869L3.39981 2.16627C3.59449 2.06651 3.8604 1.962 4.11681 1.88599L4.38746 0.731591C4.40646 0.627078 4.46819 0.574822 4.58215 0.574822H5.41785C5.53181 0.574822 5.59354 0.622328 5.61254 0.731591L5.88794 1.89549C6.15385 1.962 6.39126 2.07126 6.59069 2.17102L7.59259 1.54869C7.69231 1.49169 7.77303 1.50119 7.8585 1.58195L8.4378 2.15677C8.51852 2.23753 8.52327 2.31829 8.46154 2.41805L7.83951 3.42043C7.92498 3.5962 8.04368 3.84798 8.11491 4.12352L9.26876 4.3943C9.37797 4.41805 9.42545 4.47981 9.42545 4.59382V5.42043C9.42545 5.53444 9.37322 5.5962 9.26876 5.6152L8.11016 5.88599C8.03894 6.15202 7.93447 6.39905 7.83476 6.58432L8.45679 7.59145C8.51852 7.68646 8.50902 7.76722 8.43305 7.84798L7.85375 8.42755C7.76828 8.50831 7.68281 8.51781 7.59259 8.46081L6.58595 7.83373C6.39601 7.94299 6.15385 8.04276 5.88794 8.11401L5.61254 9.26841C5.59354 9.37767 5.53181 9.42518 5.41785 9.42518H4.58215ZM5 6.8171C5.99715 6.8171 6.81387 5.99525 6.81387 4.99762C6.81387 4.0095 5.99715 3.1924 5 3.1924C4.0076 3.1924 3.18613 4.0095 3.18613 4.99762C3.18613 5.99525 4.0076 6.8171 5 6.8171ZM5 6.24703C4.32099 6.24703 3.75594 5.68171 3.75594 4.99762C3.75594 4.32304 4.32099 3.75772 5 3.75772C5.67426 3.75772 6.23932 4.32304 6.23932 4.99762C6.23932 5.67696 5.67426 6.24703 5 6.24703Z",fill:"white"})),Dme=f.forwardRef(Ome),Fme=f.memo(Dme),Nme=(t,e)=>f.createElement("svg",{width:13,height:6,viewBox:"0 0 13 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M12.8001 4.72748V1.40903C12.8001 1.37325 12.7939 1.33781 12.7818 1.30475C12.7697 1.27168 12.752 1.24164 12.7297 1.21634C12.7073 1.19103 12.6808 1.17096 12.6516 1.15726C12.6225 1.14357 12.5912 1.13652 12.5596 1.13652H10.2573V1.68155V4.45497V5H12.5596C12.6234 5 12.6846 4.97129 12.7297 4.92018C12.7748 4.86908 12.8001 4.79976 12.8001 4.72748Z",fill:"white"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.1048 1.09006V4.90994C10.1048 5.19703 10.0048 5.47254 9.82668 5.67663C9.64852 5.88072 9.40651 5.99692 9.15319 6L1.75161 6C1.4983 5.99692 1.25628 5.88072 1.07812 5.67663C0.899958 5.47254 0.800034 5.19703 0.800049 4.90994L0.800049 1.09006C0.800034 0.80297 0.899958 0.527464 1.07812 0.323371C1.25628 0.119277 1.4983 0.00307608 1.75161 0L9.15319 0C9.40651 0.00307608 9.64852 0.119277 9.82668 0.323371C10.0048 0.527464 10.1048 0.80297 10.1048 1.09006ZM8.44766 4.13402C8.67119 3.80931 8.79377 3.42579 8.80001 3.03164C8.80343 2.49724 8.59481 1.98328 8.21989 1.60245C7.84496 1.22161 7.33432 1.00496 6.7999 1C6.40568 1.00005 6.02026 1.11659 5.69206 1.33499C5.36387 1.55338 5.10754 1.86389 4.95527 2.2275C4.803 2.59112 4.76159 2.99162 4.83623 3.37869C4.91088 3.76576 5.09825 4.12215 5.37481 4.40307C5.65138 4.684 6.00479 4.87693 6.39067 4.95764C6.77654 5.03834 7.17767 5.00322 7.54364 4.85669C7.90962 4.71015 8.22413 4.45873 8.44766 4.13402ZM3.34262 2.15998C3.17585 2.05227 2.9808 1.99663 2.7823 2.00016C2.65212 2.00121 2.52342 2.02793 2.40357 2.07878C2.28372 2.12962 2.17508 2.2036 2.08385 2.29649C1.99262 2.38937 1.9206 2.49932 1.87191 2.62007C1.82322 2.74081 1.79882 2.86997 1.8001 3.00016C1.80013 3.19869 1.85925 3.39272 1.96994 3.55753C2.08062 3.72234 2.23786 3.85048 2.42162 3.92562C2.60538 4.00075 2.80734 4.01949 3.00179 3.97944C3.19623 3.9394 3.37436 3.84238 3.51347 3.70074C3.65259 3.5591 3.7464 3.37926 3.78295 3.18413C3.81951 2.98899 3.79715 2.78739 3.71873 2.605C3.64031 2.42261 3.50938 2.2677 3.34262 2.15998Z",fill:"white"})),Hme=f.forwardRef(Nme),fx=f.memo(Hme),Bme=(t,e)=>f.createElement("svg",{width:8,height:9,viewBox:"0 0 8 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 4.05263C5.105 4.05263 6 3.14586 6 2.02632C6 0.906776 5.105 0 4 0C2.895 0 2 0.906776 2 2.02632C2 3.14586 2.895 4.05263 4 4.05263Z",fill:"white"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 5.06592C2.665 5.06592 0 5.74473 0 7.09223V8.10539H8V7.09223C8 5.74473 5.335 5.06592 4 5.06592Z",fill:"white"})),zme=f.forwardRef(Bme),Vme=f.memo(zme),Wme=(t,e)=>f.createElement("svg",{width:10,height:10,viewBox:"0 0 14 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{className:"fill",fillRule:"evenodd",clipRule:"evenodd",d:"M12.1656 6.74553C12.1656 9.35714 10.3419 11.5411 7.90323 12.0837V13.1642L9.79752 15.0661L7.90323 16.9679L9.79752 18.8696L6.95608 21.7224L5.06179 19.8206V11.9553C2.86461 11.2512 1.27344 9.18494 1.27344 6.74553C1.27344 3.7258 3.71173 1.27783 6.71953 1.27783C9.72731 1.27783 12.1656 3.7258 12.1656 6.74553ZM8.3768 5.7947C8.3768 6.71375 7.63471 7.45879 6.7193 7.45879C5.80388 7.45879 5.06179 6.71375 5.06179 5.7947C5.06179 4.87566 5.80388 4.13062 6.7193 4.13062C7.63471 4.13062 8.3768 4.87566 8.3768 5.7947Z",fill:"white"})),jme=f.forwardRef(Wme),mx=f.memo(jme),Ume=(t,e)=>f.createElement("svg",{width:10,height:9,viewBox:"0 0 10 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M7.3875 0C7.3875 1.13281 6.91563 1.19687 6.2625 1.2875C5.74141 1.35937 5.11562 1.45 4.8875 2.23125H5.3125C5.48672 1.80312 5.85078 1.75156 6.3125 1.6875C6.96719 1.59687 7.7875 1.48125 7.7875 0H7.3875ZM0.8 2.63125C0.358594 2.63125 0 2.98984 0 3.43125V7.43125C0 7.87266 0.358594 8.23125 0.8 8.23125H9.2C9.64141 8.23125 10 7.87266 10 7.43125V3.43125C10 2.98984 9.64141 2.63125 9.2 2.63125H0.8ZM1 3.83125H1.8V4.63125H1V3.83125ZM2.2 3.83125H3V4.63125H2.2V3.83125ZM3.4 3.83125H4.2V4.63125H3.4V3.83125ZM4.6 3.83125H5.4V4.63125H4.6V3.83125ZM5.8 3.83125H6.6V4.63125H5.8V3.83125ZM7 3.83125H7.8V4.63125H7V3.83125ZM8.2 3.83125H9V4.63125H8.2V3.83125ZM1 5.03125H2.4V5.83125H1V5.03125ZM2.8 5.03125H3.6V5.83125H2.8V5.03125ZM4 5.03125H4.8V5.83125H4V5.03125ZM5.2 5.03125H6V5.83125H5.2V5.03125ZM6.4 5.03125H7.2V5.83125H6.4V5.03125ZM7.6 5.03125H9V5.83125H7.6V5.03125ZM1 6.23125H1.8V7.03125H1V6.23125ZM2.2 6.23125H3V7.03125H2.2V6.23125ZM3.4 6.23125H6.6V7.03125H3.4V6.23125ZM7 6.23125H7.8V7.03125H7V6.23125ZM8.2 6.23125H9V7.03125H8.2V6.23125Z",fill:"white"})),$me=f.forwardRef(Ume),qme=f.memo($me),Gme=(t,e)=>f.createElement("svg",{width:10,height:9,viewBox:"0 0 10 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M2.50769 1.328V2.312L3.41969 2.016L3.72369 2.896L2.80369 3.2L3.36369 3.976L2.61169 4.528L2.02769 3.744L1.45169 4.528L0.699688 3.976L1.25969 3.2L0.339688 2.896L0.635688 2.016L1.54769 2.312V1.328H2.50769ZM6.21081 1.328V2.312L7.12281 2.016L7.42681 2.896L6.50681 3.2L7.06681 3.976L6.31481 4.528L5.73081 3.744L5.15481 4.528L4.40281 3.976L4.96281 3.2L4.04281 2.896L4.33881 2.016L5.25081 2.312V1.328H6.21081ZM9.20994 8.296H8.20194V0.416H9.20994V8.296Z",fill:"white"})),Kme=f.forwardRef(Gme),u4=f.memo(Kme),Zme=(t,e)=>f.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:14,height:14,viewBox:"0 0 14 14",fill:"none",ref:e,...t},f.createElement("path",{fill:"currentColor",d:"M2.423 11.18a.167.167 0 0 0 .034.188l.051.052c.05.05.125.063.188.033l1.598-.746c.17-.079.1-.334-.085-.317l-.48.044a.167.167 0 0 1-.133-.048l-.106-.106a.167.167 0 0 1-.048-.133l.044-.48c.017-.185-.238-.254-.317-.085l-.746 1.598Z"}),f.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.857 1.768a.951.951 0 0 1 1.254 1.253l-1.798 4.106a4.529 4.529 0 0 1-1.771 2.04c-.325.2-.52.563-.528.944a3.57 3.57 0 0 1-2.202 3.223l-.364.15a.254.254 0 0 1-.35-.227L5.01 9.572c-.002-.098-.063-.181-.138-.243a2.26 2.26 0 0 1-.356-.364c-.086-.111-.201-.207-.342-.207l-3.55.013a.249.249 0 0 1-.23-.344l.12-.287a3.603 3.603 0 0 1 3.228-2.221c.382-.01.746-.211.944-.539a4.53 4.53 0 0 1 2.065-1.814l4.106-1.798ZM6.835 6.995A1.333 1.333 0 1 0 8.721 5.11a1.333 1.333 0 0 0-1.886 1.885Z",clipRule:"evenodd"})),Qme=f.forwardRef(Zme),Yme=f.memo(Qme),Xme=(t,e)=>f.createElement("svg",{width:9,height:6,viewBox:"0 0 9 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M3.68969 2.176L0.177688 0.392V1.512L2.48169 2.624L0.177688 3.728V4.824L3.68969 3.04V2.176ZM8.06475 5.992V5H3.98475V5.992H8.06475Z",fill:"white"})),Jme=f.forwardRef(Xme),e0e=f.memo(Jme),t0e=new Map([["connection",u(Gv,{})],["protocol",u(Gv,{})],["identity",u(Vme,{})],["fingerprint",u(Mme,{})],["serialOptions",u(Fme,{})],["requestPassphrase",u(u4,{})],["requestPIN",u(u4,{})],["authInteractive",u(u4,{})],["chooseKey",u(mx,{})],["requestSignature",u(mx,{})],["requestSKPresence",u(fx,{})],["discoverableKeys",u(fx,{})],["keyboardInteractive",u(qme,{})],["setupShellIntegration",u(Yme,{})],["unavailableProFeatures",u(Vh,{})],["terminal",u(e0e,{})],["collapsed",u(Rme,{})]]);function n0e(t){return t0e.get(t)??u(Gv,{})}const o0e=(t,e)=>f.createElement("svg",{width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M16 29C23.1797 29 29 23.1797 29 16C29 8.8203 23.1797 3 16 3C8.8203 3 3 8.8203 3 16",stroke:"currentColor",strokeWidth:5})),r0e=f.forwardRef(o0e),i0e=f.memo(r0e),gx=t=>{const{className:e,step:n,isTabActive:o}=t,{name:r,status:i,icon:s,animation:a}=n,{classes:l,cx:c}=a0e(),[d,p]=f.useState(!1),[h,m]=f.useState(0),[g,C]=f.useState(0),v=f.useCallback(y=>{y.animationName.includes(Kv.name)&&m(h+1),y.animationName.includes(Zv.name)&&C(g+1)},[m,h,C,g]),S=f.useMemo(()=>d?"none":a==="show"&&h!==0?"active":a==="hide"&&g!==0||a==="finish"&&g>1?"none":a,[d,a,h,g]);return f.useEffect(()=>{i==="error"&&!o&&p(!0),o&&i!=="error"&&d&&p(!1)},[d,o,i]),L("span",{title:r,className:c(l.root,l[i],e),children:[u("span",{className:l.stepIcon,children:n0e(s)}),u(i0e,{onAnimationEnd:v,className:c(l.stepProgress,l[S])})]})},s0e=jr`
  0% {
    transform: rotate(0deg);
    transform-origin: center center;
  }
  100% {
    transform: rotate(360deg);
    transform-origin: center center;
  }
`,Kv=br`
  0% {
    transform: scale(0.5);
    opacity: 0;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
`,Zv=br`
  0% {
    opacity: 1;
  }
  99% {
    opacity: 0;
    width: auto;
    height: auto;
  }
  100% {
    opacity: 0;
    width: 0;
    height: 0;
    overflow: hidden;
  }
`,a0e=K()({root:{"--base-size":"24px",color:"white",width:"var(--base-size)",height:"var(--base-size)",display:"flex",justifyContent:"center",alignItems:"center"},stepIcon:{width:"var(--base-size)",height:"var(--base-size)",borderRadius:"var(--base-size)",display:"flex",position:"relative",justifyContent:"center",alignItems:"center",transition:"background 0.3s",background:"currentColor","& > svg":{width:"58.3333333%",height:"58.3333333%",color:"white"}},disabled:{color:"var(--dark-grey-6)"},progress:{color:"var(--c-blue)"},error:{color:"var(--c-red)"},success:{color:"var(--accent)"},warning:{color:"var(--orange)"},stepProgress:{position:"absolute",width:"calc(var(--base-size) * 16 / 9)",height:"calc(var(--base-size) * 16 / 9)","& path":{animation:`${s0e} 1s infinite linear`}},showAnimation:{animation:`${Kv} 0.7s`},show:{animation:`${Kv} 0.7s`},hide:{animation:`${Zv} 0.5s 0.7s`,animationFillMode:"forwards","& path":{animationDuration:"0.3s"}},none:{animation:"none","& path":{display:"none",animation:"none"}},active:{},finish:{animation:`${Zv} 0.5s 0.5s`,animationFillMode:"forwards","& path":{animationDuration:"0.3s"}}}),vx={name:"collapsed",status:"progress",icon:"collapsed",isActive:!1,animation:"none"},LF=t=>{const{className:e="",steps:n,isSuccess:o=!1,isError:r=!1,visibleStepsLimit:i=8,isTabActive:s}=t,[a,l]=f.useState(0),[c,d]=f.useState(0),[p,h]=f.useState(0);f.useEffect(()=>{n.length===2&&c!==0&&(d(0),h(0))},[d,h,n.length,c]);const m=f.useMemo(()=>{const T=n.filter(A=>A.status==="progress"||A.status==="error"||A.status==="warning").length;return Math.min(T,i-1)},[n,i]),g=Math.min(n.length,i),C=f.useMemo(()=>o||r?100:g>1?(m-1)/(g-1)*100:0,[r,o,m,g]);f.useEffect(()=>{l(C)},[C]);const v=f.useCallback(T=>r?"error":T.status==="warning"?"warning":o?"success":T.status,[r,o]),{classes:S}=l0e(),y=f.useCallback(T=>{T.animationName.includes(MF.name)&&d(c+1),T.animationName.includes(OF.name)&&h(p+1)},[d,c,h,p]),b=f.useCallback(T=>T!==c&&T===n.length-2,[c,n.length]),w=f.useCallback(T=>T>p&&n.length-T>=i,[p,n.length,i]),x=f.useCallback(T=>T<=p&&n.length-T>=i,[p,n.length,i]),_=f.useCallback(T=>n.length-T>=i+1,[n.length,i]),I=f.useCallback((T,A)=>L(f.Fragment,{children:[A!==0&&u("div",{onAnimationEnd:y,className:ce(S.betweenStepsFiller,{[S.addStepAnimation]:b(A),[S.hideStepAnimation]:w(A),[S.hiddenBetweenStepsFiller]:x(A)})}),u(gx,{isTabActive:s,className:ce({[S.hiddenStepItem]:_(A)}),step:{...T,status:v(T)}})]},`${T.name}${A.toString()}`),[y,S,b,w,x,s,_,v]);return L("div",{className:ce(e,S.root),children:[L("div",{className:S.steps,children:[n.map(I),n.length>g&&u(gx,{isTabActive:s,className:S.collapsedStepItem,step:{...vx,status:v(vx)}})]}),u(ck,{classes:{root:S.progressLine,bar:ce(S.activeBar,{[S.success]:o,[S.error]:r})},variant:"determinate",value:a})]})},MF=br`
  0% {
    flex: 0 0;
  }
  100% {
    flex: 1 1;
  }
`,OF=br`
  from {
    flex: 1 1;
  }
  to {
    flex: 0 0;
  }
`,l0e=K()({root:{position:"relative",display:"flex",alignItems:"center"},steps:{display:"flex",alignItems:"center",zIndex:2,width:"100%"},hiddenStepItem:{display:"none"},betweenStepsFiller:{flex:"1 1",height:4,animationDuration:"700ms",animationFillMode:"forwards"},hiddenBetweenStepsFiller:{flex:"0 0"},addStepAnimation:{animationName:MF},hideStepAnimation:{animationName:OF},collapsedStepItem:{position:"absolute",zIndex:1},progressLine:{background:"var(--dark-grey-6)",height:"4px",zIndex:1,position:"absolute",left:"0",right:"0"},activeBar:{transition:"background 0.3s, transform .4s linear",background:"var(--c-blue)"},error:{background:"var(--c-red)"},success:{background:"var(--accent)"}}),DF=t=>{const{className:e,logs:n,isShadowed:o}=t,{classes:r}=c0e(),[i,s]=f.useState(!1),a=f.useRef(null),l=f.useContext(P1),c=f.useCallback(()=>{const{current:d}=a;if(d&&d.scrollHeight>d.clientHeight){if(i)return;s(!0),d.scroll({top:d.scrollHeight,behavior:"auto"})}else i&&s(!1)},[i]);return f.useEffect(()=>(c(),window.addEventListener("resize",c),()=>{window.removeEventListener("resize",c)}),[n,c]),u("div",{className:ce(e,r.root),children:u("div",{ref:a,className:ce(r.content,{[r.shadowedContent]:o&&i,[r.compact]:l}),children:n.map((d,p)=>u(Ze,{bottom:6,children:u(Z,{className:r.logItem,color:"primary",fontSize:16,wordBreak:"break-word",children:d})},String(d+p)))})})},c0e=K()({root:{position:"relative"},logItem:{userSelect:"text"},content:{height:"100%",width:"100%",background:"var(--cf-logs-background)",borderRadius:"6px",padding:"35px 40px",overflowY:"auto",overflowX:"hidden","&::-webkit-scrollbar-thumb":{backgroundColor:"var(--dark-grey-6)",visibility:"hidden"},"&:hover::-webkit-scrollbar-thumb":{visibility:"visible"},"@media (max-width: 740px)":{padding:"20px"},"@media (mix-height: 720px)":{maxHeight:"300px"},userSelect:"text"},compact:{padding:"20px"},shadowedContent:{"@media (max-width: 740px)":{paddingBottom:"40px"},userSelect:"text",maskImage:"var(--cf-list-shadow-mask)"}});DF.defaultProps={className:""};const FF=Se.memo(({onEditSftpHost:t,isConnectionError:e,isHostEditable:n,connectionLogs:o,onClose:r,onStartOver:i,onToggleEditHost:s,...a})=>{const{classes:l}=u0e(),c=tt(),d=V(zt),p=()=>{Pt(c,{dialog:"ProFeatures",target:ge(),props:{purchaseOpen:!0,from:"Feature List"}}).catch(He)},h=t||n&&e,m=()=>{if(t){t();return}s()};return L("div",{...a,className:ce(a.className,l.logsContainer),children:[e&&u(Ze,{bottom:10,children:u(Z,{className:l.logsTitle,color:"error",bold:!0,align:"center",children:"Connection failed with connection log:"})}),u(DF,{className:l.logsContent,logs:o,isShadowed:!0}),!d&&e&&L("div",{className:l.disabledFeaturesContent,children:[u(Z,{color:"primary",fontSize:16,children:"âš ï¸ Tunneling and Certificates are disabled."}),L(Z,{color:"primary",fontSize:16,children:[L(F2,{color:"var(--accent)",className:l.upgradeButton,onClick:p,children:[u(Vh,{}),u("strong",{children:"Upgrade to Termius Pro"})]})," ","to enable all pro features."]})]}),L(Fn,{children:[L(In,{children:[u(et,{onClick:r,children:"Close"}),h&&u(et,{onClick:m,children:"Edit host"})]}),u(et,{onClick:i,color:"accent",children:"Start over"})]})]})}),d0e=jr`
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
`,u0e=K()({logsContainer:{opacity:"0",animation:`${d0e} 0.3s`,animationFillMode:"forwards",overflow:"hidden",height:"100%",display:"flex",flexDirection:"column"},logsContent:{margin:"10px 0 15px",overflow:"hidden"},logsTitle:{fontSize:"16px"},disabledFeaturesContent:{padding:"35px 40px",borderRadius:"10px",background:"var(--cf-logs-background)","& > div:not(:last-child)":{marginBottom:"6px"},"@media (max-width: 740px)":{padding:"20px"}},upgradeButton:{display:"inline",textDecoration:"underline","& svg":{marginRight:"5px",width:"12px",height:"12px"}}});var v9={},p0e=Cr;Object.defineProperty(v9,"__esModule",{value:!0});var C9=v9.default=void 0,h0e=p0e(vr()),f0e=yr,m0e=(0,h0e.default)((0,f0e.jsx)("path",{d:"M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-9 3h2v2h-2V8zm0 3h2v2h-2v-2zM8 8h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm9 7H8v-2h8v2zm0-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z"}),"Keyboard");C9=v9.default=m0e;const g0e=(t,e)=>f.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("g",{id:"Action icons/Paper plane",clipPath:"url(#clip0_5075_138)"},f.createElement("path",{id:"Vector",d:"M11.7148 20C12.4279 20 12.926 19.4074 13.2693 18.4986L19.389 2.20674C19.551 1.78572 19.6388 1.40685 19.6388 1.09071C19.6388 0.418744 19.226 0 18.5662 0C18.2541 0 17.8821 0.0893762 17.4704 0.252643L1.40564 6.51819C0.604668 6.82734 0 7.33471 0 8.06866C0 8.97024 0.661071 9.30394 1.57169 9.58645L6.38251 11.0815C7.02966 11.2875 7.40872 11.2737 7.86106 10.8516L18.1848 1.10242C18.3137 0.982239 18.4679 0.999441 18.5656 1.09298C18.6618 1.19256 18.6744 1.34959 18.5547 1.48092L9.01454 12.0161C8.61601 12.4494 8.58317 12.8506 8.77446 13.5176L10.2077 18.3261C10.4927 19.2923 10.8221 20 11.7148 20Z",fill:"currentColor"})),f.createElement("defs",null,f.createElement("clipPath",{id:"clip0_5075_138"},f.createElement("rect",{width:20,height:20,fill:"white"})))),v0e=f.forwardRef(g0e);f.memo(v0e);const C0e=(t,e)=>f.createElement("svg",{width:14,height:16,viewBox:"0 0 14 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M7 7.92383C8.77637 7.92383 10.3203 6.33008 10.3203 4.25488C10.3203 2.20459 8.77637 0.685547 7 0.685547C5.22363 0.685547 3.67969 2.23779 3.67969 4.27148C3.67969 6.33008 5.21533 7.92383 7 7.92383ZM1.77881 15.6104L12.2046 15.6104C13.5161 15.6104 13.981 15.2368 13.981 14.5063C13.981 12.3647 11.2998 9.40967 6.9917 9.40967C2.69189 9.40967 0.0107423 12.3647 0.0107423 14.5063C0.0107423 15.2368 0.475586 15.6104 1.77881 15.6104Z",fill:"currentColor"})),y0e=f.forwardRef(C0e);f.memo(y0e);const S0e=(t,e)=>f.createElement("svg",{width:43,height:43,viewBox:"0 0 43 43",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("rect",{x:.75,y:.75,width:41.5,height:41.5,rx:20.75,stroke:"white",strokeWidth:1.5,strokeDasharray:"8 8"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.5 0H8V8H0V9.5H8V17.5H9.5V9.5H17.5V8H9.5V0Z",fill:"white",transform:"translate(13px, 13px)"})),b0e=f.forwardRef(S0e);f.memo(b0e);const w0e=(t,e)=>f.createElement("svg",{width:6,height:8,viewBox:"0 0 6 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M0 5L6 8V6L2 4L6 2V0L0 3V5Z",fill:"white"})),_0e=f.forwardRef(w0e);f.memo(_0e);const x0e=(t,e)=>f.createElement("svg",{width:6,height:8,viewBox:"0 0 6 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M6 5L0 8V6L4 4L0 2V0L6 3V5Z",fill:"white"})),A0e=f.forwardRef(x0e);f.memo(A0e);const T0e=(t,e)=>f.createElement("svg",{width:16,height:16,viewBox:"0 0 1211 1211",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("circle",{cx:605.5,cy:605.5,r:605.5,fill:"url(#paint0_radial)"}),f.createElement("defs",null,f.createElement("radialGradient",{id:"paint0_radial",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(604.372 323.61) rotate(90) scale(566.035)"},f.createElement("stop",{stopColor:"#5A5E73"}),f.createElement("stop",{offset:1,stopColor:"#5A5E73",stopOpacity:0})))),I0e=f.forwardRef(T0e);f.memo(I0e);const E0e=(t,e)=>f.createElement("svg",{width:48,height:27,viewBox:"0 0 48 27",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{className:"stroke",className:"stroke",d:"M5.14648 2C5.14648 1.17157 5.81806 0.5 6.64648 0.5H41.6465C42.4749 0.5 43.1465 1.17157 43.1465 2V25H5.14648V2Z",stroke:"#5A5E73"}),f.createElement("mask",{id:"path-2-inside-1",fill:"white"},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.073223 26.4268C-0.0842682 26.2693 0.0272737 26 0.25 26H21.3964C21.5345 26 21.6464 26.1119 21.6464 26.25C21.6464 26.3881 21.7584 26.5 21.8964 26.5H26.3964C26.5345 26.5 26.6464 26.3881 26.6464 26.25C26.6464 26.1119 26.7584 26 26.8964 26H47.0429C47.2656 26 47.3772 26.2693 47.2197 26.4268L46.9393 26.7071C46.7518 26.8946 46.4974 27 46.2322 27H1.06066C0.795444 27 0.54109 26.8946 0.353553 26.7071L0.073223 26.4268Z"})),f.createElement("path",{className:"fill",className:"fill",fillRule:"evenodd",clipRule:"evenodd",d:"M0.073223 26.4268C-0.0842682 26.2693 0.0272737 26 0.25 26H21.3964C21.5345 26 21.6464 26.1119 21.6464 26.25C21.6464 26.3881 21.7584 26.5 21.8964 26.5H26.3964C26.5345 26.5 26.6464 26.3881 26.6464 26.25C26.6464 26.1119 26.7584 26 26.8964 26H47.0429C47.2656 26 47.3772 26.2693 47.2197 26.4268L46.9393 26.7071C46.7518 26.8946 46.4974 27 46.2322 27H1.06066C0.795444 27 0.54109 26.8946 0.353553 26.7071L0.073223 26.4268Z",fill:"#D8D8D8"}),f.createElement("path",{d:"M46.9393 26.7071L46.2322 26L46.9393 26.7071ZM47.2197 26.4268L46.5126 25.7197L47.2197 26.4268ZM0.25 27H21.3964V25H0.25V27ZM21.8964 27.5H26.3964V25.5H21.8964V27.5ZM26.8964 27H47.0429V25H26.8964V27ZM46.5126 25.7197L46.2322 26L47.6464 27.4142L47.9268 27.1339L46.5126 25.7197ZM46.2322 26H1.06066V28H46.2322V26ZM1.06066 26L0.78033 25.7197L-0.633884 27.1339L-0.353553 27.4142L1.06066 26ZM1.06066 26L1.06066 26L-0.353553 27.4142C0.0215196 27.7893 0.530228 28 1.06066 28V26ZM46.2322 26V26V28C46.7627 28 47.2714 27.7893 47.6464 27.4142L46.2322 26ZM47.0429 27C46.3747 27 46.0401 26.1921 46.5126 25.7197L47.9268 27.1339C48.7142 26.3464 48.1565 25 47.0429 25V27ZM27.6464 26.25C27.6464 26.6642 27.3107 27 26.8964 27V25C26.2061 25 25.6464 25.5596 25.6464 26.25H27.6464ZM26.3964 27.5C27.0868 27.5 27.6464 26.9404 27.6464 26.25H25.6464C25.6464 25.8358 25.9822 25.5 26.3964 25.5V27.5ZM20.6464 26.25C20.6464 26.9404 21.2061 27.5 21.8964 27.5V25.5C22.3107 25.5 22.6464 25.8358 22.6464 26.25H20.6464ZM21.3964 27C20.9822 27 20.6464 26.6642 20.6464 26.25H22.6464C22.6464 25.5596 22.0868 25 21.3964 25V27ZM0.25 25C-0.863628 25 -1.42134 26.3464 -0.633884 27.1339L0.78033 25.7197C1.25281 26.1921 0.918176 27 0.25 27V25Z",fill:"#5A5E73",mask:"url(#path-2-inside-1)"})),k0e=f.forwardRef(E0e);f.memo(k0e);const R0e=(t,e)=>f.createElement("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M1 10.5631C1 10.2031 1.12062 9.8664 1.36187 9.55311C1.60743 9.23981 1.87022 8.94055 2.15024 8.65531C2.29672 8.501 2.41088 8.30461 2.49273 8.06613C2.57458 7.82766 2.63489 7.55878 2.67367 7.25952C2.71675 6.96025 2.75337 6.64462 2.78352 6.31263C2.81368 5.49432 2.91492 4.76486 3.08724 4.12425C3.25956 3.48363 3.51589 2.94823 3.85622 2.51804C4.19655 2.08317 4.62951 1.76052 5.15509 1.5501C5.28002 1.10588 5.50404 0.736473 5.82714 0.441884C6.15455 0.147295 6.54658 0 7.00323 0C7.45988 0 7.84976 0.147295 8.17286 0.441884C8.50027 0.736473 8.72429 1.10588 8.84491 1.5501C9.3748 1.76052 9.80775 2.08317 10.1438 2.51804C10.4841 2.94823 10.7404 3.48363 10.9128 4.12425C11.0851 4.76486 11.1885 5.49432 11.2229 6.31263C11.2488 6.64462 11.2833 6.96025 11.3263 7.25952C11.3694 7.55878 11.4319 7.82766 11.5137 8.06613C11.5956 8.30461 11.7097 8.501 11.8562 8.65531C12.1362 8.94055 12.3969 9.23981 12.6381 9.55311C12.8794 9.8664 13 10.2031 13 10.5631C13 10.8577 12.9052 11.0962 12.7157 11.2786C12.5304 11.4609 12.2719 11.5521 11.9402 11.5521H9.45234C9.43511 11.9776 9.32095 12.3751 9.10985 12.7445C8.90307 13.1186 8.61874 13.4202 8.25687 13.6493C7.8993 13.8831 7.48142 14 7.00323 14C6.52504 14 6.10501 13.8831 5.74313 13.6493C5.38126 13.4202 5.09478 13.1186 4.88368 12.7445C4.6769 12.3751 4.56489 11.9776 4.54766 11.5521H2.06624C1.73452 11.5521 1.47388 11.4609 1.28433 11.2786C1.09478 11.0962 1 10.8577 1 10.5631ZM2.57674 10.2405H11.4039V10.1703C11.3436 10.1049 11.2703 10.0277 11.1842 9.93888C11.098 9.84536 11.0032 9.74249 10.8998 9.63026C10.7964 9.51336 10.6974 9.39412 10.6026 9.27254C10.4992 9.14162 10.4087 8.98263 10.3312 8.79559C10.2579 8.60855 10.1933 8.39813 10.1373 8.16433C10.0856 7.92585 10.0404 7.66867 10.0016 7.39279C9.96715 7.11222 9.94346 6.81764 9.93053 6.50902C9.90468 5.64395 9.80991 4.9519 9.6462 4.43287C9.4825 3.91383 9.27141 3.52572 9.01292 3.26854C8.75444 3.00668 8.46365 2.82899 8.14055 2.73547C8.07162 2.71677 8.01562 2.68637 7.97254 2.64429C7.93376 2.59753 7.91007 2.52739 7.90145 2.43387C7.87991 2.09719 7.78944 1.82832 7.63005 1.62725C7.47496 1.42619 7.26602 1.32565 7.00323 1.32565C6.74044 1.32565 6.52935 1.42619 6.36995 1.62725C6.21055 1.82832 6.12224 2.09719 6.10501 2.43387C6.09639 2.52739 6.07054 2.59753 6.02746 2.64429C5.98869 2.68637 5.93269 2.71677 5.85945 2.73547C5.53635 2.82899 5.24556 3.00668 4.98708 3.26854C4.72859 3.52572 4.5175 3.91383 4.3538 4.43287C4.19009 4.9519 4.09531 5.64395 4.06947 6.50902C4.05654 6.81764 4.03285 7.11222 3.99838 7.39279C3.96392 7.66867 3.91869 7.92585 3.86268 8.16433C3.81099 8.39813 3.74636 8.60855 3.66882 8.79559C3.59558 8.98263 3.50512 9.14162 3.39742 9.27254C3.30264 9.39412 3.2014 9.51336 3.0937 9.63026C2.99031 9.74249 2.89338 9.84536 2.80291 9.93888C2.71675 10.0277 2.64136 10.1049 2.57674 10.1703V10.2405ZM5.79483 11.5521C5.81637 11.9542 5.937 12.2745 6.1567 12.513C6.38072 12.7562 6.6629 12.8778 7.00323 12.8778C7.34356 12.8778 7.62359 12.7562 7.8433 12.513C8.06731 12.2745 8.19009 11.9542 8.21163 11.5521H5.79483Z",fill:"currentColor"})),P0e=f.forwardRef(R0e),L0e=f.memo(P0e),M0e=(t,e)=>f.createElement("svg",{width:20,height:16,viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M17.147 0.92627L2.85303 0.92627C1.11816 0.92627 0.246582 1.78955 0.246582 3.49951L0.246582 4.27148L19.7534 4.27148L19.7534 3.49951C19.7534 1.78955 18.8901 0.92627 17.147 0.92627ZM3.6416 12.5308C3.15186 12.5308 2.82813 12.1987 2.82813 11.7339L2.82813 10.1982C2.82813 9.7251 3.15186 9.40137 3.6416 9.40137L5.67529 9.40137C6.16504 9.40137 6.48877 9.7251 6.48877 10.1982L6.48877 11.7339C6.48877 12.1987 6.16504 12.5308 5.67529 12.5308L3.6416 12.5308ZM2.85303 15.104L17.147 15.104C18.8901 15.104 19.7534 14.249 19.7534 12.5391L19.7534 6.15576L0.246582 6.15576L0.246582 12.5391C0.246582 14.249 1.11816 15.104 2.85303 15.104Z",fill:"currentColor"})),O0e=f.forwardRef(M0e);f.memo(O0e);const D0e=(t,e)=>f.createElement("svg",{width:10,height:10,viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M8.20513 0C7.78026 0 7.4359 0.33575 7.4359 0.75H6.28205C5.36617 0.75 4.61539 1.48202 4.61539 2.375V4.625H2.58013C2.57478 4.62505 2.56944 4.62522 2.5641 4.62549V4.5C2.5641 4.08575 2.21974 3.75 1.79487 3.75H0.769231C0.344359 3.75 0 4.08575 0 4.5V5.5C0 5.91425 0.344359 6.25 0.769231 6.25H1.79487C2.21974 6.25 2.5641 5.91425 2.5641 5.5V5.37451C2.56944 5.37478 2.57478 5.37495 2.58013 5.375H4.61539V7.625C4.61539 8.51798 5.36617 9.25 6.28205 9.25H7.4359C7.4359 9.66425 7.78026 10 8.20513 10H9.23077C9.65564 10 10 9.66425 10 9.25V8.25C10 7.83575 9.65564 7.5 9.23077 7.5H8.20513C7.78026 7.5 7.4359 7.83575 7.4359 8.25V8.5H6.28205C5.78204 8.5 5.38462 8.11252 5.38462 7.625V5.375H7.4359V5.5C7.4359 5.91425 7.78026 6.25 8.20513 6.25H9.23077C9.65564 6.25 10 5.91425 10 5.5V4.5C10 4.08575 9.65564 3.75 9.23077 3.75H8.20513C7.78026 3.75 7.4359 4.08575 7.4359 4.5V4.625H5.38462V2.375C5.38462 1.88748 5.78204 1.5 6.28205 1.5H7.4359V1.75C7.4359 2.16425 7.78026 2.5 8.20513 2.5H9.23077C9.65564 2.5 10 2.16425 10 1.75V0.75C10 0.33575 9.65564 0 9.23077 0H8.20513Z",fill:"currentColor"})),F0e=f.forwardRef(D0e),N0e=f.memo(F0e),H0e=(t,e)=>f.createElement("svg",{width:16,height:15,viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("circle",{cx:8,cy:7.5,r:7.5,fill:"white"}),f.createElement("path",{d:"M10.9072 4.80369L10.7305 4.62692L10.5537 4.80369L6.875 8.48238L5.44631 7.05369L5.26953 6.87692L5.09275 7.05369L4.55369 7.59275L4.37692 7.76953L4.55369 7.94631L6.42869 9.82131L6.42865 9.82135L6.43266 9.82519L6.70219 10.083L6.875 10.2483L7.04781 10.083L7.31734 9.82519L7.31738 9.82524L7.32131 9.82131L11.4463 5.69631L11.6231 5.51953L11.4463 5.34275L10.9072 4.80369Z",fill:"#2091F6",stroke:"#2091F6",strokeWidth:.5})),B0e=f.forwardRef(H0e);f.memo(B0e);const z0e=(t,e)=>f.createElement("svg",{width:16,height:15,viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("circle",{cx:8,cy:7.5,r:6.5,stroke:"#186CB5",strokeWidth:2})),V0e=f.forwardRef(z0e);f.memo(V0e);const W0e=(t,e)=>f.createElement("svg",{width:16,height:15,viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("circle",{cx:8,cy:7.5,r:6.5,stroke:"currentColor",strokeWidth:2,strokeDasharray:3})),j0e=f.forwardRef(W0e);f.memo(j0e);const U0e=(t,e)=>f.createElement("svg",{width:24,height:20,viewBox:"0 0 24 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.611 4.28572C12.611 6.65266 10.6922 8.57144 8.32524 8.57144C5.9583 8.57144 4.03952 6.65266 4.03952 4.28572C4.03952 1.91878 5.9583 0 8.32524 0C10.6922 0 12.611 1.91878 12.611 4.28572ZM16.4892 15.7754C14.6777 18.3316 11.696 20 8.32457 20C4.97831 20 2.01593 18.3564 0.200684 15.8325C1.34342 12.4419 4.54913 10.0002 8.32511 10.0002C10.0747 10.0002 11.7019 10.5244 13.0582 11.4243C14.0273 9.53764 15.9928 8.24687 18.2598 8.24687C20.8345 8.24687 23.0203 9.91176 23.7993 12.2237C22.5616 13.9444 20.5419 15.065 18.2604 15.065C17.7717 15.065 17.2949 15.0136 16.8353 14.9159C16.7835 15.1338 16.6741 15.4139 16.4892 15.7754ZM21.1823 4.35071C21.1823 5.96453 19.874 7.27279 18.2602 7.27279C16.6464 7.27279 15.3381 5.96453 15.3381 4.35071C15.3381 2.73688 16.6464 1.42862 18.2602 1.42862C19.874 1.42862 21.1823 2.73688 21.1823 4.35071Z",fill:"currentColor"})),$0e=f.forwardRef(U0e);f.memo($0e);const q0e=(t,e)=>f.createElement("svg",{width:8,height:8,viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M2.169 4.555h1.827a.344.344 0 0 0 .254-.1.34.34 0 0 0 .104-.25V1.807c0-.1-.035-.183-.104-.25a.344.344 0 0 0-.254-.1.347.347 0 0 0-.25.1.339.339 0 0 0-.1.25V3.85H2.169a.337.337 0 0 0-.254.105.339.339 0 0 0-.1.25.344.344 0 0 0 .354.35ZM4 8c.55 0 1.066-.105 1.55-.314A4.026 4.026 0 0 0 7.685 5.55C7.896 5.066 8 4.55 8 4c0-.547-.105-1.062-.314-1.545a4.083 4.083 0 0 0-2.14-2.14c-.484-.21-1-.315-1.55-.315-.545 0-1.058.105-1.541.314A4.082 4.082 0 0 0 .31 2.454C.103 2.939 0 3.454 0 4c0 .55.105 1.066.314 1.55a4.083 4.083 0 0 0 2.14 2.136C2.939 7.896 3.454 8 4 8Zm0-.95a3.027 3.027 0 0 1-2.157-.89 3.083 3.083 0 0 1-.656-.969A3.043 3.043 0 0 1 .954 4a3.003 3.003 0 0 1 .89-2.157 3.027 3.027 0 0 1 2.152-.89c.427 0 .824.08 1.191.238a3.015 3.015 0 0 1 1.626 1.626c.158.367.237.762.237 1.183a3.027 3.027 0 0 1-1.863 2.813A2.969 2.969 0 0 1 4 7.05Z",fill:"currentColor"})),G0e=f.forwardRef(q0e),NF=f.memo(G0e),K0e=(t,e)=>f.createElement("svg",{width:30,height:30,viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("rect",{className:"fill",x:8.63623,y:7.2218,width:20,height:3,transform:"rotate(45 8.63623 7.2218)",fill:"#fff"}),f.createElement("rect",{className:"fill",x:21.3638,y:7.2218,width:3,height:20,transform:"rotate(45 21.3638 7.2218)",fill:"#fff"})),Z0e=f.forwardRef(K0e),Q0e=f.memo(Z0e),Y0e=(t,e)=>f.createElement("svg",{width:6,height:6,viewBox:"0 0 6 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("rect",{x:.706055,width:7.48701,height:.998269,rx:.499134,transform:"rotate(45 0.706055 0)",fill:"#F7F9FA"}),f.createElement("rect",{x:5.29395,width:.998268,height:7.48701,rx:.499134,transform:"rotate(45 5.29395 0)",fill:"#F7F9FA"})),X0e=f.forwardRef(Y0e);f.memo(X0e);const J0e=(t,e)=>f.createElement("svg",{width:"8px",height:"8px",viewBox:"0 0 8 8",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:e,...t},f.createElement("title",null,"close_blue"),f.createElement("desc",null,"Created with Sketch."),f.createElement("defs",null),f.createElement("g",{id:"new_connection",stroke:"none",strokeWidth:1,fillRule:"evenodd"},f.createElement("g",{id:"Port-Forwarding-Close",transform:"translate(-948.000000, -102.000000)"},f.createElement("g",{id:"Group",transform:"translate(269.000000, 40.000000)"},f.createElement("polygon",{id:"close_blue",transform:"translate(682.848581, 65.848581) rotate(-315.000000) translate(-682.848581, -65.848581) ",points:"686.985656 66.4391616 683.439591 66.4391616 683.439591 69.9826476 682.25757 69.9826476 682.25757 66.4391616 678.711506 66.4391616 678.711506 65.2579996 682.25757 65.2579996 682.25757 61.7145136 683.439591 61.7145136 683.439591 65.2579996 686.985656 65.2579996"}))))),e2e=f.forwardRef(J0e);f.memo(e2e);const t2e=(t,e)=>f.createElement("svg",{width:26,height:26,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1647 16.2277C18.7033 16.7663 18.707 17.6299 18.1684 18.1703C17.6354 18.7033 16.7681 18.707 16.2277 18.1666L12.9981 14.9389L9.77043 18.1666C9.23 18.7033 8.36829 18.707 7.82971 18.1703C7.29486 17.6336 7.293 16.77 7.83343 16.2277L11.0611 13L7.83343 9.77229C7.29857 9.23557 7.293 8.372 7.82971 7.83157C8.36457 7.29486 9.22814 7.293 9.77043 7.83157L12.9981 11.0593L16.2277 7.83157C16.7644 7.29671 17.6317 7.293 18.1684 7.83157C18.7033 8.36643 18.707 9.22814 18.1647 9.77229L14.9389 13L18.1647 16.2277ZM13 0C5.82214 0 0 5.82214 0 13C0 20.1779 5.82214 26 13 26C20.1797 26 26 20.1779 26 13C26 5.82214 20.1797 0 13 0Z",fill:"currentColor"})),n2e=f.forwardRef(t2e),o2e=f.memo(n2e),r2e=(t,e)=>f.createElement("svg",{width:"8px",height:"8px",viewBox:"0 0 8 8",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:e,...t},f.createElement("title",null,"close_blue"),f.createElement("desc",null,"Created with Sketch."),f.createElement("defs",null),f.createElement("g",{id:"new_connection",stroke:"none",strokeWidth:1,fillRule:"evenodd"},f.createElement("g",{id:"Port-Forwarding-Close",transform:"translate(-948.000000, -102.000000)"},f.createElement("g",{id:"Group",transform:"translate(269.000000, 40.000000)"},f.createElement("polygon",{id:"close_blue",transform:"translate(682.848581, 65.848581) rotate(-315.000000) translate(-682.848581, -65.848581) ",points:"686.985656 66.4391616 683.439591 66.4391616 683.439591 69.9826476 682.25757 69.9826476 682.25757 66.4391616 678.711506 66.4391616 678.711506 65.2579996 682.25757 65.2579996 682.25757 61.7145136 683.439591 61.7145136 683.439591 65.2579996 686.985656 65.2579996"}))))),i2e=f.forwardRef(r2e);f.memo(i2e);const s2e=(t,e)=>f.createElement("svg",{width:4,height:15,viewBox:"0 0 4 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("circle",{className:"fill",cx:2,cy:2,r:2,fill:"inherit"}),f.createElement("circle",{className:"fill",cx:2,cy:7.38483,r:2,fill:"inherit"}),f.createElement("circle",{className:"fill",cx:2,cy:12.7692,r:2,fill:"inherit"})),a2e=f.forwardRef(s2e);f.memo(a2e);const l2e=(t,e)=>f.createElement("svg",{width:62,height:28,viewBox:"0 0 62 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M5.14648 2.66504C5.14648 1.83661 5.81806 1.16504 6.64648 1.16504H41.6465C42.4749 1.16504 43.1465 1.83661 43.1465 2.66504V25.665H5.14648V2.66504Z",stroke:"currentColor"}),f.createElement("mask",{id:"path-2-inside-1",fill:"white"},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.073223 27.0918C-0.0842682 26.9343 0.0272737 26.665 0.25 26.665H21.3964C21.5345 26.665 21.6464 26.777 21.6464 26.915C21.6464 27.0531 21.7584 27.165 21.8964 27.165H26.3964C26.5345 27.165 26.6464 27.0531 26.6464 26.915C26.6464 26.777 26.7584 26.665 26.8964 26.665H47.0429C47.2656 26.665 47.3772 26.9343 47.2197 27.0918L46.9393 27.3721C46.7518 27.5597 46.4974 27.665 46.2322 27.665H1.06066C0.795444 27.665 0.54109 27.5597 0.353553 27.3721L0.073223 27.0918Z"})),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.073223 27.0918C-0.0842682 26.9343 0.0272737 26.665 0.25 26.665H21.3964C21.5345 26.665 21.6464 26.777 21.6464 26.915C21.6464 27.0531 21.7584 27.165 21.8964 27.165H26.3964C26.5345 27.165 26.6464 27.0531 26.6464 26.915C26.6464 26.777 26.7584 26.665 26.8964 26.665H47.0429C47.2656 26.665 47.3772 26.9343 47.2197 27.0918L46.9393 27.3721C46.7518 27.5597 46.4974 27.665 46.2322 27.665H1.06066C0.795444 27.665 0.54109 27.5597 0.353553 27.3721L0.073223 27.0918Z",fill:"#D8D8D8"}),f.createElement("path",{d:"M46.9393 27.3721L46.2322 26.665L46.9393 27.3721ZM47.2197 27.0918L46.5126 26.3847L47.2197 27.0918ZM0.25 27.665H21.3964V25.665H0.25V27.665ZM21.8964 28.165H26.3964V26.165H21.8964V28.165ZM26.8964 27.665H47.0429V25.665H26.8964V27.665ZM46.5126 26.3847L46.2322 26.665L47.6464 28.0793L47.9268 27.7989L46.5126 26.3847ZM46.2322 26.665H1.06066V28.665H46.2322V26.665ZM1.06066 26.665L0.78033 26.3847L-0.633884 27.7989L-0.353553 28.0793L1.06066 26.665ZM1.06066 26.665L1.06066 26.665L-0.353553 28.0793C0.0215196 28.4543 0.530228 28.665 1.06066 28.665V26.665ZM46.2322 26.665V26.665V28.665C46.7627 28.665 47.2714 28.4543 47.6464 28.0793L46.2322 26.665ZM47.0429 27.665C46.3747 27.665 46.0401 26.8572 46.5126 26.3847L47.9268 27.7989C48.7142 27.0115 48.1565 25.665 47.0429 25.665V27.665ZM27.6464 26.915C27.6464 27.3293 27.3107 27.665 26.8964 27.665V25.665C26.2061 25.665 25.6464 26.2247 25.6464 26.915H27.6464ZM26.3964 28.165C27.0868 28.165 27.6464 27.6054 27.6464 26.915H25.6464C25.6464 26.5008 25.9822 26.165 26.3964 26.165V28.165ZM20.6464 26.915C20.6464 27.6054 21.2061 28.165 21.8964 28.165V26.165C22.3107 26.165 22.6464 26.5008 22.6464 26.915H20.6464ZM21.3964 27.665C20.9822 27.665 20.6464 27.3293 20.6464 26.915H22.6464C22.6464 26.2247 22.0868 25.665 21.3964 25.665V27.665ZM0.25 25.665C-0.863628 25.665 -1.42134 27.0115 -0.633884 27.7989L0.78033 26.3847C1.25281 26.8572 0.918176 27.665 0.25 27.665V25.665Z",fill:"currentColor",mask:"url(#path-2-inside-1)"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M53.5 6.66504H60.5C61.3284 6.66504 62 7.33661 62 8.16504V25.665C62 26.4935 61.3284 27.165 60.5 27.165H53.5C52.6716 27.165 52 26.4935 52 25.665V8.16504C52 7.33661 52.6716 6.66504 53.5 6.66504ZM53 7.66504C52.7239 7.66504 52.5 7.8889 52.5 8.16504V25.665C52.5 25.9412 52.7239 26.165 53 26.165H61C61.2761 26.165 61.5 25.9412 61.5 25.665V8.16504C61.5 7.8889 61.2761 7.66504 61 7.66504H53Z",fill:"currentColor"})),c2e=f.forwardRef(l2e);f.memo(c2e);const d2e=(t,e)=>f.createElement("svg",{width:18,height:18,viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M7.65382 1.17808e-05C7.58531 0.00722332 7.52041 0.0384733 7.47113 0.0865502L6.96151 0.596166C6.28363 0.106983 5.34252 0.194723 4.71151 0.798089C4.71151 0.822127 4.44829 1.07814 4.21151 1.3077L3.91344 1.00963C3.84974 0.941118 3.75719 0.906262 3.66344 0.913473C3.65022 0.915877 3.637 0.919483 3.62498 0.923089C3.50959 0.943521 3.41704 1.02766 3.38459 1.13943C3.35214 1.25242 3.38579 1.37261 3.47113 1.45193L4.17305 2.15386L3.16344 3.16347C3.04084 3.28607 3.04084 3.48318 3.16344 3.60578C3.28603 3.72838 3.48315 3.72838 3.60575 3.60578L4.61536 2.59617L5.40382 3.38463L4.39421 4.39424C4.27161 4.51684 4.27161 4.71395 4.39421 4.83655C4.5168 4.95915 4.71392 4.95915 4.83651 4.83655L5.84613 3.82693L6.54805 4.52886C6.67065 4.65145 6.86776 4.65145 6.99036 4.52886C7.11296 4.40626 7.11296 4.20915 6.99036 4.08655L6.69228 3.78847L7.2019 3.28847C7.80526 2.68511 7.86656 1.74761 7.39421 1.04809L7.91344 0.528858C8.0132 0.43631 8.03964 0.289675 7.97954 0.168281C7.92065 0.045685 7.78724 -0.0216228 7.65382 1.17808e-05ZM1.2019 3.37501C1.18868 3.37742 1.17546 3.38102 1.16344 3.38463C1.04805 3.40506 0.955506 3.48919 0.923054 3.60097C0.890602 3.71395 0.924255 3.83415 1.00959 3.91347L1.30767 4.21155L0.798054 4.71155C0.194688 5.31492 0.13339 6.25242 0.605746 6.95193L0.0865151 7.47117C-0.0360812 7.59376 -0.0360812 7.79088 0.0865151 7.91347C0.209111 8.03607 0.406227 8.03607 0.528823 7.91347L1.03844 7.40386C1.71632 7.89304 2.65743 7.8053 3.28844 7.20193C3.28844 7.1779 3.55166 6.92189 3.78844 6.69232L4.08651 6.9904C4.20911 7.11299 4.40623 7.11299 4.52882 6.9904C4.65142 6.8678 4.65142 6.67068 4.52882 6.54809L1.4519 3.47117C1.3882 3.40266 1.29565 3.3678 1.2019 3.37501Z",fill:"currentColor"})),u2e=f.forwardRef(d2e),Cx=f.memo(u2e),p2e=(t,e)=>f.createElement("svg",{width:19,height:16,viewBox:"0 0 19 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.21967 0.96967C0.512563 0.676777 0.987437 0.676777 1.28033 0.96967L6.56066 6.25H11.5925L17.1309 12.6405L17.4828 7.71372C17.5123 7.30056 17.8712 6.98955 18.2844 7.01906C18.6975 7.04857 19.0085 7.40743 18.979 7.82059L18.4981 14.5534C18.4686 14.9666 18.1097 15.2776 17.6966 15.2481L10.9637 14.7672C10.5506 14.7377 10.2395 14.3788 10.2691 13.9656C10.2986 13.5525 10.6574 13.2415 11.0706 13.271L15.9974 13.6229L10.9075 7.75H5.93934L0.21967 2.03033C-0.0732233 1.73744 -0.0732233 1.26256 0.21967 0.96967Z",fill:"currentColor"})),h2e=f.forwardRef(p2e);f.memo(h2e);const f2e=(t,e)=>f.createElement("svg",{width:17,height:16,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.5 10.0455V14.1819C0.5 15.0354 1.19192 15.7273 2.04545 15.7273H14.9545C15.8081 15.7273 16.5 15.0354 16.5 14.1819V10.0455H14.9545V14.1819H2.04545L2.04545 10.0455H0.5Z",fill:"currentColor"}),f.createElement("path",{d:"M7.96967 10.5303C8.26256 10.8232 8.73744 10.8232 9.03033 10.5303L13.8033 5.75736C14.0962 5.46447 14.0962 4.98959 13.8033 4.6967C13.5104 4.40381 13.0355 4.40381 12.7426 4.6967L8.5 8.93934L4.25736 4.6967C3.96447 4.40381 3.48959 4.40381 3.1967 4.6967C2.90381 4.98959 2.90381 5.46447 3.1967 5.75736L7.96967 10.5303ZM7.75 3.27835e-08L7.75 10L9.25 10L9.25 -3.27835e-08L7.75 3.27835e-08Z",fill:"currentColor"})),m2e=f.forwardRef(f2e);f.memo(m2e);const g2e=(t,e)=>f.createElement("svg",{width:21,height:20,viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.91752 10.0836V17.3321C1.91752 18.0688 2.51479 18.6661 3.25155 18.6661H17.7484C18.4852 18.6661 19.0825 18.0688 19.0825 17.3321V10.0836H20.4165V17.3321C20.4165 18.8056 19.222 20.0001 17.7484 20.0001H3.25155C1.77802 20.0001 0.583496 18.8056 0.583496 17.3321V10.0836H1.91752Z",fill:"currentColor"}),f.createElement("path",{d:"M10.0283 15.1481C10.2888 15.4086 10.7112 15.4086 10.9716 15.1481L15.2165 10.9032C15.477 10.6427 15.477 10.2204 15.2165 9.95992C14.956 9.69943 14.5337 9.69943 14.2732 9.95992L10.5 13.7331L6.7268 9.95992C6.46631 9.69943 6.04398 9.69943 5.7835 9.95992C5.52301 10.2204 5.52301 10.6427 5.7835 10.9032L10.0283 15.1481ZM9.83299 -2.28431e-08L9.83299 14.6764L11.167 14.6764L11.167 2.28431e-08L9.83299 -2.28431e-08Z",fill:"currentColor"})),v2e=f.forwardRef(g2e);f.memo(v2e);const C2e=(t,e)=>f.createElement("svg",{width:15,height:15,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M13.7109 1.70312C14.0911 2.07812 14.3333 2.52604 14.4375 3.04688C14.5417 3.56771 14.5938 4.15625 14.5938 4.8125V10.5156C14.5938 11.1719 14.5417 11.7604 14.4375 12.2812C14.3333 12.8021 14.0911 13.25 13.7109 13.625C13.3307 14.0052 12.8776 14.2474 12.3516 14.3516C11.8307 14.4609 11.2448 14.5156 10.5938 14.5156H4.89062C4.23958 14.5156 3.65104 14.4609 3.125 14.3516C2.59896 14.2474 2.14583 14.0052 1.76562 13.625C1.38542 13.25 1.14323 12.8021 1.03906 12.2812C0.934896 11.7604 0.882812 11.1719 0.882812 10.5156V4.79688C0.882812 4.15104 0.934896 3.56771 1.03906 3.04688C1.14844 2.52604 1.39062 2.07812 1.76562 1.70312C2.14583 1.32812 2.59635 1.08594 3.11719 0.976562C3.64323 0.867188 4.22656 0.8125 4.86719 0.8125H10.5938C11.2448 0.8125 11.8307 0.867188 12.3516 0.976562C12.8776 1.08073 13.3307 1.32292 13.7109 1.70312ZM13.2656 4.60938C13.2656 4.22396 13.2292 3.85938 13.1562 3.51562C13.0885 3.16667 12.9505 2.88542 12.7422 2.67188C12.5286 2.45833 12.2448 2.3151 11.8906 2.24219C11.5417 2.16927 11.1771 2.13281 10.7969 2.13281H4.70312C4.3125 2.13281 3.9401 2.16927 3.58594 2.24219C3.23698 2.3099 2.95312 2.45312 2.73438 2.67188C2.52083 2.88021 2.38021 3.16146 2.3125 3.51562C2.25 3.86458 2.21875 4.23438 2.21875 4.625V10.7188C2.21875 11.1042 2.25 11.4714 2.3125 11.8203C2.38021 12.1641 2.52083 12.4427 2.73438 12.6562C2.95312 12.8698 3.23698 13.013 3.58594 13.0859C3.9349 13.1589 4.30208 13.1953 4.6875 13.1953H10.7969C11.1771 13.1953 11.5417 13.1589 11.8906 13.0859C12.2448 13.013 12.5286 12.8698 12.7422 12.6562C12.9505 12.4427 13.0885 12.1641 13.1562 11.8203C13.2292 11.4714 13.2656 11.1042 13.2656 10.7188V4.60938ZM4.32031 7.66406C4.32031 7.46615 4.38281 7.30469 4.50781 7.17969C4.63281 7.05469 4.79167 6.99219 4.98438 6.99219H7.07812V4.89844C7.07812 4.70052 7.13802 4.54167 7.25781 4.42188C7.38281 4.29688 7.53906 4.23438 7.72656 4.23438C7.92448 4.23438 8.08594 4.29688 8.21094 4.42188C8.33594 4.54167 8.39844 4.70052 8.39844 4.89844V6.99219H10.5C10.6927 6.99219 10.8516 7.05469 10.9766 7.17969C11.1016 7.30469 11.1641 7.46615 11.1641 7.66406C11.1641 7.85156 11.1016 8.00781 10.9766 8.13281C10.8516 8.2526 10.6927 8.3125 10.5 8.3125H8.39844V10.4141C8.39844 10.612 8.33594 10.7708 8.21094 10.8906C8.08594 11.0104 7.92448 11.0703 7.72656 11.0703C7.53906 11.0703 7.38281 11.0104 7.25781 10.8906C7.13802 10.7656 7.07812 10.6068 7.07812 10.4141V8.3125H4.98438C4.79167 8.3125 4.63281 8.2526 4.50781 8.13281C4.38281 8.00781 4.32031 7.85156 4.32031 7.66406Z",fill:"currentColor"})),y2e=f.forwardRef(C2e);f.memo(y2e);const S2e=(t,e)=>f.createElement("svg",{width:12,height:14,viewBox:"0 0 12 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M6 0C3.89764 0 2.18182 1.76157 2.18182 3.92V5.04H1.09091C0.488182 5.04 0 5.5412 0 6.16V12.88C0 13.4988 0.488182 14 1.09091 14H10.9091C11.5118 14 12 13.4988 12 12.88V6.16C12 5.5412 11.5118 5.04 10.9091 5.04H9.81818V3.92C9.81818 1.83209 8.20177 0.150397 6.19389 0.0404687C6.1322 0.0149579 6.06649 0.00124273 6 0ZM6 1.12C7.51291 1.12 8.72727 2.36675 8.72727 3.92V5.04H3.27273V3.92C3.27273 2.36675 4.48709 1.12 6 1.12ZM2.72727 8.4C3.33 8.4 3.81818 8.9012 3.81818 9.52C3.81818 10.1382 3.33 10.64 2.72727 10.64C2.12455 10.64 1.63636 10.1382 1.63636 9.52C1.63636 8.9012 2.12455 8.4 2.72727 8.4ZM6 8.4C6.60273 8.4 7.09091 8.9012 7.09091 9.52C7.09091 10.1382 6.60273 10.64 6 10.64C5.39727 10.64 4.90909 10.1382 4.90909 9.52C4.90909 8.9012 5.39727 8.4 6 8.4ZM9.27273 8.4C9.87545 8.4 10.3636 8.9012 10.3636 9.52C10.3636 10.1382 9.87545 10.64 9.27273 10.64C8.67 10.64 8.18182 10.1382 8.18182 9.52C8.18182 8.9012 8.67 8.4 9.27273 8.4Z",fill:"currentColor"})),b2e=f.forwardRef(S2e),w2e=f.memo(b2e),_2e=(t,e)=>f.createElement("svg",{width:38,height:38,viewBox:"0 0 38 38",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M0 19C0 8.50659 8.50659 0 19 0C29.4934 0 38 8.50659 38 19C38 29.4934 29.4934 38 19 38C8.50659 38 0 29.4934 0 19Z",fill:"currentColor"}),f.createElement("g",{clipPath:"url(#clip0)"},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26.8419 14.6892L25.312 13.1581C25.1006 12.9472 24.7591 12.9472 24.5477 13.1588L17.0892 20.6229L14.4523 17.9843C14.2409 17.7728 13.8994 17.7727 13.688 17.9839L12.1581 19.515C11.9472 19.7266 11.9472 20.0689 12.1586 20.2806L16.512 24.6375C16.6684 24.7942 16.8711 25 17.0781 25C17.2851 25 17.5098 24.7942 17.6662 24.6375L26.8414 15.4547C27.0528 15.2433 27.0528 14.9007 26.8419 14.6892Z",fill:"#00CC74"})),f.createElement("defs",null,f.createElement("clipPath",{id:"clip0"},f.createElement("rect",{x:12,y:13,width:15,height:12,fill:"white"})))),x2e=f.forwardRef(_2e);f.memo(x2e);const A2e=(t,e)=>f.createElement("svg",{width:24,height:27,viewBox:"0 0 24 27",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 6C0 5.44772 0.447715 5 1 5H19.3077C19.86 5 20.3077 5.44772 20.3077 6V14.1538C20.3077 14.7061 19.86 15.1538 19.3077 15.1538H12.1538C11.0493 15.1538 10.1538 16.0493 10.1538 17.1538V24.3077C10.1538 24.86 9.70613 25.3077 9.15385 25.3077H1C0.447716 25.3077 0 24.86 0 24.3077V6ZM0.846153 17C0.846153 16.4477 1.29387 16 1.84615 16H8.30769C8.85998 16 9.30769 16.4477 9.30769 17V23.4615C9.30769 24.0138 8.85998 24.4615 8.30769 24.4615H1.84615C1.29387 24.4615 0.846153 24.0138 0.846153 23.4615V17ZM12 5.84616C11.4477 5.84616 11 6.29388 11 6.84616V13.3077C11 13.86 11.4477 14.3077 12 14.3077H18.4615C19.0138 14.3077 19.4615 13.86 19.4615 13.3077V6.84616C19.4615 6.29388 19.0138 5.84616 18.4615 5.84616H12Z",fill:"white"}),f.createElement("mask",{id:"c","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:11,y:18,width:9,height:9},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.4999 26.7778C17.8625 26.7778 19.7777 24.8626 19.7777 22.5C19.7777 20.1375 17.8625 18.2222 15.4999 18.2222C13.1374 18.2222 11.2222 20.1375 11.2222 22.5C11.2222 24.8626 13.1374 26.7778 15.4999 26.7778Z",fill:"white"})),f.createElement("g",{mask:"url(#c)"},f.createElement("path",{d:"M19.1668 26.1666C19.1668 28.1916 17.5252 29.8333 15.5002 29.8333C13.4751 29.8333 11.8335 28.1917 11.8335 26.1666C11.8335 24.1416 13.4751 22.4999 15.5002 22.4999C16.7724 22.4999 17.8932 23.1478 18.5508 24.1317C18.7291 24.3985 19.5001 23.9999 18.9773 24.9999C19.1002 25.3664 19.1668 25.7587 19.1668 26.1666Z",fill:"white"}),f.createElement("circle",{cx:15.4998,cy:20.0555,r:1.83333,fill:"white"})),f.createElement("mask",{id:"d","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:16,y:18,width:7,height:7},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.7502 24.6666C21.361 24.6666 22.6668 23.3607 22.6668 21.7499C22.6668 20.1391 21.361 18.8333 19.7502 18.8333C18.1393 18.8333 16.8335 20.1391 16.8335 21.7499C16.8335 23.3607 18.1393 24.6666 19.7502 24.6666Z",fill:"white"})),f.createElement("g",{mask:"url(#d)"},f.createElement("circle",{cx:19.75,cy:24.2499,r:2.5,fill:"white"}),f.createElement("circle",{cx:19.75,cy:20.0833,r:1.25,fill:"white"}))),T2e=f.forwardRef(A2e);f.memo(T2e);const I2e=(t,e)=>f.createElement("svg",{width:25,height:25,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("line",{x1:2.38892,y1:19.833,x2:22.6111,y2:19.833,stroke:"white",strokeWidth:2,strokeLinecap:"round"}),f.createElement("line",{x1:2.38892,y1:12.8887,x2:22.6111,y2:12.8887,stroke:"white",strokeWidth:2,strokeLinecap:"round"}),f.createElement("line",{x1:2.38892,y1:5.94434,x2:11.5,y2:5.94434,stroke:"white",strokeWidth:2,strokeLinecap:"round"})),E2e=f.forwardRef(I2e);f.memo(E2e);const k2e=(t,e)=>f.createElement("svg",{width:14,height:20,viewBox:"0 0 14 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M3.98682 15.5569L9.99658 15.5569C10.2788 15.5569 10.4614 15.3826 10.4614 15.1003L10.4614 13.7722C10.4614 11.7634 13.375 10.4685 13.375 6.88257C13.375 3.10571 10.8184 0.582275 6.9917 0.582275C3.16504 0.582275 0.616699 3.10571 0.616699 6.88257C0.616699 10.4685 3.53027 11.7634 3.53027 13.7722L3.53027 15.1003C3.53027 15.3826 3.71289 15.5569 3.98682 15.5569ZM4.30225 17.7981L9.68945 17.7981C10.1128 17.7981 10.4614 17.4495 10.4614 17.0178C10.4614 16.5862 10.1128 16.2375 9.68945 16.2375L4.30225 16.2375C3.87891 16.2375 3.53027 16.5862 3.53027 17.0178C3.53027 17.4495 3.87891 17.7981 4.30225 17.7981ZM6.9917 19.7986C8.13721 19.7986 8.95068 19.2756 9.03369 18.4705L4.95801 18.4705C5.03272 19.2756 5.84619 19.7986 6.9917 19.7986Z",fill:"#F7F9FA"})),R2e=f.forwardRef(k2e);f.memo(R2e);const P2e=(t,e)=>f.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 5C0 2.23858 2.23858 0 5 0H19C21.7614 0 24 2.23858 24 5V19C24 21.7614 21.7614 24 19 24H5C2.23858 24 0 21.7614 0 19V5Z",fill:"currentColor"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 7C5 5.89543 5.89543 5 7 5H17C18.1046 5 19 5.89543 19 7V11H5V7ZM15 9.66667C15.7364 9.66667 16.3334 9.06971 16.3334 8.33333C16.3334 7.59695 15.7364 7 15 7C14.2636 7 13.6667 7.59695 13.6667 8.33333C13.6667 9.06971 14.2636 9.66667 15 9.66667ZM9.66667 6.33334C9.29848 6.33334 9 6.63182 9 7.00001V9.00001C9 9.3682 9.29848 9.66668 9.66667 9.66668C10.0349 9.66668 10.3333 9.3682 10.3333 9.00001V7.00001C10.3333 6.63182 10.0349 6.33334 9.66667 6.33334ZM7 7.00001C7 6.63182 7.29848 6.33334 7.66667 6.33334C8.03486 6.33334 8.33333 6.63182 8.33333 7.00001V9.00001C8.33333 9.3682 8.03486 9.66668 7.66667 9.66668C7.29848 9.66668 7 9.3682 7 9.00001V7.00001ZM11.6667 6.33334C11.2985 6.33334 11 6.63182 11 7.00001V9.00001C11 9.3682 11.2985 9.66668 11.6667 9.66668C12.0349 9.66668 12.3333 9.3682 12.3333 9.00001V7.00001C12.3333 6.63182 12.0349 6.33334 11.6667 6.33334Z",fill:"white"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 13H19V17C19 18.1046 18.1046 19 17 19H7C5.89543 19 5 18.1046 5 17V13ZM15 17C15.7364 17 16.3334 16.4031 16.3334 15.6667C16.3334 14.9303 15.7364 14.3333 15 14.3333C14.2636 14.3333 13.6667 14.9303 13.6667 15.6667C13.6667 16.4031 14.2636 17 15 17ZM11.6667 14.3333C11.2985 14.3333 11 14.6318 11 15V17C11 17.3682 11.2985 17.6667 11.6667 17.6667C12.0349 17.6667 12.3333 17.3682 12.3333 17V15C12.3333 14.6318 12.0349 14.3333 11.6667 14.3333ZM7 15C7 14.6318 7.29848 14.3333 7.66667 14.3333C8.03486 14.3333 8.33333 14.6318 8.33333 15V17C8.33333 17.3682 8.03486 17.6667 7.66667 17.6667C7.29848 17.6667 7 17.3682 7 17V15ZM9.66667 14.3333C9.29848 14.3333 9 14.6318 9 15V17C9 17.3682 9.29848 17.6667 9.66667 17.6667C10.0349 17.6667 10.3333 17.3682 10.3333 17V15C10.3333 14.6318 10.0349 14.3333 9.66667 14.3333Z",fill:"white"})),L2e=f.forwardRef(P2e);f.memo(L2e);const M2e=(t,e)=>f.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 5C0 2.23858 2.23858 0 5 0H19C21.7614 0 24 2.23858 24 5V19C24 21.7614 21.7614 24 19 24H5C2.23858 24 0 21.7614 0 19V5Z",fill:"currentColor"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.4884 8.74419C15.4884 10.5325 14.2346 12.028 12.5581 12.3997V13.1395L13.8605 14.4419L12.5581 15.7442L13.8605 17.0465L11.907 19L10.6047 17.6977V12.3118C9.09401 11.8297 8 10.4147 8 8.74419C8 6.67633 9.67633 5 11.7442 5C13.812 5 15.4884 6.67633 15.4884 8.74419ZM12.8837 8.09303C12.8837 8.72237 12.3735 9.23256 11.7442 9.23256C11.1148 9.23256 10.6047 8.72237 10.6047 8.09303C10.6047 7.46368 11.1148 6.95349 11.7442 6.95349C12.3735 6.95349 12.8837 7.46368 12.8837 8.09303Z",fill:"white"})),O2e=f.forwardRef(M2e);f.memo(O2e);const D2e=(t,e)=>f.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 5C0 2.23858 2.23858 0 5 0H19C21.7614 0 24 2.23858 24 5V19C24 21.7614 21.7614 24 19 24H5C2.23858 24 0 21.7614 0 19V5Z",fill:"currentColor"}),f.createElement("path",{d:"M8.25349 14.922H5.30986C5.20303 14.922 5.10386 14.8646 5.04743 14.7701C4.99059 14.6755 4.98454 14.5569 5.0309 14.4565L7.19972 9.75219C7.25132 9.63991 7.35976 9.56857 7.47868 9.56857H10.4227C10.5291 9.56857 10.6283 9.62598 10.6847 9.72053C10.7416 9.81508 10.748 9.93369 10.7017 10.0341L8.53245 14.7384C8.48085 14.8507 8.37241 14.922 8.25349 14.922Z",fill:"white"}),f.createElement("path",{d:"M13.2112 17.869C13.1737 17.869 13.1362 17.8618 13.1003 17.8474C12.9802 17.7993 12.9012 17.679 12.9012 17.5444V15.0844H9.64794C9.54192 15.0844 9.44315 15.0278 9.38631 14.9341C9.32947 14.8404 9.32222 14.7231 9.36696 14.6226L11.5362 9.7558C11.587 9.64183 11.6962 9.56881 11.8168 9.56881H12.7464V6.32414C12.7464 6.19076 12.8246 6.07088 12.9431 6.02234C13.062 5.9738 13.1971 6.00588 13.2837 6.10381L18.2543 11.7278C18.3635 11.8507 18.3643 12.0406 18.2571 12.1651L13.4414 17.7617C13.3813 17.8314 13.2974 17.869 13.2112 17.869Z",fill:"white"})),F2e=f.forwardRef(D2e);f.memo(F2e);const N2e=(t,e)=>f.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M20 10C20 15.5228 15.5228 20 10 20C4.47715 20 0 15.5228 0 10C0 4.47715 4.47715 0 10 0C15.5228 0 20 4.47715 20 10Z"}),f.createElement("rect",{width:2.29158,height:2.37801,transform:"matrix(1 0 0 -1 8.88892 6.82248)",fill:"white"}),f.createElement("rect",{width:2.29158,height:5.94504,transform:"matrix(1 0 0 -1 8.88892 15.1455)",fill:"white"})),H2e=f.forwardRef(N2e);f.memo(H2e);const B2e=(t,e)=>f.createElement("svg",{width:14,height:16,viewBox:"0 0 14 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 2H2V14H9V13H11V14C11 15.1046 10.1046 16 9 16H2C0.895431 16 0 15.1046 0 14V2C0 0.895431 0.895431 0 2 0H9C10.1046 0 11 0.895431 11 2V3H9V2ZM11 5L14 8L11 11V9H5V7H11V5Z",fill:"currentColor"})),z2e=f.forwardRef(B2e),Bc=f.memo(z2e),V2e=(t,e)=>f.createElement("svg",{width:70,height:45,viewBox:"0 0 70 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("g",{filter:"url(#filter0_d)"},f.createElement("rect",{x:6.82715,width:56.4483,height:31.2267,rx:.892192,fill:"#D5DDE0"}),f.createElement("rect",{x:34.4512,width:28.8247,height:31.2267,rx:.892192,fill:"#E6EBED"}),f.createElement("path",{d:"M8.02832 0H61.4741L34.7512 18.0154L8.02832 0Z",fill:"#F7F9FA"})),f.createElement("defs",null,f.createElement("filter",{id:"filter0_d",x:.135706,y:0,width:69.8316,height:44.6096,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},f.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),f.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),f.createElement("feOffset",{dy:6.69144}),f.createElement("feGaussianBlur",{stdDeviation:3.34572}),f.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),f.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),f.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})))),W2e=f.forwardRef(V2e);f.memo(W2e);const j2e=(t,e)=>f.createElement("svg",{width:70,height:45,viewBox:"0 0 70 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("g",{filter:"url(#filter0_d)"},f.createElement("rect",{x:6.82715,width:56.4483,height:31.2267,rx:.892192,fill:"#32364A"}),f.createElement("rect",{x:34.4512,width:28.8247,height:31.2267,rx:.892192,fill:"#3E4257"}),f.createElement("path",{d:"M8.02832 0H61.4741L34.7512 18.0154L8.02832 0Z",fill:"#5A5E73"})),f.createElement("defs",null,f.createElement("filter",{id:"filter0_d",x:.135706,y:0,width:69.8316,height:44.6096,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},f.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),f.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),f.createElement("feOffset",{dy:6.69144}),f.createElement("feGaussianBlur",{stdDeviation:3.34572}),f.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),f.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),f.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})))),U2e=f.forwardRef(j2e);f.memo(U2e);const $2e=(t,e)=>f.createElement("svg",{width:121,height:45,viewBox:"0 0 121 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("rect",{x:19.6123,y:10.1346,width:28.4201,height:2.38462,rx:1.19231,fill:"#2091F6"}),f.createElement("g",{filter:"url(#filter0_d)"},f.createElement("rect",{x:32.5322,width:56.0385,height:31,rx:.885714,fill:"#D5DDE0"}),f.createElement("rect",{x:59.9556,width:28.6154,height:31,rx:.885714,fill:"#E6EBED"}),f.createElement("path",{d:"M33.7246 0H86.7823L60.2535 17.8846L33.7246 0Z",fill:"#F7F9FA"})),f.createElement("rect",{x:10.6802,y:19.077,width:28.4201,height:2.38462,rx:1.19231,fill:"#2091F6"}),f.createElement("rect",{x:.936035,y:14.3077,width:28.4201,height:2.38462,rx:1.19231,fill:"#2091F6"}),f.createElement("defs",null,f.createElement("filter",{id:"filter0_d",x:25.8894,y:0,width:69.3244,height:44.2857,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},f.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),f.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),f.createElement("feOffset",{dy:6.64286}),f.createElement("feGaussianBlur",{stdDeviation:3.32143}),f.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),f.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),f.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})))),q2e=f.forwardRef($2e);f.memo(q2e);const G2e=(t,e)=>f.createElement("svg",{width:121,height:45,viewBox:"0 0 121 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("rect",{x:19.6123,y:10.1345,width:28.4201,height:2.38462,rx:1.19231,fill:"#00CC74"}),f.createElement("g",{filter:"url(#filter0_d)"},f.createElement("rect",{x:32.5322,width:56.0385,height:31,rx:.885714,fill:"#32364A"}),f.createElement("rect",{x:59.9556,width:28.6154,height:31,rx:.885714,fill:"#3E4257"}),f.createElement("path",{d:"M33.7246 0H86.7823L60.2535 17.8846L33.7246 0Z",fill:"#5A5E73"})),f.createElement("rect",{x:10.6802,y:19.0769,width:28.4201,height:2.38462,rx:1.19231,fill:"#00CC74"}),f.createElement("rect",{x:.936035,y:14.3076,width:28.4201,height:2.38462,rx:1.19231,fill:"#00CC74"}),f.createElement("defs",null,f.createElement("filter",{id:"filter0_d",x:25.8894,y:0,width:69.3244,height:44.2857,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},f.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),f.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),f.createElement("feOffset",{dy:6.64286}),f.createElement("feGaussianBlur",{stdDeviation:3.32143}),f.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),f.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),f.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})))),K2e=f.forwardRef(G2e);f.memo(K2e);const Z2e=(t,e)=>f.createElement("svg",{width:11,height:21,viewBox:"0 0 11 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M10.9697 7.20232C10.9167 7.07911 10.8024 7.00003 10.6766 7.00003H6.84278L10.6264 0.537265C10.6895 0.429475 10.6934 0.292975 10.6365 0.18133C10.5795 0.0693165 10.4708 0 10.353 0H5.17659C5.05398 0 4.94202 0.0748947 4.88705 0.193553L0.0341149 10.6936C-0.0160447 10.8017 -0.0105472 10.9305 0.0483325 11.0338C0.107553 11.137 0.211399 11.2 0.323661 11.2H3.6505L0.0253569 20.5142C-0.0364422 20.6735 0.0185704 20.8582 0.154756 20.9486C0.207152 20.9832 0.265388 21 0.323319 21C0.41617 21 0.507731 20.9569 0.57116 20.8758L10.9241 7.57572C11.0053 7.47146 11.0227 7.32586 10.9697 7.20232Z",fill:"white"})),Q2e=f.forwardRef(Z2e);f.memo(Q2e);const Y2e=(t,e)=>f.createElement("svg",{width:20,height:16,viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M6.92593 7.84897C6.93216 8.20584 7.23616 8.49941 7.58474 8.49333L16.1083 8.34455L17.3524 8.27302L16.773 8.84767L15.4503 10.1244C15.3196 10.2429 15.2562 10.4183 15.259 10.576C15.2651 10.9246 15.5185 11.1775 15.8588 11.1716C16.0331 11.1686 16.1647 11.0998 16.2871 10.9732L18.9437 8.12071C19.1068 7.95182 19.1623 7.80142 19.1594 7.63543C19.1565 7.46944 19.0958 7.32106 18.9269 7.15797L16.1723 4.39996C16.0457 4.27764 15.9116 4.20526 15.7373 4.2083C15.397 4.21424 15.1525 4.47587 15.1584 4.81615C15.1613 4.98215 15.2308 5.15528 15.3656 5.26915L16.7321 6.50721L17.3312 7.06129L16.0853 7.02492L7.5617 7.1737C7.21312 7.17979 6.9197 7.49209 6.92593 7.84897ZM0.344254 3.19848L0.510418 12.718C0.540695 14.4526 1.41906 15.309 3.12876 15.2792L11.4117 15.1346C13.1214 15.1047 13.9693 14.2182 13.939 12.4836L13.8986 10.1681L12.5624 10.1914L12.6024 12.482C12.6167 13.3037 12.1768 13.7846 11.3137 13.7997L3.18013 13.9416C2.31698 13.9567 1.86055 13.4915 1.84621 12.6698L1.68077 3.19175C1.66628 2.3618 2.10648 1.8975 2.96963 1.88244L11.1032 1.74046C11.9663 1.7254 12.4225 2.17405 12.4369 3.004L12.4771 5.30297L13.8133 5.27964L13.7729 2.96408C13.7426 1.22948 12.8642 0.373095 11.1545 0.402938L2.87162 0.547517C1.16191 0.57736 0.313976 1.46388 0.344254 3.19848Z",fill:"currentColor"})),X2e=f.forwardRef(Y2e);f.memo(X2e);const J2e=(t,e)=>f.createElement("svg",{width:14,height:12,viewBox:"0 0 14 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M0.998204 1.71565L7.23082 1.71565C7.59875 1.71565 7.89309 1.42948 7.89309 1.06156C7.89309 0.685457 7.59875 0.399292 7.23082 0.399292L0.998204 0.399292C0.622102 0.399292 0.335937 0.685457 0.335937 1.06156C0.335937 1.42948 0.622102 1.71565 0.998204 1.71565ZM0.998204 6.66221L13.0017 6.66221C13.3697 6.66221 13.664 6.36787 13.664 5.99994C13.664 5.63202 13.3697 5.34585 13.0017 5.34585L0.998204 5.34585C0.622102 5.34585 0.335937 5.63202 0.335937 5.99994C0.335937 6.36787 0.622102 6.66221 0.998204 6.66221ZM0.998204 11.6006L13.0017 11.6006C13.3697 11.6006 13.664 11.3144 13.664 10.9465C13.664 10.5704 13.3697 10.2842 13.0017 10.2842L0.998204 10.2842C0.622102 10.2842 0.335938 10.5704 0.335938 10.9465C0.335938 11.3144 0.622102 11.6006 0.998204 11.6006Z",fill:"currentColor"})),ege=f.forwardRef(J2e);f.memo(ege);const tge=(t,e)=>f.createElement("svg",{width:16,height:4,viewBox:"0 0 16 4",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M3.51758 2.01514C3.51758 1.09375 2.77051 0.35498 1.83252 0.35498C0.919434 0.35498 0.172363 1.09375 0.172363 2.01514C0.172363 2.93652 0.919434 3.67529 1.83252 3.67529C2.77051 3.67529 3.51758 2.93652 3.51758 2.01514ZM9.66016 2.01514C9.66016 1.09375 8.92139 0.354981 8 0.354981C7.08691 0.354981 6.34814 1.09375 6.34814 2.01514C6.34814 2.93652 7.08691 3.67529 8 3.67529C8.92139 3.67529 9.66016 2.93652 9.66016 2.01514ZM15.8276 2.01514C15.8276 1.09375 15.0889 0.354981 14.1675 0.354981C13.2295 0.354981 12.4907 1.09375 12.4907 2.01514C12.4907 2.93652 13.2295 3.67529 14.1675 3.67529C15.0889 3.67529 15.8276 2.93652 15.8276 2.01514Z",fill:"currentColor"})),nge=f.forwardRef(tge);f.memo(nge);const oge=(t,e)=>f.createElement("svg",{width:38,height:38,viewBox:"0 0 38 38",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("rect",{width:38,height:38,rx:12,fill:"#004878"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 6C13.4477 6 13 6.44772 13 7V9H12C10.3431 9 9 10.3431 9 12V13H7C6.44772 13 6 13.4477 6 14C6 14.5523 6.44772 15 7 15H9V23H7C6.44772 23 6 23.4477 6 24C6 24.5523 6.44772 25 7 25H9V26C9 27.6569 10.3431 29 12 29H13V31C13 31.5523 13.4477 32 14 32C14.5523 32 15 31.5523 15 31V29H23V31C23 31.5523 23.4477 32 24 32C24.5523 32 25 31.5523 25 31V29H26C27.6569 29 29 27.6569 29 26V25H31C31.5523 25 32 24.5523 32 24C32 23.4477 31.5523 23 31 23H29V15H31C31.5523 15 32 14.5523 32 14C32 13.4477 31.5523 13 31 13H29V12C29 10.3431 27.6569 9 26 9H25V7C25 6.44772 24.5523 6 24 6C23.4477 6 23 6.44772 23 7V9H15V7C15 6.44772 14.5523 6 14 6ZM19.5582 19.3996C21.2346 19.028 22.4884 17.5325 22.4884 15.7442C22.4884 13.6763 20.812 12 18.7442 12C16.6763 12 15 13.6763 15 15.7442C15 17.4147 16.094 18.8297 17.6047 19.3118V24.6976L18.907 25.9999L20.8605 24.0464L19.5582 22.7441L20.8605 21.4418L19.5582 20.1394V19.3996ZM18.7442 16.2324C19.3735 16.2324 19.8837 15.7223 19.8837 15.0929C19.8837 14.4636 19.3735 13.9534 18.7442 13.9534C18.1149 13.9534 17.6047 14.4636 17.6047 15.0929C17.6047 15.7223 18.1149 16.2324 18.7442 16.2324Z",fill:"white"})),rge=f.forwardRef(oge);f.memo(rge);const ige=(t,e)=>f.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M1.33333 0C0.604625 0 0 0.604625 0 1.33333V10.6667C0 11.3954 0.604625 12 1.33333 12H10.6667C11.3954 12 12 11.3954 12 10.6667V6.66667C12 6.29848 11.7015 6 11.3333 6C10.9651 6 10.6667 6.29848 10.6667 6.66667V10.1667C10.6667 10.4428 10.4428 10.6667 10.1667 10.6667H1.83333C1.55719 10.6667 1.33333 10.4428 1.33333 10.1667V1.83333C1.33333 1.55719 1.55719 1.33333 1.83333 1.33333H5.33333C5.70152 1.33333 6 1.03486 6 0.666667C6 0.298477 5.70152 0 5.33333 0H1.33333ZM8 0C7.63181 0 7.33333 0.298477 7.33333 0.666667C7.33333 1.03486 7.63181 1.33333 8 1.33333H9.72396L4 7.05729C3.73968 7.31761 3.73968 7.73968 4 8C4.26032 8.26032 4.68239 8.26032 4.94271 8L10.6667 2.27604V4C10.6667 4.36819 10.9651 4.66667 11.3333 4.66667C11.7015 4.66667 12 4.36819 12 4V1C12 0.447715 11.5523 0 11 0H8Z",fill:"currentColor"})),sge=f.forwardRef(ige);f.memo(sge);const age=(t,e)=>f.createElement("svg",{width:17,height:15,viewBox:"0 0 17 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M4.11505 2.074H2.43505V3.796L0.839047 3.278L0.321047 4.818L1.93105 5.35L0.951047 6.708L2.26705 7.674L3.27505 6.302L4.29705 7.674L5.61305 6.708L4.63305 5.35L6.24305 4.818L5.71105 3.278L4.11505 3.796V2.074ZM10.9373 2.074H9.25731V3.796L7.66131 3.278L7.14331 4.818L8.75331 5.35L7.77331 6.708L9.08931 7.674L10.0973 6.302L11.1193 7.674L12.4353 6.708L11.4553 5.35L13.0653 4.818L12.5333 3.278L10.9373 3.796V2.074ZM16.2056 14.268V0.478H14.4416V14.268H16.2056Z",fill:"currentColor"})),lge=f.forwardRef(age);f.memo(lge);const cge=(t,e)=>f.createElement("svg",{width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M14.2141 7.58138C15.262 8.21775 15.262 9.78225 14.2141 10.4186L5.40236 15.7703C4.33967 16.4157 3 15.6246 3 14.3516L3 3.64836C3 2.37542 4.33967 1.58433 5.40236 2.22973L14.2141 7.58138Z",fill:"currentColor"})),dge=f.forwardRef(cge),yx=f.memo(dge),uge=(t,e)=>f.createElement("svg",{width:51,height:28,viewBox:"0 0 51 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("g",{id:"Group 2"},f.createElement("g",{id:"Group"},f.createElement("path",{className:"stroke",className:"stroke",id:"Rectangle 6",d:"M5.14648 2C5.14648 1.17157 5.81806 0.5 6.64648 0.5H41.6465C42.4749 0.5 43.1465 1.17157 43.1465 2V25H5.14648V2Z",stroke:"#5A5E73"}),f.createElement("g",{id:"Rectangle 10"},f.createElement("mask",{id:"path-2-inside-1",fill:"white"},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.073223 26.4268C-0.0842682 26.2693 0.0272737 26 0.25 26H21.3964C21.5345 26 21.6464 26.1119 21.6464 26.25C21.6464 26.3881 21.7584 26.5 21.8964 26.5H26.3964C26.5345 26.5 26.6464 26.3881 26.6464 26.25C26.6464 26.1119 26.7584 26 26.8964 26H47.0429C47.2656 26 47.3772 26.2693 47.2197 26.4268L46.9393 26.7071C46.7518 26.8946 46.4974 27 46.2322 27H1.06066C0.795444 27 0.54109 26.8946 0.353553 26.7071L0.073223 26.4268Z"})),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.073223 26.4268C-0.0842682 26.2693 0.0272737 26 0.25 26H21.3964C21.5345 26 21.6464 26.1119 21.6464 26.25C21.6464 26.3881 21.7584 26.5 21.8964 26.5H26.3964C26.5345 26.5 26.6464 26.3881 26.6464 26.25C26.6464 26.1119 26.7584 26 26.8964 26H47.0429C47.2656 26 47.3772 26.2693 47.2197 26.4268L46.9393 26.7071C46.7518 26.8946 46.4974 27 46.2322 27H1.06066C0.795444 27 0.54109 26.8946 0.353553 26.7071L0.073223 26.4268Z",fill:"#D8D8D8"}),f.createElement("path",{className:"fill",className:"fill",d:"M46.9393 26.7071L46.2322 26L46.9393 26.7071ZM47.2197 26.4268L46.5126 25.7197L47.2197 26.4268ZM0.25 27H21.3964V25H0.25V27ZM21.8964 27.5H26.3964V25.5H21.8964V27.5ZM26.8964 27H47.0429V25H26.8964V27ZM46.5126 25.7197L46.2322 26L47.6464 27.4142L47.9268 27.1339L46.5126 25.7197ZM46.2322 26H1.06066V28H46.2322V26ZM1.06066 26L0.78033 25.7197L-0.633884 27.1339L-0.353553 27.4142L1.06066 26ZM1.06066 26L1.06066 26L-0.353553 27.4142C0.0215196 27.7893 0.530228 28 1.06066 28V26ZM46.2322 26V26V28C46.7627 28 47.2714 27.7893 47.6464 27.4142L46.2322 26ZM47.0429 27C46.3747 27 46.0401 26.1921 46.5126 25.7197L47.9268 27.1339C48.7142 26.3464 48.1565 25 47.0429 25V27ZM27.6464 26.25C27.6464 26.6642 27.3107 27 26.8964 27V25C26.2061 25 25.6464 25.5596 25.6464 26.25H27.6464ZM26.3964 27.5C27.0868 27.5 27.6464 26.9404 27.6464 26.25H25.6464C25.6464 25.8358 25.9822 25.5 26.3964 25.5V27.5ZM20.6464 26.25C20.6464 26.9404 21.2061 27.5 21.8964 27.5V25.5C22.3107 25.5 22.6464 25.8358 22.6464 26.25H20.6464ZM21.3964 27C20.9822 27 20.6464 26.6642 20.6464 26.25H22.6464C22.6464 25.5596 22.0868 25 21.3964 25V27ZM0.25 25C-0.863628 25 -1.42134 26.3464 -0.633884 27.1339L0.78033 25.7197C1.25281 26.1921 0.918176 27 0.25 27V25Z",fill:"#5A5E73",mask:"url(#path-2-inside-1)"}))),f.createElement("g",{id:"Group 19"},f.createElement("rect",{className:"stroke",className:"stroke",id:"Rectangle",x:39.5,y:6.5,width:11,height:21,rx:2,fill:"#1D2033",stroke:"#5A5E73"}),f.createElement("g",{id:"Subtract"},f.createElement("mask",{id:"path-5-outside-2",maskUnits:"userSpaceOnUse",x:40,y:7,width:10,height:20,fill:"black"},f.createElement("rect",{fill:"white",x:40,y:7,width:10,height:20}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M42 8H41.5C41.2239 8 41 8.22386 41 8.5V25.5C41 25.7761 41.2239 26 41.5 26H48.5C48.7761 26 49 25.7761 49 25.5V8.5C49 8.22386 48.7761 8 48.5 8H48C48 8.55228 47.5523 9 47 9H43C42.4477 9 42 8.55228 42 8Z"})),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M42 8H41.5C41.2239 8 41 8.22386 41 8.5V25.5C41 25.7761 41.2239 26 41.5 26H48.5C48.7761 26 49 25.7761 49 25.5V8.5C49 8.22386 48.7761 8 48.5 8H48C48 8.55228 47.5523 9 47 9H43C42.4477 9 42 8.55228 42 8Z",fill:"#1D2033"}),f.createElement("path",{className:"fill",className:"fill",d:"M42 8H42.5V7.5H42V8ZM48 8V7.5H47.5V8H48ZM41.5 8.5H42V7.5H41.5V8.5ZM41.5 8.5V8.5V7.5C40.9477 7.5 40.5 7.94772 40.5 8.5H41.5ZM41.5 25.5V8.5H40.5V25.5H41.5ZM41.5 25.5H40.5C40.5 26.0523 40.9477 26.5 41.5 26.5V25.5ZM48.5 25.5H41.5V26.5H48.5V25.5ZM48.5 25.5V26.5C49.0523 26.5 49.5 26.0523 49.5 25.5H48.5ZM48.5 8.5V25.5H49.5V8.5H48.5ZM48.5 8.5H49.5C49.5 7.94772 49.0523 7.5 48.5 7.5V8.5ZM48 8.5H48.5V7.5H48V8.5ZM47.5 8C47.5 8.27614 47.2761 8.5 47 8.5V9.5C47.8284 9.5 48.5 8.82843 48.5 8H47.5ZM47 8.5H43V9.5H47V8.5ZM43 8.5C42.7239 8.5 42.5 8.27614 42.5 8H41.5C41.5 8.82843 42.1716 9.5 43 9.5V8.5Z",fill:"#5A5E73",mask:"url(#path-5-outside-2)"}))))),pge=f.forwardRef(uge);f.memo(pge);const hge=(t,e)=>f.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("g",{id:"Action icons/Remove"},f.createElement("path",{id:"Vector",d:"M3.11111 17.7778C3.11111 19 4.11111 20 5.33334 20H14.2222C15.4445 20 16.4445 19 16.4445 17.7778V4.44444H3.11111V17.7778ZM17.5556 1.11111H13.6667L12.5556 0H7.00001L5.88889 1.11111H2V3.33333H17.5556V1.11111Z",fill:"currentColor"}))),fge=f.forwardRef(hge),p4=f.memo(fge),mge=(t,e)=>f.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M2.51367 0.804688C3.04688 1.10547 3.21777 1.50879 3.21777 2.24023V13.54C3.21777 14.5039 3.77148 15.0576 4.6123 15.0576C5.3916 15.0576 5.91113 14.5244 5.91113 13.5947V11.708C5.91113 10.7783 6.33496 10.2998 7.27148 10.2998H13.8545V2.95117C13.8545 1.52246 13.1436 0.804688 11.7354 0.804688H2.51367ZM0.743164 4.11328C0.743164 4.52344 1.0166 4.79004 1.44043 4.79004H2.28809V2.58203C2.28809 2.15137 1.92578 1.83008 1.51562 1.83008C1.10547 1.82324 0.743164 2.14453 0.743164 2.58203V4.11328ZM5.85645 4.37305C5.85645 4.14062 6.04102 3.95605 6.28711 3.95605H10.9902C11.2363 3.95605 11.4141 4.14062 11.4141 4.37305C11.4141 4.6123 11.2363 4.79688 10.9902 4.79688H6.28711C6.04102 4.79688 5.85645 4.6123 5.85645 4.37305ZM5.85645 6.77246C5.85645 6.5332 6.04102 6.3418 6.28711 6.3418H8.74121C8.9873 6.3418 9.16504 6.5332 9.16504 6.77246C9.16504 7.00488 8.9873 7.18262 8.74121 7.18262H6.28711C6.04102 7.18262 5.85645 7.00488 5.85645 6.77246ZM6.19141 15.3242H13.1025C14.4014 15.3242 15.2559 14.4355 15.2559 13.0889V11.9131C15.2559 11.5029 14.9824 11.2295 14.5586 11.2295H7.54492C7.12109 11.2295 6.84082 11.5029 6.84082 11.9131V13.2529C6.84082 14.0391 6.73828 14.7363 6.19141 15.3242Z",fill:"currentColor"})),gge=f.forwardRef(mge);f.memo(gge);const vge=(t,e)=>f.createElement("svg",{width:16,height:12,viewBox:"0 0 16 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M3.71252 0.00010515C3.58237 0.00140879 3.45649 0.0466071 3.35532 0.128358C1.61926 1.4988 0.5 3.62234 0.5 6.00212C0.5 8.38191 1.61926 10.5054 3.35532 11.8759C3.47546 11.9706 3.62835 12.0138 3.78037 11.9959C3.93239 11.9781 4.07108 11.9007 4.16595 11.7807C4.26082 11.6608 4.3041 11.5082 4.28626 11.3564C4.26842 11.2046 4.19094 11.0661 4.07084 10.9714C2.5992 9.80965 1.65385 8.02193 1.65385 6.00212C1.65385 3.98232 2.5992 2.19459 4.07084 1.03288C4.16684 0.959203 4.2372 0.857237 4.27194 0.741422C4.30669 0.625607 4.30405 0.501814 4.26442 0.387576C4.22478 0.273338 4.15015 0.174446 4.0511 0.104905C3.95205 0.035364 3.8336 -0.00130017 3.71252 0.00010515ZM12.2706 0.00010515C12.1509 0.0022027 12.0349 0.0413868 11.9386 0.112232C11.8422 0.183077 11.7703 0.282078 11.7328 0.395528C11.6953 0.508977 11.6941 0.631263 11.7292 0.745453C11.7644 0.859643 11.8343 0.960087 11.9292 1.03288C13.4008 2.19459 14.3462 3.98232 14.3462 6.00212C14.3462 8.02193 13.4008 9.80965 11.9292 10.9714C11.8697 11.0183 11.82 11.0764 11.783 11.1425C11.746 11.2085 11.7224 11.2812 11.7136 11.3564C11.7047 11.4316 11.7108 11.5078 11.7314 11.5806C11.7521 11.6534 11.7869 11.7215 11.8339 11.7809C11.8808 11.8403 11.9391 11.8899 12.0053 11.9268C12.0715 11.9637 12.1443 11.9873 12.2196 11.9961C12.2949 12.0049 12.3712 11.9988 12.4441 11.9782C12.517 11.9576 12.5852 11.9228 12.6447 11.8759C14.3807 10.5054 15.5 8.38191 15.5 6.00212C15.5 3.62234 14.3807 1.4988 12.6447 0.128358C12.539 0.0429343 12.4065 -0.00248743 12.2706 0.00010515ZM5.4985 2.25916C5.36874 2.26072 5.2433 2.3059 5.14243 2.38741C4.07443 3.23021 3.38462 4.53882 3.38462 6.00212C3.38462 7.46542 4.07443 8.77403 5.14243 9.61683C5.20173 9.66546 5.27014 9.70178 5.34368 9.72369C5.41721 9.74559 5.49438 9.75262 5.57067 9.74439C5.64696 9.73615 5.72083 9.7128 5.78797 9.6757C5.85511 9.63861 5.91417 9.58852 5.96168 9.52836C6.0092 9.4682 6.04422 9.39918 6.06469 9.32535C6.08516 9.25151 6.09067 9.17434 6.08091 9.09835C6.07115 9.02236 6.0463 8.94907 6.00782 8.88279C5.96934 8.8165 5.91801 8.75855 5.85682 8.71231C5.05328 8.07821 4.53846 7.10554 4.53846 6.00212C4.53846 4.8987 5.05328 3.92603 5.85682 3.29193C5.95283 3.21826 6.02318 3.11629 6.05793 3.00048C6.09267 2.88466 6.09004 2.76087 6.0504 2.64663C6.01077 2.53239 5.93614 2.4335 5.83708 2.36396C5.73803 2.29442 5.61958 2.25775 5.4985 2.25916ZM10.4846 2.25916C10.365 2.26126 10.2489 2.30044 10.1526 2.37129C10.0562 2.44213 9.98433 2.54113 9.94682 2.65458C9.90932 2.76803 9.90807 2.89032 9.94325 3.00451C9.97843 3.1187 10.0483 3.21914 10.1432 3.29193C10.9467 3.92603 11.4615 4.8987 11.4615 6.00212C11.4615 7.10554 10.9467 8.07821 10.1432 8.71231C10.082 8.75855 10.0307 8.8165 9.99218 8.88279C9.9537 8.94907 9.92885 9.02236 9.91909 9.09835C9.90932 9.17434 9.91484 9.25151 9.93531 9.32535C9.95578 9.39918 9.9908 9.4682 10.0383 9.52836C10.0858 9.58852 10.1449 9.63861 10.212 9.6757C10.2792 9.7128 10.353 9.73615 10.4293 9.74439C10.5056 9.75262 10.5828 9.74559 10.6563 9.72369C10.7299 9.70178 10.7983 9.66546 10.8576 9.61683C11.9256 8.77403 12.6154 7.46542 12.6154 6.00212C12.6154 4.53882 11.9256 3.23021 10.8576 2.38741C10.7522 2.30224 10.6202 2.25683 10.4846 2.25916ZM8 4.27408C7.54097 4.27408 7.10074 4.45614 6.77616 4.78021C6.45158 5.10428 6.26923 5.54382 6.26923 6.00212C6.26923 6.46043 6.45158 6.89996 6.77616 7.22403C7.10074 7.5481 7.54097 7.73016 8 7.73016C8.45903 7.73016 8.89926 7.5481 9.22384 7.22403C9.54842 6.89996 9.73077 6.46043 9.73077 6.00212C9.73077 5.54382 9.54842 5.10428 9.22384 4.78021C8.89926 4.45614 8.45903 4.27408 8 4.27408Z",fill:"currentColor"})),Cge=f.forwardRef(vge),yge=f.memo(Cge),Sge=(t,e)=>f.createElement("svg",{width:17,height:14,viewBox:"0 0 17 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M12.2683 11.7508C11.1842 12.6687 9.78171 13.2222 8.24999 13.2222C6.71827 13.2222 5.31582 12.6687 4.23171 11.7508C4.07357 11.7686 3.91282 11.7777 3.74995 11.7777C2.3184 11.7777 1.05109 11.0745 0.27458 9.99467C0.76348 8.54437 2.13475 7.5 3.74995 7.5C4.3201 7.5 4.85986 7.63013 5.34115 7.86232C6.17772 7.31694 7.17682 7 8.24994 7C9.32307 7 10.3222 7.31694 11.1587 7.86232C11.64 7.63014 12.1798 7.5 12.7499 7.5C14.3651 7.5 15.7364 8.54437 16.2253 9.99467C15.4488 11.0745 14.1815 11.7777 12.7499 11.7777C12.5871 11.7777 12.4264 11.7686 12.2683 11.7508Z",fill:"currentColor"}),f.createElement("circle",{cx:3.75017,cy:5.05543,r:1.83333,fill:"currentColor"}),f.createElement("circle",{cx:8.25018,cy:3.44437,r:2.66667,fill:"currentColor"}),f.createElement("circle",{cx:12.7502,cy:5.05543,r:1.83333,fill:"currentColor"})),bge=f.forwardRef(Sge),Pr=f.memo(bge),wge=(t,e)=>f.createElement("svg",{width:14,height:15,viewBox:"0 0 14 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("rect",{y:.5,width:4,height:2,rx:1,fill:"currentColor"}),f.createElement("rect",{y:4.5,width:8,height:2,rx:1,fill:"currentColor"}),f.createElement("rect",{y:8.5,width:11,height:2,rx:1,fill:"currentColor"}),f.createElement("rect",{y:12.5,width:14,height:2,rx:1,fill:"currentColor"})),_ge=f.forwardRef(wge);f.memo(_ge);const xge=(t,e)=>f.createElement("svg",{width:27,height:27,viewBox:"0 0 27 27",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{className:"fill",fillRule:"evenodd",clipRule:"evenodd",d:"M25.6973 25.9451H21.1687L21.141 12.9845C21.1404 12.6935 20.9044 12.4582 20.6136 12.4582H20.6124C20.3211 12.4588 20.0855 12.6954 20.0862 12.9867L20.1138 25.9451H18.582L18.5684 20.1787C18.5677 19.8878 18.3317 19.6525 18.041 19.6525H18.0397C17.7484 19.6532 17.5128 19.8899 17.5136 20.1812L17.5271 25.9451H16.2465V18.9652C17.7394 18.8332 18.9132 17.6064 18.9132 16.1167V11.0055C18.9132 10.1927 18.7407 9.39605 18.4109 8.6603C19.4524 8.72986 20.422 9.15363 21.1678 9.87388C21.9841 10.662 22.4349 11.7101 22.4372 12.8255L22.4469 15.8269C22.4478 16.1176 22.6837 16.3527 22.9743 16.3527H22.976C23.2673 16.3517 23.5027 16.1148 23.5018 15.8235L23.4921 12.8227C23.4891 11.4199 22.9239 10.1032 21.9006 9.11508C21.3161 8.55067 20.6218 8.13264 19.8652 7.87904C20.4011 7.36894 20.7356 6.64912 20.7339 5.85262C20.7306 4.31583 19.4793 3.06787 17.9432 3.06787H17.9372C17.4897 3.06888 17.0448 3.17846 16.6505 3.38481C16.3924 3.51991 16.2927 3.83864 16.4278 4.09672C16.5629 4.3548 16.8817 4.45453 17.1397 4.31942C17.3878 4.18954 17.6569 4.12335 17.9396 4.12272C18.8982 4.12225 19.677 4.89771 19.6791 5.85483C19.6812 6.81196 18.9041 7.59233 17.947 7.59438C17.9243 7.59444 17.9021 7.59639 17.8802 7.59923L17.8622 7.59996C17.8401 7.60085 17.818 7.60173 17.7959 7.60298C17.0338 6.5601 15.9641 5.80358 14.7457 5.41967C15.3925 4.85214 15.8021 4.02036 15.8021 3.09419C15.8019 1.38802 14.4139 0 12.7078 0C11.0017 0 9.61364 1.38802 9.61364 3.09419C9.61364 4.06524 10.0637 4.93283 10.7657 5.50051C9.64734 5.90414 8.66721 6.62718 7.95541 7.59997C7.87187 7.59623 7.78845 7.59401 7.70545 7.59401C7.666 7.59401 7.62666 7.59465 7.58737 7.59549L7.57846 7.59492C7.57183 7.59447 7.56522 7.59401 7.55847 7.59401C6.60135 7.59401 5.82267 6.81534 5.82267 5.85821C5.82267 4.90108 6.60135 4.1224 7.55847 4.1224C7.84778 4.1224 8.13396 4.19486 8.38603 4.33192C8.64195 4.47098 8.96216 4.37637 9.10138 4.12045C9.24049 3.86453 9.14583 3.54428 8.88991 3.40511C8.48365 3.18421 8.02322 3.06745 7.55842 3.06745C6.01963 3.06745 4.76772 4.31937 4.76772 5.85816C4.76772 6.69611 5.1395 7.44841 5.72611 7.96041C3.73207 8.72933 2.31831 10.6241 2.31831 12.8341V15.8252C2.31831 16.1165 2.55446 16.3527 2.84576 16.3527C3.13707 16.3527 3.37321 16.1165 3.37321 15.8252V12.8341C3.37321 10.6467 5.11956 8.84709 7.33588 8.66521C7.00751 9.39953 6.83575 10.1944 6.83575 11.0055V16.1167C6.83575 17.6359 8.05639 18.8817 9.59138 18.9718V25.945H8.15448V20.1798C8.15448 19.8885 7.91833 19.6523 7.62703 19.6523C7.33572 19.6523 7.09958 19.8885 7.09958 20.1798V25.9451H5.80305V12.9909C5.80305 12.6996 5.56691 12.4635 5.2756 12.4635C4.9843 12.4635 4.74815 12.6996 4.74815 12.9909V25.9451H0.564314C0.27301 25.9451 0.0368652 26.1812 0.0368652 26.4726C0.0368652 26.7639 0.272957 27 0.564314 27H25.6974C25.9887 27 26.2248 26.7639 26.2248 26.4726C26.2247 26.1812 25.9886 25.9451 25.6973 25.9451ZM10.6685 3.09419C10.6685 1.96973 11.5833 1.0549 12.7078 1.0549C13.8322 1.0549 14.747 1.96973 14.747 3.09419C14.747 4.21864 13.8322 5.13348 12.7078 5.13348C11.5834 5.13348 10.6685 4.21864 10.6685 3.09419ZM15.1915 11.1833C15.1915 10.892 15.4277 10.6558 15.719 10.6558C16.0103 10.6558 16.2465 10.892 16.2464 11.1833V17.9042C17.1563 17.7792 17.8582 17.0255 17.8582 16.1167V11.0055C17.8582 10.0952 17.594 9.20869 17.0943 8.44193C16.1745 7.03081 14.5969 6.18838 12.8744 6.18838C11.1547 6.18838 9.57862 7.02865 8.6583 8.43608C8.15606 9.20415 7.8906 10.0927 7.8906 11.0055V16.1167C7.8906 17.0548 8.63863 17.8279 9.59138 17.9143V11.1833C9.59138 10.892 9.82753 10.6558 10.1188 10.6558C10.4101 10.6558 10.6463 10.892 10.6463 11.1833V25.9452H12.2581V18.6073C12.2581 18.316 12.4943 18.0798 12.7856 18.0798C13.0769 18.0798 13.313 18.316 13.313 18.6073V25.9451H15.1915V11.1833Z",fill:"#5A5E73"})),Age=f.forwardRef(xge);f.memo(Age);const Tge=(t,e)=>f.createElement("svg",{width:15,height:12,viewBox:"0 0 15 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.0001 8.04582C14.3125 9.00191 13.1903 9.62451 11.9226 9.62451C10.6548 9.62451 9.53237 9.00167 8.84473 8.04526C9.27778 6.76107 10.4921 5.83635 11.9223 5.83635C13.3528 5.83635 14.5672 6.76134 15.0001 8.04582Z",fill:"#D5DDE0"}),f.createElement("circle",{cx:11.9224,cy:3.67145,r:1.62356,fill:"#D5DDE0"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.15541 8.04584C5.46773 9.00192 4.34553 9.62452 3.07791 9.62452C1.81004 9.62452 0.687643 9.00168 0 8.04528C0.433054 6.76109 1.64734 5.83636 3.07761 5.83636C4.50809 5.83636 5.72252 6.76136 6.15541 8.04584Z",fill:"#D5DDE0"}),f.createElement("circle",{cx:3.07767,cy:3.67146,r:1.62356,fill:"#D5DDE0"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.905 9.64894C10.8964 11.0513 9.25049 11.9645 7.39126 11.9645C5.53199 11.9645 3.88602 11.0512 2.87744 9.64885C3.51242 7.76505 5.29352 6.40848 7.39147 6.40848C9.04385 6.40848 10.4997 7.25 11.3538 8.52786C11.5729 8.85564 11.8732 9.57236 11.905 9.64894Z",fill:"white"}),f.createElement("circle",{cx:7.39099,cy:3.23329,r:2.38123,fill:"white"})),Ige=f.forwardRef(Tge);f.memo(Ige);const Ege=(t,e)=>f.createElement("svg",{width:"12px",height:"8px",viewBox:"0 0 12 8",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:e,...t},f.createElement("title",null,"terminal-prompt"),f.createElement("desc",null,"Created with Sketch."),f.createElement("defs",null),f.createElement("g",{id:"V3-assets",stroke:"none",strokeWidth:1,fill:"currentColor",fillRule:"evenodd"},f.createElement("g",{id:"Assets",transform:"translate(-1127.000000, -653.000000)"},f.createElement("g",{id:"terminal-prompt",transform:"translate(1127.000000, 653.000000)"},f.createElement("path",{d:"M1.11715556,7.71368889 C0.988266667,7.71368889 0.859377778,7.66302222 0.763377778,7.56168889 C0.576711111,7.36613333 0.583822222,7.0568 0.779377778,6.87102222 L3.79271111,3.99991111 L0.779377778,1.12968889 C0.583822222,0.943022222 0.576711111,0.633688889 0.763377778,0.438133333 C0.949155556,0.242577778 1.25848889,0.234577778 1.45404444,0.421244444 L4.83893333,3.64613333 C4.93582222,3.73857778 4.99093333,3.86657778 4.99093333,3.99991111 C4.99093333,4.13413333 4.93582222,4.26213333 4.83893333,4.35368889 L1.45404444,7.57857778 C1.35982222,7.66924444 1.23804444,7.71368889 1.11715556,7.71368889",id:"Fill-3",strokeWidth:.5}),f.createElement("path",{d:"M10.9112889,7.71368889 L6.07484444,7.71368889 C5.82062222,7.71368889 5.6144,7.50746667 5.6144,7.25324444 C5.6144,6.99902222 5.82062222,6.7928 6.07484444,6.7928 L10.9112889,6.7928 C11.1655111,6.7928 11.3717333,6.99902222 11.3717333,7.25324444 C11.3717333,7.50746667 11.1655111,7.71368889 10.9112889,7.71368889",id:"Fill-7"}),f.createElement("path",{d:"M10.9112889,7.71368889 L6.07484444,7.71368889 C5.82062222,7.71368889 5.6144,7.50746667 5.6144,7.25324444 C5.6144,6.99902222 5.82062222,6.7928 6.07484444,6.7928 L10.9112889,6.7928 C11.1655111,6.7928 11.3717333,6.99902222 11.3717333,7.25324444 C11.3717333,7.50746667 11.1655111,7.71368889 10.9112889,7.71368889 Z",id:"Stroke-9",strokeWidth:.5}))))),kge=f.forwardRef(Ege),Rge=f.memo(kge),Pge=(t,e)=>f.createElement("svg",{width:16,height:14,viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M2.13062 13.246H13.8694C15.2943 13.246 16 12.5471 16 11.1493V2.85751C16 1.45971 15.2943 0.754028 13.8694 0.754028L2.13062 0.754028C0.712468 0.754028 -1.12995e-08 1.45971 0 2.85751L6.70289e-08 11.1493C7.83284e-08 12.5471 0.712468 13.246 2.13062 13.246ZM2.14419 12.1535C1.46565 12.1535 1.09245 11.7939 1.09245 11.0882L1.09245 2.91857C1.09245 2.21289 1.46565 1.84648 2.14419 1.84648L13.8558 1.84648C14.5276 1.84648 14.9075 2.21289 14.9075 2.91857V11.0882C14.9075 11.7939 14.5276 12.1535 13.8558 12.1535H2.14419Z",fill:"currentColor"}),f.createElement("path",{d:"M4.30159 8.32905C3.71805 8.69546 3.27021 7.888 3.79947 7.56909L5.43476 6.57842L3.79947 5.59453C3.26342 5.26883 3.71805 4.46815 4.30159 4.83457L6.25579 6.05594C6.6222 6.28664 6.64256 6.8634 6.25579 7.10768L4.30159 8.32905Z",fill:"currentColor"}),f.createElement("path",{d:"M7.09718 8.75653C6.85291 8.75653 6.66292 8.55976 6.66292 8.32227C6.66292 8.07799 6.85291 7.88122 7.09718 7.88122H9.68242C9.9267 7.88122 10.1167 8.07799 10.1167 8.32227C10.1167 8.55976 9.9267 8.75653 9.68242 8.75653H7.09718Z",fill:"currentColor"})),Lge=f.forwardRef(Pge);f.memo(Lge);const Mge=(t,e)=>f.createElement("svg",{width:"12px",height:"12px",viewBox:"0 0 12 12",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{enableBackground:"new 0 0 12 12"},xmlSpace:"preserve",ref:e,...t},f.createElement("g",{id:"Symbols"},f.createElement("g",{id:"Sidebar-hover-preview",transform:"translate(-266.000000, -337.000000)"},f.createElement("g",{id:"Group-2",transform:"translate(266.000000, 337.000000)"},f.createElement("g",null,f.createElement("path",{fill:"currentColor",d:"M7,12h5V7C12,9.8,9.8,12,7,12z"}))))),f.createElement("g",null,f.createElement("path",{fill:"transparent",d:"M11,3v4c0,2.2-1.8,4-4,4H3v1h4c2.8,0,5-2.2,5-5V3H11z"}))),Oge=f.forwardRef(Mge);f.memo(Oge);const Dge=(t,e)=>f.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24ZM12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21Z",fill:"currentColor"})),Fge=f.forwardRef(Dge);f.memo(Fge);const Nge=(t,e)=>f.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24ZM12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21Z",fill:"#3E4257"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24ZM12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21Z",fill:"#3E4257"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12H3C3 16.9706 7.02944 21 12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3V0C18.6274 0 24 5.37258 24 12Z",fill:"currentColor"})),Hge=f.forwardRef(Nge);f.memo(Hge);const Bge=(t,e)=>f.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M10.709 20.6545C16.1582 20.6545 20.6699 16.1331 20.6699 10.6936C20.6699 5.24438 16.1484 0.732666 10.6992 0.732666C5.25977 0.732666 0.748047 5.24438 0.748047 10.6936C0.748047 16.1331 5.26953 20.6545 10.709 20.6545ZM10.709 18.9944C6.09961 18.9944 2.41797 15.303 2.41797 10.6936C2.41797 6.08423 6.08984 2.39282 10.6992 2.39282C15.3086 2.39282 19 6.08423 19.0098 10.6936C19.0195 15.303 15.3184 18.9944 10.709 18.9944ZM10.6992 6.0061C11.2168 6.0061 11.6562 5.56665 11.6562 5.04907C11.6562 4.51196 11.2168 4.08228 10.6992 4.08228C10.1719 4.08228 9.74219 4.51196 9.74219 5.04907C9.74219 5.56665 10.1719 6.0061 10.6992 6.0061ZM9.14648 12.1975C9.9375 12.969 11.0215 12.7932 11.6758 11.8752L15.4941 6.54321C15.8457 6.05493 15.3281 5.54712 14.8398 5.88892L9.45898 9.65845C8.53125 10.303 8.36523 11.3967 9.14648 12.1975ZM6.73438 7.72485C7.26172 7.72485 7.69141 7.2854 7.69141 6.76782C7.69141 6.23071 7.26172 5.81079 6.73438 5.81079C6.20703 5.81079 5.77734 6.23071 5.77734 6.76782C5.77734 7.2854 6.20703 7.72485 6.73438 7.72485ZM5.07422 11.6506C5.61133 11.6506 6.04102 11.2209 6.04102 10.6936C6.04102 10.1663 5.61133 9.73657 5.07422 9.73657C4.55664 9.73657 4.11719 10.1663 4.11719 10.6936C4.11719 11.2209 4.55664 11.6506 5.07422 11.6506ZM16.3242 11.6506C16.8418 11.6506 17.2812 11.2209 17.2812 10.6936C17.2812 10.1663 16.8418 9.73657 16.3242 9.73657C15.7871 9.73657 15.3672 10.1663 15.3672 10.6936C15.3672 11.2209 15.7871 11.6506 16.3242 11.6506ZM6.75391 15.5862C7.28125 15.5862 7.71094 15.1467 7.71094 14.6194C7.71094 14.092 7.28125 13.6624 6.75391 13.6624C6.22656 13.6624 5.79688 14.092 5.79688 14.6194C5.79688 15.1467 6.22656 15.5862 6.75391 15.5862ZM14.6445 15.5862C15.1719 15.5862 15.6016 15.1467 15.6016 14.6194C15.6016 14.092 15.1719 13.6624 14.6445 13.6624C14.1172 13.6624 13.6875 14.092 13.6875 14.6194C13.6875 15.1467 14.1172 15.5862 14.6445 15.5862Z",fill:"currentColor"})),zge=f.forwardRef(Bge);f.memo(zge);const Vge=(t,e)=>f.createElement("svg",{width:18,height:15,viewBox:"0 0 18 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M9.61523 14.9556C10.6113 14.9556 11.4805 14.8457 12.2227 14.626C12.9648 14.4062 13.5435 14.0986 13.9585 13.7031C14.3784 13.3076 14.5884 12.8511 14.5884 12.3335C14.5884 11.9868 14.5298 11.6987 14.4126 11.4692C14.2954 11.2397 14.1611 11.0396 14.0098 10.8687C13.8584 10.6978 13.7217 10.5342 13.5996 10.3779C13.4824 10.2217 13.4238 10.041 13.4238 9.83594C13.4238 9.65527 13.5215 9.4917 13.7168 9.34521C13.9121 9.19385 14.1611 9.04492 14.4639 8.89844C14.7666 8.74707 15.0889 8.5835 15.4307 8.40771C15.7725 8.22705 16.0947 8.01465 16.3975 7.77051C16.7002 7.52148 16.9492 7.22607 17.1445 6.88428C17.3398 6.5376 17.4375 6.125 17.4375 5.64648C17.4375 4.93359 17.2617 4.28906 16.9102 3.71289C16.5635 3.13184 16.0679 2.63135 15.4233 2.21143C14.7788 1.7915 14.0073 1.47168 13.1089 1.25195C12.2104 1.02734 11.2168 0.915039 10.1279 0.915039C8.69727 0.915039 7.396 1.08594 6.22412 1.42773C5.05225 1.76465 4.04395 2.25049 3.19922 2.88525C2.35938 3.51514 1.70996 4.26709 1.25098 5.14111C0.791992 6.01514 0.5625 6.98438 0.5625 8.04883C0.5625 9.08398 0.779785 10.0239 1.21436 10.8687C1.64893 11.7134 2.26416 12.4409 3.06006 13.0513C3.86084 13.6616 4.81543 14.1304 5.92383 14.4575C7.03711 14.7896 8.26758 14.9556 9.61523 14.9556ZM9.49072 12.2822C9.14404 12.2822 8.82666 12.1992 8.53857 12.0332C8.25537 11.8623 8.02588 11.6353 7.8501 11.3521C7.6792 11.064 7.59375 10.7441 7.59375 10.3926C7.59375 10.0459 7.6792 9.73096 7.8501 9.44775C8.02588 9.15967 8.25537 8.93018 8.53857 8.75928C8.82666 8.58838 9.14404 8.50293 9.49072 8.50293C9.83252 8.50293 10.1475 8.58838 10.4355 8.75928C10.7236 8.93018 10.9531 9.15967 11.124 9.44775C11.2949 9.73096 11.3804 10.0459 11.3804 10.3926C11.3804 10.7441 11.2949 11.064 11.124 11.3521C10.958 11.6353 10.731 11.8623 10.4429 12.0332C10.1548 12.1992 9.8374 12.2822 9.49072 12.2822ZM3.87305 8.92041C3.55078 8.92041 3.2749 8.80566 3.04541 8.57617C2.8208 8.34668 2.7085 8.0708 2.7085 7.74854C2.7085 7.44092 2.82568 7.17236 3.06006 6.94287C3.29443 6.7085 3.56543 6.59131 3.87305 6.59131C4.19043 6.59131 4.46143 6.70361 4.68604 6.92822C4.91064 7.15283 5.02295 7.42627 5.02295 7.74854C5.02295 8.0708 4.91064 8.34668 4.68604 8.57617C4.46143 8.80566 4.19043 8.92041 3.87305 8.92041ZM6.56836 6.44482C6.1582 6.44482 5.80908 6.30566 5.521 6.02734C5.23779 5.74414 5.09619 5.39746 5.09619 4.9873C5.09619 4.58203 5.23779 4.24023 5.521 3.96191C5.80908 3.68359 6.1582 3.54443 6.56836 3.54443C6.96387 3.54443 7.30322 3.68359 7.58643 3.96191C7.87451 4.24023 8.01855 4.58203 8.01855 4.9873C8.01855 5.39746 7.87451 5.74414 7.58643 6.02734C7.30322 6.30566 6.96387 6.44482 6.56836 6.44482ZM10.2964 5.33154C9.979 5.33154 9.70312 5.2168 9.46875 4.9873C9.23926 4.75781 9.12451 4.48193 9.12451 4.15967C9.12451 3.8374 9.23926 3.56152 9.46875 3.33203C9.70312 3.10254 9.979 2.98779 10.2964 2.98779C10.6284 2.98779 10.9067 3.10254 11.1313 3.33203C11.356 3.55664 11.4683 3.83252 11.4683 4.15967C11.4683 4.48193 11.356 4.75781 11.1313 4.9873C10.9067 5.2168 10.6284 5.33154 10.2964 5.33154ZM13.6143 5.93213C13.3506 5.93213 13.1235 5.8418 12.9331 5.66113C12.7476 5.47559 12.6548 5.24854 12.6548 4.97998C12.6548 4.72119 12.7476 4.49902 12.9331 4.31348C13.1235 4.12305 13.3506 4.02783 13.6143 4.02783C13.873 4.02783 14.0952 4.12305 14.2808 4.31348C14.4663 4.50391 14.5591 4.72607 14.5591 4.97998C14.5591 5.24365 14.4663 5.46826 14.2808 5.65381C14.0952 5.83936 13.873 5.93213 13.6143 5.93213Z",fill:"currentColor"})),Wge=f.forwardRef(Vge),jge=f.memo(Wge),Uge=(t,e)=>f.createElement("svg",{width:"18px",height:"18px",viewBox:"0 0 17 19",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:e,...t},f.createElement("g",{fill:"#FFFFFF"},f.createElement("path",{d:"M0.114122361,10.2053088 L0.114122361,16.7515405 C0.114122361,17.5987042 0.807248458,18.2918312 1.65441218,18.2918312 L15.9020921,18.2918312 C16.7492558,18.2918312 17.4423829,17.5987042 17.4423829,16.7515405 L17.4423829,10.2053088 L0.114122361,10.2053088 Z M2.98956836,16.2563801 C2.5414375,16.2586368 2.16412117,15.91493 2.16205257,15.4883737 L2.15006692,13.0172039 C2.14802156,12.5906717 2.52200093,12.2430151 2.96996681,12.2407601 C3.41809767,12.2384793 3.79543811,12.5822102 3.7974826,13.0087646 L3.80946922,15.4799141 C3.81151361,15.9064685 3.43755825,16.2541233 2.98956836,16.2563801 Z M5.56528087,16.2563801 C5.11715001,16.2586368 4.73981044,15.91493 4.73776508,15.4883737 L4.72575532,13.0172039 C4.72373407,12.5906717 5.09768933,12.2430151 5.54565618,12.2407601 C5.99378704,12.2384793 6.37115072,12.5822102 6.37317197,13.0087646 L6.38518174,15.4799141 C6.38722622,15.9064685 6.01324772,16.2541233 5.56528087,16.2563801 Z M8.20217183,16.2563801 C7.75406411,16.2586368 7.37672464,15.91493 7.37467918,15.4883737 L7.36267029,13.0172039 C7.36064904,12.5906717 7.73460431,12.2430151 8.18256931,12.2407601 C8.63070114,12.2384793 9.00804061,12.5822102 9.01008597,13.0087646 L9.0220726,15.4799141 C9.02414032,15.9064685 8.65016085,16.2541233 8.20217183,16.2563801 Z M13.5154611,15.9475037 C12.6882281,15.9475037 12.0178059,15.2560938 12.0178059,14.4030072 C12.0178059,13.5499447 12.6882281,12.8585348 13.5154611,12.8585348 C14.3426718,12.8585348 15.0131162,13.5499447 15.0131162,14.4030072 C15.0131162,15.2560939 14.3426718,15.9475037 13.5154611,15.9475037 Z",id:"Shape"}),f.createElement("path",{d:"M17.442383,9.05009214 L17.442383,2.50386053 C17.442383,1.65669681 16.7492559,0.963570708 15.9020922,0.963570708 L1.65441218,0.963570708 C0.807248458,0.963570708 0.114122361,1.65669681 0.114122361,2.50386053 L0.114122361,9.05009214 L17.442383,9.05009214 Z M13.7121333,3.61679578 C14.539344,3.61679578 15.2097903,4.30820571 15.2097903,5.16126907 C15.2097903,6.01435567 14.539344,6.70576647 13.7121333,6.70576647 C12.8849003,6.70576647 12.2144781,6.01435567 12.2144781,5.16126907 C12.2144781,4.30820571 12.8849003,3.61679578 13.7121333,3.61679578 Z M8.37924344,2.99902099 C8.82737343,2.99674103 9.2047129,3.34047204 9.20675826,3.76702735 L9.21874489,6.23817503 C9.22081251,6.66473033 8.84683499,7.01238611 8.39884403,7.01464196 C7.95071404,7.01689868 7.57339683,6.6731909 7.57132921,6.2466356 L7.55934258,3.77546478 C7.55729732,3.34893251 7.93127669,3.00127674 8.37924344,2.99902099 Z M5.74232847,2.99902099 C6.19045933,2.99674103 6.56779978,3.34047204 6.56984426,3.76702735 L6.58183089,6.23817503 C6.58389939,6.66473033 6.20992001,7.01238611 5.76193003,7.01464196 C5.31382328,7.01689868 4.93648283,6.6731909 4.93443835,6.2466356 L4.92242858,3.77546478 C4.92040724,3.34893251 5.2943626,3.00127674 5.74232847,2.99902099 Z M3.16663997,2.99902099 C3.61477083,2.99674103 3.9921104,3.34047204 3.99415576,3.76702735 L4.00614142,6.23817503 C4.00818678,6.66473033 3.6342074,7.01238611 3.18624153,7.01464196 C2.73811067,7.01689868 2.36077022,6.6731909 2.35872574,6.2466356 L2.34673911,3.77546478 C2.34469463,3.34893251 2.71864999,3.00127674 3.16663997,2.99902099 Z",id:"Shape"}))),$ge=f.forwardRef(Uge),qge=f.memo($ge),Gge=(t,e)=>f.createElement("svg",{width:10,height:10,viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M8.89648 5.7666C8.89648 5.14486 8.76302 4.59798 8.49609 4.12598C8.22917 3.65397 7.84505 3.28451 7.34375 3.01758C6.84245 2.75065 6.24186 2.61719 5.54199 2.61719H2.71484L1.1084 2.69043L1.2793 2.97852L2.44141 2.00684L3.55957 0.908203C3.61165 0.859375 3.65234 0.805664 3.68164 0.74707C3.71094 0.685221 3.72559 0.611979 3.72559 0.527344C3.72559 0.377604 3.67676 0.252279 3.5791 0.151367C3.48145 0.0504557 3.35286 0 3.19336 0C3.04362 0 2.91178 0.0569661 2.79785 0.170898L0.170898 2.75879C0.11556 2.81413 0.0732422 2.8776 0.0439453 2.94922C0.0146484 3.01758 0 3.08919 0 3.16406C0 3.23893 0.0146484 3.31217 0.0439453 3.38379C0.0732422 3.4554 0.11556 3.51725 0.170898 3.56934L2.79785 6.15723C2.91178 6.27116 3.04362 6.32812 3.19336 6.32812C3.35286 6.32812 3.48145 6.2793 3.5791 6.18164C3.67676 6.08073 3.72559 5.95378 3.72559 5.80078C3.72559 5.7194 3.71094 5.64779 3.68164 5.58594C3.65234 5.52083 3.61165 5.46387 3.55957 5.41504L2.44141 4.32129L1.2793 3.34961L1.1084 3.6377L2.71484 3.71094H5.55664C6.03841 3.71094 6.44694 3.7972 6.78223 3.96973C7.12077 4.139 7.37793 4.37663 7.55371 4.68262C7.72949 4.98535 7.81738 5.33366 7.81738 5.72754C7.81738 6.12467 7.72949 6.47786 7.55371 6.78711C7.37793 7.0931 7.12077 7.33398 6.78223 7.50977C6.44694 7.6888 6.03841 7.77832 5.55664 7.77832H4.47754C4.31478 7.77832 4.18131 7.83203 4.07715 7.93945C3.97298 8.04688 3.9209 8.17546 3.9209 8.3252C3.9209 8.47493 3.97298 8.60352 4.07715 8.71094C4.18131 8.81836 4.31478 8.87207 4.47754 8.87207H5.60059C6.28744 8.87207 6.87663 8.74349 7.36816 8.48633C7.86296 8.22917 8.24056 7.86784 8.50098 7.40234C8.76465 6.93685 8.89648 6.3916 8.89648 5.7666Z",fill:"currentColor"})),Kge=f.forwardRef(Gge),Zge=f.memo(Kge),Qge=(t,e)=>f.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("rect",{width:23.9994,height:24,rx:5,fill:"none"}),f.createElement("path",{d:"M12.069 17.3334C12.069 17.1565 11.9998 16.9869 11.8765 16.8619C11.7533 16.7369 11.5863 16.6666 11.4121 16.6666C10.1925 16.6666 9.02293 16.175 8.16041 15.2997C7.29811 14.4246 6.81357 13.2377 6.81357 12C6.81357 10.7623 7.29811 9.57532 8.16041 8.70026C9.02282 7.82502 10.1924 7.33339 11.4121 7.33339C12.6316 7.33339 13.8012 7.82502 14.6635 8.70026C15.5259 9.57538 16.0103 10.7623 16.0103 12C16.0103 12.1 16.0024 12.2 15.9966 12.2973L15.9743 12.2493L15.9741 12.2493C15.8899 12.0639 15.7266 11.928 15.531 11.8804C15.3353 11.8327 15.1289 11.8787 14.971 12.0051C14.813 12.1316 14.7208 12.3244 14.7208 12.5287C14.7207 12.6249 14.7412 12.7201 14.7813 12.8074L15.559 14.52C15.632 14.6807 15.765 14.8054 15.9286 14.8665C16.0923 14.9277 16.2732 14.9203 16.4314 14.846L18.1183 14.0567C18.3314 13.9569 18.4759 13.7493 18.4972 13.5121C18.5187 13.2749 18.4138 13.0442 18.222 12.9068C18.0303 12.7694 17.781 12.7462 17.5679 12.846L17.2394 13.0007C17.2947 12.6701 17.3231 12.3354 17.3242 12C17.3242 10.4087 16.7013 8.88254 15.5925 7.75739C14.4838 6.63215 12.98 6 11.4121 6C9.8441 6 8.34031 6.63215 7.23164 7.75739C6.12289 8.88263 5.5 10.4088 5.5 12C5.5 13.5912 6.12289 15.1175 7.23164 16.2426C8.34039 17.3679 9.84416 18 11.4121 18C11.5863 18 11.7533 17.9298 11.8765 17.8047C11.9998 17.6797 12.069 17.5101 12.069 17.3334Z",fill:"currentColor"})),Yge=f.forwardRef(Qge),HF=f.memo(Yge),Xge=(t,e)=>f.createElement("svg",{width:10,height:10,viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M5.43903 9.12659C6.0645 9.12659 6.65281 9.00738 7.20397 8.76896C7.75512 8.53053 8.23971 8.20077 8.65772 7.77966C9.07883 7.36165 9.40704 6.87707 9.64237 6.32591C9.88079 5.77475 10 5.18644 10 4.56097C10 3.9355 9.88079 3.34874 9.64237 2.80068C9.40704 2.24952 9.07883 1.76339 8.65772 1.34228C8.23971 0.921174 7.75512 0.592957 7.20397 0.357632C6.65281 0.119211 6.0645 0 5.43903 0C4.81666 0 4.22989 0.117663 3.67873 0.352988C3.13068 0.588313 2.64609 0.914981 2.22498 1.33299C1.80697 1.751 1.47721 2.23404 1.23569 2.7821C0.997267 3.33016 0.876509 3.91538 0.873412 4.53775H1.83019C1.83329 4.04233 1.92928 3.57787 2.11816 3.14438C2.30704 2.70779 2.56559 2.32693 2.8938 2.00181C3.22511 1.67669 3.60752 1.42279 4.04101 1.2401C4.47451 1.05432 4.94051 0.961427 5.43903 0.961427C5.93755 0.961427 6.4051 1.05432 6.84169 1.2401C7.27828 1.42588 7.66068 1.68288 7.9889 2.0111C8.32021 2.33932 8.57876 2.72172 8.76454 3.15831C8.95033 3.5949 9.04322 4.06245 9.04322 4.56097C9.04322 5.05949 8.95033 5.52704 8.76454 5.96363C8.57876 6.40022 8.32021 6.78417 7.9889 7.11549C7.66068 7.4468 7.27828 7.70535 6.84169 7.89113C6.4051 8.07691 5.93755 8.16826 5.43903 8.16516C5.05508 8.16516 4.6897 8.10943 4.34291 7.99796C3.99921 7.88649 3.68183 7.72857 3.39077 7.52421C3.10281 7.31675 2.8489 7.07369 2.62906 6.79501C2.52998 6.68664 2.41696 6.61852 2.29001 6.59065C2.16306 6.56278 2.04384 6.5922 1.93238 6.6789C1.824 6.75631 1.76362 6.86313 1.75124 6.99937C1.74195 7.13252 1.78994 7.26257 1.89522 7.38952C2.16151 7.73322 2.48198 8.03511 2.85665 8.29521C3.23131 8.55531 3.63848 8.75812 4.07817 8.90365C4.51785 9.05227 4.97147 9.12659 5.43903 9.12659ZM0.35322 3.64599C0.235557 3.64599 0.145762 3.67386 0.0838346 3.72959C0.0250033 3.78223 -0.00286415 3.85035 0.000232229 3.93395C0.00332861 4.01446 0.0373888 4.09806 0.102413 4.18476L1.19853 5.69889C1.27594 5.80107 1.36574 5.85216 1.46792 5.85216C1.5701 5.85216 1.65835 5.80107 1.73266 5.69889L2.83342 4.18476C2.89535 4.10116 2.92631 4.01756 2.92631 3.93395C2.92941 3.85035 2.90154 3.78223 2.84271 3.72959C2.78698 3.67386 2.70028 3.64599 2.58262 3.64599H0.35322ZM5.43438 5.26695C5.69448 5.26695 5.82917 5.13225 5.83846 4.86287L5.90813 2.80997C5.91432 2.67373 5.87097 2.56226 5.77808 2.47556C5.68519 2.38886 5.56908 2.34551 5.42974 2.34551C5.2904 2.34551 5.17584 2.38886 5.08604 2.47556C4.99625 2.55916 4.95444 2.66908 4.96064 2.80532L5.02102 4.86751C5.03031 5.1338 5.16809 5.26695 5.43438 5.26695ZM5.43438 6.73463C5.58301 6.73463 5.70841 6.68973 5.81059 6.59994C5.91587 6.50705 5.96851 6.38784 5.96851 6.24231C5.96851 6.09987 5.91587 5.98221 5.81059 5.88932C5.70841 5.79643 5.58301 5.74998 5.43438 5.74998C5.28576 5.74998 5.16035 5.79643 5.05817 5.88932C4.95599 5.98221 4.9049 6.09987 4.9049 6.24231C4.9049 6.38474 4.95599 6.5024 5.05817 6.59529C5.16345 6.68819 5.28885 6.73463 5.43438 6.73463Z",fill:"currentColor"})),Jge=f.forwardRef(Xge),e3e=f.memo(Jge),t3e=(t,e)=>f.createElement("svg",{width:19,height:16,viewBox:"0 0 19 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M7.37032 4.31936C7.5256 4.31936 7.63852 4.20644 7.65969 4.04411C7.88554 2.69607 7.86437 2.70313 9.2477 2.44905C9.43826 2.41376 9.54413 2.31495 9.54413 2.15968C9.54413 1.99735 9.43826 1.89854 9.27593 1.86326C7.83614 1.55977 7.80791 1.588 7.65969 0.275254C7.64558 0.112925 7.5256 0 7.37032 0C7.20799 0 7.10213 0.112925 7.0739 0.268196C6.84099 1.64446 6.89039 1.69387 5.47177 1.86326C5.30944 1.87737 5.18946 1.99735 5.18946 2.15968C5.18946 2.31495 5.29533 2.41376 5.45766 2.44905C6.89039 2.75254 6.90451 2.73136 7.0739 4.05823C7.08801 4.20644 7.20799 4.31936 7.37032 4.31936ZM14.2729 6.91663C14.4422 6.91663 14.5693 6.79665 14.6046 6.6202C14.8939 5.13101 14.8093 5.10984 16.3549 4.8487C16.5596 4.81341 16.6866 4.70049 16.6866 4.5311C16.6866 4.35465 16.5596 4.24173 16.3902 4.20644C14.7951 3.88884 14.7457 3.8959 14.6046 2.44199C14.5834 2.25849 14.4422 2.13851 14.2729 2.13851C14.0964 2.13851 13.9764 2.25849 13.9482 2.43494C13.7153 3.96648 13.7435 4.03705 12.1696 4.20644C11.9932 4.22056 11.8591 4.35465 11.8661 4.5311C11.8732 4.70049 11.9791 4.81341 12.1626 4.8487C13.7435 5.15218 13.7859 5.15924 13.9482 6.62726C13.9623 6.79665 14.0964 6.91663 14.2729 6.91663ZM3.38266 9.42214C3.55911 9.42214 3.68615 9.2951 3.70027 9.11866C3.86259 7.61535 3.91906 7.60829 5.46472 7.34715C5.66939 7.31187 5.78938 7.19894 5.78938 7.02955C5.78938 6.85311 5.66939 6.74019 5.50001 6.7049C3.90494 6.3873 3.912 6.3873 3.70027 4.94045C3.67909 4.76401 3.55911 4.62991 3.38266 4.62991C3.20622 4.62991 3.07918 4.76401 3.058 4.93339C2.89568 6.47199 2.84627 6.47199 1.27238 6.7049C1.09593 6.73313 0.975952 6.85311 0.975952 7.02955C0.975952 7.19894 1.08888 7.31187 1.26532 7.34715C2.84627 7.6577 2.81804 7.67181 3.058 9.13277C3.08624 9.2951 3.20622 9.42214 3.38266 9.42214ZM15.5856 15.5342C16.1291 16.0847 17.0607 16.0847 17.6112 15.5342C18.1617 14.9766 18.1617 14.0662 17.6112 13.5086L10.9204 6.73313C10.384 6.18968 9.45238 6.18968 8.89481 6.73313C8.3443 7.29069 8.35136 8.2082 8.89481 8.75871L15.5856 15.5342ZM12.092 10.4808L9.75586 8.15174C9.53707 7.93295 9.44532 7.63652 9.67117 7.41773C9.87584 7.22011 10.1723 7.29775 10.3981 7.5236L12.699 9.83855L12.092 10.4808ZM6.98214 16C7.20799 16 7.38444 15.8447 7.40561 15.5977C7.62441 13.6286 7.70204 13.5227 9.74881 13.2475C10.017 13.2122 10.1793 13.0498 10.1793 12.824C10.1793 12.6052 10.017 12.4358 9.80527 12.3935C7.68793 11.9771 7.61735 11.9982 7.40561 10.0432C7.38444 9.79621 7.20799 9.64093 6.98214 9.64093C6.74924 9.64093 6.57985 9.79621 6.55162 10.0362C6.32577 12.0688 6.25519 12.1394 4.16608 12.3935C3.94729 12.4217 3.7779 12.6052 3.7779 12.824C3.7779 13.0428 3.94023 13.2051 4.15902 13.2475C6.27636 13.6709 6.32577 13.6639 6.55162 15.6189C6.57985 15.8447 6.76335 16 6.98214 16Z",fill:"currentColor"})),n3e=f.forwardRef(t3e),ls=f.memo(n3e),o3e=(t,e)=>f.createElement("svg",{width:15,height:14,viewBox:"0 0 15 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M3.07753 11.3883C3.04642 11.4549 3.06034 11.534 3.11238 11.586L3.16642 11.64C3.21845 11.6921 3.29748 11.706 3.36416 11.6749L5.04204 10.8919C5.21986 10.809 5.14738 10.5411 4.95199 10.5591L4.44853 10.6055C4.39674 10.6103 4.34551 10.5918 4.30873 10.555L4.19745 10.4437C4.16067 10.4069 4.14216 10.3557 4.14693 10.3039L4.19332 9.80044C4.21133 9.60504 3.94345 9.53256 3.86048 9.71038L3.07753 11.3883Z",fill:"currentColor"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9335 1.50643C12.3103 1.34153 12.7496 1.42438 13.0404 1.71518C13.3312 2.00597 13.414 2.44527 13.2491 2.822L11.3621 7.1331C10.967 8.03597 10.3105 8.77491 9.50178 9.27408C9.16135 9.4842 8.95558 9.86645 8.94742 10.2664C8.91761 11.7293 8.02986 13.0721 6.63592 13.6502L6.25379 13.8087C6.0809 13.8804 5.88993 13.756 5.88554 13.5689L5.7947 9.70027C5.79229 9.59759 5.72901 9.50989 5.64942 9.44498C5.5877 9.39464 5.52827 9.34099 5.47141 9.28414C5.40132 9.21404 5.3361 9.14004 5.27595 9.06266C5.18536 8.9461 5.06446 8.8453 4.91683 8.84582L1.19017 8.85904C1.00355 8.85971 0.876441 8.67012 0.947932 8.49774L1.07304 8.19606C1.65395 6.79528 2.99858 5.90336 4.46339 5.86399C4.86488 5.8532 5.24691 5.6428 5.45407 5.29872C5.95341 4.46939 6.70292 3.79589 7.62246 3.3934L11.9335 1.50643ZM7.71005 6.99485C8.25678 7.54158 9.14322 7.54158 9.68995 6.99485C10.2367 6.44811 10.2367 5.56168 9.68995 5.01495C9.14322 4.46822 8.25678 4.46822 7.71005 5.01495C7.16332 5.56168 7.16332 6.44811 7.71005 6.99485Z",fill:"currentColor"})),r3e=f.forwardRef(o3e),y9=f.memo(r3e),i3e=(t,e)=>f.createElement("svg",{width:17,height:17,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.00039 6.10019C8.49156 6.10019 9.70039 4.89136 9.70039 3.40019C9.70039 1.90903 8.49156 0.700195 7.00039 0.700195C5.50922 0.700195 4.30039 1.90903 4.30039 3.40019C4.30039 4.89136 5.50922 6.10019 7.00039 6.10019ZM7.00014 13.3001C9.10842 13.3001 10.9748 12.2645 12.1184 10.6743C11.3984 8.53832 9.37889 7.0002 7.00011 7.0002C4.62136 7.0002 2.60184 8.53829 1.88184 10.6742C3.02541 12.2645 4.89184 13.3001 7.00014 13.3001Z",fill:"currentColor"})),s3e=f.forwardRef(i3e);f.memo(s3e);const a3e=(t,e)=>f.createElement("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M2.28572 12.4444C2.28572 13.3 2.99286 14 3.85714 14H10.1429C11.0071 14 11.7142 13.3 11.7142 12.4444V3.11111H2.28572V12.4444ZM12.5 0.777775H9.74998L8.9643 0H5.0357L4.24999 0.777775H1.5V2.33333H12.5V0.777775Z",fill:"currentColor"})),l3e=f.forwardRef(a3e),c3e=f.memo(l3e),d3e=(t,e)=>f.createElement("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.5 1.5C0.5 0.947715 0.947715 0.5 1.5 0.5H11.5C12.0523 0.5 12.5 0.947715 12.5 1.5V5.5C12.5 6.05228 12.0523 6.5 11.5 6.5H7.5C6.94772 6.5 6.5 6.94772 6.5 7.5V11.5C6.5 12.0523 6.05228 12.5 5.5 12.5H1.5C0.947715 12.5 0.5 12.0523 0.5 11.5V1.5ZM8.3 1.5C7.85817 1.5 7.5 1.85817 7.5 2.3V4.7C7.5 5.14183 7.85817 5.5 8.3 5.5H10.7C11.1418 5.5 11.5 5.14183 11.5 4.7V2.3C11.5 1.85817 11.1418 1.5 10.7 1.5H8.3ZM1.5 8.3C1.5 7.85817 1.85817 7.5 2.3 7.5H4.7C5.14183 7.5 5.5 7.85817 5.5 8.3V10.7C5.5 11.1418 5.14183 11.5 4.7 11.5H2.3C1.85817 11.5 1.5 11.1418 1.5 10.7V8.3ZM8.5 7.5C7.94772 7.5 7.5 7.94772 7.5 8.5V12.5C7.5 13.0523 7.94772 13.5 8.5 13.5H12.5C13.0523 13.5 13.5 13.0523 13.5 12.5V8.5C13.5 7.94772 13.0523 7.5 12.5 7.5H8.5Z",fill:"currentColor"})),u3e=f.forwardRef(d3e);f.memo(u3e);const p3e=(t,e)=>f.createElement("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9 6.3H2.09998V12.6C2.09998 13.3732 2.72679 14 3.49998 14H10.5C11.2732 14 11.9 13.3732 11.9 12.6V6.3ZM7.99994 9.4C7.99994 9.77014 7.79888 10.0933 7.49998 10.2662V11.4C7.49998 11.6761 7.2761 11.9 6.99997 11.9C6.7238 11.9 6.49997 11.6761 6.49997 11.4V10.2662C6.20107 10.0933 5.99996 9.77014 5.99996 9.4C5.99996 8.84771 6.44767 8.4 6.99997 8.4C7.55223 8.4 7.99994 8.84771 7.99994 9.4Z",fill:"currentColor"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.49998 3.5C3.49998 1.567 5.06698 0 6.99997 0C8.93297 0 10.5 1.567 10.5 3.5V4.9H9.09997V3.5C9.09997 2.3402 8.15977 1.4 6.99997 1.4C5.84018 1.4 4.89998 2.3402 4.89998 3.5V4.9H3.49998V3.5Z",fill:"currentColor"})),h3e=f.forwardRef(p3e);f.memo(h3e);const f3e=(t,e)=>f.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:14,height:15,viewBox:"0 0 14 15",fill:"none",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 0.5C10.866 0.5 14 3.63401 14 7.5C14 11.366 10.866 14.5 7 14.5C3.13401 14.5 0 11.366 0 7.5C0 3.63401 3.13401 0.5 7 0.5ZM6.125 11C6.125 11.4832 6.51675 11.875 7 11.875C7.48325 11.875 7.875 11.4832 7.875 11V7.5C7.875 7.01675 7.48325 6.625 7 6.625C6.51675 6.625 6.125 7.01675 6.125 7.5V11ZM6.125 4.84769C6.125 5.34602 6.52898 5.75 7.02731 5.75C7.52564 5.75 7.92962 5.34602 7.92962 4.84769V4.77963C7.92962 4.28129 7.52564 3.87732 7.02731 3.87732C6.52898 3.87732 6.125 4.28129 6.125 4.77963V4.84769Z",fill:"url(#paint0_linear_2883_20125)"}),f.createElement("defs",null,f.createElement("linearGradient",{id:"paint0_linear_2883_20125",x1:-79046e-12,y1:14.6591,x2:14.7448,y2:13.825,gradientUnits:"userSpaceOnUse"},f.createElement("stop",{stopColor:"#2091F6"}),f.createElement("stop",{offset:1,stopColor:"#21B568"})))),m3e=f.forwardRef(f3e);f.memo(m3e);const g3e={left:"left",right:"right",down:"down"};function BF(t){const{classes:e}=y3e(),{options:n,mappedOptions:o,value:r,onChange:i,onKeyDown:s=()=>{},innerRef:a}=t,l=f.useRef(null),c=f.useRef(null),d=f.useRef(new Map(n.map(w=>[w,null]))),[p,h]=f.useState(!1),m=p&&n.length>2,g=w=>x=>{x&&d.current.set(w,x)},C=(w,x)=>{const _=l.current,I=_==null?void 0:_.getBoundingClientRect(),T=x.getBoundingClientRect(),A=T.left-((I==null?void 0:I.left)??0),k=((I==null?void 0:I.right)??0)-T.right;w.style.setProperty("left",`${A}px`),w.style.setProperty("right",`${k}px`)},v=f.useCallback(()=>{const w=c.current,x=d.current.get(r);!w||!x||C(w,x)},[r]),b={left:()=>{const w=n.findIndex(I=>I===r),x=w<1?w:w-1,_=n[x];i==null||i(_)},right:()=>{const w=n.length-1,x=n.findIndex(T=>T===r),_=x>=w?w:x+1,I=n[_];i==null||i(I)},down:s};return Gr(l,({width:w})=>{h(w<=350),v()},{mode:"throttle",wait:250}),f.useEffect(()=>{v()},[v]),L(ws.HotKeys,{allowChanges:!0,tabIndex:0,innerRef:a,keyMap:g3e,handlers:b,className:e.root,"data-compact":m,children:[u("div",{ref:l,className:e.container,children:n.map(w=>{var x,_,I;return u(v3e,{title:((x=o.get(w))==null?void 0:x.text)||"",disabled:!m,className:e.tooltip,children:u("button",{tabIndex:-1,ref:g(w),className:e.item,"data-active":w===r,type:"button",onClick:()=>i==null?void 0:i(w),children:L("div",{className:e.itemContent,children:[u("span",{className:e.itemIcon,children:(_=o.get(w))==null?void 0:_.icon}),u("span",{className:e.itemText,children:(I=o.get(w))==null?void 0:I.text})]})})},w)})}),u("div",{ref:c,className:e.indicator})]})}function v3e(t){const{disabled:e,...n}=t;return e?n.children:u(Ea,{tabIndex:-1,arrowOffset:-6,...n})}const C3e=jr`
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
`,y3e=K()((t,e,n)=>({root:{position:"relative",flexShrink:0,width:"100%",height:"36px",borderRadius:"6px",overflow:"hidden",backgroundColor:"var(--card-b)",".termius-dark-theme &":{backgroundColor:"var(--foreground)"},zIndex:2},container:{height:"inherit",position:"relative",padding:"2px",zIndex:1,display:"flex",flexDirection:"row"},item:{position:"relative",padding:"0px 8px",border:"none",backgroundColor:"transparent",color:"var(--secondary)",borderRadius:"5px",flexGrow:1,transition:"background-color 200ms ease, border-radius 100ms ease","&[data-active=true]":{color:"var(--accent)"},"&[data-active=false]:hover":{backgroundColor:"var(--light-grey-6)",".termius-dark-theme &":{backgroundColor:"var(--dark-grey-4)"}}},itemContent:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:"5px",transition:"color 150ms ease"},itemIcon:{display:"flex",alignItems:"center",justifyContent:"center"},itemText:{whiteSpace:"nowrap",[`.${n.root}[data-compact=true] &`]:{display:"none"}},indicator:{position:"absolute",top:"2px",bottom:"2px",backgroundColor:"var(--light-grey-7)",".termius-dark-theme &":{backgroundColor:"var(--dark-grey-5)"},borderRadius:"5px",transition:"left 200ms ease, right 200ms ease, border-radius 100ms ease, background-color 200ms ease",[`.${n.root}:focus &`]:{backgroundColor:"var(--white)",".termius-dark-theme &":{backgroundColor:"var(--dark-grey-6)"}},zIndex:0,animationName:C3e,animationDuration:"200ms",animationDelay:"100ms",animationFillMode:"forwards",opacity:"0"},tooltip:{"& > .MuiTooltip-tooltipPlacementBottom":{margin:"12px 0px"}}}));function Fu(t){const{ableToSave:e,shouldSave:n,disabled:o,onClick:r,onClickMenuItem:i}=t,{classes:s,cx:a}=S3e(),[l,c]=f.useState(!1),d=f.useRef(null),p=f.useContext(P1),h=()=>c(!0),m=()=>c(!1),g=e?[{name:n?"Continue":"Continue & Save",handler:i,disabled:o}]:[];return L("div",{className:ce({[s.compact]:p}),children:[L("div",{className:s.groupedButtons,children:[u(Ue,{size:p?"small":"medium",className:ce({[s.mainButton]:e}),disabled:o,onClick:r,color:"accent",children:n&&e?"Continue & Save":"Continue"}),e&&u(Ue,{ref:d,size:p?"small":"medium",className:s.menuButton,disabled:o,onClick:h,color:"accent","data-testid":"open-menu",children:u(dn,{className:ce(s.arrowIcon,{[s.open]:l})})})]}),u(Sr,{autoClose:!0,onClose:m,menuItems:g,open:l,anchorEl:d.current,anchorOrigin:{horizontal:"right",vertical:"bottom"},transformOrigin:{horizontal:"right",vertical:"top"},classesByNestingLevel:[{nestingLevel:0,classNames:{root:s.menu,menuItem:a(s.menuItem,{[s.compactMenuItem]:p})}}]})]})}const S3e=K()((t,e,n)=>({compact:{},groupedButtons:{display:"flex",flexDirection:"row",gap:"1px"},mainButton:{borderRadius:"6px 0px 0px 6px"},menuButton:{borderRadius:"0px 6px 6px 0px",padding:"0px",width:"36px",[`.${n.compact} &`]:{width:"24px"}},arrowIcon:{width:"11px",height:"7px",fill:"currentColor",transition:"transform 0.2s ease"},open:{transform:"rotate(180deg)"},menu:{marginTop:"8px",minWidth:"auto"},menuItem:{height:"38px"},compactMenuItem:{height:"28px"}}));function Nu(t){return t.connectionFlow.saveCredentials}function b3e(t,e){var n;return(n=t.connectionFlowSteps.connections.get(e))==null?void 0:n.protocol}function w3e(t,e){var n;return(n=t.connectionFlowSteps.connections.get(e))==null?void 0:n.serialOptions}function _3e(t,e){var n;return(n=t.connectionFlowSteps.connections.get(e))==null?void 0:n.identity}function x3e(t,e){const n=t.connectionFlowSteps.connections.get(e);return{prompts:n==null?void 0:n.keyboardInteractivePrompts,...n==null?void 0:n.keyboardInteractiveAuthMethod}}function A3e(t,e){var n;return(n=t.connectionFlowSteps.connections.get(e))==null?void 0:n.authInteractive}function T3e(t,e){var n;return(n=t.connectionFlowSteps.connections.get(e))==null?void 0:n.requestPassphrase}function I3e(t,e){var n;return(n=t.connectionFlowSteps.connections.get(e))==null?void 0:n.requestPIN}function E3e(t,e){var n;return(n=t.connectionFlowSteps.connections.get(e))==null?void 0:n.discoverableKeys}function k3e(t,e){var n;return(n=t.connectionFlowSteps.connections.get(e))==null?void 0:n.chooseKey}function R3e(t,e){var n;return(n=t.connectionFlowSteps.connections.get(e))==null?void 0:n.requestSignature}function M1(t){const e=V(t);return f.useRef(e).current}const S9=t=>{const e=t.clone({id:t.id});e.host.stripConfigsForNonProUsers();const n=e.host.connectionPath.find(o=>o.local_id===e.host.local_id);return n&&(e.host.connectionPath=[n]),e},P3e=(t,e)=>t==="telnet"&&!!e,L3e=(t,e)=>(t==="ssh"||t==="mosh")&&!!e,a3=(t,e)=>{var a,l;const n=t.getMergedSshConfig(),o=t.getMergedTelnetConfig(),r=P3e(e,o),i=L3e(e,n),s=[];return r&&((a=o.identity.ssh_key)!=null&&a.certificates.length&&s.push("certificate"),o.startup_snippet&&s.push("snippets")),i&&(t.getHostChainCount()>0&&s.push("hostChain"),n.proxy&&s.push("proxy"),n.startup_snippet&&s.push("snippets"),(l=n.identity.ssh_key)!=null&&l.certificates.length&&s.push("certificate"),n.agent_forwarding&&s.push("agentForwarding"),n.env_variables&&n.env_variables.length>0&&s.push("envVar")),s},M3e=({host:t,animation:e,protocol:n})=>{const o=a3(t,n);return o.length?{name:"unavailableProFeatures",status:"progress",isActive:!1,animation:e,icon:"unavailableProFeatures",stepProps:{features:o}}:null};function i0(t,e,n,o){var s,a,l,c,d,p;const r=t.clone(),i=n==="mosh";return(n==="ssh"||i)&&(r.ssh_config??(r.ssh_config=new hi({use_mosh:i})),(s=r.ssh_config).identity??(s.identity=new Nt({is_visible:!1})),r.ssh_config.identity.password=e,((a=o.host.ssh_config)==null?void 0:a.port)!=null&&(r.ssh_config.port=(l=o.host.ssh_config)==null?void 0:l.port)),n==="telnet"&&(r.telnet_config??(r.telnet_config=new Ll),(c=r.telnet_config).identity??(c.identity=new Nt({is_visible:!1})),r.telnet_config.identity.password=e,((d=o.host.telnet_config)==null?void 0:d.port)!=null&&(r.telnet_config.port=(p=o.host.telnet_config)==null?void 0:p.port)),r}var zF={},h4={},ap={},Sx;function VF(){if(Sx)return ap;Sx=1;var t=Kt;Object.defineProperty(ap,"__esModule",{value:!0}),ap.bpfrpt_proptype_ScrollIndices=void 0,t(ao);var e=null;return ap.bpfrpt_proptype_ScrollIndices=e,ap}var bx;function O3e(){return bx||(bx=1,function(t){var e=Kt,n=Wr();Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=e(Pa()),r=e(lc()),i=e(vu()),s=e(Cu()),a=e(Hh()),l=e(yu()),c=e(La()),d=n(f),p=e9;a9(),VF(),e(ao);var h,m;function g(y,b){var w=Object.keys(y);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(y);b&&(x=x.filter(function(_){return Object.getOwnPropertyDescriptor(y,_).enumerable})),w.push.apply(w,x)}return w}function C(y){for(var b=1;b<arguments.length;b++){var w=arguments[b]!=null?arguments[b]:{};b%2?g(w,!0).forEach(function(x){(0,c.default)(y,x,w[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(w)):g(w).forEach(function(x){Object.defineProperty(y,x,Object.getOwnPropertyDescriptor(w,x))})}return y}var v=(m=h=function(y){(0,l.default)(b,y);function b(){var w,x;(0,o.default)(this,b);for(var _=arguments.length,I=new Array(_),T=0;T<_;T++)I[T]=arguments[T];return x=(0,i.default)(this,(w=(0,s.default)(b)).call.apply(w,[this].concat(I))),(0,c.default)((0,a.default)(x),"state",{scrollToColumn:0,scrollToRow:0,instanceProps:{prevScrollToColumn:0,prevScrollToRow:0}}),(0,c.default)((0,a.default)(x),"_columnStartIndex",0),(0,c.default)((0,a.default)(x),"_columnStopIndex",0),(0,c.default)((0,a.default)(x),"_rowStartIndex",0),(0,c.default)((0,a.default)(x),"_rowStopIndex",0),(0,c.default)((0,a.default)(x),"_onKeyDown",function(A){var k=x.props,R=k.columnCount,M=k.disabled,D=k.mode,F=k.rowCount;if(!M){var z=x._getScrollState(),j=z.scrollToColumn,H=z.scrollToRow,O=x._getScrollState(),U=O.scrollToColumn,N=O.scrollToRow;switch(A.key){case"ArrowDown":N=Math.min(D==="cells"?N+1:x._rowStopIndex+1,F-1);break;case"ArrowLeft":U=Math.max(D==="cells"?U-1:x._columnStartIndex-1,0);break;case"ArrowRight":U=Math.min(D==="cells"?U+1:x._columnStopIndex+1,R-1);break;case"ArrowUp":N=Math.max(D==="cells"?N-1:x._rowStartIndex-1,0);break}(U!==j||N!==H)&&(A.preventDefault(),x._updateScrollState({scrollToColumn:U,scrollToRow:N}))}}),(0,c.default)((0,a.default)(x),"_onSectionRendered",function(A){var k=A.columnStartIndex,R=A.columnStopIndex,M=A.rowStartIndex,D=A.rowStopIndex;x._columnStartIndex=k,x._columnStopIndex=R,x._rowStartIndex=M,x._rowStopIndex=D}),x}return(0,r.default)(b,[{key:"setScrollIndexes",value:function(x){var _=x.scrollToColumn,I=x.scrollToRow;this.setState({scrollToRow:I,scrollToColumn:_})}},{key:"render",value:function(){var x=this.props,_=x.className,I=x.children,T=this._getScrollState(),A=T.scrollToColumn,k=T.scrollToRow;return d.createElement("div",{className:_,onKeyDown:this._onKeyDown},I({onSectionRendered:this._onSectionRendered,scrollToColumn:A,scrollToRow:k}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(x){var _=x.scrollToColumn,I=x.scrollToRow,T=this.props,A=T.isControlled,k=T.onScrollToChange;typeof k=="function"&&k({scrollToColumn:_,scrollToRow:I}),A||this.setState({scrollToColumn:_,scrollToRow:I})}}],[{key:"getDerivedStateFromProps",value:function(x,_){return x.isControlled?{}:x.scrollToColumn!==_.instanceProps.prevScrollToColumn||x.scrollToRow!==_.instanceProps.prevScrollToRow?C({},_,{scrollToColumn:x.scrollToColumn,scrollToRow:x.scrollToRow,instanceProps:{prevScrollToColumn:x.scrollToColumn,prevScrollToRow:x.scrollToRow}}):{}}}]),b}(d.PureComponent),(0,c.default)(h,"propTypes",null),m);(0,c.default)(v,"defaultProps",{disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0}),(0,p.polyfill)(v);var S=v;t.default=S}(h4)),h4}(function(t){var e=Kt;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"ArrowKeyStepper",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"bpfrpt_proptype_ScrollIndices",{enumerable:!0,get:function(){return o.bpfrpt_proptype_ScrollIndices}});var n=e(O3e()),o=VF()})(zF);const D3e=wt(zF);var WF={},f4={},_r={},wx;function jF(){if(wx)return _r;wx=1;var t=Kt,e=Wr();Object.defineProperty(_r,"__esModule",{value:!0}),_r.bpfrpt_proptype_Scroll=_r.bpfrpt_proptype_RenderedRows=_r.bpfrpt_proptype_RowRenderer=_r.bpfrpt_proptype_RowRendererParams=void 0,e(f),t(ao);var n=null;_r.bpfrpt_proptype_RowRendererParams=n;var o=null;_r.bpfrpt_proptype_RowRenderer=o;var r=null;_r.bpfrpt_proptype_RenderedRows=r;var i=null;return _r.bpfrpt_proptype_Scroll=i,_r}var _x;function F3e(){return _x||(_x=1,function(t){var e=Kt,n=Wr();Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=e(R1()),r=e(Pa()),i=e(lc()),s=e(vu()),a=e(Cu()),l=e(Hh()),c=e(yu()),d=e(La()),p=n(a9()),h=n(f),m=e(o3);jF(),e(ao);var g,C,v=(C=g=function(S){(0,c.default)(y,S);function y(){var b,w;(0,r.default)(this,y);for(var x=arguments.length,_=new Array(x),I=0;I<x;I++)_[I]=arguments[I];return w=(0,s.default)(this,(b=(0,a.default)(y)).call.apply(b,[this].concat(_))),(0,d.default)((0,l.default)(w),"Grid",void 0),(0,d.default)((0,l.default)(w),"_cellRenderer",function(T){var A=T.parent,k=T.rowIndex,R=T.style,M=T.isScrolling,D=T.isVisible,F=T.key,z=w.props.rowRenderer,j=Object.getOwnPropertyDescriptor(R,"width");return j&&j.writable&&(R.width="100%"),z({index:k,style:R,isScrolling:M,isVisible:D,key:F,parent:A})}),(0,d.default)((0,l.default)(w),"_setRef",function(T){w.Grid=T}),(0,d.default)((0,l.default)(w),"_onScroll",function(T){var A=T.clientHeight,k=T.scrollHeight,R=T.scrollTop,M=w.props.onScroll;M({clientHeight:A,scrollHeight:k,scrollTop:R})}),(0,d.default)((0,l.default)(w),"_onSectionRendered",function(T){var A=T.rowOverscanStartIndex,k=T.rowOverscanStopIndex,R=T.rowStartIndex,M=T.rowStopIndex,D=w.props.onRowsRendered;D({overscanStartIndex:A,overscanStopIndex:k,startIndex:R,stopIndex:M})}),w}return(0,i.default)(y,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(w){var x=w.alignment,_=w.index;if(this.Grid){var I=this.Grid.getOffsetForCell({alignment:x,rowIndex:_,columnIndex:0}),T=I.scrollTop;return T}return 0}},{key:"invalidateCellSizeAfterRender",value:function(w){var x=w.columnIndex,_=w.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:_,columnIndex:x})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=w.columnIndex,_=x===void 0?0:x,I=w.rowIndex,T=I===void 0?0:I;this.Grid&&this.Grid.recomputeGridSize({rowIndex:T,columnIndex:_})}},{key:"recomputeRowHeights",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:w,columnIndex:0})}},{key:"scrollToPosition",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:w})}},{key:"scrollToRow",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:w})}},{key:"render",value:function(){var w=this.props,x=w.className,_=w.noRowsRenderer,I=w.scrollToIndex,T=w.width,A=(0,m.default)("ReactVirtualized__List",x);return h.createElement(p.default,(0,o.default)({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:A,columnWidth:T,columnCount:1,noContentRenderer:_,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:I}))}}]),y}(h.PureComponent),(0,d.default)(g,"propTypes",null),C);t.default=v,(0,d.default)(v,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:p.accessibilityOverscanIndicesGetter,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}})}(f4)),f4}(function(t){var e=Kt;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"List",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"bpfrpt_proptype_RowRendererParams",{enumerable:!0,get:function(){return o.bpfrpt_proptype_RowRendererParams}});var n=e(F3e()),o=jF()})(WF);const N3e=wt(WF),H3e=t=>{const{className:e,isShadowed:n=!1,children:o}=t,{classes:r,cx:i}=B3e();return u("div",{className:i(r.root,e),children:u("div",{className:i(r.content,{[r.shadowedContent]:n}),children:o})})},B3e=K()({root:{position:"relative"},content:{height:"100%",width:"100%"},shadowedContent:{maskImage:"var(--cf-list-shadow-mask)"}}),z3e={onUp:"up",onDown:"down"},UF=t=>{const{selectedIndex:e,childrenRefs:n,isInfinite:o,onKeyUpWhenNoItems:r}=t,i=f.useCallback(()=>{const l=e-1;if(l>=0){const c=n[l];c==null||c.focus()}else if(o){const c=n[n.length-1];c==null||c.focus()}else r==null||r()},[e,o,n,r]),s=f.useCallback(()=>{const l=e+1;if(l<n.length){const c=n[l];c==null||c.focus()}else if(o){const c=n[0];c==null||c.focus()}},[e,n,o]),a={onUp:i,onDown:s};return u(ws.GlobalHotKeys,{allowChanges:!0,keyMap:z3e,handlers:a})};UF.defaultProps={isInfinite:!1};const l3=t=>{const{className:e,isTabActive:n,children:o,rowHeight:r=78,innerRef:i=null,onKeyUpWhenNoItems:s,getFirstRef:a}=t,[l,c]=f.useState(!1),d=f.useRef(Array(o.length).fill(null)),p=o.findIndex(b=>b.props.selected),h=b=>w=>{d.current[b]=w,b===0&&(a==null||a(w))},m=({key:b,index:w,style:x})=>u("div",{style:x,children:Se.cloneElement(o[w],{innerRef:h(w)})},b),g=o.length,C=g>1?20:0,v=g*r,S=f.useCallback(({height:b})=>{if(v>b){if(l)return;c(!0)}else l&&c(!1)},[v,l]),{classes:y}=V3e({height:v+C});return L(H3e,{isShadowed:l,className:ce(e,y.root),children:[n&&u(UF,{onKeyUpWhenNoItems:s,childrenRefs:d.current,selectedIndex:p}),u(D3e,{className:y.list,columnCount:1,mode:"edges",rowCount:g,scrollToRow:p,children:({onSectionRendered:b,scrollToColumn:w,scrollToRow:x})=>u(Bh,{onResize:S,children:({width:_,height:I})=>u(N3e,{tabIndex:-1,ref:i,className:y.virtualList,rowRenderer:m,rowHeight:r,rowCount:g,onSectionRendered:b,scrollToColumn:w,scrollToIndex:x,width:_,height:I})})})]})},V3e=K()((t,e)=>({root:{width:"100%",overflow:"hidden",flexGrow:0,height:e.height,"@media (max-height: 520px)":{flexGrow:e.height>200?1:0,height:e.height>200?"auto":e.height},"@media (max-height: 500px)":{flexGrow:e.height>100?1:0,height:e.height>100?"auto":e.height}},list:{flex:"1 1 auto",height:"100%"},virtualList:{...Vl}})),$F=f.createContext(void 0),qF=$F.Provider,c3=()=>{const t=f.useContext($F);return Ce(t,"ConnectionPoolProvider is missing upper in the tree"),t},Hu=({onContinue:t})=>(_$(e=>{e.key==="Enter"&&(e.preventDefault(),t())},[t],"keydown"),null),GF=t=>{const e=de(),n=V(cc),o=c3();return Yn(r=>{var l,c,d;const i=n.find(({local_id:p})=>p===t.host.local_id);if(!i)return;const s=t.clone({host:t.host.clone({ssh_config:(d=t.host.ssh_config)==null?void 0:d.clone({identity:(c=(l=t.host.ssh_config)==null?void 0:l.identity)==null?void 0:c.clone(r instanceof Yt?{hardware_key:r}:{ssh_key:r})})})});o.set(t.id,s);const a=j3e(s,i,r);a&&e(hs.request({host:a}))})},W3e=new Set(["ssh","mosh"]),j3e=(t,e,n)=>{var l,c;const o=new _t(e),{protocol:r}=t,{ssh_config:i}=o;if(!W3e.has(r))return;o.ssh_config||(o.ssh_config=new hi({...i,use_mosh:r==="mosh"}));const a=U3e(e,n);return o.ssh_config.identity=a,((l=t.host.ssh_config)==null?void 0:l.port)!=null&&(o.ssh_config.port=(c=t.host.ssh_config)==null?void 0:c.port),o},U3e=(t,e)=>{var n;return new Nt({is_visible:!1,...(n=t==null?void 0:t.ssh_config)==null?void 0:n.identity,...e instanceof Yt?{hardware_key:e}:{ssh_key:e}})},d3=t=>{const e=ua("sshKey"),n=ua("hardwareKey");return u($3e,{sshKeys:[...e,...n],...t})},$3e=t=>{const{connection:e,onClose:n,onSelectKey:o,sshKeys:r,isTabActive:i,isSaveToggleDisabled:s,onCreateNewKey:a,onKeyUpWhenNoItems:l,getRef:c,setConnection:d}=t,{classes:p}=q3e(),h=de(),m=tt(),g=V(U=>Ur(U,e.host)),C=V(U=>k3e(U,e.id)),v=(C==null?void 0:C.selectedKey)??null,S=(C==null?void 0:C.invalidKey)??!1,y=!x$(e.host,!g),b=U=>{h($o({step:{stepName:"chooseKey",stepProps:{selectedKey:U}},connectionId:e.id}))},w=M1(Nu),x=GF(e),_=c3(),I=U=>{if(v){if(U){x(v.item);const N=_.get(e.id);N&&d(N)}o(v)}},T=v==null,A=r.length!==0,k=f.useCallback(async(U,N)=>{const W=new ft(await We(m,Wh,{entity:U}));h(Pd({source:N,type:"SSH Key"})),U.certificates.length>0&&h(Pd({source:N,type:"SSH Certificate"})),w&&x(W),o({type:"SSH",item:W})},[m,h,w,o,x]),R=f.useCallback(async U=>{const N=_k(U);return h($o({step:{stepName:"chooseKey",stepProps:{invalidKey:!N}},connectionId:e.id})),N},[e.id,h]),M=f.useCallback(async()=>{try{h(xk({funnelType:null,importOrigin:"Import Key in Connection Flow",importSource:"Key File"}));const{canceled:U,filePaths:N}=await j2.showOpenDialog({properties:["showHiddenFiles","openFile"]});if(U||!N||!N[0])return;const W=await Lm(N[0]);if(!await R(W.private_key))return;h(Ak({funnelType:null,numberOfImportedHosts:0,numberOfImportedPortForwardingRules:0,numberOfImportedKeys:1,numberOfImportedSnippets:0,numberOfImportedGroups:0,numberOfIgnoredKeys:0,numberOfIgnoredSubconfigs:0,importOrigin:"Import Key in Connection Flow",importSource:"Key File"})),await k(W,"Imported")}catch{await Ld({title:"Import key failed",message:"There was a problem in the key import process"}).catch(Po.swallow)}},[k,R,h]),D=f.useCallback(async()=>{if(a)try{h(Tk({newKeyLocation:"Connection Flow"})),await k(await a(),"Pasted")}catch(U){Po.swallow(U)}},[a,k,h]),F=f.useCallback(async U=>{var N,W;U.preventDefault(),U.stopPropagation();try{const B=(W=(N=U.dataTransfer)==null?void 0:N.files[0])==null?void 0:W.path;if(!B)return;const $=await Lm(B);if(!await R($.private_key))return;h(A$({onScreen:"Connection Flow"})),await k($,"Imported")}catch{await Ld({title:"Import key failed",message:"There was a problem in the key import process"}).catch(Po.swallow)}},[k,R,h]),z=()=>{l&&(b(null),l())},j=()=>{I(w)},H=()=>{h(bu(!w)),I(!w)},O=G3e({sshKeys:r,selectedKey:v,setSelectedKey:b,selectAndContinue:j});return L("div",{className:p.root,children:[i&&u(Hu,{onContinue:j}),A||y?L(f.Fragment,{children:[u(l3,{innerRef:null,isTabActive:i,className:p.selectList,onKeyUpWhenNoItems:z,getFirstRef:c,children:O}),L(Fn,{children:[L(In,{children:[u(et,{onClick:n,children:"Close"}),a&&u(et,{disabled:y,onClick:D,children:"Add key"})]}),u(Fu,{ableToSave:!s,shouldSave:w,disabled:T,onClick:j,onClickMenuItem:H})]})]}):L(f.Fragment,{children:[u(Z,{color:"primary",children:"You have no keys to select. Please import or paste a new key."}),u(Lt,{children:u(T$,{onClick:M,onDrop:F})}),L(Fn,{children:[u(et,{onClick:n,children:"Close"}),L(In,{children:[u(et,{onClick:M,children:"Import"}),a&&u(et,{onClick:D,children:"Add key"})]})]})]}),S&&u(I$,{message:"The file has an incorrect format",skipInternalMargin:!0})]})},q3e=K()({root:{display:"flex",flexDirection:"column",height:"100%",gap:15},selectList:{marginBottom:-14}}),G3e=({sshKeys:t,selectedKey:e,setSelectedKey:n,selectAndContinue:o})=>t.map(r=>{var a;const i=r instanceof Yt?{type:"SEP",item:r}:{type:"SSH",item:r},s=(e==null?void 0:e.type)===i.type&&(e==null?void 0:e.item.local_id)===r.local_id;return u(Mr,{selected:s,onSelect:()=>n(i),onDoubleClick:()=>o(i),children:u(Lr,{icon:u(Uo,{icon:Yi.icon(r)}),title:u(Z,{color:"primary",title:Yi.label(r),children:Yi.label(r)}),subtitle:u(Z,{color:"deprecatedSecondary",fontSize:12,title:Yi.description(r),children:Yi.description(r)})})},((a=r.local_id)==null?void 0:a.toString())??"")}),Bu=t=>{const{stepName:e,connectionId:n,watch:o}=t,r=de();f.useEffect(()=>{const i=o(s=>{r($o({step:{stepName:e,stepProps:s},connectionId:n}))});return()=>i.unsubscribe()},[n,r,e,o])},K3e=["password","keyboard-interactive","publickey"],Z3e=new Map([["password",{icon:u(w2e,{style:{width:"12px"}}),text:u(Z,{variant:"body2",bold:!0,children:"Password"})}],["keyboard-interactive",{icon:u(C9,{style:{width:"20px"}}),text:u(Z,{variant:"body2",bold:!0,children:"Interactive"})}],["publickey",{icon:u(M8,{style:{height:"16px"}}),text:u(Z,{variant:"body2",bold:!0,children:"Public Key"})}]]),KF=t=>{var W;const{isTabActive:e,onClose:n,methods:o,onContinue:r,connection:i,isHostEditable:s,setConnection:a,onCreateNewKey:l,autoFocusRef:c}=t,d=de(),p=K3e.filter(B=>o.includes(B)),h=f.useRef(null),m=f.useRef(),g=U2(c,m),C=f.useRef(),v=V(B=>A3e(B,i.id)),S=(v==null?void 0:v.password)??"",y=(v==null?void 0:v.selectedAuthMethod)??p[0],b=V(Nh),w=V(B=>Ur(B,i.host)),x=M1(Nu),{protocol:_}=i,I=(W=i.host.getMergedConfigFor(_||"ssh"))==null?void 0:W.identity.asIdentity(),T=I!=null&&I.is_visible?!I.is_shared||w:s,{classes:A}=Q3e(),{register:k,watch:R,handleSubmit:M}=Ma({defaultValues:{password:S}}),D=B=>{if(I!=null&&I.is_visible){d(jh.request(I.clone({password:B})));return}const $=b.find(q=>q.local_id===i.host.local_id);if($!=null){const q=i0($,B,_,i);d(hs.request({host:q}))}},F=B=>{const{password:$}=R();if(T&&B){const q=i0(i.host,$,_,i);D($);const X=new pt({...i,host:q});a(X)}r({method:"password",password:$})},z=()=>{r({method:"keyboard-interactive"})},j=B=>{r({method:"publickey",key:{publicKey:"",privateKey:"",passphrase:""}},B)},H=()=>{F(x)},O=()=>{d(bu(!x)),F(!x)},U=()=>{var B,$;y==="password"&&((B=m.current)==null||B.focus()),y==="publickey"&&(($=C.current)==null||$.focus())},N=B=>{y!==B&&(d(Ek(B)),d($o({step:{stepName:"authInteractive",stepProps:{selectedAuthMethod:B}},connectionId:i.id})))};return Bu({stepName:"authInteractive",connectionId:i.id,watch:R}),L("form",{className:A.root,onSubmitCapture:M(H),children:[p.length>1&&u(BF,{innerRef:h,onKeyDown:U,value:y,options:p,mappedOptions:Z3e,onChange:N}),u(Or,{in:y==="password",unmountOnExit:!0,timeout:{enter:300,exit:0},children:L(Ee,{pt:"20px",children:[u(ws.HotKeys,{keyMap:{up:"up"},handlers:{up:()=>{var B;(B=h.current)==null||B.focus()}},children:u($t,{fullWidth:!0,type:"password",autoFocus:!0,label:"Password:",InputProps:{...k("password"),inputRef:g}})}),L(Fn,{children:[u(In,{children:u(et,{onClick:n,children:"Close"})}),u(Fu,{ableToSave:T,shouldSave:x,onClick:H,onClickMenuItem:O})]})]})}),u(Or,{in:y==="publickey",unmountOnExit:!0,timeout:{enter:300,exit:0},children:u(Ee,{pt:"20px",overflow:"hidden",children:u(d3,{getRef:B=>{B&&(C.current=B)},connection:i,isSaveToggleDisabled:!s,isTabActive:e,onClose:n,onSelectKey:j,onCreateNewKey:l,onKeyUpWhenNoItems:()=>{var B;(B=h.current)==null||B.focus()},setConnection:a})})}),u(Or,{in:y==="keyboard-interactive",unmountOnExit:!0,timeout:{enter:300,exit:0},children:L(Ee,{pt:"20px",children:[L(Ee,{p:"10px 15px",borderRadius:"10px",bgcolor:"var(--card-a)",position:"relative",display:"flex",sx:{gap:"10px"},alignItems:"center",children:[u(Ik,{className:A.keyboardInteractiveIcon}),u(Z,{variant:"body2",children:"Keyboard-interactive is an authentication method that requires a user to respond to several server prompts, such as a password, passphrase, OTP tokens, etc."})]}),L(Fn,{children:[u(In,{children:u(et,{onClick:n,children:"Close"})}),u(et,{color:"accent",onClick:z,children:"Continue"})]})]})})]})},Q3e=K()({root:{display:"flex",flexDirection:"column",height:"100%"},keyboardInteractiveIcon:{color:"var(--light-grey-2)",".termius-dark-theme &":{color:"inherit"},minWidth:"18px"}});function Y3e(t){return t.host?!t.port||t.port===22?`${t.host}`:`${t.host}:${t.port}`:""}const X3e=t=>{const{isTabActive:e,host:n,fingerprint:o,keyType:r,onReplace:i,onAdd:s,onCancel:a}=t,{classes:l}=J3e(),c=L(Fn,{children:[L(In,{children:[i!=null&&u(et,{onClick:i,color:"accent",children:"Replace"}),u(et,{onClick:s,color:i==null?"accent":"regular",children:"Add as new"})]}),u(et,{onClick:a,color:"error",children:"Cancel"})]});return L(re,{height:"100%",gap:"20px",children:[e&&u(ws.GlobalHotKeys,{allowChanges:!0,keyMap:e5e,handlers:{onEnter:i??s}}),L(Z,{variant:"h3",h3Margin:!0,gutterBottom:!0,color:"error",children:["The fingerprint for ",n," has changed"]}),L(re,{gap:"20px",className:l.content,overflow:"none auto",children:[L(Z,{color:"primary",children:["Termius notices a potential security breach.",u("br",{}),u("br",{}),"New ",r," fingerprint is:"]}),u(Z,{wordBreak:"break-word",color:"primary",children:o})]}),c]})},J3e=K()({content:Vl}),e5e={onEnter:["command+enter","shift+ctrl+enter"]},t5e=t=>{const{isTabActive:e,host:n,keyType:o,fingerprint:r,onContinue:i,onReplace:s,onCancel:a}=t,{classes:l}=n5e(),[c,d]=f.useState(window.innerWidth);f.useEffect(()=>{const C=()=>{d(window.innerWidth)};return window.addEventListener("resize",C),()=>{window.removeEventListener("resize",C)}},[]);const p=f.useMemo(()=>c<900,[c]),h=f.useMemo(()=>p?"Add & continue":"Add and continue",[p]),m=f.useMemo(()=>p?l.addButtonClass:"",[p,l]),g=f.useMemo(()=>L(Fn,{children:[u(et,{onClick:a,children:"Close"}),L(In,{children:[u(et,{onClick:i,children:"Continue"}),u(et,{className:m,onClick:s,color:"accent",children:h})]})]}),[a,i,m,s,h]);return L("div",{className:l.root,children:[e&&u(Hu,{onContinue:s}),u(Ze,{bottom:20,children:u(Z,{variant:"h3",h3Margin:!0,gutterBottom:!0,children:"Are you sure you want to connect?"})}),L("div",{className:l.content,children:[u(Ze,{bottom:20,children:L(Z,{color:"primary",children:["The authenticity of ",n," can not be established.",u("br",{}),u("br",{}),o," fingerprint is:"]})}),u(Ze,{bottom:20,children:u(Z,{wordBreak:"break-word",color:"primary",children:r})}),u(Z,{color:"primary",children:"Do you want to add it to the list of known hosts?"})]}),g]})},n5e=K()({root:{height:"100%",display:"flex",flexDirection:"column"},content:{overflowY:"auto",...Vl},addButtonClass:{paddingLeft:"9px",paddingRight:"9px"}}),ZF=t=>{const{isTabActive:e,config:n,checkResult:o,fingerprint:r,keyType:i,callback:s,pubKey:a,onClose:l}=t,c=de(),{host:d,port:p}=n,h=V(_=>Ur(_,t.connection.host)),g=V(E$).some(_=>_.hostnames===Ml.buildHostName({address:d,port:p})&&nh(_,t.connection.host)),C=_=>{s(!0),c(_(Ml.createFromConnection({host:d,port:p,pubKey:a,canEditHost:h},t.connection)))},v=()=>{C(k$)},S=()=>{C($2)},y=()=>{s(!0)},b=()=>{s(!1),l()},w={isTabActive:e,host:Y3e(n),fingerprint:r,keyType:i,onCancel:b,onAdd:S},x=h&&g;switch(o){case"mismatch":return u(X3e,{...w,onReplace:x?v:void 0});case"notfound":return u(t5e,{...w,onReplace:v,onContinue:y});default:return null}};function QF(t){return t.quickConnectSettings.saveAsHost}const lp="latestUsedIdentity",rl="teamMultiKey",YF=t=>{const{isTabActive:e,connection:n,onClose:o,onSubmit:r,setConnection:i,isSaveToggleDisabled:s,onCreateNewHost:a,autoFocusRef:l}=t,{classes:c}=o5e(),d=de(),p=V(Be=>kk(Be,n.host.local_id)),h=ua("identities"),m=V(Be=>_3e(Be,n.id)),g=V(cc),C=V(O8),v=V(Rk),S=f.useMemo(()=>new Pk(v),[v]),y=V(R$),b=f.useMemo(()=>new Nt({username:C==null?void 0:C.username,is_visible:!1,ssh_key:new ft({private_key:y})}),[C==null?void 0:C.username,y]),w=(m==null?void 0:m.filter)??dc(),x=(m==null?void 0:m.isShowActions)??!0,_=(m==null?void 0:m.username)??n.username??"",[I,T]=f.useState(!1),A=V(QF),k=V(Nu),R=bi(()=>({saveAsHost:A,saveToHost:k})).current,{register:M,watch:D}=Ma({defaultValues:{username:_}}),F=f.useRef(null),z=tt(),j=bi(()=>n.quick&&A).current,H=async Be=>{const{host:ut,save:Ve}=Be;if(n.quick&&Ve){const it=new _t(await We(z,hs,{host:ut}));return d(Dk(it)),it}return ut},O=f.useMemo(()=>{var Be;return(Be=p==null?void 0:p.latest_used_identity)!=null&&Be.local_id?h.find(ut=>{var Ve;return ut.local_id===((Ve=p.latest_used_identity)==null?void 0:Ve.local_id)}):null},[p,h]),U=f.useMemo(()=>m!=null&&m.selectedIdentityId?m.selectedIdentityId:C!=null&&C.username?rl:O?lp:null,[O,m==null?void 0:m.selectedIdentityId,C==null?void 0:C.username]),[N,W]=f.useState(U),B=f.useCallback(Be=>{W(Be),d($o({step:{stepName:"identity",stepProps:{selectedIdentityId:Be}},connectionId:n.id}))},[n.id,d]),$=f.useMemo(()=>N==="username"?null:N===lp?O:h.find(Be=>Be.local_id===N),[h,O,N]),q=f.useCallback(Be=>{d($o({step:{stepName:"identity",stepProps:{filter:{...w,...Be}}},connectionId:n.id}))},[n.id,d,w]),X=f.useCallback((Be,ut,Ve)=>{var it;return N==="username"?new Nt({is_visible:!1,...(it=Be==null?void 0:Be[ut])==null?void 0:it.identity,username:Ve}):N===rl?b:$},[$,N,b]),ee=f.useCallback((Be,ut)=>{var Ja,Xu,el,of;const Ve=new _t(Be),{protocol:it}=n,{ssh_config:Zt,telnet_config:Ls}=Ve,Hi=it==="mosh";if(it==="ssh"||Hi){Ve.ssh_config||(Ve.ssh_config=new hi({...Zt,use_mosh:Hi}));const Ju=X(Be,"ssh_config",ut);Ve.ssh_config.identity=Ju,((Ja=n.host.ssh_config)==null?void 0:Ja.port)!=null&&(Ve.ssh_config.port=(Xu=n.host.ssh_config)==null?void 0:Xu.port)}if(it==="telnet"){Ve.telnet_config||(Ve.telnet_config=new Ll({...Ls}));const Ju=X(Be,"telnet_config",ut);Ve.telnet_config.identity=Ju,((el=n.host.telnet_config)==null?void 0:el.port)!=null&&(Ve.telnet_config.port=(of=n.host.telnet_config)==null?void 0:of.port)}return Ve},[n,X]),ue=Yn(async Be=>{const ut=g.find(Zt=>Zt.local_id===n.host.local_id);if(ut==null)return null;const Ve=ee(ut,Be);return await We(z,hs,{host:Ve})}),se=Yn(async Be=>{const ut=D("username");let{host:Ve}=n;const{saveAsHost:it,saveToHost:Zt}=Be;if(N===rl?(Ve=await H({host:Ve,save:it}),Ve=ee(Ve,ut)):(Ve=ee(Ve,ut),Ve=await H({host:Ve,save:it})),Zt&&N!==rl&&(Ve=await ue(ut)??Ve),N!=="username"&&$){const Hi=new Lk({...p,host:Ve,latest_used_identity:$});d(Mk.request(Hi))}N===rl&&d(P$());const Ls=n.clone({saveAsHost:it,host:Ve});i(Ls,{shouldNotifyUpdate:!1}),r(Ls)}),ie=async()=>{await se(R)},J=async()=>{n.quick?(d(O$(!R.saveAsHost)),await se({...R,saveAsHost:!R.saveAsHost})):(d(bu(!R.saveToHost)),await se({...R,saveToHost:!R.saveToHost}))},le=Yn(async()=>{const Be=D("username");d(L$());try{const ut=await a(ee(n.host,Be)),Ve=n.clone({host:ut});i(Ve,{shouldNotifyUpdate:!1}),Ve.isHostMissingNecessaryFields()||r(Ve.clone({saveAsHost:R.saveAsHost,host:await H({host:ut,save:R.saveAsHost})}))}catch(ut){Po.swallow(ut)}}),ve=f.useMemo(()=>Ok(h,w),[h,w]),Me=D("username"),we=!N||N==="username"&&!Me,be=Be=>{d($o({step:{stepName:"identity",stepProps:{isShowActions:Be}},connectionId:n.id}))},Ne=()=>{B(null),be(!1)},$e=()=>{be(!0)},at=f.useMemo(()=>ve.map(Be=>{const ut=($==null?void 0:$.local_id)===Be.local_id,Ve=($==null?void 0:$.local_id)===(O==null?void 0:O.local_id);return u(Mr,{selected:ut&&(!Ve||N!==lp||!I),onSelect:()=>B(Be.local_id??void 0),children:u(Lr,{icon:u(Uo,{icon:To.icon(Be)}),title:u(Z,{color:"primary",title:To.label(Be),children:To.label(Be)}),subtitle:u(Z,{color:"deprecatedSecondary",fontSize:12,title:To.description(Be),children:To.description(Be)})})},Be.local_id??void 0)}),[ve,$==null?void 0:$.local_id,O==null?void 0:O.local_id,N,I,B]),ae=L(f.Fragment,{children:[L(re,{width:"100%",direction:"row",alignItems:"center",justifyContent:"center",gap:"10px",margin:"15px 0 10px",children:[u(hk,{placeholder:"Search identities",search:w.search,onChange:q,onFocus:Ne,onBlur:$e}),u(M2,{type:w.sort.type,reverse:w.sort.reverse,onChange:q})]}),u(l3,{innerRef:F,isTabActive:e,children:at})]}),ze=C!=null&&C.username?L("div",{children:[u(Ze,{top:20,bottom:10,children:u(Z,{color:"primary",bold:!0,children:"or use the team multikey"})}),u(Mr,{selected:N===rl,onSelect:()=>B(rl),children:u(Lr,{icon:u(Uo,{icon:S.icon()}),title:u(Z,{color:"primary",title:S.label(),children:S.label()}),subtitle:u(Z,{color:"deprecatedSecondary",fontSize:12,title:S.description(),children:S.description()})})})]}):null,Qe=f.useMemo(()=>O&&I?L("div",{children:[u(Ze,{top:20,bottom:10,children:u(Z,{color:"primary",bold:!0,children:"Latest used identity"})}),u(Mr,{selected:N===lp,onSelect:()=>B(lp),children:u(Lr,{icon:u(Uo,{icon:To.icon(O)}),title:u(Z,{color:"primary",title:To.label(O),children:To.label(O)}),subtitle:u(Z,{color:"deprecatedSecondary",fontSize:12,title:To.description(O),children:To.description(O)})})})]}):null,[I,O,B,N]),Ge=N==="username"&&!we,Oe=f.useCallback(()=>{if(T(!1),F.current){const Be=ve.findIndex(ut=>ut.local_id===($==null?void 0:$.local_id));F.current.scrollToRow(Be)}},[ve,$]),ot=f.useCallback(()=>{if(window.innerHeight>600){if(I)return;T(!0)}else I&&Oe()},[Oe,I]);f.useEffect(()=>{ot()},[O,ot]),M$(ot,[O,ot],"resize");const Cn=f.useCallback(()=>B("username"),[B]),At=f.useMemo(()=>({...M("username"),classes:{underline:ce({[c.selectedUnderline]:Ge})},inputRef:l}),[M,c.selectedUnderline,Ge,l]),wr=f.useMemo(()=>({classes:{root:ce({[c.selectedLabel]:Ge})}}),[Ge,c.selectedLabel]);return Bu({stepName:"identity",connectionId:n.id,watch:D}),L(re,{height:"100%",children:[e&&u(Hu,{onContinue:ie}),u($t,{autoFocus:!U,InputProps:At,InputLabelProps:wr,onFocus:Cn,label:"Username",fullWidth:!0}),ze,Qe,h.length!==0&&ae,L(Fn,{className:ce(c.actionsContainer,{[c.hideActions]:!x}),children:[u(In,{children:u(et,{onClick:o,children:"Close"})}),L(In,{children:[j&&u(et,{onClick:le,children:"Edit"}),u(Fu,{ableToSave:n.quick?R.saveAsHost:!s,shouldSave:n.quick?R.saveAsHost:R.saveToHost,disabled:we,onClick:ie,onClickMenuItem:J})]})]})]})},o5e=K()({selectedLabel:{color:"var(--accent)"},selectedUnderline:{"&:after":{transform:"scaleX(1)"}},actionsContainer:{transition:"opacity 0.3s ease"},hideActions:{opacity:"0"}}),gf=f.forwardRef((t,e)=>{const{fullWidth:n=!1,...o}=t,{classes:r}=r5e();return u(Fk,{...o,fullWidth:n,inputProps:{...o.inputProps,ref:e,className:ce(r.input,{[r.fullWidth]:n})}})}),r5e=K()({input:{width:"43px",paddingBottom:"3px",paddingTop:"2px",textAlign:"left"},fullWidth:{width:"100%"}}),m4=({children:t})=>u(Ze,{right:5,inline:!0,children:t}),g4=({title:t,subtitle:e})=>u(Lr,{title:u(Z,{color:"primary",children:t}),subtitle:u(Z,{color:"deprecatedSecondary",italic:!0,children:e})}),i5e={onEnter:{sequence:"enter",action:"keydown"},onUp:"up",onDown:"down"},xx=(t,e)=>{var n;t(),(n=e.current)==null||n.focus()},Ds=["ssh","mosh","telnet"],XF=t=>{const e=f.useRef(null),n=f.useRef(null),o=f.useRef(null),r=f.useMemo(()=>({ssh:e,mosh:n,telnet:o}),[]),{isTabActive:i,connection:s,onClose:a,onSubmit:l,setConnection:c}=t,d=de(),{host:p}=s,h=V(N=>b3e(N,s.id)),m=V(N=>kk(N,p.local_id)),g=!p.ssh_config&&!p.telnet_config?m==null?void 0:m.latest_used_protocol:null,{address:C,ssh_config:v,telnet_config:S}=p,y=f.useMemo(()=>new hi(p.getMergedSshConfig()),[p]),b=f.useMemo(()=>new Ll(p.getMergedTelnetConfig()),[p]),w=(h==null?void 0:h.selectedProtocol)||g||"ssh",x=f.useCallback(N=>{d($o({step:{stepName:"protocol",stepProps:{selectedProtocol:N}},connectionId:s.id}))},[s.id,d]),{handleSubmit:_,control:I,setValue:T,getValues:A,watch:k}=Ma({defaultValues:{sshPort:(h==null?void 0:h.sshPort)||(v==null?void 0:v.port)||"",sshPortForMosh:(h==null?void 0:h.sshPortForMosh)||(v==null?void 0:v.port)||"",telnetPort:(h==null?void 0:h.telnetPort)||(S==null?void 0:S.port)||"",moshCommand:(h==null?void 0:h.moshCommand)||(v==null?void 0:v.mosh_server_command)||""}});Bu({stepName:"protocol",connectionId:s.id,watch:k});const R=Yn(N=>{const{sshPort:W,sshPortForMosh:B,telnetPort:$,moshCommand:q}=N;if(!p.ssh_config&&!p.telnet_config){const ee=new Lk({...m,host:p,latest_used_protocol:w});d(Mk.request(ee))}w==="ssh"&&(p.ssh_config=new hi({...y,port:W||y.port||22})),w==="mosh"&&(p.ssh_config=new hi({...y,use_mosh:!0,port:B||y.port||22,mosh_server_command:q||y.mosh_server_command})),w==="telnet"&&(p.telnet_config=new Ll({...b,port:$||b.port||23}));const X=new pt({...s,host:p,protocol:w,sessionLogData:Nk(w)?Hk(s):s.sessionLogData});c(X),l(X)}),M=N=>{const{value:W}=N.target,B=N.target.name,$=A()[B]||"";return W===""?T(B,""):X6(W)?T(B,Number.parseInt(W,10)):$},D=f.useCallback(()=>{const N=Ds.findIndex(B=>B===w)-1,W=N>=0?Ds[N]:Ds[Ds.length-1];xx(()=>x(W),r[W])},[r,w,x]),F=f.useCallback(()=>{const N=Ds.findIndex(B=>B===w)+1,W=N<Ds.length?Ds[N]:Ds[0];xx(()=>x(W),r[W])},[w,r,x]),z={onEnter:()=>_(R)(),onUp:D,onDown:F},{classes:j,cx:H}=s5e(),O=u(Ze,{bottom:30,children:u(Z,{color:"primary",fontSize:17,children:"Choose protocol"})}),U=L(Fn,{children:[u(In,{children:u(et,{onClick:a,children:"Close"})}),u(et,{disabled:!w,type:"submit",color:"accent",children:"Continue"})]});return L("form",{className:j.root,onSubmit:_(R),children:[i&&u(ws.GlobalHotKeys,{allowChanges:!0,keyMap:i5e,handlers:z}),O,L(l3,{isTabActive:i,children:[u(Mr,{className:H(j.item,{[j.selectedItem]:w==="ssh"},j.sshItem),selected:w==="ssh",onSelect:()=>x("ssh"),innerRef:r.ssh,endAdornment:L(Ze,{top:18,bottom:3,children:[u(m4,{children:"port:"}),u(xt,{name:"sshPort",control:I,render:({field:N})=>u(gf,{...N,autoFocus:w==="ssh",onChange:M,placeholder:`${y.port||22}`})})]}),children:u(g4,{title:"SSH",subtitle:`ssh ${C}`})}),u(Mr,{className:H(j.item,{[j.selectedItem]:w==="mosh"},j.moshItem),selected:w==="mosh",onSelect:()=>x("mosh"),innerRef:r.mosh,endAdornment:L("div",{className:j.moshEndAdornment,children:[L("div",{className:j.sshPortForMosh,children:[u(m4,{children:"port:"}),u(xt,{control:I,name:"sshPortForMosh",render:({field:N})=>u(gf,{...N,autoFocus:w==="mosh",onChange:M,placeholder:`${y.port||22}`})})]}),u("div",{className:j.moshCommand,children:u(xt,{control:I,name:"moshCommand",render:({field:N})=>u(gf,{...N,placeholder:`${y.mosh_server_command||"mosh --server=/path/server host"}`,fullWidth:!0})})})]}),children:u(g4,{title:"Mosh",subtitle:`mosh ${C}`})}),u(Mr,{className:H(j.item,{[j.selectedItem]:w==="telnet"},j.telnetItem),selected:w==="telnet",onSelect:()=>x("telnet"),innerRef:r.telnet,endAdornment:L(Ze,{top:18,bottom:3,children:[u(m4,{children:"port:"}),u(xt,{control:I,name:"telnetPort",render:({field:N})=>u(gf,{...N,autoFocus:w==="telnet",onChange:M,placeholder:`${b.port||23}`})})]}),children:u(g4,{title:"Telnet",subtitle:`telnet ${C}`})})]}),U]})},s5e=K()({root:{height:"100%",display:"flex",flexDirection:"column"},moshEndAdornment:{flex:1,display:"flex",flexDirection:"column"},sshPortForMosh:{marginLeft:"auto"},moshCommand:{display:"flex",alignItems:"center",whiteSpace:"nowrap",marginLeft:"20px"},item:{padding:"10px 17px 10px 11px",border:0,borderLeft:"6px solid"},selectedItem:{padding:"8px 15px 8px 11px",border:"2px solid",borderLeft:"6px solid"},sshItem:{borderColor:"var(--green)"},moshItem:{borderColor:"var(--info-dark)"},telnetItem:{borderColor:"var(--blueberry)"}}),JF=t=>{const{onClose:e,onSelectKey:n,skKeys:o,isTabActive:r,connection:i,isSaveToggleDisabled:s}=t,{classes:a}=a5e(),l=V(b=>E3e(b,i.id)),c=(l==null?void 0:l.selectedKey)??null,d=tt(),p=de(),h=b=>{p($o({connectionId:i.id,step:{stepName:"discoverableKeys",stepProps:{selectedKey:b}}}))},m=M1(Nu),g=GF(i),C=f.useCallback(async b=>{if(c==null)return;const w=await D$(c);if(p(F$({fido2WizardSource:"Connection Flow",connectionID:i.id,wizardID:i.id})),b){const x=await We(d,Wh,{entity:new ft(w),context:{keySource:"Connection Flow",connectionID:i.id,wizardID:i.id}});g(x)}n(c)},[c,p,i.id,n,d,g]),v=()=>{C(m)},S=()=>{p(bu(!m)),C(!m)},y=c==null;return L("div",{className:a.root,children:[o.length!==0&&L(f.Fragment,{children:[u(Ze,{bottom:20,children:u(Z,{color:"primary",bold:!0,children:"Please select a key for authentication:"})}),u(l3,{innerRef:null,isTabActive:r,children:o.map(b=>{const w=D8(c,b);return u(Mr,{selected:w,onSelect:()=>h(b),onDoubleClick:()=>n(b),children:u(Lr,{icon:u(Uo,{icon:ep.icon(b)}),title:u(Z,{color:"primary",title:ep.label(b),ellipsis:!0,children:ep.label(b)}),subtitle:u(Z,{color:"deprecatedSecondary",fontSize:12,title:ep.description(b),ellipsis:!0,children:ep.description(b)})})},b.publicKey)})})]}),L(Fn,{children:[u(In,{children:u(et,{onClick:e,children:"Close"})}),u(Fu,{ableToSave:!s,shouldSave:m,disabled:y,onClick:v,onClickMenuItem:S})]})]})},a5e=K()({root:{display:"flex",flexDirection:"column",height:"100%"}}),l5e="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mÃ¶gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",c5e="ÎµÎ»1Ï…2Ð±Ð³1ÐµÐ»3Ð´ÐµÑ‚Ð¸4ÐµÑŽ2ÐºÐ°Ñ‚Ð¾Ð»Ð¸Ðº6Ð¾Ð¼3Ð¼ÐºÐ´2Ð¾Ð½1ÑÐºÐ²Ð°6Ð¾Ð½Ð»Ð°Ð¹Ð½5Ñ€Ð³3Ñ€ÑƒÑ2Ñ„2ÑÐ°Ð¹Ñ‚3Ñ€Ð±3ÑƒÐºÑ€3Ò›Ð°Ð·3Õ°Õ¡Õµ3×™×©×¨××œ5×§×•×3Ø§Ø¨ÙˆØ¸Ø¨ÙŠ5Ø±Ø§Ù…ÙƒÙˆ5Ù„Ø§Ø±Ø¯Ù†4Ø¨Ø­Ø±ÙŠÙ†5Ø¬Ø²Ø§Ø¦Ø±5Ø³Ø¹ÙˆØ¯ÙŠØ©6Ø¹Ù„ÙŠØ§Ù†5Ù…ØºØ±Ø¨5Ù…Ø§Ø±Ø§Øª5ÛŒØ±Ø§Ù†5Ø¨Ø§Ø±Øª2Ø²Ø§Ø±4ÙŠØªÙƒ3Ú¾Ø§Ø±Øª5ØªÙˆÙ†Ø³4Ø³ÙˆØ¯Ø§Ù†3Ø±ÙŠØ©5Ø´Ø¨ÙƒØ©4Ø¹Ø±Ø§Ù‚2Ø¨2Ù…Ø§Ù†4ÙÙ„Ø³Ø·ÙŠÙ†6Ù‚Ø·Ø±3ÙƒØ§Ø«ÙˆÙ„ÙŠÙƒ6ÙˆÙ…3Ù…ØµØ±2Ù„ÙŠØ³ÙŠØ§5ÙˆØ±ÙŠØªØ§Ù†ÙŠØ§7Ù‚Ø¹4Ù‡Ù…Ø±Ø§Ù‡5Ù¾Ø§Ú©Ø³ØªØ§Ù†7Ú€Ø§Ø±Øª4à¤•à¥‰à¤®3à¤¨à¥‡à¤Ÿ3à¤­à¤¾à¤°à¤¤0à¤®à¥3à¥‹à¤¤5à¤¸à¤‚à¤—à¤ à¤¨5à¦¬à¦¾à¦‚à¦²à¦¾5à¦­à¦¾à¦°à¦¤2à§°à¦¤4à¨­à¨¾à¨°à¨¤4àª­àª¾àª°àª¤4à¬­à¬¾à¬°à¬¤4à®‡à®¨à¯à®¤à®¿à®¯à®¾6à®²à®™à¯à®•à¯ˆ6à®šà®¿à®™à¯à®•à®ªà¯à®ªà¯‚à®°à¯11à°­à°¾à°°à°¤à±5à²­à²¾à²°à²¤4à´­à´¾à´°à´¤à´‚5à¶½à¶‚à¶šà·4à¸„à¸­à¸¡3à¹„à¸—à¸¢3àº¥àº²àº§3áƒ’áƒ”2ã¿ã‚“ãª3ã‚¢ãƒžã‚¾ãƒ³4ã‚¯ãƒ©ã‚¦ãƒ‰4ã‚°ãƒ¼ã‚°ãƒ«4ã‚³ãƒ 2ã‚¹ãƒˆã‚¢3ã‚»ãƒ¼ãƒ«3ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³6ãƒã‚¤ãƒ³ãƒˆ4ä¸–ç•Œ2ä¸­ä¿¡1å›½1åœ‹1æ–‡ç½‘3äºšé©¬é€Š3ä¼ä¸š2ä½›å±±2ä¿¡æ¯2å¥åº·2å…«å¦2å…¬å¸1ç›Š2å°æ¹¾1ç£2å•†åŸŽ1åº—1æ ‡2å˜‰é‡Œ0å¤§é…’åº—5åœ¨çº¿2å¤§æ‹¿2å¤©ä¸»æ•™3å¨±ä¹2å®¶é›»2å¹¿ä¸œ2å¾®åš2æ…ˆå–„2æˆ‘çˆ±ä½ 3æ‰‹æœº2æ‹›è˜2æ”¿åŠ¡1åºœ2æ–°åŠ å¡2é—»2æ—¶å°š2æ›¸ç±2æœºæž„2æ·¡é©¬é”¡3æ¸¸æˆ2æ¾³é–€2ç‚¹çœ‹2ç§»åŠ¨2ç»„ç»‡æœºæž„4ç½‘å€1åº—1ç«™1ç»œ2è”é€š2è°·æ­Œ2è´­ç‰©2é€šè²©2é›†å›¢2é›»è¨Šç›ˆç§‘4é£žåˆ©æµ¦3é£Ÿå“2é¤åŽ…2é¦™æ ¼é‡Œæ‹‰3æ¸¯2ë‹·ë„·1ì»´2ì‚¼ì„±2í•œêµ­2",Wl=(t,e)=>{for(const n in e)t[n]=e[n];return t},Qv="numeric",Yv="ascii",Xv="alpha",lm="asciinumeric",vf="alphanumeric",Jv="domain",eN="emoji",d5e="scheme",u5e="slashscheme",Ax="whitespace";function p5e(t,e){return t in e||(e[t]=[]),e[t]}function ml(t,e,n){e[Qv]&&(e[lm]=!0,e[vf]=!0),e[Yv]&&(e[lm]=!0,e[Xv]=!0),e[lm]&&(e[vf]=!0),e[Xv]&&(e[vf]=!0),e[vf]&&(e[Jv]=!0),e[eN]&&(e[Jv]=!0);for(const o in e){const r=p5e(o,n);r.indexOf(t)<0&&r.push(t)}}function h5e(t,e){const n={};for(const o in e)e[o].indexOf(t)>=0&&(n[o]=!0);return n}function an(t){t===void 0&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}an.groups={};an.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let o=0;o<e.jr.length;o++){const r=e.jr[o][0],i=e.jr[o][1];if(i&&r.test(t))return i}return e.jd},has(t,e){return e===void 0&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,n,o){for(let r=0;r<t.length;r++)this.tt(t[r],e,n,o)},tr(t,e,n,o){o=o||an.groups;let r;return e&&e.j?r=e:(r=new an(e),n&&o&&ml(e,n,o)),this.jr.push([t,r]),r},ts(t,e,n,o){let r=this;const i=t.length;if(!i)return r;for(let s=0;s<i-1;s++)r=r.tt(t[s]);return r.tt(t[i-1],e,n,o)},tt(t,e,n,o){o=o||an.groups;const r=this;if(e&&e.j)return r.j[t]=e,e;const i=e;let s,a=r.go(t);if(a?(s=new an,Wl(s.j,a.j),s.jr.push.apply(s.jr,a.jr),s.jd=a.jd,s.t=a.t):s=new an,i){if(o)if(s.t&&typeof s.t=="string"){const l=Wl(h5e(s.t,o),n);ml(i,l,o)}else n&&ml(i,n,o);s.t=i}return r.j[t]=s,s}};const Ye=(t,e,n,o,r)=>t.ta(e,n,o,r),sr=(t,e,n,o,r)=>t.tr(e,n,o,r),Tx=(t,e,n,o,r)=>t.ts(e,n,o,r),_e=(t,e,n,o,r)=>t.tt(e,n,o,r),Ui="WORD",e7="UWORD",hh="LOCALHOST",t7="TLD",n7="UTLD",cm="SCHEME",Jc="SLASH_SCHEME",b9="NUM",tN="WS",w9="NL",Vp="OPENBRACE",Wp="CLOSEBRACE",s0="OPENBRACKET",a0="CLOSEBRACKET",l0="OPENPAREN",c0="CLOSEPAREN",d0="OPENANGLEBRACKET",u0="CLOSEANGLEBRACKET",p0="FULLWIDTHLEFTPAREN",h0="FULLWIDTHRIGHTPAREN",f0="LEFTCORNERBRACKET",m0="RIGHTCORNERBRACKET",g0="LEFTWHITECORNERBRACKET",v0="RIGHTWHITECORNERBRACKET",C0="FULLWIDTHLESSTHAN",y0="FULLWIDTHGREATERTHAN",S0="AMPERSAND",b0="APOSTROPHE",w0="ASTERISK",Vs="AT",_0="BACKSLASH",x0="BACKTICK",A0="CARET",$s="COLON",_9="COMMA",T0="DOLLAR",Jr="DOT",I0="EQUALS",x9="EXCLAMATION",ei="HYPHEN",E0="PERCENT",k0="PIPE",R0="PLUS",P0="POUND",L0="QUERY",A9="QUOTE",T9="SEMI",ti="SLASH",jp="TILDE",M0="UNDERSCORE",nN="EMOJI",O0="SYM";var oN=Object.freeze({__proto__:null,WORD:Ui,UWORD:e7,LOCALHOST:hh,TLD:t7,UTLD:n7,SCHEME:cm,SLASH_SCHEME:Jc,NUM:b9,WS:tN,NL:w9,OPENBRACE:Vp,CLOSEBRACE:Wp,OPENBRACKET:s0,CLOSEBRACKET:a0,OPENPAREN:l0,CLOSEPAREN:c0,OPENANGLEBRACKET:d0,CLOSEANGLEBRACKET:u0,FULLWIDTHLEFTPAREN:p0,FULLWIDTHRIGHTPAREN:h0,LEFTCORNERBRACKET:f0,RIGHTCORNERBRACKET:m0,LEFTWHITECORNERBRACKET:g0,RIGHTWHITECORNERBRACKET:v0,FULLWIDTHLESSTHAN:C0,FULLWIDTHGREATERTHAN:y0,AMPERSAND:S0,APOSTROPHE:b0,ASTERISK:w0,AT:Vs,BACKSLASH:_0,BACKTICK:x0,CARET:A0,COLON:$s,COMMA:_9,DOLLAR:T0,DOT:Jr,EQUALS:I0,EXCLAMATION:x9,HYPHEN:ei,PERCENT:E0,PIPE:k0,PLUS:R0,POUND:P0,QUERY:L0,QUOTE:A9,SEMI:T9,SLASH:ti,TILDE:jp,UNDERSCORE:M0,EMOJI:nN,SYM:O0});const zc=/[a-z]/,v4=/\p{L}/u,C4=/\p{Emoji}/u,y4=/\d/,Ix=/\s/,Ex=`
`,f5e="ï¸",m5e="â€";let Cf=null,yf=null;function g5e(t){t===void 0&&(t=[]);const e={};an.groups=e;const n=new an;Cf==null&&(Cf=kx(l5e)),yf==null&&(yf=kx(c5e)),_e(n,"'",b0),_e(n,"{",Vp),_e(n,"}",Wp),_e(n,"[",s0),_e(n,"]",a0),_e(n,"(",l0),_e(n,")",c0),_e(n,"<",d0),_e(n,">",u0),_e(n,"ï¼ˆ",p0),_e(n,"ï¼‰",h0),_e(n,"ã€Œ",f0),_e(n,"ã€",m0),_e(n,"ã€Ž",g0),_e(n,"ã€",v0),_e(n,"ï¼œ",C0),_e(n,"ï¼ž",y0),_e(n,"&",S0),_e(n,"*",w0),_e(n,"@",Vs),_e(n,"`",x0),_e(n,"^",A0),_e(n,":",$s),_e(n,",",_9),_e(n,"$",T0),_e(n,".",Jr),_e(n,"=",I0),_e(n,"!",x9),_e(n,"-",ei),_e(n,"%",E0),_e(n,"|",k0),_e(n,"+",R0),_e(n,"#",P0),_e(n,"?",L0),_e(n,'"',A9),_e(n,"/",ti),_e(n,";",T9),_e(n,"~",jp),_e(n,"_",M0),_e(n,"\\",_0);const o=sr(n,y4,b9,{[Qv]:!0});sr(o,y4,o);const r=sr(n,zc,Ui,{[Yv]:!0});sr(r,zc,r);const i=sr(n,v4,e7,{[Xv]:!0});sr(i,zc),sr(i,v4,i);const s=sr(n,Ix,tN,{[Ax]:!0});_e(n,Ex,w9,{[Ax]:!0}),_e(s,Ex),sr(s,Ix,s);const a=sr(n,C4,nN,{[eN]:!0});sr(a,C4,a),_e(a,f5e,a);const l=_e(a,m5e);sr(l,C4,a);const c=[[zc,r]],d=[[zc,null],[v4,i]];for(let p=0;p<Cf.length;p++)Fs(n,Cf[p],t7,Ui,c);for(let p=0;p<yf.length;p++)Fs(n,yf[p],n7,e7,d);ml(t7,{tld:!0,ascii:!0},e),ml(n7,{utld:!0,alpha:!0},e),Fs(n,"file",cm,Ui,c),Fs(n,"mailto",cm,Ui,c),Fs(n,"http",Jc,Ui,c),Fs(n,"https",Jc,Ui,c),Fs(n,"ftp",Jc,Ui,c),Fs(n,"ftps",Jc,Ui,c),ml(cm,{scheme:!0,ascii:!0},e),ml(Jc,{slashscheme:!0,ascii:!0},e),t=t.sort((p,h)=>p[0]>h[0]?1:-1);for(let p=0;p<t.length;p++){const h=t[p][0],g=t[p][1]?{[d5e]:!0}:{[u5e]:!0};h.indexOf("-")>=0?g[Jv]=!0:zc.test(h)?y4.test(h)?g[lm]=!0:g[Yv]=!0:g[Qv]=!0,Tx(n,h,h,g)}return Tx(n,"localhost",hh,{ascii:!0}),n.jd=new an(O0),{start:n,tokens:Wl({groups:e},oN)}}function v5e(t,e){const n=C5e(e.replace(/[A-Z]/g,a=>a.toLowerCase())),o=n.length,r=[];let i=0,s=0;for(;s<o;){let a=t,l=null,c=0,d=null,p=-1,h=-1;for(;s<o&&(l=a.go(n[s]));)a=l,a.accepts()?(p=0,h=0,d=a):p>=0&&(p+=n[s].length,h++),c+=n[s].length,i+=n[s].length,s++;i-=p,s-=h,c-=p,r.push({t:d.t,v:e.slice(i-c,i),s:i-c,e:i})}return r}function C5e(t){const e=[],n=t.length;let o=0;for(;o<n;){let r=t.charCodeAt(o),i,s=r<55296||r>56319||o+1===n||(i=t.charCodeAt(o+1))<56320||i>57343?t[o]:t.slice(o,o+2);e.push(s),o+=s.length}return e}function Fs(t,e,n,o,r){let i;const s=e.length;for(let a=0;a<s-1;a++){const l=e[a];t.j[l]?i=t.j[l]:(i=new an(o),i.jr=r.slice(),t.j[l]=i),t=i}return i=new an(n),i.jr=r.slice(),t.j[e[s-1]]=i,i}function kx(t){const e=[],n=[];let o=0,r="0123456789";for(;o<t.length;){let i=0;for(;r.indexOf(t[o+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let s=parseInt(t.substring(o,o+i),10);s>0;s--)n.pop();o+=i}else n.push(t[o]),o++}return e}const $d={defaultProtocol:"http",events:null,format:Rx,formatHref:Rx,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function u3(t,e){e===void 0&&(e=null);let n=Wl({},$d);t&&(n=Wl(n,t instanceof u3?t.o:t));const o=n.ignoreTags,r=[];for(let i=0;i<o.length;i++)r.push(o[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=r}u3.prototype={o:$d,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const o=e!=null;let r=this.o[t];return r&&(typeof r=="object"?(r=n.t in r?r[n.t]:$d[t],typeof r=="function"&&o&&(r=r(e,n))):typeof r=="function"&&o&&(r=r(e,n.t,n)),r)},getObj(t,e,n){let o=this.o[t];return typeof o=="function"&&e!=null&&(o=o(e,n.t,n)),o},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function Rx(t){return t}var I9=Object.freeze({__proto__:null,defaults:$d,Options:u3,assign:Wl});function D0(t,e){this.t="token",this.v=t,this.tk=e}D0.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),o=t.get("format",e,this);return n&&o.length>n?o.substring(0,n)+"â€¦":o},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return t===void 0&&(t=$d.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),o=t.get("formatHref",n,this),r=t.get("tagName",n,e),i=this.toFormattedString(t),s={},a=t.get("className",n,e),l=t.get("target",n,e),c=t.get("rel",n,e),d=t.getObj("attributes",n,e),p=t.getObj("events",n,e);return s.href=o,a&&(s.class=a),l&&(s.target=l),c&&(s.rel=c),d&&Wl(s,d),{tagName:r,attributes:s,content:i,eventListeners:p}}};function zu(t,e){class n extends D0{constructor(r,i){super(r,i),this.t=t}}for(const o in e)n.prototype[o]=e[o];return n.t=t,n}const o7=zu("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),r7=zu("text"),rN=zu("nl"),Ap=zu("url",{isLink:!0,toHref(t){return t===void 0&&(t=$d.defaultProtocol),this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==hh&&t[1].t===$s}});var S4=Object.freeze({__proto__:null,MultiToken:D0,Base:D0,createTokenClass:zu,Email:o7,Text:r7,Nl:rN,Url:Ap});const ar=t=>new an(t);function y5e(t){let{groups:e}=t;const n=e.domain.concat([S0,w0,Vs,_0,x0,A0,T0,I0,ei,b9,E0,k0,R0,P0,ti,O0,jp,M0]),o=[b0,$s,_9,Jr,x9,L0,A9,T9,d0,u0,Vp,Wp,a0,s0,l0,c0,p0,h0,f0,m0,g0,v0,C0,y0],r=[S0,b0,w0,_0,x0,A0,T0,I0,ei,Vp,Wp,E0,k0,R0,P0,L0,ti,O0,jp,M0],i=ar(),s=_e(i,jp);Ye(s,r,s),Ye(s,e.domain,s);const a=ar(),l=ar(),c=ar();Ye(i,e.domain,a),Ye(i,e.scheme,l),Ye(i,e.slashscheme,c),Ye(a,r,s),Ye(a,e.domain,a);const d=_e(a,Vs);_e(s,Vs,d),_e(l,Vs,d),_e(c,Vs,d);const p=_e(s,Jr);Ye(p,r,s),Ye(p,e.domain,s);const h=ar();Ye(d,e.domain,h),Ye(h,e.domain,h);const m=_e(h,Jr);Ye(m,e.domain,h);const g=ar(o7);Ye(m,e.tld,g),Ye(m,e.utld,g),_e(d,hh,g);const C=_e(h,ei);Ye(C,e.domain,h),Ye(g,e.domain,h),_e(g,Jr,m),_e(g,ei,C);const v=_e(g,$s);Ye(v,e.numeric,o7);const S=_e(a,ei),y=_e(a,Jr);Ye(S,e.domain,a),Ye(y,r,s),Ye(y,e.domain,a);const b=ar(Ap);Ye(y,e.tld,b),Ye(y,e.utld,b),Ye(b,e.domain,a),Ye(b,r,s),_e(b,Jr,y),_e(b,ei,S),_e(b,Vs,d);const w=_e(b,$s),x=ar(Ap);Ye(w,e.numeric,x);const _=ar(Ap),I=ar();Ye(_,n,_),Ye(_,o,I),Ye(I,n,_),Ye(I,o,I),_e(b,ti,_),_e(x,ti,_);const T=_e(l,$s),A=_e(c,$s),k=_e(A,ti),R=_e(k,ti);Ye(l,e.domain,a),_e(l,Jr,y),_e(l,ei,S),Ye(c,e.domain,a),_e(c,Jr,y),_e(c,ei,S),Ye(T,e.domain,_),_e(T,ti,_),Ye(R,e.domain,_),Ye(R,n,_),_e(R,ti,_);const M=[[Vp,Wp],[s0,a0],[l0,c0],[d0,u0],[p0,h0],[f0,m0],[g0,v0],[C0,y0]];for(let D=0;D<M.length;D++){const[F,z]=M[D],j=_e(_,F);_e(I,F,j),_e(j,z,_);const H=ar(Ap);Ye(j,n,H);const O=ar();Ye(j,o),Ye(H,n,H),Ye(H,o,O),Ye(O,n,H),Ye(O,o,O),_e(H,z,_),_e(O,z,_)}return _e(i,hh,b),_e(i,w9,rN),{start:i,tokens:oN}}function S5e(t,e,n){let o=n.length,r=0,i=[],s=[];for(;r<o;){let a=t,l=null,c=null,d=0,p=null,h=-1;for(;r<o&&!(l=a.go(n[r].t));)s.push(n[r++]);for(;r<o&&(c=l||a.go(n[r].t));)l=null,a=c,a.accepts()?(h=0,p=a):h>=0&&h++,r++,d++;if(h<0)r-=d,r<o&&(s.push(n[r]),r++);else{s.length>0&&(i.push(b4(r7,e,s)),s=[]),r-=h,d-=h;const m=p.t,g=n.slice(r-d,r);i.push(b4(m,e,g))}}return s.length>0&&i.push(b4(r7,e,s)),i}function b4(t,e,n){const o=n[0].s,r=n[n.length-1].e,i=e.slice(o,r);return new t(i,n)}const F0=typeof console<"u"&&console&&console.warn||(()=>{}),iN="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",kt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function sN(t,e){if(typeof e!="function")throw new Error(`linkifyjs: Invalid token plugin ${e} (expects function)`);for(let n=0;n<kt.tokenQueue.length;n++)if(t===kt.tokenQueue[n][0]){F0(`linkifyjs: token plugin "${t}" already registered - will be overwritten`),kt.tokenQueue[n]=[t,e];return}kt.tokenQueue.push([t,e]),kt.initialized&&F0(`linkifyjs: already initialized - will not register token plugin "${t}" ${iN}`)}function b5e(t,e){if(typeof e!="function")throw new Error(`linkifyjs: Invalid plugin ${e} (expects function)`);for(let n=0;n<kt.pluginQueue.length;n++)if(t===kt.pluginQueue[n][0]){F0(`linkifyjs: plugin "${t}" already registered - will be overwritten`),kt.pluginQueue[n]=[t,e];return}kt.pluginQueue.push([t,e]),kt.initialized&&F0(`linkifyjs: already initialized - will not register plugin "${t}" ${iN}`)}function w5e(){kt.scanner=g5e(kt.customSchemes);for(let t=0;t<kt.tokenQueue.length;t++)kt.tokenQueue[t][1]({scanner:kt.scanner});kt.parser=y5e(kt.scanner.tokens);for(let t=0;t<kt.pluginQueue.length;t++)kt.pluginQueue[t][1]({scanner:kt.scanner,parser:kt.parser});kt.initialized=!0}function _5e(t){return kt.initialized||w5e(),S5e(kt.parser.start,t,v5e(kt.scanner.start,t))}const aN="B_IPV6_B",x5e=zu("ipv4",{isLink:!0,toHref(t){return t===void 0&&(t=I9.defaults.defaultProtocol),`${t}://${this.v}`}});function A5e(t){let{scanner:e}=t;const{start:n}=e,o={byte:!0,numeric:!0},r=[];for(let s=0;s<10;s++){const a=n.tt(`${s}`,`${s}`,o);r.push(a)}for(let s=1;s<10;s++){const a=r[s];for(let l=0;l<10;l++)a.tt(`${l}`,`${s}${l}`,o)}for(let s=0;s<10;s++){let a=r[1].tt(`${s}`);for(let l=0;l<10;l++)a.tt(`${l}`,`1${s}${l}`,o)}for(let s=0;s<5;s++){let a=r[2].tt(`${s}`);for(let l=0;l<10;l++)a.tt(`${l}`,`2${s}${l}`,o)}let i=r[2].tt("5");for(let s=0;s<6;s++)i.tt(`${s}`,`25${s}`,o)}const T5e=t=>{let{scanner:e}=t;const{start:n}=e,o=/[0-9a-f]/;let r=n.tt("["),i=r.tt(":"),s=r.tr(o),a=s.tt(":"),l=a.tr(o),c=l.tt(":"),d=c.tr(o),p=d.tt(":"),h=p.tr(o),m=h.tt(":"),g=m.tr(o),C=g.tt(":"),v=C.tr(o),S=v.tt(":"),y=S.tr(o),b=y.tt(":"),w=b.tr(o),x=w.tt("]",aN);b.tt("]",x);let _=i.tt(":"),I=_.tr(o),T=I.tt(":");T.tt(":",_),T.tr(o,I),a.tt(":",_),c.tt(":",_),p.tt(":",_),m.tt(":",_),C.tt(":",_),S.tt(":",_),i.tr(o,l),_.tt("]",x),I.tt("]",x),T.tt("]",x);for(let A=1;A<4;A++)s=s.tr(o),l=l.tr(o),d=d.tr(o),h=h.tr(o),g=g.tr(o),v=v.tr(o),y=y.tr(o),w=w.tr(o),s.tt(":",a),l.tt(":",c),d.tt(":",p),h.tt(":",m),g.tt(":",C),v.tt(":",S),y.tt(":",b),w.tt("]",x),I=I.tr(o),I.tt(":",T),I.tt("]",x)};function I5e(t){let{scanner:e,parser:n}=t;const{COLON:o,DOT:r,SLASH:i,LOCALHOST:s,SLASH_SCHEME:a,groups:l}=e.tokens,c=new an,d=new an,p=new an,h=new an(x5e);for(let w=0;w<l.byte.length;w++)n.start.tt(l.byte[w]).tt(r,c);c.ta(l.byte,d),d.tt(r).ta(l.byte,p),p.tt(r).ta(l.byte,h);const m=n.start.go(s).go(i);h.tt(i,m);const g=h.tt(o),C=new an(S4.Url);g.ta(l.numeric,C),C.tt(i,m);const S=n.start.go(a).go(o).go(i).go(i).tt(aN,S4.Url);S.tt(i,m);const y=S.tt(o),b=new an(S4.Url);y.ta(l.numeric,b),b.tt(i,m)}sN("ipv4",A5e);sN("ipv6",T5e);b5e("ip",I5e);function E5e(t,e,n){const o=_5e(t),r=[];for(let i=0;i<o.length;i++){const s=o[i];if(s.t==="nl"&&e.get("nl2br")){const a=`__linkify-el-${n.elementId++}`;r.push(f.createElement("br",{key:a}))}else if(!s.isLink||!e.check(s))r.push(s.toString());else{let a=e.render(s);if(!("key"in a.props)){const l=`__linkify-el-${n.elementId++}`,c=I9.assign({key:l},a.props);a=f.cloneElement(a,c)}r.push(a)}}return r}function lN(t,e,n){if(f.Children.count(t.props.children)===0)return t;const o=[];f.Children.forEach(t.props.children,s=>{typeof s=="string"?o.push.apply(o,E5e(s,e,n)):f.isValidElement(s)?typeof s.type=="string"&&e.ignoreTags.indexOf(s.type.toUpperCase())>=0?o.push(s):o.push(lN(s,e,n)):o.push(s)});const r=`__linkify-el-${n.elementId++}`,i=I9.assign({key:r},t.props);return f.cloneElement(t,i,o)}const k5e=t=>{let e=0;const n=l=>{let{tagName:c,attributes:d,content:p}=l;return d.key=`__linkify-lnk-${e++}`,d.class&&(d.className=d.class,delete d.class),f.createElement(c,d,p)},o={key:"__linkify-wrapper"};for(const l in t)l!=="options"&&l!=="as"&&l!=="tagName"&&l!=="children"&&(o[l]=t[l]);const r=new u3(t.options,n),i=t.as||t.tagName||f.Fragment||"span",s=t.children,a=f.createElement(i,o,s);return lN(a,r,{elementId:0})};function R5e(t){const{classes:e}=P5e(),{href:n,onClick:o,children:r}=t;return u("span",{onClick:()=>o==null?void 0:o(n),className:e.link,role:"link",tabIndex:0,children:r})}const P5e=K()({link:{color:"var(--accent)",textDecoration:"underline",wordBreak:"break-all",userSelect:"text",cursor:"pointer"}});function L5e(t){const{onClickLink:e,children:n}=t;return u(k5e,{options:{render:M5e({onClick:e})},children:n})}const M5e=t=>e=>{const{attributes:n,content:o}=e,{href:r}=n;return u(R5e,{href:r,...t,children:o})};function cN(t){const{text:e,onClickLink:n,onCopyText:o,TypographyProps:r}=t,{classes:i}=O5e(),s=l=>n==null?void 0:n(l),a=()=>o==null?void 0:o(e);return L(Z,{className:i.text,...r,children:[u(L5e,{onClickLink:s,children:e}),u(Ue,{onClick:a,variant:"icon",color:"accent",size:"small",className:i.clipboardButton,children:u(Ud,{className:i.clipboardIcon})})]})}const O5e=K()((t,e,n)=>({text:{position:"relative",userSelect:"text",borderRadius:"5px",border:"1px solid",padding:"9px 10px",borderColor:"var(--light-grey-3)",".termius-dark-theme &":{borderColor:"var(--dark-grey-6)"}},clipboardButton:{position:"absolute",right:"5px",bottom:"5px",visibility:"hidden",opacity:0,transition:"visibility 150ms, opacity 150ms",transitionDelay:"150ms",userSelect:"none",cursor:"pointer !important",[`.${n.text}:hover &`]:{visibility:"visible",opacity:1},zIndex:1},clipboardIcon:{width:"14px",height:"14px"}})),Px=48;function D5e(t){const{echo:e,prompt:n,autoFocus:o,InputProps:r,onClickLinkInInstructionText:i}=t,{classes:s}=F5e(),{length:a}=n,l=()=>navigator.clipboard.writeText(n);return u(Ee,{children:L("div",{className:s.prompt,children:[a>Px&&u(Ee,{pb:"10px",children:u(cN,{text:n,onClickLink:i,onCopyText:l,TypographyProps:{color:"main"}})}),u($t,{tabIndex:0,type:e?"text":"password",autoFocus:o,label:a<=Px?n:null,InputProps:{...r,inputProps:{alt:n}}})]})})}const F5e=K()({prompt:{display:"grid"}}),N5e=["keyboard-interactive",{icon:u(C9,{style:{width:"20px"}}),text:u(Z,{variant:"body2",bold:!0,children:"Interactive"})}],H5e=["publickey",{icon:u(M8,{style:{height:"16px"}}),text:u(Z,{variant:"body2",bold:!0,children:"Public Key"})}],B5e=t=>{var J,le;const{isTabActive:e,onClose:n,onContinue:o,prompts:r,name:i,instruction:s,interruptibleWithPublickey:a,connection:l,setConnection:c,isHostEditable:d,onCreateNewKey:p,autoFocusRef:h}=t,m=a?["keyboard-interactive","publickey"]:[],g=new Map(a?[N5e,H5e]:[]),C=f.useRef(null),v=f.useRef(),S=f.useRef(),y=U2(h,S),{protocol:b}=l,{classes:w}=z5e(),x=de(),_=V(cc),I=V(ve=>Ur(ve,l.host)),T=M1(Nu),A=V(ve=>x3e(ve,l.id)),k=(A==null?void 0:A.prompts)??{},R=(A==null?void 0:A.selectedAuthMethod)??"keyboard-interactive",M=f.useMemo(()=>r.map(ve=>({...ve,id:Ie.v4()})),[r]),D=W5e(M),{register:F,handleSubmit:z,getValues:j,watch:H}=Ma({defaultValues:{...k}}),O=b==="telnet"?(J=l.host.telnet_config)==null?void 0:J.identity:(le=l.host.ssh_config)==null?void 0:le.identity,U=ve=>{if(O!=null&&O.is_visible){x(jh.request(O.clone({password:ve})));return}const Me=_.find(we=>we.local_id===l.host.local_id);if(Me!=null){const we=i0(Me,ve,b,l);x(hs.request({host:we}))}},N=O!=null&&O.is_visible?!O.is_shared||I:d,W=ve=>{const Me=j();if(D&&N&&ve){const we=Me[D.id],be=i0(l.host,we,b,l);U(we);const Ne=new pt({...l,host:be});c(Ne,{shouldNotifyUpdate:!1})}o(M.map(we=>({text:Me[we.id]})))},B=()=>{W(T)},$=()=>{x(bu(!T)),W(!T)},q=ve=>{o([{key:ve,text:void 0}])},X=()=>{var ve;(ve=C.current)==null||ve.focus()},ee=()=>{var ve,Me;R==="keyboard-interactive"&&((ve=S.current)==null||ve.focus()),R==="publickey"&&((Me=v.current)==null||Me.focus())},ue=ve=>{R!==ve&&(x(Ek(ve)),x($o({step:{stepName:"keyboardInteractiveAuthMethod",stepProps:{selectedAuthMethod:ve}},connectionId:l.id})))},se=ve=>C8({url:ve,title:""}),ie=()=>navigator.clipboard.writeText(s);return Bu({stepName:"keyboardInteractivePrompts",connectionId:l.id,watch:H}),L("form",{onSubmitCapture:z(B),className:w.keyboardInteractiveStep,children:[m.length>0&&u(BF,{innerRef:C,onKeyDown:ee,value:R,options:m,mappedOptions:g,onChange:ue}),u(Or,{in:R==="keyboard-interactive",unmountOnExit:!0,timeout:{enter:300,exit:0},children:L(Ee,{children:[e&&u(Hu,{onContinue:B}),i&&u(Z,{variant:"h3",h3Margin:!0,unsetOverflow:!0,children:i}),s&&u(cN,{text:s,onClickLink:se,onCopyText:ie,TypographyProps:{variant:"body1",color:"main",unsetOverflow:!0}}),u(ws.HotKeys,{keyMap:{up:"up"},handlers:{up:X},children:u(re,{gap:"10px",pt:s?"10px":"20px",children:M.map(({prompt:ve,echo:Me,id:we},be)=>u(D5e,{InputProps:{...F(we),inputRef:y},echo:Me,prompt:ve,autoFocus:be===0,onClickLinkInInstructionText:se},we))})}),L(Fn,{children:[u(In,{children:u(et,{onClick:n,children:"Close"})}),u(Fu,{ableToSave:!!D&&N,shouldSave:!!D&&T,onClick:B,onClickMenuItem:$})]})]})}),u(Or,{in:R==="publickey",unmountOnExit:!0,timeout:{enter:300,exit:0},children:u(Ee,{overflow:"hidden",children:u(d3,{getRef:ve=>{ve&&(v.current=ve)},onKeyUpWhenNoItems:()=>{var ve;(ve=C.current)==null||ve.focus()},connection:l,isSaveToggleDisabled:!d,isTabActive:e,onClose:n,onSelectKey:q,onCreateNewKey:p,setConnection:c})})})]})},z5e=K()({keyboardInteractiveStep:{display:"flex",flexDirection:"column",gap:20,height:"100%"}});function V5e({prompt:t,echo:e}){return!e&&t.toLowerCase().includes("password")}function W5e(t){return t.find(e=>V5e(e))}const dN=Se.memo(B5e),uN=t=>{var _,I,T,A,k,R,M,D;const{isTabActive:e,connection:n,onClose:o,setConnection:r,onHandlePassphrase:i,isSaveToggleDisabled:s,autoFocusRef:a}=t,{protocol:l,host:c}=n,d=M1(Nu),p=V(F=>T3e(F,n.id)),h=(p==null?void 0:p.passphrase)??"",{register:m,watch:g}=Ma({defaultValues:{passphrase:h}}),C=de(),v=F=>{const z=l==="ssh"||l==="mosh"?c.getMergedSshConfig().identity.ssh_key:c.getMergedTelnetConfig().identity.ssh_key,j=g("passphrase");z&&(z.passphrase=j,F&&C(Wh.request({entity:z})));const H=new pt({...n,host:c});r(H,{shouldNotifyUpdate:!1}),i(j)},S=()=>{v(d)},y=()=>{C(bu(!d)),v(!d)},b=l==="telnet"&&((I=(_=n.host.telnet_config)==null?void 0:_.identity)==null?void 0:I.is_visible)||(l==="ssh"||l==="mosh")&&((A=(T=n.host.ssh_config)==null?void 0:T.identity)==null?void 0:A.is_visible),w=l==="ssh"||l==="mosh"?(R=(k=c.ssh_config)==null?void 0:k.identity)==null?void 0:R.ssh_key:(D=(M=c.telnet_config)==null?void 0:M.identity)==null?void 0:D.ssh_key,{classes:x}=j5e();return Bu({stepName:"requestPassphrase",connectionId:n.id,watch:g}),L("div",{className:x.requestPassphraseStep,children:[e&&u(Hu,{onContinue:S}),u(Z,{variant:"body1",color:"primary",bold:!0,children:"Please enter passphrase for key"}),(w==null?void 0:w.type)&&u(Z,{variant:"body1",color:"primary",children:w.type}),u($t,{autoFocus:!0,InputProps:{...m("passphrase"),inputRef:a},type:"password",label:"Passphrase:",fullWidth:!0}),L(Fn,{children:[u(In,{children:u(et,{onClick:o,children:"Close"})}),u(Fu,{ableToSave:b||!s,shouldSave:d,onClick:S,onClickMenuItem:y})]})]})},j5e=K()({requestPassphraseStep:{display:"grid",gap:15}}),pN=t=>{var v,S,y,b;const{isTabActive:e,connection:n,onClose:o,onHandlePIN:r,autoFocusRef:i}=t,{protocol:s,host:a}=n,l=V(w=>I3e(w,n.id)),c=(l==null?void 0:l.pin)??"",{register:d,handleSubmit:p,watch:h}=Ma({defaultValues:{pin:c}}),m=de();Ao(()=>{m(N$({fido2WizardSource:"Connection Flow",connectionID:n.id,wizardID:n.id}))});const g=({pin:w})=>r(w),C=s==="ssh"||s==="mosh"?(S=(v=a.ssh_config)==null?void 0:v.identity)==null?void 0:S.ssh_key:(b=(y=a.telnet_config)==null?void 0:y.identity)==null?void 0:b.ssh_key;return Bu({stepName:"requestPIN",connectionId:n.id,watch:h}),L("form",{onSubmitCapture:p(g),children:[e&&u(Hu,{onContinue:p(g)}),u(Ze,{bottom:15,children:u(Z,{fontSize:16,color:"primary",bold:!0,children:"Please enter PIN for key"})}),(C==null?void 0:C.type)&&u(Ze,{bottom:15,children:u(Z,{color:"primary",children:C.type})}),u($t,{autoFocus:!0,InputProps:{...d("pin"),inputRef:i},type:"password",label:"PIN:",fullWidth:!0}),u(U5e,{onClose:o})]})},U5e=({onClose:t})=>L(Fn,{children:[u(In,{children:u(et,{onClick:t,children:"Close"})}),u(et,{type:"submit",color:"accent",children:"Continue"})]});async function $5e(){const[t,e]=await zk.isWindowsHelloSupported();return t?{isAvailable:!0}:{isAvailable:!1,unavailabilityReason:e}}async function q5e(t,e){try{const{credentialId:n,publicKey:o}=await zk.generateWindowsHelloKey(Ie.v4(),t,e);return{credentialId:Q5e(n),publicKey:o}}catch(n){throw Y5e(n)}}function G5e(t){if(t.isAvailable)return"Available";switch(t.unavailabilityReason){case"Webauthn Platform Authenticator not available":return"Platform authenticator is not available";case"Error loading webauthn API methods":return"Failed to load WebAuthn API";case"Error loading webauthn.dll":return"Failed to load WebAuthn.dll";case"Webauthn API version is too old and does not support getPlatformCredentialList API":return"WebAuthn API version is bellow than supported";default:return _1(t.unavailabilityReason)}}class Vu extends Error{constructor(n){super("Windows Hello is not available on this device");E(this,"name","WindowsHelloUnavailable");this.reason=n}static swallow(n){if(n instanceof Vu)return n;throw n}}class p3 extends Error{constructor(){super("Cancelled by user");E(this,"name","CancelledByUser")}}const K5e=ne.union([ne.literal("Webauthn Platform Authenticator not available"),ne.literal("Error loading webauthn API methods"),ne.literal("Error loading webauthn.dll"),ne.literal("Webauthn API version is too old and does not support getPlatformCredentialList API")]),Z5e=tk(K5e);function Q5e(t){return t.toString("base64")}function Y5e(t){return t.message==="The action was cancelled by the user."?new p3:Z5e(t.message)?new Vu(t.message):t}Bk(Vu);Bk(p3);function X5e({className:t,storage:e}){return L(re,{gap:"20px",padding:"20px 10px",borderRadius:"10px",alignItems:"center",bgcolor:"var(--foreground)",className:t,children:[u(H$,{width:"40px",height:"40px",color:"var(--main)"}),u(Z,{variant:"body1",color:"main",children:J5e[e]})]})}const J5e={[Uh]:"Use Touch ID to unlock the key",[uu]:"Use Windows Hello to unlock the key"},e4e={state:"Generating",isSignatureRequested:!1},hN=t=>{const{connection:e,isConnectionError:n,publicKey:o,storage:r,credentialId:i,data:s,onResolve:a,onReject:l}=t,c=de(),d=V(g=>R3e(g,e.id)),p=(d==null?void 0:d.request)??e4e,h=f.useCallback(g=>{c($o({step:{stepName:"requestSignature",stepProps:{request:{...g}}},connectionId:e.id}))},[e.id,c]),m=async()=>{if(r===uu)return Ce(i!=null,"Credential ID must be provided for Windows Hello sign request."),B$(s,i,ri().getNativeWindowHandle(),{name:e.displayLabel,id:e.id});if(r!==Uh)throw new Error("Not implemented");if(!await bl.isAvailable("SHALLOW_CHECK"))throw new Error("Secure Enclave is not available");const{promise:C,cancel:v}=bl.signData(s,o);return h({cancel:v}),C};return f.useEffect(()=>{var g;n&&p.isSignatureRequested&&p.state==="Generating"&&((g=p.cancel)==null||g.call(p).then(C=>{C&&h({state:"Cancelled",cancel:void 0})}))},[n,p,h]),Ao(()=>{p.isSignatureRequested||(h({isSignatureRequested:!0}),m().then(g=>{h({state:"Success"}),a(g)}).catch(g=>{h({state:"Error"}),setTimeout(()=>l(g),250),!(g instanceof p3||g instanceof Vu)&&Cs.exception("Failed to sign with a biometric key",g)}))}),u(X5e,{storage:r})},fN=t=>u("div",{children:u(z$,{...t,children:u(Z,{variant:"h3",h3Margin:!0,gutterBottom:!0,children:"User presence confirmation is required"})})});function mN(t){const{className:e,label:n,children:o,cropped:r}=t,[i,s]=f.useState(!1),{sizeObserverRef:a,height:l}=wu(),{classes:c,cx:d}=t4e({height:l}),p=()=>{s(h=>!h)};return L("div",{className:d(c.sectionDropdown,{[c.hoverable]:!i,[c.cropped]:r},e),children:[L("div",{className:c.header,onClick:p,children:[u(Z,{fontSize:14,lineHeight:"17px",ellipsis:!0,bold:!0,children:n}),u(dn,{className:ce(c.arrow,{[c.rightArrow]:!i})})]}),u("div",{className:ce(c.content,{[c.opened]:i}),children:u("div",{ref:a,children:o})})]})}const t4e=K()((t,e,n)=>({sectionDropdown:{"--dropdown-bg":"var(--light-grey-7)","--dropdown-text":"var(--dark-grey-1)","--hover-bg":"var(--light-grey-6)",".termius-dark-theme &":{"--dropdown-bg":"var(--dark-grey-4)","--dropdown-text":"var(--light-grey-7)","--hover-bg":"var(--dark-grey-5)"},color:"var(--dropdown-text)",background:"var(--dropdown-bg)",borderRadius:"10px"},cropped:{overflow:"hidden"},hoverable:{transition:"background 0.1s","&:hover, &:focus":{background:"var(--hover-bg)"}},header:{padding:"10px",display:"flex",justifyContent:"space-between",alignItems:"center","& > svg":{fill:"currentColor"}},content:{padding:"0 10px",marginBottom:"10px",maxHeight:"0px",opacity:0,transition:"max-height 0.3s, opacity 0.3s, margin 0.3s",[`&:not(.${n.opened})`]:{overflow:"hidden",margin:"0"}},rightArrow:{transform:"rotate(-90deg)"},arrow:{transition:"transform 0.3s",minWidth:"10px"},opened:{maxHeight:e.height,opacity:1}}));function n4e({options:t,updateOptions:e,ports:n}){const{classes:o,cx:r}=o4e(),[i,s]=f.useState(t.charset),a=c5(),l=c5(),c=c5(),d=g=>{e(g)},p=g=>{const{value:C}=g.target;if(!C){d({baudRate:0});return}const v=Number.parseInt(C,10);Number.isNaN(v)||d({baudRate:v})},h=g=>{const{value:C}=g.target,v=Rb.find(S=>S.toLowerCase().includes(C.toLowerCase()))||"UTF-8";d({charset:v}),s(v)},m={outlined:!0,disableWrapper:!0,fullWidth:!0,InputProps:{endAdornment:u(dn,{className:o.chevron})},className:o.textField};return u("div",{className:o.formContentWrapper,children:L(So,{className:r(o.formPaddings,o.formContent),children:[u(sn,{label:"Serial Port",value:t.path,onChange:g=>d({path:g.target.value.trim()}),inputRef:l.ref,...m}),!!(n!=null&&n.length)&&u(d5,{isOpen:l.isFocused&&!!l.current,anchorEl:l.current,className:o.dropdown,children:n.map(({path:g})=>u(Qn,{dense:!0,onClick:()=>{d({path:g})},children:g},`ports-${g}`))}),u(sn,{...m,label:"Baud rate",value:t.baudRate,onChange:p,type:"number",inputProps:{min:0},inputRef:a.ref}),u(d5,{isOpen:a.isFocused&&!!a.current,anchorEl:a.current,className:o.dropdown,children:l4e.map(g=>u(Qn,{dense:!0,onClick:()=>d({baudRate:Number(g)}),children:g},`rate-${g}`))}),L(mN,{label:"Advanced",cropped:!0,children:[L("div",{className:o.charsetField,children:[u(sn,{label:"Charset",value:i,type:"text",onChange:g=>s(g.target.value),onBlur:h,inputRef:c.ref,...m}),u(d5,{isOpen:c.isFocused&&!!c.current,anchorEl:c.current,className:o.dropdown,children:Rb.map(g=>u(Qn,{dense:!0,onClick:()=>{s(g),d({charset:g})},children:g},g))})]}),u(ai,{label:"Data bits",items:s4e,onClick:g=>{d({dataBits:g})},selectedItem:t.dataBits||8}),u(ai,{label:"Stop bits",items:a4e,onClick:g=>{d({stopBits:g})},selectedItem:t.stopBits||1}),u(ai,{label:"Flow Control",items:r4e,onClick:g=>{d({controlFlow:Pb(Mx)[g]})},selectedItem:Mx[t.controlFlow]}),u(ai,{label:"Parity",items:i4e,onClick:g=>{d({parity:Pb(Lx)[g]})},selectedItem:Lx[t.parity]})]})]})})}const o4e=K()({formContentWrapper:{flexShrink:1,overflowY:"auto",maskImage:"var(--cf-list-shadow-mask)",paddingBottom:30},formContent:{overflowY:"initial"},formPaddings:{"&":{padding:"10px 0 0"}},dropdown:{maxHeight:"40vh",backgroundColor:"var(--foreground)",marginTop:-5},charsetField:{marginTop:"5px"},chevron:{fill:"var(--tf-border-color)",minWidth:"10px"},textField:{"--tf-border-color":"var(--light-grey-3)",".termius-dark-theme &":{"--tf-border-color":"var(--dark-grey-6)"}}}),r4e=["None","RTS/CTS","DSR/DTR","XON/XOFF"],i4e=["No","Odd","Even"],s4e=[8,7,6,5],a4e=[1,2],l4e=[50,75,110,134,150,200,300,600,1200,1800,2400,4800,9600,19200,38400,57600,115200],Lx={none:"No",odd:"Odd",even:"Even"},Mx={none:"None",rtscts:"RTS/CTS",dsrdtr:"DSR/DTR",xonxoff:"XON/XOFF"},c4e=f.forwardRef((t,e)=>{const{className:n,onSubmit:o,children:r,options:i,updateOptions:s,ports:a}=t,{classes:l}=d4e();return L("form",{ref:e,className:ce(n,l.serialForm),onSubmit:c=>{c.preventDefault(),o()},children:[u(n4e,{options:i,updateOptions:s,ports:a}),r]})}),d4e=K()({serialForm:{position:"relative",overflowY:"hidden",maxHeight:"100%",display:"flex",flexDirection:"column"}}),u4e=async()=>{try{return EM.list()}catch(t){if(t instanceof TypeError)return[];throw t}},p4e=()=>{const[t,e]=f.useState([]),n=async()=>{const o=await u4e();return e(o),o};return f.useEffect(()=>{n()},[]),V$(n,3e3),t},h4e={onEnter:{sequence:"enter",action:"keydown"}},gN=t=>{const{isTabActive:e,connection:n,onClose:o,onSubmit:r,setConnection:i}=t,s=de(),a=p4e(),c=V(v=>w3e(v,n.id))??W$;f.useEffect(()=>{!c.path&&a.length&&s($o({step:{stepName:"serialOptions",stepProps:{path:a[0].path}},connectionId:n.id}))},[a.length]);const d=v=>{s($o({step:{stepName:"serialOptions",stepProps:{...c,...v}},connectionId:n.id}))},p=()=>{if(m)return;const v=new pt({...n,serialOptions:c});i(v),r(v)},h={onEnter:p},m=!c.path||!c.baudRate,{classes:g}=f4e(),C=L(Fn,{className:g.actions,children:[u(In,{children:u(et,{onClick:o,children:"Close"})}),u(et,{disabled:m,onClick:p,color:"accent",children:"Connect"})]});return u("div",{className:g.root,children:u("div",{className:g.formContainer,children:e&&L(c4e,{onSubmit:p,options:c,updateOptions:d,ports:a,children:[u(ws.GlobalHotKeys,{allowChanges:!0,keyMap:h4e,handlers:h}),C]})})})},f4e=K()({root:{height:"100%",position:"relative",overflow:"auto",...Vl},formContainer:{height:"100%",position:"relative",overflow:"hidden",...Vl},actions:{margin:"0 0 30px",alignItems:"flex-start"}}),O1=t=>{const e=[];return t.enableShellIntegration&&e.push("ShellIntegration"),t.pqcKexEnabled===!1&&e.push("ExcludeUnstablePQCKex"),e},m4e=(t,e)=>f.createElement("svg",{width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 11.8766C0 11.503 0.302898 11.2001 0.676542 11.2001L20.3235 11.2001C20.6971 11.2001 21 11.503 21 11.8766V20.3235C21 20.6972 20.6971 21.0001 20.3235 21.0001H0.676543C0.302899 21.0001 0 20.6972 0 20.3235L0 11.8766ZM16.1001 18.2C17.2599 18.2 18.2001 17.2598 18.2001 16.1C18.2001 14.9402 17.2599 14 16.1001 14C14.9403 14 14.0001 14.9402 14.0001 16.1C14.0001 17.2598 14.9403 18.2 16.1001 18.2ZM6.64982 13.3C6.06992 13.3 5.59982 13.7701 5.59982 14.35L5.59982 17.85C5.59982 18.4299 6.06992 18.9 6.64982 18.9C7.22971 18.9 7.69982 18.4299 7.69982 17.85L7.69982 14.35C7.69982 13.7701 7.22971 13.3 6.64982 13.3ZM2.10008 14.35C2.10008 13.7701 2.57018 13.3 3.15008 13.3C3.72998 13.3 4.20008 13.7701 4.20008 14.35L4.20008 17.85C4.20008 18.4299 3.72998 18.9 3.15008 18.9C2.57018 18.9 2.10008 18.4299 2.10008 17.85L2.10008 14.35ZM10.1499 13.3C9.57005 13.3 9.09995 13.7701 9.09995 14.35V17.85C9.09995 18.4299 9.57005 18.9 10.1499 18.9C10.7298 18.9 11.1999 18.4299 11.1999 17.85V14.35C11.1999 13.7701 10.7298 13.3 10.1499 13.3Z",fill:"white"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.0686 7.86279C12.1909 7.86279 10.6206 6.54636 10.2304 4.78606L9.45352 4.78606L8.08608 6.15351L6.71864 4.78606L5.35119 6.15351L3.30003 4.10234L4.66747 2.7349L10.3226 2.7349C10.8288 1.14872 12.3146 -2.48519e-07 14.0686 -1.71847e-07C16.2399 -7.69384e-08 18 1.76015 18 3.9314C18 6.10265 16.2399 7.86279 14.0686 7.86279ZM14.7524 5.12792C14.0915 5.12792 13.5559 4.59223 13.5559 3.93141C13.5559 3.2706 14.0915 2.7349 14.7524 2.7349C15.4132 2.7349 15.9489 3.2706 15.9489 3.93141C15.9489 4.59223 15.4132 5.12792 14.7524 5.12792Z",fill:"white"})),g4e=f.forwardRef(m4e),v4e=f.memo(g4e),C4e=(t,e)=>f.createElement("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("mask",{id:"path-1-inside-1_1738_206035",fill:"white"},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.37302 0.0825848C2.28485 0.127884 2.16915 0.224845 2.1159 0.29805C2.01946 0.430647 2.01904 0.451859 2.00614 6.00168C1.99169 12.193 1.97603 11.8655 2.29659 12.0653C2.44137 12.1556 2.52463 12.1615 3.65063 12.1615H4.17465C4.54638 12.1615 4.84631 11.8574 4.84125 11.4857L4.83394 10.9477L4.81899 9.84811C4.81796 9.7725 4.80408 9.69763 4.77794 9.62668L4.6698 9.33321C4.33344 8.42039 4.55779 7.44875 5.26842 6.74065C5.76116 6.24967 6.28779 6.03472 6.99786 6.03472C7.7112 6.03472 8.23469 6.24797 8.73075 6.74065C9.07805 7.0856 9.33947 7.55603 9.43114 8.00096C9.51721 8.4186 9.46494 9.00909 9.30702 9.40391C9.17585 9.73185 9.17491 9.74137 9.16014 10.9477L9.15354 11.4866C9.14899 11.858 9.44877 12.1615 9.82015 12.1615H10.3434C11.7009 12.1615 11.7411 12.1523 11.9075 11.8058C11.9976 11.6182 12 11.5016 12 7.36532V3.77685C12 3.41151 11.7059 3.11422 11.3406 3.11023L10.6326 3.10249C9.14163 3.08613 9.12882 3.08397 8.85861 2.79709C8.60626 2.52925 8.58732 2.41466 8.58732 1.15638V0.666687C8.58732 0.298489 8.28883 9.30011e-06 7.92063 2.07721e-05L5.56032 9.43129e-05C2.77086 0.00014145 2.52075 0.00659928 2.37302 0.0825848ZM9.20394 1.33734C9.21741 2.19387 9.22531 2.26712 9.31418 2.35664C9.40557 2.44865 9.45587 2.45247 10.4225 2.4403L11.435 2.42758L10.3534 1.43769C9.75852 0.893254 9.25331 0.440311 9.23064 0.431166C9.2074 0.421738 9.19576 0.816986 9.20394 1.33734ZM6.56524 6.69455C5.6469 6.92854 5.0143 7.87756 5.16506 8.79513C5.23285 9.20735 5.37595 9.49164 5.67635 9.81076C6.71245 10.9113 8.52982 10.3444 8.82247 8.8294C9.02793 7.76589 8.1994 6.72033 7.10935 6.66763C6.9066 6.65783 6.66178 6.66994 6.56524 6.69455ZM5.50189 12.2782C5.50189 13.3789 5.5183 13.9951 5.54709 13.9772C5.57201 13.9617 5.85073 13.7248 6.16652 13.4508C6.87341 12.8375 6.9232 12.8034 7.05596 12.8404C7.11398 12.8565 7.456 13.124 7.81596 13.4349C8.07385 13.6575 8.47423 13.476 8.47669 13.1353L8.48274 12.2957C8.48948 11.3583 8.48807 10.5844 8.47966 10.5759C8.4712 10.5674 8.32758 10.6336 8.1605 10.7231C7.81461 10.9083 7.36572 11.0285 7.0159 11.0294C6.54317 11.0308 6.30644 10.9571 5.53695 10.5686C5.51769 10.5589 5.50189 11.3282 5.50189 12.2782Z"})),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.37302 0.0825848C2.28485 0.127884 2.16915 0.224845 2.1159 0.29805C2.01946 0.430647 2.01904 0.451859 2.00614 6.00168C1.99169 12.193 1.97603 11.8655 2.29659 12.0653C2.44137 12.1556 2.52463 12.1615 3.65063 12.1615H4.17465C4.54638 12.1615 4.84631 11.8574 4.84125 11.4857L4.83394 10.9477L4.81899 9.84811C4.81796 9.7725 4.80408 9.69763 4.77794 9.62668L4.6698 9.33321C4.33344 8.42039 4.55779 7.44875 5.26842 6.74065C5.76116 6.24967 6.28779 6.03472 6.99786 6.03472C7.7112 6.03472 8.23469 6.24797 8.73075 6.74065C9.07805 7.0856 9.33947 7.55603 9.43114 8.00096C9.51721 8.4186 9.46494 9.00909 9.30702 9.40391C9.17585 9.73185 9.17491 9.74137 9.16014 10.9477L9.15354 11.4866C9.14899 11.858 9.44877 12.1615 9.82015 12.1615H10.3434C11.7009 12.1615 11.7411 12.1523 11.9075 11.8058C11.9976 11.6182 12 11.5016 12 7.36532V3.77685C12 3.41151 11.7059 3.11422 11.3406 3.11023L10.6326 3.10249C9.14163 3.08613 9.12882 3.08397 8.85861 2.79709C8.60626 2.52925 8.58732 2.41466 8.58732 1.15638V0.666687C8.58732 0.298489 8.28883 9.30011e-06 7.92063 2.07721e-05L5.56032 9.43129e-05C2.77086 0.00014145 2.52075 0.00659928 2.37302 0.0825848ZM9.20394 1.33734C9.21741 2.19387 9.22531 2.26712 9.31418 2.35664C9.40557 2.44865 9.45587 2.45247 10.4225 2.4403L11.435 2.42758L10.3534 1.43769C9.75852 0.893254 9.25331 0.440311 9.23064 0.431166C9.2074 0.421738 9.19576 0.816986 9.20394 1.33734ZM6.56524 6.69455C5.6469 6.92854 5.0143 7.87756 5.16506 8.79513C5.23285 9.20735 5.37595 9.49164 5.67635 9.81076C6.71245 10.9113 8.52982 10.3444 8.82247 8.8294C9.02793 7.76589 8.1994 6.72033 7.10935 6.66763C6.9066 6.65783 6.66178 6.66994 6.56524 6.69455ZM5.50189 12.2782C5.50189 13.3789 5.5183 13.9951 5.54709 13.9772C5.57201 13.9617 5.85073 13.7248 6.16652 13.4508C6.87341 12.8375 6.9232 12.8034 7.05596 12.8404C7.11398 12.8565 7.456 13.124 7.81596 13.4349C8.07385 13.6575 8.47423 13.476 8.47669 13.1353L8.48274 12.2957C8.48948 11.3583 8.48807 10.5844 8.47966 10.5759C8.4712 10.5674 8.32758 10.6336 8.1605 10.7231C7.81461 10.9083 7.36572 11.0285 7.0159 11.0294C6.54317 11.0308 6.30644 10.9571 5.53695 10.5686C5.51769 10.5589 5.50189 11.3282 5.50189 12.2782Z",fill:"white"}),f.createElement("path",{d:"M2.37302 0.0825848L2.98234 1.26855L2.98289 1.26826L2.37302 0.0825848ZM2.1159 0.29805L1.03764 -0.486252L1.03762 -0.486225L2.1159 0.29805ZM2.00614 6.00168L3.33947 6.00479V6.00478L2.00614 6.00168ZM2.29659 12.0653L3.00201 10.9339L3.00178 10.9337L2.29659 12.0653ZM4.83394 10.9477L3.50073 10.9658L4.83394 10.9477ZM4.6698 9.33321L5.92091 8.87222L5.9209 8.8722L4.6698 9.33321ZM5.26842 6.74065L6.20955 7.68514L6.20955 7.68514L5.26842 6.74065ZM8.73075 6.74065L9.67035 5.79465L9.67033 5.79463L8.73075 6.74065ZM9.43114 8.00096L8.12524 8.27004L8.12525 8.27008L9.43114 8.00096ZM9.30702 9.40391L10.545 9.89911L10.545 9.89907L9.30702 9.40391ZM9.16014 10.9477L10.4934 10.964V10.964L9.16014 10.9477ZM11.9075 11.8058L10.7055 11.2287L10.7055 11.2288L11.9075 11.8058ZM10.6326 3.10249L10.618 4.43574L10.618 4.43574L10.6326 3.10249ZM8.85861 2.79709L9.82919 1.8829L9.82905 1.88275L8.85861 2.79709ZM5.56032 9.43129e-05L5.56035 1.33343H5.56037L5.56032 9.43129e-05ZM9.20394 1.33734L10.5371 1.31638V1.31638L9.20394 1.33734ZM9.31418 2.35664L8.36797 3.29603L8.3682 3.29626L9.31418 2.35664ZM10.4225 2.4403L10.4057 1.10708L10.4057 1.10708L10.4225 2.4403ZM11.435 2.42758L11.4517 3.7608L14.8204 3.71846L12.3352 1.44399L11.435 2.42758ZM10.3534 1.43769L11.2536 0.454109L11.2536 0.454102L10.3534 1.43769ZM9.23064 0.431166L8.72932 1.66667L8.73191 1.66771L9.23064 0.431166ZM6.56524 6.69455L6.89445 7.9866L6.89456 7.98657L6.56524 6.69455ZM5.16506 8.79513L3.84937 9.01131L3.8494 9.01149L5.16506 8.79513ZM5.67635 9.81076L4.70551 10.7247L4.70554 10.7247L5.67635 9.81076ZM8.82247 8.8294L7.51334 8.57649L7.51334 8.57653L8.82247 8.8294ZM7.10935 6.66763L7.04495 7.99941L7.04497 7.99941L7.10935 6.66763ZM5.54709 13.9772L4.84255 12.8452L4.84153 12.8458L5.54709 13.9772ZM6.16652 13.4508L7.04027 14.458L7.0403 14.458L6.16652 13.4508ZM7.05596 12.8404L7.41391 11.556L7.41351 11.5559L7.05596 12.8404ZM8.48274 12.2957L9.81604 12.3053L9.81604 12.3053L8.48274 12.2957ZM8.47966 10.5759L7.53296 11.5148L8.47966 10.5759ZM8.1605 10.7231L8.78987 11.8985L8.78991 11.8985L8.1605 10.7231ZM7.0159 11.0294L7.01213 9.69612H7.01205L7.0159 11.0294ZM5.53695 10.5686L4.93439 11.758L4.93607 11.7589L5.53695 10.5686ZM8.47669 13.1353L9.80999 13.1449L8.47669 13.1353ZM4.81899 9.84811L3.48578 9.86624L4.81899 9.84811ZM4.77794 9.62668L3.52683 10.0877L4.77794 9.62668ZM4.84125 11.4857L3.50804 11.5038L4.84125 11.4857ZM1.7637 -1.10338C1.50787 -0.971937 1.22495 -0.743765 1.03764 -0.486252L3.19416 1.08235C3.15846 1.13144 3.12937 1.16196 3.1179 1.17365C3.10412 1.18769 3.09402 1.19655 3.08776 1.2018C3.08134 1.20718 3.07263 1.21406 3.06008 1.22271C3.04919 1.23022 3.0231 1.24761 2.98234 1.26855L1.7637 -1.10338ZM1.03762 -0.486225C1.01231 -0.451429 0.914464 -0.319939 0.839457 -0.124789C0.775776 0.0408928 0.750556 0.192639 0.737434 0.294696C0.712924 0.485312 0.703294 0.745258 0.696606 1.09275C0.682551 1.82299 0.679238 3.23215 0.672807 5.99858L3.33947 6.00478C3.34594 3.22139 3.34929 1.84503 3.36278 1.14406C3.36611 0.97076 3.36992 0.848027 3.37405 0.760412C3.37609 0.717055 3.37805 0.685762 3.37974 0.663705C3.38147 0.641207 3.38256 0.63298 3.38233 0.63478C3.38216 0.636093 3.37965 0.655809 3.37265 0.687319C3.36538 0.720001 3.35214 0.770673 3.3286 0.831925C3.30354 0.897105 3.2733 0.957494 3.24066 1.01161C3.21284 1.05773 3.18715 1.092 3.19418 1.08232L1.03762 -0.486225ZM0.672807 5.99857C0.665655 9.06367 0.657474 10.5831 0.69393 11.3441C0.709039 11.6595 0.733581 12.0947 0.903036 12.4623C1.16102 13.0221 1.74311 13.2914 1.5914 13.1969L3.00178 10.9337C2.68979 10.7393 3.15363 10.9747 3.32484 11.3461C3.40753 11.5255 3.37678 11.6181 3.35754 11.2165C3.3253 10.5435 3.33217 9.13104 3.33947 6.00479L0.672807 5.99857ZM1.59116 13.1967C1.68473 13.2551 1.83321 13.3392 2.04014 13.3991C2.21735 13.4504 2.38365 13.4682 2.51122 13.4772C2.75036 13.4942 3.11263 13.4948 3.65063 13.4948V10.8281C3.36822 10.8281 3.15941 10.8277 2.99993 10.8259C2.83629 10.824 2.74854 10.8207 2.70008 10.8172C2.64799 10.8135 2.69596 10.8128 2.78164 10.8376C2.89706 10.8711 2.98084 10.9207 3.00201 10.9339L1.59116 13.1967ZM3.65063 13.4948H4.17465V10.8281H3.65063V13.4948ZM6.17446 11.4676L6.16715 10.9295L3.50073 10.9658L3.50804 11.5038L6.17446 11.4676ZM6.16715 10.9295L6.1522 9.82998L3.48578 9.86624L3.50073 10.9658L6.16715 10.9295ZM6.02904 9.16568L5.92091 8.87222L3.4187 9.7942L3.52683 10.0877L6.02904 9.16568ZM5.9209 8.8722C5.7718 8.46758 5.85309 8.04033 6.20955 7.68514L4.3273 5.79616C3.26249 6.85717 2.89508 8.3732 3.4187 9.79422L5.9209 8.8722ZM6.20955 7.68514C6.44659 7.44895 6.63233 7.36805 6.99786 7.36805V4.70139C5.94324 4.70139 5.07573 5.05039 4.32729 5.79616L6.20955 7.68514ZM6.99786 7.36805C7.36718 7.36805 7.55052 7.44767 7.79116 7.68667L9.67033 5.79463C8.91886 5.04827 8.05522 4.70139 6.99786 4.70139V7.36805ZM7.79114 7.68665C7.96753 7.86184 8.0906 8.1019 8.12524 8.27004L10.737 7.73189C10.5883 7.01017 10.1886 6.30936 9.67035 5.79465L7.79114 7.68665ZM8.12525 8.27008C8.15872 8.43249 8.12967 8.75718 8.06904 8.90876L10.545 9.89907C10.8002 9.26101 10.8757 8.40472 10.737 7.73185L8.12525 8.27008ZM8.06906 8.90871C7.98653 9.11503 7.89896 9.33793 7.86259 9.72009C7.83743 9.98445 7.83387 10.3629 7.8269 10.9313L10.4934 10.964C10.5012 10.3261 10.5055 10.0967 10.5173 9.97272C10.5206 9.93742 10.5213 9.95041 10.5131 9.97922C10.5098 9.99069 10.5076 9.99257 10.545 9.89911L8.06906 8.90871ZM7.8269 10.9313L7.8203 11.4703L10.4868 11.503L10.4934 10.964L7.8269 10.9313ZM9.82015 13.4948H10.3434V10.8281H9.82015V13.4948ZM10.3434 13.4948C10.6768 13.4948 10.9567 13.4944 11.1794 13.4873C11.3873 13.4807 11.634 13.4669 11.8677 13.4137C12.1405 13.3517 12.4616 13.2222 12.7381 12.9387C12.9627 12.7086 13.0806 12.4431 13.1095 12.3829L10.7055 11.2288C10.6849 11.2716 10.6874 11.2642 10.6992 11.2441C10.7145 11.2182 10.7561 11.1517 10.8295 11.0764C10.9082 10.9957 10.999 10.9299 11.0934 10.882C11.1808 10.8375 11.2495 10.8196 11.2765 10.8134C11.302 10.8076 11.3044 10.8093 11.2681 10.8126C11.2331 10.8159 11.1786 10.8193 11.0947 10.8219C10.9229 10.8274 10.6887 10.8281 10.3434 10.8281V13.4948ZM13.1094 12.383C13.3008 11.9845 13.3099 11.6081 13.3206 11.0941C13.3328 10.5066 13.3333 9.42407 13.3333 7.36532H10.6667C10.6667 9.44287 10.666 10.4868 10.6545 11.0386C10.6485 11.3245 10.6403 11.4225 10.6372 11.4472C10.6368 11.4498 10.6415 11.4107 10.6593 11.3509C10.6683 11.3204 10.6786 11.2919 10.6889 11.2667C10.6984 11.2435 10.7059 11.2279 10.7055 11.2287L13.1094 12.383ZM13.3333 7.36532V3.77685H10.6667V7.36532H13.3333ZM11.3552 1.77697L10.6472 1.76924L10.618 4.43574L11.326 4.44348L11.3552 1.77697ZM10.6472 1.76924C10.269 1.76509 10.0052 1.762 9.80769 1.75558C9.71065 1.75243 9.64046 1.74878 9.58867 1.74484C9.56336 1.74291 9.54494 1.74109 9.53204 1.7396C9.51911 1.73811 9.51363 1.73716 9.514 1.73723C9.5249 1.7391 9.63742 1.76115 9.76902 1.84707C9.86258 1.90815 9.91801 1.9772 9.82919 1.8829L7.88802 3.71128C7.93431 3.76042 8.09267 3.93731 8.31122 4.07999C8.56781 4.24751 8.82738 4.32492 9.06163 4.36524C9.41989 4.42691 9.94323 4.42834 10.618 4.43574L10.6472 1.76924ZM9.82905 1.88275C9.78625 1.83732 9.83285 1.87956 9.87932 1.96444C9.93213 2.06092 9.94442 2.13436 9.94381 2.13065C9.94051 2.11073 9.93219 2.04142 9.92697 1.86619C9.92192 1.69684 9.92066 1.47243 9.92066 1.15638H7.25399C7.25399 1.73591 7.25435 2.21176 7.31286 2.56565C7.34852 2.78136 7.41286 3.0123 7.5402 3.24492C7.66118 3.46593 7.80479 3.62294 7.88816 3.71143L9.82905 1.88275ZM9.92066 1.15638V0.666687H7.25399V1.15638H9.92066ZM7.92059 -1.33331L5.56028 -1.33324L5.56037 1.33343L7.92068 1.33335L7.92059 -1.33331ZM5.5603 -1.33324C4.17457 -1.33322 3.39292 -1.3317 2.94153 -1.32002C2.5942 -1.31104 2.16032 -1.30738 1.76315 -1.10309L2.98289 1.26826C2.73345 1.39657 2.49849 1.359 3.01051 1.34575C3.41848 1.33519 4.15661 1.33345 5.56035 1.33343L5.5603 -1.33324ZM7.87077 1.35829C7.87701 1.75528 7.88211 2.06467 7.90517 2.27795C7.91747 2.39169 7.94382 2.58107 8.02748 2.78536C8.12937 3.03415 8.27111 3.19848 8.36797 3.29603L10.2604 1.41724C10.2769 1.43391 10.321 1.47943 10.3693 1.54713C10.4208 1.61914 10.4631 1.69619 10.4952 1.77475C10.5255 1.84857 10.5406 1.90876 10.548 1.94356C10.5552 1.97714 10.5569 1.99617 10.5564 1.99128C10.5548 1.97621 10.5509 1.92618 10.547 1.80371C10.5434 1.68675 10.5405 1.53134 10.5371 1.31638L7.87077 1.35829ZM8.3682 3.29626C8.44437 3.37296 8.61591 3.53632 8.89352 3.6477C9.11802 3.73776 9.32607 3.7585 9.43972 3.76708C9.65904 3.78364 9.9908 3.77917 10.4392 3.77353L10.4057 1.10708C10.1624 1.11014 9.98692 1.11205 9.85516 1.11197C9.71703 1.11188 9.65973 1.10944 9.64052 1.10799C9.63363 1.10747 9.65466 1.10864 9.6921 1.11555C9.73105 1.12274 9.80088 1.13845 9.88643 1.17277C9.97853 1.20972 10.0646 1.25846 10.1415 1.31532C10.2102 1.36621 10.255 1.41182 10.2602 1.41701L8.3682 3.29626ZM10.4392 3.77353L11.4517 3.7608L11.4182 1.09435L10.4057 1.10708L10.4392 3.77353ZM12.3352 1.44399L11.2536 0.454109L9.45322 2.42127L10.5348 3.41116L12.3352 1.44399ZM11.2536 0.454102C10.9538 0.179708 10.6752 -0.0728312 10.4675 -0.259098C10.3641 -0.35173 10.2753 -0.430703 10.2089 -0.488621C10.1767 -0.516794 10.1442 -0.544868 10.1158 -0.568553C10.1028 -0.579449 10.0818 -0.596807 10.0581 -0.615174C10.0472 -0.623662 10.0248 -0.640882 9.99631 -0.660718C9.9822 -0.670549 9.95731 -0.687529 9.92544 -0.706935C9.90407 -0.719944 9.8307 -0.764509 9.72936 -0.805381L8.73191 1.66771C8.63128 1.62713 8.55885 1.58306 8.53866 1.57077C8.50796 1.55208 8.48448 1.53603 8.47201 1.52734C8.44682 1.50979 8.4286 1.4957 8.42276 1.49116C8.40928 1.4807 8.40207 1.47455 8.40617 1.47797C8.41211 1.48294 8.42744 1.496 8.45502 1.52008C8.50839 1.56668 8.58725 1.63668 8.68742 1.72649C8.88664 1.90509 9.15816 2.15124 9.45322 2.42128L11.2536 0.454102ZM9.73195 -0.804335C9.2657 -0.993521 8.79424 -0.889782 8.4691 -0.664486C8.21757 -0.490198 8.09548 -0.27733 8.05465 -0.202127C7.96355 -0.0343307 7.93037 0.115637 7.92344 0.145617C7.90035 0.245434 7.8916 0.333823 7.88834 0.367582C7.87977 0.456415 7.8754 0.556551 7.87275 0.646328C7.86717 0.835702 7.86649 1.08601 7.87077 1.3583L10.5371 1.31638C10.5332 1.06832 10.5343 0.860821 10.5383 0.72484C10.5404 0.65194 10.5428 0.62251 10.5427 0.623625C10.5425 0.625901 10.5415 0.63617 10.5392 0.65203C10.5374 0.664868 10.5323 0.699869 10.5215 0.74649C10.5171 0.765548 10.4866 0.907483 10.3982 1.07027C10.3587 1.14297 10.238 1.35409 9.98789 1.5274C9.84893 1.62369 9.65488 1.71835 9.4115 1.75188C9.16214 1.78623 8.9274 1.74704 8.72932 1.66667L9.73195 -0.804335ZM6.23603 5.4025C4.6679 5.80205 3.58307 7.39059 3.84937 9.01131L6.48075 8.57896C6.44552 8.36453 6.6259 8.05503 6.89445 7.9866L6.23603 5.4025ZM3.8494 9.01149C3.96238 9.69853 4.23275 10.2225 4.70551 10.7247L6.6472 8.89684C6.56142 8.80572 6.53466 8.75867 6.52441 8.73832C6.51523 8.72008 6.49743 8.6804 6.48072 8.57878L3.8494 9.01149ZM4.70554 10.7247C6.54051 12.6738 9.64774 11.5872 10.1316 9.08228L7.51334 8.57653C7.46445 8.82959 7.30528 8.97378 7.13117 9.02808C6.96099 9.08117 6.78981 9.04833 6.64717 8.89681L4.70554 10.7247ZM10.1316 9.08231C10.4932 7.21036 9.0629 5.42719 7.17374 5.33586L7.04497 7.99941C7.17239 8.00557 7.30637 8.07093 7.40673 8.19757C7.50706 8.32417 7.53532 8.46274 7.51334 8.57649L10.1316 9.08231ZM7.17375 5.33586C7.0253 5.32868 6.86976 5.32965 6.73159 5.33648C6.62479 5.34177 6.42384 5.35463 6.23592 5.40252L6.89456 7.98657C6.85754 7.99601 6.8315 8.00043 6.82294 8.00183C6.8125 8.00353 6.80799 8.00396 6.81077 8.00365C6.81688 8.00296 6.83455 8.00132 6.86335 7.99989C6.9224 7.99697 6.99065 7.99679 7.04495 7.99941L7.17375 5.33586ZM4.16855 12.2782C4.16855 12.8323 4.17265 13.2755 4.18083 13.5827C4.18481 13.7322 4.19023 13.8694 4.1985 13.9766C4.20191 14.0209 4.20906 14.1068 4.2259 14.1976C4.23024 14.221 4.25429 14.3605 4.32523 14.5187C4.34937 14.5726 4.46088 14.8259 4.73201 15.0343C4.89098 15.1564 5.1379 15.2875 5.4604 15.3082C5.78847 15.3292 6.0619 15.2275 6.25266 15.1085L4.84153 12.8458C5.03139 12.7274 5.30392 12.626 5.63111 12.647C5.95272 12.6676 6.19876 12.7983 6.35685 12.9198C6.62623 13.1268 6.73601 13.3776 6.75845 13.4276C6.82598 13.5782 6.84673 13.7053 6.84786 13.7114C6.8583 13.7676 6.85944 13.7998 6.85727 13.7715C6.85436 13.7339 6.85027 13.6516 6.84655 13.5117C6.83932 13.2401 6.83522 12.8248 6.83522 12.2782H4.16855ZM6.25163 15.1092C6.31207 15.0716 6.35917 15.035 6.36211 15.0328C6.37757 15.021 6.39125 15.0102 6.40072 15.0026C6.4203 14.9869 6.44137 14.9696 6.46112 14.9533C6.50163 14.9197 6.55328 14.8761 6.61112 14.827C6.72763 14.728 6.87981 14.5972 7.04027 14.458L5.29277 12.4437C5.13744 12.5785 4.99236 12.7031 4.88434 12.7949C4.82991 12.8411 4.78747 12.8769 4.75884 12.9006C4.74403 12.9129 4.73677 12.9188 4.73511 12.9201C4.73395 12.921 4.73878 12.9171 4.74727 12.9107C4.75152 12.9074 4.76024 12.9008 4.7719 12.8925C4.7802 12.8865 4.80664 12.8675 4.84255 12.8452L6.25163 15.1092ZM7.0403 14.458C7.21829 14.3035 7.34524 14.194 7.44095 14.1139C7.48814 14.0744 7.5227 14.0462 7.54817 14.0262C7.57442 14.0055 7.58367 13.9993 7.58102 14.0011C7.57954 14.0021 7.55078 14.022 7.50161 14.0468C7.45033 14.0726 7.36355 14.1104 7.24763 14.1359C7.12395 14.1632 7.00158 14.169 6.88779 14.1587C6.78596 14.1494 6.71217 14.1287 6.69842 14.1249L7.41351 11.5559C7.29651 11.5233 7.01982 11.4554 6.67314 11.5319C6.38588 11.5953 6.17518 11.7317 6.07206 11.8024C5.87566 11.9372 5.61376 12.1652 5.29274 12.4437L7.0403 14.458ZM6.69802 14.1248C6.63044 14.1059 6.57791 14.0853 6.54646 14.0722C6.51296 14.0581 6.48627 14.0452 6.46833 14.0361C6.43351 14.0185 6.40888 14.0038 6.39891 13.9978C6.37874 13.9855 6.37122 13.9797 6.3821 13.9874C6.40157 14.0011 6.441 14.0302 6.50125 14.0773C6.61893 14.1694 6.7776 14.2999 6.94456 14.444L8.68737 12.4257C8.49436 12.259 8.30204 12.1004 8.14421 11.9769C8.06671 11.9163 7.98726 11.8561 7.91504 11.8054C7.88008 11.7808 7.8335 11.749 7.78212 11.7179C7.7738 11.7128 7.61922 11.6132 7.41391 11.556L6.69802 14.1248ZM9.80999 13.1449L9.81604 12.3053L7.14945 12.2861L7.14339 13.1257L9.80999 13.1449ZM9.81604 12.3053C9.81943 11.8338 9.82078 11.4019 9.82021 11.0851C9.81993 10.9275 9.81916 10.7945 9.81785 10.6982C9.81721 10.6514 9.81634 10.6055 9.81501 10.5673C9.81442 10.5506 9.81328 10.5207 9.81085 10.488C9.80989 10.475 9.80702 10.437 9.80032 10.3901C9.79743 10.3699 9.78942 10.3159 9.77233 10.2486C9.76402 10.2159 9.74649 10.1515 9.71484 10.0737C9.69514 10.0253 9.61504 9.82728 9.42636 9.63704L7.53296 11.5148C7.42759 11.4086 7.36186 11.3064 7.32555 11.2436C7.28696 11.1769 7.26108 11.1187 7.24487 11.0789C7.21335 11.0014 7.19595 10.9374 7.18777 10.9052C7.17093 10.8389 7.16318 10.7863 7.16054 10.7678C7.15433 10.7244 7.15195 10.6914 7.15146 10.6847C7.14998 10.6647 7.14971 10.6532 7.14996 10.6603C7.15029 10.6697 7.15086 10.693 7.15143 10.7347C7.15253 10.8152 7.15327 10.9358 7.15355 11.0899C7.1541 11.3965 7.15279 11.8202 7.14945 12.2861L9.81604 12.3053ZM9.42636 9.63704C9.18663 9.39531 8.92115 9.30941 8.7807 9.27673C8.63267 9.24228 8.51045 9.24063 8.44379 9.24227C8.31119 9.24553 8.20867 9.26816 8.17038 9.277C8.08167 9.29748 8.01173 9.32311 7.98582 9.33272C7.92113 9.35673 7.86125 9.38351 7.82124 9.40196C7.73305 9.44263 7.63093 9.49422 7.5311 9.54768L8.78991 11.8985C8.85716 11.8625 8.91038 11.8363 8.93789 11.8236C8.95572 11.8154 8.94378 11.8216 8.91362 11.8328C8.90497 11.836 8.84894 11.8571 8.77036 11.8753C8.73714 11.883 8.63873 11.905 8.50924 11.9081C8.44414 11.9097 8.32323 11.9082 8.17625 11.874C8.03684 11.8415 7.77216 11.756 7.53296 11.5148L9.42636 9.63704ZM7.53114 9.54766C7.35392 9.64254 7.11817 9.69582 7.01213 9.69612L7.01967 12.3628C7.61328 12.3611 8.2753 12.1741 8.78987 11.8985L7.53114 9.54766ZM7.01205 9.69612C6.86651 9.69654 6.83226 9.68718 6.78432 9.67225C6.68727 9.64201 6.52468 9.57367 6.13783 9.37837L4.93607 11.7589C5.31871 11.9521 5.65923 12.1148 5.9911 12.2182C6.37208 12.3369 6.69256 12.3637 7.01976 12.3628L7.01205 9.69612ZM6.13951 9.37922C5.93046 9.27332 5.66499 9.20911 5.37262 9.24532C5.09043 9.28027 4.87511 9.3972 4.73323 9.5042C4.48363 9.69243 4.37099 9.91644 4.34082 9.97723C4.26399 10.132 4.23596 10.2676 4.23124 10.2891C4.21298 10.372 4.20577 10.4428 4.20368 10.4629C4.19753 10.5223 4.19396 10.5848 4.19161 10.6328C4.18648 10.7375 4.1824 10.8773 4.17914 11.0361C4.17254 11.3577 4.16855 11.7971 4.16855 12.2782H6.83522C6.83522 11.8092 6.83913 11.389 6.84525 11.0908C6.84835 10.9398 6.85183 10.8298 6.85508 10.7632C6.85692 10.7257 6.85775 10.7223 6.85614 10.7378C6.85556 10.7434 6.85422 10.7557 6.85187 10.7723C6.84991 10.7863 6.845 10.8195 6.83552 10.8625C6.83197 10.8786 6.80512 11.0103 6.72949 11.1627C6.69991 11.2223 6.58787 11.4455 6.33887 11.6333C6.19729 11.7401 5.98227 11.8569 5.70037 11.8918C5.40831 11.9279 5.14313 11.8638 4.93439 11.758L6.13951 9.37922ZM9.92066 0.666687C9.92066 -0.437908 9.02519 -1.33335 7.92059 -1.33331L7.92068 1.33335C7.55248 1.33337 7.25399 1.03489 7.25399 0.666687H9.92066ZM6.94457 14.444C8.06295 15.4097 9.79933 14.6225 9.80999 13.1449L7.14339 13.1257C7.14913 12.3295 8.08475 11.9053 8.68736 12.4257L6.94457 14.444ZM13.3333 3.77685C13.3333 2.68081 12.4512 1.78895 11.3552 1.77697L11.326 4.44348C10.9607 4.43949 10.6667 4.1422 10.6667 3.77685H13.3333ZM6.1522 9.82998C6.14911 9.60317 6.10747 9.37853 6.02904 9.16568L3.52683 10.0877C3.50069 10.0167 3.48681 9.94184 3.48578 9.86624L6.1522 9.82998ZM7.8203 11.4703C7.80666 12.5844 8.70601 13.4948 9.82015 13.4948V10.8281C10.1915 10.8281 10.4913 11.1316 10.4868 11.503L7.8203 11.4703ZM4.17465 13.4948C5.28985 13.4948 6.18962 12.5827 6.17446 11.4676L3.50804 11.5038C3.50299 11.1321 3.80291 10.8281 4.17465 10.8281V13.4948Z",fill:"white",mask:"url(#path-1-inside-1_1738_206035)"})),y4e=f.forwardRef(C4e),S4e=f.memo(y4e),b4e=(t,e)=>f.createElement("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.55556 0.666016C0.696446 0.666016 0 1.36246 0 2.22157L0 2.44434L0 2.99935L0 10.4443C0 11.9171 1.19391 13.111 2.66667 13.111L11.3333 13.111C12.8061 13.111 14 11.9171 14 10.4443L14 2.99935V2.44434V2.22157C14 1.36246 13.3036 0.666016 12.4444 0.666016L1.55556 0.666016ZM13.3333 3.111L0.666667 3.111L0.666667 10.4443C0.666667 11.5489 1.5621 12.4443 2.66667 12.4443L11.3333 12.4443C12.4379 12.4443 13.3333 11.5489 13.3333 10.4443L13.3333 3.111ZM2.76542 9.889L2.76542 9.39523C3.27344 9.3001 3.56249 8.91051 3.56249 8.49375C3.56249 8.08605 3.33037 7.73271 2.74353 7.59681L2.36251 7.51074C2.19171 7.46997 2.10412 7.37484 2.10412 7.25253C2.10412 7.10757 2.22675 6.95808 2.472 6.95808C2.81798 6.95808 2.89243 7.19364 2.9187 7.33407L3.52745 7.16646C3.46614 6.85842 3.24716 6.50055 2.76542 6.39183L2.76542 5.889H2.26178L2.26178 6.37824C1.80194 6.45978 1.43406 6.80859 1.43406 7.31595C1.43406 7.7463 1.73625 8.05434 2.22675 8.17665L2.61652 8.27178C2.7917 8.31255 2.88805 8.39862 2.88805 8.52999C2.88805 8.70666 2.73039 8.81538 2.51141 8.81538C2.13478 8.81538 1.9596 8.57982 1.9377 8.31708L1.33333 8.45751C1.36399 8.82897 1.64428 9.3001 2.26178 9.40429L2.26178 9.889H2.76542ZM6.02115 9.35899V8.67948H4.74235V8.0634H5.89853V7.43373H4.74235V6.82218H6.01677V6.14721H4.05039V9.35899H6.02115ZM9.29286 6.14721L9.29286 9.35899H8.56149L7.28268 7.248V9.35899L6.5951 9.35899V6.14721H7.43596L8.6009 8.09964L8.6009 6.14721H9.29286ZM11.1908 8.40768L10.4419 6.14721H9.67986L10.8185 9.35899H11.5324L12.6667 6.14721H11.9309L11.1908 8.40768Z",fill:"white"})),w4e=f.forwardRef(b4e),_4e=f.memo(w4e),x4e=(t,e)=>f.createElement("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.8387 8.39178C13.4316 8.19968 13.8681 8.0425 13.9916 7.32649L13.9999 6.82878C13.9143 6.30016 13.5259 5.88483 13.0281 5.78969C12.3775 5.61506 12.1716 5.53647 12.0234 4.74187C11.947 4.33218 11.9822 3.92481 12.0173 3.51856C12.0503 3.13689 12.0832 2.75622 12.0234 2.37555C11.834 1.16183 10.4916 -0.20907 9.25634 0.0266888C8.93509 0.0832341 8.65961 0.301366 8.51725 0.611916C8.3749 0.922466 8.38333 1.28691 8.53987 1.58969C8.70422 1.98659 8.97737 2.09908 9.25693 2.21422C9.4817 2.30679 9.71062 2.40107 9.89046 2.64624C10.1622 3.01663 10.1016 3.67995 10.0481 4.26573C10.0221 4.54994 9.99785 4.8159 10.014 5.02129C10.0326 5.31953 10.0909 5.61348 10.1869 5.89447C10.2208 5.99767 10.4134 6.28761 10.5915 6.5558C10.76 6.80954 10.9156 7.0438 10.9116 7.082C10.9069 7.12679 10.7498 7.30484 10.6048 7.46912C10.4954 7.59312 10.3929 7.70928 10.3681 7.75435C10.2858 7.89524 10.2168 8.0444 10.1622 8.19968C10.0468 8.56536 9.9911 8.94925 9.99752 9.33481C9.99516 9.50491 10.0171 9.70868 10.0406 9.92623C10.099 10.4681 10.1666 11.0953 9.89046 11.5003C9.72232 11.7469 9.48423 11.8484 9.2471 11.9496C8.93838 12.0812 8.63127 12.2122 8.48223 12.6616C8.35852 12.9264 8.3602 13.2376 8.48676 13.5008C8.61332 13.764 8.84984 13.9482 9.12458 13.9976C10.4604 14.0534 11.6572 13.128 12.0152 11.7623C12.0763 11.4114 12.039 10.993 12.0014 10.5707C11.9174 9.62668 11.8316 8.66326 12.8387 8.39178ZM1.16118 8.39156C0.568235 8.19946 0.131765 8.04229 0.00823529 7.32628L0 6.82856C0.088642 6.30333 0.4764 5.89219 0.971765 5.79821C1.62235 5.62357 1.82824 5.54498 1.97647 4.75039C2.0529 4.3407 2.01768 3.93332 1.98255 3.52707C1.94955 3.14541 1.91663 2.76474 1.97647 2.38407C2.16588 1.17034 3.50823 -0.191822 4.74353 0.0264731C5.06479 0.0830184 5.34027 0.30115 5.48262 0.6117C5.62498 0.92225 5.61655 1.28669 5.46 1.58947C5.29566 1.98637 5.02251 2.09887 4.74294 2.214C4.51817 2.30657 4.28925 2.40085 4.10941 2.64602C3.83771 3.01641 3.89829 3.67973 3.95178 4.26551C3.97774 4.54973 4.00202 4.81569 3.98588 5.02108C3.96724 5.31931 3.90902 5.61327 3.81294 5.89426C3.77909 5.99745 3.5865 6.2874 3.40837 6.55558C3.23983 6.80932 3.08423 7.04358 3.08823 7.08179C3.09293 7.12657 3.25006 7.30463 3.39503 7.46891C3.50446 7.59291 3.60697 7.70907 3.63176 7.75414C3.71406 7.89502 3.78303 8.04419 3.83765 8.19946C3.95308 8.56514 4.00878 8.94904 4.00235 9.3346C4.00471 9.50469 3.98274 9.70847 3.95929 9.92601C3.90086 10.4679 3.83323 11.0951 4.10941 11.5001C4.27756 11.7467 4.51564 11.8482 4.75277 11.9493C5.06149 12.081 5.3686 12.212 5.51765 12.6614C5.64136 12.9262 5.63968 13.2373 5.51312 13.5006C5.38656 13.7638 5.15003 13.948 4.87529 13.9974C3.53944 14.0532 2.34272 13.1278 1.98471 11.762C1.92362 11.4112 1.96087 10.9928 1.99847 10.5705C2.08251 9.62646 2.16829 8.66304 1.16118 8.39156Z",fill:"white"})),A4e=f.forwardRef(x4e),T4e=f.memo(A4e),I4e=(t,e)=>f.createElement("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.933333 0C0.417868 0 0 0.417867 0 0.933333V5.6C0 6.11547 0.417868 6.53333 0.933333 6.53333H13.0667C13.5821 6.53333 14 6.11547 14 5.6V0.933333C14 0.417868 13.5821 0 13.0667 0H0.933333ZM12.1333 3.26654C12.1333 4.03974 11.5065 4.66654 10.7333 4.66654C9.96014 4.66654 9.33333 4.03974 9.33333 3.26654C9.33333 2.49334 9.96014 1.86654 10.7333 1.86654C11.5065 1.86654 12.1333 2.49334 12.1333 3.26654ZM3.73307 2.09974C3.73307 1.71314 4.04647 1.39974 4.43307 1.39974C4.81967 1.39974 5.13307 1.71314 5.13307 2.09974V4.43307C5.13307 4.81967 4.81967 5.13307 4.43307 5.13307C4.04647 5.13307 3.73307 4.81967 3.73307 4.43307V2.09974ZM2.09974 1.39974C1.71314 1.39974 1.39974 1.71314 1.39974 2.09974V4.43307C1.39974 4.81967 1.71314 5.13307 2.09974 5.13307C2.48634 5.13307 2.79974 4.81967 2.79974 4.43307V2.09974C2.79974 1.71314 2.48634 1.39974 2.09974 1.39974ZM6.06641 2.09974C6.06641 1.71314 6.37981 1.39974 6.76641 1.39974C7.15301 1.39974 7.46641 1.71314 7.46641 2.09974V4.43307C7.46641 4.81967 7.15301 5.13307 6.76641 5.13307C6.37981 5.13307 6.06641 4.81967 6.06641 4.43307V2.09974ZM6.99974 7.93359C6.48427 7.93359 6.06641 8.35146 6.06641 8.86693V10.5169C5.78311 10.6809 5.5469 10.9171 5.38304 11.2005H0.933333C0.417867 11.2005 0 11.6184 0 12.1339C0 12.6493 0.417867 13.0672 0.933332 13.0672H5.38334C5.70613 13.625 6.30931 14.0003 7.00013 14.0003C7.69095 14.0003 8.29413 13.625 8.61692 13.0672H13.0667C13.5821 13.0672 14 12.6493 14 12.1339C14 11.6184 13.5821 11.2005 13.0667 11.2005H8.61722C8.45321 10.9169 8.21672 10.6804 7.93307 10.5164V8.86693C7.93307 8.35146 7.5152 7.93359 6.99974 7.93359Z",fill:"white"})),E4e=f.forwardRef(I4e),Ox=f.memo(E4e),Dx=[{name:"snippets",multiplyTitle:"Startup snippets",multiplyIcon:u(T4e,{}),openDialogWithIndex:po("Automation"),analyticsValue:"Startup Snippet Connection Flow"},{name:"agentForwarding",multiplyTitle:"Agent forwarding",multiplyIcon:u(v4e,{}),openDialogWithIndex:po("Forwarding"),analyticsValue:"Agent Forwarding Connection Flow"},{name:"hostChain",multiplyTitle:"Host chains",multiplyIcon:u(Ox,{}),openDialogWithIndex:po("Tunneling"),analyticsValue:"Host Chaining Connection Flow"},{name:"proxy",multiplyTitle:"Proxy",multiplyIcon:u(Ox,{}),openDialogWithIndex:po("Tunneling"),analyticsValue:"Proxy"},{name:"envVar",multiplyTitle:"Environment variables",multiplyIcon:u(_4e,{}),openDialogWithIndex:po("Variables"),analyticsValue:"Environment Variables Connection Flow"},{name:"certificate",multiplyTitle:"Certificates",multiplyIcon:u(S4e,{}),openDialogWithIndex:po("Certificates"),analyticsValue:"Certificates"}],vN=t=>{const{onSubmit:e,onClose:n,setConnection:o,connection:r,features:i}=t,s=tt(),a=de(),{classes:l}=k4e(),c=V(zt),d=V($h),p=V(F=>qh(F,r.host.local_id)),h=V(j$),m=f.useRef(null),[g,C]=f.useState(!1),[v,S]=f.useState(!1),[y,b]=f.useState("Enable Advanced Settings");let w=r.clone({id:r.id});const x=i.length,_=i.map(F=>Dx.find(z=>z.name===F)||Dx[0]),I=x>1,T=f.useCallback(()=>{const{current:F}=m;if(F&&F.scrollHeight>F.clientHeight){if(g)return;C(!0),F.scroll({top:0})}else g&&C(!1)},[g]);if(Ao(()=>{a(Vk({promotionLocation:"Connection Flow Init",promotionType:"Premium",trialDaysLeft:void 0,sideMenuTeamTrialPromoType:void 0}))}),f.useEffect(()=>(T(),window.addEventListener("resize",T),()=>{window.removeEventListener("resize",T)}),[T]),f.useEffect(()=>{c&&(b("Continue"),A())},[c]),x===0)return null;const A=F=>{if(c){const z=new pt({host:p||void 0,protocol:"ssh",featureSet:O1({enableShellIntegration:!1,pqcKexEnabled:d}),sshKnownHosts:r.sshKnownHosts});o(z,{shouldNotifyUpdate:!1}),e(z)}else w=S9(w),F&&a(Wk({promotionLocation:"Connection Flow Init",promotionType:"Premium",trialDaysLeft:void 0,sideMenuTeamTrialPromoType:void 0,dismissForever:v?"yes":"no"})),v&&a(U$()),o(w,{shouldNotifyUpdate:!1}),e(w)},k=async()=>{a($$({promotionLocation:"Connection Flow Init",promotionType:"Premium",trialDaysLeft:void 0,sideMenuTeamTrialPromoType:void 0})),I?Pt(s,{dialog:"ProFeatures",target:ge(),props:{purchaseOpen:!0,from:"Connection Flow"}}).catch(He):_[0]&&Pt(s,{dialog:"ProFeatures",target:ge(),props:{openWithNumber:_[0].openDialogWithIndex,from:_[0].analyticsValue}}).catch(He)},R=F=>{S(F.target.checked)},M=L(Fn,{children:[u(et,{onClick:n,children:"Close"}),L(In,{children:[u(et,{onClick:()=>{A(!0)},children:"Skip"}),L(et,{onClick:k,fullWidth:!0,color:"accent",children:[y,!c&&u(Vh,{width:12,height:12,className:l.upgradeButtonIcon})]})]})]}),D=F=>{var z;if(F){let j;if(F.name==="snippets"){const H=(z=p==null?void 0:p.ssh_config)==null?void 0:z.startup_snippet;j=H!=null?jk.label(H):""}return L("div",{className:l.multiplyItem,children:[u("div",{className:l.multiplyIcon,children:F.multiplyIcon}),u(Z,{color:"primary",variant:"body2",className:l.multiplyTitle,children:F.multiplyTitle}),!!j&&u(Z,{variant:"body2",color:"deprecatedSecondary",className:l.dopInfo,children:j})]},F.multiplyTitle)}return null};return L("div",{className:l.container,children:[u(Z,{color:"main",variant:"body1",bold:!0,children:"Enable advanced settings with Termius Pro"}),u(Ze,{top:20,bottom:20,children:L(Z,{color:"primary",variant:"body2",children:["Several Host settings require a Termius Pro subscription and were disabled."," ",h?"Upgrade to Termius Pro to enable them.":"Try it free for 14 days."]})}),u("div",{className:l.upgradeBlock,children:u("div",{className:l.multiplyWrapper,ref:m,children:_.map(F=>D(F))})}),u(Ze,{top:20,children:u(w8,{checked:v,onChange:R,className:l.switcher,fullWidth:!0,label:"Donâ€™t show again"})}),M]})},k4e=K()({container:{height:"100%",display:"flex",flexDirection:"column"},upgradeBlock:{borderRadius:"10px",padding:"10px",display:"flex",flexDirection:"column",background:"var(--foreground)",maxHeight:"calc(100% - 56px)"},switcher:{color:"var(--text-primary)",fontSize:"12px",lineHeight:1.5},multiplyWrapper:{display:"flex",flexDirection:"column",gap:"10px",width:"100%",height:"100%",overflowY:"auto",overflowX:"hidden","&::-webkit-scrollbar-thumb":{backgroundColor:"var(--dark-grey-6)",visibility:"hidden"},"&:hover::-webkit-scrollbar-thumb":{visibility:"visible"}},multiplyItem:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"10px"},multiplyIcon:{height:"30px",flex:"0 0 30px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--dark-blue-solid)",".termius-dark-theme &":{background:"var(--dark-grey-5)"},"& svg":{width:"14px",height:"14px"}},multiplyTitle:{flex:1},dopInfo:{maxWidth:"35%",overflow:"hidden"},upgradeButtonIcon:{color:"var(--white)",marginLeft:"10px"}}),Fx={name:"terminal",status:"disabled",icon:"terminal",isActive:!1,animation:"none"},R4e={onEsc:"esc"};var G6;let P4e=(G6=class extends Se.PureComponent{constructor(n){var o;super(n);E(this,"disposables",new gt);E(this,"closeAllForms",()=>{const{advancedSettingsForm:n,newKeyForm:o}=this.props;[n,o].filter(zp).forEach(Ji)});E(this,"getIsCompactFlow",()=>this.props.contentWidth<350);E(this,"mapStepToConnectionPage",()=>{const{isTabActive:n,connection:o,setConnection:r,onClose:i,onTryToConnect:s,isConnected:a,isConnectionError:l,autoFocusRef:c}=this.props,d=this.getIsHostEditable(),p=!d,h={isTabActive:n,connection:o,setConnection:r,onClose:i,onStartOver:this.handleStartOver,isSaveToggleDisabled:p,isConnectionError:l,autoFocusRef:c},m=cp(this.props),g=m==null?void 0:m.name;if(m==null)return null;const C=Je.getClasses(this.props);switch(g){case"connection":return!a&&u(et,{onClick:i,className:C.closeButton,children:"Close"});case"protocol":return u(XF,{...h,onSubmit:s});case"serialOptions":return u(gN,{...h,onSubmit:s});case"identity":return u(YF,{...h,onCreateNewHost:m.stepProps.onCreateNewHost,onSubmit:v=>{const{onContinueConnection:S}=m.stepProps;if(S!=null){S(v.host);return}s(v)}});case"unavailableProFeatures":return u(vN,{...h,...m.stepProps,onSubmit:s});case"keyboardInteractive":return u(dN,{...h,...m.stepProps,isHostEditable:d});case"authInteractive":return u(KF,{...h,...m.stepProps,isHostEditable:d});case"setupShellIntegration":return m.status==="warning"?u(_F,{onClose:h.onClose}):u(wF,{onClose:h.onClose});default:return M4e(m,h)}});E(this,"hideConnectionFlow",()=>{this.setState({isShowConnectionFlow:!1})});E(this,"handleHideConnectionFlowAnimationEnd",n=>{n.animationName.includes(yN.name)&&this.hideConnectionFlow()});E(this,"getReferenceHost",()=>{const{host:n}=this.props.connection;return this.props.getHostById(n.local_id)||n});E(this,"handleToggleEditHost",()=>{if(this.props.isForceEditingOnHostsScreen){this.props.dispatch(q2(this.getReferenceHost()));return}this.props.isSliderOpened?this.props.onCloseSlider():(this.props.onOpenSlider({entity:this.getReferenceHost(),formType:"host"}),this.props.dispatch(ko({entity:"Host",editButtonOrigin:"Connection Flow",entityID:this.getReferenceHost().local_id??-1})))});E(this,"handleStartOver",()=>{this.props.onCloseSlider();const{editableEntity:n}=this.props.hostForm;if(n.local_id){this.props.onStartOver(n);return}this.props.onStartOver()});E(this,"shouldShowCurrentStep",n=>{const{isConnectedCurrentHostOfChain:o}=this.props,{isCurrentStepActive:r}=this.state;return n&&!r&&!o});E(this,"getFinishStep",()=>{const{finishStepIcon:n}=this.props;return n?{...Fx,icon:n}:Fx});this.state={isShowConnectionFlow:!0,isCurrentStepActive:!!((o=cp(this.props))!=null&&o.isActive),setIsActiveFalseSleepPromise:null}}static getDerivedStateFromProps(n,o){const{isConnected:r,isTabActive:i,isStartOver:s,shouldStayAfterConnect:a}=n,{isCurrentStepActive:l,isShowConnectionFlow:c,setIsActiveFalseSleepPromise:d}=o;if(!i&&r&&!s&&c&&!a)return{...o,isShowConnectionFlow:!1};if(s&&!r&&!c)return{...o,isShowConnectionFlow:!0};const m=cp(n);return!l&&(m!=null&&m.isActive)&&d==null?{...o,isCurrentStepActive:!0,setIsActiveFalseSleepPromise:Er(500)}:null}componentDidMount(){this.disposables.add(Un(this.context,K2,({payload:n})=>{n.tabId===this.props.terminalTabId&&this.props.onCloseSlider()}))}componentDidUpdate(n){const{isCurrentStepActive:o,setIsActiveFalseSleepPromise:r}=this.state,{isConnectionError:i}=this.props,s=cp(this.props);o&&!(s!=null&&s.isActive)&&r!=null&&(r==null||r.then(()=>this.setState({isCurrentStepActive:!1,setIsActiveFalseSleepPromise:null}))),!n.isConnectionError&&i&&this.closeAllForms()}componentWillUnmount(){this.disposables.dispose(),this.disposables=new gt}getIsHostEditable(){const{connection:n,getHostById:o,editableVaults:r,disableHostEditing:i}=this.props,{protocol:s}=n,a=o(n.host.local_id);return!i&&CN(a,s,r)}render(){const{className:n,contentClassName:o,isTabActive:r,connection:i,steps:s,onClose:a,connectionLogs:l,isConnectionError:c,isConnected:d,hostChainCount:p,currentChainIndex:h,isConnectedCurrentHostOfChain:m,isShowLogs:g,onToggleShowLogs:C,onCopyLogs:v,hasOpenedDialogs:S,shouldStayAfterConnect:y,mainTerminal:b,rightSliderVariant:w,onEditSftpHost:x}=this.props,{isShowConnectionFlow:_,isCurrentStepActive:I}=this.state,T=s.filter(q$),A=g||c,k=cp(this.props),R=this.getIsHostEditable(),M=this.getFinishStep();if(!_)return null;const D=this.getIsCompactFlow(),{advancedSettingsForm:F,newKeyForm:z}=this.props,j=Je.getClasses(this.props);return u(P1.Provider,{value:D,children:u(Si,{value:i.host,children:L("div",{className:ce(n,j.root,{[j.mainTerminal]:b,[j.hideConnectionFlow]:d&&!y}),"aria-hidden":"true",onClick:Hc(this.props.onCloseSlider),onAnimationEnd:this.handleHideConnectionFlowAnimationEnd,children:[r&&!S&&u(ws.GlobalHotKeys,{allowChanges:!0,keyMap:R4e,handlers:{onEsc:a}}),L("div",{className:ce(j.contentContainer,o,{[j.showConnectionFlow]:this.props.steps.length}),"aria-hidden":"true",onClick:Hc(this.props.onCloseSlider),children:[L("div",{className:j.headerContainer,onClick:Hc(this.props.onCloseSlider),"aria-hidden":"true",children:[u(PF,{connection:i,hostChainCount:p,currentChainIndex:h,isLogsSwitchVisible:i.protocol!=="serial"&&!!l.length,isShowLogs:g,isConnectionError:c,onToggleShowLogs:C,onCopyLogs:v}),u(LF,{className:j.connectionProgress,isError:c,isSuccess:d||m,isTabActive:r,steps:[...T,M]})]}),L("div",{ref:this.props.sizeObserverRef,className:j.stepContainer,onClick:Hc(this.props.onCloseSlider),"aria-hidden":"true",children:[this.shouldShowCurrentStep(k)&&u("div",{className:ce({[j.showStepContainer]:!I,[j.hiddenStep]:A}),onClick:Hc(this.props.onCloseSlider),"aria-hidden":"true",children:this.mapStepToConnectionPage()}),I&&!A&&!d&&u(et,{onClick:a,className:j.closeButton,children:"Close"}),A&&u(FF,{onClick:Hc(this.props.onCloseSlider),isConnectionError:c,isHostEditable:R,connectionLogs:l,onClose:a,onEditSftpHost:x,onStartOver:this.handleStartOver,onToggleEditHost:this.handleToggleEditHost})]})]}),u(m9,{isOpened:this.props.isSliderOpened,hostForm:this.props.hostForm,groupForm:this.props.groupForm,formType:this.props.formType,resetSlider:this.props.resetSlider,updateSliderAnimationProgress:this.props.updateSliderAnimationProgress,onCloseSlider:this.props.onCloseSlider,connectToHost:this.handleStartOver,connectLabel:"Start over",inTerminal:!0}),u(Go,{open:zp(F),variant:w,onClose:()=>{Ji(F)},children:u(G2,{isRoot:!0,defaultHost:F.host,useSaveFormHook:t0,onHostCreated:H=>{r0(F,H)},onClose:()=>{Ji(F)},onConnect:this.handleStartOver,connectLabel:"Start over",isSubForm:!1},F.id)}),u(Go,{open:zp(z),variant:w,onClose:()=>{Ji(z)},children:u(Uk,{useSaveFormHook:t0,onKeyCreated:H=>{r0(z,H)},onClose:()=>{Ji(z)},displayPublicKeyField:!1,displayImportSection:!1})})]})})})}},E(G6,"contextType",uc),G6);const L4e=new Set(["ssh","mosh","telnet"]),CN=(t,e,n)=>{if(t==null||!L4e.has(e))return!1;if(!t.is_shared||dt(t,n))return!0;if(t.credentials_mode==="credentials_sharing")return!1;const r=["ssh","mosh"].includes(e??"")&&!!(t!=null&&t.ssh_config),i=e==="telnet"&&!!(t!=null&&t.telnet_config);return!!(r||i)};function M4e(t,e){switch(t.name){case"fingerprint":return u(ZF,{...e,...t.stepProps});case"requestPassphrase":return u(uN,{...e,...t.stepProps});case"requestPIN":return u(pN,{...e,...t.stepProps});case"requestSKPresence":return u(fN,{...e,...t.stepProps});case"discoverableKeys":return u(JF,{...e,...t.stepProps});case"chooseKey":return u(d3,{...e,...t.stepProps});case"requestSignature":return u(hN,{...e,...t.stepProps});default:return null}}const cp=({steps:t})=>Zo(t,e=>e.status==="progress"||e.status==="warning")||t[t.length-1],O4e=t=>({getHostById:$k(t),editableVaults:co(t),hasOpenedDialogs:F8(t,ge()),username:pc(t)}),w4=jr`
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
`,yN=br`
  0% {
    opacity: 1;
  }
  99% {
    opacity: 0;
    width: auto;
    height: auto;
    display: inherit;
  }
  100% {
    opacity: 0;
    width: 0;
    height: 0;
    overflow: hidden;
    display: none;
  }
`,D4e=kc(g9)(P4e),F4e=kc(wu)(D4e),SN=Je(_o(O4e)(F4e),(t,e,n)=>({root:{zIndex:"var(--default-z-index-overlap)",position:"absolute",top:"0",left:"0",right:"0",bottom:"0",overflow:"auto",background:"var(--cf-main-background)",display:"flex"},mainTerminal:{paddingTop:51,position:"fixed"},editHostDialog:{zIndex:"1302 !important"},contentContainer:{opacity:"0",padding:"40px 0 20px 0",display:"flex",flexDirection:"column",overflow:"hidden",position:"relative",height:"100%",maxHeight:"720px",width:"100%",margin:"0 auto",maxWidth:"420px","@media (min-height: 720px)":{paddingTop:"80px",maxHeight:"none"},"@media (max-width: 740px)":{[`& .${n.stepContainer}`]:{paddingLeft:"12px",paddingRight:"12px"},[`& .${n.headerContainer}`]:{paddingLeft:"12px",paddingRight:"12px"}}},stepContainer:{flexGrow:1,minHeight:0,padding:"0 20px",...Vl},showConnectionFlow:{animation:`${w4} 0.3s`,animationFillMode:"forwards"},hideConnectionFlow:{animation:`${yN} 0.3s`,animationFillMode:"forwards",animationDelay:"0.5s"},showStepContainer:{height:"100%",opacity:"0",animation:`${w4} 0.3s`,animationFillMode:"forwards"},hiddenStep:{display:"none"},closeButton:{opacity:"0",animation:`${w4} 0.3s`,animationFillMode:"forwards"},headerContainer:{padding:"0 20px"},connectionProgress:{marginTop:15,marginBottom:30}}),{name:"ConnectedConnectionFlow"}),N4e=new Set(["ssh","mosh","telnet","serial",null,void 0]),E9=t=>N4e.has(t.protocol);class k9 extends f.Component{constructor(){super(...arguments);E(this,"handleStartOver",()=>{const{onStartOver:n,onTryToConnect:o,onCancelConnect:r}=this.props;r==null||r(),n(o,!0)})}componentDidMount(){const{onInitConnectionFlow:n,requestUserNecessaryFields:o,checkKnownHost:r,requestPassphrase:i,handleHostChainConnection:s,requestKeyboardInteractive:a,requestSignature:l,hostChainCount:c,tryToConnect:d,connection:p,setConnection:h,onConnectionError:m,connectionSteps:g,onConnectionLog:C,requestSKPresence:v,requestPIN:S,onTryToConnect:y,updateSKPresence:b,requestChooseKey:w,requestAuthMethod:x,requestDiscoverableSKKeys:_,onShellIntegrationStatus:I}=this.props;n({requestUserNecessaryFields:o,checkKnownHost:r,requestPassphrase:i,handleHostChainConnection:s,requestKeyboardInteractive:a,requestSignature:l,hostChainCount:c,setConnection:h,onConnectionError:m,connectionSteps:g,onConnectionLog:C,requestSKPresence:v,updateSKPresence:b,requestPIN:S,requestChooseKey:w,requestAuthMethod:x,requestDiscoverableSKKeys:_,onShellIntegrationStatus:I}),d(p,y,{shouldNotifyUpdate:!1})}componentDidUpdate(n){const o=!Lb(n.connectionSteps)&&Lb(this.props.connectionSteps),r=!n.isConnectionError&&this.props.isConnectionError;(o||r)&&this.props.onShowConnectionFlow()}componentWillUnmount(){this.props.onHideConnectionFlow()}render(){const{className:n,contentClassName:o,onClose:r,isTabActive:i,connectionSteps:s,connection:a,isConnected:l,setConnection:c,connectionLogs:d,isConnectionError:p,hostChainCount:h,currentChainIndex:m,isConnectedCurrentHostOfChain:g,onTryToConnect:C,isShowLogs:v,isStartOver:S,onToggleShowLogs:y,onCopyLogs:b,getEditHostContainerRef:w,shouldStayAfterConnect:x,finishStepIcon:_,disableHostEditing:I,advancedSettingsForm:T,newKeyForm:A,rightSliderVariant:k,autoFocusRef:R,onEditSftpHost:M}=this.props;return u(SN,{className:n,contentClassName:o,isTabActive:i,connection:a,setConnection:c,onTryToConnect:C,onEditSftpHost:M,steps:s,onClose:r,isStartOver:S,onStartOver:this.handleStartOver,connectionLogs:d,isConnectionError:p,isConnected:l,hostChainCount:h,currentChainIndex:m,isConnectedCurrentHostOfChain:g,isShowLogs:v,onToggleShowLogs:y,onCopyLogs:b,getEditHostContainerRef:w,isForceEditingOnHostsScreen:!0,shouldStayAfterConnect:x,finishStepIcon:_,disableHostEditing:I,advancedSettingsForm:T,newKeyForm:A,rightSliderVariant:k,autoFocusRef:R})}}E(k9,"defaultProps",{connectionSteps:[],isConnected:!1,hostChainCount:0,isStartOver:!1,setConnection:()=>{},onStartOver:()=>{},checkKnownHost:()=>{},tryToConnect:()=>{},requestPassphrase:()=>{},requestPIN:()=>{},requestChooseKey:()=>{},requestAuthMethod:()=>{},connectionLogs:[],isConnectionError:!1,onConnectionError:()=>{},onConnectionLog:()=>{},currentChainIndex:0,handleHostChainConnection:()=>{},requestUserNecessaryFields:()=>{},requestKeyboardInteractive:()=>{},requestSKPresence:()=>{},updateSKPresence:()=>{},requestSignature:()=>{},initReconnectAfterStartOver:()=>{},onShowConnectionFlow:()=>{},onHideConnectionFlow:()=>{},isConnectedCurrentHostOfChain:!1,className:"",contentClassName:"",shouldStayAfterConnect:!1});class bN extends Se.Component{constructor(n){super(n);E(this,"mounted",!1);E(this,"handleConnectionDetailsRequested",n=>{var o;(o=this.props.connection.analyticsHelper)==null||o.connectionDetailsRequested(n)});E(this,"pushNewConnectionStepSleepPromise",Promise.resolve());E(this,"pushNewConnectionStepToState",n=>{this.setState(o=>({connectionSteps:[...o.isConnectedCurrentHostOfChain?[]:o.connectionSteps.map(i=>({...i,isActive:!1,animation:"none"})),n],isConnectedCurrentHostOfChain:!1}))});E(this,"pushNewConnectionStep",n=>{this.pushNewConnectionStepSleepPromise.then(()=>{this.pushNewConnectionStepToState(n),this.pushNewConnectionStepSleepPromise=Er(500)})});E(this,"getNecessaryConnectionStep",n=>{var m;if(this.props.disableLocalSteps)return null;const{host:o,protocol:r}=n,{connectionSteps:i}=this.state,{isPro:s}=this.props,a=i.length===0?"none":"hide";if(!r)return this.handleConnectionDetailsRequested({property:"Protocol"}),{name:"protocol",status:"progress",isActive:!1,animation:a,icon:"protocol"};if(r==="serial"&&!((m=n.serialOptions)!=null&&m.path))return{name:"serialOptions",status:"progress",isActive:!1,animation:a,icon:"serialOptions"};const l=!!o.getMergedSshConfig().host_chain,c=o.local_id!=null,{quick:d,saveAsHost:p}=n;return n.isHostMissingNecessaryFields()&&!l||d&&!c&&p?(this.handleConnectionDetailsRequested({property:"Username"}),{name:"identity",status:"progress",isActive:!1,animation:a,icon:"identity",stepProps:{onCreateNewHost:this.onCreateNewHost}}):s?null:M3e({host:o,animation:a,protocol:r})});E(this,"onCreateNewHost",async n=>{const o=Ie.v4();return ld(r=>{this.setState({advancedSettingsForm:{id:o,host:n,resolver:r}})})});E(this,"tryToConnect",(n,o,r)=>{this.notifyConnectionProcessUpdate("connecting");const i=n.host.getHostChainCount();this.setConnection(n,r),this.setState(()=>({connectionSteps:i>0?[u5]:[],isConnected:!1,isError:!1,hostChainCount:i,currentChainIndex:0,startOverHost:void 0,connectionLogs:[]}),()=>{this.tryToConnectImpl(n,o)})});E(this,"setLastStepAsActive",()=>{this.state.connectionSteps.length!==0&&(this.notifyConnectionProcessUpdate("blocked"),this.pushNewConnectionStepSleepPromise=Er(1e3),this.setState(n=>({connectionSteps:n.connectionSteps.map((o,r)=>r===n.connectionSteps.length-1?{...o,isActive:!0,animation:"show"}:{...o,isActive:!1,animation:"none"})})))});E(this,"setConnection",(n,o)=>{const{onConnectionUpdate:r,terminalId:i}=this.props;(o==null?void 0:o.shouldNotifyUpdate)!==!1&&i&&(r==null||r(i,n)),this.setState({connection:new pt(n)})});E(this,"getHostProtocol",n=>!n||n.ssh_config&&n.telnet_config||!n.ssh_config&&!n.telnet_config||n.actions[0]==="mosh"&&n.getHostChainCount()?null:n.actions[0]||null);E(this,"initReconnectAfterStartOver",(n,o=!1,r=void 0)=>{this.notifyConnectionProcessUpdate("connecting");const{getHostById:i,sshKnownHosts:s}=this.props,{connection:a}=this.state;let l=a;const c=r||i(a.host.local_id);if(c){const d=o?"ssh":this.getHostProtocol(c);l=new pt({...a,host:c,protocol:d,sshKnownHosts:s})}this.tryToConnect(l,n)});E(this,"handleStartOver",(n,o=!1,r=!1,i=void 0)=>{var p,h;this.notifyConnectionProcessUpdate("connecting");const{connection:s,currentChainIndex:a}=this.state;this.setState({isStartOver:!0,isShowLogs:!1,startOverHost:i}),s.abort(),(p=s.analyticsHelper)==null||p.connectionFailed({failureReason:"Canceled",type:y8(s.protocol)});const l=!!a,c=l?this.props.getHostById(this.props.connection.host.local_id)||void 0:i,d=!!this.getNecessaryConnectionStep(s);(!l&&d||this.state.isError||this.props.disableLocalSteps)&&this.initReconnectAfterStartOver(n,o,c),r||(h=this.props.connection.analyticsHelper)==null||h.connectionInitiated({connectionOrigin:"Connection Flow"})});E(this,"migrateKnownHost",(n,o,r,i)=>{Vr.removeDeprecatedHostHashForUser(n,o),i(!0);const{connection:s,canEditHost:a}=this.props;this.props.dispatch($2(Ml.createFromConnection({host:n,port:o,pubKey:r,canEditHost:a},s)))});E(this,"markLastStepAsFinished",()=>{this.mounted&&this.setState(n=>({connectionSteps:n.connectionSteps.map((o,r)=>r===n.connectionSteps.length-1?{...o,animation:"finish"}:o)}))});E(this,"handleShellIntegrationStatus",async n=>{switch(n.type){case"started":{this.pushNewConnectionStep({name:"setupShellIntegration",status:"progress",isActive:!1,animation:"show",icon:"setupShellIntegration"});break}case"skipped":{this.finalizeFlow();break}case"succeeded":{this.finalizeFlow();break}case"failed":{this.setState(o=>({connectionSteps:o.connectionSteps.map(i=>i.name==="setupShellIntegration"?{...i,status:"warning"}:i)})),this.finalizeFlow();break}}});E(this,"finalizeFlow",()=>{this.markLastStepAsFinished(),Er(500).then(()=>{this.notifyConnectionProcessUpdate("succeeded"),this.mounted&&this.setState({isConnected:!0,isStartOver:!1,startOverHost:void 0})})});E(this,"checkKnownHost",({config:n,checkResult:o,hashedKey:r,pubKey:i,keyType:s,callback:a})=>{this.notifyConnectionProcessUpdate("blocked");const{isTabActive:l}=this.props,{host:c,port:d}=n;if(Vr.getDeprecatedHostHashForUser(c,d)===r){this.migrateKnownHost(c,d,i,a);return}if(o==="failure"){this.handleConnectionError(),a(!1);return}o==="mismatch"&&this.handleConnectionDetailsRequested({property:"Fingerprint Changed"}),o==="notfound"&&this.handleConnectionDetailsRequested({property:"New Fingerprint"}),this.pushNewConnectionStep({name:"fingerprint",status:"progress",isActive:!1,animation:"hide",icon:"fingerprint",stepProps:{config:n,pubKey:i,callback:this.wrapContinueConnection(a),onConnectionLog:this.handleLog,checkResult:o,fingerprint:r,keyType:s,isTabActive:l}})});E(this,"markPreviousStepsAsFailed",n=>{let o=!1;return this.setState(r=>({connectionSteps:r.connectionSteps.map(i=>i.name.toLowerCase().includes(n.toLowerCase())?(o=!0,{...i,status:"error"}):i)})),o});E(this,"wrapContinueConnection",n=>(...o)=>{this.state.isError||(this.setLastStepAsActive(),n(...o))});E(this,"requestPassphrase",n=>{this.notifyConnectionProcessUpdate("blocked"),this.handleConnectionDetailsRequested({property:"Passphrase",authMethod:"Public Key"}),this.pushNewConnectionStep({name:"requestPassphrase",status:"progress",isActive:!1,animation:"hide",icon:"requestPassphrase",stepProps:{onHandlePassphrase:this.wrapContinueConnection(n)}})});E(this,"requestPIN",n=>{this.notifyConnectionProcessUpdate("blocked"),this.pushNewConnectionStep({name:"requestPIN",status:"progress",isActive:!1,animation:"hide",icon:"requestPIN",stepProps:{onHandlePIN:this.wrapContinueConnection(n)}})});E(this,"requestChooseKey",async n=>{this.notifyConnectionProcessUpdate("blocked"),this.handleConnectionDetailsRequested({property:"Key"}),this.pushNewConnectionStep({name:"chooseKey",status:"progress",isActive:!1,animation:"hide",icon:"chooseKey",stepProps:{onSelectKey:this.wrapContinueConnection(n),onCreateNewKey:async()=>ld(o=>{this.setState({newKeyForm:{resolver:o}})})}})});E(this,"requestAuthMethod",async(n,o)=>{this.notifyConnectionProcessUpdate("blocked"),n.includes("password")?this.handleConnectionDetailsRequested({property:"Password",authMethod:"Password"}):n.includes("keyboard-interactive")?this.handleConnectionDetailsRequested({property:"Keyboard Interactive",authMethod:"Keyboard Interactive"}):n.includes("publickey")&&this.handleConnectionDetailsRequested({property:"Key",authMethod:"Public Key"}),this.pushNewConnectionStep({name:"authInteractive",status:"progress",isActive:!1,animation:"hide",icon:n.includes("password")?"authInteractive":"identity",stepProps:{methods:n,onContinue:this.wrapContinueConnection(o),onCreateNewKey:async()=>ld(r=>{this.setState({newKeyForm:{resolver:r}})})}})});E(this,"requestUserNecessaryFields",()=>new Promise(n=>{this.notifyConnectionProcessUpdate("blocked"),this.handleConnectionDetailsRequested({property:"Username"}),this.pushNewConnectionStep({name:"identity",status:"progress",isActive:!1,animation:"hide",icon:"identity",stepProps:{onContinueConnection:this.wrapContinueConnection(n),onCreateNewHost:this.onCreateNewHost}})}));E(this,"requestSKPresence",n=>{this.notifyConnectionProcessUpdate("blocked"),this.pushNewConnectionStep({name:"requestSKPresence",status:"progress",isActive:!1,animation:"none",icon:"requestSKPresence",stepProps:{isTouchRequired:n,name:null,isBlocked:!1}})});E(this,"updateSKPresence",n=>{this.setState(({connectionSteps:r})=>({connectionSteps:G$(r,n)}));const{terminalId:o}=this.props;o!=null&&this.notifyConnectionProcessUpdate(n==null?"connecting":"blocked")});E(this,"requestDiscoverableSKKeys",async(n,o)=>{this.notifyConnectionProcessUpdate("blocked"),this.handleConnectionDetailsRequested({property:"Discoverable FIDO2-based key"}),this.pushNewConnectionStep({name:"discoverableKeys",status:"progress",isActive:!1,animation:"hide",icon:"discoverableKeys",stepProps:{skKeys:n,onSelectKey:this.wrapContinueConnection(o)}})});E(this,"handleToggleShowLogs",()=>this.setState(n=>({isShowLogs:!n.isShowLogs})));E(this,"handleCopyLogs",()=>{const{connectionLogs:n}=this.state;navigator.clipboard.writeText(n.join(`
`))});E(this,"handleLog",n=>{this.state.isConnected||this.mounted&&this.setState(o=>({connectionLogs:[...o.connectionLogs,n]}))});E(this,"handleConnectionError",()=>{this.notifyConnectionProcessUpdate("error"),this.markLastStepAsFinished(),Er(500).then(()=>{this.setState({isError:!0})})});E(this,"handleHostChainConnection",n=>{const{sshKnownHosts:o}=this.props,{currentChainIndex:r}=this.state;r>0&&(this.pushNewConnectionStepSleepPromise=Er(1500),this.setState(()=>({isConnectedCurrentHostOfChain:!0})),this.markLastStepAsFinished());const i=new pt({...n,sshKnownHosts:o,protocol:"ssh"});this.setConnection(i,{shouldNotifyUpdate:!1}),this.setState(s=>({currentChainIndex:s.currentChainIndex+1}))});E(this,"requestKeyboardInteractive",n=>{this.handleConnectionDetailsRequested({property:"Keyboard Interactive"}),this.notifyConnectionProcessUpdate("blocked"),this.pushNewConnectionStep({name:"keyboardInteractive",status:"progress",isActive:!1,animation:"hide",icon:"keyboardInteractive",stepProps:{...n,onContinue:this.wrapContinueConnection(n.onContinue),onCreateNewKey:async()=>ld(o=>{this.setState({newKeyForm:{resolver:o}})})}})});E(this,"requestSignature",n=>{this.notifyConnectionProcessUpdate("blocked"),this.handleConnectionDetailsRequested({property:"Biometric Key"}),this.pushNewConnectionStep({name:"requestSignature",status:"progress",isActive:!1,animation:"active",icon:"requestSignature",stepProps:{...n}})});this.state={connectionSteps:[],connection:new pt({...n.connection,saveAsHost:n.saveQuickConnectAsHost}),isConnected:!1,connectionLogs:[],isError:!1,hostChainCount:n.connection.host.getHostChainCount(),currentChainIndex:0,isStartOver:!1,startOverHost:void 0,isConnectedCurrentHostOfChain:!1,isShowLogs:!1,advancedSettingsForm:{id:Ie.v4(),host:new _t,resolver:void 0},newKeyForm:{resolver:void 0}}}componentDidMount(){this.mounted=!0}componentDidUpdate(n){const{sshKnownHosts:o}=this.props;D8(o,n.sshKnownHosts)||this.setConnection(new pt({...this.state.connection,sshKnownHosts:o}),{shouldNotifyUpdate:!1})}componentWillUnmount(){this.mounted=!1}notifyConnectionProcessUpdate(n){const{terminalId:o}=this.props;o&&this.props.dispatch(Yo({id:o,changes:{connectionProcess:n}}))}tryToConnectImpl(n,o){this.setLastStepAsActive();const{isPro:r,hideProFeaturesStepDuringConnectionFlow:i,disableProFeatures:s}=this.props;let a=n.clone({id:n.id});r||(i||s)&&(a=S9(a));const l=this.getNecessaryConnectionStep(a);l?(this.notifyConnectionProcessUpdate("blocked"),l.name==="unavailableProFeatures"&&(this.pushNewConnectionStep(u5),this.pushNewConnectionStepSleepPromise=Er(1e3)),this.pushNewConnectionStep(l)):(this.state.connectionSteps.length===0&&this.pushNewConnectionStep(u5),o(a))}render(){const{connection:n,isConnected:o,connectionSteps:r,connectionLogs:i,isError:s,hostChainCount:a,currentChainIndex:l,isStartOver:c,startOverHost:d,isConnectedCurrentHostOfChain:p,isShowLogs:h}=this.state;return Se.cloneElement(this.props.children,{connection:n,isConnected:o,connectionSteps:r,connectionLogs:i,isStartOver:c,startOverHost:d,isConnectionError:s,hostChainCount:a,currentChainIndex:l,isConnectedCurrentHostOfChain:p,setConnection:this.setConnection,onStartOver:this.handleStartOver,checkKnownHost:this.checkKnownHost,tryToConnect:this.tryToConnect,requestPassphrase:this.requestPassphrase,requestPIN:this.requestPIN,requestChooseKey:this.requestChooseKey,requestAuthMethod:this.requestAuthMethod,onConnectionLog:this.handleLog,onConnectionError:this.handleConnectionError,handleHostChainConnection:this.handleHostChainConnection,requestUserNecessaryFields:this.requestUserNecessaryFields,requestKeyboardInteractive:this.requestKeyboardInteractive,requestSKPresence:this.requestSKPresence,updateSKPresence:this.updateSKPresence,requestSignature:this.requestSignature,requestDiscoverableSKKeys:this.requestDiscoverableSKKeys,initReconnectAfterStartOver:this.initReconnectAfterStartOver,isShowLogs:h,onToggleShowLogs:this.handleToggleShowLogs,onShellIntegrationStatus:this.handleShellIntegrationStatus,onCopyLogs:this.handleCopyLogs,advancedSettingsForm:this.state.advancedSettingsForm,newKeyForm:this.state.newKeyForm})}}E(bN,"defaultProps",{disableLocalSteps:!1,disableProFeatures:!1});const H4e=(t,e)=>({getHostById:n=>qh(t,n),sshKnownHosts:_s(t),isPro:zt(t),hideProFeaturesStepDuringConnectionFlow:qk(t),saveQuickConnectAsHost:QF(t),canEditHost:Ur(t,e.connection.host)}),R9=_o(H4e)(bN);class P9{constructor(e){E(this,"hostVerifier",(e,n,o,r,i,s)=>{var a;(a=this.origin.props)==null||a.checkKnownHost({config:e,checkResult:n,hashedKey:o,pubKey:r,keyType:i,callback:s})});E(this,"askUserNecessaryFields",e=>{const{props:n}=this.origin;return Ce(n!=null,"Unable to display a connection flow request"),n.requestUserNecessaryFields(e)});E(this,"requestPassphrase",(...e)=>{var n;(n=this.origin.props)==null||n.requestPassphrase(...e)});E(this,"handleHostChainConnection",e=>{var n;this.origin.props&&this.origin.props.hostChainCount>0&&((n=this.origin.props)==null||n.handleHostChainConnection(e))});E(this,"requestKeyboardInteractive",(...e)=>{var a;const[n,o,r,i,s]=e;(a=this.origin.props)==null||a.requestKeyboardInteractive({name:n,instruction:o,interruptibleWithPublickey:r,prompts:i,onContinue:s})});E(this,"requestSKPresence",e=>{var n;return(n=this.origin.props)==null?void 0:n.requestSKPresence(e)});E(this,"updateSKPresence",e=>{var n;return(n=this.origin.props)==null?void 0:n.updateSKPresence(e)});E(this,"requestPIN",(...e)=>{var n;return(n=this.origin.props)==null?void 0:n.requestPIN(...e)});E(this,"requestChooseKey",(...e)=>{var n;return(n=this.origin.props)==null?void 0:n.requestChooseKey(...e)});E(this,"requestAuthMethod",(...e)=>{var n;(n=this.origin.props)==null||n.requestAuthMethod(...e)});E(this,"requestDiscoverableSKKeys",(...e)=>{var n;return(n=this.origin.props)==null?void 0:n.requestDiscoverableSKKeys(...e)});E(this,"requestSignature",(e,n,o,r)=>new Promise((i,s)=>{var a;(a=this.origin.props)==null||a.requestSignature({publicKey:e,storage:n,credentialId:o,data:r,onResolve:i,onReject:s})}));E(this,"onClosed",()=>{});E(this,"onDisconnect",()=>{});E(this,"onHostOSDetected",()=>{});E(this,"onLogMessage",e=>{var n;return(n=this.origin.props)==null?void 0:n.onConnectionLog(e)});E(this,"onError",e=>{var n;return(n=this.origin.props)==null?void 0:n.onConnectionError(e)});this.origin=e}onSessionLogFinishedWriting(){}}const L9=f.createContext(null),B4e=()=>{const t=f.useContext(L9);return Ce(t,"ConnectionPoolProvider is missing upper in the tree"),t},z4e=(t,e)=>{const n=bi(()=>{const i={setProps:s=>{i.props=s},props:null,isConnectionFlowPresent:!0};return i});f.useLayoutEffect(()=>()=>{n.current&&(n.current.isConnectionFlowPresent=!1)},[n]);const[o,r]=f.useState(null);return V4e(t,n.current,e,r),f.useLayoutEffect(()=>()=>{o&&!o.signal.aborted&&o.abort()},[o]),{connectContext:n.current,connection:o}},V4e=(t,e,n,o)=>{const r=V(lo),i=V(Z2),s=V(Q2),a=V(Gk),l=V($h),c=de(),d=V(_s),p=B4e();Ao(()=>{var C;const h=new pt({host:t,protocol:"ssh",featureSet:O1({enableShellIntegration:!1,pqcKexEnabled:l}),sshKnownHosts:d});h.initAnalyticsHelper({dispatch:c,type:p.type,userType:s,vaults:a,teamStatus:{isTeam:r,isOwner:i}}),(C=h.analyticsHelper)==null||C.connectionInitiated({connectionOrigin:p.connectionOrigin});const m=W4e(e,t,n,h.analyticsHelper),g=new pt({...h,delegate:m});o(g)})};function W4e(t,e,n,o){const r=n();return{...new P9(t),onError:(s,a,l,c,d)=>{var p;if(o==null||o.connectionFailed({failureReason:ok(l),errorCode:c,sshServer:d}),t.isConnectionFlowPresent){(p=t.props)==null||p.onConnectionError(s);return}r(s,e)},onSessionLogFinishedWriting:()=>{}}}const wN=t=>{const{host:e,getEditHostContainerRef:n,mapConnectionToConnector:o,errorHandlerFactory:r,className:i,contentClassName:s,onSucceeded:a,onCancel:l,onHideConnectionFlow:c=He,onShowConnectionFlow:d=He,autoFocusRef:p,onEditSftpHost:h}=t,{connectContext:m,connection:g}=z4e(e,r),C=V(zt),v=f.useCallback(async y=>{var w,x,_;Ce(m.props,"ConnectionFlowIsNotYetConfigured");let b;try{b=await o(y)}catch(I){if(I instanceof ak){(w=y.analyticsHelper)==null||w.connectionFailed({failureReason:"Canceled"});return}throw I}await Er(1e3),(x=y.analyticsHelper)==null||x.connectionEstablished(),(_=m.props)==null||_.onShellIntegrationStatus({type:"skipped"}),a(b,y)},[m,a,o]),S=f.useCallback(()=>{var y;(y=g==null?void 0:g.analyticsHelper)==null||y.connectionFailed({failureReason:"Canceled"}),l()},[g,l]);return g&&u(R9,{connection:g,disableLocalSteps:!0,isTabActive:!0,disableProFeatures:!C,children:u(k9,{className:i,contentClassName:s,onInitConnectionFlow:m.setProps,onClose:S,onTryToConnect:v,isTabActive:!0,getEditHostContainerRef:n,onEditSftpHost:h,onShowConnectionFlow:d,onHideConnectionFlow:c,autoFocusRef:p})})};function Nx(t){const{className:e,onUpload:n,onDiscard:o,showError:r,disableBackground:i,transferStream:s}=t,[a,l]=t.file,{classes:c}=j4e(),d=de(),[p,h]=QD(s),m=()=>{h({type:"restart"}),s==null||s.start()},g=async()=>{if(!s)return;const{itemsWithError:S,resolvedItems:y}=p,b={retry:()=>{},skip:w=>{s.skipItem(w)}};try{const w=await r(S,y);w.isSkipAll&&s.skipAllFilesWithError(),w.isFinished&&(w.resolvedItems.forEach(x=>{x.behavior&&b[x.behavior](x.source.path)}),m())}catch{s.close()}},C=()=>{d(Kk()),s==null||s.close(),o(t.file)},v=()=>{d(Zk()),n(t.file)};return s?u(n9,{className:ce(c.listItem,c.stream,{[c.background]:!i}),stream:s,showError:r}):u("div",{className:ce({[c.background]:!i}),children:u(t9,{className:ce(e,c.listItem),name:l.file.filename,extension:l.file.extension,fileInfo:Bp(l.file.attrs.size,!1,!1,2),modifiedDate:nM(l.file.attrs.mtime),error:p.error,onErrorClick:g,actions:L(Et,{margin:"sm",children:[u(as,{onClick:v,children:"UPLOAD"}),u(as,{isRegular:!0,onClick:C,children:"Discard"})]})})})}const j4e=K()({listItem:{height:"40px"},stream:{padding:"0"},background:{"--bg":"var(--light-grey-7)",".termius-dark-theme &":{"--bg":"var(--dark-grey-5)"},borderRadius:"5px",background:"var(--bg)",padding:"0 10px "}});function U4e(t){const{className:e="",files:n,uploadFile:o,onDiscard:r,showError:i}=t,{classes:s}=$4e(),a=de(),[l,c]=f.useState(!1),d=V(tM),p=!!n.length,h=oh(p);f.useEffect(()=>{p&&!h&&a(K$())},[a,p,h]);const m=f.useMemo(()=>n.map(b=>({file:b,stream:uee(d,b[1].tempDirectoryPath)})),[n,d]),g=f.useMemo(()=>m.filter(({stream:b})=>{var w;return b&&!((w=b==null?void 0:b.deferredFiles[0])!=null&&w.error)}).length,[m]),C=f.useMemo(()=>m.filter(({stream:b})=>{var w;return!!((w=b==null?void 0:b.deferredFiles[0])!=null&&w.error)}),[m]),v=()=>{c(!l)},S=f.useCallback(()=>{a(Zk());for(const{file:b,stream:w}of m)w||o(b)},[m,a,o]),y=f.useCallback(()=>{a(Kk());for(const{file:b,stream:w}of m)w==null||w.close(),r(b)},[m,a,r]);if(!p)return null;if(n.length===1){const{file:b,stream:w}=m[0];return u("div",{className:ce(e,s.uploadFileList,s.singleListItem),children:u(Nx,{onUpload:o,onDiscard:r,file:b,disableBackground:!0,showError:i,transferStream:w})})}return L("div",{className:ce(e,s.uploadFileList,{[s.opened]:l}),children:[L("div",{className:s.header,children:[L("span",{className:s.message,children:[n.length," opened files were changed"]}),L(Et,{margin:"sm",children:[!!C.length&&u(Ea,{title:`${C.length} error ${C.length>1?"have":"has"} occurred while uploading files`,placement:"top",children:u("span",{children:u(P2,{width:"14px",height:"14px"})})}),g>0?L("span",{children:["Uploading: ",g]}):u(as,{onClick:S,children:"UPLOAD ALL"}),u(as,{isRegular:!0,onClick:y,children:"DISCARD ALL"}),u(as,{isRegular:!0,onClick:v,children:u(dn,{className:s.arrow})})]})]}),u("div",{className:ce(s.listContainer),children:u("div",{className:s.list,children:m.map(({file:b,stream:w})=>u(Nx,{onUpload:o,onDiscard:r,file:b,showError:i,transferStream:w},b[0]))})})]})}const $4e=K()((t,e,n)=>({uploadFileList:{"--container-bg":"var(--light-grey-4)","--content-bg":"var(--light-grey-5)","--text-color":"var(--dark-grey-1)","--scrollbar-color":"var(--light-grey-1)",".termius-dark-theme &":{"--container-bg":"var(--dark-grey-4)","--content-bg":"var(--dark-grey-2)","--text-color":"white","--scrollbar-color":"var(--dark-grey-7)"},position:"relative",padding:"10px",background:"var(--container-bg)",color:"var(--text-color)",width:"100%",fontSize:"12px",height:"100%",maxHeight:"40px",minHeight:"40px",paddingBottom:0,transition:"max-height 0.2s"},singleListItem:{paddingTop:0},opened:{maxHeight:"40vh",[`& .${n.arrow}`]:{transform:"rotate(0deg)"}},header:{display:"flex",flexDirection:"row",alignItems:"center",minHeight:"40px",justifyContent:"space-between",position:"absolute",top:0,left:0,width:"100%",padding:"0 10px",background:"var(--container-bg)",zIndex:1},message:{display:"flex",alignItems:"center","& > svg":{marginRight:"5px"}},listContainer:{marginTop:"30px",marginRight:"-5px",height:"calc(100% - 30px)",overflow:"auto",paddingRight:"5px",transition:"height 0.3s","&::-webkit-scrollbar-thumb":{backgroundColor:"var(--scrollbar-color)",visibility:"hidden"},"&:hover::-webkit-scrollbar-thumb":{visibility:"visible"}},list:{overflow:"auto",borderRadius:"10px",background:"var(--content-bg)",padding:"10px",marginBottom:"10px","& > * + *":{marginTop:"10px"}},arrow:{transform:"rotate(180deg)",fill:"currentColor"}})),q4e=t=>{const{onSelectHost:e,isLoading:n}=t,{classes:o}=G4e();return u(hn,{offsetTop:151,className:o.wrapper,children:u(wo,{title:"Connect to host",text:"Start by connecting to a saved host to manage your files with SFTP.",classNameRoot:o.emptyScreenCard,icon:u(yy,{width:"25px",height:"25px"}),children:u(Ue,{color:"regular",leftIcon:n&&u(Oo,{className:o.loader,size:14}),disabled:n,onClick:e,className:o.button,children:"Select host"})})})},G4e=K()({wrapper:{backgroundColor:"var(--entity-grid-background)",height:"100%"},emptyScreenCard:{maxWidth:"450px"},button:{borderRadius:10},loader:{color:"var(--light-grey-3)",".termius-dark-theme &":{color:"var(--dark-grey-6)"}}}),K4e={type:"SFTP",connectionOrigin:"SFTP Screen"},Hx={data:[],logicalDiskList:[],history:[],hostname:"Host",historyIndex:0,isLoading:!1,isLocalWindows:!1,isLocal:!1,isFirstPage:!0,connectionBrakeMethodType:"none",failedFilesOpening:[],hostIcon:"host",hostToConnect:null,error:void 0,connectionError:void 0,isPickingHost:!1,displayedDialog:void 0};class _N extends f.Component{constructor(){super(...arguments);E(this,"task");E(this,"openConnectionTask");E(this,"state",pa(Hx));E(this,"session",null);E(this,"openedFilesWatchers",new Map);E(this,"saveFileTypeAssociationQueue",[]);E(this,"handleSendHints",()=>{this.saveFileTypeAssociationQueue.length&&(this.props.dispatch(Z$(this.saveFileTypeAssociationQueue)),this.saveFileTypeAssociationQueue=[])});E(this,"initHistory",()=>{this.session!=null&&this.setState({history:[this.session.currentPath()],historyIndex:0})});E(this,"isFirstHistoryPath",()=>this.state.historyIndex===0);E(this,"isLastHistoryPath",()=>this.state.historyIndex>=this.state.history.length-1);E(this,"changeHistoryPath",n=>async()=>{await this.handleChangeDirectoryWithoutHistoryUpdate(n)});E(this,"blockingUIDecorator",n=>async(...o)=>{this.setIsLoadingInto(!0);try{return await n(...o)}catch(r){(r instanceof zo||r instanceof ND)&&this.setState({error:r.message});return}finally{this.setIsLoadingInto(!1)}});E(this,"setIsLoadingInto",n=>{this.setState({isLoading:n})});E(this,"stopWatchingOpenedFiles",()=>{for(const n of this.openedFilesWatchers.values())n.close();this.openedFilesWatchers.clear(),this.props.dispatch(Q$(this.props.sftpContainerId))});E(this,"handleInitiateCloseConnection",()=>{this.getSftpContainerChangedFiles().length>0?this.setState({displayedDialog:1}):this.handleCloseConnection()});E(this,"handleCloseConnection",()=>{this.stopWatchingOpenedFiles(),this.closeCurrentSession(),this.setState({isFirstPage:!0,connectionBrakeMethodType:"none",isLoading:!1,displayedDialog:void 0,isPickingHost:!1})});E(this,"handleCancelConnection",()=>{this.setState(({isFirstPage:n})=>({connectionBrakeMethodType:n?"none":"close",isLoading:!1,hostToConnect:null}))});E(this,"connectionBrakeMethods",{none:()=>{},close:this.handleInitiateCloseConnection});E(this,"handleConnectionBrakeMethod",()=>{this.connectionBrakeMethods[this.state.connectionBrakeMethodType]()});E(this,"closeCurrentSession",()=>{!this.state.isFirstPage&&this.session&&this.props.closeConnectionHelper.closeConnection(this.session)});E(this,"connectLocal",async n=>(this.closeCurrentSession(),this.props.closeConnectionHelper.addConnection(n),n));E(this,"getSftpContainerElement",()=>document.getElementById(this.props.sftpContainerId));E(this,"getLogicalDiskList",async()=>{var o;return((o=this.session)!=null&&o.getLogicalDiskList?await this.session.getLogicalDiskList()||[]:[]).map(r=>({title:r.filename,onClick:()=>this.handleChangeDirectory(r.filename)}))});E(this,"afterConnect",async(n,o,r,i=!1,s=!1)=>{this.session=r,await this.handleRefresh();const a=await this.getLogicalDiskList();this.props.onSessionUpdate(r),this.initHistory(),this.setState({hostname:n,hostIcon:o,isLocal:i,isLocalWindows:s,isFirstPage:!1,connectionBrakeMethodType:"close",logicalDiskList:a})});E(this,"autoConnectToLocalhost",async()=>{if(this.props.autoConnectToLocalhost){this.setIsLoadingInto(!0);try{if(Md){const{localhost:n}=this.props;n&&await this.connect(n)}else await this.connectToLocalhost()}catch(n){if(n instanceof Vhe)return}this.setIsLoadingInto(!1)}});E(this,"connectToLocalhost",async()=>{if(Md){const n=this.props.localhost??await this.requestLocalHostCreds();n&&this.handleConnect(n)}else{this.setState({hostToConnect:null});const n=await Wd.connect(),o=await this.connectLocal(n);await this.afterConnect("Local","home",o,!0,pu)}this.setState({isPickingHost:!1})});E(this,"requestLocalHostCreds",async()=>{try{const n=await oee();return n?(this.props.dispatch(Y$(n)),_t.fromLocalhost(n)):void 0}catch{return}});E(this,"handleConnectToLocalhost",this.blockingUIDecorator(this.connectToLocalhost));E(this,"handleChangeDirectory",this.blockingUIDecorator(async n=>{if(this.session==null)return;const o=await this.session.changeDirectory(n),r=this.session.currentPath(),{history:i}=this.state;let{historyIndex:s}=this.state;i[s]!==r&&(s+=1,i.splice(s),i.push(r)),this.setState({data:o,history:i,historyIndex:s}),this.props.onSessionUpdate(this.session)}));E(this,"handleChangeDirectoryWithoutHistoryUpdate",this.blockingUIDecorator(async n=>{if(this.session==null)return;const o=this.state.historyIndex+n,r=this.state.history[o],i=await this.session.changeDirectory(r);this.setState({data:i,historyIndex:o}),this.props.onSessionUpdate(this.session)}));E(this,"handleRefresh",async()=>{if(this.session==null)return;const n=await this.session.readDir();this.setState({data:n})});E(this,"handleToggleShowHiddenFiles",()=>{const{showHiddenFiles:n,dispatch:o}=this.props;o(X$(!n))});E(this,"deleteItems",this.blockingUIDecorator(async n=>{if(this.session==null)return;const o=n.map(r=>{var i;return(i=this.session)==null?void 0:i.delete(r)}).filter(r=>r!=null);await Promise.all(o),await this.handleRefresh()}));E(this,"handleRefreshClick",this.blockingUIDecorator(this.handleRefresh));E(this,"editPermissions",this.blockingUIDecorator(async(n,o)=>{if(this.session==null)return;const r={...n.attrs,mode:o};await this.session.editPermissions(n,r),await this.handleRefresh()}));E(this,"createNewFolder",this.blockingUIDecorator(async n=>{this.session!=null&&(await this.session.newFolder(n),await this.handleRefresh())}));E(this,"rename",this.blockingUIDecorator(async(n,o)=>this.session==null?!1:(n.filename!==o&&(await this.session.rename(n,o),await this.handleRefresh()),!0)));E(this,"handleCloseError",()=>{this.setState({error:void 0})});E(this,"handleEditSftpHost",async()=>{const n=await this.requestLocalHostCreds();n&&this.setState({hostToConnect:null},()=>this.handleConnect(n))});E(this,"handleConnectionErrorFactory",()=>async n=>{this.setState({connectionError:n})});E(this,"handleConnectionErrorDismissed",()=>{this.setState({connectionError:void 0,hostToConnect:null,isLoading:!1})});E(this,"handleReconnect",()=>{try{this.setState({connectionError:void 0}),this.state.hostToConnect&&this.handleConnect(this.state.hostToConnect)}catch{this.handleConnectionBrakeMethod()}});E(this,"addTempFileToUploadQueue",async(n,o,r)=>{const[i]=this.getSftpContainerChangedFiles().find(([a,l])=>l.tempDirectoryPath===o)||[],s=await this.props.tempLoader.getItem(o,n.filename);s!=null&&this.props.dispatch(J$({fileId:i||Ie.v4(),changedFile:{file:s,tempDirectoryPath:o,sourceFilePath:r,sftpContainerId:this.props.sftpContainerId}}))});E(this,"startRemoteFileTracking",async n=>{if(this.session==null)return Promise.reject(new Error("session is null"));const{filename:o}=n,{destinationPath:r}=await this.props.onTransferToTempFiles([n]),i=vl.join(r,o),s=this.session.currentPath();try{const a=await Yy.create(r,o,()=>this.addTempFileToUploadQueue(n,r,s));return this.openedFilesWatchers.set(r,a),i}catch(a){if(a.code==="ENOENT")return;throw a}});E(this,"openFile",async(n,o,r="")=>{if(!r)return this.props.dispatch(p5({fileExtension:o,fileOpenOption:"Open"})),eq.openPath(n);this.props.dispatch(p5({fileExtension:o,fileOpenOption:"Open With Associated App"}));const i=await M_(n,{app:r,wait:!0});return i.exitCode!=null&&i.exitCode>0&&this.setState(s=>({failedFilesOpening:[...s.failedFilesOpening,{filePath:n,appPath:r}]})),i});E(this,"getItemAppAssociation",n=>{const{fileTypeAppAssociations:o}=this.props,{extension:r}=n;return o==null?void 0:o.find(({type:i})=>i===r)});E(this,"handleOpenFile",async n=>{if(this.session==null)return;const{filename:o,isLink:r,extension:i}=n,s=this.getItemAppAssociation(n);if(this.state.isLocal){if(r&&await this.tryResolvingLocalSymbolicLinkToDirectory(n)){await this.handleChangeDirectory(o);return}await this.openFile(this.session.fullPath(o),i,s==null?void 0:s.appPath),this.handleRefresh();return}if(r){await this.handleChangeDirectory(o);return}const a=await this.startRemoteFileTracking(n);a!=null&&await this.openFile(a,i,s==null?void 0:s.appPath)});E(this,"tryResolvingLocalSymbolicLinkToDirectory",async n=>{if(this.session==null)return!1;const{filename:o}=n;try{const r=await this.session.client.realpath(`${this.session.currentPath()}/${o}/`);return Rd.lstatSync(this.session.fullPath(r)).isDirectory()}catch(r){let i="Unknown error occurred while processing symbolic link";X4e(r)?i=`Cannot open "${o}": This symbolic link is broken or points to a file or directory that no longer exists.`:J4e(r)&&(i=`Cannot open "${o}": Permission denied. You don't have access to the file or directory this symbolic link points to.`),this.setState({error:i})}return!1});E(this,"handleOpenFileWithApp",async n=>{if(this.session==null)return;const{filename:o}=n;let r=this.session.fullPath(o);const i=await Bx();if(i){if(!this.state.isLocal){const s=await this.startRemoteFileTracking(n);if(s==null)return;r=s}await M_(r,{app:i}),this.props.dispatch(p5({fileExtension:n.extension,fileOpenOption:"Open with"})),this.addFileTypeAssociation(n.extension,i)}});E(this,"addFileTypeAssociation",(n,o)=>{this.saveFileTypeAssociationQueue.push({type:n,appPath:o})});E(this,"handleRemoveFailedFileOpening",n=>{this.setState(o=>({failedFilesOpening:o.failedFilesOpening.filter(r=>r.filePath!==n.filePath)}))});E(this,"removeTempFile",([n])=>{this.props.dispatch(tq(n))});E(this,"handleUploadChangedFile",async n=>{const[o,r]=n,i=this.openedFilesWatchers.get(r.tempDirectoryPath);i==null||i.pause(),await this.props.onTransferFromTempFiles({path:r.tempDirectoryPath,name:r.file.filename},r.sourceFilePath),this.removeTempFile(n),this.handleRefresh(),i==null||i.resume()});E(this,"handleTransfer",this.blockingUIDecorator(async n=>{await this.props.onTransferTo(n)}));E(this,"handleDropTransfer",this.blockingUIDecorator(async n=>{await this.props.onDrop(n)}));E(this,"handleRowDoubleClick",async n=>{n.isDirectory?await this.handleChangeDirectory(n.filename):await this.handleOpenFile(n)});E(this,"isShowHostPickerFooter",()=>this.state.connectionBrakeMethodType!=="none");E(this,"handleInitiateSelectHost",async()=>{this.getSftpContainerChangedFiles().length>0?this.setState({displayedDialog:0}):this.handleSelectHost()});E(this,"handleSelectHost",()=>{try{this.setState({isPickingHost:!0,displayedDialog:void 0}),this.stopWatchingOpenedFiles()}catch{return!1}return!0});E(this,"handleConnect",n=>{this.setIsLoadingInto(!0),this.setState({hostToConnect:n,isPickingHost:!1})});E(this,"connect",async n=>{this.setState({hostToConnect:n})});E(this,"actions",{onOpenFile:this.handleOpenFile,onOpenFileWithApp:this.handleOpenFileWithApp,onDelete:this.deleteItems,onEditPermissions:this.editPermissions,onRename:this.rename,onRefresh:this.handleRefreshClick,onNewFolder:this.createNewFolder,onRowDoubleClick:this.handleRowDoubleClick,onTransferTo:this.handleTransfer,onPathChange:this.handleChangeDirectory,onSelectHost:this.handleInitiateSelectHost,onToggleShowHiddenFiles:this.handleToggleShowHiddenFiles,onConnectionBrakeMethod:this.handleConnectionBrakeMethod});E(this,"getHistoryNavbarProps",N8((n,o)=>({isFirstHistoryPath:n,isLastHistoryPath:o,nextHistoryPath:this.changeHistoryPath(1),prevHistoryPath:this.changeHistoryPath(-1)}),(n,o)=>Number(n)*2+Number(o)));E(this,"handleConnected",async(n,o)=>{const{host:r}=o;Ce(r,"SFTP session require a host"),this.closeCurrentSession(),this.props.closeConnectionHelper.addConnection(n),await this.afterConnect(On.label(r),On.icon(r),n),this.setState({hostToConnect:null}),this.setIsLoadingInto(!1)});E(this,"cancelNewConnection",()=>{this.setState({hostToConnect:null}),this.setIsLoadingInto(!1)})}componentDidMount(){this.props.onInit(this.handleRefresh),this.autoConnectToLocalhost(),window.addEventListener("focus",this.handleSendHints),this.task=this.context.run(this.watchLogout,this),this.openConnectionTask=this.context.run(this.watchOpenConnectionInSftp,this)}componentWillUnmount(){var n,o;this.stopWatchingOpenedFiles(),window.removeEventListener("focus",this.handleSendHints),(n=this.task)==null||n.cancel(),(o=this.openConnectionTask)==null||o.cancel()}*watchLogout(n){yield L_(Li.request,()=>{n.clearLocalState()})}clearLocalState(){this.setState(pa(Hx)),this.autoConnectToLocalhost()}*watchOpenConnectionInSftp(n){yield L_(H8,({payload:o})=>{n.state.isFirstPage&&n.handleConnect(new _t(o))})}getSftpContainerChangedFiles(){const{allChangedSftpFiles:n,sftpContainerId:o}=this.props;return hee(n,o)}render(){var A,k,R;const n=this.getHistoryNavbarProps(this.isFirstHistoryPath(),this.isLastHistoryPath()),o=((A=this.session)==null?void 0:A.currentPath())??"",r=!((k=this.session)!=null&&k.isAtRoot()),{isFirstPage:i,data:s,logicalDiskList:a,hostname:l,hostIcon:c,isLocal:d,isLoading:p,isLocalWindows:h,hostToConnect:m}=this.state,{sftpContainerId:g,onDragStart:C,onDragEnd:v,isDragging:S,onDragLeave:y,showHiddenFiles:b,getSftpMainWindowRef:w,showError:x}=this.props,_=this.getSftpContainerChangedFiles(),I=Je.getClasses(this.props),T=i&&!this.state.connectionError&&!this.state.isPickingHost;return L(Se.Fragment,{children:[this.state.isPickingHost&&u("div",{className:ce(I.hostPickerContainer),children:u(p1e,{onClose:()=>this.setState({isPickingHost:!1}),onConnect:this.handleConnect,onConnectToLocalhost:this.handleConnectToLocalhost})}),L("div",{id:g,className:ce(I.sftpContainer),children:[m&&!this.state.connectionError&&u(L9.Provider,{value:K4e,children:u(wN,{host:m,mapConnectionToConnector:Z4e,getEditHostContainerRef:w,onSucceeded:this.handleConnected,onEditSftpHost:this.handleEditSftpHost,errorHandlerFactory:this.handleConnectionErrorFactory,onCancel:this.cancelNewConnection})}),!i&&!this.state.connectionError&&u("div",{style:this.state.isPickingHost?{display:"none"}:{},children:u(Ufe,{data:s,logicalDiskList:a,getLogicalDiskList:this.getLogicalDiskList,contextMenuContainerId:`${g}-context-menu`,path:o,hostname:l,hostIcon:c,isLoading:p,isLocalWindows:h,isLocal:d,showHiddenFiles:b,actions:this.actions,hasParentDirectory:r,historyNavbarProps:n,sftpContainerId:g,onDragStart:C,onDragEnd:v})},m==null?void 0:m.address),T&&u(q4e,{onSelectHost:this.actions.onSelectHost,isLoading:p}),!i&&S&&!p&&!this.state.connectionError&&u(Ghe,{onDrop:this.handleDropTransfer,onDragLeave:y}),u(f1e,{sessionId:(R=this.session)==null?void 0:R.sessionId,showError:x,failedFilesOpening:this.state.failedFilesOpening,showChooseAppDialog:Bx,openFile:this.openFile,removeFailedFileOpeningError:this.handleRemoveFailedFileOpening,addFileTypeAssociation:this.addFileTypeAssociation}),u(U4e,{files:_,uploadFile:this.handleUploadChangedFile,onDiscard:this.removeTempFile,showError:x}),L(qt,{children:[u(xe,{when:this.state.displayedDialog===0,children:u(O_,{changedFiles:this.getSftpContainerChangedFiles().map(([M,D])=>D),hostname:this.state.hostname,onClose:()=>this.setState({displayedDialog:void 0}),onConfirm:this.handleSelectHost})}),u(xe,{when:this.state.displayedDialog===1,children:u(O_,{changedFiles:this.getSftpContainerChangedFiles().map(([M,D])=>D),hostname:this.state.hostname,onClose:()=>this.setState({displayedDialog:void 0}),onConfirm:this.handleCloseConnection})}),u(xe,{when:!!this.state.error,children:u(wee,{title:"Error",text:this.state.error,onOk:this.handleCloseError,onClose:this.handleCloseError})}),u(xe,{when:!!this.state.connectionError,children:u(jhe,{error:this.state.connectionError,onClose:this.handleConnectionErrorDismissed,onReconnect:this.handleReconnect})})]})]})]})}}E(_N,"contextType",uc);const Z4e=t=>Zy.connect({connection:t,fsProvider:y1}),Q4e=pee(),Bx=async()=>{const{filePaths:t}=await j2.showOpenDialog({filters:[{name:"Applications",extensions:[Q4e]}]});return t[0]},Y4e=t=>({showHiddenFiles:t.sftp.showHiddenFiles,localhost:eM(t),fileTypeAppAssociations:fee(t),allChangedSftpFiles:mee(t)}),zx=Je(_o(Y4e,void 0,void 0,{forwardRef:!0})(_N),i3,{name:"ConnectedSftpContainer"}),X4e=t=>t.code?["ENOENT","ENOTDIR","ELOOP"].includes(t.code):!1,J4e=t=>t.code?["EPERM","EACCES"].includes(t.code):!1,Vx={dragSource:null,items:[]};class e6e extends f.Component{constructor(n){super(n);E(this,"sftpSessionLeft");E(this,"sftpSessionRight");E(this,"tempLoaderSession");E(this,"transferDialogInterface");E(this,"closeConnectionHelper");E(this,"sftpMainWindowRef");E(this,"refreshLeft");E(this,"refreshRight");E(this,"throttleRefreshLeft");E(this,"throttleRefreshRight");E(this,"handleDocumentDragOver",n=>{n.preventDefault()});E(this,"handleDocumentDrop",n=>{n.preventDefault(),this.resetDragNDropState()});E(this,"getSftpMainWindowRef",()=>this.sftpMainWindowRef.current);E(this,"handleSessionUpdateLeft",n=>{this.sftpSessionLeft=n});E(this,"handleSessionUpdateRight",n=>{this.sftpSessionRight=n});E(this,"handleError",async n=>{await this.transferDialogInterface.requestInfo({type:"error",title:"Error",text:n.message})});E(this,"prepareTransferItem",async(n,o)=>{const{behavior:r,newName:i}=await o.checkTransfer(n);return r==="skip"?null:{item:n,behavior:r,newName:i}});E(this,"createStartTransfer",async({source:n,sourcePath:o="",destination:r,destinationPath:i="",throttleRefresh:s=()=>{},items:a,getSessionId:l,onTransferFinished:c})=>{try{const d=(C,v)=>{r.path.path===Ede(C)&&l()===v&&s()},p=await n.createTransferStream({destination:r,destinationPath:i,sourcePath:o,data:a}),h=un(),m=()=>{c==null||c(p),this.props.dispatch(nq(h)),this.closeConnectionHelper.finishTransfer(n,r),s()},g=()=>{this.props.dispatch(Mb({transferStreamId:h,transferStream:p}))};p.on("end",m),p.on("close",m),p.on("startTransferFile",(C,v)=>d(C,v)),p.on("dirCreated",(C,v)=>d(C,v)),p.on("linkCreated",(C,v)=>d(C,v)),p.on("close",(C,v)=>d(C,v)),p.on("error",g),this.props.dispatch(Mb({transferStreamId:h,transferStream:p})),this.closeConnectionHelper.startTransfer(n,r),p.start()}catch(d){await this.handleError(d),s()}});E(this,"handleTransfer",async({source:n,sourcePath:o,destination:r,destinationPath:i,throttleRefresh:s=()=>{},items:a,getSessionId:l,onTransferFinished:c,skipConflictResolver:d})=>{const p=new Qde(r,a,this.transferDialogInterface,d);try{await p.load();const h=await Fp(a.map(m=>()=>this.prepareTransferItem(m,p)));h.length&&await this.createStartTransfer({source:n,sourcePath:o,destination:r,destinationPath:i,items:h,throttleRefresh:s,getSessionId:l,onTransferFinished:c})}catch(h){throw this.resetDragNDropState(),h}});E(this,"handleGetSessionIdLeft",()=>this.sftpSessionLeft.sessionId);E(this,"handleGetSessionIdRight",()=>this.sftpSessionRight.sessionId);E(this,"handleTransferToTempFiles",async(n,o)=>new Promise((r,i)=>{try{this.handleTransfer({source:n,destination:this.tempLoaderSession,destinationPath:this.tempLoaderSession.createTempFolderForFile(),items:o,getSessionId:()=>this.tempLoaderSession.sessionId,onTransferFinished:r,skipConflictResolver:!0})}catch(s){i(s)}}));E(this,"handleTransferFromTempFiles",async(n,o,r)=>{var a,l;const i=await((l=(a=this.tempLoaderSession).getItem)==null?void 0:l.call(a,r.path,r.name)),s=365;return new Promise((c,d)=>{if(!i){d();return}try{const p=i.attrs.mode,h=vl.join(r.path,r.name),m=()=>this.handleTransfer({source:this.tempLoaderSession,sourcePath:r.path,destination:n,destinationPath:o,items:[i],getSessionId:()=>n.sessionId,onTransferFinished:g=>{try{Rd.chmod(h,p,()=>c(g))}finally{c(g)}},skipConflictResolver:!0});Rd.chmod(h,s,m)}catch(p){d(p)}})});E(this,"handleTransferLeft",async n=>{await this.handleTransfer({source:this.sftpSessionLeft,destination:this.sftpSessionRight,items:n,throttleRefresh:this.throttleRefreshRight,getSessionId:this.handleGetSessionIdRight})});E(this,"handleTransferRight",async n=>{await this.handleTransfer({source:this.sftpSessionRight,destination:this.sftpSessionLeft,items:n,throttleRefresh:this.throttleRefreshLeft,getSessionId:this.handleGetSessionIdLeft})});E(this,"handleTransferFromLocalToLeft",async(n,o)=>{const r=await Wd.connect(),i=await Promise.all(o.map(s=>r.client.getItemSFTP(s.path,s.name)));r.path=new wi(n),await this.handleTransfer({source:r,destination:this.sftpSessionLeft,items:i,throttleRefresh:this.throttleRefreshLeft,getSessionId:this.handleGetSessionIdLeft})});E(this,"handleTransferFromLocalToRight",async(n,o)=>{const r=await Wd.connect(),i=await Promise.all(o.map(s=>r.client.getItemSFTP(s.path,s.name)));r.path=new wi(n),await this.handleTransfer({source:r,destination:this.sftpSessionRight,items:i,throttleRefresh:this.throttleRefreshRight,getSessionId:this.handleGetSessionIdRight})});E(this,"handleInitLeft",n=>{this.refreshLeft=n,this.throttleRefreshLeft=Pl(this.refreshLeft,500)});E(this,"handleInitRight",n=>{this.refreshRight=n,this.throttleRefreshRight=Pl(this.refreshRight,500)});E(this,"handleShowTransferError",async(n,o=[])=>await this.transferDialogInterface.requestTransferError(n,o));E(this,"onInitTransferDialogsComponent",n=>{this.transferDialogInterface=n});E(this,"handleDragStart",(n,o)=>{this.setState({dragSource:n,items:o})});E(this,"handleDragEnd",()=>{this.setState({dragSource:null})});E(this,"handleDragLeave",()=>{this.state.dragSource==="local"&&this.setState({dragSource:null})});E(this,"getDirectoryPathWithNormalizedSeparators",n=>{const r=n.replace(/\\/g,"/").lastIndexOf("/")+1;return n.substring(0,r)||"/"});E(this,"prepareEventDataTransfer",n=>{const o=Array.from(n).map(i=>({path:i.path,name:i.name}));return{path:this.getDirectoryPathWithNormalizedSeparators(n[0].path),items:o}});E(this,"handleDropLeft",async n=>{if(n.stopPropagation(),this.state.dragSource==="local"){if(n.preventDefault(),n.dataTransfer.types[0]==="Files"){const{path:o,items:r}=this.prepareEventDataTransfer(n.dataTransfer.files);await this.handleTransferFromLocalToRight(o,r)}}else await this.handleTransferLeft(this.state.items);this.resetDragNDropState()});E(this,"handleDropRight",async n=>{if(n.stopPropagation(),this.state.dragSource==="local"){if(n.preventDefault(),n.dataTransfer.types[0]==="Files"){const{path:o,items:r}=this.prepareEventDataTransfer(n.dataTransfer.files);await this.handleTransferFromLocalToLeft(o,r)}}else await this.handleTransferRight(this.state.items);this.resetDragNDropState()});E(this,"handleTransferToTempFilesFromLeft",n=>this.handleTransferToTempFiles(this.sftpSessionLeft,n));E(this,"handleTransferFromTempFilesToLeft",(n,o)=>this.handleTransferFromTempFiles(this.sftpSessionLeft,o,n));E(this,"handleTransferToTempFilesFromRight",n=>this.handleTransferToTempFiles(this.sftpSessionRight,n));E(this,"handleTransferFromTempFilesToRight",(n,o)=>this.handleTransferFromTempFiles(this.sftpSessionRight,o,n));E(this,"resetDragNDropState",()=>{this.setState({...Vx})});this.closeConnectionHelper=new kde,this.sftpMainWindowRef=Se.createRef(),this.tempLoaderSession=new Qy,this.state={...Vx}}componentDidMount(){document.addEventListener("drop",this.handleDocumentDrop),document.addEventListener("dragover",this.handleDocumentDragOver)}componentWillUnmount(){document.removeEventListener("drop",this.handleDocumentDrop),document.removeEventListener("dragover",this.handleDocumentDragOver)}render(){const{addTerminalTab:n}=this.props,o="two-panel-mode",r=Je.getClasses(this.props);return L("div",{id:o,ref:this.sftpMainWindowRef,className:r.twoPanelContainerOut,children:[u(dpe,{parentId:o,onInitDialogsComponent:this.onInitTransferDialogsComponent}),L("div",{className:r.twoPanelContainerIn,children:[u("div",{className:ce(r.onePanel,r.onePanelLeft,r.onePanelForNewConnectionFlow),children:u(zx,{getSftpMainWindowRef:this.getSftpMainWindowRef,sftpContainerId:"sftp-container-left",closeConnectionHelper:this.closeConnectionHelper,addTerminalTab:n,onSessionUpdate:this.handleSessionUpdateLeft,onTransferTo:this.handleTransferLeft,onTransferToTempFiles:this.handleTransferToTempFilesFromLeft,onTransferFromTempFiles:this.handleTransferFromTempFilesToLeft,onDragLeave:this.handleDragLeave,onInit:this.handleInitLeft,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onDrop:this.handleDropRight,isDragging:this.state.dragSource==="sftp-container-right"||this.state.dragSource==="local",autoConnectToLocalhost:!0,showError:this.handleShowTransferError,tempLoader:this.tempLoaderSession})}),u("div",{className:ce(r.onePanel,r.onePanelForNewConnectionFlow),children:u(zx,{getSftpMainWindowRef:this.getSftpMainWindowRef,sftpContainerId:"sftp-container-right",closeConnectionHelper:this.closeConnectionHelper,addTerminalTab:n,onSessionUpdate:this.handleSessionUpdateRight,onTransferTo:this.handleTransferRight,onTransferToTempFiles:this.handleTransferToTempFilesFromRight,onTransferFromTempFiles:this.handleTransferFromTempFilesToRight,onDragLeave:this.handleDragLeave,onInit:this.handleInitRight,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onDrop:this.handleDropLeft,isDragging:this.state.dragSource==="sftp-container-left"||this.state.dragSource==="local",autoConnectToLocalhost:!1,showError:this.handleShowTransferError,tempLoader:this.tempLoaderSession})})]}),u(Nhe,{showError:this.handleShowTransferError})]})}}const t6e=Je(_o()(e6e),i3,{name:"ConnectedTwoPanelMode"}),n6e=t=>u(t6e,{...t});function xN(t){return t.app.userDataPath}function HZe(t){return t.app.version}const o6e=B8("publishToCentrifugeMultiplayerChannel"),r6e=B8("joinCentrifugeChannel");B8("leaveCentrifugeChannel");const AN=Oa(`${Gh}/publishMultiplayerData`),i6e=Oa(`${Gh}/sharedHostConnectionEstablished`),TN=Oa(`${Gh}/multiplayerIsStopped`),s6e=Oa(`${Gh}/publishMultiplayerRequest`);Oa(`${Gh}/addMultiplayerRequest`);const h3=(t="terminalTab")=>{const e=un();switch(t){case"terminalTab":case"workspaceTab":return Qk+e;case"newTab":return Y2+e;default:return`/${e}`}},D1=tn([z8,t=>t],(t,e)=>{if(Xn(t))return to(e,t.workspaceId)}),f3=tn([Mi,(t,e)=>e],(t,e)=>Object.values(t).find(o=>o.orderedTerminalIds.includes(e))),IN=tn([(t,e)=>D1(t,e),t=>V8(t)],(t,e)=>{if(!(!t||t.templateId==null))return e.find(n=>n.local_id===t.templateId)}),a6e=tn((t,e)=>D1(t,e),t=>(t==null?void 0:t.orderedTerminalIds)||[]),l6e=tn(t=>t,Kh,(t,e)=>e?a6e(t,e):[]),c6e=tn([Da,t=>t],(t,e)=>t?IN(e,t.id):void 0),d6e=tn(t=>t.terminal.all,t=>Object.entries(t).reduce((e,[n,o])=>({...e,[n]:{id:o.id,title:o.title,windowId:o.windowId,host:o.host,connectionId:o.connectionId,workspaceTerminalId:o.workspaceTerminalId,connectionProtocol:o.connectionProtocol}}),{})),u6e=t=>(t==null?void 0:t.workspaceMode)!=="snippet",p6e=tn((t,e)=>IN(t,e),(t,e)=>D1(t,e),(t,e)=>d6e(t),(t,e)=>cc(t),(t,e,n,o)=>{if(!e||!u6e(e))return;const r=W8.createWorkspaceTemplateFromTab({workspace:e,allTerminals:n,existingHosts:o});return r==null?void 0:r.compareTemplateWithAnother(t)}),EN=tn([(t,e)=>Da(t,e),t=>t],(t,e)=>Xn(t)?to(e,t.workspaceId):void 0),kN=tn([Mi,t=>t.terminal.all,(t,e)=>e],(t,e,n)=>{const o=t[n];return o?oq(e,o):[]}),h6e=Oa("SESSION_LOGS_QUEUE_OVERFLOWED");function Wx(t){const e={encode:0,write:0};return{overflowLimit:16,queueOverflowed:(n,o)=>{e[n]*2<o.numberOfMessages&&(e[n]=o.numberOfMessages,t(h6e({queue:n,data:o})))}}}const RN=f.createContext(void 0),f6e=RN.Provider,Wu=()=>{const t=f.useContext(RN);return Ce(t,"ConnectionControllerPoolContext is missing upper in the tree"),t},m6e=({children:t,value:e})=>u(PN.Provider,{value:e,children:t}),PN=f.createContext(void 0),m3=()=>{const t=f.useContext(PN);return Ce(t,"MultiplayerApiContext is missing upper in the tree"),t},LN=f.createContext(void 0),g6e=LN.Provider,MN=()=>{const t=f.useContext(LN);return Ce(t,"MultiplayerProtocol is missing upper in the tree"),t},ON=f.createContext(void 0),v6e=ON.Provider,ju=()=>{const t=f.useContext(ON);return Ce(t,"SingletonsProviders is missing upper in the tree"),t},C6e=({children:t,singletons:e})=>u(v6e,{value:e,children:u(qF,{value:e.connectionMap,children:u(f6e,{value:e.controllerMap,children:u(g6e,{value:e.multiplayerProtocol,children:u(m6e,{value:e.multiplayerAPI,children:t})})})})}),DN=f.createContext(void 0),y6e=DN.Provider,S6e=()=>{const t=f.useContext(DN);return Ce(t,"TerminalTabMenuProvider is missing upper in the tree"),t},i7="command-palette-button",g3="DraggableTerminalTab",FN="DroppableTerminal";var Jn=(t=>(t.workspace="workspace",t.horizontal="horizontal",t.pane="pane",t))(Jn||{});const b6e=t=>`${Qk}${t}-pane`,va=t=>(t==null?void 0:t.kind)===g3,NN=va,HN="horizontal-tabs-drop-area",s7=t=>t===HN,BN="workspace-tabs-drop-area",w6e=t=>t===BN,v3=t=>(t==null?void 0:t.kind)===FN;var Kn=(t=>(t.workspaceTab="active-workspace-tab",t.horizontalTab="active-horizontal-tab",t.splitViewPane="active-split-view-pane",t.unknown="active-unknown",t))(Kn||{}),Zn=(t=>(t.workspaceTab="over-workspace-tab",t.draftWorkspaceTab="over-draft-workspace-tab",t.workspaceTabsArea="over-workspace-tabs-area",t.horizontalTab="over-horizontal-tab",t.draftHorizontalTab="over-draft-horizontal-tab",t.horizontalTabsArea="over-horizontal-tabs-area",t.droppableTerminal="over-droppable-terminal",t.splitViewPane="over-split-view-pane",t.unknown="over-unknown",t))(Zn||{});function M9(t){const{active:e,over:n}=t;if(!n)return;const o=e.id.toString(),r=n.id.toString(),i=e.data.current,s=n.data.current,{activeType:a,activeTerminal:l}=_6e({activeId:o,activeData:i}),{overType:c,overTerminal:d}=A6e({overId:r,overData:s});return{activeType:a,overType:c,activeData:i,overData:s,activeId:o,overId:r,activeTerminal:l,overTerminal:d}}function _6e({activeData:t}){if(!va(t))return{activeType:"active-unknown",activeTerminal:void 0};const e=VN(t.terminals);return t.group===Jn.workspace?{activeType:"active-workspace-tab",activeTerminal:e}:t.group===Jn.horizontal?{activeType:"active-horizontal-tab",activeTerminal:e}:t.group===Jn.pane?{activeType:"active-split-view-pane",activeTerminal:e}:{activeType:"active-unknown",activeTerminal:void 0}}function x6e(t){const e=VN(t.terminals);switch(t.group){case Jn.horizontal:return{overType:t.isDraft?"over-draft-horizontal-tab":"over-horizontal-tab",overTerminal:e};case Jn.workspace:return{overType:t.isDraft?"over-draft-workspace-tab":"over-workspace-tab",overTerminal:e};case Jn.pane:return{overType:"over-split-view-pane",overTerminal:e};default:return{overType:"over-unknown"}}}function A6e({overId:t,overData:e}){return w6e(t)?{overType:"over-workspace-tabs-area"}:s7(t)?{overType:"over-horizontal-tabs-area"}:v3(e)?{overType:"over-droppable-terminal"}:NN(e)?x6e(e):{overType:"over-unknown"}}const zN=t=>t.multiplayerConnectionProcess==="succeeded"||t.connectionProcess==="succeeded",VN=t=>{const e=hc(t);if(e&&zN(e))return e},T6e=(t={vertical:!0,horizontal:!0})=>{const{vertical:e,horizontal:n}=t;return e&&n?Ob:o=>{const r=Ob(o);return n||(r.x=o.transform.x),e||(r.y=o.transform.y),r}},I6e=Se.memo(t=>{const{onReorderTabs:e,onReorderPanes:n,onSplit:o,onSwapWorkspaceTabs:r,tabs:i,onMoveTerminalInNewTab:s,currentLayoutTabsOrder:a}=t,l=rq(iq(sq,E6e)),c=Yn(d=>{const p=M9(d);if(!p)return;const m=R6e(d,{eventDetails:p,tabs:i,currentLayoutTabsOrder:a});switch(m.strategy){case"reorderTabs":e(m.payload.oldIndex,m.payload.newIndex);return;case"splitTerminal":o(m.payload);return;case"moveTerminalToNewTab":s(m.payload);break;case"reorderPanes":n(m.payload);break;case"swapWorkspaceTabs":r(m.payload);break}});return u(aq,{sensors:l,collisionDetection:lq,modifiers:k6e,onDragEnd:c,children:t.children})}),E6e={activationConstraint:{distance:5}},k6e=[T6e({vertical:!1,horizontal:!0})],R6e=(t,e)=>{const{activeType:n,overType:o}=e.eventDetails,r=[()=>P6e(n,o)?D6e(t,e):null,()=>L6e(n,o)?O6e(t,e):null,()=>M6e(n,o)?F6e(e):null,()=>n===Kn.horizontalTab&&o===Zn.workspaceTab?N6e(e):null,()=>n===Kn.workspaceTab&&o===Zn.workspaceTab?B6e(e):null,()=>n===Kn.workspaceTab&&o===Zn.workspaceTabsArea?H6e(e):null];for(const i of r){const s=i();if(s)return s}return N0},P6e=(t,e)=>[Kn.horizontalTab,Kn.workspaceTab,Kn.splitViewPane].includes(t)&&[Zn.horizontalTab,Zn.draftWorkspaceTab,Zn.horizontalTabsArea].includes(e)||t===Kn.splitViewPane&&e===Zn.splitViewPane,L6e=(t,e)=>[Kn.horizontalTab,Kn.splitViewPane].includes(t)&&e===Zn.droppableTerminal,M6e=(t,e)=>t===Kn.horizontalTab&&[Zn.workspaceTabsArea,Zn.draftHorizontalTab].includes(e),O6e=(t,e)=>{const{active:n,over:o}=t;if(!o)return;const r=o.data.current;if(!v3(r))return;const i=n.data.current;if(!r.accepts(n.id,i))return;const s=hc(i.terminals);return s?e.eventDetails.activeType===Kn.splitViewPane?{strategy:"reorderPanes",payload:{sourceTerminalId:s.id,targetTerminalId:r.terminalId,position:r.position,layout:r.layout}}:{strategy:"splitTerminal",payload:{targetTerminalId:r.terminalId,terminalId:s.id,position:r.position,layout:r.layout}}:N0},D6e=(t,e)=>{const{active:n,over:o}=t;if(!o)return;const r=n.data.current,i=o.data.current,s=NN(i)||s7(o.id);if(!va(r)||!s)return;const a=e.tabs.findIndex(c=>c.id===n.id.toString()),l=s7(o.id)?e.tabs.length:e.tabs.findIndex(c=>c.id===o.id.toString());if(a===-1){const c=hc(r.terminals);return!c||!zN(c)?N0:{strategy:"moveTerminalToNewTab",payload:{terminalId:c.id,newTabIndex:l===-1?e.tabs.length:l}}}return a===l?N0:{strategy:"reorderTabs",payload:{oldIndex:a,newIndex:l}}},F6e=({eventDetails:{activeTerminal:t},currentLayoutTabsOrder:e})=>{if(t)return{strategy:"splitTerminal",payload:{targetTerminalId:e[e.length-1],workspaceTabOrderTargetIndex:e.length,terminalId:t.id,position:"start",layout:"horizontal"}}},N6e=({eventDetails:t,currentLayoutTabsOrder:e})=>{const{overId:n,activeTerminal:o,overTerminal:r}=t;if(!(!o||!r))return{strategy:"splitTerminal",payload:{targetTerminalId:r.id,terminalId:o.id,workspaceTabOrderTargetIndex:e.indexOf(n),position:"start",layout:"horizontal"}}},H6e=({eventDetails:{activeId:t,activeTerminal:e},currentLayoutTabsOrder:n})=>{if(!(!e||n.length===0||n.indexOf(t)===-1))return{strategy:"swapWorkspaceTabs",payload:{item:t,swapWith:n[n.length-1]}}},B6e=({eventDetails:{activeId:t,overId:e}})=>{if(t!==e)return{strategy:"swapWorkspaceTabs",payload:{item:t,swapWith:e}}},N0={strategy:"cancel"},z6e=({children:t,tabs:e,findTabByTerminal:n,currentPath:o,currentLayoutTabsOrder:r})=>{const i=de();return u(I6e,{tabs:e,onReorderTabs:(p,h)=>{i(cq({oldIndex:p,newIndex:h}))},onSwapWorkspaceTabs:p=>{const h=Yk(e,o);h&&i(dq({workspaceId:h.workspaceId,item:p.item,swapWith:p.swapWith}))},onReorderPanes:p=>{i(uq(p))},onSplit:p=>{const{terminalId:h,targetTerminalId:m,position:g,workspaceTabOrderTargetIndex:C,layout:v}=p,S=n(h),y=n(m);!y||!S||y.windowId!==S.windowId||i(Xk({sourceWorkspaceId:Xn(S)?S.workspaceId:void 0,targetWorkspaceId:Xn(y)?y.workspaceId:void 0,targetTerminalId:m,terminalId:h,workspaceTabOrderTargetIndex:C,position:g,layout:v,windowId:y.windowId}))},onMoveTerminalInNewTab:p=>{const{terminalId:h,newTabIndex:m}=p,g=n(h);Xn(g)&&i(Jk({newTabId:h3(),workspaceId:g.workspaceId,terminalId:h,newTabIndex:m}))},currentLayoutTabsOrder:r,children:t})},V6e=ne.object({address:ne.string(),port:ne.number()}),W6e=ne.any(),j6e=ne.any(),U6e=ne.any(),$6e=ne.any(),q6e=ne.any(),G6e=ne.any(),K6e=ne.any(),Z6e=ne.any(),Q6e=ne.any(),Y6e=ne.any(),X6e=ne.any(),J6e=ne.object({id:ne.string().optional(),protocol:W6e.optional().nullable(),host:j6e.optional(),chainedHostOverrides:ne.union([V6e,ne.undefined()]).optional(),shellPath:ne.string().optional().nullable(),sshKnownHosts:ne.array(ne.string()).optional(),keepaliveInterval:ne.number().optional().nullable(),errorMsg:ne.string().optional().nullable(),connectedAt:ne.number().optional().nullable(),delegate:U6e.optional().nullable(),quick:ne.boolean().optional(),abortController:Y6e.optional(),saveAsHost:ne.boolean().optional(),analyticsHelper:$6e.optional().nullable(),stream:q6e.optional(),featureSet:G6e.optional(),sessionLogData:K6e.optional().nullable(),sessionLogAnalytics:Z6e.optional(),serialOptions:Q6e.optional(),isDetectOSEnabled:ne.boolean().optional(),colorSchemeName:ne.string().optional(),isWorkspaceConnection:ne.boolean().optional(),workspaceTemplateLocalId:ne.number().optional(),bypassRecordingHistory:ne.boolean().optional(),startupSnippetOverwrite:X6e.optional()}),eve=ne.string().optional(),tve=ne.union([ne.literal("History"),ne.literal("SFTP Screen"),ne.literal("Hosts Screen"),ne.literal("Port Forwarding Screen"),ne.literal("Quick Connect"),ne.literal("Duplicated Tab"),ne.literal("Duplicated In New Window"),ne.literal("Connection Flow"),ne.literal("Local Host"),ne.literal("Reconnect Context"),ne.literal("Reconnect Hint"),ne.literal("Live Terminal Link"),ne.literal("Side Menu"),ne.literal("System Top Bar"),ne.literal("Shortcut"),ne.literal("Serial"),ne.literal("Host Details Link"),ne.literal("Edit Host Screen"),ne.literal("Quick Connect In Context Menu"),ne.literal("Connect In Context Menu"),ne.literal("Quick Connect In a New Window Context Menu"),ne.literal("Connect In a New Window Context Menu"),ne.literal("Double Click"),ne.literal("Toolbar On Hosts Screen"),ne.literal("Collaboration Context Menu"),ne.literal("Reconnect Hotkey"),ne.literal("Reconnect Button"),ne.literal("Run Snippet")]),nve=ne.union([ne.literal("Live Terminal"),ne.literal("Lizhi"),ne.literal("Host Details Deeplink")]).optional(),ove=ne.object({connection:J6e.strict(),tabTitle:eve,connectionOrigin:tve,acquisitionChannel:nve}),rve=t=>j8(t)?t.every(e=>ove.strict().safeParse(e).success):!1;function _4(t){rve(t)&&da.send("open-connections-in-new-window",t.map(e=>({...e,connection:WN(e.connection)})))}function WN(t){return{...t,abortController:void 0,delegate:void 0,analyticsHelper:void 0,sessionLogAnalytics:void 0}}function ive(t,e,n){return(t+e%n+n)%n}var jx=1,sve=.9,ave=.8,lve=.17,x4=.1,A4=.999,cve=.9999,dve=.99,uve=/[\\\/_+.#"@\[\(\{&]/,pve=/[\\\/_+.#"@\[\(\{&]/g,hve=/[\s-]/,jN=/[\s-]/g;function a7(t,e,n,o,r,i,s){if(i===e.length)return r===t.length?jx:dve;var a=`${r},${i}`;if(s[a]!==void 0)return s[a];for(var l=o.charAt(i),c=n.indexOf(l,r),d=0,p,h,m,g;c>=0;)p=a7(t,e,n,o,c+1,i+1,s),p>d&&(c===r?p*=jx:uve.test(t.charAt(c-1))?(p*=ave,m=t.slice(r,c-1).match(pve),m&&r>0&&(p*=Math.pow(A4,m.length))):hve.test(t.charAt(c-1))?(p*=sve,g=t.slice(r,c-1).match(jN),g&&r>0&&(p*=Math.pow(A4,g.length))):(p*=lve,r>0&&(p*=Math.pow(A4,c-r))),t.charAt(c)!==e.charAt(i)&&(p*=cve)),(p<x4&&n.charAt(c-1)===o.charAt(i+1)||o.charAt(i+1)===o.charAt(i)&&n.charAt(c-1)!==o.charAt(i))&&(h=a7(t,e,n,o,c+1,i+2,s),h*x4>p&&(p=h*x4)),p>d&&(d=p),c=n.indexOf(l,c+1);return s[a]=d,d}function Ux(t){return t.toLowerCase().replace(jN," ")}function fve(t,e){return a7(t,e,Ux(t),Ux(e),0,0,{})}function bd(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function mve(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function UN(...t){return e=>t.forEach(n=>mve(n,e))}function F1(...t){return f.useCallback(UN(...t),t)}function gve(t,e=[]){let n=[];function o(i,s){const a=f.createContext(s),l=n.length;n=[...n,s];function c(p){const{scope:h,children:m,...g}=p,C=(h==null?void 0:h[t][l])||a,v=f.useMemo(()=>g,Object.values(g));return f.createElement(C.Provider,{value:v},m)}function d(p,h){const m=(h==null?void 0:h[t][l])||a,g=f.useContext(m);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const r=()=>{const i=n.map(s=>f.createContext(s));return function(a){const l=(a==null?void 0:a[t])||i;return f.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return r.scopeName=t,[o,vve(r,...e)]}function vve(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const o=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const s=o.reduce((a,{useScope:l,scopeName:c})=>{const p=l(i)[`__scope${c}`];return{...a,...p}},{});return f.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}const l7=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},Cve=U8["useId".toString()]||(()=>{});let yve=0;function T4(t){const[e,n]=f.useState(Cve());return l7(()=>{t||n(o=>o??String(yve++))},[t]),t||(e?`radix-${e}`:"")}function jl(t){const e=f.useRef(t);return f.useEffect(()=>{e.current=t}),f.useMemo(()=>(...n)=>{var o;return(o=e.current)===null||o===void 0?void 0:o.call(e,...n)},[])}function Sve({prop:t,defaultProp:e,onChange:n=()=>{}}){const[o,r]=bve({defaultProp:e,onChange:n}),i=t!==void 0,s=i?t:o,a=jl(n),l=f.useCallback(c=>{if(i){const p=typeof c=="function"?c(t):c;p!==t&&a(p)}else r(c)},[i,t,r,a]);return[s,l]}function bve({defaultProp:t,onChange:e}){const n=f.useState(t),[o]=n,r=f.useRef(o),i=jl(e);return f.useEffect(()=>{r.current!==o&&(i(o),r.current=o)},[o,r,i]),n}const O9=f.forwardRef((t,e)=>{const{children:n,...o}=t,r=f.Children.toArray(n),i=r.find(_ve);if(i){const s=i.props.children,a=r.map(l=>l===i?f.Children.count(s)>1?f.Children.only(null):f.isValidElement(s)?s.props.children:null:l);return f.createElement(c7,no({},o,{ref:e}),f.isValidElement(s)?f.cloneElement(s,void 0,a):null)}return f.createElement(c7,no({},o,{ref:e}),n)});O9.displayName="Slot";const c7=f.forwardRef((t,e)=>{const{children:n,...o}=t;return f.isValidElement(n)?f.cloneElement(n,{...xve(o,n.props),ref:UN(e,n.ref)}):f.Children.count(n)>1?f.Children.only(null):null});c7.displayName="SlotClone";const wve=({children:t})=>f.createElement(f.Fragment,null,t);function _ve(t){return f.isValidElement(t)&&t.type===wve}function xve(t,e){const n={...e};for(const o in e){const r=t[o],i=e[o];/^on[A-Z]/.test(o)?n[o]=(...a)=>{i==null||i(...a),r==null||r(...a)}:o==="style"?n[o]={...r,...i}:o==="className"&&(n[o]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}const Ave=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"],C3=Ave.reduce((t,e)=>{const n=f.forwardRef((o,r)=>{const{asChild:i,...s}=o,a=i?O9:e;return f.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),f.createElement(a,no({},s,{ref:r}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Tve(t,e){t&&Mo.flushSync(()=>t.dispatchEvent(e))}function Ive(t){const e=jl(t);f.useEffect(()=>{const n=o=>{o.key==="Escape"&&e(o)};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[e])}const d7="dismissableLayer.update",Eve="dismissableLayer.pointerDownOutside",kve="dismissableLayer.focusOutside";let $x;const Rve=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pve=f.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:s,onDismiss:a,...l}=t,c=f.useContext(Rve),[d,p]=f.useState(null),[,h]=f.useState({}),m=F1(e,_=>p(_)),g=Array.from(c.layers),[C]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(C),S=d?g.indexOf(d):-1,y=c.layersWithOutsidePointerEventsDisabled.size>0,b=S>=v,w=Lve(_=>{const I=_.target,T=[...c.branches].some(A=>A.contains(I));!b||T||(r==null||r(_),s==null||s(_),_.defaultPrevented||a==null||a())}),x=Mve(_=>{const I=_.target;[...c.branches].some(A=>A.contains(I))||(i==null||i(_),s==null||s(_),_.defaultPrevented||a==null||a())});return Ive(_=>{S===c.layers.size-1&&(o==null||o(_),!_.defaultPrevented&&a&&(_.preventDefault(),a()))}),f.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&($x=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),qx(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(document.body.style.pointerEvents=$x)}},[d,n,c]),f.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),qx())},[d,c]),f.useEffect(()=>{const _=()=>h({});return document.addEventListener(d7,_),()=>document.removeEventListener(d7,_)},[]),f.createElement(C3.div,no({},l,{ref:m,style:{pointerEvents:y?b?"auto":"none":void 0,...t.style},onFocusCapture:bd(t.onFocusCapture,x.onFocusCapture),onBlurCapture:bd(t.onBlurCapture,x.onBlurCapture),onPointerDownCapture:bd(t.onPointerDownCapture,w.onPointerDownCapture)}))});function Lve(t){const e=jl(t),n=f.useRef(!1),o=f.useRef(()=>{});return f.useEffect(()=>{const r=s=>{if(s.target&&!n.current){let l=function(){$N(Eve,e,a,{discrete:!0})};const a={originalEvent:s};s.pointerType==="touch"?(document.removeEventListener("click",o.current),o.current=l,document.addEventListener("click",o.current,{once:!0})):l()}n.current=!1},i=window.setTimeout(()=>{document.addEventListener("pointerdown",r)},0);return()=>{window.clearTimeout(i),document.removeEventListener("pointerdown",r),document.removeEventListener("click",o.current)}},[e]),{onPointerDownCapture:()=>n.current=!0}}function Mve(t){const e=jl(t),n=f.useRef(!1);return f.useEffect(()=>{const o=r=>{r.target&&!n.current&&$N(kve,e,{originalEvent:r},{discrete:!1})};return document.addEventListener("focusin",o),()=>document.removeEventListener("focusin",o)},[e]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function qx(){const t=new CustomEvent(d7);document.dispatchEvent(t)}function $N(t,e,n,{discrete:o}){const r=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),o?Tve(r,i):r.dispatchEvent(i)}const I4="focusScope.autoFocusOnMount",E4="focusScope.autoFocusOnUnmount",Gx={bubbles:!1,cancelable:!0},Ove=f.forwardRef((t,e)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:r,onUnmountAutoFocus:i,...s}=t,[a,l]=f.useState(null),c=jl(r),d=jl(i),p=f.useRef(null),h=F1(e,C=>l(C)),m=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(o){let C=function(S){if(m.paused||!a)return;const y=S.target;a.contains(y)?p.current=y:dl(p.current,{select:!0})},v=function(S){m.paused||!a||a.contains(S.relatedTarget)||dl(p.current,{select:!0})};return document.addEventListener("focusin",C),document.addEventListener("focusout",v),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",v)}}},[o,a,m.paused]),f.useEffect(()=>{if(a){Zx.add(m);const C=document.activeElement;if(!a.contains(C)){const S=new CustomEvent(I4,Gx);a.addEventListener(I4,c),a.dispatchEvent(S),S.defaultPrevented||(Dve(zve(qN(a)),{select:!0}),document.activeElement===C&&dl(a))}return()=>{a.removeEventListener(I4,c),setTimeout(()=>{const S=new CustomEvent(E4,Gx);a.addEventListener(E4,d),a.dispatchEvent(S),S.defaultPrevented||dl(C??document.body,{select:!0}),a.removeEventListener(E4,d),Zx.remove(m)},0)}}},[a,c,d,m]);const g=f.useCallback(C=>{if(!n&&!o||m.paused)return;const v=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,S=document.activeElement;if(v&&S){const y=C.currentTarget,[b,w]=Fve(y);b&&w?!C.shiftKey&&S===w?(C.preventDefault(),n&&dl(b,{select:!0})):C.shiftKey&&S===b&&(C.preventDefault(),n&&dl(w,{select:!0})):S===y&&C.preventDefault()}},[n,o,m.paused]);return f.createElement(C3.div,no({tabIndex:-1},s,{ref:h,onKeyDown:g}))});function Dve(t,{select:e=!1}={}){const n=document.activeElement;for(const o of t)if(dl(o,{select:e}),document.activeElement!==n)return}function Fve(t){const e=qN(t),n=Kx(e,t),o=Kx(e.reverse(),t);return[n,o]}function qN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const r=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||r?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Kx(t,e){for(const n of t)if(!Nve(n,{upTo:e}))return n}function Nve(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Hve(t){return t instanceof HTMLInputElement&&"select"in t}function dl(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Hve(t)&&e&&t.select()}}const Zx=Bve();function Bve(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Qx(t,e),t.unshift(e)},remove(e){var n;t=Qx(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function Qx(t,e){const n=[...t],o=n.indexOf(e);return o!==-1&&n.splice(o,1),n}function zve(t){return t.filter(e=>e.tagName!=="A")}const Vve=f.forwardRef((t,e)=>{var n;const{container:o=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...r}=t;return o?pq.createPortal(f.createElement(C3.div,no({},r,{ref:e})),o):null});function Wve(t,e){return f.useReducer((n,o)=>{const r=e[n][o];return r??n},t)}const y3=t=>{const{present:e,children:n}=t,o=jve(e),r=typeof n=="function"?n({present:o.isPresent}):f.Children.only(n),i=F1(o.ref,r.ref);return typeof n=="function"||o.isPresent?f.cloneElement(r,{ref:i}):null};y3.displayName="Presence";function jve(t){const[e,n]=f.useState(),o=f.useRef({}),r=f.useRef(t),i=f.useRef("none"),s=t?"mounted":"unmounted",[a,l]=Wve(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const c=Sf(o.current);i.current=a==="mounted"?c:"none"},[a]),l7(()=>{const c=o.current,d=r.current;if(d!==t){const h=i.current,m=Sf(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,l]),l7(()=>{if(e){const c=p=>{const m=Sf(o.current).includes(p.animationName);p.target===e&&m&&Mo.flushSync(()=>l("ANIMATION_END"))},d=p=>{p.target===e&&(i.current=Sf(o.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(c=>{c&&(o.current=getComputedStyle(c)),n(c)},[])}}function Sf(t){return(t==null?void 0:t.animationName)||"none"}let k4=0;function Uve(){f.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:Yx()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:Yx()),k4++,()=>{k4===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(o=>o.remove()),k4--}},[])}function Yx(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var dm="right-scroll-bar-position",um="width-before-scroll-bar",$ve="with-scroll-bars-hidden",qve="--removed-body-scroll-bar-size";function R4(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Gve(t,e){var n=f.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(o){var r=n.value;r!==o&&(n.value=o,n.callback(o,r))}}}})[0];return n.callback=e,n.facade}var Kve=typeof window<"u"?f.useLayoutEffect:f.useEffect,Xx=new WeakMap;function GN(t,e){var n=Gve(e||null,function(o){return t.forEach(function(r){return R4(r,o)})});return Kve(function(){var o=Xx.get(n);if(o){var r=new Set(o),i=new Set(t),s=n.current;r.forEach(function(a){i.has(a)||R4(a,null)}),i.forEach(function(a){r.has(a)||R4(a,s)})}Xx.set(n,t)},[t]),n}function KN(t){return t}function ZN(t,e){e===void 0&&(e=KN);var n=[],o=!1,r={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var s=e(i,o);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(i){for(o=!0;n.length;){var s=n;n=[],s.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){o=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(i),s=n}var l=function(){var d=s;s=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){s.push(d),c()},filter:function(d){return s=s.filter(d),n}}}};return r}function D9(t,e){return e===void 0&&(e=KN),ZN(t,e)}function QN(t){t===void 0&&(t={});var e=ZN(null);return e.options=js({async:!0,ssr:!1},t),e}var YN=function(t){var e=t.sideCar,n=eR(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=e.read();if(!o)throw new Error("Sidecar medium not found");return f.createElement(o,js({},n))};YN.isSideCarExport=!0;function Zve(t,e){return t.useMedium(e),YN}var XN=QN(),P4=function(){},S3=f.forwardRef(function(t,e){var n=f.useRef(null),o=f.useState({onScrollCapture:P4,onWheelCapture:P4,onTouchMoveCapture:P4}),r=o[0],i=o[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,p=t.shards,h=t.sideCar,m=t.noIsolation,g=t.inert,C=t.allowPinchZoom,v=t.as,S=v===void 0?"div":v,y=eR(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),b=h,w=GN([n,e]),x=js(js({},y),r);return f.createElement(f.Fragment,null,d&&f.createElement(b,{sideCar:XN,removeScrollBar:c,shards:p,noIsolation:m,inert:g,setCallbacks:i,allowPinchZoom:!!C,lockRef:n}),s?f.cloneElement(f.Children.only(a),js(js({},x),{ref:w})):f.createElement(S,js({},x,{className:l,ref:w}),a))});S3.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};S3.classNames={fullWidth:um,zeroRight:dm};var Jx,Qve=function(){if(Jx)return Jx;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Yve(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Qve();return e&&t.setAttribute("nonce",e),t}function Xve(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Jve(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var e7e=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Yve())&&(Xve(e,n),Jve(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},t7e=function(){var t=e7e();return function(e,n){f.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},JN=function(){var t=t7e(),e=function(n){var o=n.styles,r=n.dynamic;return t(o,r),null};return e},n7e={left:0,top:0,right:0,gap:0},L4=function(t){return parseInt(t||"",10)||0},o7e=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],o=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[L4(n),L4(o),L4(r)]},r7e=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return n7e;var e=o7e(t),n=document.documentElement.clientWidth,o=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,o-n+e[2]-e[0])}},i7e=JN(),wd="data-scroll-locked",s7e=function(t,e,n,o){var r=t.left,i=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat($ve,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(a,"px ").concat(o,`;
  }
  body[`).concat(wd,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(o,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(o,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dm,` {
    right: `).concat(a,"px ").concat(o,`;
  }
  
  .`).concat(um,` {
    margin-right: `).concat(a,"px ").concat(o,`;
  }
  
  .`).concat(dm," .").concat(dm,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(um," .").concat(um,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(wd,`] {
    `).concat(qve,": ").concat(a,`px;
  }
`)},eA=function(){var t=parseInt(document.body.getAttribute(wd)||"0",10);return isFinite(t)?t:0},a7e=function(){f.useEffect(function(){return document.body.setAttribute(wd,(eA()+1).toString()),function(){var t=eA()-1;t<=0?document.body.removeAttribute(wd):document.body.setAttribute(wd,t.toString())}},[])},l7e=function(t){var e=t.noRelative,n=t.noImportant,o=t.gapMode,r=o===void 0?"margin":o;a7e();var i=f.useMemo(function(){return r7e(r)},[r]);return f.createElement(i7e,{styles:s7e(i,!e,r,n?"":"!important")})},u7=!1;if(typeof window<"u")try{var bf=Object.defineProperty({},"passive",{get:function(){return u7=!0,!0}});window.addEventListener("test",bf,bf),window.removeEventListener("test",bf,bf)}catch{u7=!1}var Vc=u7?{passive:!1}:!1,c7e=function(t){var e=window.getComputedStyle(t);return e.overflowY!=="hidden"&&!(e.overflowY===e.overflowX&&e.overflowY==="visible")},d7e=function(t){var e=window.getComputedStyle(t);return e.overflowX!=="hidden"&&!(e.overflowY===e.overflowX&&e.overflowX==="visible")},tA=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=eH(t,n);if(o){var r=tH(t,n),i=r[1],s=r[2];if(i>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},u7e=function(t){var e=t.scrollTop,n=t.scrollHeight,o=t.clientHeight;return[e,n,o]},p7e=function(t){var e=t.scrollLeft,n=t.scrollWidth,o=t.clientWidth;return[e,n,o]},eH=function(t,e){return t==="v"?c7e(e):d7e(e)},tH=function(t,e){return t==="v"?u7e(e):p7e(e)},h7e=function(t,e){return t==="h"&&e==="rtl"?-1:1},f7e=function(t,e,n,o,r){var i=h7e(t,window.getComputedStyle(e).direction),s=i*o,a=n.target,l=e.contains(a),c=!1,d=s>0,p=0,h=0;do{var m=tH(t,a),g=m[0],C=m[1],v=m[2],S=C-v-i*g;(g||S)&&eH(t,a)&&(p+=S,h+=g),a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(r&&p===0||!r&&s>p)||!d&&(r&&h===0||!r&&-s>h))&&(c=!0),c},wf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},nA=function(t){return[t.deltaX,t.deltaY]},oA=function(t){return t&&"current"in t?t.current:t},m7e=function(t,e){return t[0]===e[0]&&t[1]===e[1]},g7e=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},v7e=0,Wc=[];function C7e(t){var e=f.useRef([]),n=f.useRef([0,0]),o=f.useRef(),r=f.useState(v7e++)[0],i=f.useState(function(){return JN()})[0],s=f.useRef(t);f.useEffect(function(){s.current=t},[t]),f.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var C=d8([t.lockRef.current],(t.shards||[]).map(oA),!0).filter(Boolean);return C.forEach(function(v){return v.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),C.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var a=f.useCallback(function(C,v){if("touches"in C&&C.touches.length===2)return!s.current.allowPinchZoom;var S=wf(C),y=n.current,b="deltaX"in C?C.deltaX:y[0]-S[0],w="deltaY"in C?C.deltaY:y[1]-S[1],x,_=C.target,I=Math.abs(b)>Math.abs(w)?"h":"v";if("touches"in C&&I==="h"&&_.type==="range")return!1;var T=tA(I,_);if(!T)return!0;if(T?x=I:(x=I==="v"?"h":"v",T=tA(I,_)),!T)return!1;if(!o.current&&"changedTouches"in C&&(b||w)&&(o.current=x),!x)return!0;var A=o.current||x;return f7e(A,v,C,A==="h"?b:w,!0)},[]),l=f.useCallback(function(C){var v=C;if(!(!Wc.length||Wc[Wc.length-1]!==i)){var S="deltaY"in v?nA(v):wf(v),y=e.current.filter(function(x){return x.name===v.type&&x.target===v.target&&m7e(x.delta,S)})[0];if(y&&y.should){v.preventDefault();return}if(!y){var b=(s.current.shards||[]).map(oA).filter(Boolean).filter(function(x){return x.contains(v.target)}),w=b.length>0?a(v,b[0]):!s.current.noIsolation;w&&v.preventDefault()}}},[]),c=f.useCallback(function(C,v,S,y){var b={name:C,delta:v,target:S,should:y};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(w){return w!==b})},1)},[]),d=f.useCallback(function(C){n.current=wf(C),o.current=void 0},[]),p=f.useCallback(function(C){c(C.type,nA(C),C.target,a(C,t.lockRef.current))},[]),h=f.useCallback(function(C){c(C.type,wf(C),C.target,a(C,t.lockRef.current))},[]);f.useEffect(function(){return Wc.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Vc),document.addEventListener("touchmove",l,Vc),document.addEventListener("touchstart",d,Vc),function(){Wc=Wc.filter(function(C){return C!==i}),document.removeEventListener("wheel",l,Vc),document.removeEventListener("touchmove",l,Vc),document.removeEventListener("touchstart",d,Vc)}},[]);var m=t.removeScrollBar,g=t.inert;return f.createElement(f.Fragment,null,g?f.createElement(i,{styles:g7e(r)}):null,m?f.createElement(l7e,{gapMode:"margin"}):null)}const y7e=Zve(XN,C7e);var nH=f.forwardRef(function(t,e){return f.createElement(S3,js({},t,{ref:e,sideCar:y7e}))});nH.classNames=S3.classNames;const S7e=nH;var b7e=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},jc=new WeakMap,_f=new WeakMap,xf={},M4=0,oH=function(t){return t&&(t.host||oH(t.parentNode))},w7e=function(t,e){return e.map(function(n){if(t.contains(n))return n;var o=oH(n);return o&&t.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},_7e=function(t,e,n,o){var r=w7e(e,Array.isArray(t)?t:[t]);xf[n]||(xf[n]=new WeakMap);var i=xf[n],s=[],a=new Set,l=new Set(r),c=function(p){!p||a.has(p)||(a.add(p),c(p.parentNode))};r.forEach(c);var d=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(h){if(a.has(h))d(h);else try{var m=h.getAttribute(o),g=m!==null&&m!=="false",C=(jc.get(h)||0)+1,v=(i.get(h)||0)+1;jc.set(h,C),i.set(h,v),s.push(h),C===1&&g&&_f.set(h,!0),v===1&&h.setAttribute(n,"true"),g||h.setAttribute(o,"true")}catch(S){console.error("aria-hidden: cannot operate on ",h,S)}})};return d(e),a.clear(),M4++,function(){s.forEach(function(p){var h=jc.get(p)-1,m=i.get(p)-1;jc.set(p,h),i.set(p,m),h||(_f.has(p)||p.removeAttribute(o),_f.delete(p)),m||p.removeAttribute(n)}),M4--,M4||(jc=new WeakMap,jc=new WeakMap,_f=new WeakMap,xf={})}},x7e=function(t,e,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(t)?t:[t]),r=e||b7e(t);return r?(o.push.apply(o,Array.from(r.querySelectorAll("[aria-live]"))),_7e(o,r,n,"aria-hidden")):function(){return null}};const rH="Dialog",[iH,BZe]=gve(rH),[A7e,Rc]=iH(rH),T7e=t=>{const{__scopeDialog:e,children:n,open:o,defaultOpen:r,onOpenChange:i,modal:s=!0}=t,a=f.useRef(null),l=f.useRef(null),[c=!1,d]=Sve({prop:o,defaultProp:r,onChange:i});return f.createElement(A7e,{scope:e,triggerRef:a,contentRef:l,contentId:T4(),titleId:T4(),descriptionId:T4(),open:c,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(p=>!p),[d]),modal:s},n)},sH="DialogPortal",[I7e,aH]=iH(sH,{forceMount:void 0}),E7e=t=>{const{__scopeDialog:e,forceMount:n,children:o,container:r}=t,i=Rc(sH,e);return f.createElement(I7e,{scope:e,forceMount:n},f.Children.map(o,s=>f.createElement(y3,{present:n||i.open},f.createElement(Vve,{asChild:!0,container:r},s))))},p7="DialogOverlay",k7e=f.forwardRef((t,e)=>{const n=aH(p7,t.__scopeDialog),{forceMount:o=n.forceMount,...r}=t,i=Rc(p7,t.__scopeDialog);return i.modal?f.createElement(y3,{present:o||i.open},f.createElement(R7e,no({},r,{ref:e}))):null}),R7e=f.forwardRef((t,e)=>{const{__scopeDialog:n,...o}=t,r=Rc(p7,n);return f.createElement(S7e,{as:O9,allowPinchZoom:!0,shards:[r.contentRef]},f.createElement(C3.div,no({"data-state":cH(r.open)},o,{ref:e,style:{pointerEvents:"auto",...o.style}})))}),fh="DialogContent",P7e=f.forwardRef((t,e)=>{const n=aH(fh,t.__scopeDialog),{forceMount:o=n.forceMount,...r}=t,i=Rc(fh,t.__scopeDialog);return f.createElement(y3,{present:o||i.open},i.modal?f.createElement(L7e,no({},r,{ref:e})):f.createElement(M7e,no({},r,{ref:e})))}),L7e=f.forwardRef((t,e)=>{const n=Rc(fh,t.__scopeDialog),o=f.useRef(null),r=F1(e,n.contentRef,o);return f.useEffect(()=>{const i=o.current;if(i)return x7e(i)},[]),f.createElement(lH,no({},t,{ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:bd(t.onCloseAutoFocus,i=>{var s;i.preventDefault(),(s=n.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:bd(t.onPointerDownOutside,i=>{const s=i.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&i.preventDefault()}),onFocusOutside:bd(t.onFocusOutside,i=>i.preventDefault())}))}),M7e=f.forwardRef((t,e)=>{const n=Rc(fh,t.__scopeDialog),o=f.useRef(!1);return f.createElement(lH,no({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{var i;if((i=t.onCloseAutoFocus)===null||i===void 0||i.call(t,r),!r.defaultPrevented){var s;o.current||(s=n.triggerRef.current)===null||s===void 0||s.focus(),r.preventDefault()}o.current=!1},onInteractOutside:r=>{var i,s;(i=t.onInteractOutside)===null||i===void 0||i.call(t,r),r.defaultPrevented||(o.current=!0);const a=r.target;((s=n.triggerRef.current)===null||s===void 0?void 0:s.contains(a))&&r.preventDefault()}}))}),lH=f.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:o,onOpenAutoFocus:r,onCloseAutoFocus:i,...s}=t,a=Rc(fh,n),l=f.useRef(null),c=F1(e,l);return Uve(),f.createElement(f.Fragment,null,f.createElement(Ove,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:r,onUnmountAutoFocus:i},f.createElement(Pve,no({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":cH(a.open)},s,{ref:c,onDismiss:()=>a.onOpenChange(!1)}))),!1)});function cH(t){return t?"open":"closed"}const O7e=T7e,D7e=E7e,F7e=k7e,N7e=P7e;var H7e='[cmdk-list-sizer=""]',dp='[cmdk-group=""]',O4='[cmdk-group-items=""]',B7e='[cmdk-group-heading=""]',F9='[cmdk-item=""]',rA=`${F9}:not([aria-disabled="true"])`,h7="cmdk-item-select",Zi="data-value",z7e=(t,e)=>fve(t,e),dH=f.createContext(void 0),N1=()=>f.useContext(dH),uH=f.createContext(void 0),N9=()=>f.useContext(uH),pH=f.createContext(void 0),hH=f.forwardRef((t,e)=>{let n=f.useRef(null),o=ed(()=>{var N,W,B;return{search:"",value:(B=(W=t.value)!=null?W:(N=t.defaultValue)==null?void 0:N.toLowerCase())!=null?B:"",filtered:{count:0,items:new Map,groups:new Set}}}),r=ed(()=>new Set),i=ed(()=>new Map),s=ed(()=>new Map),a=ed(()=>new Set),l=fH(t),{label:c,children:d,value:p,onValueChange:h,filter:m,shouldFilter:g,vimBindings:C=!0,...v}=t,S=f.useId(),y=f.useId(),b=f.useId(),w=Y7e();Uu(()=>{if(p!==void 0){let N=p.trim().toLowerCase();o.current.value=N,w(6,R),x.emit()}},[p]);let x=f.useMemo(()=>({subscribe:N=>(a.current.add(N),()=>a.current.delete(N)),snapshot:()=>o.current,setState:(N,W,B)=>{var $,q,X;if(!Object.is(o.current[N],W)){if(o.current[N]=W,N==="search")k(),T(),w(1,A);else if(N==="value")if((($=l.current)==null?void 0:$.value)!==void 0){let ee=W??"";(X=(q=l.current).onValueChange)==null||X.call(q,ee);return}else B||w(5,R);x.emit()}},emit:()=>{a.current.forEach(N=>N())}}),[]),_=f.useMemo(()=>({value:(N,W)=>{W!==s.current.get(N)&&(s.current.set(N,W),o.current.filtered.items.set(N,I(W)),w(2,()=>{T(),x.emit()}))},item:(N,W)=>(r.current.add(N),W&&(i.current.has(W)?i.current.get(W).add(N):i.current.set(W,new Set([N]))),w(3,()=>{k(),T(),o.current.value||A(),x.emit()}),()=>{s.current.delete(N),r.current.delete(N),o.current.filtered.items.delete(N);let B=M();w(4,()=>{k(),(B==null?void 0:B.getAttribute("id"))===N&&A(),x.emit()})}),group:N=>(i.current.has(N)||i.current.set(N,new Set),()=>{s.current.delete(N),i.current.delete(N)}),filter:()=>l.current.shouldFilter,label:c||t["aria-label"],commandRef:n,listId:S,inputId:b,labelId:y}),[]);function I(N){var W,B;let $=(B=(W=l.current)==null?void 0:W.filter)!=null?B:z7e;return N?$(N,o.current.search):0}function T(){if(!n.current||!o.current.search||l.current.shouldFilter===!1)return;let N=o.current.filtered.items,W=[];o.current.filtered.groups.forEach($=>{let q=i.current.get($),X=0;q.forEach(ee=>{let ue=N.get(ee);X=Math.max(ue,X)}),W.push([$,X])});let B=n.current.querySelector(H7e);D().sort(($,q)=>{var X,ee;let ue=$.getAttribute(Zi),se=q.getAttribute(Zi);return((X=N.get(se))!=null?X:0)-((ee=N.get(ue))!=null?ee:0)}).forEach($=>{let q=$.closest(O4);q?q.appendChild($.parentElement===q?$:$.closest(`${O4} > *`)):B.appendChild($.parentElement===B?$:$.closest(`${O4} > *`))}),W.sort(($,q)=>q[1]-$[1]).forEach($=>{let q=n.current.querySelector(`${dp}[${Zi}="${$[0]}"]`);q==null||q.parentElement.appendChild(q)})}function A(){let N=D().find(B=>!B.ariaDisabled),W=N==null?void 0:N.getAttribute(Zi);x.setState("value",W||void 0)}function k(){if(!o.current.search||l.current.shouldFilter===!1){o.current.filtered.count=r.current.size;return}o.current.filtered.groups=new Set;let N=0;for(let W of r.current){let B=s.current.get(W),$=I(B);o.current.filtered.items.set(W,$),$>0&&N++}for(let[W,B]of i.current)for(let $ of B)if(o.current.filtered.items.get($)>0){o.current.filtered.groups.add(W);break}o.current.filtered.count=N}function R(){var N,W,B;let $=M();$&&(((N=$.parentElement)==null?void 0:N.firstChild)===$&&((B=(W=$.closest(dp))==null?void 0:W.querySelector(B7e))==null||B.scrollIntoView({block:"nearest"})),$.scrollIntoView({block:"nearest"}))}function M(){var N;return(N=n.current)==null?void 0:N.querySelector(`${F9}[aria-selected="true"]`)}function D(){return Array.from(n.current.querySelectorAll(rA))}function F(N){let W=D()[N];W&&x.setState("value",W.getAttribute(Zi))}function z(N){var W;let B=M(),$=D(),q=$.findIndex(ee=>ee===B),X=$[q+N];(W=l.current)!=null&&W.loop&&(X=q+N<0?$[$.length-1]:q+N===$.length?$[0]:$[q+N]),X&&x.setState("value",X.getAttribute(Zi))}function j(N){let W=M(),B=W==null?void 0:W.closest(dp),$;for(;B&&!$;)B=N>0?Z7e(B,dp):Q7e(B,dp),$=B==null?void 0:B.querySelector(rA);$?x.setState("value",$.getAttribute(Zi)):z(N)}let H=()=>F(D().length-1),O=N=>{N.preventDefault(),N.metaKey?H():N.altKey?j(1):z(1)},U=N=>{N.preventDefault(),N.metaKey?F(0):N.altKey?j(-1):z(-1)};return f.createElement("div",{ref:H1([n,e]),...v,"cmdk-root":"",onKeyDown:N=>{var W;if((W=v.onKeyDown)==null||W.call(v,N),!N.defaultPrevented)switch(N.key){case"n":case"j":{C&&N.ctrlKey&&O(N);break}case"ArrowDown":{O(N);break}case"p":case"k":{C&&N.ctrlKey&&U(N);break}case"ArrowUp":{U(N);break}case"Home":{N.preventDefault(),F(0);break}case"End":{N.preventDefault(),H();break}case"Enter":if(!N.nativeEvent.isComposing){N.preventDefault();let B=M();if(B){let $=new Event(h7);B.dispatchEvent($)}}}}},f.createElement("label",{"cmdk-label":"",htmlFor:_.inputId,id:_.labelId,style:X7e},c),f.createElement(uH.Provider,{value:x},f.createElement(dH.Provider,{value:_},d)))}),V7e=f.forwardRef((t,e)=>{var n,o;let r=f.useId(),i=f.useRef(null),s=f.useContext(pH),a=N1(),l=fH(t),c=(o=(n=l.current)==null?void 0:n.forceMount)!=null?o:s==null?void 0:s.forceMount;Uu(()=>a.item(r,s==null?void 0:s.id),[]);let d=mH(r,i,[t.value,t.children,i]),p=N9(),h=Ul(x=>x.value&&x.value===d.current),m=Ul(x=>c||a.filter()===!1?!0:x.search?x.filtered.items.get(r)>0:!0);f.useEffect(()=>{let x=i.current;const _=()=>g("Enter");if(!(!x||t.disabled))return x.addEventListener(h7,_),()=>x.removeEventListener(h7,_)},[m,t.onSelect,t.disabled]);function g(x){var _,I;C(),(I=(_=l.current).onSelect)==null||I.call(_,d.current,x)}function C(){p.setState("value",d.current,!0)}if(!m)return null;let{disabled:v,value:S,onSelect:y,forceMount:b,...w}=t;return f.createElement("div",{ref:H1([i,e]),...w,id:r,"cmdk-item":"",role:"option","aria-disabled":v||void 0,"aria-selected":h||void 0,"data-disabled":v||void 0,"data-selected":h||void 0,onPointerMove:v?void 0:C,onClick:()=>v?void 0:g("Click")},t.children)}),W7e=f.forwardRef((t,e)=>{let{heading:n,children:o,forceMount:r,...i}=t,s=f.useId(),a=f.useRef(null),l=f.useRef(null),c=f.useId(),d=N1(),p=Ul(g=>r||d.filter()===!1?!0:g.search?g.filtered.groups.has(s):!0);Uu(()=>d.group(s),[]),mH(s,a,[t.value,t.heading,l]);let h=f.useMemo(()=>({id:s,forceMount:r}),[r]),m=f.createElement(pH.Provider,{value:h},o);return f.createElement("div",{ref:H1([a,e]),...i,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},n&&f.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),f.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},m))}),j7e=f.forwardRef((t,e)=>{let{alwaysRender:n,...o}=t,r=f.useRef(null),i=Ul(s=>!s.search);return!n&&!i?null:f.createElement("div",{ref:H1([r,e]),...o,"cmdk-separator":"",role:"separator"})}),U7e=f.forwardRef((t,e)=>{let{onValueChange:n,...o}=t,r=t.value!=null,i=N9(),s=Ul(d=>d.search),a=Ul(d=>d.value),l=N1(),c=f.useMemo(()=>{var d;let p=(d=l.commandRef.current)==null?void 0:d.querySelector(`${F9}[${Zi}="${a}"]`);return p==null?void 0:p.getAttribute("id")},[a,l.commandRef]);return f.useEffect(()=>{t.value!=null&&i.setState("search",t.value)},[t.value]),f.createElement("input",{ref:e,...o,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":c,id:l.inputId,type:"text",value:r?t.value:s,onChange:d=>{r||i.setState("search",d.target.value),n==null||n(d.target.value)}})}),$7e=f.forwardRef((t,e)=>{let{children:n,...o}=t,r=f.useRef(null),i=f.useRef(null),s=N1();return f.useEffect(()=>{if(i.current&&r.current){let a=i.current,l=r.current,c,d=new ResizeObserver(()=>{c=requestAnimationFrame(()=>{let p=a.offsetHeight;l.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return d.observe(a),()=>{cancelAnimationFrame(c),d.unobserve(a)}}},[]),f.createElement("div",{ref:H1([r,e]),...o,"cmdk-list":"",role:"listbox","aria-label":"Suggestions",id:s.listId,"aria-labelledby":s.inputId},f.createElement("div",{ref:i,"cmdk-list-sizer":""},n))}),q7e=f.forwardRef((t,e)=>{let{open:n,onOpenChange:o,overlayClassName:r,contentClassName:i,container:s,...a}=t;return f.useEffect(()=>{if(n){let l=setTimeout(()=>{document.body.style.pointerEvents=""},0);return()=>clearTimeout(l)}else document.body.style.pointerEvents="auto"},[n]),f.createElement(O7e,{open:n,onOpenChange:o},f.createElement(D7e,{container:s},f.createElement(F7e,{"cmdk-overlay":"",className:r}),f.createElement(N7e,{"aria-label":t.label,"cmdk-dialog":"",className:i},f.createElement(hH,{ref:e,...a}))))}),G7e=f.forwardRef((t,e)=>{let n=f.useRef(!0),o=Ul(r=>r.filtered.count===0);return f.useEffect(()=>{n.current=!1},[]),n.current||!o?null:f.createElement("div",{ref:e,...t,"cmdk-empty":"",role:"presentation"})}),K7e=f.forwardRef((t,e)=>{let{progress:n,children:o,...r}=t;return f.createElement("div",{ref:e,...r,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Loading..."},f.createElement("div",{"aria-hidden":!0},o))}),b3=Object.assign(hH,{List:$7e,Item:V7e,Input:U7e,Group:W7e,Separator:j7e,Dialog:q7e,Empty:G7e,Loading:K7e});function Z7e(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function Q7e(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function fH(t){let e=f.useRef(t);return Uu(()=>{e.current=t}),e}var Uu=typeof window>"u"?f.useEffect:f.useLayoutEffect;function ed(t){let e=f.useRef();return e.current===void 0&&(e.current=t()),e}function H1(t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}function Ul(t){let e=N9(),n=()=>t(e.snapshot());return f.useSyncExternalStore(e.subscribe,n,n)}function mH(t,e,n){let o=f.useRef(),r=N1();return Uu(()=>{var i;let s=(()=>{var a;for(let l of n){if(typeof l=="string")return l.trim().toLowerCase();if(typeof l=="object"&&"current"in l)return l.current?(a=l.current.textContent)==null?void 0:a.trim().toLowerCase():o.current}})();r.value(t,s),(i=e.current)==null||i.setAttribute(Zi,s),o.current=s}),o}var Y7e=()=>{let[t,e]=f.useState(),n=ed(()=>new Map);return Uu(()=>{n.current.forEach(o=>o()),n.current=new Map},[t]),(o,r)=>{n.current.set(o,r),e({})}},X7e={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};let pr;typeof window<"u"?pr=window:typeof self<"u"?pr=self:pr=global;let f7=null,m7=null;const iA=20,D4=pr.clearTimeout,sA=pr.setTimeout,F4=pr.cancelAnimationFrame||pr.mozCancelAnimationFrame||pr.webkitCancelAnimationFrame,aA=pr.requestAnimationFrame||pr.mozRequestAnimationFrame||pr.webkitRequestAnimationFrame;F4==null||aA==null?(f7=D4,m7=function(e){return sA(e,iA)}):(f7=function([e,n]){F4(e),D4(n)},m7=function(e){const n=aA(function(){D4(o),e()}),o=sA(function(){F4(n),e()},iA);return[n,o]});function J7e(t){let e,n,o,r,i,s,a;const l=typeof document<"u"&&document.attachEvent;if(!l){s=function(S){const y=S.__resizeTriggers__,b=y.firstElementChild,w=y.lastElementChild,x=b.firstElementChild;w.scrollLeft=w.scrollWidth,w.scrollTop=w.scrollHeight,x.style.width=b.offsetWidth+1+"px",x.style.height=b.offsetHeight+1+"px",b.scrollLeft=b.scrollWidth,b.scrollTop=b.scrollHeight},i=function(S){return S.offsetWidth!==S.__resizeLast__.width||S.offsetHeight!==S.__resizeLast__.height},a=function(S){if(S.target.className&&typeof S.target.className.indexOf=="function"&&S.target.className.indexOf("contract-trigger")<0&&S.target.className.indexOf("expand-trigger")<0)return;const y=this;s(this),this.__resizeRAF__&&f7(this.__resizeRAF__),this.__resizeRAF__=m7(function(){i(y)&&(y.__resizeLast__.width=y.offsetWidth,y.__resizeLast__.height=y.offsetHeight,y.__resizeListeners__.forEach(function(x){x.call(y,S)}))})};let h=!1,m="";o="animationstart";const g="Webkit Moz O ms".split(" ");let C="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),v="";{const S=document.createElement("fakeelement");if(S.style.animationName!==void 0&&(h=!0),h===!1){for(let y=0;y<g.length;y++)if(S.style[g[y]+"AnimationName"]!==void 0){v=g[y],m="-"+v.toLowerCase()+"-",o=C[y],h=!0;break}}}n="resizeanim",e="@"+m+"keyframes "+n+" { from { opacity: 0; } to { opacity: 0; } } ",r=m+"animation: 1ms "+n+"; "}const c=function(h){if(!h.getElementById("detectElementResize")){const m=(e||"")+".resize-triggers { "+(r||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',g=h.head||h.getElementsByTagName("head")[0],C=h.createElement("style");C.id="detectElementResize",C.type="text/css",t!=null&&C.setAttribute("nonce",t),C.styleSheet?C.styleSheet.cssText=m:C.appendChild(h.createTextNode(m)),g.appendChild(C)}};return{addResizeListener:function(h,m){if(l)h.attachEvent("onresize",m);else{if(!h.__resizeTriggers__){const g=h.ownerDocument,C=pr.getComputedStyle(h);C&&C.position==="static"&&(h.style.position="relative"),c(g),h.__resizeLast__={},h.__resizeListeners__=[],(h.__resizeTriggers__=g.createElement("div")).className="resize-triggers";const v=g.createElement("div");v.className="expand-trigger",v.appendChild(g.createElement("div"));const S=g.createElement("div");S.className="contract-trigger",h.__resizeTriggers__.appendChild(v),h.__resizeTriggers__.appendChild(S),h.appendChild(h.__resizeTriggers__),s(h),h.addEventListener("scroll",a,!0),o&&(h.__resizeTriggers__.__animationListener__=function(b){b.animationName===n&&s(h)},h.__resizeTriggers__.addEventListener(o,h.__resizeTriggers__.__animationListener__))}h.__resizeListeners__.push(m)}},removeResizeListener:function(h,m){if(l)h.detachEvent("onresize",m);else if(h.__resizeListeners__.splice(h.__resizeListeners__.indexOf(m),1),!h.__resizeListeners__.length){h.removeEventListener("scroll",a,!0),h.__resizeTriggers__.__animationListener__&&(h.__resizeTriggers__.removeEventListener(o,h.__resizeTriggers__.__animationListener__),h.__resizeTriggers__.__animationListener__=null);try{h.__resizeTriggers__=!h.removeChild(h.__resizeTriggers__)}catch{}}}}}let e8e=class extends f.Component{constructor(...e){super(...e),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:n,disableWidth:o,onResize:r}=this.props;if(this._parentNode){const i=window.getComputedStyle(this._parentNode)||{},s=parseFloat(i.paddingLeft||"0"),a=parseFloat(i.paddingRight||"0"),l=parseFloat(i.paddingTop||"0"),c=parseFloat(i.paddingBottom||"0"),d=this._parentNode.getBoundingClientRect(),p=d.height-l-c,h=d.width-s-a,m=this._parentNode.offsetHeight-l-c,g=this._parentNode.offsetWidth-s-a;(!n&&(this.state.height!==m||this.state.scaledHeight!==p)||!o&&(this.state.width!==g||this.state.scaledWidth!==h))&&(this.setState({height:m,width:g,scaledHeight:p,scaledWidth:h}),typeof r=="function"&&r({height:m,scaledHeight:p,scaledWidth:h,width:g}))}},this._setRef=n=>{this._autoSizer=n}}componentDidMount(){const{nonce:e}=this.props,n=this._autoSizer?this._autoSizer.parentNode:null;if(n!=null&&n.ownerDocument&&n.ownerDocument.defaultView&&n instanceof n.ownerDocument.defaultView.HTMLElement){this._parentNode=n;const o=n.ownerDocument.defaultView.ResizeObserver;o!=null?(this._resizeObserver=new o(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(n)):(this._detectElementResize=J7e(e),this._detectElementResize.addResizeListener(n,this._onResize)),this._onResize()}}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&this._resizeObserver.disconnect())}render(){const{children:e,defaultHeight:n,defaultWidth:o,disableHeight:r=!1,disableWidth:i=!1,doNotBailOutOnEmptyChildren:s=!1,nonce:a,onResize:l,style:c={},tagName:d="div",...p}=this.props,{height:h,scaledHeight:m,scaledWidth:g,width:C}=this.state,v={overflow:"visible"},S={};let y=!1;return r||(h===0&&(y=!0),v.height=0,S.height=h,S.scaledHeight=m),i||(C===0&&(y=!0),v.width=0,S.width=C,S.scaledWidth=g),s&&(y=!1),f.createElement(d,{ref:this._setRef,style:{...v,...c},...p},!y&&e(S))}};function t8e({themeColorsState:t}){const{terminalColors:e,isLightBackground:n}=$8(),{cx:o,classes:r}=n8e();return o(e,r.root,r[t],{[r.lightTerminal]:n&&t==="terminal"})}const Ct={dividerColor:yn("--divider-color"),toolbarDividerColor:yn("--toolbar-divider-color"),scrollColor:yn("--scroll-color"),mainColor:yn("--cmd-pallet-main-color"),foregroundColor:yn("--cmd-pallet-foreground-color"),headerColor:yn("--cmd-pallet-header-color"),dialogBackground:yn("--main-dialog-background-color"),dialogShadowOpacity:yn("--main-shadow-opacity"),helperColor:yn("--cmd-pallet-helper-color"),searchIconOpacity:yn("--search-icon-opacity"),searchBackgroundColor:yn("--search-background-color"),backgroundColorHover:yn("--background-color-hover"),toolbarColor:yn("--toolbar-color"),itemBackgroundColor:yn("--item-background-color"),shortcutIconOpacity:yn("--shortcut-icon-opacity"),info:yn("--mark-color-info"),warning:yn("--mark-color-warning"),critical:yn("--mark-color-critical")},{dividerColor:Af,toolbarDividerColor:lA,scrollColor:N4,mainColor:cA,foregroundColor:H4,headerColor:dA,dialogBackground:Tf,dialogShadowOpacity:If,helperColor:B4,searchIconOpacity:z4,searchBackgroundColor:V4,backgroundColorHover:W4,toolbarColor:j4,itemBackgroundColor:U4,shortcutIconOpacity:$4}=Ct,n8e=K()({root:{[Af.name]:"var(--light-grey-5)",[lA.name]:Af.value,[N4.name]:"var(--scrollbar-thumb-color)",[cA.name]:"var(--secondary)",[H4.name]:"var(--dark-grey-1)",[dA.name]:"var(--secondary)",[Tf.name]:"var(--light-grey-7)",[If.name]:.15,[B4.name]:"var(--secondary)",[z4.name]:.3,[V4.name]:"var(--light-grey-transparent-20)",[W4.name]:"var(--light-grey-transparent-35)",[j4.name]:"var(--dark-grey-1)",[U4.name]:"var(--light-grey-6)",[$4.name]:1,[Ct.info.name]:"var(--green)",[Ct.warning.name]:"var(--yellow)",[Ct.critical.name]:"var(--error-medium)",".termius-dark-theme &, &.termius-dark-theme":{[Af.name]:"var(--dark-grey-transparent-10)",[lA.name]:"var(--dark-grey-transparent-20)",[N4.name]:"var(--dark-grey-transparent-45)",[H4.name]:"var(--green)",[Tf.name]:"linear-gradient(0deg, var(--dark-grey-transparent-15) 0%, var(--dark-grey-transparent-15) 100%), var(--dark-grey-1)",[If.name]:.3,[B4.name]:"var(--dark-grey-transparent-60)",[z4.name]:1,[V4.name]:"var(--dark-grey-transparent-20)",[W4.name]:"var(--dark-grey-transparent-35)",[j4.name]:"var(--dark-grey-7)",[U4.name]:"var(--dark-grey-transparent-20)",[$4.name]:.5}},terminal:{"&, .termius-dark-theme &, &.termius-dark-theme":{[Af.name]:Q.uiColorA20,[N4.name]:Q.uiColorA45,[cA.name]:Q.uiColor,[H4.name]:Q.foregroundColor,[dA.name]:Q.uiColorA70,[Tf.name]:`linear-gradient(0deg, ${Q.uiColorA15} 0%, ${Q.uiColorA15}  100%), ${Q.backgroundColor}`,[If.name]:.15,[B4.name]:Q.uiColorA60,[z4.name]:1,[V4.name]:Q.uiColorA20,[W4.name]:Q.uiColorA35,[j4.name]:Q.uiColor,[U4.name]:Q.uiColorA20,[$4.name]:.5,[Ct.info.name]:Q.paletteColorGreen,[Ct.warning.name]:Q.paletteColorYellow,[Ct.critical.name]:Q.paletteColorRed}},lightTerminal:{"&, .termius-dark-theme &, &.termius-dark-theme":{[Tf.name]:`linear-gradient(0deg, ${Q.uiColorA25} 0%, ${Q.uiColorA25}  100%), ${Q.backgroundColor}`,[If.name]:.05}},vaultTab:{},connectionFlow:{}}),gH=(t,e)=>{let n=0,o=e;const r=wy(t,"length");for(;o>=t[n].length;)o-=t[n].length,n+=1;const i=o===0,s=e===r-1;return{groupIndex:n,isLastListItem:s,itemIndexInGroup:o,isItemWithGroupHeader:i}},pm={GROUP_HEADER_DIVIDER:80,GROUP_HEADER:59,ITEM:33},o8e=t=>e=>{if(e===0)return pm.GROUP_HEADER;const{isItemWithGroupHeader:n}=gH(t,e);return n?pm.GROUP_HEADER_DIVIDER:pm.ITEM},r8e=(t,e)=>f.createElement("svg",{width:14,height:9,fill:"currentColor",viewBox:"0 0 14 9",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M7.00002 8.89459C10.9112 8.89459 13.6162 5.73053 13.6162 4.7442C13.6162 3.75299 10.9063 0.593811 7.00002 0.593811C3.13772 0.593811 0.378927 3.75299 0.378927 4.7442C0.378927 5.73053 3.13772 8.89459 7.00002 8.89459ZM7.00002 7.46393C5.47658 7.46393 4.27053 6.22858 4.26565 4.7442C4.26076 3.22076 5.47658 2.02448 7.00002 2.02448C8.50881 2.02448 9.72951 3.22076 9.72951 4.7442C9.72951 6.22858 8.50881 7.46393 7.00002 7.46393ZM7.00002 5.72565C7.54201 5.72565 7.99123 5.28131 7.99123 4.7442C7.99123 4.20221 7.54201 3.75787 7.00002 3.75787C6.45315 3.75787 6.00393 4.20221 6.00393 4.7442C6.00393 5.28131 6.45315 5.72565 7.00002 5.72565Z"})),i8e=f.forwardRef(r8e),s8e=f.memo(i8e),a8e=K()({root:{flex:"none",width:"20px",height:"20px",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"5px",backgroundColor:"#454A57",color:"inherit"}}),H9=({children:t,className:e})=>{const{classes:n,cx:o}=a8e();return u("div",{className:o(n.root,e),children:t})};H9.defaultProps={className:""};const l8e=(t,e)=>f.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:14,height:14,viewBox:"0 0 14 14",fill:"none",ref:e,...t},f.createElement("g",{clipPath:"url(#clip0_635_5944)"},f.createElement("path",{d:"M13.1001 0.908187C12.3154 0.123144 11.2077 0 9.89233 0H4.08463C2.79231 0 1.68462 0.123144 0.900003 0.908187C0.115385 1.69324 0 2.79384 0 4.07916V9.89774C0 11.2138 0.115385 12.3067 0.900003 13.0918C1.68462 13.8768 2.79231 14 4.10001 14H9.89233C11.2077 14 12.3154 13.8768 13.1001 13.0918C13.8847 12.3067 14 11.2138 14 9.89774V4.10225C14 2.78614 13.8847 1.68554 13.1001 0.908187ZM3.24616 7.01153C3.24616 6.61131 3.52309 6.33424 3.93077 6.33424H6.33848V3.92523C6.33848 3.52501 6.60002 3.24024 6.99232 3.24024C7.39233 3.24024 7.66925 3.52501 7.66925 3.92523V6.33424H10.0846C10.477 6.33424 10.7616 6.61131 10.7616 7.01153C10.7616 7.40406 10.477 7.66574 10.0846 7.66574H7.66925V10.0825C7.66925 10.4827 7.39233 10.7597 6.99232 10.7597C6.60002 10.7597 6.33848 10.475 6.33848 10.0825V7.66574H3.93077C3.53078 7.66574 3.24616 7.40406 3.24616 7.01153Z",fill:"currentColor"})),f.createElement("defs",null,f.createElement("clipPath",{id:"clip0_635_5944"},f.createElement("rect",{width:14,height:14,fill:"white"})))),c8e=f.forwardRef(l8e),vH=f.memo(c8e),CH=2500,q4=CH/5,d8e=({className:t,spinnerContainerClassName:e,children:n,status:o="pending"})=>{const{classes:r,cx:i}=h8e(),[s,a]=f.useState(!1);return f.useEffect(()=>{o==="auto"&&a(!0)},[o]),L("div",{className:i(r.spinnerContainer,e),children:[!!o&&u("div",{className:i(r.spinner,{[r[o]]:o!=="auto",[r.auto]:s},t),onAnimationEnd:l=>{l.animationName===yH.name&&a(!1)},children:u("svg",{viewBox:"0 0 20 20",width:"100px",height:"100px",fill:"none",children:u("path",{d:"M5 0.5H14.9995C17.4848 0.5 19.4995 2.51472 19.4995 5V15C19.4995 17.4853 17.4848 19.5 14.9995 19.5H5C2.51472 19.5 0.5 17.4853 0.5 15V5C0.5 2.51472 2.51472 0.5 5 0.5Z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2px"})})}),u("div",{className:r.children,children:n})]})},u8e=jr({"0%":{strokeDasharray:"8 60"},"100%":{strokeDasharray:"68 0"},[q8()]:{}}),yH=jr({"0%":{opacity:1},"100%":{opacity:0},[q8()]:{}}),p8e=jr({"0%":{strokeDashoffset:0},"100%":{strokeDashoffset:-68},[q8()]:{}}),h8e=K()({spinnerContainer:{display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},children:{zIndex:1,position:"relative"},spinner:{top:"-3%",left:"-7%",width:"114%",height:"112%",overflow:"hidden",position:"absolute",opacity:0,"& svg":{width:"100%",height:"100%",strokeDasharray:"8 60",strokeDashoffset:"0",animation:`${p8e} 1s linear infinite`}},pending:{animation:`${Od} 0.5s forwards ease`},success:{},error:{"&:before":{background:"var(--red)"}},auto:{animation:`${Od} 0ms forwards ease, ${yH} ${q4}ms ${CH-q4}ms forwards ease`,"& path":{animation:`${u8e} ${q4}ms 1s ease-in-out forwards`}}}),f8e=f.memo(d8e);function m8e(t){return fq("MuiBadge",t)}const g8e=hq("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),Ns=g8e,v8e=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],G4=10,K4=4,C8e=t=>{const{color:e,anchorOrigin:n,invisible:o,overlap:r,variant:i,classes:s={}}=t,a={root:["root"],badge:["badge",i,o&&"invisible",`anchorOrigin${Tr(n.vertical)}${Tr(n.horizontal)}`,`anchorOrigin${Tr(n.vertical)}${Tr(n.horizontal)}${Tr(r)}`,`overlap${Tr(r)}`,e!=="default"&&`color${Tr(e)}`]};return vq(a,m8e,s)},y8e=tR("span",{name:"MuiBadge",slot:"Root",overridesResolver:(t,e)=>e.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),S8e=tR("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.badge,e[n.variant],e[`anchorOrigin${Tr(n.anchorOrigin.vertical)}${Tr(n.anchorOrigin.horizontal)}${Tr(n.overlap)}`],n.color!=="default"&&e[`color${Tr(n.color)}`],n.invisible&&e.invisible]}})(({theme:t,ownerState:e})=>$f({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:G4*2,lineHeight:1,padding:"0 6px",height:G4*2,borderRadius:G4,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen})},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.variant==="dot"&&{borderRadius:K4,height:K4*2,minWidth:K4*2,padding:0},e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular"&&{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Ns.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular"&&{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Ns.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular"&&{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Ns.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular"&&{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Ns.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular"&&{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Ns.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular"&&{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Ns.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular"&&{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Ns.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular"&&{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Ns.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},e.invisible&&{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})})),b8e=f.forwardRef(function(e,n){var o,r,i,s,a,l;const c=mq({props:e,name:"MuiBadge"}),{anchorOrigin:d={vertical:"top",horizontal:"right"},className:p,component:h,components:m={},componentsProps:g={},children:C,overlap:v="rectangular",color:S="default",invisible:y=!1,max:b=99,badgeContent:w,slots:x,slotProps:_,showZero:I=!1,variant:T="standard"}=c,A=gq(c,v8e),{badgeContent:k,invisible:R,max:M,displayValue:D}=Fee({max:b,invisible:y,badgeContent:w,showZero:I}),F=qE({anchorOrigin:d,color:S,overlap:v,variant:T,badgeContent:w}),z=R||k==null&&T!=="dot",{color:j=S,overlap:H=v,anchorOrigin:O=d,variant:U=T}=z?F:c,N=U!=="dot"?D:void 0,W=$f({},c,{badgeContent:k,invisible:z,max:M,displayValue:N,showZero:I,anchorOrigin:O,color:j,overlap:H,variant:U}),B=C8e(W),$=(o=(r=x==null?void 0:x.root)!=null?r:m.Root)!=null?o:y8e,q=(i=(s=x==null?void 0:x.badge)!=null?s:m.Badge)!=null?i:S8e,X=(a=_==null?void 0:_.root)!=null?a:g.root,ee=(l=_==null?void 0:_.badge)!=null?l:g.badge,ue=Db({elementType:$,externalSlotProps:X,externalForwardedProps:A,additionalProps:{ref:n,as:h},ownerState:W,className:Fb(X==null?void 0:X.className,B.root,p)}),se=Db({elementType:q,externalSlotProps:ee,ownerState:W,className:Fb(B.badge,ee==null?void 0:ee.className)});return L($,$f({},ue,{children:[C,u(q,$f({},se,{children:N}))]}))}),w8e=b8e,_8e=({connectionProcess:t="connecting",hasMultiplayerNotification:e=!1,hasUnreadOutput:n=!1})=>{switch(t){case"error":return"error";case"blocked":return"secondary";case"succeeded":return e?"secondary":n?"primary":void 0;case"connecting":return;default:return t}};function B9({connectionProcess:t="connecting",hasMultiplayerNotification:e=!1,hasUnreadOutput:n=!1,children:o,className:r,variant:i="default",...s}){const{classes:a,cx:l}=x8e(),c=_8e({connectionProcess:t,hasUnreadOutput:n,hasMultiplayerNotification:e}),d=c!==void 0;return u(w8e,{invisible:!d,color:c,className:l({[a.badge]:d,[a.badgeMoreButton]:i==="moreButton"},r),variant:"dot",overlap:"rectangular",classes:a,...s,children:o})}const x8e=K()((t,e,n)=>({badge:{backgroundColor:Q.uiColorA25,borderRadius:"6px"},badgeMoreButton:{display:"flex",alignItems:"center",justifyContent:"center",width:"30px",height:"30px",borderRadius:"10px"},dot:{height:"6px",padding:0,minWidth:"6px",borderRadius:"4px",top:"2px",right:"1px",boxShadow:"0px 2px 5px var(--black-a50)",[`.${n.badgeMoreButton} &`]:{marginTop:"1px",marginRight:"2px"},[`.${n.badgeMoreButton}:hover &`]:{backgroundColor:"transparent",boxShadow:"none"}},colorPrimary:{backgroundColor:qf.info.value},colorSecondary:{backgroundColor:qf.warning.value},colorError:{backgroundColor:qf.critical.value}})),H0=f.memo(({hasMultiplayerNotification:t=!1,hasUnreadOutput:e=!1,showSpinner:n,isDetached:o,connectionProcess:r,multiplayConnectionProcess:i,iconType:s,enableAnimation:a,isActive:l,isSelected:c})=>{const d=!a,p=wH({type:s,isActive:l,hasMultiplayerNotification:t}),{classes:h}=SH(p),m={isDetached:!!o,connectionProcess:r,multiplayConnectionProcess:i,disableAnimation:d,showSpinner:!!n,isSelected:c},g=oh(m),C=A8e(g,m);return u(f8e,{className:h.rectangleSpinner,status:C,children:u(B9,{connectionProcess:r,hasMultiplayerNotification:t,hasUnreadOutput:e,children:u(E8e,{iconType:s,isActive:l,hasMultiplayerNotification:t})})})}),SH=K()((t,{color:e,background:n})=>({svgWrapper:{width:20,height:20,position:"relative",background:n,color:e,"& svg":{maxWidth:12,maxHeight:12}},rectangleSpinner:{borderRadius:"6px",top:"-3%",left:"-7%",width:"114%",height:"112%","& > svg":{color:Re.progressSpinnerColor.value}}}));function A8e(t,e){return e.multiplayConnectionProcess==="connecting"?"pending":e.isDetached||e.disableAnimation?null:(t==null?void 0:t.showSpinner)===!1&&e.showSpinner===!0?"auto":(t==null?void 0:t.showSpinner)===!0&&e.showSpinner===!1?null:(t==null?void 0:t.connectionProcess)==="connecting"&&e.connectionProcess==="succeeded"&&!e.isSelected?"auto":e.connectionProcess==="connecting"?"pending":e.connectionProcess==="blocked"?"error":null}const T8e=u(Rge,{}),I8e=new Map([["prompt",Cq.host.icon],["stream",u(s8e,{})],["session-log",u(hu,{})],["workspace",u(X2,{})],["vault-tab",u(sM,{})],["sftp",u(yy,{})],["new-tab",u(vH,{})],["snippet",u(yq,{})]]);function bH(t){if(typeof t=="string"){const e=J2[t];return e?e.icon:I8e.get(t)??T8e}return t}function wH({type:t,isActive:e,hasMultiplayerNotification:n}){if(n)return{color:Re.multiplayerAccentColor.value,background:"transparent"};if(typeof t=="string"){const o=J2[t];return e?{color:Re.systemIconColor.value,background:"transparent"}:{color:o!=null&&o.color?"var(--white)":Re.systemIconColor.value,background:(o==null?void 0:o.color)??"transparent"}}return{color:Re.systemIconColor.value,background:"transparent"}}const E8e=f.memo(({iconType:t,isActive:e,hasMultiplayerNotification:n})=>{const o=wH({type:t,isActive:e,hasMultiplayerNotification:n}),{classes:r}=SH(o);return u(H9,{className:ce(r.svgWrapper),children:bH(t)})});function k8e({onSelect:t,value:e,title:n,icon:o,tab:r}){const{classes:i}=R8e(),s=e.includes(qn.NEW_CONNECTION),a=e.includes(qn.JUMP_TO_TAB),l=(r==null?void 0:r.tabType)==="terminalTab"||(r==null?void 0:r.tabType)==="workspaceTab",c={isActive:!0,iconType:o,enableAnimation:!0,connectionProcess:"succeeded"},d=()=>l?{...c,connectionProcess:r.connectionProcess||"succeeded",hasUnreadOutput:r.hasUnreadOutput,hasMultiplayerNotification:r.hasMultiplayerNotification}:c;return L(b3.Item,{onSelect:t,value:e,className:i.root,children:[u(Ee,{className:i.iconWrapper,children:L(qt,{children:[u(xe,{when:s,children:u(Uo,{iconClassName:i.entityIcon,icon:o})}),u(xe,{when:a&&l,children:u(H0,{...d()})}),u(xe,{when:!0,children:u(H0,{...c})})]})}),u(Z,{className:i.truncate,children:n})]})}const R8e=K()((t,e)=>({root:{color:Ct.mainColor.value,display:"grid",gridTemplateColumns:"20px 1fr",gap:"10px",alignItems:"center",borderRadius:"10px",padding:"6px 10px",marginRight:"calc(10px - var(--scrollbar-width))",fontWeight:450,"&[data-selected]":{color:Ct.foregroundColor.value,background:Ct.itemBackgroundColor.value}},iconWrapper:{position:"relative",zIndex:0},entityIcon:{width:"20px",height:"20px",padding:"4px",borderRadius:"5px"},truncate:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}})),P8e=({index:t,style:e,groups:n,handleSelect:o})=>{const{classes:r}=L8e(),{groupIndex:i,itemIndexInGroup:s,isItemWithGroupHeader:a,isLastListItem:l}=gH(n,t),c=n[i].getProps(s),d=u(k8e,{...c,onSelect:(m,g)=>o({value:m,eventTrigger:g,index:t,host:c.host})});let p=null;if(a){const m=n[i].title,g=i!==0;p=L(f.Fragment,{children:[g&&u(Ee,{className:r.divider}),u(Z,{variant:"mediumBody1",className:r.groupHeader,children:m})]})}return L(Ee,{style:e,children:[p,d,l?u(Ee,{height:10}):null]})},L8e=K()({groupHeader:{padding:"0 10px 5px",background:Ct.dialogBackground.value,color:Ct.headerColor.value},divider:{height:"1px",width:"100%",margin:"10px 0",background:Ct.dividerColor.value}}),M8e=t=>[...Mn(!!t,[{key:qn.QUICK_CONNECT,icon:"connect",value:qn.QUICK_CONNECT,title:t}]),...Mn(!Md,[{key:qn.NEW_TERMINAL,icon:"local",value:qn.NEW_TERMINAL,title:"Local Terminal"}]),{key:qn.NEW_SERIAL,icon:"serial",value:qn.NEW_SERIAL,title:"Serial"}],O8e=(t,e)=>{switch(t.tabType){case"newTab":return"new-tab";case"terminalTab":case"workspaceTab":default:return e(t.id)}},D8e=({tabs:t,hosts:e,searchValue:n,getConnectionIcon:o})=>{const r=M8e(n);return[{name:h5.HOSTS,title:"Hosts",length:e.length,getProps:i=>{const s=e[i];return{key:s.local_id,value:`${qn.NEW_CONNECTION}:${s.local_id}`,title:On.label(s),icon:s.os_name,host:s}}},{name:h5.TABS,title:"Tabs",length:t.length,getProps:i=>{const s=t[i];return{key:s.id,value:`${qn.JUMP_TO_TAB}:${s.id}`,title:s.title,icon:O8e(s,o),tab:s}}},{name:h5.QUICK,title:"Quick connect",length:r.length,getProps:i=>r[i]}].filter(i=>i.length>0)},uA=new Map([["local","local"],["stream","stream"],["session-log","session-log"],["serial","serial"]]),F8e={default:"workspace",snippet:"snippet"},_H=t=>F8e[t]??"workspace";function z9(t){return t?t.protocol==="session-log"?uA.get(t.protocol):t.osName?t.osName:uA.get(t.protocol)??"prompt":"workspace"}const N8e="prompt",H8e={[Mm.VAULTS]:"vault-tab",[Mm.SFTP]:"sftp"},B8e=()=>{const t=V(s=>Zh(s,ge())),e=V(s=>Fa(s,ge())),n=lt(Mi),o=V(s=>nR(s,t)),r=V(Sq);return{getConnectionIcon:f.useCallback(s=>{const a=H8e[s];if(a!=null)return a;const l=oR(e,s);if(ha(l)){const c=t[l.terminalId],d=z8e({targetTerminal:c,multiplayerConnectionsInProcessing:r,multiplayerConnections:o});return z9(d)}if(Xn(l)){const c=Object.values(n).find(d=>d.id===l.workspaceId);return _H((c==null?void 0:c.workspaceMode)??"default")}return N8e},[t,e,n,o,r])}},z8e=({targetTerminal:t,multiplayerConnections:e,multiplayerConnectionsInProcessing:n})=>{if(!t)return;const o=e.find(i=>i.terminalConnectionId===t.connectionId),r=bq({processingConnections:n,terminalConnectionId:t.connectionId,multiplayerConnection:o});return rR({terminal:t,multiplayerConnectionProcess:r})},V8e=({groups:t,expand:e})=>{const[n,o]=f.useState(()=>Z4(t,e)),{run:r}=yM(()=>{o(Z4(t,e))},{wait:300});return f.useEffect(()=>{o(Z4(t,e))},[e,t]),D2("resize",r,{passive:!0}),{listHeight:n}},Z4=(t,e)=>{const l=window.innerHeight*.8-100,c=t.length*47-21,d=t.reduce((p,h)=>p+h.length*33,0)+c+10;return e?d>l?l:d:window.innerHeight<=560&&d>l?l:d>350?350:d},W8e=({expand:t,searchValue:e,listRef:n})=>{const{getConnectionIcon:o}=B8e(),r=V(c=>wq(c,ge(),e)),i=V(c=>_q(c,e)),s=f.useMemo(()=>D8e({tabs:r,hosts:i,searchValue:e,getConnectionIcon:o}),[o,i,e,r]),a=wy(s,"length"),{listHeight:l}=V8e({groups:s,expand:t});return f.useEffect(()=>{n.current&&n.current.resetAfterIndex(0)},[a,n]),{groups:s,itemsCount:a,listHeight:l}};function j8e(){const[t,e]=f.useState(!1),{run:n}=_u(()=>e(!1),{wait:800}),{run:o}=yM(()=>{e(!0),n()},{wait:600});return{handleScroll:o,isScrollBarVisible:t}}const U8e=({handleSelect:t,listRef:e,...n})=>{const{classes:o,cx:r}=$8e(),{handleScroll:i,isScrollBarVisible:s}=j8e(),{groups:a,itemsCount:l,listHeight:c}=W8e({...n,listRef:e});return u(e8e,{disableHeight:!0,children:({width:d})=>u(b3.List,{children:u(Dh,{ref:e,onScroll:i,className:r(o.list,{[o.scroll]:s}),width:d,height:c,itemCount:l,itemSize:o8e(a),estimatedItemSize:pm.ITEM,children:({style:p,index:h})=>u(P8e,{style:p,index:h,groups:a,handleSelect:t})})})})},$8e=K()({list:{background:Ct.dialogBackground.value,scrollPaddingBottom:"10px",scrollPaddingTop:"26px",scrollbarGutter:"stable","&::-webkit-scrollbar":{width:"var(--scrollbar-width)"},"&::-webkit-scrollbar-track":{display:"none"},"&:hover::-webkit-scrollbar-thumb":{display:"none",visibility:"hidden"},"&::-webkit-scrollbar-thumb":{display:"none",visibility:"hidden",backgroundColor:Ct.scrollColor.value,backgroundClip:"padding-box",borderRadius:"3px",borderRight:"2px solid transparent",borderLeft:"2px solid transparent"}},scroll:{"&&::-webkit-scrollbar-thumb":{display:"block",visibility:"visible"}}});var g7="data-focus-lock",xH="data-focus-lock-disabled",q8e="data-no-focus-lock",G8e="data-autofocus-inside",K8e="data-no-autofocus",Q4={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},AH=D9({},function(t){var e=t.target,n=t.currentTarget;return{target:e,currentTarget:n}}),TH=D9(),Z8e=D9(),Q8e=QN({async:!0,ssr:typeof document<"u"}),Y8e=f.createContext(void 0),X8e=[],IH=f.forwardRef(function(e,n){var o,r=f.useState(),i=r[0],s=r[1],a=f.useRef(),l=f.useRef(!1),c=f.useRef(null),d=f.useState({}),p=d[1],h=e.children,m=e.disabled,g=m===void 0?!1:m,C=e.noFocusGuards,v=C===void 0?!1:C,S=e.persistentFocus,y=S===void 0?!1:S,b=e.crossFrame,w=b===void 0?!0:b,x=e.autoFocus,_=x===void 0?!0:x;e.allowTextSelection;var I=e.group,T=e.className,A=e.whiteList,k=e.hasPositiveIndices,R=e.shards,M=R===void 0?X8e:R,D=e.as,F=D===void 0?"div":D,z=e.lockProps,j=z===void 0?{}:z,H=e.sideCar,O=e.returnFocus,U=O===void 0?!1:O,N=e.focusOptions,W=e.onActivation,B=e.onDeactivation,$=f.useState({}),q=$[0],X=f.useCallback(function(Ne){var $e=Ne.captureFocusRestore;if(!c.current){var at,ae=(at=document)==null?void 0:at.activeElement;c.current=ae,ae!==document.body&&(c.current=$e(ae))}a.current&&W&&W(a.current),l.current=!0,p()},[W]),ee=f.useCallback(function(){l.current=!1,B&&B(a.current),p()},[B]),ue=f.useCallback(function(Ne){var $e=c.current;if($e){var at=(typeof $e=="function"?$e():$e)||document.body,ae=typeof U=="function"?U(at):U;if(ae){var ze=typeof ae=="object"?ae:void 0;c.current=null,Ne?Promise.resolve().then(function(){return at.focus(ze)}):at.focus(ze)}}},[U]),se=f.useCallback(function(Ne){l.current&&AH.useMedium(Ne)},[]),ie=TH.useMedium,J=f.useCallback(function(Ne){a.current!==Ne&&(a.current=Ne,s(Ne))},[]),le=no((o={},o[xH]=g&&"disabled",o[g7]=I,o),j),ve=v!==!0,Me=ve&&v!=="tail",we=GN([n,J]),be=f.useMemo(function(){return{observed:a,shards:M,enabled:!g,active:l.current}},[g,l.current,M,i]);return f.createElement(f.Fragment,null,ve&&[f.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:g?-1:0,style:Q4}),k?f.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:g?-1:1,style:Q4}):null],!g&&f.createElement(H,{id:q,sideCar:Q8e,observed:i,disabled:g,persistentFocus:y,crossFrame:w,autoFocus:_,whiteList:A,shards:M,onActivation:X,onDeactivation:ee,returnFocus:ue,focusOptions:N}),f.createElement(F,no({ref:we},le,{className:T,onBlur:ie,onFocus:se}),f.createElement(Y8e.Provider,{value:be},h)),Me&&f.createElement("div",{"data-focus-guard":!0,tabIndex:g?-1:0,style:Q4}))});IH.propTypes={};const EH=IH;function J8e(t,e){if(km(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e||"default");if(km(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eCe(t){var e=J8e(t,"string");return km(e)=="symbol"?e:e+""}function tCe(t,e,n){return e=eCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nCe(t,e){function n(o){return o.displayName||o.name||"Component"}return function(r){var i=[],s;function a(){s=t(i.map(function(c){return c.props})),e(s)}var l=function(c){xq(d,c);function d(){return c.apply(this,arguments)||this}d.peek=function(){return s};var p=d.prototype;return p.componentDidMount=function(){i.push(this),a()},p.componentDidUpdate=function(){a()},p.componentWillUnmount=function(){var m=i.indexOf(this);i.splice(m,1),a()},p.render=function(){return Se.createElement(r,this.props)},d}(f.PureComponent);return tCe(l,"displayName","SideEffect("+n(r)+")"),l}}var Ni=function(t){for(var e=Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e},$l=function(t){return Array.isArray(t)?t:[t]},kH=function(t){return Array.isArray(t)?t[0]:t},oCe=function(t){if(t.nodeType!==Node.ELEMENT_NODE)return!1;var e=window.getComputedStyle(t,null);return!e||!e.getPropertyValue?!1:e.getPropertyValue("display")==="none"||e.getPropertyValue("visibility")==="hidden"},RH=function(t){return t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.parentNode.host:t.parentNode},PH=function(t){return t===document||t&&t.nodeType===Node.DOCUMENT_NODE},rCe=function(t){return t.hasAttribute("inert")},iCe=function(t,e){return!t||PH(t)||!oCe(t)&&!rCe(t)&&e(RH(t))},LH=function(t,e){var n=t.get(e);if(n!==void 0)return n;var o=iCe(e,LH.bind(void 0,t));return t.set(e,o),o},sCe=function(t,e){return t&&!PH(t)?cCe(t)?e(RH(t)):!1:!0},MH=function(t,e){var n=t.get(e);if(n!==void 0)return n;var o=sCe(e,MH.bind(void 0,t));return t.set(e,o),o},OH=function(t){return t.dataset},aCe=function(t){return t.tagName==="BUTTON"},DH=function(t){return t.tagName==="INPUT"},FH=function(t){return DH(t)&&t.type==="radio"},lCe=function(t){return!((DH(t)||aCe(t))&&(t.type==="hidden"||t.disabled))},cCe=function(t){var e=t.getAttribute(K8e);return![!0,"true",""].includes(e)},V9=function(t){var e;return!!(t&&(!((e=OH(t))===null||e===void 0)&&e.focusGuard))},v7=function(t){return!V9(t)},dCe=function(t){return!!t},uCe=function(t,e){var n=Math.max(0,t.tabIndex),o=Math.max(0,e.tabIndex),r=n-o,i=t.index-e.index;if(r){if(!n)return 1;if(!o)return-1}return r||i},pCe=function(t){return t.tabIndex<0&&!t.hasAttribute("tabindex")?0:t.tabIndex},W9=function(t,e,n){return Ni(t).map(function(o,r){var i=pCe(o);return{node:o,index:r,tabIndex:n&&i===-1?(o.dataset||{}).focusGuard?0:-1:i}}).filter(function(o){return!e||o.tabIndex>=0}).sort(uCe)},hCe=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],j9=hCe.join(","),fCe="".concat(j9,", [data-focus-guard]"),NH=function(t,e){return Ni((t.shadowRoot||t).children).reduce(function(n,o){return n.concat(o.matches(e?fCe:j9)?[o]:[],NH(o))},[])},mCe=function(t,e){var n;return t instanceof HTMLIFrameElement&&(!((n=t.contentDocument)===null||n===void 0)&&n.body)?qd([t.contentDocument.body],e):[t]},qd=function(t,e){return t.reduce(function(n,o){var r,i=NH(o,e),s=(r=[]).concat.apply(r,i.map(function(a){return mCe(a,e)}));return n.concat(s,o.parentNode?Ni(o.parentNode.querySelectorAll(j9)).filter(function(a){return a===o}):[])},[])},gCe=function(t){var e=t.querySelectorAll("[".concat(G8e,"]"));return Ni(e).map(function(n){return qd([n])}).reduce(function(n,o){return n.concat(o)},[])},U9=function(t,e){return Ni(t).filter(function(n){return LH(e,n)}).filter(function(n){return lCe(n)})},pA=function(t,e){return e===void 0&&(e=new Map),Ni(t).filter(function(n){return MH(e,n)})},$9=function(t,e,n){return W9(U9(qd(t,n),e),!0,n)},B0=function(t,e){return W9(U9(qd(t),e),!1)},vCe=function(t,e){return U9(gCe(t),e)},Al=function(t,e){return t.shadowRoot?Al(t.shadowRoot,e):Object.getPrototypeOf(t).contains!==void 0&&Object.getPrototypeOf(t).contains.call(t,e)?!0:Ni(t.children).some(function(n){var o;if(n instanceof HTMLIFrameElement){var r=(o=n.contentDocument)===null||o===void 0?void 0:o.body;return r?Al(r,e):!1}return Al(n,e)})},CCe=function(t){for(var e=new Set,n=t.length,o=0;o<n;o+=1)for(var r=o+1;r<n;r+=1){var i=t[o].compareDocumentPosition(t[r]);(i&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&e.add(r),(i&Node.DOCUMENT_POSITION_CONTAINS)>0&&e.add(o)}return t.filter(function(s,a){return!e.has(a)})},HH=function(t){return t.parentNode?HH(t.parentNode):t},q9=function(t){var e=$l(t);return e.filter(Boolean).reduce(function(n,o){var r=o.getAttribute(g7);return n.push.apply(n,r?CCe(Ni(HH(o).querySelectorAll("[".concat(g7,'="').concat(r,'"]:not([').concat(xH,'="disabled"])')))):[o]),n},[])},yCe=function(t){try{return t()}catch{return}},mh=function(t){if(t===void 0&&(t=document),!(!t||!t.activeElement)){var e=t.activeElement;return e.shadowRoot?mh(e.shadowRoot):e instanceof HTMLIFrameElement&&yCe(function(){return e.contentWindow.document})?mh(e.contentWindow.document):e}},SCe=function(t,e){return t===e},bCe=function(t,e){return!!Ni(t.querySelectorAll("iframe")).some(function(n){return SCe(n,e)})},BH=function(t,e){return e===void 0&&(e=mh(kH(t).ownerDocument)),!e||e.dataset&&e.dataset.focusGuard?!1:q9(t).some(function(n){return Al(n,e)||bCe(n,e)})},wCe=function(t){t===void 0&&(t=document);var e=mh(t);return e?Ni(t.querySelectorAll("[".concat(q8e,"]"))).some(function(n){return Al(n,e)}):!1},_Ce=function(t,e){return e.filter(FH).filter(function(n){return n.name===t.name}).filter(function(n){return n.checked})[0]||t},G9=function(t,e){return FH(t)&&t.name?_Ce(t,e):t},xCe=function(t){var e=new Set;return t.forEach(function(n){return e.add(G9(n,t))}),t.filter(function(n){return e.has(n)})},hA=function(t){return t[0]&&t.length>1?G9(t[0],t):t[0]},fA=function(t,e){return t.indexOf(G9(e,t))},C7="NEW_FOCUS",ACe=function(t,e,n,o,r){var i=t.length,s=t[0],a=t[i-1],l=V9(o);if(!(o&&t.indexOf(o)>=0)){var c=o!==void 0?n.indexOf(o):-1,d=r?n.indexOf(r):c,p=r?t.indexOf(r):-1;if(c===-1)return p!==-1?p:C7;if(p===-1)return C7;var h=c-d,m=n.indexOf(s),g=n.indexOf(a),C=xCe(n),v=o!==void 0?C.indexOf(o):-1,S=v-(r?C.indexOf(r):c);if(!h&&p>=0||e.length===0)return p;var y=fA(t,e[0]),b=fA(t,e[e.length-1]);if(c<=m&&l&&Math.abs(h)>1)return b;if(c>=g&&l&&Math.abs(h)>1)return y;if(h&&Math.abs(S)>1)return p;if(c<=m)return b;if(c>g)return y;if(h)return Math.abs(h)>1?p:(i+p+h)%i}},TCe=function(t){return function(e){var n,o=(n=OH(e))===null||n===void 0?void 0:n.autofocus;return e.autofocus||o!==void 0&&o!=="false"||t.indexOf(e)>=0}},mA=function(t,e,n){var o=t.map(function(i){var s=i.node;return s}),r=pA(o.filter(TCe(n)));return r&&r.length?hA(r):hA(pA(e))},y7=function(t,e){return e===void 0&&(e=[]),e.push(t),t.parentNode&&y7(t.parentNode.host||t.parentNode,e),e},Y4=function(t,e){for(var n=y7(t),o=y7(e),r=0;r<n.length;r+=1){var i=n[r];if(o.indexOf(i)>=0)return i}return!1},zH=function(t,e,n){var o=$l(t),r=$l(e),i=o[0],s=!1;return r.filter(Boolean).forEach(function(a){s=Y4(s||a,a)||s,n.filter(Boolean).forEach(function(l){var c=Y4(i,l);c&&(!s||Al(c,s)?s=c:s=Y4(c,s))})}),s},gA=function(t,e){return t.reduce(function(n,o){return n.concat(vCe(o,e))},[])},ICe=function(t,e){var n=new Map;return e.forEach(function(o){return n.set(o.node,o)}),t.map(function(o){return n.get(o)}).filter(dCe)},ECe=function(t,e){var n=mh($l(t).length>0?document:kH(t).ownerDocument),o=q9(t).filter(v7),r=zH(n||t,t,o),i=new Map,s=B0(o,i),a=s.filter(function(g){var C=g.node;return v7(C)});if(a[0]){var l=B0([r],i).map(function(g){var C=g.node;return C}),c=ICe(l,a),d=c.map(function(g){var C=g.node;return C}),p=c.filter(function(g){var C=g.tabIndex;return C>=0}).map(function(g){var C=g.node;return C}),h=ACe(d,p,l,n,e);if(h===C7){var m=mA(s,p,gA(o,i))||mA(s,d,gA(o,i));if(m)return{node:m};console.warn("focus-lock: cannot find any node to move focus into");return}return h===void 0?h:c[h]}},kCe=function(t){var e=q9(t).filter(v7),n=zH(t,t,e),o=W9(qd([n],!0),!0,!0),r=qd(e,!1);return o.map(function(i){var s=i.node,a=i.index;return{node:s,index:a,lockItem:r.indexOf(s)>=0,guard:V9(s)}})},K9=function(t,e){t&&("focus"in t&&t.focus(e),"contentWindow"in t&&t.contentWindow&&t.contentWindow.focus())},X4=0,J4=!1,VH=function(t,e,n){n===void 0&&(n={});var o=ECe(t,e);if(!J4&&o){if(X4>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),J4=!0,setTimeout(function(){J4=!1},1);return}X4++,K9(o.node,n.focusOptions),X4--}};function up(t){if(!t)return null;if(typeof WeakRef>"u")return function(){return t||null};var e=t?new WeakRef(t):null;return function(){return(e==null?void 0:e.deref())||null}}var RCe=function(t){if(!t)return null;for(var e=[],n=t;n&&n!==document.body;)e.push({current:up(n),parent:up(n.parentElement),left:up(n.previousElementSibling),right:up(n.nextElementSibling)}),n=n.parentElement;return{element:up(t),stack:e,ownerDocument:t.ownerDocument}},PCe=function(t){var e,n,o,r,i;if(t)for(var s=t.stack,a=t.ownerDocument,l=new Map,c=0,d=s;c<d.length;c++){var p=d[c],h=(e=p.parent)===null||e===void 0?void 0:e.call(p);if(h&&a.contains(h)){for(var m=(n=p.left)===null||n===void 0?void 0:n.call(p),g=p.current(),C=h.contains(g)?g:void 0,v=(o=p.right)===null||o===void 0?void 0:o.call(p),S=$9([h],l),y=(i=(r=C??(m==null?void 0:m.nextElementSibling))!==null&&r!==void 0?r:v)!==null&&i!==void 0?i:m;y;){for(var b=0,w=S;b<w.length;b++){var x=w[b];if(y!=null&&y.contains(x.node))return x.node}y=y.nextElementSibling}if(S.length)return S[0].node}}},LCe=function(t){var e=RCe(t);return function(){return PCe(e)}},MCe=function(t,e,n){if(!t||!e)return console.error("no element or scope given"),{};var o=$l(e);if(o.every(function(s){return!Al(s,t)}))return console.error("Active element is not contained in the scope"),{};var r=n?$9(o,new Map):B0(o,new Map),i=r.findIndex(function(s){var a=s.node;return a===t});if(i!==-1)return{prev:r[i-1],next:r[i+1],first:r[0],last:r[r.length-1]}},OCe=function(t,e){var n=e?$9($l(t),new Map):B0($l(t),new Map);return{first:n[0],last:n[n.length-1]}},DCe=function(t){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},t)},WH=function(t,e,n){e===void 0&&(e={});var o=DCe(e),r=MCe(t,o.scope,o.onlyTabbable);if(r){var i=n(r,o.cycle);i&&K9(i.node,o.focusOptions)}},FCe=function(t,e){e===void 0&&(e={}),WH(t,e,function(n,o){var r=n.next,i=n.first;return r||o&&i})},NCe=function(t,e){e===void 0&&(e={}),WH(t,e,function(n,o){var r=n.prev,i=n.last;return r||o&&i})},jH=function(t,e,n){var o,r=OCe(t,(o=e.onlyTabbable)!==null&&o!==void 0?o:!0),i=r[n];i&&K9(i.node,e.focusOptions)},HCe=function(t,e){e===void 0&&(e={}),jH(t,e,"first")},BCe=function(t,e){e===void 0&&(e={}),jH(t,e,"last")};function Z9(t){setTimeout(t,1)}var zCe=function(e){return e&&"current"in e?e.current:e},VCe=function(){return document&&document.activeElement===document.body},WCe=function(){return VCe()||wCe()},_d=null,cd=null,xd=null,gh=!1,jCe=function(){return!0},UCe=function(e){return(_d.whiteList||jCe)(e)},$Ce=function(e,n){xd={observerNode:e,portaledElement:n}},qCe=function(e){return xd&&xd.portaledElement===e};function vA(t,e,n,o){var r=null,i=t;do{var s=o[i];if(s.guard)s.node.dataset.focusAutoGuard&&(r=s);else if(s.lockItem){if(i!==t)return;r=null}else break}while((i+=n)!==e);r&&(r.node.tabIndex=0)}var GCe=function(e){return e?!!gh:gh==="meanwhile"},KCe=function t(e,n,o){return n&&(n.host===e&&(!n.activeElement||o.contains(n.activeElement))||n.parentNode&&t(e,n.parentNode,o))},ZCe=function(e,n){return n.some(function(o){return KCe(e,o,o)})},z0=function(){var e=!1;if(_d){var n=_d,o=n.observed,r=n.persistentFocus,i=n.autoFocus,s=n.shards,a=n.crossFrame,l=n.focusOptions,c=o||xd&&xd.portaledElement,d=document&&document.activeElement;if(c){var p=[c].concat(s.map(zCe).filter(Boolean));if((!d||UCe(d))&&(r||GCe(a)||!WCe()||!cd&&i)&&(c&&!(BH(p)||d&&ZCe(d,p)||qCe(d))&&(document&&!cd&&d&&!i?(d.blur&&d.blur(),document.body.focus()):(e=VH(p,cd,{focusOptions:l}),xd={})),gh=!1,cd=document&&document.activeElement),document&&d!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var h=document&&document.activeElement,m=kCe(p),g=m.map(function(C){var v=C.node;return v}).indexOf(h);g>-1&&(m.filter(function(C){var v=C.guard,S=C.node;return v&&S.dataset.focusAutoGuard}).forEach(function(C){var v=C.node;return v.removeAttribute("tabIndex")}),vA(g,m.length,1,m),vA(g,-1,-1,m))}}}return e},UH=function(e){z0()&&e&&(e.stopPropagation(),e.preventDefault())},Q9=function(){return Z9(z0)},QCe=function(e){var n=e.target,o=e.currentTarget;o.contains(n)||$Ce(o,n)},YCe=function(){return null},$H=function(){gh="just",Z9(function(){gh="meanwhile"})},XCe=function(){document.addEventListener("focusin",UH),document.addEventListener("focusout",Q9),window.addEventListener("blur",$H)},JCe=function(){document.removeEventListener("focusin",UH),document.removeEventListener("focusout",Q9),window.removeEventListener("blur",$H)};function eye(t){return t.filter(function(e){var n=e.disabled;return!n})}var qH={moveFocusInside:VH,focusInside:BH,focusNextElement:FCe,focusPrevElement:NCe,focusFirstElement:HCe,focusLastElement:BCe,captureFocusRestore:LCe};function tye(t){var e=t.slice(-1)[0];e&&!_d&&XCe();var n=_d,o=n&&e&&e.id===n.id;_d=e,n&&!o&&(n.onDeactivation(),t.filter(function(r){var i=r.id;return i===n.id}).length||n.returnFocus(!e)),e?(cd=null,(!o||n.observed!==e.observed)&&e.onActivation(qH),z0(),Z9(z0)):(JCe(),cd=null)}AH.assignSyncMedium(QCe);TH.assignMedium(Q9);Z8e.assignMedium(function(t){return t(qH)});const nye=nCe(eye,tye)(YCe);var GH=f.forwardRef(function(e,n){return f.createElement(EH,no({sideCar:nye,ref:n},e))}),KH=EH.propTypes||{};KH.sideCar;Aq(KH,["sideCar"]);GH.propTypes={};const ZH=GH,Y9=(t,e)=>{var o;const n=t==null?void 0:t.shortcuts.find(r=>r.callbackName===Tq[e||"default"]);return(o=n==null?void 0:n.shortcut)==null?void 0:o.split("+").map(r=>gd(r)).join("+")},oye=({onClearFilter:t,filter:e,value:n,onChange:o,shortcutsScheme:r})=>{const i=f.useRef(null),{classes:s}=rye();iR("Backspace",()=>{n.length||t("Backspace")},{useCapture:!0});const a=Y9(r,e);return u(Ee,{className:s.container,children:L(Ee,{className:s.content,children:[u(G8,{className:s.icon}),e&&u(Iq,{tabIndex:-1,onClick:()=>t("Click"),classes:{label:s.chipLabel},className:s.chip,label:u(Z,{variant:"body2",children:"Jump to"})}),u(ZH,{returnFocus:!0,className:s.focusLock,children:u(b3.Input,{placeholder:Eq[e||"default"],value:n,onValueChange:o,className:s.input,ref:i})}),u(Z,{className:s.shortcut,children:a})]})})},rye=K()({container:{width:"100%",display:"flex",flexDirection:"row",paddingRight:"10px",zIndex:2,transition:".5s background-color ease"},icon:{opacity:Ct.searchIconOpacity.value,color:Ct.foregroundColor.value,width:"14px",height:"14px"},chip:{cursor:"default",height:"initial",marginLeft:"10px",padding:"2px 10px",width:"66px",color:Ct.foregroundColor.value,background:Ct.searchBackgroundColor.value,"&:hover":{background:Ct.backgroundColorHover.value}},chipLabel:{padding:0,fontSize:"12px",fontStyle:"normal",fontWeight:"450",lineHeight:"18px"},content:{padding:"10px",flex:1,display:"flex",flexDirection:"row",backgroundColor:Ct.searchBackgroundColor.value,borderRadius:10,border:"1px solid transparent",alignItems:"center",paddingRight:"10px",height:36,transition:".5s background-color ease, all 0.2s"},focusLock:{flex:1,marginLeft:"10px"},input:{width:"100%",border:"none",backgroundColor:"transparent",color:Ct.foregroundColor.value,"&::placeholder":{color:Ct.mainColor.value}},shortcut:{minWidth:"31px",margin:"0 5px",color:Ct.helperColor.value}}),iye=f.memo(({className:t,filter:e,onFilter:n,shortcutsScheme:o})=>{const{classes:r}=sye(),i=Y9(o,rs.JUMP_TO),s=a=>()=>{n(a)};return e===rs.JUMP_TO?null:u(Et,{margin:"md",className:t,children:L(li,{tabIndex:-1,className:r.button,onClick:s(rs.JUMP_TO),children:[u(Z,{variant:"body2",children:"Jump to"}),i&&u(Z,{className:r.shortCut,children:i})]})})}),sye=K()({button:{"--substrateColor":"inherit",background:Ct.itemBackgroundColor.value,color:Ct.toolbarColor.value,textTransform:"capitalize",fontSize:"12px",fontStyle:"normal",fontWeight:450,lineHeight:"18px",borderRadius:"55px","&:hover":{background:Ct.backgroundColorHover.value}},shortCut:{color:Ct.helperColor.value}});var aye=function(t,e){e||(e={});var n={bools:{},strings:{},unknownFn:null};typeof e.unknown=="function"&&(n.unknownFn=e.unknown),typeof e.boolean=="boolean"&&e.boolean?n.allBools=!0:[].concat(e.boolean).filter(Boolean).forEach(function(w){n.bools[w]=!0});var o={};Object.keys(e.alias||{}).forEach(function(w){o[w]=[].concat(e.alias[w]),o[w].forEach(function(x){o[x]=[w].concat(o[w].filter(function(_){return x!==_}))})}),[].concat(e.string).filter(Boolean).forEach(function(w){n.strings[w]=!0,o[w]&&(n.strings[o[w]]=!0)});var r=e.default||{},i={_:[]};Object.keys(n.bools).forEach(function(w){l(w,r[w]===void 0?!1:r[w])});var s=[];t.indexOf("--")!==-1&&(s=t.slice(t.indexOf("--")+1),t=t.slice(0,t.indexOf("--")));function a(w,x){return n.allBools&&/^--[^=]+$/.test(x)||n.strings[w]||n.bools[w]||o[w]}function l(w,x,_){if(!(_&&n.unknownFn&&!a(w,_)&&n.unknownFn(_)===!1)){var I=!n.strings[w]&&CA(x)?Number(x):x;c(i,w.split("."),I),(o[w]||[]).forEach(function(T){c(i,T.split("."),I)})}}function c(w,x,_){for(var I=w,T=0;T<x.length-1;T++){var A=x[T];if(yA(I,A))return;I[A]===void 0&&(I[A]={}),(I[A]===Object.prototype||I[A]===Number.prototype||I[A]===String.prototype)&&(I[A]={}),I[A]===Array.prototype&&(I[A]=[]),I=I[A]}var A=x[x.length-1];yA(I,A)||((I===Object.prototype||I===Number.prototype||I===String.prototype)&&(I={}),I===Array.prototype&&(I=[]),I[A]===void 0||n.bools[A]||typeof I[A]=="boolean"?I[A]=_:Array.isArray(I[A])?I[A].push(_):I[A]=[I[A],_])}function d(w){return o[w].some(function(x){return n.bools[x]})}for(var p=0;p<t.length;p++){var h=t[p];if(/^--.+=/.test(h)){var m=h.match(/^--([^=]+)=([\s\S]*)$/),g=m[1],C=m[2];n.bools[g]&&(C=C!=="false"),l(g,C,h)}else if(/^--no-.+/.test(h)){var g=h.match(/^--no-(.+)/)[1];l(g,!1,h)}else if(/^--.+/.test(h)){var g=h.match(/^--(.+)/)[1],v=t[p+1];v!==void 0&&!/^-/.test(v)&&!n.bools[g]&&!n.allBools&&(!o[g]||!d(g))?(l(g,v,h),p++):/^(true|false)$/.test(v)?(l(g,v==="true",h),p++):l(g,n.strings[g]?"":!0,h)}else if(/^-[^-]+/.test(h)){for(var S=h.slice(1,-1).split(""),y=!1,b=0;b<S.length;b++){var v=h.slice(b+2);if(v==="-"){l(S[b],v,h);continue}if(/[A-Za-z]/.test(S[b])&&/=/.test(v)){l(S[b],v.split("=")[1],h),y=!0;break}if(/[A-Za-z]/.test(S[b])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(v)){l(S[b],v,h),y=!0;break}if(S[b+1]&&S[b+1].match(/\W/)){l(S[b],h.slice(b+2),h),y=!0;break}else l(S[b],n.strings[S[b]]?"":!0,h)}var g=h.slice(-1)[0];!y&&g!=="-"&&(t[p+1]&&!/^(-|--)[^-]/.test(t[p+1])&&!n.bools[g]&&(!o[g]||!d(g))?(l(g,t[p+1],h),p++):t[p+1]&&/^(true|false)$/.test(t[p+1])?(l(g,t[p+1]==="true",h),p++):l(g,n.strings[g]?"":!0,h))}else if((!n.unknownFn||n.unknownFn(h)!==!1)&&i._.push(n.strings._||!CA(h)?h:Number(h)),e.stopEarly){i._.push.apply(i._,t.slice(p+1));break}}return Object.keys(r).forEach(function(w){lye(i,w.split("."))||(c(i,w.split("."),r[w]),(o[w]||[]).forEach(function(x){c(i,x.split("."),r[w])}))}),e["--"]?(i["--"]=new Array,s.forEach(function(w){i["--"].push(w)})):s.forEach(function(w){i._.push(w)}),i};function lye(t,e){var n=t;e.slice(0,-1).forEach(function(r){n=n[r]||{}});var o=e[e.length-1];return o in n}function CA(t){return typeof t=="number"||/^0x[0-9a-f]+$/i.test(t)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)}function yA(t,e){return e==="constructor"&&typeof t[e]=="function"||e==="__proto__"}const cye=wt(aye);function w3(t,e={}){const n=dye(t),{parseAsSsh:o}=e;return n.isSSH||o?QH(n):uye(n)}function dye(t){const e=cye(t.trim().split(/\s+/)),{_:n}=e,o=n[0]==="ssh",r=n[o?1:0],s=(r==null?"":String(r)).split("@"),a=s.length>1,l=a?s[0]:null,c=a?s[1]:s[0],d=Number.isInteger(e.p)?e.p:null;return{isSSH:o,address:c,port:d,username:l}}function QH(t){return new _t({address:t.address,ssh_config:new hi({port:t.port,identity:t.username?new Nt({is_visible:!1,username:t.username}):null})})}function uye(t){return QH(t).clone({telnet_config:new Ll({port:t.port})})}const pye=({enterHosts:t,listRef:e,userInput:n="",focusActiveTerminal:o})=>{const[r,i]=f.useState(n),s=de(),a=V(sR),l=V(Kh),c=lt(Fa),d=V(S8),p=f.useCallback(()=>l!=null&&l.startsWith(Y2)?c.findIndex(I=>I.id===l):void 0,[l,c]),h=f.useCallback(_=>{i(_),requestAnimationFrame(()=>{var I;return(I=e.current)==null?void 0:I.scrollToItem(0)})},[e]),m=f.useCallback(({hosts:_,protocol:I,quick:T})=>{const A=p();t(_.map(k=>({connection:new pt({host:k,quick:T,isDetectOSEnabled:a,protocol:I??e6(k)}),connectionOrigin:"Command Palette"})),{targetTabPosition:A})},[a,t,p]),g=f.useCallback((_,I,T)=>{if(!I)return;const A=new pt({host:I,quick:!1,isDetectOSEnabled:a,protocol:e6(I)});A.sessionLogData=Gf(A,d),s(od({commandPaletteItemType:"Host",commandPaletteItemSelectedVia:_,position:T}));const k=p();t([{connection:A,connectionOrigin:"Command Palette"}],{targetTabPosition:k})},[a,d,s,p,t]),C=f.useCallback((_,I,T)=>{s(aR({path:_,position:T,commandPaletteItemSelectedVia:I})),requestAnimationFrame(o)},[s,o]),v=w2(_=>{const I=w3(r),T=e6(I);s(od({commandPaletteItemType:"Quick Connect",commandPaletteItemSelectedVia:_,position:void 0}));try{m({hosts:[I],protocol:T,quick:!0})}catch{}}),S=f.useCallback(_=>{s(od({commandPaletteItemType:"Terminal",commandPaletteItemSelectedVia:_,position:void 0}));const I=p();s(K8({windowId:ge(),connectionOrigin:"Command Palette",targetTabPosition:I}))},[s,p]),y=f.useCallback(_=>{s(od({commandPaletteItemType:"Serial",commandPaletteItemSelectedVia:_,position:void 0}));const I=p();s(Z8({windowId:ge(),source:"Command Palette",targetTabPosition:I}))},[s,p]),b=f.useCallback(({value:_,eventTrigger:I,index:T,host:A})=>{if(s(Dr()),_.startsWith(qn.NEW_CONNECTION)){g(I,A,T);return}if(_.startsWith(qn.JUMP_TO_TAB)){const k=_.replace(`${qn.JUMP_TO_TAB}:`,"");C(k,I,T);return}if(_.startsWith(qn.QUICK_CONNECT)){v.current(I);return}if(_===qn.NEW_TERMINAL){S(I);return}_===qn.NEW_SERIAL&&y(I)},[s,g,C,v,S,y]),w=_=>s(Dr({isOpen:!0,commandPaletteStateChangedVia:_})),x=f.useCallback(_=>{s(Dr({filter:_,commandPaletteStateChangedVia:"Click"}))},[s]);return{searchValue:r,clearFilter:w,handleSelect:b,handleChangeSearchValue:h,handleToolbarFilter:x}};function e6(t){const e=t.actions[0];return e==="serial"?e:t.ssh_config&&t.telnet_config||!t.ssh_config&&!t.telnet_config||e==="mosh"&&t.getHostChainCount()?null:e}const hye=({filter:t,enterHosts:e,userInput:n,focusActiveTerminal:o})=>{const{classes:r}=fye(),i=f.useRef(null),s=V(eg),{searchValue:a,clearFilter:l,handleSelect:c,handleToolbarFilter:d,handleChangeSearchValue:p}=pye({enterHosts:e,listRef:i,userInput:n,focusActiveTerminal:o});return L(f.Fragment,{children:[L(Ee,{children:[u(oye,{filter:t,value:a,shortcutsScheme:s,onClearFilter:l,onChange:p}),u(iye,{filter:t,className:r.actions,shortcutsScheme:s,onFilter:d})]}),u(U8e,{listRef:i,expand:t===rs.JUMP_TO,searchValue:a,handleSelect:c})]})},fye=K()({actions:{margin:"10px 0 0"}}),mye=()=>{const{classes:t,cx:e}=gye(),n=lt(fc),o=V(xo),r=t8e({themeColorsState:n}),i=lt(kq);return e(t.root,r,{"termius-dark-theme":o,[t.terminal]:n==="terminal",[t.newTab]:i})},gye=K()({root:{display:"grid",zIndex:1299,gap:"10px",gridTemplateRows:"minmax(36px, auto) 1fr",position:"fixed",left:"50%",transform:"translate(-50%, 0)",padding:"10px 0 0 10px",top:"20%",background:Ct.dialogBackground.value,boxShadow:`0px 15px 30px 0px rgba(0, 0, 0, ${Ct.dialogShadowOpacity.value})`,width:"600px",borderRadius:"15px",overflow:"hidden"},terminal:{"& ::selection":{background:Q.selectionColor}},newTab:{top:"86px",width:"min(720px, calc(100vw - 40px))"}}),vye=f.memo(({enterHosts:t,focusActiveTerminal:e})=>{const n=de(),o=mye(),{isOpen:r,filter:i,userInput:s}=V(Q8),a=f.useCallback(()=>n(Dr()),[n]);return u(Rq,{open:r,backdrop:!1,closeOnEscape:!0,closeOnBackdropClick:!0,onClose:a,children:u(b3,{shouldFilter:!1,label:"Command Palette",className:o,children:u(hye,{focusActiveTerminal:e,enterHosts:t,userInput:s,filter:i})})})});var YH={};Object.defineProperty(YH,"__esModule",{value:!0});function Cye(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===2)return bA(t[0],t[1])||null;var n=t.slice(1).reduce(function(o,r){return bA(o,r)},t[0]);return n||null}var _3=YH.default=Cye,SA=new WeakMap;function bA(t,e){if(t&&e){var n=SA.get(t)||new WeakMap;SA.set(t,n);var o=n.get(e)||function(r){wA(t,r),wA(e,r)};return n.set(e,o),o}return t||e}function wA(t,e){typeof t=="function"?t(e):t.current=e}const Gd=t=>{const{classes:e}=yye();return u("div",{...t,className:ce(t.className,e.content)})},yye=K()({content:{width:"100%",height:"100%",position:"relative",overflow:"auto hidden"}}),Sye=f.lazy(()=>P(()=>import("./reconnectSaga-e33541d6.js").then(t=>t.Cd),["./reconnectSaga-e33541d6.js","./reconnectSaga-b241274d.css"],import.meta.url).then(t=>({default:t.ImportFlowDialog}))),bye=t=>u(f.Suspense,{fallback:"",children:u(Sye,{...t})}),wye=L8.promisify(lR(bye)),_ye=({host:t,anchorPosition:e,onClose:n,onConnect:o})=>{const{classes:r}=XH(),i=hr(V(ys),void 0),s=V(c=>cR(c,hr(t.id,void 0)));if(s.length===0)return null;const a=Aye(s,i),l=c=>{n(),o(c,t)};return u(Ss,{open:!0,onClose:n,anchorReference:"anchorPosition",anchorPosition:e,className:r.menu,listProps:{disablePadding:!0},children:a.map((c,d)=>u(xye,{connectionPreview:c,connectedUsersCount:a.length,num:d,handleConnect:l},c.connectionId))})},xye=t=>{const{connectionPreview:e,connectedUsersCount:n,num:o,handleConnect:r}=t,{classes:i,cx:s}=XH(),a=V(Y8),l=V(tg),c=V(Qh),d=V(Pq),{userId:p,centrifugeClientId:h,participantAmount:m,connectionId:g}=e,v=l.filter(w=>!!w.id).find(w=>(w==null?void 0:w.id)===p);if(!v)return null;const S=`${m} ${Ks("participant",m)}`,y=n>1&&o===n-1,b=d.includes(g);return u(Qn,{className:s(i.menuItem,{[i.menuItemWithBorder]:y}),onClick:()=>r(e),endAdornment:u(Ue,{size:"small",className:i.adornmentButton,children:c===h||b?"Jump to":"Join"}),children:L(re,{direction:"row",alignItems:"center",children:[u(Lq,{...Mq(v,a),isActive:!1}),L(re,{className:i.details,overflow:"hidden",children:[u(Z,{color:"primary",ellipsis:!0,children:v.userFullName||v.username}),u(Z,{color:"secondary",variant:"body2",children:S})]})]})},e.connectionId)};function Aye(t,e){return dR(t,n=>n.userId===e)}const XH=K()({menu:{marginTop:"15px",maxWidth:"300px"},menuItem:{padding:"10px",height:"auto","& > div:first-of-type":{display:"block"}},menuItemWithBorder:{position:"relative","&::before":{content:'""',position:"absolute",top:0,width:"calc(100% - 10px * 2)",height:"1px",backgroundColor:"var(--card-b)",".termius-dark-theme &":{backgroundColor:"var(--card-c)"}}},adornmentButton:{backgroundColor:"var(--accent)",color:"var(--white)",textTransform:"none",fontSize:"14px",fontWeight:500},details:{marginLeft:"10px"}}),Tye=""+new URL("sandbox-6764fc1c.svg",import.meta.url).href,Iye=({onClose:t})=>{const{classes:e}=Eye();return L("div",{className:e.root,children:[u(Ze,{top:40,children:L(Z,{variant:"h2",color:"primary",children:["Local Terminal ",u(k8,{className:e.terminalIcon})," ","is not available in a sandbox"]})}),u(Ze,{top:30,children:u(Z,{color:"primary",children:"Install Termius from the website to get Local Terminal"})}),u("button",{className:e.closeButton,onClick:t,type:"button",children:u(Q0e,{})})]})},Eye=K()({root:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},closeButton:{position:"absolute",right:"49px",top:"44px",border:"none",backgroundColor:"transparent",display:"flex",zIndex:2},terminalIcon:{fill:"white",width:20,height:20,transform:"translateY(1px)",transformOrigin:"bottom",margin:"0 4px"}}),kye=()=>u("img",{src:Tye,alt:"Sandbox mode",height:"300px"}),Rye=({onOk:t})=>X8.mas()?null:u(Aee,{children:u(Ze,{bottom:20,children:u(Iee,{color:"accent",onClick:()=>{Oq(),t()},fullWidth:!0,children:"Download from website"})})}),Pye=({onClose:t,onOk:e})=>{const{classes:n}=Mye();return u("div",{className:ce("termius-dark-theme",n.root),children:u(Tee,{top:u(Iye,{onClose:t}),center:u(kye,{}),bottom:u(Rye,{onOk:e})})})},Lye=jr`
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
`,Mye=K()({root:{backgroundColor:"var(--dark-grey-1)",height:"100%",overflow:"hidden",animation:`${Lye} 0.3s`,animationFillMode:"forwards"}}),Oye=L8.promisify(lR(Pye));function Dye(){const{classes:t}=Fye();return u(hn,{children:u(wo,{title:"Add hosts to this group",text:"Manage hosts in a group by setting common parameters for the whole group.",classNameRoot:t.card,icon:u(ic,{height:"25px",width:"25px"})})})}const Fye=K()({card:{maxWidth:"360px"}}),Ca=(t,e,n,o)=>f.useEffect(()=>Un(t,e,n),[...o,t,e]),S7=({onEditHost:t=He,isCompactView:e=!1,inputRef:n})=>{const{register:o,handleSubmit:r}=Ma({mode:"onSubmit"}),i=de(),s=tt(),a=V(xs),l=Dq(),c=V(J8);f.useEffect(()=>{var h;c&&((h=n==null?void 0:n.current)==null||h.focus())},[c]),Ca(s,uR,()=>{var h;(h=n==null?void 0:n.current)==null||h.focus()},[]);const d=async({hostAddress:h})=>{i(he("newHostButtonPressed",{hostCreationOrigin:"Hosts Empty Screen"}));const m=w3(h,{parseAsSsh:!0}).clone({...ct(l||a)});if(!h.trim()){t(m.clone({ssh_config:{}}));return}try{const g=await We(s,hs,{host:m});i(Dk(g)),t(g)}catch{}},{classes:p}=Nye();return u(wo,{title:"Create host",text:"Save your connection details as hosts to connect in one click.",icon:u(ic,{height:"25px",width:"25px"}),children:!e&&L("form",{className:p.createHostForm,onSubmit:r(d),children:[u($t,{placeholder:"Type IP or Hostname",inputProps:o("hostAddress"),autoFocus:!0,inputRef:n}),u(Ue,{type:"submit",color:"accent",children:"Continue"})]})})},Nye=K()({createHostForm:{display:"flex",flexDirection:"column",gap:20,width:"100%","@media (max-height: 550px)":{gap:10}}}),Hye=({inputRef:t,onEditHost:e})=>{const{classes:n}=Bye();return u(hn,{offsetTop:50,className:n.wrapper,children:u(S7,{onEditHost:e,inputRef:t})})},Bye=K()({wrapper:{backgroundColor:"var(--entity-grid-background)"}}),zye=Oa("INSERT_TO_SEARCH_FIELD"),Vye=t=>({defaultVault:xs(t),hosts:Nh(t),groups:E8(t),isTeam:lo(t),isAuthorized:Na(t),editableVaults:co(t),vaultsMembers:gu(t),isStarterPlan:Ra(t),sort:t.sorting.hosts,isPro:zt(t),isGridLayout:Yh(t,"hosts")==="grid",username:pc(t),isDetectOSEnabled:sR(t),isCopyLinkInfoVisible:Fq(t),hasLocalhost:!!eM(t),shouldShowTeamPromo:Nq(t),newVaultButtonType:fu(t),showVaultsEmptyScreen:ac(t),teamRole:mu(t),workspaceTerminalTabs:Hq(t,ge()),isPromotionBannerShown:Bq(t)}),Wye=({className:t})=>{const e=de(),{classes:n,cx:o}=$ye(),{classes:r}=_ee(),[i,s]=f.useState(!1),a=tt(),l=f.useRef(null),[c,d]=f.useState(!1),p=()=>s(!0),h=()=>s(!1),m=()=>{e(he("promotionDismissed",{promotionLocation:"Hosts",promotionType:"Download Mobile",trialDaysLeft:void 0,sideMenuTeamTrialPromoType:void 0,dismissForever:void 0})),e(zq())},g=async()=>{e(he("promotionPressed",{promotionLocation:"Hosts",promotionType:"Download Mobile",trialDaysLeft:void 0,sideMenuTeamTrialPromoType:void 0})),await Pt(a,{dialog:"InstallMobileAppDialog",target:ge(),props:{},options:{closeOnBackdropClick:!0,closeOnEscape:!0,backdrop:!0}}).catch(He)},C=u(Z,{color:"primary",variant:"body1",bold:!0,display:"inline",children:"Download Termius app."}),v=u(Z,{color:"primary",variant:"body1",display:"inline",children:"Sync your data and connect on the go."}),S=u(Ue,{className:o(n.getAppButton,{[n.getAppButtonCompact]:c}),onClick:g,size:"small",children:"Get the app"});return Gr(l,()=>{if(l.current){const{clientWidth:y}=l.current;d(y<jye)}},{mode:"throttle",wait:100}),u("div",{onMouseEnter:p,onMouseLeave:h,className:o(n.root,t),ref:l,children:L(re,{direction:"row",gap:"10px",alignItems:"center",justifyContent:"space-between",children:[L(re,{direction:"row",gap:"4px",alignItems:"center",children:[L(re,{direction:"column",gap:"5px",alignItems:"flex-start",children:[L(re,{direction:"row",gap:"10px",alignItems:"center",children:[L(re,{direction:"row",gap:"5px",alignItems:"center",children:[u(yi,{className:o(n.bannerIconContainer,{[r.container]:!c,[n.bannerIconContainerCompact]:c}),icon:u(xee,{className:r.icon}),size:34}),c&&C]}),!c&&L(re,{display:"inline",children:[C,Uye,v]})]}),c&&L(Se.Fragment,{children:[v,S]})]}),!c&&S]}),u(Ue,{size:"small",variant:"icon",disableHover:!0,disableRipple:!0,title:"Dismiss banner",onClick:m,className:o(n.dismissButton,{[n.dismissButtonCompact]:c}),children:u(o2e,{className:o(n.dismissButtonIcon,{[n.dismissButtonIconHovered]:i})})})]})})},jye=400,Uye="Â ",$ye=K()(()=>({root:{padding:"10px 15px 10px 10px",border:"1px solid",borderColor:"var(--light-grey-5)",borderRadius:"var(--border-radius-xl)",position:"relative",background:"linear-gradient(91deg, var(--light-grey-7) 0.31%, rgba(247, 249, 250, 0.00) 99.62%)",".termius-dark-theme &":{background:"linear-gradient(91deg, var(--dark-grey-3) 0.31%, #282b3d00 99.62%)",borderColor:"var(--dark-grey-3)"}},getAppButton:{fontSize:"12px",marginLeft:"6px",textTransform:"initial",backgroundColor:"var(--light-grey-5)",color:"var(--dark-grey-1)","&:hover":{backgroundColor:"var(--light-grey-4)"},".termius-dark-theme &":{backgroundColor:"var(--dark-grey-4)",color:"white","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.25)"}}},getAppButtonCompact:{marginTop:"5px",marginLeft:"0px"},bannerIconContainer:{borderRadius:"var(--border-radius-l)"},bannerIconContainerCompact:{width:"16px",height:"16px"},dismissButton:{position:"relative"},dismissButtonCompact:{position:"absolute",right:"8px",top:"8px"},dismissButtonIcon:{width:"14px",height:"14px",transition:"color 0.2s ease-in-out, opacity 0.2s ease-in-out",color:"var(--light-grey-4)",opacity:0,"&:hover":{color:"var(--light-grey-3)"},".termius-dark-theme &":{color:"var(--dark-grey-5)","&:hover":{color:"var(--dark-grey-6)"}}},dismissButtonIconHovered:{opacity:1}})),qye=(t,e)=>f.createElement("svg",{width:20,height:21,viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M9.99536 14.3053C10.226 14.3053 10.4289 14.2315 10.6411 14.0194L13.7407 11.0304C13.8976 10.8736 13.9806 10.7076 13.9806 10.4862C13.9806 10.0618 13.6393 9.74815 13.2241 9.74815C13.012 9.74815 12.7998 9.8404 12.6522 10.0065L11.3514 11.381L10.761 12.0544L10.8533 10.6891V1.12269C10.8533 0.670657 10.4658 0.283203 9.99536 0.283203C9.5341 0.283203 9.14665 0.670657 9.14665 1.12269V10.6891L9.2389 12.0636L8.63927 11.381L7.34776 10.0065C7.20016 9.8404 6.97875 9.74815 6.76658 9.74815C6.35145 9.74815 6.01012 10.0618 6.01012 10.4862C6.01012 10.7076 6.10237 10.8736 6.2592 11.0304L9.35883 14.0194C9.571 14.2315 9.77396 14.3053 9.99536 14.3053ZM4.69093 20.2832H15.309C17.3016 20.2832 18.3348 19.2592 18.3348 17.2943V8.20756C18.3348 6.24261 17.3016 5.21863 15.309 5.21863H12.809V7.02675H15.1983C16.047 7.02675 16.5267 7.46955 16.5267 8.36438V17.1374C16.5267 18.0323 16.047 18.4751 15.1983 18.4751H4.80163C3.9437 18.4751 3.47322 18.0323 3.47322 17.1374V8.36438C3.47322 7.46955 3.9437 7.02675 4.80163 7.02675H7.20938V5.21863H4.69093C2.69831 5.21863 1.6651 6.24261 1.6651 8.20756V17.2943C1.6651 19.2592 2.69831 20.2832 4.69093 20.2832Z",fill:"currentColor"})),Gye=f.forwardRef(qye),JH=f.memo(Gye);function x3({children:t,onClick:e,menuItems:n,onMenuOpen:o=He,disabled:r=!1}){const{classes:i}=Kye(),[s,a]=f.useState(!1),l=f.useRef(null),c=()=>{a(!0),o()},d=()=>a(!1);return L("div",{className:i.toolbarButtonWithMenu,children:[u(Ue,{onClick:e,className:ce(i.mainButton,i.background),disabled:r,children:u("div",{className:i.buttonContent,children:t})}),u(Ue,{ref:l,"data-testid":"menu-button",className:ce(i.menuButton,i.background),onClick:c,children:u(dn,{className:ce(i.arrowIcon,{[i.open]:s})})}),u(Sr,{onClose:d,menuItems:n().map(p=>p.type==null?{...p,handler:()=>{var h;d(),(h=p.handler)==null||h.call(p)}}:p),open:s,anchorEl:l.current,anchorOrigin:{horizontal:"left",vertical:"bottom"},transformOrigin:{horizontal:"left",vertical:"top"},classesByNestingLevel:[{nestingLevel:0,classNames:{root:i.menu}}]})]})}const Kye=K()({toolbarButtonWithMenu:{display:"flex",gap:1},mainButton:{height:"24px",borderRadius:"6px 0px 0px 6px",paddingRight:"10px",paddingLeft:"10px",justifyContent:"space-between",gap:"5px",fontSize:"12px",lineHeight:"15px",display:"flex",alignItems:"center",fontWeight:700,whiteSpace:"nowrap",textTransform:"uppercase"},menuButton:{width:"24px",height:"24px",padding:"0px",borderRadius:"0px 6px 6px 0px",display:"flex",justifyContent:"center",alignItems:"center"},background:{"--toolbar-button-bg":"var(--dark-grey-6)","--toolbar-button-hover":"var(--dark-grey-7)",".termius-dark-theme &":{"--toolbar-button-bg":"var(--dark-grey-5)","--toolbar-button-hover":"var(--dark-grey-6)"},backgroundColor:"var(--toolbar-button-bg)","&:hover":{backgroundColor:"var(--toolbar-button-hover)"}},buttonContent:{justifyContent:"space-between",gap:"5px",display:"flex",alignItems:"center"},arrowIcon:{width:"11px",height:"7px",fill:"currentColor",transition:"transform 0.2s"},open:{transform:"rotate(180deg)"},menu:{marginTop:"8px"}}),Zye=X8.mas(),Qye=t=>{const{onAzureImport:e,onAddHost:n,onAddGroup:o,onAddImport:r,onAddAwsImport:i,onAddDigitalOceanImport:s,onOpenLocal:a,onOpenSerial:l,onResolveDuplicates:c,onNewHostChevronButton:d,disableAdding:p}=t,h=!1,{classes:m}=Yye(),g=!Zye,C=V(zt);return L(Et,{margin:"md",children:[L(x3,{onClick:n,onMenuOpen:d,menuItems:()=>[{name:"New Group",handler:()=>{o()},icon:u(Wq,{}),disabled:p},{name:"Import",handler:()=>{r()},icon:u(JH,{}),disabled:p},{name:"AWS Integration",handler:()=>{i()},icon:u(jq,{}),disabled:p,upgrade:!C},{name:"DigitalOcean Integration",handler:()=>{s()},icon:u(Uq,{}),disabled:p,upgrade:!C},{name:"Azure Integration",handler:()=>{e()},icon:u($q,{}),disabled:p,upgrade:!C}],disabled:p,children:[u(ic,{className:m.icon}),"New Host"]}),g&&L(li,{onClick:a,children:[u(k8,{className:m.icon}),"Terminal"]}),L(li,{onClick:l,className:m.buttonWithUpgrade,children:[u(Vq,{className:m.icon}),"Serial",!C&&u(Vh,{className:m.upgradeIcon})]}),h]})},Yye=K()({icon:{width:"12px",height:"12px"},buttonWithUpgrade:{"--upgrade-icon-color":"var(--dark-grey-7)","&:hover":{"--upgrade-icon-color":"var(--white)"},".termius-dark-theme &":{"--upgrade-icon-color":"var(--dark-grey-7)","&:hover":{"--upgrade-icon-color":"var(--white)"}}},upgradeIcon:{color:"var(--upgrade-icon-color)",width:12,height:12,transition:".2s all ease"}}),Xye=Se.memo(Qye),Jye=t=>{const[e,n]=f.useState(!1);return f.useLayoutEffect(()=>{const o=({key:s})=>{s.toLowerCase()===t.toLowerCase()&&n(!0)},r=({key:s})=>{s.toLowerCase()===t.toLowerCase()&&n(!1)},i=()=>{n(!1)};return window.addEventListener("keydown",o),window.addEventListener("keyup",r),window.addEventListener("blur",i),()=>{window.removeEventListener("keydown",o),window.removeEventListener("keyup",r),window.removeEventListener("blur",i)}},[t]),e};function e9e(t){const{getMenuItems:e,...n}=t,o=Jye("alt");return u(Xh,{menuItems:e(o),...n})}function t9e({className:t}){const{classes:e}=n9e(),n=V(xo);return u("div",{className:ce(t,e.header,{"termius-dark-theme":n})})}const n9e=K()({header:{background:"var(--light-grey-5)",".termius-dark-theme &":{background:"var(--dark-grey-3)"},display:"flex",padding:"5px 12px",paddingTop:"4px",height:"44px",alignItems:"center",gap:"15px","&.termius-dark-theme, .termius-dark-theme &":{borderBottom:"var(--menu-border)",minHeight:"45px"}}}),o9e=(t,e)=>f.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("g",{id:"Extra icons/Link"},f.createElement("g",{id:"Subtract"},f.createElement("path",{d:"M2.55306 11.1926L3.9655 8.74617L5.70298 9.7493L4.29053 12.1957C3.23134 14.0303 3.85991 16.3762 5.69449 17.4354C7.52907 18.4946 9.87494 17.866 10.9341 16.0314L12.3466 13.585L14.084 14.5881L12.6716 17.0345C11.0584 19.8287 7.48552 20.786 4.69136 19.1728C1.8972 17.5596 0.939848 13.9868 2.55306 11.1926Z",fill:"currentColor"}),f.createElement("path",{d:"M16.0348 11.2094L17.4467 8.76389C19.0599 5.96973 18.1025 2.39685 15.3084 0.783646C12.5142 -0.829562 8.94132 0.127793 7.32811 2.92195L5.91623 5.3674L7.65371 6.37054L9.06559 3.92508C10.1248 2.09051 12.4707 1.46193 14.3052 2.52112C16.1398 3.58032 16.7684 5.92618 15.7092 7.76076L14.2973 10.2062L16.0348 11.2094Z",fill:"currentColor"}),f.createElement("path",{d:"M7.35544 14.6222C6.87565 14.3452 6.71126 13.7317 6.98827 13.2519L11.3295 5.73274C11.6065 5.25295 12.22 5.08856 12.6998 5.36557C13.1796 5.64257 13.344 6.25608 13.067 6.73587L8.72574 14.2551C8.44874 14.7349 7.83523 14.8992 7.35544 14.6222Z",fill:"currentColor"})))),r9e=f.forwardRef(o9e),i9e=f.memo(r9e),s9e=t=>{const{value:e,onChange:n,onQuickConnect:o,inputRef:r}=t,{classes:i}=a9e(),s=V(ng),a=d=>{n(d.target.value)},l=f.useMemo(()=>w3(e).address.length===0,[e]),c=s?"Find a host or ssh user@hostname...":'Type "ssh user@hostname -p port" to connect...';return u("div",{className:ce(i.container,i.colors),children:L("form",{className:ce(i.content),children:[u("input",{tabIndex:1,value:e,placeholder:c,className:i.input,type:"text",onChange:a,ref:r}),u(Ue,{color:"accent",size:"small",onClick:o,className:i.connectButton,disabled:l,type:"submit",children:"Connect"})]})})},a9e=K()({colors:{"--qc-background":"var(--light-grey-7)","--qc-content-background":"var(--light-grey-5)","--qc-border-color":"var(--light-grey-4)","--qc-input-color":"var(--dark-grey-3)","--qc-placeholder-color":"var(--light-grey-1)",".termius-dark-theme &":{"--qc-background":"var(--dark-grey-3)","--qc-content-background":"var(--dark-grey-5)","--qc-border-color":"transparent","--qc-input-color":"white","--qc-placeholder-color":"var(--dark-grey-7)"}},container:{backgroundColor:"var(--qc-background)",width:"100%",display:"flex",flexDirection:"row",padding:8,height:"var(--header-height)",zIndex:2,transition:".5s background-color ease"},content:{flex:1,display:"flex",flexDirection:"row",backgroundColor:"var(--qc-content-background)",borderRadius:10,border:"1px solid var(--qc-border-color)",alignItems:"center",paddingRight:"7px",height:36,transition:".5s background-color ease, all 0.2s"},input:{flex:1,height:"100%",border:"none",backgroundColor:"transparent",padding:"0 10px",color:"var(--qc-input-color)","&::placeholder":{color:"var(--qc-placeholder-color)"}},connectButton:{"&:disabled":{"--buttonColor":"var(--light-grey-4)",".termius-dark-theme &":{"--buttonColor":"var(--dark-grey-4)"}}}}),l9e=f.lazy(()=>P(()=>import("./HostsFiltersHeader-95ade45e.js"),["./HostsFiltersHeader-95ade45e.js","./reconnectSaga-e33541d6.js","./reconnectSaga-b241274d.css"],import.meta.url).then(t=>({default:t.HostsFiltersHeader}))),c9e=f.lazy(()=>P(()=>Promise.resolve().then(()=>bme),void 0,import.meta.url)),_A={contextMenuProperties:{open:!1},multiplayerMenuProperties:{open:!1},filters:T8(),groupPath:[],quickConnectInput:Se.createRef(),collapseFieldsOnEdit:!1,quickConnectInputFocused:!1};class eB extends f.Component{constructor(){super(...arguments);E(this,"task");E(this,"searchTipsTask");E(this,"openHostFormTask");E(this,"openCreateNewGroupForm");E(this,"state",pa(_A));E(this,"layoutRef",Se.createRef());E(this,"createHostInput",Se.createRef());E(this,"focusQuickConnect",()=>{const{current:n}=this.state.quickConnectInput;n&&n.focus()});E(this,"onSearchChange",n=>{this.setState(({filters:o})=>({filters:{...o,search:n}}))});E(this,"clearSearch",()=>{this.onSearchChange("")});E(this,"onFiltersChanged",n=>{this.setState(({filters:o})=>({filters:{...o,...n}}))});E(this,"getParentGroup",()=>this.state.groupPath[this.state.groupPath.length-1]);E(this,"canAddHost",()=>{const n=this.getParentGroup();return n?dt(n,this.props.editableVaults):!0});E(this,"getNewEntityCredentialsMode",()=>{const n=this.getParentGroup();return n&&dt(n,this.props.editableVaults)?ct(n):ct(this.props.defaultVault)});E(this,"addHost",()=>{this.state.collapseFieldsOnEdit&&this.setState({collapseFieldsOnEdit:!1});const n={...this.getNewEntityCredentialsMode(),group:this.getParentGroup(),ssh_config:{}};this.props.onOpenSlider({entity:new _t(n),formType:"host"}),this.props.dispatch(qq({hostCreationOrigin:"Hosts Screen"}))});E(this,"addGroup",()=>{const n={...this.getNewEntityCredentialsMode(),parent_group:this.getParentGroup()};this.props.onOpenSlider({entity:new Gi(n),formType:"group"}),this.props.dispatch(Gq({createGroupOrigin:"Hosts Screen"}))});E(this,"editHost",(n,o)=>{o&&this.setState({collapseFieldsOnEdit:!0}),!o&&this.state.collapseFieldsOnEdit&&this.setState({collapseFieldsOnEdit:!1}),this.closeMenu(),this.props.onOpenSlider({entity:new _t(n),formType:"host"}),this.props.dispatch(ko({entity:"Host",editButtonOrigin:"Context Menu",entityID:n.local_id??-1})),this.props.dispatch(f5.request())});E(this,"editGroup",n=>{this.closeMenu(),this.props.onOpenSlider({entity:new Gi(n),formType:"group"}),this.props.dispatch(ko({entity:"Group",editButtonOrigin:"Context Menu",entityID:n.local_id??-1})),this.props.dispatch(f5.request())});E(this,"closeMenu",()=>{this.setState({contextMenuProperties:{open:!1},multiplayerMenuProperties:{open:!1}}),this.focusHostsList()});E(this,"onGroupPathClick",n=>{this.changeGroupPath(n)});E(this,"openGroup",n=>{n!=null&&n.local_id&&this.setState(o=>({filters:{...o.filters,groupId:n.local_id},groupPath:[...o.groupPath,n]}))});E(this,"getHostProtocol",n=>{const o=n.actions[0];return o==="serial"?o:eC(n)});E(this,"handleConnectInSftp",n=>{this.closeMenu(),this.props.dispatch(H8(n))});E(this,"connectToHost",({host:n,...o})=>{this.closeMenu(),this.connectToHostsImpl({hosts:[n],...o})});E(this,"quickConnect",n=>{n.preventDefault();const o=w3(this.state.filters.search),r=this.getHostProtocol(o);try{this.connectToHost({host:o,protocol:r,newWindow:!1,quick:!0,connectionOrigin:"Quick Connect"}),this.clearSearch()}catch{}});E(this,"onTab",n=>{n==null||n.preventDefault();const{current:o}=this.layoutRef;o!=null&&(o.focus(),o.selectFirstItem())});E(this,"onShareGroupMenuItem",n=>{this.closeMenu();const o=Ie.v4();this.sendSharingFlowAnalytics({sharedEntityType:"Group",funnelID:o}),Pt(this.context,{dialog:"ShareAndInvite",target:ge(),options:{closeOnBackdropClick:!1},props:{entitiesToShare:{groups:[n]},entryPointForAnalytics:"Context Group",teamTrialFunnelID:o}}).catch(He)});E(this,"onShareHostMenuItem",n=>{this.closeMenu();const o=Ie.v4();this.sendSharingFlowAnalytics({sharedEntityType:"Host",funnelID:o}),Pt(this.context,{dialog:"ShareAndInvite",target:ge(),options:{closeOnBackdropClick:!1},props:{entitiesToShare:{hosts:[n]},entryPointForAnalytics:"Context Host",teamTrialFunnelID:o}}).catch(He)});E(this,"onShareHostsAndGroupsMenuItem",(n,o)=>{this.closeMenu();const r=Ie.v4();this.sendSharingFlowAnalytics({sharedEntityType:"Hosts",funnelID:r}),Pt(this.context,{dialog:"ShareAndInvite",target:ge(),options:{closeOnBackdropClick:!1},props:{entitiesToShare:{hosts:n,groups:o},entryPointForAnalytics:"Context Multiselect Hosts",teamTrialFunnelID:r}}).catch(He)});E(this,"sendSharingFlowAnalytics",({sharedEntityType:n,funnelID:o})=>{const{dispatch:r}=this.props,i=n==="Hosts",s=i?"Hosts Multi-Select Context Menu":`${n} Context Menu`;r(xu({sharingButtonLocation:s,sharedEntity:i?"Hosts Multi-Select":n}));const a=i?"Context Multiselect Hosts":`Context ${n}`;r(he("createTeamWizardViewOpened",{createTeamWizardStep:"Description",openedFrom:a,teamTrialFunnelID:o,trial:"yes"})),r(he("teamTrialFunnelStarted",{openedFrom:a,teamTrialFunnelID:o,teamTrialPlan:"Team"}))});E(this,"resolveDuplicates",()=>{this.props.dispatch(Kq())});E(this,"addImport",async()=>{const{dispatch:n}=this.props,{groupPath:o,filters:r}=this.state;n(Zq({importButtonLocation:"Hosts"}));try{await wye(),(o.length!==0||r.groupId)&&this.changeGroupPath([])}catch(i){Po.swallow(i)}});E(this,"awsImport",()=>{const{dispatch:n,isPro:o}=this.props;if(!o){Pt(this.context,{dialog:"ProFeatures",target:ge(),props:{openWithNumber:po("Integrations"),from:"Integrations Add on Hosts"}}).catch(He);return}n(m5({cloudIntegration:"AWS",cloudSyncButtonOrigin:"Add Entity Dropdown on Hosts"})),n(rf(new Gi({...this.getNewEntityCredentialsMode(),label:"AWS",cloud_config:new Qq({}),parent_group:this.getParentGroup()})))});E(this,"addDigitalOcean",()=>{const{dispatch:n,isPro:o}=this.props;if(!o){Pt(this.context,{dialog:"ProFeatures",target:ge(),props:{openWithNumber:po("Integrations"),from:"Integrations Add on Hosts"}}).catch(He);return}n(m5({cloudIntegration:"Digital Ocean",cloudSyncButtonOrigin:"Add Entity Dropdown on Hosts"})),n(rf(new Gi({...this.getNewEntityCredentialsMode(),label:"Digital Ocean",cloud_config:new Yq({}),parent_group:this.getParentGroup()})))});E(this,"addAzure",()=>{const{dispatch:n,isPro:o}=this.props;if(!o){Pt(this.context,{dialog:"ProFeatures",target:ge(),props:{openWithNumber:po("Integrations"),from:"Integrations Add on Hosts"}}).catch(He);return}n(m5({cloudIntegration:"Azure",cloudSyncButtonOrigin:"Add Entity Dropdown on Hosts"})),n(rf(new Gi({...this.getNewEntityCredentialsMode(),label:"Azure",cloud_config:new Xq({}),parent_group:this.getParentGroup()})))});E(this,"openLocalTerminal",()=>{const{dispatch:n,hasLocalhost:o}=this.props;if(Md&&!o){n(pR({from:"LocalTerminal",feature:"Serial Connections",trial:"no",upgradeToProFunnelID:Ie.v4()})),Oye();return}n(K8({windowId:ge()}))});E(this,"openSerialConnection",()=>{const{dispatch:n,isPro:o}=this.props;if(!o){Pt(this.context,{dialog:"ProFeatures",target:ge(),props:{openWithNumber:po("Serial"),from:"Serial"}}).catch(He);return}n(Z8({windowId:ge(),source:"Toolbar"}))});E(this,"copyLink",n=>{const o=Lie(n);navigator.clipboard.writeText(o).then(()=>{this.props.dispatch(Jq({id:Ie.v4(),createdAt:new Date,variant:"message",message:"The link was copied"})),this.props.dispatch(eG()),this.props.isCopyLinkInfoVisible&&this.props.dispatch(tG())}),this.closeMenu()});E(this,"onSyncWithCloud",n=>{this.props.dispatch(wk.request({group:n,withBackendSync:!0})),this.closeMenu()});E(this,"handleSliderClosed",()=>{setTimeout(()=>this.focusHostsList(),250)});E(this,"getGroups",()=>{const{groups:n,filterEntitiesWithPreview:o}=this.props;return o(n,"group")});E(this,"getHosts",()=>{const{hosts:n,filterEntitiesWithPreview:o}=this.props;return o(n,"host")});E(this,"handleEdit",n=>{this.state.collapseFieldsOnEdit&&this.setState({collapseFieldsOnEdit:!1}),this.props.onOpenSlider({entity:n,formType:tp(n)?"host":"group"}),this.props.dispatch(ko({entity:tp(n)?"Host":"Group",editButtonOrigin:"Entity Cell",entityID:n.local_id??-1})),this.props.dispatch(f5.request())});E(this,"tryEditFromKeyboard",n=>{if(!("items"in this.state.contextMenuProperties))return;const{open:o,items:r}=this.state.contextMenuProperties;!o||r.length!==1||n.key.toLowerCase()==="e"&&(this.setState({contextMenuProperties:{open:!1}}),this.handleEdit(r[0]))});E(this,"handleCreateHost",()=>{const n=new Gi(this.getParentGroup());this.editHost(new _t({address:"",ssh_config:new hi({}),group:n,...ct(n)}))});E(this,"renderData",()=>{const{classes:n,sort:o,onScreen:r,isGridLayout:i,isSliderAnimationInProgress:s,hostForm:a,groupForm:l,onCloseSlider:c,formType:d,entitiesLayoutRef:p}=this.props,{filters:h,groupPath:m}=this.state,g=this.getGroups(),C=this.getHosts(),v=C.length!==0||g.length!==0;if(this.areListsEmptyAndNoPreviews())return u(Gd,{onClick:c,children:h.search&&v?u(Au,{offsetTop:95}):u(Hye,{inputRef:this.createHostInput,onEditHost:_=>this.editHost(_,!0)})});const y=m.length===0,b=this.props.shouldShowTeamPromo&&y&&!this.state.filters.search,w=y&&!this.state.filters.search,x=d==="host"?new _t(a.editableEntity):new Pm(l.editableEntity);return L("div",{className:ce(n.lists,{[n.gridBackground]:i}),children:[w&&u("div",{className:ce(n.promotionBannerWrapper,this.props.isPromotionBannerShown?n.promotionBannerVisible:n.promotionBannerHidden),children:u(Wye,{})}),u(I8,{groups:m,onClick:this.onGroupPathClick,p:"20px 30px 0px",zIndex:2}),u("div",{className:n.listWrapper,children:u(mk,{emptyScreen:u(Dye,{}),emptySearchScreen:u(gk,{offsetTop:y?50:0}),onCreateHost:this.handleCreateHost,shouldShowTeamPromotion:b,editableGroupPreview:this.props.editableGroupPreview,editableHostPreview:this.props.editableHostPreview,forcedSelectedItem:x,groups:g,hosts:C,filters:h,sort:o,onGroupSelect:t6,onHostSelect:t6,onEdit:this.handleEdit,onClearSelection:t6,openGroup:this.openGroup,onDoubleClick:this.handleDoubleClick,onEnter:this.handleEnter,onMultiplayerMenu:this.openMultiplayerMenu,openedMultiplayerHostWidgetId:this.getOpenedMultiplayerHostWidgetId(),openMenu:this.openMenu,onTabPressed:this.focusQuickConnect,layoutRef:_3(this.layoutRef,p),showEmptySearchTips:!0,onClickAway:c,layoutSourceProps:{onScreen:r,disableLayoutAutoFocus:this.state.quickConnectInputFocused||this.props.isSliderOpened,disableLayoutResize:s,editingOnClickMode:this.props.isSliderOpened},showMultiplayer:!0,isSliderOpen:s})})]})});E(this,"getOpenedMultiplayerHostWidgetId",()=>{var n;return this.state.multiplayerMenuProperties.open?hr((n=this.state.multiplayerMenuProperties.host)==null?void 0:n.id,void 0):void 0});E(this,"openMultiplayerMenu",(n,o)=>{this.setState({multiplayerMenuProperties:{open:!0,anchorPosition:n,host:o}})});E(this,"openMenu",(n,o)=>{const r=Ie.v4();this.setState({contextMenuProperties:{open:!0,...n,items:o,wizardID:r}}),this.props.dispatch(Su({onScreen:"Hosts",openedVia:"Right Click",wizardID:r}))});E(this,"duplicateHosts",n=>{this.closeMenu(),this.props.dispatch(Q6.request(n)),this.props.dispatch(Y6({entity:"Host",onScreen:"Hosts"}))});E(this,"handleReactKeyDown",n=>{const{nativeEvent:o}=n;o.code==="Tab"&&this.onTab(o)});E(this,"onNewHostChevronToolbarButton",()=>{this.props.dispatch(tC({onScreen:"Hosts",associatedWith:"New Host"}))});E(this,"onCopyToVault",async(n,o,r)=>{await We(this.context,fi,{wizardID:r,entities:n,targetState:ct(o),operation:"Copy",source:"ContextMenu",cancelable:!0})});E(this,"onMoveToVault",async(n,o,r)=>{await We(this.context,fi,{wizardID:r,entities:n,targetState:ct(o),operation:"Move",source:"ContextMenu",cancelable:!0})});E(this,"deleteGroupsAndHosts",async(n,o)=>{this.closeMenu();try{await u9({groups:n,hosts:o})}catch(r){Po.swallow(r);return}await this.props.onCloseSlider(),await We(this.context,z2,{hosts:o,groups:n})});E(this,"getMenuItems",n=>{const o=this.state.contextMenuProperties;if(!o.open)return[];const{items:r}=o;switch(r.length){case 0:return[];case 1:{const[i]=r;return tp(i)?this.hostMenuItems(i,o.wizardID,n):this.groupMenuItems(i,o.wizardID,n)}default:return this.multiselectMenuItems(r,o.wizardID,n)}});E(this,"handleDoubleClick",(n,o)=>{n.address&&this.connectToHost({host:n,newWindow:o.altKey,connectionOrigin:"Double Click"})});E(this,"handleEnter",(n,o)=>{const[r,i]=Fd(n,tp);r.length!==0&&this.connectToGroupsAndHosts({groups:i,hosts:r,connectionOrigin:"Hosts Screen",newWindow:o.altKey})});E(this,"addToWorkspace",({host:n,workspaceTabId:o})=>{this.connectToHost({host:n,newWindow:!1,connectionOrigin:"Hosts Screen",workspaceTabId:o})});E(this,"focusActionField",()=>{this.areListsEmptyAndNoPreviews()?this.focusCreateHostField():this.focusQuickConnect()});E(this,"focusCreateHostField",()=>{var n;(n=this.createHostInput.current)==null||n.focus()});E(this,"areListsEmptyAndNoPreviews",()=>{const{hosts:n,groups:o,shouldShowNewEntityPreview:r,hostForm:i,groupForm:s}=this.props;return oG(n,o)&&!r({type:"host",isFormInDraftMode:i.isDraftMode})&&!r({type:"group",isFormInDraftMode:s.isDraftMode})})}static getDerivedStateFromProps(n,o){return oF(n,o)}componentDidMount(){this.focusActionField(),on.callbackMap.openTerminalSearch=()=>this.focusQuickConnect(),this.task=this.context.run(this.watchLogout,this),this.searchTipsTask=this.context.run(this.watchSearchTips,this),this.openHostFormTask=this.context.run(this.watchOpenHostForm,this),this.openCreateNewGroupForm=this.context.run(this.watchOpenCreateNewGroupForm,this),document.addEventListener("keydown",this.tryEditFromKeyboard);const{current:n}=this.state.quickConnectInput;n&&(n.onfocus=()=>{this.setState({quickConnectInputFocused:!0})},n.onblur=()=>{this.setState({quickConnectInputFocused:!1})})}componentDidUpdate(n){const{onScreen:o,isAuthorized:r}=this.props;(o&&!n.onScreen||o&&r&&!n.isAuthorized)&&this.focusActionField()}componentWillUnmount(){var n,o,r,i;delete on.callbackMap.openTerminalSearch,(n=this.task)==null||n.cancel(),(o=this.searchTipsTask)==null||o.cancel(),(r=this.openHostFormTask)==null||r.cancel(),(i=this.openCreateNewGroupForm)==null||i.cancel(),document.removeEventListener("keydown",this.tryEditFromKeyboard)}focusHostsList(){const{current:n}=this.layoutRef;n&&n.focus()}*watchLogout(n){yield*fe(Li.request,()=>{n.clearLocalState(),n.props.resetSlider()})}*watchSearchTips(n){yield*fe(zye,({payload:o})=>{n.focusQuickConnect(),n.setState(({filters:r})=>({filters:{...r,search:o}}))})}*watchOpenHostForm(n){yield*fe(q2,({payload:o})=>{n.props.onOpenSlider({entity:new _t(o),formType:"host"})})}*watchOpenCreateNewGroupForm(n){yield*fe(rf,({payload:o})=>{n.props.onOpenSlider({entity:new Gi(o),formType:"group"})})}clearLocalState(){this.setState(pa(_A))}changeGroupPath(n){const o=n[n.length-1];this.setState(r=>({filters:{...r.filters,groupId:o?o.local_id:null},groupPath:n}))}render(){const{classes:n,showVaultsEmptyScreen:o}=this.props,{filters:r,collapseFieldsOnEdit:i}=this.state;return o?u(Ic,{}):L("div",{className:n.root,children:[L("div",{className:n.container,children:[u("div",{className:n.quickConnectHotKeys,onKeyDown:this.handleReactKeyDown,children:u(s9e,{value:r.search,onChange:this.onSearchChange,onQuickConnect:this.quickConnect,inputRef:this.state.quickConnectInput})}),u(f.Suspense,{fallback:u(t9e,{}),children:u(l9e,{className:n.filtersHeader,onFiltersChanged:this.onFiltersChanged,filters:r,children:u(Xye,{onAddHost:this.addHost,onAddGroup:this.addGroup,onAddImport:this.addImport,onAddAwsImport:this.awsImport,onAzureImport:this.addAzure,onAddDigitalOceanImport:this.addDigitalOcean,onOpenLocal:this.openLocalTerminal,onOpenSerial:this.openSerialConnection,onResolveDuplicates:this.resolveDuplicates,onNewHostChevronButton:this.onNewHostChevronToolbarButton,disableAdding:!this.canAddHost()})})}),this.renderData()]}),u(e9e,{...this.state.contextMenuProperties,getMenuItems:this.getMenuItems,className:n.contextMenu,onClose:this.closeMenu}),this.state.multiplayerMenuProperties.open&&u(_ye,{...this.state.multiplayerMenuProperties,onConnect:this.props.onMultiplayerConnect,onClose:this.closeMenu}),u(f.Suspense,{fallback:null,children:u(Jh,{value:"host",children:u(c9e,{connectToHost:s=>this.connectToHost({host:s,connectionOrigin:"Edit Host Screen"}),isOpened:this.props.isSliderOpened,hostForm:this.props.hostForm,groupForm:this.props.groupForm,formType:this.props.formType,onClosed:this.handleSliderClosed,onCloseSlider:this.props.onCloseSlider,resetSlider:this.props.resetSlider,updateSliderAnimationProgress:this.props.updateSliderAnimationProgress,isOpenedFromEmptyScreen:i})})})]})}connectToHostsImpl({hosts:n,protocol:o,newWindow:r=!1,quick:i=!1,connectionOrigin:s,workspaceTabId:a}){const{enterHosts:l,isDetectOSEnabled:c}=this.props;l(n.map(d=>({connection:new pt({host:d,protocol:o??this.getHostProtocol(d),quick:i,isDetectOSEnabled:c}),connectionOrigin:s})),{newWindow:r,workspaceTabId:a})}connectToGroupsAndHosts({groups:n,hosts:o,...r}){this.closeMenu(),this.connectToHostsImpl({hosts:this.uniqueHosts(n,o),...r}),this.props.dispatch(nG({groups:n.length,hosts:o.length}))}uniqueHosts(n,o){return N2([...n.map(r=>r.children_hosts),o].flat(),r=>r.local_id)}duplicateMultiselect(n,o){this.closeMenu(),this.props.dispatch(Q6.request(this.uniqueHosts(n,o))),this.props.dispatch(Y6({entity:"Host",onScreen:"Hosts"}))}getContextMenuItemsForSharing(){return this.state.contextMenuProperties.open?this.state.contextMenuProperties.items.filter(n=>dt(n,this.props.editableVaults)):[]}hostMenuItems(n,o,r){var m;const{editableVaults:i,classes:s,isCopyLinkInfoVisible:a,workspaceTerminalTabs:l}=this.props,d=(n.actions.length>0?n.actions:["ssh","mosh","telnet"]).flatMap(d9e(n,this.connectToHost,r,r?"Connect In a New Window Context Menu":"Connect In Context Menu")),p=!!l.length,h=l.map(g=>({title:g.title,id:g.id}));return[{key:"connect",name:r?"Quick Connect in a new window":"Quick Connect",handler:()=>this.connectToHost({host:n,newWindow:r,connectionOrigin:r?"Quick Connect In a New Window Context Menu":"Quick Connect In Context Menu"}),icon:u(kr,{}),endAdornment:!r&&u(ho,{children:u(Om,{})})},{key:"connectWith",name:r?"Connect in a new window":"Connect",icon:u(kr,{}),items:[...d,{name:"with SFTP",handler:()=>this.handleConnectInSftp(n),disabled:r},...Mn(!r,[{name:"in a new window",type:"footer",handler:()=>this.connectToHost({host:n,newWindow:!0,connectionOrigin:"Connect In a New Window Context Menu"}),endAdornment:!r&&L("div",{className:s.shortcutLine,children:["Hold",u(ho,{children:((m=gd("Alt"))==null?void 0:m.toString())||""})]})}])]},{visible:p,name:"Add to Workspace",icon:u(X2,{}),items:h.map(g=>({name:g.title,handler:()=>this.addToWorkspace({host:n,workspaceTabId:g.id})}))},{name:Dd(n,i,"host"),handler:()=>this.editHost(n),icon:u(J6,{}),endAdornment:u(ho,{children:"E"})},{visible:!this.props.isTeam,name:"Collaborate",handler:()=>this.onShareHostMenuItem(n),icon:u(Pr,{className:s.shareIcon})},...this.getVaultContextMenuItems(o,"Context Host"),{visible:dt(n,i),name:"Duplicate",handler:()=>this.duplicateHosts([n]),icon:u(Ud,{})},{visible:!(!n.ssh_config&&n.telnet_config),name:"Copy Link",handler:()=>this.copyLink(n),icon:u(i9e,{}),info:a?"Share host details with your teammate or add it into your documentation to connect in one click.":void 0},{visible:Ln(n,i),name:"Remove",handler:()=>this.deleteGroupsAndHosts([],[n]),icon:u(p4,{})}]}groupMenuItems(n,o,r){var c;const{editableVaults:i,classes:s,isPro:a}=this.props,l=["ssh","telnet","mosh"].map(d=>({name:`with ${b7.get(d)}`,handler:()=>this.connectToGroupsAndHosts({groups:[n],hosts:[],protocol:d,newWindow:r,connectionOrigin:r?"Connect In a New Window Context Menu":"Connect In Context Menu"})}));return[{key:"connect",name:r?"Quick Connect in a new window":"Quick Connect",handler:()=>this.connectToGroupsAndHosts({groups:[n],hosts:[],newWindow:r,connectionOrigin:r?"Quick Connect In a New Window Context Menu":"Quick Connect In Context Menu"}),icon:u(kr,{}),disabled:!n.children_hosts.length},{key:"connectWith",name:r?"Connect in a new window":"Connect",icon:u(kr,{}),disabled:!n.children_hosts.length,items:[...l,...Mn(!r,[{name:"in a new window",type:"footer",handler:()=>this.connectToGroupsAndHosts({groups:[n],hosts:[],newWindow:!0,connectionOrigin:"Connect In a New Window Context Menu"}),endAdornment:!r&&L("div",{className:s.shortcutLine,children:["Hold",u(ho,{children:((c=gd("Alt"))==null?void 0:c.toString())||""})]})}])]},{name:Dd(n,i,"group"),handler:()=>this.editGroup(n),icon:u(J6,{}),endAdornment:u(ho,{children:"E"})},{visible:!this.props.isTeam,name:"Collaborate",handler:()=>this.onShareGroupMenuItem(n),icon:u(Pr,{className:s.shareIcon})},...this.getVaultContextMenuItems(o,"Context Group"),{visible:IF({isPro:a,group:n,editableVaults:i}),name:"Pull data from cloud",handler:()=>this.onSyncWithCloud(n),icon:u(f9,{className:s.cloudSyncIcon})},{visible:Ln(n,i),name:"Remove",handler:()=>this.deleteGroupsAndHosts([n],[]),icon:u(p4,{})}]}multiselectMenuItems(n,o,r){var d;const[i,s]=Fd(n,tp),{editableVaults:a,classes:l}=this.props,c=["ssh","telnet","mosh"].map(p=>({name:`with ${b7.get(p)}`,handler:()=>this.connectToGroupsAndHosts({groups:s,hosts:i,protocol:p,newWindow:r,connectionOrigin:r?"Connect In a New Window Context Menu":"Connect In Context Menu"})}));return[{key:"connect",name:r?"Quick Connect in a new window":"Quick Connect",handler:()=>this.connectToGroupsAndHosts({groups:s,hosts:i,newWindow:r,connectionOrigin:r?"Quick Connect In a New Window Context Menu":"Quick Connect In Context Menu"}),icon:u(kr,{})},{key:"connectWith",name:r?"Connect in a new window":"Connect",icon:u(kr,{}),items:[...c,...Mn(!r,[{name:"in a new window",type:"footer",handler:()=>this.connectToGroupsAndHosts({groups:s,hosts:i,newWindow:!0,connectionOrigin:"Connect In a New Window Context Menu"}),endAdornment:!r&&L("div",{className:l.shortcutLine,children:["Hold",u(ho,{children:((d=gd("Alt"))==null?void 0:d.toString())||""})]})}])]},{visible:!this.props.isTeam,name:"Collaborate",handler:()=>this.onShareHostsAndGroupsMenuItem(i,s),icon:u(Pr,{className:l.shareIcon})},...this.getVaultContextMenuItems(o,"Context Multiselect Hosts"),{visible:s.length===0&&dt(i,a),name:"Duplicate",handler:()=>this.duplicateMultiselect(s,i),icon:u(Ud,{})},{visible:Ln(s,a)&&Ln(i,a),name:"Remove",handler:()=>this.deleteGroupsAndHosts(s,i),icon:u(p4,{})}]}getVaultContextMenuItems(n,o){return yl({teamRole:this.props.teamRole,entities:this.getContextMenuItemsForSharing(),vaults:this.props.editableVaults,vaultsMembers:this.props.vaultsMembers,onCopy:this.onCopyToVault,onMove:this.onMoveToVault,onCloseMenu:this.closeMenu,dispatch:this.props.dispatch,isAuthorized:this.props.isAuthorized,shouldPromoteUpgrade:this.props.isStarterPlan,newVaultButtonType:this.props.newVaultButtonType,...os(this.context,this.props.dispatch,o),wizardID:n})}}E(eB,"contextType",uc);const d9e=(t,e,n,o)=>r=>{const i=b7.get(r)||[];return i==null?[]:[{name:`with ${i}`,handler:()=>e({host:t,protocol:r,newWindow:n,connectionOrigin:o})}]},b7=new Map([["ssh","SSH"],["local","SSH"],["mosh","Mosh"],["telnet","Telnet"],["stream","Stream"],["session-log","Session Log"],["serial","Serial"]]),t6=()=>{},xA="cubic-bezier(0.4, 0, 0.2, 1), cubic-bezier(0.4, 0, 0.2, 1), cubic-bezier(0.4, 0, 0.2, 1)",u9e={...rG,root:{display:"flex",width:"100%",height:"100%"},container:{position:"relative",minWidth:0,width:"100%",height:"100%",display:"flex",flexDirection:"column",backgroundColor:"var(--main-bg)",transition:".5s background-color ease"},quickConnectHotKeys:{zIndex:1},filtersHeader:{flexShrink:0},lists:{position:"relative",flex:1,display:"flex",flexDirection:"column",overflow:"auto"},listWrapper:{flex:"1 1 auto",height:"100%",display:"flex"},gridBackground:{background:"var(--entity-grid-background)",transition:".5s background ease"},defaultSharedGroupEndAdornment:{width:"16px",height:"16px"},shareIcon:{width:"17px",display:"flex",flexShrink:0},cloudSyncIcon:{width:"17px",fill:"currentColor"},rotate:{transform:"rotate(180deg)"},shortcutLine:{display:"flex",gap:"3px",alignItems:"center",color:"var(--light-grey-3)",".termius-dark-theme &":{color:"var(--dark-grey-7)"}},contextMenu:{minWidth:"270px"},promotionBannerWrapper:{marginLeft:"30px",marginRight:"32px",willChange:"opacity, max-height, margin-top"},promotionBannerVisible:{opacity:1,maxHeight:"200px",marginTop:"20px",transitionProperty:"max-height, margin-top, opacity",transitionDuration:"0.4s, 0.4s, 0.4s",transitionDelay:"0s, 0.05s, 0.15s",transitionTimingFunction:xA},promotionBannerHidden:{opacity:0,maxHeight:"0px",marginTop:"0px",transitionProperty:"opacity, max-height, margin-top",transitionDuration:"0.25s, 0.35s, 0.35s",transitionDelay:"0s, 0.1s, 0.1s",transitionTimingFunction:xA}},p9e=kc(g9)(eB),h9e=Je(_o(Vye)(p9e),u9e,{name:"ConnectedHostsList"});var X9={},f9e=Cr;Object.defineProperty(X9,"__esModule",{value:!0});var w7=X9.default=void 0,m9e=f9e(vr()),g9e=yr,v9e=(0,m9e.default)((0,g9e.jsx)("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67 2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt");w7=X9.default=v9e;const C9e=({filters:t,onFiltersChanged:e,tab:n,dispatch:o,...r})=>{const i=f.useCallback(s=>{const{sort:a}=s;a?o(A8({tab:n,sort:a.type,reverse:a.reverse})):e(s)},[o,e,n]);return u(iG,{filters:t,onFiltersChanged:i,tab:n,...r})},y9e=(t,e)=>({filters:S9e(t,e)}),S9e=tn((t,e)=>t.sorting[e.tab],(t,e)=>e.filters,(t,e)=>fa(e,t)),A3=f.memo(_o(y9e)(C9e)),tB=new ht,nB=()=>{tB.next({type:"closeExportKeyForm"})};function b9e(){const{classes:t}=w9e();return u(hn,{offsetTop:95,className:t.wrapper,children:u(wo,{title:"Add credentials",text:"Store your credentials to quick and securely access your servers.",icon:u(M8,{height:"25px",width:"25px"})})})}const w9e=K()({wrapper:{backgroundColor:"var(--entity-grid-background)"}}),_9e=()=>u(Au,{offsetTop:95}),vh=(t,e)=>{const n=[];return t.forEach(o=>{n.push(...o.devices.filter(r=>r.public_key).flatMap(r=>{const i=r.public_key;if(!i)return"";const s=`${i.public_key} Multikey by Termius from ${o.email} ${i.generated_at}`;return[`# Multikey by Termius ${o.email===e?"from":"by"} ${o.email} from ${r.name}`,s]}))}),n.join(`
`)},oB=`if test ! -e $1; then mkdir -p $1; chmod 700 $1; fi; 
if test ! -e $1/$2; then touch $1/$2; chmod 600 $1/$2; fi; 
cp $1/$2 /tmp/$2.bak; 
OTHER_KEYS=$(grep -v 'Multikey by Termius' /tmp/$2.bak); TERMIUS_KEYS='$3'; 
if [ -z "\${OTHER_KEYS}" ]; then
  echo "$TERMIUS_KEYS" >> $1/$2
   return; fi

echo "$OTHER_KEYS" > /tmp/$2.bak; echo "$TERMIUS_KEYS" >> /tmp/$2.bak; 
mv /tmp/$2.bak $1/$2;`,J9=(t,e,n)=>oB.replaceAll("$1",t).replaceAll("$2",e).replaceAll("$3",n),AA=()=>{const{classes:t}=x9e();return u(Uy,{className:t.root})},x9e=K()({root:{color:"var(--blue)",marginLeft:"2px",marginRight:"2px"}}),A9e=`if test ! -e $1;
then mkdir -p $1;
chmod 700 $1;
fi;
if test ! -e "$1/$2";
then touch "$1/$2";
chmod 600 "$1/$2";
fi;
echo $3 >> "$1/$2";`,T9e=t=>t?t instanceof Rt?oB:A9e:"",I9e=t=>{const{sliderFormEntityLocalPath:e,pageSliderFormPreview:n,formType:o}=t,r=hR(e).localId,i=new ft({...n,local_id:r}),s=new Nt({...n,local_id:r,is_visible:!0}),a=new Yt({...n,local_id:r});if(o==="key")return i;if(o==="identity")return s;if(o==="sep")return a},E9e=(t,e)=>f.createElement("svg",{width:60,height:60,viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.8797 0H17.1424V5.93987H11.8797C8.59925 5.93987 5.93987 8.59925 5.93987 11.8797V17.1428H0V11.8797C0 5.31875 5.31874 0 11.8797 0ZM0 42.8571V48.1203C0 54.6813 5.31875 60 11.8797 60H17.1424V54.0601H11.8797C8.59925 54.0601 5.93987 51.4008 5.93987 48.1203V42.8571H0ZM54.0601 42.8571V48.1203C54.0601 51.4008 51.4008 54.0601 48.1203 54.0601H42.8567V60H48.1203C54.6813 60 60 54.6813 60 48.1203V42.8571H54.0601ZM60 17.1428V11.8797C60 5.31874 54.6813 0 48.1203 0H42.8567V5.93987H48.1203C51.4008 5.93987 54.0601 8.59925 54.0601 11.8797V17.1428H60Z",fill:"currentColor"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.9038 12.8279C25.8299 12.0294 27.8812 11.625 30.0007 11.625C38.399 11.625 45.2314 18.1016 45.2314 26.0625C45.2314 26.7873 45.8514 27.375 46.616 27.375C47.3807 27.375 48.0007 26.7873 48.0007 26.0625C48.0007 16.6539 39.9262 9 30.0007 9C27.4971 9 25.0727 9.47873 22.7949 10.4221C22.0938 10.7124 21.7741 11.4866 22.0803 12.1505C22.388 12.8151 23.2047 13.115 23.9038 12.8279ZM17.5382 26.0625C17.5382 19.5493 23.1287 14.25 29.9997 14.25C32.8278 14.25 35.597 15.1722 37.797 16.8474C38.3926 17.3018 38.4879 18.1278 38.0093 18.6931C37.5299 19.2584 36.6605 19.3474 36.0622 18.8943C34.3273 17.5729 32.2315 16.875 29.9997 16.875C24.6553 16.875 20.3074 20.9964 20.3074 26.0625V28.6875C20.3074 29.4123 19.6874 30 18.9228 30C18.1581 30 17.5382 29.4123 17.5382 28.6875V26.0625ZM23.0764 26.0625C23.0764 22.4442 26.1823 19.5 29.9994 19.5C33.8166 19.5 36.9225 22.4442 36.9225 26.0625C36.9225 26.7873 36.3025 27.375 35.5379 27.375C34.7732 27.375 34.1533 26.7873 34.1533 26.0625C34.1533 23.8912 32.29 22.125 29.9994 22.125C27.7088 22.125 25.8456 23.8912 25.8456 26.0625V47.0625C25.8456 47.788 25.2256 48.375 24.461 48.375C23.6963 48.375 23.0764 47.788 23.0764 47.0625V26.0625ZM28.6145 26.0625C28.6145 25.3376 29.2345 24.75 29.9991 24.75C30.7638 24.75 31.3838 25.3376 31.3838 26.0625V37.875C31.3838 38.5998 30.7638 39.1875 29.9991 39.1875C29.2345 39.1875 28.6145 38.5998 28.6145 37.875V26.0625ZM29.9991 41.8125C29.2345 41.8125 28.6145 42.4002 28.6145 43.125V49.6875C28.6145 50.413 29.2345 51 29.9991 51C30.7638 51 31.3838 50.413 31.3838 49.6875V43.125C31.3838 42.4002 30.7638 41.8125 29.9991 41.8125ZM34.1542 31.3125C34.1542 30.5877 34.7741 30 35.5388 30C36.3034 30 36.9234 30.5877 36.9234 31.3125V47.0625C36.9234 47.788 36.3034 48.375 35.5388 48.375C34.7741 48.375 34.1542 47.788 34.1542 47.0625V31.3125ZM18.9228 32.625C18.1581 32.625 17.5382 33.2127 17.5382 33.9375V43.125C17.5382 43.8505 18.1581 44.4375 18.9228 44.4375C19.6874 44.4375 20.3074 43.8505 20.3074 43.125V33.9375C20.3074 33.2127 19.6874 32.625 18.9228 32.625ZM45.2305 31.3125C45.2305 30.5877 45.8505 30 46.6151 30C47.3798 30 47.9997 30.5877 47.9997 31.3125V37.875C47.9997 38.5998 47.3798 39.1875 46.6151 39.1875C45.8505 39.1875 45.2305 38.5998 45.2305 37.875V31.3125ZM39.7535 20.9111C39.0443 21.1835 38.7022 21.9481 38.9888 22.6203C39.4554 23.713 39.692 24.8711 39.692 26.0624V43.1249C39.692 43.8504 40.3119 44.4374 41.0766 44.4374C41.8412 44.4374 42.4612 43.8504 42.4612 43.1249V26.0624C42.4612 24.5321 42.1569 23.0426 41.5566 21.636C41.2699 20.9644 40.4667 20.64 39.7535 20.9111ZM16.5839 14.6871C17.0943 14.1475 17.9685 14.1001 18.5391 14.5846C19.109 15.0678 19.157 15.8977 18.6473 16.438C16.1464 19.0861 14.7692 22.5045 14.7692 26.0626V37.8751C14.7692 38.5999 14.1493 39.1876 13.3846 39.1876C12.62 39.1876 12 38.5999 12 37.8751V26.0626C12 21.8572 13.628 17.8178 16.5839 14.6871Z",fill:"currentColor"})),k9e=f.forwardRef(E9e),R9e=f.memo(k9e),P9e=(t,e)=>f.createElement("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M6.99991 0.5C6.64708 0.5 6.29391 0.625826 6.02118 0.877596L5.55444 1.30825L4.91186 1.22187C4.16052 1.12016 3.45977 1.60682 3.32804 2.32011L3.21556 2.93093L2.64151 3.22091C1.97159 3.56019 1.70475 4.34585 2.03772 4.9966L2.32216 5.55436L2.03772 6.11211C1.70475 6.76286 1.97222 7.54853 2.6428 7.8878L3.21556 8.17779L3.32804 8.7886C3.45911 9.5019 4.15986 9.98793 4.91186 9.88684L5.55573 9.80046L6.02247 10.2311C6.56793 10.7347 7.43318 10.7347 7.97865 10.2311L8.44539 9.80046L9.08926 9.88684C9.84059 9.98856 10.5413 9.50253 10.6731 8.7886L10.7856 8.17779L11.3596 7.8878C12.0302 7.54853 12.297 6.76286 11.9634 6.11211L11.6777 5.55436L11.9621 4.9966C12.2957 4.34585 12.0282 3.56019 11.3583 3.22091L10.7843 2.93093L10.6718 2.32011C10.5407 1.60682 9.83996 1.12079 9.08796 1.22187L8.44539 1.30825L7.97865 0.877596C7.70591 0.625826 7.35274 0.5 6.99991 0.5ZM2.35448 8.72444L0.0970565 10.879C-0.0770418 11.0451 -0.00666608 11.3276 0.226348 11.4022L1.70415 11.8723L2.19674 13.2827C2.27486 13.5058 2.57084 13.5723 2.74494 13.4061L5.40446 10.8678L5.24155 10.7198L4.4296 10.8284C4.22373 10.8562 4.02239 10.8466 3.82711 10.8062C3.1466 10.6665 2.64692 10.107 2.52644 9.45248L2.39715 8.74665L2.35448 8.72444ZM11.6453 8.72444L11.6027 8.74665L11.4617 9.51665C11.3201 10.2862 10.6237 10.8444 9.80553 10.8444C9.72742 10.8444 9.64966 10.8391 9.57022 10.8284L8.75827 10.7198L8.59536 10.8691L11.2549 13.4074C11.429 13.5735 11.725 13.5064 11.8031 13.284L12.2957 11.8723L13.7735 11.4022C14.0071 11.3276 14.0769 11.0451 13.9028 10.879L11.6453 8.72444Z",fill:"white"})),L9e=f.forwardRef(P9e),M9e=f.memo(L9e),O9e=(t,e)=>f.createElement("svg",{width:14,height:15,viewBox:"0 0 14 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("circle",{cx:4.30552,cy:4.26306,r:1.26304,fill:"currentcolor"}),f.createElement("circle",{cx:9.69444,cy:4.26306,r:1.26304,fill:"currentcolor"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.8874 8.71733C12.1393 8.32598 11.9472 7.82192 11.5236 7.62918C11.0999 7.43644 10.6065 7.63072 10.3318 8.00646C10.0337 8.41411 9.66194 8.76554 9.2332 9.04127C8.56684 9.46981 7.79117 9.69737 6.99891 9.69673C6.20665 9.6961 5.43134 9.4673 4.76568 9.03769C4.33738 8.76127 3.96613 8.40925 3.66875 8.00112C3.39466 7.62494 2.90155 7.42987 2.47758 7.62193C2.05361 7.81399 1.86071 8.31775 2.11204 8.7095C2.55882 9.40591 3.15106 10.0017 3.85169 10.4539C4.78938 11.0591 5.88153 11.3814 6.99756 11.3823C8.11358 11.3831 9.20625 11.0626 10.1449 10.4589C10.8463 10.0079 11.4395 9.41302 11.8874 8.71733Z",fill:"currentcolor"})),D9e=f.forwardRef(O9e),F9e=f.memo(D9e),N9e=t=>{const{biometricKeyBackend:e,onAddKey:n,onAddCertificate:o,onAddIdentity:r,onGenerateNewKey:i,onGenerateSepKey:s,onGenerateFIDO2Key:a,onKeyChevronButton:l}=t,{classes:c}=H9e(),d=de(),p=V(zt),h=()=>[{name:"Generate key",handler:()=>{d(sf({addKeyOption:"Generate",newKeyLocation:"Keychain",wizardID:null})),i()},icon:u(Nb,{})},{name:"New Identity",handler:()=>{d(fR({createIdentityOrigin:"Keychain Screen"})),d(nC({identitySource:"Keychain",numberOfLinkedElements:0,identityID:0})),r()},icon:u(aG,{})}],m=()=>{const g=un();d(sf({addKeyOption:"FIDO2 Generate",newKeyLocation:"Keychain",wizardID:g})),a(g)};return u(f.Fragment,{children:e!=null&&L(Et,{children:[L(x3,{onClick:()=>{d(Tk({newKeyLocation:"Keychain"})),n()},onMenuOpen:l,menuItems:h,children:[u(Nb,{className:c.buttonIcon}),"Key"]}),L(li,{className:c.buttonWithUpgrade,onClick:()=>{o()},children:[u(M9e,{}),"Certificate",!p&&u(Vh,{className:c.upgradeIcon})]}),L(qt,{children:[u(xe,{when:e==="secure enclave",children:L(li,{onClick:()=>{d(sf({addKeyOption:"SEPKey",newKeyLocation:"Keychain",wizardID:null})),s()},children:[u(R9e,{className:c.buttonIcon}),"Touch ID"]})}),u(xe,{when:e==="windows hello",children:L(li,{onClick:()=>{d(sf({addKeyOption:"WindowsHelloKey",newKeyLocation:"Keychain",wizardID:null})),s()},children:[u(F9e,{}),"Windows Hello"]})})]}),u(f.Fragment,{children:L(li,{onClick:m,children:[u(sG,{className:c.buttonIcon}),"FIDO2"]})})]})})},H9e=K()({buttonIcon:{width:"11px",height:"11px"},upgradeIcon:{color:"var(--upgrade-icon-color)",width:12,height:12,transition:".2s all ease"},buttonWithUpgrade:{"--upgrade-icon-color":"var(--dark-grey-7)","&:hover":{"--upgrade-icon-color":"var(--white)"}}}),pp=t=>({route:e=>e.pageSliderRoute[t]}),eS={snippet:pp("snippet"),keychain:pp("keychain"),portForwarding:pp("portForwarding"),terminal:pp("terminal"),host:pp("host")},B9e="data:image/webp;base64,UklGRq4LAABXRUJQVlA4WAoAAAAQAAAADQEATwAAQUxQSOcCAAABV2AQgtpsTxBCGWSwW0SEvuEYBn5q25q2bZKk7//NMHQEWskgGAWjYJoZA4Ngqmlna9bbmji/R3wvOaL/DNu2DVN1cy1/8u2P/xfZwMxBdUvWNm2ddTOIzQymbdjt6G4bYm3BYTfdoVxwo199+/1ECzBkjRkELVzuNGw+Hh8ENAa2jLHF6I44A5NN/OTvs10z8kFrDmED1sGEOVluypUWdz6Am4GM6SZ0ODY32/3yvxj4UDQTXNBgw00xo3RaR4Ns2W642C7TTubYDHA7BvOXBpdgzLntWrlpjNqVlESMKSvNJJax24KNwOzqavo+uxr8FSRaJm00kaIYFrBcWGs6Q+1swWZzkqAUxlBYPiCcUTYNtvFh5kZW7DBmGmjoo0mYVuLGSZwwNyI7Y5wx0oxUJ0NhwRjQmBAFChugyeg7BIyDMRvEhpFmAjaRES7hgH2sxpZotBHbBMMEK5JjBmZYrhrHPtxWtqh8kA/UkYbAIHBOM9WMRgTsw8CCbgZZzNlKtBEYZ3IbitUauholyIllYribSNWpnMNKB4ssOLlog8GAhI1oiJluYn0EE7qV2ZSGEkgGtG6Da8BQmO8rzhmGw8DWhzaHg9qyhDiMaR0a5jZIWoI+tHERZz4INnTY4ES13SEfb9NgFjiNbUzY+TAUZmHLJVAFCIbZdmezLJkxkIbvxypmoARNmGTWrm2wE3WWoplkC/P1iYx8fcq+/mnLuQeMsV5QoskL6AXbsOsVpb0h3ANquD2gTObrl4Uvr1+yMLr58ixvILJe4OYRcl7wc8PeEOkF6t6xP+GudyTs69/qnhDHE36TvEHOE4ibPIEnfLs39M0eMewRRWYPePeI98w4D+ANenJPqLk3DCz3BL03DLmyN9Q3fNde0Ic9IWZ5AbU3DEd7wcm9oWzDE0RveLE8gkeUvaJzLzgjtieIN6x7RjIecGuc/z9hj/8+IGh//seXzwa/+8MDtPTTb3/68svsbz/7BgBWUDggoAgAAFAwAJ0BKg4BUAA+MRiKRCIhoRFZJTggAwSzgGtudKoL6r8csZtszn+ueA6Jnqh/QA8tL2br9A6yFdp/m+K/al/uf5R8UQAD8Z/of+t+2b03/6X0i+rX9j9UP9I/xv5jc7lMO/l3+E/ML/L/JJ/t/4j0JfRf/O9wj+R/0n/ef3/sxfst7EP7DguOZTMCW/XUEGbCVQSNdTRjOsn0kS3N+6KNQ74mysfSkjqLOdFtj8QTJZQZ4NDMU2+vD1vXrSQm9KFSefXffkOJQNIuNc3UyqIQUm7KvmokNtm8og+xuZ1XxMvbTIqOv2F29KwCHH7JvBB2kMtpPFqRIuZUSrrsjQMrLFCfj4TwVcLi3lA5FsNU00JNL8sMt+r8Gw4xPBy7d0bD78WUSvEoxb5d2X7swg6CE5wRT82gtJJ052kSJm8KmIczs1kP0+kAl7HsbQFFpvaQZzvcoRvj4EyIVO7K2L3BpVnbVzPRxT1r7jQ2vzuC3Sc3xuDvW9Epxiwdz/xFaeHipP7lPC6EquGAAP7e2feh7aY/kQ///G7nFOHy1edcZztXn//yC/HBTHOgHsOTnPYtt6+LzDGqXIr/cxxIQiNwExhyrFfABqNv5p4obQrWajEbAhSNNKqDzBwIbOT/NUHbx7tgf+qJPX6PZwJGhKckFNxBoYKEQUEcWlwkWsPpFXGhHQy+my7konnyQ9ttybIqCqEBbrNYD3gxwF7y9dBhEmd/37G2sb/WMf/8Mns8qBsgoUf+OLYKxEq6TZ4Ug+4JTBC+lKlvufydnPAladEiXcUALQBcm8zwy0kYZ62YWEurJKO60ututy8MHzWahCpEPnEk6RFIKCgMWpB+3RaH7Iz0FPqxGxeoybCE9mm9KKEEBI45Cyqn1kA/z1ivLOmpPJK3v1LvXDXBNfqGDIzFXV1Jrt5MQraxiNFDlkh9BAbMLUs1ELxDQ/F/3X/BgXKZj+JcMPNW9dal5c92GNYgXcY14rKf642vYaFtOZ2q50GtCyWnIlYFSjTSlwf8CtTLJTdJi7RTfecZ6h/95BXAFHZ6i04eomzzltxbtfe7fmUj1xfzskuM4REiAlLgkZwj+WlSY2/gly5/8JprEbQ4RpsV8qEvmwP6vyx//lpzU+V8NgSL+PPAJWR+MkmeMO5TqTByd+DPQ/aOus4qrMBm/+FqloiaVpozT5xoZvkPs4ONsVxayD/rWtDmvzkFvDX1002NcWF9IOpG16tcUKW25rZ2DLsR+c5eUR3vwCTUs/R8Q0NIamiJ0YvFtIaQosJ6uX5OrbgVF4e0usIYyLtG/ka0hSGSTg//pv8mYvVpwtgWYbVNcFl6HyW8Fmq7TJUZX9oUY/nlr8L576ffUMZbdfjTMYm+376QFGC6zUOlMOf6kLPlQMljyRYefqWm+ziMyRebkoMMt43EBQcs8eViER9kQ0PDBQzfK3z6JDKJjMWU/Z0Qt6q4T6c4LT/4oueSBH6EWWWg2Ij2vyCWOz5dvynvj6cs7tM/SMcr8w0mfCfXn5Oip3sO/KiU//4Ff5NMly6Pks93+YwjyJGf3LLiH15gMykFkMm38LFumcynWjca4YcCa/PA1a/ovcNLz43c2Pog83O58dJX1YpmydAYwv4wH2h9+9Bis2QgEnIbJTD3EsIkRx56ZZk88afQleBRDs7cyo1KAVLecVR8OZ8v9Q+R/ddKpDYLR/6SK7+WUgp42v8tcz4CygYhYJa3kyhyM/a8v33maE9qeGituNtYkWTb8M5GeziHeikm8CN2MdP5yBoNUS/xV9dipA324Peo0zrDD6BRq6jwBNvCcbtS77CT+6bqilVN+0S79+re+p8WTbrnHf/Cck6JSldfo/p/5/xLQ/4M22HV83UIewL+d+PpIGYOxDiRO9sgdBe3gCypto1tcx4Nu88PeUK79HLKc66w9y1faCjyXfXOn6EcI71XeavzcR7/0yUVblgj3VRR4XO3DSIAzht1KRif47ABiebOPL+wHrnrV2odwW2XF+VpDsQJ5e5sJURA8TqlrBuC7DSqqSYc/vbgJ525qpUkUIdIl33pQNPHxL/6tciaWgz8zZd7gArDvn7zjg+FQkuHNSPkoDxhltQxD4L8iDYsd9HQWQpxU2llAwrsf7J2QSesrXT1flLt4363lUF2ijvTXEDwgd/I84Pgp8HfT+CEcWc5daUViwk4F/kcxU++adXZYTxDGnsQJ5l9MnTayJwFH+W8QPtVA9nSTW/fHZluX2v6/QxBZJ9F8ysjMSpIDb1/+K0gKN4hwPPvfl8A+nhXm9Z7d8GTEJYa0HqjbnXEG0rzeRjL9iXkvVFX7OGlVHk927q/8dG0Wg7RbtYkZl+KPq9od4kLQBb9uakuX2nNphZEZ0qEpnhOJyR8EQ/YkZhdIfdqY1AfPMRP2Mw5dj4SiLw3udhQLe/+ea4WyUiw1ypD/s5/bZYzUEpT/sAwTurLBxA1trOZg3v6uM9IQOy7a9doMvW1sHb/tke/7U4YkCQvLcIZP1CDK2Wqy5tKKzV56q/8PL1Gw13w1bsNKwYXRG9UJ/ESCOxDoBG3CKfhGXkqy1tMwcX6AXyM4lJSkoIAGBEL+/fv1qSj1rPaMoA0viVbbgU2aLmdmePnmu3TF1zCr9N1rCXeaLfmkAquTNRlwZTHgaC5jmp1XpCdd8lYp/yEE5VZb8FHYnWrNvgW2WJQWwhppOgfGdZK/jRLu26ez5PXOPio1pbU0fk64TYB6QDvuh9vcTx5V+Jc2LYPVrasemjN15Kdea7py9Kszya9wMNUdOEsdLzBW39fVkbdRfQwP9HZ9phyDGqW33w9lbxE2DrQdPvtoykan6DXTz7b4M7v1odaiXpfkOrQd048vsfdAEZyrkN0eHF2fIBIgxR/iLi4/5wFlnjBBBIjsCNq1ChLtkF4RbjcwFb1DMOwYOYFe9RW5EpYwAAAAA==",z9e=""+new URL("SepDarkPromo@2x-fe12fddb.webp",import.meta.url).href,V9e="data:image/webp;base64,UklGRroLAABXRUJQVlA4WAoAAAAQAAAADQEATwAAQUxQSOcCAAABV2AQgtpsTxBCGWSwW0SEvuEYBn5q25q2bZKk7//NMHQEWskgGAWjYJoZA4Ngqmlna9bbmji/R3wvOaL/DNu2DVN1cy1/8u2P/xfZwMxBdUvWNm2ddTOIzQymbdjt6G4bYm3BYTfdoVxwo199+/1ECzBkjRkELVzuNGw+Hh8ENAa2jLHF6I44A5NN/OTvs10z8kFrDmED1sGEOVluypUWdz6Am4GM6SZ0ODY32/3yvxj4UDQTXNBgw00xo3RaR4Ns2W642C7TTubYDHA7BvOXBpdgzLntWrlpjNqVlESMKSvNJJax24KNwOzqavo+uxr8FSRaJm00kaIYFrBcWGs6Q+1swWZzkqAUxlBYPiCcUTYNtvFh5kZW7DBmGmjoo0mYVuLGSZwwNyI7Y5wx0oxUJ0NhwRjQmBAFChugyeg7BIyDMRvEhpFmAjaRES7hgH2sxpZotBHbBMMEK5JjBmZYrhrHPtxWtqh8kA/UkYbAIHBOM9WMRgTsw8CCbgZZzNlKtBEYZ3IbitUauholyIllYribSNWpnMNKB4ssOLlog8GAhI1oiJluYn0EE7qV2ZSGEkgGtG6Da8BQmO8rzhmGw8DWhzaHg9qyhDiMaR0a5jZIWoI+tHERZz4INnTY4ES13SEfb9NgFjiNbUzY+TAUZmHLJVAFCIbZdmezLJkxkIbvxypmoARNmGTWrm2wE3WWoplkC/P1iYx8fcq+/mnLuQeMsV5QoskL6AXbsOsVpb0h3ANquD2gTObrl4Uvr1+yMLr58ixvILJe4OYRcl7wc8PeEOkF6t6xP+GudyTs69/qnhDHE36TvEHOE4ibPIEnfLs39M0eMewRRWYPePeI98w4D+ANenJPqLk3DCz3BL03DLmyN9Q3fNde0Ic9IWZ5AbU3DEd7wcm9oWzDE0RveLE8gkeUvaJzLzgjtieIN6x7RjIecGuc/z9hj/8+IGh//seXzwa/+8MDtPTTb3/68svsbz/7BgBWUDggrAgAABA0AJ0BKg4BUAA+MRaJQ6IhIREpXjggAwSzgGsS6fl3wk5wLRbgJPrh/2Dpkuoz9ADy0/Zvvy3rH8t97P/JywD/keJ/1IeTf+7flbxcAAPxv+i/6b7TfKS9IfqZ/h/Q//vv5hejN5K1AT+G/zX/J/279xf7n8jf+Z5nvnv/p/5j4CP5J/R/9x/gPyG+cP1vfs37Ev7Dk8OYvDgbO3kKJGkTaVSvZuqSBNb/vBg/GoDOTk6i9oM1KYbh3uB4wndg5Tn/t1OH2oyMbjs+NGkdNv6+azCvDwIAlFoUU9Cls4umbP/vF6CPrOw9NrVyOvAuTm/+FYldHLuuAy8NL/UkG1Pa2CA9XGuj9lWopLY4IPtHx8S1ZBK7uSmujz1vKGRGlzDiyoT2D/G2quzYQ7SfjkDJVNu9NFnAlKZRwkq2u2sQFiseRCxsViDKS41mmIqoJzqWwh8tqBy0ep4DgLYD52Hub68s/NB5eM/EVOAaWsooHGeAwAcydrdsNrs4eWA2tuVCYnr6JLY0kEfrnUdZq/aPv1+9mrfxllP7QA9sOCgoBFhKz61w/sYAAP7/D0c3sQb//BA9xGX5Fp4Jlzf6lSAr/cWwrriv9UhRbWPbbfyb4OPP/xyMPvirRqifNSTZixhb04IPmpJsxfAERioydj7SdmnvychpekeDyVhMxJ3mh4O4kk/pYMb6f0WAEq7yaFQBkPK68/egMZ9SE+qd+aREV09AlTCmMhWD3ImjntSK/NbV/7/9MV/9Ms+7MNLgYvaRZxRENQvz82wtPLbIREIsVjUr62/KCUkAmdKJQ5SF2RHEqmP9DPBL4i0GB4zAxhdAF3QzlsV3QAEoj+gqoDBRkSfJcUVxo8SD9xzizbsicAd28kxUH8zj2NVwdUzvM/0Py3j1ndGYeYyJ8rqvQ0iVBrja/pAL/QUJmewBt4hLiWMfO/VGLDD8Owr6dKnl08fgwUlA7Aopa923qMwQI4O3eFQReYrimZllzw0Jhl0qhtI3X5lwoVSGPaLjbilnSGV9e3FY5etRVliAPD4bLWphFC6fBNM20ltjybboIQ8cQI8seZ6prUh7XZajA9AV5JPBEWPG+nnqVrnxwO/+Qxe55mjz9XpG4a8oP2fdMMvOvvfJ7mHZFMIzyoLeVRb4Dmx//AY08y47p7xoFHMpXUbce7KPM5Si3TWelaPcUwZTp9QalGXz+FpHyubmI5Ce8SzudZ/kjfLi6HcVmTz5Qrghn+WWXt/pC2P3/l3y9LCXw/VEl05Fw+TQ3khh1Cdi3Eoxy+5h3/My6+F7BCG87m8rQloMtSwg8/dSS1bfPdDq9u7VKvvO21+BgB7aUw1vV8wBtQUoQLbu4HnKI17+jQh9zxSyUU/OSl0npinnYC8V4LmecdWay1dZh5D4YMu+x8DY8uySlMa3v6kFWgfd+CypreCB0IR/cHQI3MgLYEZGececbQbSH77hcDSqKXfhLEtageDVkTWxTLMeJqeCfdxr7PgloXU9nxlqGhVGrwJhCQGd1ytR/uUKZKGkfRTYkQ5eNQPrHAGWPHCbpjhHn//D8flw0Tthbk9GQygJzQf720v4L5o1Ye5yixrtwPMpzt9ng2L3/M00TI70+sBXH2nhoxWnG870R+Pw0iV51um8qpg8TzFHLyAuCNb5FJLPL/yEvNaz62Mjuxy2pL3SL0Em1KeFQqWtZQ3tf8aJ1KpM3pQpd/Gi8XF5hyh32c+jmpw3yFXfdc++5GnC/4nTGf1ZTCwy/7Q97idY0H6FpEmDNlLgBNYHzsZrsvvJ2OSSACwyq36+10t9V7w8DH09cCb4CfD/wQAEwQMTBooqJx8/+Pn+tFJpBB4LwZl5ab16v/L2uB7iYeuxQ6Jk/aDQOh3NU8//TZAfwkU6SlUlXvf6f+f8S8n+DS76fzdQhp287+f0XJbQCoWvWeYJoexaRB8BPJsRpi0mK/ica7tHTKcLtxopT/9g8Of+Na9RSR0ikgY5q7dAXRb/95wjiKmWl0r5J14W7hgiVrQwNmvilgPo3Q9Nsd/HPT0ztMqnPWvi2TWl1y33VMW2SUQOti6lSBHV4yFvyxl7ZrVH8OPFgkeGA7p0lm45rsmJ3rJ9E8wa11bSJLd18uK/gfSHDgJ9UIycTCrGJ3Hy5TpiRiajyOAedN12Nh5MssP6m/xGbuBJGL7Z0d+2C5/ZmcJVeeTJNbwrhW6fDqGSAlarnquanlBZD9MrgDAXRNhSX3nFuOppcnOKASaOvwCljUEe9xcD1VfKJurZTjmSOVe6fUr35amJ88+s0oTrBOJBq7hdnOQoWU1MM+MSDrwjF0hMNjFaKQchxY4uIUBHzgU36johVuX2ruL4QF+Zn3f/x1rozlJPhJA4X9xfextwUvKfLR+26eGNH2AHLcc54O+FwFgBeA5Nu7V9qoGRK6QzA7xE08UGgewvBsYxr0/Q94mN9PtT7VdFDuhtByUvTv8oO8uNVyigcs+d1oHaiMFe3QVSsxcPSWJxE8443PGdYWv2egiyyshLWs6z7Yt01lyamllscfreCkjrULZfTP+af+qZ2KSZ+9ox1uCUYT4uo6ktIqz3NR6bTFC3XZH0yqR1CoXXrRF10OgkANAB7ko2DP372N4r5Em7UGv8mj09rKYPbzVVDu4w01/P0un+7/gCeVm5vSYMltdKGw8DX1xhd2GWuNX6cGnrmz7Wyskptb0C/rhoDBCGc7Tz4YtT9f5S2LFXJ6yKWin+i43Y9leyGpAwDln1jWeP9L07M5lt2ALrZDwowE//Brd4XGgMoRcQJvU2rknAgTROfhDJdSTN6f9gEpw+NmVUH3b2NJC0XY4OOD2ncrM6V663Md0QqfdEK+dW25nxf+tU8+rZWkvNgM96KfmO/FOfQT42N8OhHGjK74uJj5uMZWncu9cV5vA5vQ2QCXKkQvp59lxo5vqMRQspJxuxY5Ci4Xj7PAi7sNwAAA==",W9e=""+new URL("SepLightPromo@2x-6bae6af0.webp",import.meta.url).href;function j9e({className:t}){const e=V(xo);return u("img",{className:t,src:e?B9e:V9e,srcSet:`${e?z9e:W9e} 2x`,alt:""})}const U9e="data:image/webp;base64,UklGRvQJAABXRUJQVlA4WAoAAAAQAAAADQEATwAAQUxQSOcCAAABV2AQgtpsTxBCGWSwW0SEvuEYBn5q25q2bZKk7//NMHQEWskgGAWjYJoZA4Ngqmlna9bbmji/R3wvOaL/DNu2DVN1cy1/8u2P/xfZwMxBdUvWNm2ddTOIzQymbdjt6G4bYm3BYTfdoVxwo199+/1ECzBkjRkELVzuNGw+Hh8ENAa2jLHF6I44A5NN/OTvs10z8kFrDmED1sGEOVluypUWdz6Am4GM6SZ0ODY32/3yvxj4UDQTXNBgw00xo3RaR4Ns2W642C7TTubYDHA7BvOXBpdgzLntWrlpjNqVlESMKSvNJJax24KNwOzqavo+uxr8FSRaJm00kaIYFrBcWGs6Q+1swWZzkqAUxlBYPiCcUTYNtvFh5kZW7DBmGmjoo0mYVuLGSZwwNyI7Y5wx0oxUJ0NhwRjQmBAFChugyeg7BIyDMRvEhpFmAjaRES7hgH2sxpZotBHbBMMEK5JjBmZYrhrHPtxWtqh8kA/UkYbAIHBOM9WMRgTsw8CCbgZZzNlKtBEYZ3IbitUauholyIllYribSNWpnMNKB4ssOLlog8GAhI1oiJluYn0EE7qV2ZSGEkgGtG6Da8BQmO8rzhmGw8DWhzaHg9qyhDiMaR0a5jZIWoI+tHERZz4INnTY4ES13SEfb9NgFjiNbUzY+TAUZmHLJVAFCIbZdmezLJkxkIbvxypmoARNmGTWrm2wE3WWoplkC/P1iYx8fcq+/mnLuQeMsV5QoskL6AXbsOsVpb0h3ANquD2gTObrl4Uvr1+yMLr58ixvILJe4OYRcl7wc8PeEOkF6t6xP+GudyTs69/qnhDHE36TvEHOE4ibPIEnfLs39M0eMewRRWYPePeI98w4D+ANenJPqLk3DCz3BL03DLmyN9Q3fNde0Ic9IWZ5AbU3DEd7wcm9oWzDE0RveLE8gkeUvaJzLzgjtieIN6x7RjIecGuc/z9hj/8+IGh//seXzwa/+8MDtPTTb3/68svsbz/7BgBWUDgg5gYAANAqAJ0BKg4BUAA+MRiKRCIhoRA1GCADBLO2/s9yuScz8z+MGtJ5eQgH0vz93Pa/iB1wG+AfqB6XH7R/DZ+1WCzTfn+p/pPjJbq7ZIZKP5n/gPy69+33zzO+Zn0Jf9V+TPOrcVfcA/j39R/wf3D/G//O+Y/5+/3P5hfQV/Mv6Z/sfuK7+X7geyX+oAjH8BxqUJWKvI4JuOVg8c/ZKCoNHM3FXmtTTc8MkIezNCnf8hEoiMniFzUM7hqyJWvOTGhNQGRuXt1ElikSoV1+aJQf1P+kjjzfRBWxYoMIEL7IK+gZWLZQ9iOPGBmfribmNBVv+OQ3KZVAFwdnM/p0qyuR6DaG8jTT1j4m3sK0pz9qDTy8LVvM6pSkXNR1mqqwnEZiMqsZplCoMKZicHfxlXszjurmLI+n5kCTcacctxU5GMRNKT5eLRXVBAkow0hVHfSWJO04XHM4N1IZq/0mF6UKAAD+7h7ztTsgTk8FCS///zNGneqA/lDzD6p3+YVh//8wTeno6ulcn3ypY9ponAgseHHiNPUa8SnlsgnUOlg4btBLPNO1TY5MbjpcJeWftQW1eirq5kzhTk4+KLp7cUanQ6+xIF4Mv+3FPKp9THGY9nBFS8uwwgb8L2qB98GpFAjMEY7PaATLlRt3EVbd+UhyAnuF8fTzqozH4s5B1OzCNc3/7/8clCXhKp0uIuN+uiGvq4bLgnN2tEB7eW8NrxsyoY+v1ykfYHUiguzASITLRCiDJnDVriQ9Iktr/R+AD9oOwH0PckCuglvj96OqmUXuZ6WNf7oD1wW4VsuoEvMQTItw/YheGe7NtmHW2BMIhSE/FJ1MDvlihbGCLunEcGWIwXLFMx7h8hTFAY/791st8miCERvAhUvmhgQGIAPQDm4dBxkVYIqVmzkRV2tqWO5mDutJU+TJgR7fxKFpU3Lt3x6VEvHxR8vmf318lQUfy6e0VPbbQc6RbwwKsPPQf/QWRr21D/uHmDZfj2rkDaKZisnG48LX1g/5eH/7OiumrtIG7MkyWc9Y+ritEKVRWhDQ3Pf+nAfS5EU14Zt2tpTnZCL+P/pY30VfhVXVt8VrIiEL9PQoNWWqrcwOpPMHywu2csJcKMkt/8V4/9AvXFzfRao8Eqsc3sl1vnyVb/PntLsP4E/RYbpl8fyPWddzwMJ4datRBTD6Y5kvvPKVpU7vODHHvJSOhgi+ynA+JTMi9K10bI41cACatnIJrgH5uAgDtzhe60fwU393ahbTosv/+UwdHX7CbqUxz+J5cMz6e+JhADLWc3l7tYQ/RfH5XTrE+6U9NQ9psOkeboq9994BqwIf1ia/D0/sXC7JQuC9BFA/ch4j14fBuusFiRejGb/SVktQ/zz7x0SNxsSg5czE7GI6HDCTL8nUF/GNZS/tBwJDWlrDL79+0p+29Xm8fBwKQ1uU4n9rEYUNfUkqYmz+vy/uZPDWqXnECWboGgZAc9stu5RZK8lQkxj10uDaZnhpaQOiRt7+D/c2RaMmfknUJ8fkzDc55PyAcZdk2NnNDyD0RQ8jfgjQ/yTJCPKkYDmiFekki6qZ2QMr0+6PAF25Nx8T1WyQm30cYhTmdEt+/bgOecT0SlYap1F8ZDS3wH3b1s4yciH/NBZh7QwjIDj7iDG6ws4QRp3imuDmiU7hlnqffu0Ay7q2mb0OnUuVKTjB1SACscbZXh+/CLxN5mfQ/iZ8ROTQmfH3l/f/Mpsl+I8EzLB4tvaXtrQrNQvU8X4rrbkvE6yUC6Q6gN6Ok+9jpbjkVJyaY0WMnHKE6A21aSseJgNi6wHZikqn6iAA94WT33M4cnYfH7pup5L3NF6J1I++pczkbblqJ7/nxXWw12+PT0Gc+DjE+N+4AaP7lwM2iSPszROF06sD/caMTPsun6iAB+iZygu7PUuSWIbN5gLu0qVucQw0e8pgmDeSJMH2Y0Je+Os9nR4ztyPeiGhiYjBVwZQC95KOuhc4iG4L3uy6KJ5/XUfsGMJKdvEYWu7syonDztHHaxrAqNYUNJ/L/Oq9U2G4MouaZ8utVjfVrBTWGI8d735r0ZLe+H5BcRqrzoB7T4Ffv4vVWGvo9xzMXXpftMLod7S7uScgguqzPhzpQxsfzxHngkE0Wqn2RZ3zdxGz+sGQ7AjYAjBkCRAcbVdUEqLPefPcIYxwJmpssJKpsIhriSJW99md5+KauRiAx4M2gwPTb5KfWJY9+r9rp3Bv3RMhb+vVqMprfIuCBdHKow4u2pwoDE14FWEgSuYJuXC0xfJ1fnS4vEZ6ZHP3Pg2p1pJlmWJJawNP52isAzoLeZNMDJmgJ/N5xrlOX/ch+NxBGwtPFPGN85AORbLYdJETWEFPAAAA",$9e=""+new URL("WindowsHelloDarkPromo@2x-7a126699.webp",import.meta.url).href,q9e="data:image/webp;base64,UklGRuYJAABXRUJQVlA4WAoAAAAQAAAADQEATwAAQUxQSOcCAAABV2AQgtpsTxBCGWSwW0SEvuEYBn5q25q2bZKk7//NMHQEWskgGAWjYJoZA4Ngqmlna9bbmji/R3wvOaL/DNu2DVN1cy1/8u2P/xfZwMxBdUvWNm2ddTOIzQymbdjt6G4bYm3BYTfdoVxwo199+/1ECzBkjRkELVzuNGw+Hh8ENAa2jLHF6I44A5NN/OTvs10z8kFrDmED1sGEOVluypUWdz6Am4GM6SZ0ODY32/3yvxj4UDQTXNBgw00xo3RaR4Ns2W642C7TTubYDHA7BvOXBpdgzLntWrlpjNqVlESMKSvNJJax24KNwOzqavo+uxr8FSRaJm00kaIYFrBcWGs6Q+1swWZzkqAUxlBYPiCcUTYNtvFh5kZW7DBmGmjoo0mYVuLGSZwwNyI7Y5wx0oxUJ0NhwRjQmBAFChugyeg7BIyDMRvEhpFmAjaRES7hgH2sxpZotBHbBMMEK5JjBmZYrhrHPtxWtqh8kA/UkYbAIHBOM9WMRgTsw8CCbgZZzNlKtBEYZ3IbitUauholyIllYribSNWpnMNKB4ssOLlog8GAhI1oiJluYn0EE7qV2ZSGEkgGtG6Da8BQmO8rzhmGw8DWhzaHg9qyhDiMaR0a5jZIWoI+tHERZz4INnTY4ES13SEfb9NgFjiNbUzY+TAUZmHLJVAFCIbZdmezLJkxkIbvxypmoARNmGTWrm2wE3WWoplkC/P1iYx8fcq+/mnLuQeMsV5QoskL6AXbsOsVpb0h3ANquD2gTObrl4Uvr1+yMLr58ixvILJe4OYRcl7wc8PeEOkF6t6xP+GudyTs69/qnhDHE36TvEHOE4ibPIEnfLs39M0eMewRRWYPePeI98w4D+ANenJPqLk3DCz3BL03DLmyN9Q3fNde0Ic9IWZ5AbU3DEd7wcm9oWzDE0RveLE8gkeUvaJzLzgjtieIN6x7RjIecGuc/z9hj/8+IGh//seXzwa/+8MDtPTTb3/68svsbz/7BgBWUDgg2AYAADArAJ0BKg4BUAA+MRaJQ6IhIRCargwgAwSzgGtNU3CvnAtA2fQ57rokt8A/Wb0vf2j+FH9qsFP0XY+q/MeEt+JPobtZf5DJU/pv90/L3zdv5n0O7if/D/lhzyvFX3AP5F/RP8H9znxlfy35nf3r3AfQf+9/MX6Cv5b/Tf9h9w/fu/cD2QP1MIZoQ4vzAm2cWrj7CCiNe7kIIGs/JlxuCXtxguxHwcBZUH1pHcvo+gBs2gLntDM8KeWIORnOslTVO09Eyl8oBzGmehSx2NeAXiwud9yTNfC3ReE/tnfNrTvmXgL+e9hAj23HyMs8Y5Cs7Y/8YuF3SeDJe57v7nrGIIEMHMy5LHJjhT87jFrwEURj/NGHdr0NcocZ2CwxNKaBsPXUH2OeAQsv85FWDcvZt8Uifn/GXToXUmBR9PI+0Kz1ZmLzEglcaZYQYquqF987wdSXlS7TXjiDES0QQj+aLtlyoAD+/0afHzdH/gfx1amtf/qUa3Gfw8PEbeR62sQn/1sBtko7jWQi8uPjLpnXxd3oGlcMMnLdxC82/CcUXi7AihsxgE86At8DntT4gDgIGZMYZgMKFuwChX0imaA6fdTq8cuBu/B/sHuBYSgYttPr8/6UMCSNTjtH2ER8XwDYm4Q/3/6YOumNrHct2nLYpjHLomKGsFwmnVeazvAeWscIsW3ALhMWwvMQ05gT9RBZtlJVyJg8M5PDLbQPB/GVzHGwxqkn64Eph/FspC+7fu/f0hBiRwKEMWKFtb3HpE3xBoBO+V3X5LBYroeixPzKqaoSZJ34jDKCe4XtgUYpObXzycAYL0WgtGd/JfccBeBbNi1f34/kaAxgmIAj5ntEkG/tZR2MhWdXsAzXUknZPTxg+ebmqm80r9vFYsv+wwDb4GUFapMr0m1MIVulLpVOYc8fx0P15cD2TwVUZI8388hPrPNP3XB3sX73vbK3l5RVo2jtsAYHVAeC7NKu5B/+v36ysWDbBrHyD/0OOFeLgG7B0mA18gMebyH/WrI2FVrIqOHj/6txJfzBUg7MSZRG/GtVxUQRjmCGhGXoyf9AqxesSc+cdsABzGBsG2ZQTm+/6NVxOUfDkW4ftzUI4yW6VaN1bF84jT68Q+H1c09xd+7V4aIGV2cynqwtvrx9cnz+v+8fzl0sXZyjZTHvMDKLmnDvuZiUTlRwKx9o4Aa+5ogYSw4zRI0tC8t4z+fiU1du9ShUAKKmyR46UumYp3rPUbO3p+7OddL/ZE4NKqVM87Urhcj/o9Dy0obwoPfRibwiNs0V2TV0JfLkDnjt/8+C986kWrwbpQm16jprDzpljHydCLO7YBq0Kllqa4F/+wfxL/uJ520hTIOntIHD06zNcsJc+JoqzS5gX2T8EpbDwOWbAjYkyFyDhccIxBf3TiUQ4ZJSnwUbo9bnfq7DndYFXN/Wasv2yxSrtDk6TriAQ0iJFdObqf/eaLZRc5NHzDhTIehRYFwmvb9CoogQ40svIn0keI9v/I3ObVEQ9UKclO/+SBogHcQCOdzOKCNnN9zckZDlj59Nw79Hzv3sn/POXBjXx/p0DGe00Xy/u3/EVYTpPUzQWYf8ol/gifVgIM43aHbIbzGb7HqBoGatFfdbNnJkeHv5+ohJ5JDOdGlbfLix5ZBJR22l0b+mZwrz/C9dPD3+Z0/4HwScgieGNCzrfg3VuIlOVNL0ZRdvXAaXhA6Cv6U3T/unQg7Zwi9+VVoeIDOlYd5CDPHUBN2hghMYgMDNPnpDBizlIydKTQFFP3JOGY4Z+Oi04ZPqD79/cqdqzIJRQcs0hUU0/P7hiVHtuuXFpRf1B7s+PPvIznRohTkLbJ+JNGTjsjY65zlT0WQgPtBL/Iu1mcAgge/1B7uW0AkTSbkUocuLhzPQr2n1oICw8qkKH0KC/2f1dNiM2fyRb+U5aK9MPvH4zwIQhJy5Y6IMPsFwihXK69osRdyyOK4ufhgIrzDkxVNwb3JU/XWzciEV117cAluqFZxROOzmA5+g19tIvV4K+wAb8eBxH34SbB1u/4diBvFMhYKyke3P/uv8hxh4KJ9ewxqJ8Ao9/Br4Y+jpYbbSc3QfXJNhJCXw88cpo/27vi+K5BSbZ14GJnjFob95tBDVxnn+7Xf6nFY4R4roKsqzlVGb3s4wbpB6FHIOcHsPIeDwn8gwcDUzf2b2EKbT1GR2qfAcpVTMCkdscaJ7pCm7jUv/Qo+x14fMMTToLtOzqbHBIOpR9FyEqexfa5kbcFH5/Odx98VMxcEjBIfXLf55YQE1fiiZOgU1qaGrASTK2oWwwYpTgtCD4nGBS03o5rd0y5vVvN6vnh5ll3ipoAAAAA==",G9e=""+new URL("WindowsHelloLightPromo@2x-eec25078.webp",import.meta.url).href;function K9e({className:t}){const e=V(xo);return u("img",{className:t,src:e?U9e:q9e,srcSet:`${e?$9e:G9e} 2x`,alt:""})}const Z9e={[Uh]:L(f.Fragment,{children:[u(j9e,{}),u(Z,{variant:"body2",color:"main",children:"Biometric Key based on Secure Enclave Process built-in into your mac. This key is not possible to copy or steal."})]}),[uu]:L(f.Fragment,{children:[u(K9e,{}),u(Z,{variant:"body2",color:"main",children:"Biometric key based on Windows Hello API built into your system. This key is not possible to copy or steal."})]})},TA={[Uh]:"SEPKey",[uu]:"WindowsHelloKey"},Q9e=({editableEntity:t})=>{const e=tt(),n=V(mR),[o,r]=f.useState({isGenerating:!1,error:void 0});return{generateNewKey:async()=>{r(Xi(d=>{d.isGenerating=!0}));const s=n.map(d=>d.label),a=oC(t.label||rC.label,s),{storage:l}=t,c=t.isWindowsHello();try{if(c){const d=ri().getNativeWindowHandle(),{credentialId:p,publicKey:h}=await q5e(a,d),m=new Yt({label:a,storage:l,credentialId:p,public_key:h}),[g]=await We(e,gR,[m]);return g}else return await We(e,lG,{label:a})}catch(d){const p=d instanceof p3,h=d instanceof Vu;if(r(Xi(m=>{m.error=p?void 0:d.message})),p||h)return;Cs.exception("Failed to generate a biometric key",d);return}finally{r(Xi(d=>{d.isGenerating=!1}))}},generationState:o}};function Y9e(t){const{onKeyGenerated:e,onClose:n}=t,o=Xo(),r=de(),{classes:i}=X9e(),s=V(Ht[o].formNavigation),a=As({currentSliderFormNavigation:s}),l=Ha({defaultValues:rC,isValidForSaving:()=>!0,formType:"sepKeygen",entity:null,entityClass:Yt,isManualSavingForm:!0,formId:a}),{editableEntity:c,control:d}=l,{storage:p}=c,{generationState:h,generateNewKey:m}=Q9e({editableEntity:c}),{error:g,isGenerating:C}=h,v=!!g;return L(Nn,{onSubmit:async()=>{r(he("generateBiometricKeyButtonPressed",{keychainItemLocation:TA[p]}));const y=await m();y&&(r(Pd({source:"Generated",location:TA[p],type:"Biometric Key"})),e(y))},children:[u(fn,{left:u(mn,{title:"Generate Biometric Key",children:u(vR,{variant:"small"})}),right:u(Fo,{onClick:n})}),L(So,{children:[u(Lt,{children:u(re,{gap:"10px",children:Z9e[p]})}),L(Lt,{children:[u(xt,{name:"label",control:d,render:({field:{ref:y,...b}})=>u($t,{label:"Label",...b,autoFocus:!0,fullWidth:!0})}),L(re,{gap:"6px",children:[u(Z,{color:"main",children:"Type"}),u(Z,{color:"secondary",children:"ECDSA"})]}),L(re,{gap:"6px",children:[u(Z,{color:"main",children:"Key Size"}),u(Z,{color:"secondary",children:"256"})]})]}),u(Sl,{in:v,mountOnEnter:!0,unmountOnExit:!0,children:u(Lt,{children:u(Z,{variant:"body2",color:"error",children:L(re,{gap:"5px",direction:"row",alignItems:"center",children:[u(P2,{className:i.warningIcon}),"An error has occurred: ",g]})})})}),u(Ue,{size:"medium",color:"accent",type:"submit",progress:C,children:"Generate"})]})]})}const X9e=K()({warningIcon:{width:"15px",height:"15px",color:"var(--error-medium)"}}),J9e={maxRows:10,minRows:6,multiline:!0};function eSe(t){const{onClose:e,onExportToHost:n,menuItems:o}=t,r=de(),{classes:i}=tSe(),s=Ei(),a=Xo(),l=V(Ht[a].formNavigation),c=As({currentSliderFormNavigation:l}),d=V(b=>mc.sep(b,{page:a,formId:c})),p=Ha({defaultValues:cG,isValidForSaving:()=>!1,formType:"sep",entity:d,entityClass:Yt,formId:c}),{editableEntity:h,control:m}=p,g=o(h,!1),C=!!h.local_id,v=C&&!!h.public_key,S=()=>{n(h)},y=()=>{r(he("copyPublicKeyButtonPressed"))};return L(Nn,{children:[u(fn,{left:u(mn,{title:"Biometric Key",children:u(vR,{variant:"small"})}),right:L(Et,{margin:"md",children:[u(Tn,{ref:s.triggerRef,onClick:s.openMenu,disabled:Ri(g),"aria-label":"Context menu",children:u(Pi,{})}),u(Fo,{onClick:e})]})}),u(So,{children:u(Lt,{children:L(re,{gap:"10px",children:[u(xt,{name:"label",control:m,render:({field:{ref:b,...w}})=>u($t,{label:"Label",...w,disabled:!0,fullWidth:!0})}),u(xt,{name:"public_key",control:m,render:({field:{ref:b,...w}})=>u(ev,{label:"Public Key",...w,...J9e,fullWidth:!0,className:i.multiline,showCopyButton:v,onCopy:y,autoHeight:!0,disabled:!0})}),C&&u(Ue,{color:"accent",onClick:S,children:"Export to host"})]})})}),u(Sr,{onClose:s.closeMenu,autoClose:!0,open:s.isOpened,anchorEl:s.triggerRef.current,anchorOrigin:{horizontal:"left",vertical:"bottom"},transformOrigin:{horizontal:"left",vertical:"top"},menuItems:g})]})}const tSe=K()({multiline:{cursor:"auto","& textarea":{fontFamily:"monospace"},"& textarea::-webkit-scrollbar":{display:"none"}}}),B1=()=>{const t=de(),e=Xo();return{onChangeVault:o=>{t(CR({entityVault:o,page:e}))}}},nSe=t=>{const{updateKeySourceType:e,editableEntity:n,saveSshKey:o}=t,r=de();return{onSelectFile:async()=>{try{r(he("importStarted",{importOrigin:"Import Key Button",importSource:"Key File",funnelType:null}));const{canceled:a,filePaths:l}=await j2.showOpenDialog({properties:["showHiddenFiles","openFile"]});if(a||!l||!l[0])return;const c=await Lm(l[0],n.label,n.is_shared);e("Imported"),o(c),r(he("importCompleted",{funnelType:null,numberOfImportedHosts:0,numberOfImportedPortForwardingRules:0,numberOfImportedKeys:1,numberOfImportedSnippets:0,numberOfImportedGroups:0,numberOfIgnoredKeys:0,numberOfIgnoredSubconfigs:0,importOrigin:"Import Key Button",importSource:"Key File"}))}catch{Ld({title:"Import key failed",message:"There was a problem in the key import process"})}},onDropFile:async a=>{var l,c;a.preventDefault(),a.stopPropagation();try{const d=(c=(l=a.dataTransfer)==null?void 0:l.files[0])==null?void 0:c.path;if(!d)return;const p=await Lm(d,n.label);e("Imported"),o(p),r(he("sshKeyDraggedAndDropped",{onScreen:"Add Key"}))}catch{Ld({title:"Import key failed",message:"There was a problem in the key import process"})}}}},oSe=t=>{const{privateKey:e,isCertificateVisible:n,isNewEntity:o,passphrase:r,isOnlyImport:i,displayPublicKeyField:s,displayImportSection:a}=t,l=Yp(e),d=rSe({isPrivateKeySKKey:l,isCertificateVisible:n,isNotHardwareKey:!!e,isNewEntity:o}),h=(()=>{try{return XE(e)}catch{return!1}})()||r!=="";return{showCertificateField:d,showPassphraseField:h,showPrivateKeyField:!i||!!e,showPublicKeyField:s,isPrivateKeySKKey:l,showImportSection:(!i||!e)&&a&&o}},rSe=t=>{const{isPrivateKeySKKey:e,isCertificateVisible:n,isNotHardwareKey:o,isNewEntity:r}=t;return e?!1:n??(o||r)},n6={outlined:!0,disableWrapper:!0,fullWidth:!0},iSe=6,sSe=4;function rB({editableEntity:t,control:e,formState:n,isDisabled:o,isOnlyImport:r,formContentClassName:i,showKeyIcon:s,isManualSave:a,isCertificateVisible:l,displayPublicKeyField:c=!0,displayImportSection:d=!0,updateKeySourceType:p,onKeyExport:h,updateFieldValue:m,handleSubmit:g,getFieldState:C}){const{classes:v}=uSe(),S=V(zt),{passphrase:y,private_key:b}=t,w=!t.local_id,{showCertificateField:x,showPassphraseField:_,showPrivateKeyField:I,showPublicKeyField:T,isPrivateKeySKKey:A,showImportSection:k}=oSe({privateKey:b,isCertificateVisible:l,isNewEntity:w,passphrase:y,isOnlyImport:r,displayPublicKeyField:c,displayImportSection:d}),R=f.useMemo(()=>dSe({privateKey:b,passphrase:y,isPrivateKeySKKey:A}),[y,b,A]),M={maxRows:14,minRows:x?sSe:iSe,multiline:!0},{isKeyInvalid:D,isCertificateInvalid:F,checkKey:z}=dG(t),j=aSe(D,n.isDirty),H=()=>{h==null||h(t)},O=()=>{g({triggerSource:a?"observe":"explicit"})},U=q=>{m({fieldName:"certificates",fieldValue:q}),O()},N=q=>{gG(q).forEach(([X,ee])=>{lSe(X,n==null?void 0:n.defaultValues)&&m({fieldName:X,fieldValue:ee})}),O()},W=q=>{const X=q.target.value,ee=cSe({editableEntity:t,certificateValue:X});U(ee)},{onSelectFile:B,onDropFile:$}=nSe({editableEntity:t,updateKeySourceType:p,saveSshKey:N});return L(So,{className:i,children:[L(Lt,{children:[L(re,{alignItems:"center",direction:"row",children:[s&&u(yR,{editableEntity:t}),u(xt,{name:"label",control:e,render:({field:{ref:q,...X}})=>u($t,{...X,label:"Label",required:!w,fullWidth:!0})})]}),u(Sl,{style:{marginTop:0},in:_,children:u(xt,{name:"passphrase",control:e,render:({field:{ref:q,...X}})=>u($t,{style:{marginTop:10},label:"Passphrase",disabled:o,type:"password",...X,fullWidth:!0})})}),L(Sl,{in:I,children:[u(xt,{name:"private_key",control:e,render:({field:{ref:q,...X}})=>u(ev,{label:"Private key",required:!0,...X,...M,...n6,onBlur:z,autoHeight:!0,autoFocus:!0,className:v.multiline,error:j,showCopyButton:!w})}),R&&u(uG,{}),j&&u(iC,{status:"error",children:"Incorrect format"})]}),T&&u(xt,{name:"public_key",control:e,render:({field:{ref:q,...X}})=>u(ev,{label:"Public key",autoHeight:!0,...X,className:v.multiline,...M,...n6,showCopyButton:!w&&!!t.public_key})}),x&&u(xt,{name:"certificates",control:e,render:({field:{ref:q,...X}})=>u(pG,{...X,editableEntity:t,onCertificateChange:W,isDirty:C("certificates").isDirty,isCertificateInvalid:F,textFieldProps:{...M,...n6},isPro:S})})]}),u(Sl,{in:k,children:u(hG,{onDropFile:$,onSelectFile:B})}),!w&&u(fG,{onKeyExport:H})]})}const aSe=(t,e)=>t&&e,lSe=(t,e)=>t in(e??{}),cSe=t=>{const{editableEntity:e,certificateValue:n}=t,o=(e==null?void 0:e.certificates)??[],r=o[0],i=o.slice(1);return n&&i.unshift(new mG({...r,certificate:n})),i},dSe=({privateKey:t,passphrase:e,isPrivateKeySKKey:n})=>{try{const o=p8(t,e),r=(o==null?void 0:o.application)==="termius.com";return n&&!r}catch{return!1}},uSe=K()({multiline:{cursor:"auto","& textarea":{fontFamily:"monospace",fontSize:"12px"},"& textarea::-webkit-scrollbar":{display:"none"}}}),iB=()=>{const t=de(),e=f.useRef("Pasted"),n=l=>{e.current=l},o=V(co),r=l=>l.clone({label:l.label||l.type}),i=l=>!!(l.label&&l.private_key&&vG(l)&&dt(l,o)),s=l=>{var p,h;const c=!!l.certificates.length,d=!((h=(p=l.certificates)==null?void 0:p[0])!=null&&h.local_id);!c||!d||t(Pd({source:e.current,type:"SSH Certificate"}))};return{prefill:r,isValidForSaving:i,handleEntitySaved:l=>{const{savedEntity:c,originalEntity:d}=l;if(c.certificates.length>0){s(c);return}d.local_id||t(Pd({source:e.current,type:"SSH Key"}))},updateKeySourceType:n}},pSe=t=>{const{keyName:e,passphrase:n,keyEncoding:o,keySize:r,keyRounds:i,curveSize:s,editableEntity:a,savePassphrase:l}=t,c=tt(),d=V(SR),[p,h]=f.useState(!1),m=!!n.length,g=e==="ED25519",C=e==="ECDSA",v=e==="RSA",S=a.label||oC(e,d.map(w=>w.label)),y=()=>{const w={type:CG[e],encoding:m?yG.get(o):void 0,bits:v?Number.parseInt(r,10):void 0,rounds:g?Number.parseInt(i,10):void 0,curve:C?SG.get(s)??"":"",password:n,comment:bG,includePublicKey:!0},x=new ft({...a,label:S,passphrase:l?n:""});return We(c,wG,{keygenOptions:w,entity:x})};return{generateNewKey:lte(async()=>{h(!0);try{const w=await y();return h(!1),w}catch{throw h(!1),new Error("Key generation failed")}}),isGenerating:p}};function sB(t){const{onKeyGenerated:e,onClose:n,formContentClassName:o,showKeyIcon:r,subForm:i,autoFocusRef:s,showHeader:a=!0}=t,l=Xo(),c=de(),{classes:d,cx:p}=hSe(),h=V(Ht[l].formNavigation),m=As({currentSliderFormNavigation:h}),{onChangeVault:g}=B1(),C=Ha({defaultValues:bR,isValidForSaving:()=>!0,formType:"keygen",entity:null,entityClass:ft,isManualSavingForm:!0,formId:m}),{editableEntity:v,control:S,watch:y}=C,{keyName:b,encryptionOptions:w,keySize:x,curveSize:_}=y(),{passphrase:I,keyRounds:T,keyEncoding:A,savePassphrase:k}=w,R=b==="ED25519",M=b==="ECDSA",D=b==="RSA",F=M||D,z=_G({passphrase:I,keyRounds:T}),j=!(R&&z),{generateNewKey:H,isGenerating:O}=pSe({keyName:b,passphrase:I,keyEncoding:A,keySize:x,keyRounds:T,curveSize:_,editableEntity:v,savePassphrase:k}),U=async()=>{const N=await H();N&&(c(Pd({source:"Generated",type:"SSH Key"})),e(N))};return L(Nn,{onEsc:n,className:p({[d.form]:!!i}),children:[L(qt,{children:[u(xe,{when:a,children:u(fn,{left:u(mn,{title:"Generate Key",children:u(ki,{isValid:!0,onChangeVault:g,entry:v})}),right:u(Fo,{onClick:n})})}),u(xe,{when:O,children:u(So,{className:d.formPlaceholder,children:"Generating a key..."})})]}),L(So,{className:p(d.formContent,o,{[d.hiddenFormContent]:O}),children:[u(Lt,{children:L(Ze,{bottom:10,children:[L(re,{alignItems:"center",direction:"row",children:[r&&u(yR,{editableEntity:v}),u(xt,{name:"label",control:S,render:({field:{ref:N,...W}})=>u($t,{...W,label:"Label",fullWidth:!0,inputRef:s})})]}),u(xt,{name:"keyName",control:S,render:({field:{value:N,onChange:W}})=>u(ai,{label:"Key type",items:xG,onClick:W,selectedItem:N})}),u(AG,{visible:F,children:L(Ze,{top:20,children:[M&&u(xt,{name:"curveSize",control:S,render:({field:{value:N,onChange:W}})=>u(ai,{label:"Elliptic curve size (bits)",items:TG,onClick:W,selectedItem:N})},"curveSize"),D&&u(xt,{name:"keySize",control:S,render:({field:{value:N,onChange:W}})=>u(ai,{label:"Key size (bits)",items:IG,onClick:W,selectedItem:N})},"keySize")]})})]})}),u(EG,{...C,isEdKey:R}),u(Ue,{fullWidth:!0,size:"medium",color:"accent",progress:O,disabled:!j,type:"button",onClick:U,children:"Generate & save"})]})]})}const hSe=K()({form:{"&, .termius-dark-theme &":{border:"none"}},formContent:{transition:"opacity 0.3s"},hiddenFormContent:{opacity:"0"},formPlaceholder:{color:"var(--secondary)",display:"flex",width:"99%",justifyContent:"center",textAlign:"center",position:"absolute",top:"100px"}}),fSe=t=>{const{onKeyChanged:e,onClose:n,keysOpen:o,currentSliderFormRoute:r,isCertificate:i}=t,s=Xo(),{classes:a}=mSe(),l=de(),c=V(W=>{var B;return(B=Ht[s])==null?void 0:B.preview(W)}),d=V(Ht[s].formNavigation),p=As({currentSliderFormNavigation:d}),[h]=f.useState(()=>un()),m=wR(),g=_R(m),[C,v]=f.useState("Paste"),S=["Paste","Import","Generate"],y=C==="Generate",b=C==="Import",x=!(r==="fidoGeneration")&&!y,{prefill:_,isValidForSaving:I,handleEntitySaved:T,updateKeySourceType:A}=iB(),k=Ha({defaultValues:sC,isValidForSaving:I,handleEntitySaved:T,formType:"key",entity:null,entityClass:ft,proFeaturesDialogOptions:{featureName:"Certificates",openedFrom:"Certificates",triggerFormFieldKey:"certificates",showAfterSave:!0},prefill:_,formId:p,isManualSavingForm:!0}),{handleSubmit:R,resetFormWithPreview:M,isValid:D}=k,F=async()=>{const W=await R({useAutosave:!1,triggerSource:"explicit"});W!=null&&e(new ft(W))},z=W=>{W!=null&&e(new ft(W))},j=W=>{W!=null&&e(new ft(W))},H=W=>{const B={label:(c==null?void 0:c.label)??""};l(AR({page:s,preview:B,formId:p})),M(B),v(W)},O=u(fn,{left:L(Et,{margin:"md",children:[u(O2,{onClick:n}),u(mn,{title:"New Key",children:u(og,{input:g,variant:"small"})})]}),right:x&&u(TR,{disabled:!D,onClick:F,type:"button"})}),U=u(xR,{wizardID:h,onKeyGenerated:j,onCloseSlider:n,showHeader:!1,formContentClassName:a.formContentPadding},h),N=L(f.Fragment,{children:[u("div",{className:a.buttons,children:u(ai,{items:S,onClick:H,selectedItem:C,className:a.rowSelector})}),L(qt,{children:[L(xe,{when:!y,children:[u(rB,{...k,onKeyExport:He,updateKeySourceType:A,showKeyIcon:!0,isOnlyImport:b,displayImportSection:b,displayPublicKeyField:!1,formContentClassName:a.formContentPadding,isCertificateVisible:i,isManualSave:!0})," "]}),u(xe,{when:y,children:u(sB,{onClose:n,onKeyGenerated:z,showHeader:!1,formContentClassName:a.formContentPadding,showKeyIcon:!0,subForm:!0})})]})]});return o?L(Nn,{children:[O,L(qt,{children:[u(xe,{when:r==="fidoGeneration",children:U}),u(xe,{when:r==="keyCreation",children:N})]})]}):null},mSe=K()({buttons:{padding:"15px 15px 0"},rowSelector:{margin:0},formContentPadding:{padding:"15px calc(15px - var(--scrollbar-width)) 15px 15px",gap:"15px"}}),ya=({entity:t,formType:e})=>t!=null&&t.local_id?t.clone().entityLocalPath:`${e}/${un()}`,gSe=t=>{const{passwordValue:e,attachedKey:n}=t,[o,r]=f.useState(vSe({password:e,key:n})),i=()=>{r(Xi(l=>{l.hasPassword=!0}))},s=()=>{r(Xi(l=>{l.hasPassword=!0}))},a=l=>{r(Xi(c=>{c.key=l}))};return f.useEffect(()=>{r(Xi(l=>{if(!n){l.hasPassword=!0;return}l.key=n.keyVariant}))},[n]),f.useEffect(()=>{e&&r(Xi(l=>{l.hasPassword=!0}))},[e]),{credentials:o,onAddPassword:i,onRemoveKeyFromCredentials:s,onKeyTypeUpdate:a}},vSe=t=>{const{password:e,key:n}=t;return{hasPassword:!n||!!e,key:n==null?void 0:n.keyVariant}},CSe=["keyCreation","fidoGeneration"],ySe=t=>{const{editableEntity:e,watch:n,updateFieldValue:o,handleSubmit:r,isDisabled:i,classes:s}=t,a=Xo(),l=de(),c=tt(),d=n("ssh_key"),p=n("hardware_key"),h=n("password"),m=d||p,g=f.useRef(null),{credentials:C,onAddPassword:v,onRemoveKeyFromCredentials:S,onKeyTypeUpdate:y}=gSe({passwordValue:h,attachedKey:m}),b=e.is_shared?"credentials_sharing":"no_credentials_sharing",w=SSe({credentialsMode:b,key:C.key}),x=[...ua("sshKey"),...ua("hardwareKey")],_=V(kG),I=V(Ht[a].formNavigation),T=I==null?void 0:I.activeFormRoute,A=bSe({keyType:w,keys:x,classes:s}),{keys:k,placeholder:R,icon:M}=A,D=wSe(e)||R,F=!!T&&CSe.includes(T),z=!!m,j=z&&!!e.local_id,H=RG({selectedCredentials:C,credentialsMode:b,existingIdentityHasAttachedKey:j}),O=!H.includes("password"),U=z||w!=null,N=w==="fido",W=w==="certificate",B=()=>{l(MG())},$=le=>{if(i)return;if(N){l(Nd({page:a,formRoute:"fidoGeneration",preview:{...ER,label:le},entityLocalPath:ya({formType:"fidoKeygen"}),formId:un()}));return}const ve=_k(le||" ");l(Nd({page:a,formRoute:"keyCreation",preview:{...sC,label:ve?"":le,private_key:ve?le:""},entityLocalPath:ya({formType:"key"}),formId:un()}))},q=()=>{F&&l(rg({page:a}))},X=()=>{z&&(S(),o({fieldName:"ssh_key",fieldValue:null}),o({fieldName:"hardware_key",fieldValue:null}),r({useAutosave:!0,triggerSource:"explicit"}))},ee=()=>{requestAnimationFrame(()=>{var le;(le=g.current)==null||le.focus()})},ue=le=>{X(),y(le),ee()},se=(le="")=>{$(le)},ie=le=>{q(),le instanceof ft&&(o({fieldName:"ssh_key",fieldValue:le}),o({fieldName:"hardware_key",fieldValue:null})),le instanceof Yt&&(o({fieldName:"ssh_key",fieldValue:null}),o({fieldName:"hardware_key",fieldValue:le})),r({useAutosave:!0,triggerSource:"explicit"})},J=f.useCallback(()=>{W&&Pt(c,{dialog:"ProFeatures",target:ge(),props:{openWithNumber:po("Certificates"),from:"Certificates"}}).catch(He)},[W,c]);return{showInternalKeyForm:F,keyFieldPlaceholder:D,filteredKeys:k,keyFieldIcon:M,isCertificate:W,credentialMenuOptions:H,keyFieldRef:g,showBannerAboutLinkedIdentities:_,showPasswordField:O,credentials:C,showKeyField:U,keyType:w,attachedKey:m,placeholder:R,credentialsMode:b,currentSliderFormRoute:T,onAddPassword:v,handleKeyClose:q,handleKeyType:ue,onRemoveKey:X,onKeyChange:ie,closeBanner:B,createNewEntity:se,handleShowProDialog:J}},SSe=({credentialsMode:t,key:e})=>{if(!OG({key:e,credentialsMode:t}))return e},bSe=({keyType:t,keys:e,classes:n})=>{switch(t){case"certificate":return{keys:e.filter(o=>o instanceof ft&&!!o.certificates.length),placeholder:"Certificate",icon:u(LG,{className:n.iconKey})};case"fido":return{keys:e.filter(o=>o instanceof ft&&Yp(o.private_key)),placeholder:"FIDO2",icon:u(PG,{className:n.iconKey})};default:return{keys:e.filter(o=>o instanceof Yt||!Yp(o.private_key)),placeholder:"Key",icon:u(IR,{className:n.iconKey})}}},wSe=t=>{const e=t.hardware_key||t.ssh_key;return(e==null?void 0:e.label)??""},_Se=t=>{const{editableEntity:e,control:n,linkedEntities:o,disableKeyAttachment:r,isDisabled:i,certificateScreenLocation:s,newKeyLocation:a,newCertificateLocation:l,showBanner:c,autoFocusRef:d,onToggleLink:p}=t,{classes:h}=ISe(),m=V(zt),{showInternalKeyForm:g,keyFieldPlaceholder:C,filteredKeys:v,keyFieldIcon:S,isCertificate:y,credentialMenuOptions:b,keyFieldRef:w,showBannerAboutLinkedIdentities:x,showPasswordField:_,credentials:I,showKeyField:T,keyType:A,attachedKey:k,placeholder:R,credentialsMode:M,currentSliderFormRoute:D,onAddPassword:F,handleKeyClose:z,handleKeyType:j,onRemoveKey:H,onKeyChange:O,closeBanner:U,createNewEntity:N,handleShowProDialog:W}=ySe({...t,classes:h});return L(So,{className:h.formContent,children:[c&&x&&u(DG,{closeBanner:U}),L(Lt,{className:h.formCard,children:[L("div",{className:h.entityIconWrapper,children:[u(aC,{icon:To.icon(e),className:h.entityIcon}),u(xt,{name:"label",control:n,render:({field:{ref:B,...$}})=>u(g5,{...$,placeholder:"Label",fullWidth:!0})})]}),u(xt,{name:"username",control:n,render:({field:{ref:B,...$}})=>u(g5,{...$,placeholder:"Username*",fullWidth:!0,InputProps:{startAdornment:u(Dm,{position:"start",children:u(FG,{className:h.iconKey})}),inputRef:d}})}),u(Sl,{in:_,mountOnEnter:!0,unmountOnExit:!0,children:u(xt,{name:"password",control:n,render:({field:{ref:B,...$}})=>u(g5,{...$,type:"password",placeholder:"Password",value:$.value??"",disabled:!I,fullWidth:!0,InputProps:{startAdornment:u(Dm,{position:"start",children:u(kR,{className:h.iconKey})})}})})}),u(Sl,{in:T,mountOnEnter:!0,unmountOnExit:!0,children:u(NG,{entityOptions:v,startAdornment:S,autocompleteFieldName:TSe(A),autocompleteValue:k,onRemove:H,changeEntity:O,createNewEntity:N,autocompletePlaceholder:C,createEntityLabel:R,showUpgradeIcon:ASe({isPro:m,key:A}),handleShowProDialog:W,disabled:i,keyFieldRef:w,isMultiLine:!0,editableEntity:e,certificateScreenLocation:s,newKeyLocation:a,newCertificateLocation:l})}),u(HG,{mode:M,editableEntity:e,selectedCredentials:I,onAddPassword:F,onAddKey:()=>j("key"),onAddCertificate:()=>j("certificate"),onAddFido:()=>j("fido"),availableOptions:b})]}),u(BG,{editableEntity:e}),p&&!!o&&(o==null?void 0:o.length)>1&&u(zG,{linkedEntities:o,onClick:p}),!r&&u(Go,{open:g,children:u(fSe,{onClose:z,onKeyChanged:O,isCertificate:y,keysOpen:g,currentSliderFormRoute:D})})]})},xSe=["certificate"],ASe=({isPro:t,key:e})=>!t&&!!e&&xSe.includes(e),TSe=t=>t??"key",ISe=K()({formContent:{padding:"15px calc(15px - var(--scrollbar-width)) 15px 15px",gap:15},iconKey:{width:14,color:"var(--light-grey-3)",".termius-dark-theme &":{color:"var(--dark-grey-6)"}},entityIcon:{width:"36px",height:"36px",borderRadius:"8px","& svg":{maxWidth:"20px",maxHeight:"20px"}},entityIconWrapper:{display:"flex",alignItems:"center"},formCard:{padding:20}}),ESe=({onClose:t,menuItems:e,autoFocusRef:n})=>{const o=Xo(),r=Ei(),i=V(Ht[o].formNavigation),s=As({currentSliderFormNavigation:i}),a=V(y=>mc.identity(y,{page:o,formId:s})),l=V(co),{onChangeVault:c}=B1(),p=Ha({defaultValues:VG,isValidForSaving:y=>!!y.username&&dt(y,l),formType:"identity",entity:a,entityClass:Nt,formId:s}),{editableEntity:h,savingStatus:m}=p,g=h==null?void 0:h.local_id,S=e(h,!g||!!m&&m!=="saved");return L(Nn,{onEsc:t,handleEnterKey:!0,children:[u(fn,{left:u(mn,{title:g?"Edit Identity":"New Identity",children:u(ki,{...p,onChangeVault:c,entry:h})}),right:L(Et,{margin:"md",children:[u(Ga,{status:m}),u(Tn,{ref:r.triggerRef,onClick:r.openMenu,disabled:Ri(S),children:u(Pi,{})}),u(Fo,{onClick:t})]})}),u(Si,{value:h,children:u(_Se,{certificateScreenLocation:"Keychain",newKeyLocation:"Autocomplete on New Identity Screen",newCertificateLocation:"Autocomplete on New Identity Screen",autoFocusRef:n,...p})}),u(Sr,{onClose:r.closeMenu,autoClose:!0,open:r.isOpened,anchorEl:r.triggerRef.current,anchorOrigin:{horizontal:"left",vertical:"bottom"},transformOrigin:{horizontal:"left",vertical:"top"},menuItems:S})]})},kSe=(t,e)=>f.createElement("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M7 14C6.04473 14 5.1443 13.8172 4.29873 13.4515C3.45315 13.0859 2.70813 12.5808 2.06366 11.9363C1.4192 11.2919 0.914136 10.5468 0.548482 9.70127C0.182827 8.8557 0 7.95527 0 7C0 6.04473 0.182827 5.1443 0.548482 4.29873C0.914136 3.45315 1.41691 2.70813 2.05681 2.06366C2.70127 1.4192 3.44629 0.914136 4.29187 0.548482C5.13745 0.182827 6.03787 0 6.99314 0C7.94842 0 8.84884 0.182827 9.69442 0.548482C10.5446 0.914136 11.2919 1.4192 11.9363 2.06366C12.5808 2.70813 13.0859 3.45315 13.4515 4.29873C13.8172 5.1443 14 6.04473 14 7C14 7.95527 13.8172 8.8557 13.4515 9.70127C13.0859 10.5468 12.5808 11.2919 11.9363 11.9363C11.2919 12.5808 10.5468 13.0859 9.70127 13.4515C8.8557 13.8172 7.95527 14 7 14ZM7 12.8139C7.80901 12.8139 8.56317 12.6631 9.26249 12.3614C9.96637 12.0597 10.5857 11.6438 11.1205 11.1136C11.6552 10.5834 12.0712 9.96866 12.3683 9.26934C12.6654 8.56546 12.8139 7.80901 12.8139 7C12.8139 6.19099 12.6631 5.43683 12.3614 4.73751C12.0643 4.03363 11.6484 3.41658 11.1136 2.88639C10.5834 2.35162 9.96637 1.93568 9.26249 1.63859C8.5586 1.33692 7.80215 1.18609 6.99314 1.18609C6.1887 1.18609 5.43454 1.33692 4.73066 1.63859C4.02677 1.93568 3.40973 2.35162 2.87953 2.88639C2.3539 3.41658 1.94025 4.03363 1.63859 4.73751C1.3415 5.43683 1.19295 6.19099 1.19295 7C1.19295 7.80901 1.3415 8.56546 1.63859 9.26934C1.94025 9.96866 2.35619 10.5834 2.88639 11.1136C3.41658 11.6438 4.03363 12.0597 4.73751 12.3614C5.4414 12.6631 6.19556 12.8139 7 12.8139ZM6.86288 8.41234C6.49265 8.41234 6.30754 8.2318 6.30754 7.87071C6.30754 7.857 6.30754 7.84329 6.30754 7.82958C6.30754 7.8113 6.30754 7.7953 6.30754 7.78159C6.30754 7.44336 6.38753 7.17369 6.5475 6.97258C6.70748 6.76689 6.91087 6.5795 7.15769 6.41038C7.45935 6.20013 7.68332 6.02187 7.82958 5.87561C7.97584 5.72478 8.04897 5.5351 8.04897 5.30656C8.04897 5.04603 7.95527 4.83578 7.76787 4.67581C7.58505 4.51583 7.33595 4.43585 7.02057 4.43585C6.87431 4.43585 6.7349 4.46099 6.60235 4.51126C6.47437 4.55697 6.35782 4.62782 6.25269 4.7238C6.15214 4.81521 6.06072 4.9272 5.97845 5.05975L5.85504 5.22429C5.79563 5.30656 5.72478 5.37284 5.64251 5.42311C5.56024 5.47339 5.46197 5.49853 5.3477 5.49853C5.23343 5.49853 5.12373 5.45739 5.01861 5.37512C4.91805 5.29285 4.86778 5.17401 4.86778 5.01861C4.86778 4.95919 4.87235 4.90206 4.88149 4.84721C4.89063 4.79236 4.90434 4.73751 4.92262 4.68266C5.02318 4.36729 5.25857 4.09076 5.6288 3.85309C6.00359 3.61084 6.4858 3.48972 7.07542 3.48972C7.46392 3.48972 7.82272 3.55828 8.15181 3.6954C8.48547 3.82795 8.75286 4.02449 8.95397 4.28501C9.15965 4.54554 9.26249 4.86549 9.26249 5.24486C9.26249 5.65622 9.15508 5.98074 8.94025 6.21841C8.72543 6.45609 8.45348 6.68462 8.12439 6.90402C7.88214 7.06399 7.70389 7.21254 7.58962 7.34966C7.47535 7.48678 7.41822 7.65132 7.41822 7.84329C7.41822 7.85243 7.41822 7.86614 7.41822 7.88443C7.41822 7.89814 7.41822 7.91185 7.41822 7.92556C7.41822 8.05811 7.36794 8.17238 7.26738 8.26836C7.16683 8.36435 7.03199 8.41234 6.86288 8.41234ZM6.84231 10.4623C6.64577 10.4623 6.47209 10.3937 6.32125 10.2566C6.17499 10.1149 6.10186 9.9458 6.10186 9.74926C6.10186 9.54815 6.17499 9.37904 6.32125 9.24192C6.46752 9.10023 6.6412 9.02938 6.84231 9.02938C7.04342 9.02938 7.21711 9.09794 7.36337 9.23506C7.5142 9.37218 7.58962 9.54358 7.58962 9.74926C7.58962 9.95038 7.5142 10.1195 7.36337 10.2566C7.21711 10.3937 7.04342 10.4623 6.84231 10.4623Z",fill:"currentColor"})),RSe=f.forwardRef(kSe),IA=f.memo(RSe),PSe=t=>{const{host:e,exportScript:n,isKeyAttachmentEnabled:o,onExportCompleted:r,onExportCanceled:i,connectionKey:s}=t,a=de(),l=V(_s),c=V($h),[d,p]=f.useState(null),h=LSe(),m=()=>{if(!s||!o)return;const{ssh_config:S}=e,y={ssh_key:s instanceof ft?s:null,hardware_key:s instanceof Yt?s:null};if(S!=null&&S.identity){const _=new Nt({...S.identity,...y});a(jh.request(_));return}const b=new Nt({is_visible:!1,...y}),w=S==null?void 0:S.clone({identity:b}),x=e.clone({ssh_config:w});a(hs.request({host:x}))},g=async S=>{var I,T,A;const y=new P9(h),b=new pt({...S,abortController:void 0,delegate:y,sshKnownHosts:l,featureSet:O1({enableShellIntegration:!1,pqcKexEnabled:c})});p(b);let w;try{w=await y1.exec(b,n)}catch(k){(I=h.props)==null||I.onConnectionError(k.message);return}const{exitCode:x,data:_}=w;if(x===0){(T=h.props)==null||T.onShellIntegrationStatus({type:"skipped"}),m(),r();return}(A=h.props)==null||A.onConnectionError(_)},C=f.useCallback(S=>{const y=new pt({host:S,protocol:"ssh"});p(y)},[]);f.useEffect(()=>{C(e)},[e,C]);const v=()=>{p(null),i()};return{connection:d,onInitConnectionFlow:h.setProps,onClose:v,onTryToConnect:g}},LSe=()=>{const t=f.useRef();if(t.current==null){const e={setProps:n=>{e.props=n},props:null};t.current=e}return t.current};function MSe(t){const{className:e,host:n,connectionKey:o,isKeyAttachmentEnabled:r,exportScript:i,onExportCompleted:s,onExportCanceled:a}=t,{classes:l,cx:c}=OSe(),[d,p]=f.useState(!1),h=V(zt),m=async()=>{p(!0),await Er(2500),s()},{connection:g,onInitConnectionFlow:C,onClose:v,onTryToConnect:S}=PSe({host:n,connectionKey:o,exportScript:i,isKeyAttachmentEnabled:r,onExportCompleted:m,onExportCanceled:a});return g?L("div",{className:c(l.exportConnection,e),children:[d&&u("div",{className:l.overlay,children:L("div",{className:l.success,children:[u(WG,{className:l.icon}),"Exported"]})}),u(R9,{disableLocalSteps:!0,connection:g,isTabActive:!0,disableProFeatures:!h,children:u(k9,{onInitConnectionFlow:C,onClose:v,onTryToConnect:S,isTabActive:!0,shouldStayAfterConnect:!0,finishStepIcon:"chooseKey",disableHostEditing:!0})})]}):null}const OSe=K()({exportConnection:{position:"absolute",top:0,left:0,bottom:0,right:0},overlay:{opacity:"0",position:"absolute",top:0,left:0,bottom:0,right:0,background:"var(--cf-main-background)",display:"flex",alignItems:"center",flexDirection:"column",fontSize:"14px",zIndex:1302,padding:"20px",color:"var(--dark-grey-1)",".termius-dark-theme &":{color:"var(--light-grey-7)"},animation:`${Od} 0.3s 1s forwards`},success:{display:"flex",flexDirection:"column",alignItems:"center",padding:"20px 0"},icon:{width:"40px",height:"40px",marginBottom:"5px"}});function EA(t){const{className:e,keyItem:n}=t,{classes:o,cx:r}=HSe();if(!n)return null;const i=NSe(n),s=i.label(n),a=i.description(n),l=i.icon(n);return u(Sk,{className:r(o.keyItemPresenter,e),children:u(Lr,{title:u(Z,{fontSize:14,color:"primary",children:s}),subtitle:u(Z,{fontSize:12,color:"deprecatedSecondary",children:a}),icon:u(Uo,{icon:l})})})}const DSe={label:()=>Kf.label(),description:()=>Kf.description(),icon:()=>Kf.icon()},FSe={label:t=>Yi.label(t),description:t=>Yi.description(t),icon:t=>Yi.icon(t)};function NSe(t){return t instanceof Rt?DSe:FSe}const HSe=K()({keyItemPresenter:{border:"none",boxShadow:"none","&, .termius-dark-theme &":{background:"var(--foreground)"}}});function BSe(t){const{className:e}=t,{classes:n,cx:o}=zSe();return L("div",{className:o(n.unixSupportHint,e),children:[u(Ik,{className:n.icon}),L("div",{children:["Key export currently supports only ",u("strong",{children:"UNIX"})," systems. Use"," ",u("strong",{children:"Advanced"})," section to customize the export script."]})]})}const zSe=K()({unixSupportHint:{background:"var(--light-grey-6)",".termius-dark-theme &":{background:"var(--dark-grey-4)"},borderRadius:"10px",padding:"10px 15px",fontSize:"12px",display:"flex",alignItems:"center",marginTop:"15px !important"},icon:{color:"var(--light-grey-2)",".termius-dark-theme &":{color:"inherit"},marginRight:"10px",minWidth:"18px"}}),VSe=new ft;function WSe(t){const{className:e,keyToExport:n,updateHostValue:o,errorMessage:r,form:i,currentSliderFormRoute:s}=t,{control:a}=i,l=de(),{classes:c,cx:d}=jSe(),p=Xo(),h=s==="hostSelection",m=()=>{l(he("selectEntityScreenOpened",{entity:"Host"})),l(Nd({page:p,formRoute:"hostSelection",entityLocalPath:ya({formType:"keyExport"}),formId:un(),preview:void 0}))},g=()=>{l(rg({page:p}))},C=y=>y?On.label(y):"",v=(y,b)=>{const{value:w}=y.target;b(w.trim())},S=y=>{o({host:y,shouldDirty:!0})};return r?L(Lt,{className:d(c.bordered,e),children:[u(jG,{className:c.error,children:u(Z,{fontSize:14,color:"error",children:r})}),u(EA,{className:c.invalidKey,keyItem:n})]}):L(Se.Fragment,{children:[u(EA,{keyItem:n}),L(Lt,{className:e,children:[u(xt,{name:"selectedHost",control:a,rules:{required:!0},render:({field:{ref:y,value:b,...w}})=>L("div",{className:c.hostInputWrapper,children:[u($t,{...w,value:C(b),onClick:m,className:d(c.dashedBorder,c.hostInput),label:"Export to",required:!0,fullWidth:!0}),u("div",{className:c.selectHostButton,children:u(RR,{label:"Select Host",onClick:m})})]})}),u(xt,{name:"location",control:a,rules:{required:!0},render:({field:{ref:y,value:b,onChange:w,...x}})=>u($t,{...x,value:b,onChange:_=>v(_,w),label:"Location â€“ $1",required:!0,fullWidth:!0,type:"text"})}),u(xt,{name:"filename",control:a,rules:{required:!0},render:({field:{ref:y,value:b,onChange:w,...x}})=>u($t,{...x,value:b,onChange:_=>v(_,w),label:"Filename â€“ $2",required:!0,fullWidth:!0,type:"text"})}),u(BSe,{})]}),u(mN,{className:c.dropdown,label:"Advanced",children:u(xt,{name:"script",control:a,rules:{required:!0},render:({field:{ref:y,...b}})=>u($t,{...b,label:"Script",required:!0,fullWidth:!0,type:"text",multiline:!0,minRows:6,className:c.mono})})}),u(Go,{open:h,children:u(Si,{value:VSe,children:u(ig,{allVaults:!0,onClose:g,onClick:S})})})]})}const jSe=K()({hostInputWrapper:{alignItems:"center",display:"inline-flex",width:"100%"},mono:{"&&& textarea":{fontFamily:"monospace"}},dropdown:{padding:"0 5px","--dropdown-bg":"var(--light-grey-7)","--hover-bg":"var(--light-grey-5)",".termius-dark-theme &":{"--dropdown-bg":"var(--dark-grey-3)"}},error:{margin:0},bordered:{borderRadius:"14px"},invalidKey:{background:"var(--light-grey-6)",".termius-dark-theme &":{background:"var(--dark-grey-4)"}},dashedBorder:{"& .MuiOutlinedInput-notchedOutline":{borderStyle:"dashed"}},hostInput:{flexGrow:1},selectHostButton:{display:"flex",flex:"0 0 34%",justifyContent:"flex-end",alignItems:"center"}}),USe=async t=>{if(t.public_key){const e=UG(t.public_key);if(e!=null&&e.publicKey)return e.publicKey}if(t.private_key)return $G(t.private_key,t.passphrase)},$Se={errorMessage:void 0,isExportCompleted:!1},{reducer:qSe,actions:GSe,getInitialState:KSe}=PR({name:"keyExportForm",initialState:$Se,reducers:{setErrorMessage:(t,e)=>{t.errorMessage=e.payload},setIsExportCompleted:(t,e)=>{t.isExportCompleted=e.payload}}});function ZSe(){return f.useReducer(qSe,KSe())}const{setErrorMessage:o6,setIsExportCompleted:QSe}=GSe;var YSe=Array.prototype,XSe=YSe.join;function JSe(t,e){return t==null?"":XSe.call(t,e)}const ebe=t=>tbe(t)?"no-touch-required":"",tbe=t=>{if(!(t instanceof ft))return!1;const{private_key:e,passphrase:n}=t;if(!Yp(e))return!1;const o=p8(e,n);return o==null?!1:!o.isUserPresenceRequired},nbe=t=>{const{keyToExport:e,script:n,location:o,filename:r,authorizedKeys:i,username:s}=t;if(!e)return"";const a=p=>n.replaceAll("$1",o).replaceAll("$2",r).replaceAll("$3",p);if(e instanceof Rt)return J9(o,r,vh(i,s));const l=ebe(e),c=JSe(qG([l,e.public_key])," "),d=`"# ${e.label} Key by Termius
${c}
"`;return a(d)},obe="It's not possible to attach the key from Personal Vault to the host with Shared Credentials.",rbe="It's not possible to attach the key from Team Vault to the host from Personal Vault.",ibe="It's not possible to attach the key from Team Vault to the host with Private Credentials.",sbe=t=>{const{isFormValid:e,errorMessage:n,key:o,host:r}=t;if(!r||!o)return{isValid:!1,hint:null};if(o instanceof Rt)return{isValid:!0,hint:null};const i=!o.is_shared,s=!r.is_shared,a=!GG(r).is_shared;return i&&!a?{isValid:!1,hint:obe}:!i&&s?{isValid:!1,hint:rbe}:!i&&a?{isValid:!1,hint:ibe}:{isValid:e&&!n,hint:null}},abe=t=>{const{onClose:e}=t,n=Xo(),o=de(),r=V(lo),i=V(pc),s=V(lC),a=V(Ht[n].formNavigation),l=a==null?void 0:a.activeFormRoute,c=l==="exportConnection",d=As({currentSliderFormNavigation:a}),p=V(X=>sg(X,{page:n,formId:d})),h=p==null?void 0:p.preview,m=Ma({defaultValues:{...LR,...h},mode:"onChange",reValidateMode:"onChange"}),{setValue:g,watch:C,formState:v}=m,{isDirty:S}=v,[y,b]=ZSe(),{errorMessage:w,isExportCompleted:x}=y;lbe({isDirty:S,isExportCompleted:x,errorMessage:w,onClose:e});const{keyToExport:_,location:I,filename:T,script:A,isKeyAttachmentEnabled:k,selectedHost:R}=C(),M=_==null?void 0:_.local_id,D=V(X=>KG(X,M)),F=R==null?void 0:R.local_id,z=V(X=>qh(X,F)),{isValid:j,hint:H}=sbe({key:_,host:R,isFormValid:v.isValid,errorMessage:w}),O=nbe({keyToExport:_,script:A,location:I,filename:T,authorizedKeys:s,username:i}),U=f.useCallback((X=void 0)=>{g("keyToExport",X,{shouldDirty:!1})},[g]),N=f.useCallback(({host:X,shouldDirty:ee=!0})=>{g("selectedHost",X,{shouldDirty:ee,shouldValidate:!0})},[g]),W=f.useCallback(async X=>{if(X instanceof Rt||X instanceof Yt){b(o6(void 0));return}if(X instanceof ft)try{const ee=await USe(X);if(ee){const ue=X.clone({public_key:ee});U(ue),b(o6(void 0));return}}catch{}b(o6("Unable to export the public key. Please make sure that your key has the correct format."))},[b,U]),B=()=>{o(Nd({page:n,formRoute:"exportConnection",entityLocalPath:ya({formType:"keyExport"}),formId:un(),preview:void 0})),o(he("exportKeyButtonPressed",{exportButtonLocation:"Export Details"}))},$=X=>{if(X==null||X.preventDefault(),!c){e();return}o(rg({page:n}))},q=()=>{const X=_ instanceof Rt;o(he("keyExportSucceeded",{keychainItemLocation:X?"MultiKey":"Local",keychainItem:"SSH Key"})),b(QSe(!0)),e()};return f.useEffect(()=>{r&&o(MR.request())},[r,o]),f.useEffect(()=>{N({host:z,shouldDirty:!1})},[z,N]),f.useEffect(()=>{U(D),W(D)},[W,D,U]),{form:m,keyToExport:_,isKeyAttachmentEnabled:k,selectedHost:R,isValid:j,isConnectionInProgress:c,errorMessage:w,preparedExportScript:O,onExportCompleted:q,onExportCanceled:$,onStartExport:B,updateHostValue:N,currentSliderFormRoute:l,vaultHint:H}},lbe=t=>{const{isDirty:e,isExportCompleted:n,errorMessage:o,onClose:r}=t,i=de(),s=f.useCallback(async()=>{if(e&&!n&&!o)try{await bs({title:"Do you want to cancel key export?",text:"Do you want to cancel key export and discard all changes?",confirmButtonTitle:"Cancel export",buttonColor:"error"}),i(he("exportKeyStopped"))}catch{return}r()},[e,n,o,r,i]);f.useEffect(()=>{const a=tB.subscribe(l=>{const{type:c}=l;c==="closeExportKeyForm"&&s()});return()=>a.unsubscribe()},[s])};function cbe(t){const{onClose:e}=t,{classes:n}=dbe(),o=abe({onClose:e}),{keyToExport:r,isKeyAttachmentEnabled:i,selectedHost:s,isValid:a,isConnectionInProgress:l,preparedExportScript:c,onExportCompleted:d,onExportCanceled:p,onStartExport:h,vaultHint:m}=o,g=r instanceof Rt,C=()=>{if(!g)return r},v=!!m,S=g?"Export":"Export and Attach",y=()=>{nB()};return L(Nn,{onSubmit:h,children:[u("div",{children:u(fn,{left:u(mn,{title:"Key Export",children:u(og,{input:ube(r),variant:"small"})}),right:u(Fo,{onClick:y})})}),!l&&L(f.Fragment,{children:[u(So,{className:ce(n.formContent),children:u(WSe,{...o})}),L(ZG,{children:[L(Ue,{type:"submit",size:"medium",color:"accent",disabled:!a,children:[S,v&&u("span",{className:n.fakeHint,children:u(IA,{})})]}),v&&u(Ea,{arrow:!1,className:n.tooltip,title:m,"aria-label":"Vault hint",role:"tooltip",children:u("span",{className:n.hint,children:u(IA,{})})})]})]}),l&&s&&u(So,{className:ce(n.formContent,n.connectionFormContent),children:u(MSe,{host:s,connectionKey:C(),isKeyAttachmentEnabled:i,exportScript:c,onExportCompleted:d,onExportCanceled:p})})]})}const dbe=K()({formContent:{transition:"opacity 0.3s"},tooltip:{width:"360px",marginRight:"15px",marginBottom:"4px","& > div":{maxWidth:"none"}},fakeHint:{width:"24px",color:"transparent"},hint:{position:"absolute",right:"100px",bottom:"27px",color:"var(--light-grey-3)",".termius-dark-theme &":{color:"var(--dark-grey-6)"}},connectionFormContent:{position:"relative","--scrollbar-width":"0px"}});function ube(t){return t?"encrypted_with"in t?_R(t):t.is_shared===!1?Hb:OR:ct(Hb)}const pbe=t=>{const{onClose:e,onKeyExport:n,menuItems:o}=t,r=Xo(),i=Ei(),s=V(Ht[r].formNavigation),a=As({currentSliderFormNavigation:s}),l=V(w=>mc.key(w,{page:r,formId:a})),{prefill:c,isValidForSaving:d,handleEntitySaved:p,updateKeySourceType:h}=iB(),{onChangeVault:m}=B1(),g=Ha({defaultValues:sC,isValidForSaving:d,handleEntitySaved:p,formType:"key",entity:l,entityClass:ft,proFeaturesDialogOptions:{featureName:"Certificates",openedFrom:"Certificates",triggerFormFieldKey:"certificates",showAfterSave:!0},prefill:c,formId:a}),{editableEntity:C,savingStatus:v}=g,S=C.local_id,b=o(C,!S||!!v&&v!=="saved");return L(Nn,{onEsc:e,children:[u(fn,{left:u(mn,{title:S?"Edit Key":"New Key",children:u(ki,{...g,onChangeVault:m,entry:C})}),right:L(Et,{margin:"md",children:[u(Ga,{status:v}),u(Tn,{ref:i.triggerRef,onClick:i.openMenu,disabled:Ri(b),"aria-label":"Context menu",children:u(Pi,{})}),u(Fo,{onClick:e})]})}),u(rB,{...g,onKeyExport:n,updateKeySourceType:h}),u(Sr,{onClose:i.closeMenu,autoClose:!0,open:i.isOpened,anchorEl:i.triggerRef.current,anchorOrigin:{horizontal:"left",vertical:"bottom"},transformOrigin:{horizontal:"left",vertical:"top"},menuItems:b})]})},hbe=({progress:t})=>{const{classes:e}=fbe();return u("div",{className:e.root,children:t===100?u("div",{className:e.check,children:u(zh,{})}):L(Se.Fragment,{children:[u(Oo,{thickness:4,size:15,value:100,className:e.progressBackground,variant:"determinate"}),u(Oo,{thickness:4,size:15,value:t,className:e.progress,variant:"determinate"})]})})},fbe=K()({root:{display:"flex",position:"relative",margin:"auto",width:"15px",height:"15px"},check:{color:"var(--green)",position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},progress:{color:"var(--yellow)",position:"absolute"},progressBackground:{color:"var(--dark-grey-7)",position:"absolute"}}),mbe=DR({month:"short",day:"numeric",year:"numeric"}),gbe=t=>{const{classes:e}=vbe(),{editableEntity:n,onUsernameChange:o,authorizedKeysRequestStatus:r,authorizedKeys:i,getAuthorizedKeys:s,savingStatus:a,onClose:l,menuItems:c}=t,d=V(QG),p=V(cC);f.useEffect(()=>{s()},[]);const h=!!a&&a!=="saved",m=f.useMemo(()=>r==="success"?L("div",{className:e.keysTable,children:[L("div",{className:e.keysTableHeader,children:[u("div",{className:e.teamMember,children:u(Z,{fontSize:14,children:"Team member"})}),u("div",{className:e.device,children:u(Z,{fontSize:14,children:"Devices"})}),u("div",{className:e.status,children:u(Z,{fontSize:14,children:"Status"})})]}),i.map(v=>L("div",{className:e.keysTableRow,children:[L("div",{className:e.keysTableRowHeader,children:[u("div",{className:e.teamMember,children:u(Z,{fontSize:14,whiteSpace:"nowrap",children:v.email})}),u("div",{className:e.device,children:u(Z,{fontSize:14,children:v.devices.length})}),u("div",{className:e.status,children:u(hbe,{progress:v.devices.length===0?0:v.devices.filter(S=>S.public_key).length/v.devices.length*100})})]}),v.devices.map(S=>{var y;return L("div",{className:e.deviceRow,children:[u("div",{className:e.deviceName,children:u(Z,{fontSize:14,className:ce({[e.secondary]:!S.public_key}),ellipsis:!0,title:S.name,children:S.name})}),u("div",{className:e.deviceStatus,children:u(Z,{fontSize:14,className:ce({[e.secondary]:!S.public_key}),children:(y=S.public_key)!=null&&y.generated_at?`${mbe.format(new Date(S.public_key.generated_at))}`:"Pending..."})})]},S.id)})]},v.id))]}):r==="loading"?L("div",{className:e.requestStatus,children:[u(Oo,{className:e.circularProgress,size:19,value:80,thickness:4,disableShrink:!0,variant:"indeterminate"}),u(Ze,{left:10,children:u(Z,{fontSize:14,children:"Fetching the keys..."})})]}):L("div",{className:e.requestStatus,children:[u(P2,{className:e.statusIcon}),u(Ze,{left:10,children:u(Z,{color:"error",fontSize:14,children:"Could not fetch the keys."})})]}),[i,r,e]),g=Ei(),C=c(h);return Ce(d,"Cannot open MultiKey form since it requires Team Vault to be present"),L(Nn,{onEsc:l,className:e.root,children:[u(fn,{left:u(mn,{title:"MultiKey",children:u(og,{input:d,variant:"small"})}),right:L(Et,{margin:"md",children:[u(Ga,{status:a}),u(Tn,{ref:g.triggerRef,onClick:g.openMenu,disabled:Ri(C),children:u(Pi,{})}),u(Fo,{onClick:l})]})}),L(So,{children:[L(Lt,{children:[u(Z,{fontSize:18,children:"Team username:"}),u(Ze,{top:20,children:u(Z,{fontSize:14,className:e.secondary,children:p?"This username will be used by the members of your team to connect to the shared hosts.":"This username will be used to connect to the shared hosts."})}),p?u(sn,{label:"Username",autoFocus:!0,onChange:o,value:n.username,outlined:!0,disableWrapper:!0,fullWidth:!0}):u(Ze,{top:20,children:L("div",{className:e.textContainer,children:[u(Z,{fontSize:14,children:"Username"}),u(Z,{fontSize:14,className:e.secondary,children:n.username})]})})]}),L(Lt,{children:[u(Z,{fontSize:18,children:"MultiKey parameters:"}),u(Ze,{top:20,children:L("div",{className:e.textContainer,children:[u(Z,{fontSize:14,children:"Key type"}),u(Z,{fontSize:14,className:e.secondary,children:"ECDSA"})]})})]}),L(Lt,{children:[u(Z,{fontSize:18,children:"Keys:"}),u(Ze,{top:20,children:L(Z,{fontSize:14,className:e.secondary,children:["The keys are generated separately on each device.",u("br",{}),"Private keys are never synced."]})}),u(Ze,{top:20,children:m})]})]}),u(Sr,{onClose:g.closeMenu,autoClose:!0,open:g.isOpened,anchorEl:g.triggerRef.current,anchorOrigin:{horizontal:"left",vertical:"bottom"},transformOrigin:{horizontal:"left",vertical:"top"},menuItems:C})]})},vbe=K()({root:{"--text-color":"var(--dark-grey-1)","--text-secondary":"var(--light-grey-1)","--table-bg":"var(--light-grey-4)","--row-bg":"var(--light-grey-7)","--device-bg":"var(--light-grey-4)",".termius-dark-theme &":{"--text-secondary":"var(--dark-grey-7)","--text-color":"white","--table-bg":"var(--dark-grey-2)","--row-bg":"var(--dark-grey-4)","--device-bg":"var(--dark-grey-3)"},color:"var(--text-color)"},textContainer:{display:"flex","& :first-of-type":{minWidth:"80px"}},keysTable:{backgroundColor:"var(--table-bg)",padding:"10px",borderRadius:"5px",color:"var(--text-color)"},keysTableHeader:{display:"flex",padding:"10px 10px 5px 10px"},keysTableRow:{backgroundColor:"var(--row-bg)",padding:"10px",marginTop:"5px",borderRadius:"5px"},keysTableRowHeader:{display:"flex",paddingBottom:"15px"},deviceRow:{display:"flex",backgroundColor:"var(--device-bg)",padding:"10px",marginTop:"5px",borderRadius:"5px"},teamMember:{flex:3,overflow:"hidden",textOverflow:"ellipsis"},device:{flex:1,textAlign:"center",padding:"0 10px"},status:{textAlign:"center",flex:1},deviceName:{flex:1,overflow:"hidden"},deviceStatus:{textAlign:"right"},requestStatus:{display:"flex"},statusIcon:{width:"19px",height:"19px"},circularProgress:{color:"var(--accent)"},secondary:{color:"var(--text-secondary)"}}),Cbe=t=>{const{onClosed:e,updateSliderAnimationProgress:n,resetSlider:o,isOpened:r,keyFormMenuItems:i,identityFormMenuItems:s,multikeyForm:a,multikeyFormMenuItems:l,sepFormMenuItems:c,onClose:d,onKeyGenerated:p,sliderOptions:h,onKeyExport:m}=t,{classes:g}=ybe(),C=V(xs),v=V(eS.keychain.route),S=f.useRef(null),y=()=>{var b;n(!1),(b=S.current)==null||b.focus()};return f.useEffect(()=>{var b;(b=S.current)==null||b.focus()},[v]),u(V2,{className:g.sidebar,isOpened:r,onOpenAnimationStarted:()=>n(!0),onOpenAnimationEnd:y,onCloseAnimationStarted:()=>n(!0),onCloseAnimationEnd:()=>{n(!1),o(),e==null||e()},children:L(qt,{children:[u(xe,{when:v==="key",children:u(pbe,{onClose:d,onKeyExport:m,menuItems:i},h==null?void 0:h.wizardID)}),u(xe,{when:v==="keygen",children:u(sB,{onClose:d,onKeyGenerated:p,autoFocusRef:S},h==null?void 0:h.wizardID)}),u(xe,{when:v==="fidoKeygen"&&(h==null?void 0:h.wizardID)!=null,children:u(xR,{wizardID:h==null?void 0:h.wizardID,onKeyGenerated:p,onCloseSlider:d,vault:ct(C)},h==null?void 0:h.wizardID)}),u(xe,{when:v==="sep",children:u(eSe,{onClose:d,onExportToHost:m,menuItems:c},h==null?void 0:h.wizardID)}),u(xe,{when:v==="sepKeygen",children:u(Y9e,{onKeyGenerated:p,onClose:d},h==null?void 0:h.wizardID)}),u(xe,{when:v==="identity",children:u(ESe,{onClose:d,menuItems:s,autoFocusRef:S},h==null?void 0:h.wizardID)}),u(xe,{when:v==="multikey",children:u(gbe,{onClose:d,menuItems:l,...a},h==null?void 0:h.wizardID)}),u(xe,{when:v==="keyExport",children:u(cbe,{onClose:d},h==null?void 0:h.wizardID)})]})})},ybe=K()({sidebar:{paddingTop:"var(--header-height)",zIndex:1}}),aB=t=>{const{forms:e,setEditableEntity:n,editableEntity:o,sliderPage:r}=t,[i,s]=f.useState(!1),[a,l]=f.useState(),[c,d]=f.useState(!1),p=f.useRef(null),h=de(),m=tt(),g=f.useCallback(O=>{var U;return(U=e==null?void 0:e.find(N=>N.type===O))==null?void 0:U.form},[e]),C=V(eS[r].route),v=g(C),S=V(Ht[r].rootFormId),y=V(O=>YG(O,r)),b=V(Ht[r].rootFormSavingStatus),w=f.useCallback(async()=>{d(!0),s(!1)},[]),x=f.useCallback(()=>v!=null&&v.disableDiscardChangesConfirmation?!0:bs(W2),[v==null?void 0:v.disableDiscardChangesConfirmation]),_=f.useCallback(()=>{e==null||e.forEach(({form:O})=>{var U;return(U=O==null?void 0:O.resetForm)==null?void 0:U.call(O)})},[e]),I=f.useCallback(async()=>{n(null),l(void 0),s(!1),_(),h(XG(r)),h(Bb({page:r}))},[n,_,h,r]),T=f.useCallback(async()=>{var U;if(!C)return;const O=!tv(C)||nv(C);if(kA({savingStatus:b})||O){w();return}try{await We(m,Dn(r).saveFormInstantly,S),w()}catch(N){N==="closeDiscardDialog"?(U=p.current)==null||U.resetSelection():w()}},[w,C,S,m,b,r]),A=f.useCallback(async()=>{var N,W;const O=v==null?void 0:v.isValid;if(!(v==null?void 0:v.isDirty)){w();return}if(O){(N=v==null?void 0:v.saveForm)==null||N.call(v),w();return}try{await x(),w()}catch{n((v==null?void 0:v.editableEntity)||null),(W=p.current)==null||W.resetSelection()}},[w,v,x,n]),k=f.useCallback(async()=>{var O;if(i){try{await((O=v==null?void 0:v.onBeforeFormClose)==null?void 0:O.call(v))}catch{return}Vi(C)?T():A()}},[T,A,v,C,i]),R=f.useCallback(O=>{var X;const{entity:U,formType:N,preview:W,options:B,formId:$}=O,q=ya({entity:U,formType:N});h(zb({preview:W,entityLocalPath:q,formType:N,page:r,formId:$})),h(Vb({page:r,route:N})),l(B),U!=null&&U.local_id||(X=p.current)==null||X.resetSelection()},[h,r]),M=f.useCallback(async O=>{var ee;const{entity:U,formType:N,preview:W,options:B,formId:$}=O;if(!C||_be({currentFormId:$,rootFormId:S,currentSliderRoute:C,formType:N}))return;const X=!tv(C)||nv(C);if(C&&(kA({savingStatus:b})||X)){Vi(N)&&R({entity:U,formType:N,preview:W,options:B,formId:$});return}try{await We(m,Dn(r).saveFormInstantly,S),Vi(N)&&R({entity:U,formType:N,preview:W,options:B,formId:$})}catch(ue){if(ue==="closeDiscardDialog"){(ee=p.current)==null||ee.resetSelection();return}Vi(N)?R({entity:U,formType:N,preview:W,options:B,formId:$}):h(Bb({page:r}))}},[C,h,S,m,b,r,R]),D=f.useCallback(async O=>{var be,Ne,$e,at,ae;const{entity:U,formType:N,withoutDiscardConfirmation:W,preview:B,options:$,entityVault:q,formId:X}=O,ee=!C,ue=Vi(C),se=Vi(N);if(Sbe({isCurrentFormTypeEmpty:ee,isCurrentFormTypeNew:ue,isFormTypeNew:se})){await M({entity:U,formType:N,preview:B,options:$,entityVault:q,formId:X});return}se&&l($);const J=(be=U==null?void 0:U.clone())==null?void 0:be.entityLocalPath,le=($e=(Ne=v==null?void 0:v.editableEntity)==null?void 0:Ne.clone())==null?void 0:$e.entityLocalPath,ve=N===C;if(!((bbe({newEntityLocalPath:J,currentEntityLocalPath:le})||!o)&&ve)){v!=null&&v.isValid&&(v!=null&&v.isDirty)&&((at=v==null?void 0:v.saveForm)==null||at.call(v));try{if(!(v!=null&&v.isValid)&&(v!=null&&v.isDirty)&&!W&&await x(),R({entity:U,formType:N,preview:B,options:$,entityVault:q,formId:X}),_(),n(U),!(U!=null&&U.local_id))throw new Error}catch{(ae=p.current)==null||ae.resetSelection()}}},[v,C,o,x,_,n,R,M]),F=f.useCallback(O=>{var ee;const{entity:U,formType:N,options:W,withoutDiscardConfirmation:B,preview:$,entityVault:q,formId:X}=O;if(o&&i){D({entity:U,formType:N,withoutDiscardConfirmation:B,preview:$,options:W,entityVault:q,formId:X});return}if(l(W),d(!0),s(!0),Vi(N)){const ue=ya({entity:U,formType:N});h(zb({preview:$,entityLocalPath:ue,formType:N,entityVault:q,page:r,formId:X}))}n(U),h(Vb({page:r,route:N})),(ee=p.current)==null||ee.resetSelection()},[h,o,D,i,n,r]),z=f.useCallback(({type:O,isFormInDraftMode:U})=>i&&c||!i&&!c||O!==C||U?!1:Vi(O)?!pn(y==null?void 0:y.local_id):!pn(o==null?void 0:o.local_id),[y==null?void 0:y.local_id,C,o==null?void 0:o.local_id,i,c]),j=f.useCallback((O,U)=>{const N=g(U),W=N==null?void 0:N.editableEntity,$=Vi(U)?y:W;return!$||U!==C?O:$.local_id&&z({type:U,isFormInDraftMode:N==null?void 0:N.isDraftMode})?O.filter(q=>q.local_id!==$.local_id):EF(O,$)},[y,C,g,z]);return f.useMemo(()=>({isSliderOpened:i,isSliderAnimationInProgress:c,editableEntity:o,entitiesLayoutRef:p,currentForm:v,formType:C,sliderOptions:a,resetSlider:I,filterEntitiesWithPreview:j,shouldShowNewEntityPreview:z,setIsSliderAnimationInProgress:d,onOpenSlider:F,onCloseSlider:k}),[i,c,o,p,v,C,a,I,j,z,d,F,k])},Sbe=({isCurrentFormTypeEmpty:t,isCurrentFormTypeNew:e,isFormTypeNew:n})=>n&&(t||e),bbe=({newEntityLocalPath:t,currentEntityLocalPath:e})=>t&&t===e,wbe=["historyCommands","snippetsPackage","snippet","key","fidoKeygen","keygen","identity","sep","sepKeygen","keyExport"],Vi=t=>t?wbe.includes(t):!1,_be=t=>{const{rootFormId:e,currentFormId:n,currentSliderRoute:o,formType:r}=t;return n===e&&(!o||r===o)},kA=t=>{const{savingStatus:e}=t;return!e||e==="saved"},xbe=({multikey:t})=>{const[e,n]=f.useState("loading"),o=tt(),r=de(),i=V(lC),s=V(O8),a=V(FR),l=V(cC),c=f.useCallback(I=>!!(l&&I.local_id),[l]),d=f.useCallback(I=>We(o,NR,I),[o]),{editableEntity:p,originalEntity:h,isValid:m,isDirty:g,resetForm:C,updateForm:v,saveFormInstantly:S,savingStatus:y}=o0({entity:t,entitiesSelector:JG,EntityClass:Rt,getIsValidForSaving:c,saveEntity:d}),b=f.useCallback(I=>{v({username:I.target.value})},[v]),w=f.useCallback(async()=>{try{n("loading");const I=await We(o,MR);return n("success"),I}catch{return n("error"),i}},[i,o]),x=f.useCallback(async()=>{r(HR());const I=await vh(i,p.username),T=J9("~/.ssh","authorized_keys",I),A=new yt({...a,label:BR,script:T});We(o,Ol,A),r(a?zR():VR()),p.username&&d(new Rt({...s,username:p.username}))},[i,r,p.username,a,o,d,s]),_=f.useCallback(async()=>{const I=await vh(i,p.username);WR("authorized_keys",I,T=>{T&&Ld({title:"Save Authorized Keys failed",message:"There was a problem in the authorized_keys save process"})}),r(jR()),p.username&&d(new Rt({...s,username:p.username}))},[i,r,p.username,d,s]);return{editableEntity:p,originalEntity:h,isValid:m,isDirty:g,resetForm:C,saveForm:S,savingStatus:y,authorizedKeysRequestStatus:e,authorizedKeys:i,getAuthorizedKeys:w,onUsernameChange:b,onSaveAsSnippet:x,onSaveAsFile:_}},Abe=()=>{const[t,e]=f.useState(null),n=V(Ht.keychain.presenterPreview),o=xbe({multikey:t instanceof Rt?t:null}),r=aB({forms:[{form:o,type:"multikey"}],editableEntity:t,setEditableEntity:e,sliderPage:"keychain"}),s=r.shouldShowNewEntityPreview({type:"key"})?n:null,l=r.shouldShowNewEntityPreview({type:"keygen"})?n:null,d=r.shouldShowNewEntityPreview({type:"fidoKeygen"})?n:null,h=r.shouldShowNewEntityPreview({type:"identity"})?n:null,m=r.shouldShowNewEntityPreview({type:"multikey"}),g=f.useMemo(()=>m?new Rm({presenter:Kf,entity:new Rt(o.editableEntity)}):null,[o.editableEntity,m]),v=r.shouldShowNewEntityPreview({type:"sep"})?n:null,y=r.shouldShowNewEntityPreview({type:"sepKeygen"})?n:null;return{...r,editableEntity:t,multikeyForm:o,editableKeyPreview:s,editableIdentityPreview:h,editableMultikeyPreview:g,editableKeygenPreview:l,editableFidoKeygenPreview:d,editableSepPreview:v,editableSepKeygenPreview:y}};class lB extends f.Component{constructor(){super(...arguments);E(this,"state",{contextMenuProperties:{open:!1},filters:dc(),biometricKeyBackend:void 0});E(this,"task");E(this,"taskRemoveEntity");E(this,"mounted",!1);E(this,"connectionMap",new Map);E(this,"updateBiometricKeyBackend",async()=>{const n=await this.availableBiometricKeyBackend();this.mounted&&this.setState({biometricKeyBackend:n})});E(this,"layoutRef",f.createRef());E(this,"handleMenu",(n,o)=>{const r=Ie.v4();this.setState({contextMenuProperties:{wizardID:r,open:!0,...n,items:o.filter(i=>i instanceof ft||i instanceof Nt||i instanceof Rt||i instanceof Yt)}}),this.props.dispatch(Su({onScreen:"Keychain",openedVia:"Right Click",wizardID:r}))});E(this,"closeMenu",()=>{this.setState({contextMenuProperties:{open:!1}})});E(this,"handleEdit",n=>{(this.props.formType==="keygen"||this.props.formType==="fidoKeygen")&&!n.local_id||!(n instanceof Rt||dt(n,this.props.editableVaults))||(n instanceof ft&&this.editKey(n),n instanceof Nt&&this.editIdentity(n),n instanceof Rt&&this.editMultiKey(),n instanceof Yt&&this.viewSepKey(n))});E(this,"tryEditFromKeyboard",n=>{if(!("items"in this.state.contextMenuProperties))return;const{open:o,items:r}=this.state.contextMenuProperties;!o||r.length!==1||n.key.toLowerCase()==="e"&&(this.setState({contextMenuProperties:{open:!1}}),this.handleEdit(r[0]))});E(this,"viewSepKey",(n,o={wizardID:Ie.v4()})=>{const{dispatch:r}=this.props,i={label:n.label,public_key:n.public_key};this.closeMenu(),this.props.onOpenSlider({entity:new Yt(n),formType:"sep",options:o,preview:i,formId:Ie.v4()}),r(Bi(!1)),r(ko({entity:RA[n.storage],editButtonOrigin:null,entityID:n.local_id??-1}))});E(this,"editKey",n=>{this.closeMenu();const o=Ie.v4(),r={label:n.label,passphrase:n.passphrase,private_key:n.private_key,public_key:n.public_key,certificates:n.certificates};this.props.onOpenSlider({entity:new ft(n),formType:"key",preview:r,options:{wizardID:o},formId:Ie.v4()}),this.props.dispatch(Bi(!1))});E(this,"editIdentity",n=>{this.closeMenu();const o=Ie.v4(),r=new Nt(n),i={label:r.label,username:r.username??"",password:r.password,ssh_key:r.ssh_key,hardware_key:r.hardware_key};this.props.onOpenSlider({entity:r,formType:"identity",options:{wizardID:o},preview:i,formId:Ie.v4()}),this.props.dispatch(Bi(!1)),this.props.dispatch(nC({identitySource:"Keychain",numberOfLinkedElements:0,identityID:n.id??0,identity:n}))});E(this,"closeEditing",()=>{this.props.dispatch(Bi(!1)),this.handleSliderClosed()});E(this,"handleSliderClosed",()=>{setTimeout(()=>{var n;(n=this.layoutRef.current)==null||n.focus()},250)});E(this,"editMultiKey",()=>{const{dispatch:n,teamMultiKey:o}=this.props,r=Ie.v4();this.closeMenu(),n(Bi(!0)),n(tK(Date.now())),n(ko({entity:"MultiKey",editButtonOrigin:"Context Menu",entityID:(o==null?void 0:o.local_id)??-1})),this.props.onOpenSlider({entity:new Rt({...o}),formType:"multikey",options:{wizardID:r},preview:void 0,formId:Ie.v4()})});E(this,"saveAsSnippet",async n=>{this.props.dispatch(HR()),this.closeMenu();const o=await vh(this.props.authorizedKeys,this.props.username),r=J9("~/.ssh","authorized_keys",o),{exportTeamMultiKeySnippet:i,dispatch:s}=this.props,a=new yt({...i,label:BR,script:r});s(Ol.request(a)),s(i?zR():VR()),n&&this.updateMultiKeyUsername(n)});E(this,"exportKeyToHosts",n=>{if(!n)return;const o={...LR,keyToExport:n,script:T9e(n)},r=Ie.v4();this.closeMenu(),this.props.onOpenSlider({entity:n,formType:"keyExport",options:{wizardID:r},preview:o,formId:Ie.v4()})});E(this,"handleDoubleClick",n=>{if(!(n instanceof ft||n instanceof Rt)){this.handleEdit(n);return}(n instanceof Rt||dt(n,this.props.editableVaults))&&(this.exportKeyToHosts(n),this.props.dispatch(v5({exportButtonLocation:"Cell Double Click"})))});E(this,"saveAsAuthorizedKeysFile",async n=>{this.closeMenu();const o=await vh(this.props.authorizedKeys,this.props.username);WR("authorized_keys",o,r=>{r&&Ld({title:"Save Authorized Keys failed",message:"There was a problem in the authorized_keys save process"})}),this.props.dispatch(jR()),n&&this.updateMultiKeyUsername(n)});E(this,"removeSshKeysAndIdentities",async(n,o,r)=>{this.closeMenu();const s=[{count:[...n,...r].length,singular:"key",plural:"keys"},{count:o.length,singular:"identity",plural:"identities"}],a=s3(s),l=L1(s);try{await bs({title:`Remove ${l}`,text:`Are you sure you want to delete ${a}?`,dark:this.props.isDarkMode,confirmButtonTitle:"Remove",buttonColor:"error"})}catch(c){Po.swallow(c);return}await this.handleCloseSlider(),await We(this.context,nK,{sshKeys:n,identities:o,hardwareKeys:r})});E(this,"addKey",()=>{const n=Ie.v4(),o=ct(this.props.defaultVault),r=new ft(o),i={label:r.label,passphrase:r.passphrase,private_key:r.private_key,public_key:r.public_key,certificates:r.certificates};this.props.onOpenSlider({entity:r,formType:"key",preview:i,options:{wizardID:n},entityVault:o,formId:Ie.v4()}),this.props.dispatch(Bi(!1)),this.props.dispatch(ko({entity:"PrivateKey",editButtonOrigin:null,entityID:-1}))});E(this,"openNewCertificateForm",()=>{if(!this.props.isProUser){Pt(this.context,{dialog:"ProFeatures",target:ge(),props:{openWithNumber:po("Certificates"),from:"Certificates"}}).catch(Po.swallow);return}this.addKey()});E(this,"openNewCertificateFormFromToolbar",()=>{this.props.dispatch(oK({onScreen:"Keychain",newCertificateLocation:"Keychain Toolbar"})),this.openNewCertificateForm()});E(this,"addIdentity",()=>{const n=Ie.v4(),o=ct(this.props.defaultVault),r=new Nt({is_visible:!0,...o}),i={label:r.label,username:r.username??"",password:r.password,ssh_key:r.ssh_key,hardware_key:r.hardware_key};this.props.onOpenSlider({entity:r,formType:"identity",options:{wizardID:n},preview:i,entityVault:o,formId:Ie.v4()}),this.props.dispatch(Bi(!1)),this.props.dispatch(ko({entity:"Identity",editButtonOrigin:null,entityID:-1}))});E(this,"generateNewKey",()=>{const n=Ie.v4(),o=bR,r=ct(this.props.defaultVault);this.props.onOpenSlider({entity:new ft({...r}),formType:"keygen",options:{wizardID:n},preview:o,entityVault:r,formId:Ie.v4()})});E(this,"generateFIDO2Key",n=>{const o=ct(this.props.defaultVault),r=ER;this.props.onOpenSlider({entity:new ft({...o}),formType:"fidoKeygen",options:{wizardID:n},preview:r,entityVault:o,formId:Ie.v4()})});E(this,"generateSepKey",()=>{const n=Ie.v4(),o=new Yt(rC),r={label:o.label,storage:o.storage};this.props.onOpenSlider({entity:o,formType:"sepKeygen",options:{wizardID:n},preview:r,formId:Ie.v4()})});E(this,"onKeyChevronToolbarButton",()=>{this.props.dispatch(tC({onScreen:"Keychain",associatedWith:"New Key"}))});E(this,"onKeyGenerated",n=>{if(!(this.props.isSliderOpened&&!!this.layoutRef.current))return;const{formType:r}=this.props;if(r==="keygen"||r==="fidoKeygen"){this.editKey(n);return}if(r==="sepKeygen"){this.viewSepKey(n);return}this.handleSliderClosed()});E(this,"onSshKeySubmit",async n=>{this.closeEditing(),n.trimPrivateAndPublic(),this.props.dispatch(Wh.request({entity:n}))});E(this,"onIdentitySubmit",async n=>{this.closeEditing(),this.props.dispatch(jh.request(n))});E(this,"updateMultiKeyUsername",n=>{this.props.dispatch(NR.request(new Rt({...this.props.teamMultiKey,username:n})))});E(this,"onFiltersChanged",n=>{this.setState({filters:{...this.state.filters,...n}})});E(this,"handleEnter",n=>{n.length===1&&this.handleEdit(n[0])});E(this,"handleEditIconClicked",n=>{if(!(n instanceof Rt||dt(n,this.props.editableVaults))){this.handleCloseSlider();return}const r=Ie.v4();if(n instanceof ft){const i={label:n.label,passphrase:n.passphrase,private_key:n.private_key,public_key:n.public_key,certificates:n.certificates};this.props.onOpenSlider({entity:n,formType:"key",preview:i,options:{wizardID:r},formId:Ie.v4()}),this.props.dispatch(ko({entity:"PrivateKey",editButtonOrigin:"Entity Cell",entityID:n.local_id??-1}))}if(n instanceof Nt){const i=new Nt(n),s={label:i.label,username:i.username??"",password:i.password,ssh_key:i.ssh_key,hardware_key:i.hardware_key};this.props.onOpenSlider({entity:n,formType:"identity",options:{wizardID:r},preview:s,formId:Ie.v4()}),this.props.dispatch(ko({entity:"Identity",editButtonOrigin:"Entity Cell",entityID:n.local_id??-1}))}if(n instanceof Rt&&(this.props.onOpenSlider({entity:n,formType:"multikey",options:{wizardID:r},preview:void 0,formId:Ie.v4()}),this.props.dispatch(ko({entity:"MultiKey",editButtonOrigin:"Entity Cell",entityID:n.local_id??-1}))),n instanceof Yt){const i={label:n.label,public_key:n.public_key};this.props.onOpenSlider({entity:n,formType:"sep",options:{wizardID:r},preview:i,formId:Ie.v4()}),this.props.dispatch(ko({entity:RA[n.storage],editButtonOrigin:"Entity Cell",entityID:n.local_id??-1}))}});E(this,"handleExportMultikey",()=>{const{teamMultiKey:n}=this.props;this.exportKeyToHosts(n?new Rt(n):null)});E(this,"onCopyToVault",async(n,o,r)=>{await We(this.context,fi,{wizardID:r,entities:n,targetState:ct(o),cancelable:!0,operation:"Copy",source:"ContextMenu"})});E(this,"onMoveToVault",async(n,o,r)=>{await We(this.context,fi,{wizardID:r,entities:n,targetState:ct(o),cancelable:!0,operation:"Move",source:"ContextMenu"})});E(this,"teamMultiKeyFormMenuItems",n=>[{name:"Export to a host",handler:()=>this.handleExportMultikey(),icon:u(Bc,{}),disabled:n},{name:"Save authorized_keys file",handler:()=>this.saveAsAuthorizedKeysFile(),icon:u(w7,{htmlColor:"var(--blue)"}),disabled:n},{name:"Export snippet",handler:()=>this.saveAsSnippet(),icon:u(AA,{}),disabled:n}]);E(this,"sepKeyFormMenuItems",(n,o)=>[{name:"Export to host",handler:()=>this.exportKeyToHosts(new Yt(n)),icon:u(Bc,{}),disabled:o},{name:"Remove",handler:()=>this.removeSshKeysAndIdentities([],[],[n]),icon:u($n,{htmlColor:"var(--red-dark)"}),disabled:o}]);E(this,"keyFormMenuItems",(n,o)=>[{name:"Export to host",handler:()=>{this.exportKeyToHosts(new ft(n)),this.props.dispatch(v5({exportButtonLocation:"Key Details Context Menu"}))},icon:u(Bc,{}),disabled:o},{visible:!this.props.isTeam,name:"Collaborate",handler:()=>this.onShareSshKeysAndIdentitiesViaPromo([n],[]),icon:u(Pr,{})},{visible:Ln(n,this.props.editableVaults),name:"Remove",handler:()=>this.removeSshKeysAndIdentities([n],[],[]),icon:u($n,{htmlColor:"var(--red-dark)"}),disabled:o}]);E(this,"identityFormMenuItems",(n,o)=>[{visible:!this.props.isTeam,name:"Collaborate",handler:()=>this.onShareSshKeysAndIdentitiesViaPromo([],[n]),icon:u(Pr,{})},{visible:Ln(n,this.props.editableVaults),name:"Remove",handler:()=>this.removeSshKeysAndIdentities([],[n],[]),icon:u($n,{htmlColor:"var(--red-dark)"}),disabled:o}]);E(this,"onShareSshKeysAndIdentitiesViaPromo",(n,o)=>{this.closeMenu();const r=Ie.v4(),i=n.length+o.length===1?"single":"multi";this.sendSharingFlowAnalytics({sharingType:i,funnelID:r}),Pt(this.context,{dialog:"ShareAndInvite",target:ge(),options:{closeOnBackdropClick:!1},props:{entitiesToShare:{sshKeys:n,identities:o},hasSharingSelector:!1,entryPointForAnalytics:i==="single"?"Context Keychain":"Context Multiselect Keychain",teamTrialFunnelID:r}}).catch(He)});E(this,"sendSharingFlowAnalytics",({sharingType:n,funnelID:o})=>{const{dispatch:r}=this.props,i=n==="multi";r(xu({sharingButtonLocation:i?"Keychain Multi-Select Context Menu":"Keychain Context Menu",sharedEntity:i?"Known Hosts Multi-Select":"Known Hosts"})),r(he("createTeamWizardViewOpened",{createTeamWizardStep:"Description",openedFrom:i?"Context Multiselect Keychain":"Context Keychain",teamTrialFunnelID:o,trial:"yes"})),r(he("teamTrialFunnelStarted",{openedFrom:i?"Context Multiselect Keychain":"Context Keychain",teamTrialFunnelID:o,teamTrialPlan:"Team"}))});E(this,"handleSelect",()=>{});E(this,"handleCloseSlider",async()=>{const{formType:n,onCloseSlider:o}=this.props;if(n==="keyExport"){nB();return}await o()})}componentDidMount(){this.task=this.context.run(this.watchLogout,this),this.taskRemoveEntity=this.context.run(this.watchRemoveEntity,this),this.props.dispatch(dC({page:"keychain"})),this.updateBiometricKeyBackend(),ri().addListener("focus",this.updateBiometricKeyBackend),this.props.teamMultiKeyFormOpen&&(this.editMultiKey(),this.props.dispatch(Bi(!1))),document.addEventListener("keydown",this.tryEditFromKeyboard),this.mounted=!0}componentDidUpdate(n){n.teamMultiKeyFormOpen!==this.props.teamMultiKeyFormOpen&&this.props.teamMultiKeyFormOpen&&(this.editMultiKey(),this.props.dispatch(Bi(!1)))}componentWillUnmount(){var n,o;this.mounted=!1,(n=this.task)==null||n.cancel(),(o=this.taskRemoveEntity)==null||o.cancel(),this.props.dispatch(uC({page:"keychain"})),document.removeEventListener("keydown",this.tryEditFromKeyboard),ri().removeListener("focus",this.updateBiometricKeyBackend)}async availableBiometricKeyBackend(){if(pu){const n=await $5e();return this.props.dispatch(eK({windowsHelloAvailability:G5e(n)})),n.isAvailable?"windows hello":"no"}else return await bl.isAvailable()?"secure enclave":"no"}*watchLogout(n){yield*fe(Li.request,()=>{n.props.resetSlider()})}*watchRemoveEntity(n){yield*fe(UR,({payload:o})=>{const{entitiesLocalPath:r}=o,i=n.props.sliderFormEntityLocalPath;r.includes(i)&&n.props.resetSlider()})}getContextMenuItemsForSharing(){return(this.state.contextMenuProperties.open?this.state.contextMenuProperties.items:[]).filter(o=>(o.entityName==="sshKey"||o.entityName==="identity")&&dt(o,this.props.editableVaults))}teamMultiKeyMenuItems(){return[{name:"Export to host",handler:()=>this.handleExportMultikey(),icon:u(Bc,{})},{name:"Save as authorized_keys file",handler:()=>this.saveAsAuthorizedKeysFile(),visible:!1,icon:u(w7,{htmlColor:"var(--blue)"})},{name:this.props.exportTeamMultiKeySnippet?"Update Export Snippet":"Create Export Snippet",handler:()=>this.saveAsSnippet(),visible:!1,icon:u(AA,{})},{name:this.props.canEditDefaultTeamVaultData?"Edit":"View",handler:()=>this.editMultiKey(),icon:u(Cl,{}),endAdornment:u(ho,{children:"E"})}]}sepKeyMenuItems(n,o){return[{visible:!0,name:"View",handler:()=>this.viewSepKey(n),icon:u(rK,{htmlColor:"var(--blue)"})},{name:"Export to host",handler:()=>this.exportKeyToHosts(new Yt(n)),icon:u(Bc,{})},...this.getVaultContextMenuItems(o,"Context Keychain"),{visible:!0,name:"Remove",handler:()=>this.removeSshKeysAndIdentities([],[],[n]),icon:u($n,{htmlColor:"var(--red-dark)"})}]}sshKeyMenuItems(n,o){return[{visible:dt(n,this.props.editableVaults),name:Dd(n,this.props.editableVaults),handler:()=>this.editKey(n),icon:u(Cl,{}),endAdornment:u(ho,{children:"E"})},{name:"Export to host",handler:()=>{this.exportKeyToHosts(new ft(n)),this.props.dispatch(v5({exportButtonLocation:"Context Menu"}))},icon:u(Bc,{})},{visible:!this.props.isTeam,name:"Collaborate",handler:()=>this.onShareSshKeysAndIdentitiesViaPromo([n],[]),icon:u(Pr,{})},...this.getVaultContextMenuItems(o,"Context Keychain"),{visible:Ln(n,this.props.editableVaults),name:"Remove",handler:()=>this.removeSshKeysAndIdentities([n],[],[]),icon:u($n,{htmlColor:"var(--red-dark)"})}]}identityMenuItems(n,o){return[{visible:dt(n,this.props.editableVaults),name:Dd(n,this.props.editableVaults),handler:()=>this.editIdentity(n),icon:u(Cl,{}),endAdornment:u(ho,{children:"E"})},{visible:!this.props.isTeam,name:"Collaborate",handler:()=>this.onShareSshKeysAndIdentitiesViaPromo([],[n]),icon:u(Pr,{})},...this.getVaultContextMenuItems(o,"Context Keychain"),{visible:Ln(n,this.props.editableVaults),name:"Remove",handler:()=>this.removeSshKeysAndIdentities([],[n],[]),icon:u($n,{htmlColor:"var(--red-dark)"})}]}multiselectMenuItems(n,o){const r=n.filter(c=>["sshKey","identity","hardwareKey"].includes(c.entityName)),[i,s]=Fd(r,c=>c instanceof ft),[a,l]=Fd(s,c=>c instanceof Nt);return[{visible:!this.props.isTeam,name:"Collaborate",handler:()=>this.onShareSshKeysAndIdentitiesViaPromo(i,a),icon:u(Pr,{})},...this.getVaultContextMenuItems(o,"Context Multiselect Keychain"),{visible:Ln(r,this.props.editableVaults),name:"Remove",handler:()=>this.removeSshKeysAndIdentities(i,a,l),icon:u($n,{htmlColor:"var(--red-dark)"})}]}getVaultContextMenuItems(n,o){return yl({teamRole:this.props.teamRole,entities:this.getContextMenuItemsForSharing(),vaults:this.props.editableVaults,vaultsMembers:this.props.vaultsMembers,onCopy:this.onCopyToVault,onMove:this.onMoveToVault,onCloseMenu:this.closeMenu,shouldPromoteUpgrade:this.props.isStarterPlan,isAuthorized:this.props.isAuthorized,dispatch:this.props.dispatch,newVaultButtonType:this.props.newVaultButtonType,...os(this.context,this.props.dispatch,o),wizardID:n})}menuItems(){const n=this.state.contextMenuProperties;if(!n.open)return[];const{items:o,wizardID:r}=n;switch(o.length){case 0:return[];case 1:{const[i]=o;return i instanceof ft?this.sshKeyMenuItems(i,r):i instanceof Nt?this.identityMenuItems(i,r):i instanceof Yt?this.sepKeyMenuItems(i,r):this.teamMultiKeyMenuItems()}default:return this.multiselectMenuItems(o,r)}}get multiKeyPresenter(){return new Pk(this.props.teamName)}get displayMultiKeys(){const{teamMultiKey:n,selectedVaults:o}=this.props;return n&&o.some(r=>r.isDefault)&&iK(this.multiKeyPresenter.label(),this.state.filters.search)?[new Rt(n)]:[]}renderData(){const{sort:n,keys:o,hardwareKeys:r,identities:i,layout:s,entitiesLayoutRef:a,isSliderAnimationInProgress:l,editableKeyPreview:c,editableIdentityPreview:d,editableKeygenPreview:p,editableFidoKeygenPreview:h,editableSepPreview:m,editableSepKeygenPreview:g,filterEntitiesWithPreview:C,formType:v,sliderFormEntityLocalPath:S,pageSliderFormPreview:y,currentForm:b}=this.props,x=I9e({sliderFormEntityLocalPath:S,pageSliderFormPreview:y,formType:v})??(b==null?void 0:b.editableEntity),_=fa(this.state.filters,n),I=Ok(i,_),T=C(I,"identity"),A=this.props.selectedVaults.some(M=>M.name==="Personal")?C(sK(r,_),"sep"):[],k=aK([...C(lK(o,_),"key"),...A],_),R=new ag([{listName:"MultiKeys",entities:this.displayMultiKeys,presenter:this.multiKeyPresenter},{listName:"Keys",entities:[...p?[p]:[],...h?[h]:[],...c?[c]:[],...m?[m]:[],...g?[g]:[],...k],presenter:Yi,injector:M=>({withoutContextMenu:!dt(M,this.props.editableVaults)})},{listName:"Identities",entities:[...d?[d]:[],...T],presenter:To,injector:M=>({withoutContextMenu:!dt(M,this.props.editableVaults)})}]);return R.lengthOfEntities?u(lg,{ref:_3(this.layoutRef,a),layout:s,entitiesLists:R,onMenu:this.handleMenu,onEnter:this.handleEnter,onDoubleClick:this.handleDoubleClick,onSelect:this.handleSelect,onClickAway:this.handleCloseSlider,onEdit:this.handleEditIconClicked,forcedSelectedItem:x,layoutSourceProps:{disableLayoutAutoFocus:this.props.isSliderOpened,disableLayoutResize:l,editingOnClickMode:this.props.isSliderOpened},currentScreenForAnalytics:"Keychain"}):u(_9e,{})}render(){const{sort:n,keys:o,identities:r,hardwareKeys:i,editableIdentityPreview:s,editableKeyPreview:a,editableKeygenPreview:l,editableSepPreview:c,editableSepKeygenPreview:d,editableFidoKeygenPreview:p,showVaultsEmptyScreen:h}=this.props,{filters:m}=this.state,g=fa(m,n),C=this.displayMultiKeys.length>0,v=r.length>0,S=o.length>0,y=i.length>0,w=!(C||v||S||y||(a||s||l||p||c||d));return h?u(Ic,{}):u(qF,{value:this.connectionMap,children:L(H2,{fullHeight:!0,children:[L(Fg,{children:[u(A3,{isLighten:!0,largeHeight:!0,tab:"keychain",filters:g,onFiltersChanged:this.onFiltersChanged,disableSort:this.props.isSliderOpened,children:u(N9e,{biometricKeyBackend:this.state.biometricKeyBackend,onAddKey:this.addKey,onAddCertificate:this.openNewCertificateFormFromToolbar,onAddIdentity:this.addIdentity,onGenerateNewKey:this.generateNewKey,onGenerateFIDO2Key:this.generateFIDO2Key,onGenerateSepKey:this.generateSepKey,onKeyChevronButton:this.onKeyChevronToolbarButton})}),w?u(b9e,{}):L(Gd,{children:[this.renderData(),u(Xh,{...this.state.contextMenuProperties,menuItems:this.menuItems(),onClose:this.closeMenu})]})]}),u(Jh,{value:"keychain",children:u(Cbe,{isOpened:this.props.isSliderOpened,keyFormMenuItems:this.keyFormMenuItems,identityFormMenuItems:this.identityFormMenuItems,multikeyForm:this.props.multikeyForm,multikeyFormMenuItems:this.teamMultiKeyFormMenuItems,sepFormMenuItems:this.sepKeyFormMenuItems,onClosed:this.handleSliderClosed,resetSlider:this.props.resetSlider,updateSliderAnimationProgress:this.props.setIsSliderAnimationInProgress,sliderOptions:this.props.sliderOptions,onClose:this.props.onCloseSlider,onKeyGenerated:this.onKeyGenerated,onKeyExport:this.exportKeyToHosts})})]})})}}E(lB,"contextType",uc);const Tbe=t=>({isProUser:zt(t),canEditDefaultTeamVaultData:cC(t),editableVaults:co(t),vaultsMembers:gu(t),sort:t.sorting.keychain,keys:SR(t),hardwareKeys:mR(t),identities:pC(t),layout:Yh(t,"keychain"),teamMultiKey:O8(t),teamName:Rk(t),authorizedKeys:lC(t),username:pc(t),exportTeamMultiKeySnippet:FR(t),teamMultiKeyFormOpen:cK(t),isTeam:lo(t),isDarkMode:xo(t),newVaultButtonType:fu(t),defaultVault:xs(t),selectedVaults:R2(t),showVaultsEmptyScreen:ac(t),isStarterPlan:Ra(t),isAuthorized:Na(t),teamRole:mu(t),sliderFormEntityLocalPath:Ht.keychain.rootFormLocalPath(t),pageSliderFormPreview:Ht.keychain.rootFormPreview(t)}),Ibe=kc(Abe)(lB),Ebe=_o(Tbe)(Ibe),RA={[Uh]:"SEPKey",[uu]:"WindowsHelloKey"};function kbe(){const{classes:t}=Rbe();return u(hn,{offsetTop:95,className:t.wrapper,children:u(wo,{title:"Known hosts will appear here",text:"Known hosts are trusted server identities saved for secure future connections.",icon:u($R,{width:"25px",height:"25px"})})})}const Rbe=K()({wrapper:{backgroundColor:"var(--entity-grid-background)"}});async function cB(t){if(!Md)try{return(await lk.readFile(t)).toString("utf-8")}catch{return}}function Pbe(t){return vl.normalize(t.replace(/^~/,dK.homedir()))}const Lbe=Pbe("~/.ssh/known_hosts");function Mbe(t){const e=de(),n=Dbe(o=>e($2(new Ml({hostnames:o.host,key:o.publicKey}))));return async()=>{var o,r;try{const i=await cB(Lbe)||await Obe(),s=await n(i);(o=t==null?void 0:t.onSuccess)==null||o.call(t,s)}catch{(r=t==null?void 0:t.onError)==null||r.call(t)}}}const Obe=async()=>{const{filePaths:t,canceled:e}=await j2.showOpenDialog({properties:["showHiddenFiles","openFile"]}),n=t==null?void 0:t[0];if(!(e||!t||!n))return cB(n)};function Dbe(t){return async e=>{const n=Eee(e);return n.forEach(o=>t(o)),n.length}}class dB extends f.Component{constructor(){super(...arguments);E(this,"state",{contextMenuProperties:{open:!1},filters:dc()});E(this,"openMenu",(n,o)=>{const r=Ie.v4();this.setState({contextMenuProperties:{open:!0,...n,items:o.filter(i=>i instanceof Ml),wizardID:r}}),this.props.dispatch(Su({onScreen:"Known Hosts",openedVia:"Right Click",wizardID:r}))});E(this,"closeMenu",()=>{this.setState({contextMenuProperties:{open:!1}})});E(this,"removeKnownHosts",async n=>{this.closeMenu();const o=s3([{count:n.length,singular:"known host",plural:"known hosts"}]);try{await bs({title:"Remove known host",text:`Are you sure you want to remove ${o}?`,dark:this.props.isDarkMode,confirmButtonTitle:"Remove",buttonColor:"error"});const[r,i]=Fd(n,s=>typeof s.local_id=="number");this.props.dispatch(uK(r));for(const s of i)Vr.removeDeprecatedHostHashItem(s.hostnames);i.length!==0&&this.forceUpdate()}catch{}});E(this,"saveAsHost",async n=>{await Promise.allSettled(n.map(o=>{var r;return We(this.context,hs,{host:new _t({address:aw(o.hostnames)||o.hostnames,label:aw(o.hostnames)||o.hostnames,ssh_config:{port:Number((r=o.hostnames.split(":"))==null?void 0:r[1])||22}})})}))});E(this,"onFiltersChanged",n=>{this.setState({filters:{...this.state.filters,...n}})});E(this,"onMoveToVault",async(n,o,r)=>{await We(this.context,fi,{wizardID:r,entities:n,targetState:ct(o),cancelable:!0,operation:"Move",source:"ContextMenu"})});E(this,"onShareKnownHostsViaPromo",n=>{this.closeMenu();const o=Ie.v4(),r=n.length===1?"single":"multi";this.sendSharingFlowAnalytics({sharingType:r,funnelID:o}),Pt(this.context,{dialog:"ShareAndInvite",target:ge(),options:{closeOnBackdropClick:!1},props:{entitiesToShare:{knownHosts:n},hasSharingSelector:!1,entryPointForAnalytics:r==="single"?"Context Known Hosts":"Context Multiselect Known Hosts",teamTrialFunnelID:o}}).catch(He)});E(this,"sendSharingFlowAnalytics",({sharingType:n,funnelID:o})=>{const{dispatch:r}=this.props,i=n==="multi";r(xu({sharingButtonLocation:i?"Known Hosts Multi-Select Context Menu":"Known Hosts Context Menu",sharedEntity:i?"Known Hosts Multi-Select":"Known Hosts"})),r(he("createTeamWizardViewOpened",{createTeamWizardStep:"Description",openedFrom:i?"Context Multiselect Known Hosts":"Context Known Hosts",teamTrialFunnelID:o,trial:"yes"})),r(he("teamTrialFunnelStarted",{openedFrom:i?"Context Multiselect Known Hosts":"Context Known Hosts",teamTrialFunnelID:o,teamTrialPlan:"Team"}))});E(this,"handleEnter",()=>{});E(this,"handleDoubleClick",()=>{});E(this,"handleSelect",()=>{})}getContextMenuItemsForSharing(){return this.state.contextMenuProperties.open?this.state.contextMenuProperties.items.filter(n=>dt(n,this.props.editableVaults)):[]}menuItems(){const n=this.state.contextMenuProperties;if(!n.open)return[];const{items:o,wizardID:r}=n;return[{name:"Convert to Host",handler:()=>{this.props.dispatch(he("convertToHostsButtonPressed")),this.saveAsHost(o)},icon:u(Ee,{width:"20px",display:"flex",justifyContent:"center",children:u(ic,{style:{width:"12px"}})})},{visible:!this.props.isTeam,name:"Collaborate",handler:()=>this.onShareKnownHostsViaPromo(o),icon:u(Pr,{})},...yl({teamRole:this.props.teamRole,entities:this.getContextMenuItemsForSharing(),vaults:this.props.editableVaults,vaultsMembers:this.props.vaultsMembers,onMove:this.onMoveToVault,onCloseMenu:this.closeMenu,dispatch:this.props.dispatch,shouldPromoteUpgrade:this.props.isStarterPlan,isAuthorized:this.props.isAuthorized,newVaultButtonType:this.props.newVaultButtonType,...os(this.context,this.props.dispatch,hc(o)!=null?"Context Known Hosts":"Context Multiselect Known Hosts"),wizardID:r}),{name:"Remove",visible:Ln(o,this.props.editableVaults),handler:()=>this.removeKnownHosts(o),icon:u($n,{htmlColor:"var(--red-dark)"})}]}render(){const{sort:n,layout:o,showVaultsEmptyScreen:r}=this.props,i=Je.getClasses(this.props),s=Vr.getAllKnownHosts(),a=Object.keys(s||{}).map(d=>new Ml({hostnames:d,local_id:d}));a.push(...this.props.knownHosts);const l=fa(this.state.filters,n),c=()=>{const d=hK(a,l),p=new ag([{listName:"Known Hosts",entities:d,presenter:kee}]);return p.lengthOfEntities?u(lg,{layout:o,entitiesLists:p,onMenu:this.openMenu,onEnter:this.handleEnter,onDoubleClick:this.handleDoubleClick,onSelect:this.handleSelect,currentScreenForAnalytics:"Known Hosts"}):u(Au,{offsetTop:95})};return r?u(Ic,{}):L(Fg,{children:[u(A3,{isLighten:!0,largeHeight:!0,tab:"knownHosts",filters:l,onFiltersChanged:this.onFiltersChanged,children:u(Et,{margin:"lg",children:u(Fbe,{className:i.icon})})}),L(Gd,{children:[a.length!==0?c():u(kbe,{}),u(Xh,{...this.state.contextMenuProperties,menuItems:this.menuItems(),autoClose:!0,onClose:this.closeMenu})]})]})}}E(dB,"contextType",uc);const Fbe=({className:t})=>{const e=de(),n=Mbe({onSuccess:r=>{e(Ak({funnelType:null,numberOfImportedHosts:r,numberOfImportedPortForwardingRules:0,numberOfImportedKeys:0,numberOfImportedSnippets:0,numberOfImportedGroups:0,numberOfIgnoredKeys:0,numberOfIgnoredSubconfigs:0,importSource:"Known Hosts",importOrigin:"Import Known Hosts From Toolbar"})),e(fK())},onError:()=>{e(mK({importFailReason:"Error",fileExtension:""}))}});return L(li,{onClick:()=>{e(xk({funnelType:null,importSource:"Known Hosts",importOrigin:"Import Known Hosts From Toolbar"})),n()},children:[u(JH,{className:t}),"Import"]})},Nbe=t=>({knownHosts:pK(t),sort:t.sorting.knownHosts,layout:Yh(t,"knownHosts"),editableVaults:co(t),vaultsMembers:gu(t),isTeam:lo(t),isDarkMode:xo(t),newVaultButtonType:fu(t),showVaultsEmptyScreen:ac(t),isStarterPlan:Ra(t),isAuthorized:Na(t),teamRole:mu(t)}),Hbe=Je(_o(Nbe)(dB),{icon:{width:"12px",height:"12px"}},{name:"ConnectedKnownHosts"}),Bbe=(t,e)=>f.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 0C1.79086 0 0 1.79086 0 4V16C0 18.2091 1.79086 20 4 20H16C18.2091 20 20 18.2091 20 16V4C20 1.79086 18.2091 0 16 0H4ZM8.254 7.13701V12.48H9.45C10.867 12.48 12.024 11.661 12.024 9.81501C12.024 7.96901 10.867 7.13701 9.45 7.13701H8.254ZM14.169 9.81501C14.169 12.662 12.31 14.417 9.528 14.417H6.2V5.20001H9.541C12.31 5.20001 14.169 6.96801 14.169 9.81501Z",fill:"currentColor"})),zbe=f.forwardRef(Bbe),Vbe=f.memo(zbe),Wbe=(t,e)=>f.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 0C1.79086 0 0 1.79086 0 4V16C0 18.2091 1.79086 20 4 20H16C18.2091 20 20 18.2091 20 16V4C20 1.79086 18.2091 0 16 0H4ZM13.4348 12.454V14.417H7.40279V5.20001H9.45679V12.454H13.4348Z",fill:"currentColor"})),jbe=f.forwardRef(Wbe),Ube=f.memo(jbe),$be=(t,e)=>f.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 0C1.79086 0 0 1.79086 0 4V16C0 18.2091 1.79086 20 4 20H16C18.2091 20 20 18.2091 20 16V4C20 1.79086 18.2091 0 16 0H4ZM13.695 14.417H11.433L9.782 10.985H9.054V14.417H7V5.20001H10.653C12.473 5.20001 13.643 6.44801 13.643 8.08601C13.643 9.33401 12.954 10.283 11.823 10.686L13.695 14.417ZM9.054 6.98101V9.21701H10.263C11.108 9.21701 11.563 8.74901 11.563 8.09901C11.563 7.41001 11.108 6.98101 10.263 6.98101H9.054Z",fill:"currentColor"})),qbe=f.forwardRef($be),Gbe=f.memo(qbe);class $u extends ra{constructor(n){super(n);E(this,"bound_address");this.bound_address=n.bound_address||""}}function Kbe(){const{classes:t}=Zbe();return u(hn,{offsetTop:95,className:t.wrapper,children:u(wo,{title:"Set up port forwarding",text:"Save port forwarding to access databases, web apps, and other services.",icon:u(qR,{height:"25px",width:"25px"})})})}const Zbe=K()({wrapper:{backgroundColor:"var(--entity-grid-background)"}});var lZe;const v2=class v2{constructor(e){E(this,lZe,!0);this.queue=e}has(e){return this.queue.some(n=>n.local_id===e.local_id)}add(e){return new v2([...this.queue,e])}remove(e){const n=e.local_id;return this.queue.some(o=>o.local_id===n)?new v2(this.queue.filter(o=>o.local_id!==n)):this}get active(){return this.queue[0]}isActive(e){var n;return((n=this.active)==null?void 0:n.local_id)===e.local_id}};lZe=gK;let V0=v2;const Qbe=t=>{const{queue:e,mapConnectionToPF:n,onPFSucceeded:o,onCancel:r}=t,{classes:i}=Ybe(),s=V(Nh),a=f.useRef(null),l=e.active,c=s.find(y=>y.local_id===(l==null?void 0:l.host.local_id)),d=f.useCallback(()=>{Ce(l,"Connection cannot start without PF rule"),r(l)},[l,r]),p=f.useCallback(()=>async(y,b)=>d(),[d]),h=f.useCallback(y=>(Ce(l,"Connection cannot start without PF rule"),n(y,l)),[l,n]),m=f.useCallback((y,b)=>(Ce(l,"Connection cannot start without PF rule"),o(y,b,l)),[l,o]),{showConnectionFlow:g,handleShowConnectionFlow:C,handleHideConnectionFlow:v}=Xbe(),S=()=>{var y;(y=a.current)==null||y.focus()};return L(Go,{open:l!=null&&g,variant:"vaultTab",ModalProps:{keepMounted:l!=null},onClose:d,onEntered:S,children:[u(fn,{left:u(mn,{title:`Starting forwarding: ${l&&Ng.label(l)}`})}),c&&u(wN,{host:c,mapConnectionToConnector:h,onSucceeded:m,errorHandlerFactory:p,onCancel:d,className:i.connectionFlow,contentClassName:i.connectionFlowContent,onShowConnectionFlow:C,onHideConnectionFlow:v,autoFocusRef:a},String(l==null?void 0:l.local_id))]})},Ybe=K()({connectionFlow:{position:"relative",height:"100%"},connectionFlowContent:{paddingTop:"20px !important","@media screen and (max-height: 600px)":{paddingTop:"5px",paddingBottom:"10px"}}});function Xbe(){const[t,e]=f.useState(!1),n=f.useCallback(()=>e(!0),[]),o=f.useCallback(()=>e(!1),[]);return{showConnectionFlow:t,handleHideConnectionFlow:o,handleShowConnectionFlow:n}}const Jbe=(t,e)=>f.createElement("svg",{width:250,height:150,viewBox:"0 0 250 150",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("g",{id:"dynamic-port-forwarding"},f.createElement("g",{id:"dynamic-port-forwarding-cloud-2"},f.createElement("g",{id:"cloud"},f.createElement("mask",{id:"path-1-outside-1_2882_1035",maskUnits:"userSpaceOnUse",x:208.777,y:104.619,width:39,height:28,fill:"black"},f.createElement("rect",{fill:"white",x:208.777,y:104.619,width:39,height:28}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M224.146 108.619C225.749 108.619 227.191 109.292 228.186 110.363C229.402 109.279 231.02 108.619 232.796 108.619C236.572 108.619 239.633 111.606 239.633 115.291C239.633 115.469 239.626 115.645 239.612 115.82C241.959 116.877 243.587 119.194 243.587 121.882C243.587 125.567 240.526 128.554 236.75 128.554C234.68 128.554 232.826 127.657 231.572 126.24C230.375 127.8 228.198 128.554 225.711 128.554C222.534 128.554 219.862 127.324 219.095 124.753C218.967 124.761 218.838 124.765 218.709 124.765C215.433 124.765 212.777 122.22 212.777 119.081C212.777 115.942 215.433 113.397 218.709 113.397L218.732 113.397C218.989 110.717 221.315 108.619 224.146 108.619Z"})),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M224.146 108.619C225.749 108.619 227.191 109.292 228.186 110.363C229.402 109.279 231.02 108.619 232.796 108.619C236.572 108.619 239.633 111.606 239.633 115.291C239.633 115.469 239.626 115.645 239.612 115.82C241.959 116.877 243.587 119.194 243.587 121.882C243.587 125.567 240.526 128.554 236.75 128.554C234.68 128.554 232.826 127.657 231.572 126.24C230.375 127.8 228.198 128.554 225.711 128.554C222.534 128.554 219.862 127.324 219.095 124.753C218.967 124.761 218.838 124.765 218.709 124.765C215.433 124.765 212.777 122.22 212.777 119.081C212.777 115.942 215.433 113.397 218.709 113.397L218.732 113.397C218.989 110.717 221.315 108.619 224.146 108.619Z",fill:"#282B3D"}),f.createElement("path",{d:"M228.186 110.363L225.842 112.541L227.975 114.837L230.315 112.752L228.186 110.363ZM239.612 115.82L236.422 115.564L236.242 117.811L238.298 118.738L239.612 115.82ZM231.572 126.24L233.969 124.12L231.395 121.21L229.032 124.293L231.572 126.24ZM219.095 124.753L222.161 123.838L221.435 121.403L218.898 121.559L219.095 124.753ZM218.709 113.397L218.715 110.197H218.709V113.397ZM218.732 113.397L218.726 116.597L221.64 116.602L221.918 113.702L218.732 113.397ZM230.53 108.185C228.943 106.477 226.659 105.419 224.146 105.419V111.819C224.84 111.819 225.438 112.107 225.842 112.541L230.53 108.185ZM232.796 105.419C230.214 105.419 227.843 106.382 226.057 107.974L230.315 112.752C230.96 112.177 231.825 111.819 232.796 111.819V105.419ZM242.833 115.291C242.833 109.766 238.265 105.419 232.796 105.419V111.819C234.878 111.819 236.433 113.447 236.433 115.291H242.833ZM242.802 116.076C242.822 115.816 242.833 115.555 242.833 115.291H236.433C236.433 115.384 236.429 115.475 236.422 115.564L242.802 116.076ZM246.787 121.882C246.787 117.856 244.347 114.443 240.926 112.902L238.298 118.738C239.57 119.311 240.387 120.531 240.387 121.882H246.787ZM236.75 131.754C242.219 131.754 246.787 127.407 246.787 121.882H240.387C240.387 123.726 238.833 125.354 236.75 125.354V131.754ZM229.175 128.36C231.02 130.446 233.74 131.754 236.75 131.754V125.354C235.621 125.354 234.631 124.868 233.969 124.12L229.175 128.36ZM225.711 131.754C228.706 131.754 232.064 130.857 234.111 128.186L229.032 124.293C228.686 124.744 227.69 125.354 225.711 125.354V131.754ZM216.029 125.668C217.398 130.255 221.955 131.754 225.711 131.754V125.354C224.503 125.354 223.599 125.116 223.024 124.804C222.501 124.521 222.27 124.202 222.161 123.838L216.029 125.668ZM218.709 127.965C218.904 127.965 219.099 127.959 219.292 127.947L218.898 121.559C218.836 121.563 218.773 121.565 218.709 121.565V127.965ZM209.577 119.081C209.577 124.114 213.795 127.965 218.709 127.965V121.565C217.07 121.565 215.977 120.326 215.977 119.081H209.577ZM218.709 110.197C213.795 110.197 209.577 114.047 209.577 119.081H215.977C215.977 117.836 217.07 116.597 218.709 116.597V110.197ZM218.738 110.197L218.715 110.197L218.702 116.597L218.726 116.597L218.738 110.197ZM224.146 105.419C219.731 105.419 215.967 108.706 215.547 113.091L221.918 113.702C222.011 112.727 222.899 111.819 224.146 111.819V105.419Z",fill:"#5A5E73",mask:"url(#path-1-outside-1_2882_1035)"})),f.createElement("g",{id:"Subtract"},f.createElement("mask",{id:"path-3-outside-2_2882_1035",maskUnits:"userSpaceOnUse",x:188.859,y:103.68,width:51,height:36,fill:"black"},f.createElement("rect",{fill:"white",x:188.859,y:103.68,width:51,height:36}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M208.924 107.68C211.19 107.68 213.227 108.632 214.634 110.145C216.351 108.614 218.638 107.68 221.147 107.68C226.483 107.68 230.809 111.902 230.809 117.109C230.809 117.361 230.799 117.61 230.779 117.856C234.096 119.35 236.397 122.624 236.397 126.422C236.397 131.63 232.071 135.852 226.735 135.852C223.811 135.852 221.19 134.584 219.418 132.581C217.727 134.786 214.651 135.851 211.136 135.851C206.646 135.851 202.871 134.113 201.787 130.48C201.606 130.491 201.424 130.497 201.241 130.497C196.612 130.497 192.859 126.901 192.859 122.464C192.859 118.028 196.612 114.432 201.241 114.432L201.274 114.432C201.637 110.645 204.924 107.68 208.924 107.68Z"})),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M208.924 107.68C211.19 107.68 213.227 108.632 214.634 110.145C216.351 108.614 218.638 107.68 221.147 107.68C226.483 107.68 230.809 111.902 230.809 117.109C230.809 117.361 230.799 117.61 230.779 117.856C234.096 119.35 236.397 122.624 236.397 126.422C236.397 131.63 232.071 135.852 226.735 135.852C223.811 135.852 221.19 134.584 219.418 132.581C217.727 134.786 214.651 135.851 211.136 135.851C206.646 135.851 202.871 134.113 201.787 130.48C201.606 130.491 201.424 130.497 201.241 130.497C196.612 130.497 192.859 126.901 192.859 122.464C192.859 118.028 196.612 114.432 201.241 114.432L201.274 114.432C201.637 110.645 204.924 107.68 208.924 107.68Z",fill:"#3E4257"}),f.createElement("path",{d:"M214.634 110.145L212.289 112.323L214.423 114.619L216.763 112.534L214.634 110.145ZM230.779 117.856L227.59 117.6L227.409 119.848L229.465 120.774L230.779 117.856ZM219.418 132.581L221.815 130.461L219.241 127.551L216.878 130.634L219.418 132.581ZM201.787 130.48L204.853 129.565L204.127 127.13L201.59 127.286L201.787 130.48ZM201.241 114.432L201.247 111.232H201.241V114.432ZM201.274 114.432L201.268 117.632L204.182 117.638L204.46 114.737L201.274 114.432ZM216.978 107.967C214.98 105.817 212.1 104.48 208.924 104.48V110.88C210.281 110.88 211.475 111.447 212.289 112.323L216.978 107.967ZM221.147 104.48C217.832 104.48 214.793 105.717 212.504 107.756L216.763 112.534C217.91 111.511 219.443 110.88 221.147 110.88V104.48ZM234.009 117.109C234.009 110.061 228.177 104.48 221.147 104.48V110.88C224.79 110.88 227.609 113.742 227.609 117.109H234.009ZM233.969 118.113C233.996 117.781 234.009 117.446 234.009 117.109H227.609C227.609 117.275 227.603 117.439 227.59 117.6L233.969 118.113ZM239.597 126.422C239.597 121.286 236.484 116.916 232.094 114.939L229.465 120.774C231.707 121.784 233.197 123.962 233.197 126.422H239.597ZM226.735 139.052C233.764 139.052 239.597 133.47 239.597 126.422H233.197C233.197 129.79 230.378 132.652 226.735 132.652V139.052ZM217.021 134.701C219.384 137.372 222.87 139.052 226.735 139.052V132.652C224.751 132.652 222.995 131.795 221.815 130.461L217.021 134.701ZM211.136 139.051C215.159 139.051 219.416 137.843 221.958 134.527L216.878 130.634C216.038 131.73 214.143 132.651 211.136 132.651V139.051ZM198.721 131.395C200.407 137.044 206.068 139.051 211.136 139.051V132.651C207.224 132.651 205.336 131.182 204.853 129.565L198.721 131.395ZM201.241 133.697C201.49 133.697 201.738 133.689 201.984 133.674L201.59 127.286C201.475 127.293 201.359 127.297 201.241 127.297V133.697ZM189.659 122.464C189.659 128.795 194.974 133.697 201.241 133.697V127.297C198.25 127.297 196.059 125.006 196.059 122.464H189.659ZM201.241 111.232C194.974 111.232 189.659 116.134 189.659 122.464H196.059C196.059 119.923 198.25 117.632 201.241 117.632V111.232ZM201.28 111.232L201.247 111.232L201.235 117.632L201.268 117.632L201.28 111.232ZM208.924 104.48C203.34 104.48 198.615 108.634 198.089 114.127L204.46 114.737C204.659 112.656 206.508 110.88 208.924 110.88V104.48Z",fill:"#5A5E73",mask:"url(#path-3-outside-2_2882_1035)"}))),f.createElement("g",{id:"dynamic-port-forwarding-cloud-1"},f.createElement("g",{id:"cloud_2"},f.createElement("mask",{id:"path-5-outside-3_2882_1035",maskUnits:"userSpaceOnUse",x:212.027,y:28.5405,width:37,height:26,fill:"black"},f.createElement("rect",{fill:"white",x:212.027,y:28.5405,width:37,height:26}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M226.396 31.5405C227.999 31.5405 229.441 32.2138 230.436 33.2847C231.652 32.2013 233.27 31.5405 235.046 31.5405C238.822 31.5405 241.883 34.528 241.883 38.2133C241.883 38.3912 241.876 38.5675 241.862 38.7419C244.209 39.799 245.837 42.1157 245.837 44.8037C245.837 48.4889 242.776 51.4764 239 51.4764C236.93 51.4764 235.076 50.5793 233.822 49.1617C232.625 50.7226 230.448 51.4765 227.961 51.4765C224.784 51.4765 222.112 50.2462 221.345 47.6752C221.217 47.6831 221.088 47.6871 220.959 47.6871C217.683 47.6871 215.027 45.1422 215.027 42.0029C215.027 38.8636 217.683 36.3187 220.959 36.3187L220.982 36.3188C221.239 33.6386 223.565 31.5405 226.396 31.5405Z"})),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M226.396 31.5405C227.999 31.5405 229.441 32.2138 230.436 33.2847C231.652 32.2013 233.27 31.5405 235.046 31.5405C238.822 31.5405 241.883 34.528 241.883 38.2133C241.883 38.3912 241.876 38.5675 241.862 38.7419C244.209 39.799 245.837 42.1157 245.837 44.8037C245.837 48.4889 242.776 51.4764 239 51.4764C236.93 51.4764 235.076 50.5793 233.822 49.1617C232.625 50.7226 230.448 51.4765 227.961 51.4765C224.784 51.4765 222.112 50.2462 221.345 47.6752C221.217 47.6831 221.088 47.6871 220.959 47.6871C217.683 47.6871 215.027 45.1422 215.027 42.0029C215.027 38.8636 217.683 36.3187 220.959 36.3187L220.982 36.3188C221.239 33.6386 223.565 31.5405 226.396 31.5405Z",fill:"#282B3D"}),f.createElement("path",{d:"M230.436 33.2847L228.341 35.2316L230.248 37.2836L232.339 35.4199L230.436 33.2847ZM241.862 38.7419L239.011 38.513L238.85 40.5219L240.687 41.3496L241.862 38.7419ZM233.822 49.1617L235.964 47.2669L233.664 44.6665L231.552 47.4218L233.822 49.1617ZM221.345 47.6752L224.086 46.8573L223.436 44.6809L221.169 44.8206L221.345 47.6752ZM220.959 36.3187L220.964 33.4587H220.959V36.3187ZM220.982 36.3188L220.977 39.1788L223.581 39.1839L223.829 36.5916L220.982 36.3188ZM232.531 31.3379C231.007 29.6978 228.812 28.6805 226.396 28.6805V34.4006C227.187 34.4006 227.875 34.7298 228.341 35.2316L232.531 31.3379ZM235.046 28.6805C232.549 28.6805 230.259 29.6118 228.533 31.1496L232.339 35.4199C233.045 34.7909 233.99 34.4006 235.046 34.4006V28.6805ZM244.743 38.2133C244.743 32.8831 240.335 28.6805 235.046 28.6805V34.4006C237.308 34.4006 239.023 36.1729 239.023 38.2133H244.743ZM244.713 38.9709C244.733 38.7204 244.743 38.4677 244.743 38.2133H239.023C239.023 38.3147 239.019 38.4146 239.011 38.513L244.713 38.9709ZM248.697 44.8037C248.697 40.9202 246.343 37.6237 243.036 36.1342L240.687 41.3496C242.074 41.9743 242.977 43.3113 242.977 44.8037H248.697ZM239 54.3365C244.289 54.3365 248.697 50.1339 248.697 44.8037H242.977C242.977 46.844 241.263 48.6164 239 48.6164V54.3365ZM231.68 51.0566C233.462 53.0717 236.09 54.3365 239 54.3365V48.6164C237.771 48.6164 236.689 48.0868 235.964 47.2669L231.68 51.0566ZM227.961 54.3365C230.902 54.3365 234.135 53.4544 236.092 50.9017L231.552 47.4218C231.116 47.9908 229.994 48.6164 227.961 48.6164V54.3365ZM218.604 48.4932C219.91 52.8661 224.267 54.3365 227.961 54.3365V48.6164C225.3 48.6164 224.315 47.6264 224.086 46.8573L218.604 48.4932ZM220.959 50.5472C221.147 50.5472 221.335 50.5414 221.521 50.5299L221.169 44.8206C221.1 44.8249 221.03 44.8271 220.959 44.8271V50.5472ZM212.167 42.0029C212.167 46.8353 216.219 50.5472 220.959 50.5472V44.8271C219.147 44.8271 217.887 43.4492 217.887 42.0029H212.167ZM220.959 33.4587C216.219 33.4587 212.167 37.1706 212.167 42.0029H217.887C217.887 40.5567 219.147 39.1788 220.959 39.1788V33.4587ZM220.988 33.4588L220.964 33.4587L220.953 39.1788L220.977 39.1788L220.988 33.4588ZM226.396 28.6805C222.149 28.6805 218.538 31.8416 218.135 36.046L223.829 36.5916C223.94 35.4357 224.981 34.4006 226.396 34.4006V28.6805Z",fill:"#5A5E73",mask:"url(#path-5-outside-3_2882_1035)"})),f.createElement("g",{id:"Subtract_2"},f.createElement("mask",{id:"path-7-outside-4_2882_1035",maskUnits:"userSpaceOnUse",x:192.109,y:27.6025,width:50,height:35,fill:"black"},f.createElement("rect",{fill:"white",x:192.109,y:27.6025,width:50,height:35}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M211.174 30.6025C213.44 30.6025 215.477 31.5539 216.884 33.0673C218.601 31.5363 220.888 30.6025 223.397 30.6025C228.733 30.6025 233.059 34.8242 233.059 40.0318C233.059 40.2832 233.049 40.5323 233.029 40.7788C236.346 42.2725 238.647 45.5463 238.647 49.3447C238.647 54.5524 234.321 58.774 228.985 58.774C226.061 58.774 223.44 57.5062 221.668 55.503C219.977 57.7087 216.901 58.7741 213.386 58.7741C208.896 58.7741 205.121 57.0356 204.037 53.4023C203.856 53.4135 203.674 53.4191 203.491 53.4191C198.862 53.4191 195.109 49.8229 195.109 45.3868C195.109 40.9506 198.862 37.3544 203.491 37.3544L203.524 37.3545C203.887 33.5673 207.174 30.6025 211.174 30.6025Z"})),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M211.174 30.6025C213.44 30.6025 215.477 31.5539 216.884 33.0673C218.601 31.5363 220.888 30.6025 223.397 30.6025C228.733 30.6025 233.059 34.8242 233.059 40.0318C233.059 40.2832 233.049 40.5323 233.029 40.7788C236.346 42.2725 238.647 45.5463 238.647 49.3447C238.647 54.5524 234.321 58.774 228.985 58.774C226.061 58.774 223.44 57.5062 221.668 55.503C219.977 57.7087 216.901 58.7741 213.386 58.7741C208.896 58.7741 205.121 57.0356 204.037 53.4023C203.856 53.4135 203.674 53.4191 203.491 53.4191C198.862 53.4191 195.109 49.8229 195.109 45.3868C195.109 40.9506 198.862 37.3544 203.491 37.3544L203.524 37.3545C203.887 33.5673 207.174 30.6025 211.174 30.6025Z",fill:"#3E4257"}),f.createElement("path",{d:"M216.884 33.0673L214.788 35.0142L216.695 37.0662L218.786 35.2024L216.884 33.0673ZM233.029 40.7788L230.179 40.5499L230.017 42.5588L231.855 43.3865L233.029 40.7788ZM221.668 55.503L223.81 53.6082L221.51 51.0077L219.398 53.7631L221.668 55.503ZM204.037 53.4023L206.778 52.5845L206.128 50.408L203.861 50.5477L204.037 53.4023ZM203.491 37.3544L203.496 34.4944H203.491V37.3544ZM203.524 37.3545L203.519 40.2145L206.123 40.2195L206.371 37.6274L203.524 37.3545ZM218.979 31.1204C217.044 29.0379 214.253 27.7425 211.174 27.7425V33.4626C212.627 33.4626 213.911 34.0699 214.788 35.0142L218.979 31.1204ZM223.397 27.7425C220.167 27.7425 217.208 28.9468 214.981 30.9322L218.786 35.2024C219.994 34.1258 221.608 33.4626 223.397 33.4626V27.7425ZM235.919 40.0318C235.919 33.1792 230.247 27.7425 223.397 27.7425V33.4626C227.22 33.4626 230.199 36.4691 230.199 40.0318H235.919ZM235.88 41.0077C235.906 40.6852 235.919 40.3598 235.919 40.0318H230.199C230.199 40.2067 230.192 40.3794 230.179 40.5499L235.88 41.0077ZM241.507 49.3447C241.507 44.3507 238.48 40.0972 234.204 38.1711L231.855 43.3865C234.211 44.4478 235.787 46.7419 235.787 49.3447H241.507ZM228.985 61.6341C235.835 61.6341 241.507 56.1973 241.507 49.3447H235.787C235.787 52.9075 232.808 55.914 228.985 55.914V61.6341ZM219.526 57.3979C221.826 59.9986 225.22 61.6341 228.985 61.6341V55.914C226.901 55.914 225.053 55.0137 223.81 53.6082L219.526 57.3979ZM213.386 61.6341C217.355 61.6341 221.487 60.4405 223.938 57.2429L219.398 53.7631C218.468 54.9769 216.447 55.914 213.386 55.914V61.6341ZM201.296 54.2202C202.918 59.6554 208.379 61.6341 213.386 61.6341V55.914C209.413 55.914 207.324 54.4158 206.778 52.5845L201.296 54.2202ZM203.491 56.2791C203.733 56.2791 203.974 56.2717 204.213 56.257L203.861 50.5477C203.739 50.5552 203.616 50.5591 203.491 50.5591V56.2791ZM192.249 45.3868C192.249 51.516 197.398 56.2791 203.491 56.2791V50.5591C200.326 50.5591 197.969 48.1298 197.969 45.3868H192.249ZM203.491 34.4944C197.398 34.4944 192.249 39.2576 192.249 45.3868H197.969C197.969 42.6437 200.326 40.2145 203.491 40.2145V34.4944ZM203.53 34.4944L203.496 34.4944L203.485 40.2144L203.519 40.2145L203.53 34.4944ZM211.174 27.7425C205.758 27.7425 201.186 31.7702 200.677 37.0815L206.371 37.6274C206.588 35.3643 208.589 33.4626 211.174 33.4626V27.7425Z",fill:"#5A5E73",mask:"url(#path-7-outside-4_2882_1035)"}))),f.createElement("g",{id:"dynamic-port-forwarding-line-to-cloud-2"},f.createElement("line",{id:"dynamic-port-forwarding-line-to-cloud-2-border",x1:1.43002,y1:-1.43002,x2:26.57,y2:-1.43002,transform:"matrix(-1 0 0 1 184.793 128)",stroke:"#5A5E73",strokeWidth:2.86004,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"8 8"}),f.createElement("line",{id:"dynamic-port-forwarding-line-to-cloud-2-border_2",x1:1.43002,y1:-1.43002,x2:26.57,y2:-1.43002,transform:"matrix(-1 0 0 1 184.793 120)",stroke:"#5A5E73",strokeWidth:2.86004,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"8 8"}),f.createElement("line",{id:"dynamic-port-forwarding-line-to-cloud-2-center",x1:1.43002,y1:-1.43002,x2:26.57,y2:-1.43002,transform:"matrix(1 0 0 -1 156.793 121)",stroke:"#21B568",strokeWidth:2.86004,strokeLinecap:"round",strokeLinejoin:"round"})),f.createElement("g",{id:"dynamic-port-forwarding-line-to-cloud-1"},f.createElement("line",{id:"dynamic-port-forwarding-line-to-cloud-1-border",x1:1.43002,y1:-1.43002,x2:51.7946,y2:-1.43002,transform:"matrix(-0.707107 0.707107 0.707107 0.707107 198.309 68.0962)",stroke:"#5A5E73",strokeWidth:2.86004,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"8 8"}),f.createElement("line",{id:"dynamic-port-forwarding-line-to-cloud-1-border_2",x1:1.43002,y1:-1.43002,x2:51.8105,y2:-1.43002,transform:"matrix(-0.707107 0.707107 0.707107 0.707107 192.727 62.5381)",stroke:"#5A5E73",strokeWidth:2.86004,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"8 8"}),f.createElement("line",{id:"dynamic-port-forwarding-line-to-cloud-1-center",x1:1.43002,y1:-1.43002,x2:51.8105,y2:-1.43002,transform:"matrix(0.707107 -0.707107 -0.707107 -0.707107 155.809 100.915)",stroke:"#21B568",strokeWidth:2.86004,strokeLinecap:"round",strokeLinejoin:"round"})),f.createElement("g",{id:"dynamic-port-forwarding-remote-host"},f.createElement("rect",{id:"Rectangle",x:107,y:98,width:38,height:10,rx:2.82884,fill:"#5A5E73"}),f.createElement("rect",{id:"Rectangle_2",x:109.004,y:100,width:10,height:3,rx:1.5,fill:"#21B568"}),f.createElement("rect",{id:"Rectangle_3",x:107,y:109,width:38,height:10,rx:2.82884,fill:"#5A5E73"}),f.createElement("rect",{id:"Rectangle_4",x:107,y:120,width:38,height:10,rx:2.82884,fill:"#5A5E73"}),f.createElement("rect",{id:"Rectangle_5",x:107,y:131,width:38,height:10,rx:2.82884,fill:"#5A5E73"}),f.createElement("g",{id:"Group"},f.createElement("path",{id:"Union",fillRule:"evenodd",clipRule:"evenodd",d:"M126.004 142C124.899 142 124.004 142.895 124.004 144V145.996H113.004C111.899 145.996 111.004 146.892 111.004 147.996C111.004 149.101 111.899 149.996 113.004 149.996H125.878C125.92 149.999 125.962 150 126.004 150C126.046 150 126.088 149.999 126.13 149.996H139.004C140.108 149.996 141.004 149.101 141.004 147.996C141.004 146.892 140.108 145.996 139.004 145.996H128.004V144C128.004 142.895 127.108 142 126.004 142Z",fill:"#5A5E73"}))),f.createElement("g",{id:"dynamic-port-forwarding-line-to-remote-host"},f.createElement("line",{id:"dynamic-port-forwarding-line-to-remote-host-border",x1:51.0224,y1:82.7383,x2:90.0122,y2:121.728,stroke:"#5A5E73",strokeWidth:2.86004,strokeLinecap:"round",strokeLinejoin:"round"}),f.createElement("line",{id:"dynamic-port-forwarding-line-to-remote-host-border_2",x1:56.7724,y1:77,x2:95.7622,y2:115.99,stroke:"#5A5E73",strokeWidth:2.86004,strokeLinecap:"round",strokeLinejoin:"round"}),f.createElement("line",{id:"dynamic-port-forwarding-line-to-remote-host-center",x1:53.913,y1:79.8599,x2:92.9028,y2:118.85,stroke:"#21B568",strokeWidth:2.86004,strokeLinecap:"round",strokeLinejoin:"round"})),f.createElement("g",{id:"dynamic-port-forwarding-firewall"},f.createElement("g",{id:"wall"},f.createElement("g",{id:"Group 2"},f.createElement("rect",{id:"Rectangle_6",x:108,y:33,width:26,height:10,rx:2.82884,fill:"#F24E50"}),f.createElement("rect",{id:"Rectangle_7",x:136,y:33,width:8,height:10,rx:2.82884,fill:"#F24E50"}),f.createElement("rect",{id:"Rectangle_8",x:118,y:44,width:26,height:10,rx:2.82884,fill:"#F24E50"}),f.createElement("rect",{id:"Rectangle_9",x:108,y:44,width:8,height:10,rx:2.82884,fill:"#F24E50"}),f.createElement("rect",{id:"Rectangle_10",x:127,y:55,width:17,height:10,rx:2.82884,fill:"#F24E50"}),f.createElement("rect",{id:"Rectangle_11",x:108,y:55,width:17,height:10,rx:2.82884,fill:"#F24E50"})),f.createElement("g",{id:"Group 2.1"},f.createElement("rect",{id:"Rectangle_12",x:108,width:26,height:10,rx:2.82884,fill:"#F24E50"}),f.createElement("rect",{id:"Rectangle_13",x:136,width:8,height:10,rx:2.82884,fill:"#F24E50"}),f.createElement("rect",{id:"Rectangle_14",x:118,y:11,width:26,height:10,rx:2.82884,fill:"#F24E50"}),f.createElement("rect",{id:"Rectangle_15",x:108,y:11,width:8,height:10,rx:2.82884,fill:"#F24E50"}),f.createElement("rect",{id:"Rectangle_16",x:126.504,y:22,width:17,height:10,rx:2.82884,fill:"#F24E50"}),f.createElement("rect",{id:"Rectangle_17",x:108,y:22,width:17,height:10,rx:2.82884,fill:"#F24E50"}))),f.createElement("g",{id:"fire"},f.createElement("path",{id:"Vector",d:"M134.293 34.9211C134.293 39.6174 130.64 43.2928 125.999 43.2928C121.359 43.2928 117.707 39.6176 117.707 34.9211C117.707 33.8397 118.138 32.7557 118.848 31.6254C119.523 30.5509 120.408 29.4986 121.321 28.4141C121.371 28.3545 121.421 28.2948 121.471 28.2351C122.418 27.1088 123.388 25.9387 124.056 24.7471C124.544 23.8757 124.897 22.9482 124.948 21.976C125.312 22.1502 125.753 22.4026 126.245 22.7295C127.303 23.4309 128.559 24.4483 129.764 25.6926C132.195 28.2046 134.293 31.5152 134.293 34.9211Z",fill:"#DD2C00",stroke:"#F7F9FA",strokeWidth:1.41442}),f.createElement("path",{id:"Vector_2",d:"M131.402 37.3421C131.402 32.7427 126.002 28.2632 126.002 28.2632C126.002 31.9432 120.602 33.6627 120.602 37.3421C120.602 40.3902 122.979 42.7895 126.002 42.7895C129.024 42.7895 131.402 40.3902 131.402 37.3421Z",fill:"white"}),f.createElement("path",{id:"Vector_3",d:"M123 39.4038C123.001 37.3422 126.001 36.1626 126.001 34.3159C126.001 34.3159 129 36.6353 129 39.4038C129 40.932 127.658 42.1722 126 42.1722C124.342 42.1722 122.999 40.9327 123 39.4038Z",fill:"#FFC107"}))),f.createElement("line",{id:"dynamic-port-forwarding-line-to-firewall",x1:61.43,y1:32.57,x2:94.57,y2:32.57,stroke:"#F25E61",strokeWidth:2.86004,strokeLinecap:"round"}),f.createElement("g",{id:"dynamic-port-forwarding-termius"},f.createElement("rect",{x:2,y:7,width:46,height:46,rx:10,fill:"#5A5E73"}),f.createElement("path",{id:"logo",fillRule:"evenodd",clipRule:"evenodd",d:"M33.233 40.4572C38.0681 40.4572 42 36.5253 42 31.6902C42 29.2828 40.9756 26.941 39.2261 25.2936C39.1884 20.634 35.3879 16.8567 30.7195 16.8567C29.3637 16.8567 28.0436 17.1761 26.8497 17.7874C25.2787 16.3037 23.2029 15.4702 21.0133 15.4702C16.4456 15.4702 12.7089 19.0863 12.5146 23.6069C9.74561 25.1541 8 28.0896 8 31.3002C8 36.1593 11.9512 40.1106 16.8102 40.1106C17.0403 40.1106 17.2706 40.1016 17.5 40.0838C19.1233 42.8145 22.0913 44.5302 25.3031 44.5302C28.375 44.5302 31.2075 42.9867 32.8784 40.45C32.9968 40.4548 33.115 40.4572 33.233 40.4572ZM25.3031 42.2167C22.7009 42.2167 20.3066 40.6986 19.1911 38.3425L18.8136 37.5453L17.945 37.6983C17.5726 37.7638 17.191 37.7971 16.8102 37.7971C13.229 37.7971 10.3135 34.8816 10.3135 31.3002C10.3135 28.744 11.8148 26.4234 14.1465 25.3731L14.8637 25.05L14.8269 24.2642C14.8224 24.1688 14.8202 24.0724 14.8202 23.977C14.8202 20.5631 17.5994 17.7838 21.0133 17.7838C22.8508 17.7838 24.5727 18.5863 25.7557 19.9936L26.4221 20.7862L27.2834 20.2113C28.3052 19.5293 29.4898 19.1703 30.7195 19.1703C34.1335 19.1703 36.9129 21.9496 36.9129 25.3635C36.9129 25.4867 36.9091 25.6111 36.9016 25.7334L36.8655 26.3228L37.3218 26.6978C38.8014 27.9137 39.6865 29.7824 39.6865 31.6902C39.6865 35.2476 36.7904 38.1437 33.233 38.1437C32.9582 38.1437 32.6797 38.1258 32.405 38.0906L31.6202 37.9899L31.2419 38.6849C30.054 40.8669 27.7849 42.2167 25.3031 42.2167ZM29.6976 32.9616L29.7204 32.9519C30.021 32.8226 30.1285 32.7089 30.1285 32.3954V32.0016C30.1285 31.6553 29.929 31.4324 29.6038 31.4324H29.5855L29.5201 31.4467C28.7924 31.7028 28.0767 31.8324 27.3932 31.8324C26.7124 31.8324 26.0409 31.7037 25.3971 31.4498L25.3777 31.4422L25.3048 31.4324C24.9797 31.4324 24.7802 31.6553 24.7802 32.0016V32.3954C24.7802 32.6904 24.8912 32.8248 25.1506 32.9364L25.1634 32.9419L25.2074 32.9603C25.9112 33.2613 26.6478 33.4144 27.3944 33.4144C28.1384 33.4144 28.912 33.2622 29.6976 32.9616ZM19.6665 29.7235C19.6665 29.4061 19.8312 29.2311 20.052 29.1848L22.1786 28.6265L20.047 28.067C19.8259 28.0092 19.6665 27.8347 19.6665 27.5295V26.8591C19.6665 26.5661 19.8424 26.4399 20.0436 26.4399C20.1087 26.4399 20.1761 26.4541 20.2435 26.4795L24.0389 27.7073C24.3272 27.8034 24.4859 28.035 24.4859 28.3522V28.9007C24.4859 29.2179 24.3274 29.4496 24.0386 29.5458L20.2352 30.7762C20.171 30.7952 20.1137 30.8045 20.0579 30.8045C19.8196 30.8045 19.6665 30.6332 19.6665 30.3838V29.7235Z",fill:"white"})))),ewe=f.forwardRef(Jbe),twe=f.memo(ewe),tS=br`
  0% {
    opacity: 0;
    stroke-dasharray: 0px 50px;
    stroke: var(--blue);
  }
  50% {
    opacity: 1;
  }
  80% {
    stroke: var(--blue);
  }
  100% {
    opacity: 1;
    stroke-dasharray: 50px 50px;
    stroke: var(--red);
  }
`,cs=br`
  0% {
    opacity: 0;
    stroke-dasharray: 0px 60px;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 1;
    stroke-dasharray: 60px 60px;
  }
`,nS=br`
  0% {
    opacity: 0;
    stroke-dasharray: 80px 80px;
  }
  25% {
    opacity: 1;
  }
  100% {
    opacity: 1;
    stroke-dasharray: 8px 8px;
  }
`,Kd=br`
  0% {
    stroke: var(--blue);
  }
  100% {
    stroke: var(--green);
  }
`,Zd=br`
  0% {
    stroke-dashoffset: 0px;
  }
  25% {
    stroke-dashoffset: -60px;
  }
  75% {
    stroke-dashoffset: -60px;
  }
  100% {
    stroke-dashoffset: -120px;
  }
`,mi=br`
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
`,nwe=K()((t,e,n)=>({localRule:{lineHeight:"0px",width:"100%",'& > #local-port-forwarding > [id^="local-port-forwarding"]':{opacity:.3,transition:"opacity 0.3s"}},highlightAll:{'& > #local-port-forwarding > [id^="local-port-forwarding"]':{opacity:1}},highlightedLocal:{"& > #local-port-forwarding > #local-port-forwarding-termius":{opacity:1}},highlightedHost:{"& > #local-port-forwarding > #local-port-forwarding-remote-host":{opacity:1}},highlightedTarget:{"& > #local-port-forwarding > #local-port-forwarding-target-host":{opacity:1}},animated:{'& > #local-port-forwarding > [id^="local-port-forwarding"]':{opacity:1},"& > #local-port-forwarding > #local-port-forwarding-line-to-firewall":{opacity:0},"& > #local-port-forwarding > #local-port-forwarding-remote-host":{opacity:"0"},"& > #local-port-forwarding > #local-port-forwarding-line-to-remote-host":{'& > [id*="border"], & > [id*="center"]':{transition:"opacity 0.3s",opacity:0}},"& > #local-port-forwarding > #local-port-forwarding-line-to-target-host":{'& > [id*="border"], & > [id*="center"]':{transition:"opacity 0.3s",opacity:0}}},animationProgress:{[`&.${n.animated}`]:{"& > #local-port-forwarding > #local-port-forwarding-line-to-firewall":{animation:`${tS} 1s forwards, ${hC} 0.5s 1.5s forwards`},"& > #local-port-forwarding > #local-port-forwarding-remote-host":{animation:`${Od} 0.5s 2s forwards, ${mi} 0.5s 8s forwards`},"& > #local-port-forwarding > #local-port-forwarding-line-to-remote-host":{animation:`${mi} 0.5s 8s forwards`,'& > [id*="border"]':{animation:`${cs} 0.5s 2.5s forwards`},'& > [id*="center"]':{stroke:"var(--blue)",animation:`${cs} 0.5s 3.5s forwards, ${Kd} 0.5s 4.5s forwards, ${Zd} 1.5s 5s infinite`}},"& > #local-port-forwarding > #local-port-forwarding-line-to-target-host":{animation:`${mi} 0.5s 8s forwards`,'& > [id*="border"]':{strokeDashoffset:"80px",animation:`${nS} 1.75s 3s forwards`},'& > [id*="center"]':{stroke:"var(--blue)",animation:`${cs} 0.5s 4.5s forwards, ${Kd} 0.5s 4.5s forwards, ${Zd} 1.5s 5.5s infinite`}}}}})),owe=K()((t,e,n)=>({remoteRule:{lineHeight:"0px",width:"100%",'& > #remote-port-forwarding > [id^="remote-port-forwarding"]':{opacity:.3,transition:"opacity 0.3s"}},highlightAll:{'& > #remote-port-forwarding > [id^="remote-port-forwarding"]':{opacity:1}},highlightedHost:{"& > #remote-port-forwarding > #remote-port-forwarding-remote-host":{opacity:1}},highlightedTarget:{"& > #remote-port-forwarding > #remote-port-forwarding-target-host":{opacity:1}},animated:{'& > #remote-port-forwarding > [id^="remote-port-forwarding"]':{opacity:1},"& > #remote-port-forwarding > #remote-port-forwarding-line-to-firewall":{opacity:0},"& > #remote-port-forwarding > #remote-port-forwarding-termius":{opacity:"0"},"& > #remote-port-forwarding > #remote-port-forwarding-line-to-target-host":{'& > [id*="border"], & > [id*="center"]':{transition:"opacity 0.3s",opacity:0}},"& > #remote-port-forwarding > #remote-port-forwarding-line-to-termius":{'& > [id*="border"], & > [id*="center"]':{transition:"opacity 0.3s",opacity:0}}},animationProgress:{[`&.${n.animated}`]:{"& > #remote-port-forwarding > #remote-port-forwarding-line-to-firewall":{animation:`${tS} 1s forwards, ${hC} 0.5s 1.5s forwards`},"& > #remote-port-forwarding > #remote-port-forwarding-termius":{animation:`${Od} 0.5s 2s forwards, ${mi} 0.5s 8s forwards`},"& > #remote-port-forwarding > #remote-port-forwarding-line-to-termius":{animation:`${mi} 0.5s 8s forwards`,'& > [id*="border"]':{animation:`${cs} 0.5s 2.5s forwards`},'& > [id*="center"]':{stroke:"var(--blue)",animation:`${cs} 0.5s 3.5s forwards, ${Kd} 0.5s 4.5s forwards, ${Zd} 1.5s 5s infinite`}},"& > #remote-port-forwarding > #remote-port-forwarding-line-to-target-host":{animation:`${mi} 0.5s 8s forwards`,'& > [id*="border"]':{strokeDashoffset:"80px",animation:`${nS} 1.75s 3s forwards`},'& > [id*="center"]':{stroke:"var(--blue)",animation:`${cs} 0.5s 4.5s forwards, ${Kd} 0.5s 4.5s forwards, ${Zd} 1.5s 5.5s infinite`}}}}})),rwe=K()((t,e,n)=>({dynamicRule:{lineHeight:"0px",width:"100%",'& > #dynamic-port-forwarding > [id^="dynamic-port-forwarding"]':{opacity:.3,transition:"opacity 0.3s"}},highlightAll:{'& > #dynamic-port-forwarding > [id^="dynamic-port-forwarding"]':{opacity:1}},highlightedLocal:{"& > #dynamic-port-forwarding > #dynamic-port-forwarding-termius":{opacity:1}},highlightedTarget:{"& > #dynamic-port-forwarding > #dynamic-port-forwarding-remote-host":{opacity:1}},animated:{'& > #dynamic-port-forwarding > [id^="dynamic-port-forwarding"]':{opacity:1},"& > #dynamic-port-forwarding > #dynamic-port-forwarding-line-to-firewall":{opacity:0},"& > #dynamic-port-forwarding > #dynamic-port-forwarding-remote-host":{opacity:"0"},"& > #dynamic-port-forwarding > #dynamic-port-forwarding-line-to-remote-host":{'& > [id*="border"], & > [id*="center"]':{transition:"opacity 0.3s",opacity:0}},"& > #dynamic-port-forwarding > #dynamic-port-forwarding-line-to-cloud-1":{'& > [id*="border"], & > [id*="center"]':{transition:"opacity 0.3s",opacity:0}},"& > #dynamic-port-forwarding > #dynamic-port-forwarding-line-to-cloud-2":{'& > [id*="border"], & > [id*="center"]':{transition:"opacity 0.3s",opacity:0}}},animationProgress:{[`&.${n.animated}`]:{"& > #dynamic-port-forwarding > #dynamic-port-forwarding-line-to-firewall":{animation:`${tS} 1s forwards, ${hC} 0.5s 1.5s forwards`},"& > #dynamic-port-forwarding > #dynamic-port-forwarding-remote-host":{animation:`${Od} 0.5s 2s forwards, ${mi} 0.5s 8s forwards`},"& > #dynamic-port-forwarding > #dynamic-port-forwarding-line-to-remote-host":{animation:`${mi} 0.5s 8s forwards`,'& > [id*="border"]':{animation:`${cs} 0.5s 2.5s forwards`},'& > [id*="center"]':{stroke:"var(--blue)",animation:`${cs} 0.5s 3.5s forwards, ${Kd} 0.5s 4.5s forwards, ${Zd} 1.5s 5s infinite`}},"& > #dynamic-port-forwarding > #dynamic-port-forwarding-line-to-cloud-1,& > #dynamic-port-forwarding > #dynamic-port-forwarding-line-to-cloud-2":{animation:`${mi} 0.5s 8s forwards`,'& > [id*="border"]':{strokeDashoffset:"80px",animation:`${nS} 1.75s 3s forwards`},'& > [id*="center"]':{stroke:"var(--blue)",animation:`${cs} 0.5s 4.5s forwards, ${Kd} 0.5s 4.5s forwards, ${Zd} 1.5s 5.5s infinite`}}}}})),oS=()=>{const[t,e]=f.useState(!0);return{isAnimationInProgress:t,handleEndAnimation:({animationName:o})=>{o.includes(mi.name)&&(e(!1),setTimeout(()=>{e(!0)},100))}}};function iwe(t){const{className:e,step:n,isAnimated:o}=t,{classes:r}=rwe(),{isAnimationInProgress:i,handleEndAnimation:s}=oS();return u(twe,{onAnimationEnd:s,className:ce(e,r.dynamicRule,{[r.highlightAll]:!n||["label"].includes(n),[r.animated]:o||n==="pf_type",[r.animationProgress]:i,[r.highlightedLocal]:n==="local_port",[r.highlightedTarget]:n==="service_host"})})}const swe=(t,e)=>f.createElement("svg",{width:250,height:150,viewBox:"0 0 250 150",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("g",{id:"local-port-forwarding"},f.createElement("g",{id:"local-port-forwarding-termius"},f.createElement("rect",{x:2,y:7,width:46,height:46,rx:10,fill:"#5A5E73"}),f.createElement("path",{id:"logo",fillRule:"evenodd",clipRule:"evenodd",d:"M33.233 40.4572C38.0681 40.4572 42 36.5253 42 31.6902C42 29.2828 40.9756 26.941 39.2261 25.2936C39.1884 20.634 35.3879 16.8567 30.7195 16.8567C29.3637 16.8567 28.0436 17.1761 26.8497 17.7874C25.2787 16.3037 23.2029 15.4702 21.0133 15.4702C16.4456 15.4702 12.7089 19.0863 12.5146 23.6069C9.74561 25.1541 8 28.0896 8 31.3002C8 36.1593 11.9512 40.1106 16.8102 40.1106C17.0403 40.1106 17.2706 40.1016 17.5 40.0838C19.1233 42.8145 22.0913 44.5302 25.3031 44.5302C28.375 44.5302 31.2075 42.9867 32.8784 40.45C32.9968 40.4548 33.115 40.4572 33.233 40.4572ZM25.3031 42.2167C22.7009 42.2167 20.3066 40.6986 19.1911 38.3425L18.8136 37.5453L17.945 37.6983C17.5726 37.7638 17.191 37.7971 16.8102 37.7971C13.229 37.7971 10.3135 34.8816 10.3135 31.3002C10.3135 28.744 11.8148 26.4234 14.1465 25.3731L14.8637 25.05L14.8269 24.2642C14.8224 24.1688 14.8202 24.0724 14.8202 23.977C14.8202 20.5631 17.5994 17.7838 21.0133 17.7838C22.8508 17.7838 24.5727 18.5863 25.7557 19.9936L26.4221 20.7862L27.2834 20.2113C28.3052 19.5293 29.4898 19.1703 30.7195 19.1703C34.1335 19.1703 36.9129 21.9496 36.9129 25.3635C36.9129 25.4867 36.9091 25.6111 36.9016 25.7334L36.8655 26.3228L37.3218 26.6978C38.8014 27.9137 39.6865 29.7824 39.6865 31.6902C39.6865 35.2476 36.7904 38.1437 33.233 38.1437C32.9582 38.1437 32.6797 38.1258 32.405 38.0906L31.6202 37.9899L31.2419 38.6849C30.054 40.8669 27.7849 42.2167 25.3031 42.2167ZM29.6976 32.9616L29.7204 32.9519C30.021 32.8226 30.1285 32.7089 30.1285 32.3954V32.0016C30.1285 31.6553 29.929 31.4324 29.6038 31.4324H29.5855L29.5201 31.4467C28.7924 31.7028 28.0767 31.8324 27.3932 31.8324C26.7124 31.8324 26.0409 31.7037 25.3971 31.4498L25.3777 31.4422L25.3048 31.4324C24.9797 31.4324 24.7802 31.6553 24.7802 32.0016V32.3954C24.7802 32.6904 24.8912 32.8248 25.1506 32.9364L25.179 32.9485L25.2074 32.9603C25.9112 33.2613 26.6478 33.4144 27.3944 33.4144C28.1384 33.4144 28.912 33.2622 29.6976 32.9616ZM19.667 29.7235C19.667 29.4061 19.8317 29.2311 20.0525 29.1848L22.1791 28.6265L20.0475 28.067C19.8264 28.0092 19.667 27.8347 19.667 27.5295V26.8591C19.667 26.5661 19.8429 26.4399 20.0441 26.4399C20.1092 26.4399 20.1766 26.4541 20.244 26.4795L24.0394 27.7073C24.3277 27.8034 24.4864 28.035 24.4864 28.3522V28.9007C24.4864 29.2179 24.3279 29.4496 24.0391 29.5458L20.2357 30.7762C20.1714 30.7952 20.1142 30.8045 20.0584 30.8045C19.8201 30.8045 19.667 30.6332 19.667 30.3838V29.7235Z",fill:"white"})),f.createElement("g",{id:"local-port-forwarding-firewall"},f.createElement("g",{id:"wall"},f.createElement("g",{id:"Group 2"},f.createElement("rect",{id:"Rectangle",x:108,y:33,width:26,height:10,rx:2.82884,fill:"#F24E50"}),f.createElement("rect",{id:"Rectangle_2",x:136,y:33,width:8,height:10,rx:2.82884,fill:"#F24E50"}),f.createElement("rect",{id:"Rectangle_3",x:118,y:44,width:26,height:10,rx:2.82884,fill:"#F24E50"}),f.createElement("rect",{id:"Rectangle_4",x:108,y:44,width:8,height:10,rx:2.82884,fill:"#F24E50"}),f.createElement("rect",{id:"Rectangle_5",x:127,y:55,width:17,height:10,rx:2.82884,fill:"#F24E50"}),f.createElement("rect",{id:"Rectangle_6",x:108,y:55,width:17,height:10,rx:2.82884,fill:"#F24E50"})),f.createElement("g",{id:"Group 2.1"},f.createElement("rect",{id:"Rectangle_7",x:108,width:26,height:10,rx:2.82884,fill:"#F24E50"}),f.createElement("rect",{id:"Rectangle_8",x:136,width:8,height:10,rx:2.82884,fill:"#F24E50"}),f.createElement("rect",{id:"Rectangle_9",x:118,y:11,width:26,height:10,rx:2.82884,fill:"#F24E50"}),f.createElement("rect",{id:"Rectangle_10",x:108,y:11,width:8,height:10,rx:2.82884,fill:"#F24E50"}),f.createElement("rect",{id:"Rectangle_11",x:126.504,y:22,width:17,height:10,rx:2.82884,fill:"#F24E50"}),f.createElement("rect",{id:"Rectangle_12",x:108,y:22,width:17,height:10,rx:2.82884,fill:"#F24E50"}))),f.createElement("g",{id:"fire"},f.createElement("path",{id:"Vector",d:"M134.293 34.9211C134.293 39.6174 130.64 43.2928 125.999 43.2928C121.359 43.2928 117.707 39.6176 117.707 34.9211C117.707 33.8397 118.138 32.7557 118.848 31.6254C119.523 30.5509 120.408 29.4986 121.321 28.4141C121.371 28.3545 121.421 28.2948 121.471 28.2351C122.418 27.1088 123.388 25.9387 124.056 24.7471C124.544 23.8757 124.897 22.9482 124.948 21.976C125.312 22.1502 125.753 22.4026 126.245 22.7295C127.303 23.4309 128.559 24.4483 129.764 25.6926C132.195 28.2046 134.293 31.5152 134.293 34.9211Z",fill:"#DD2C00",stroke:"#F7F9FA",strokeWidth:1.41442}),f.createElement("path",{id:"Vector_2",d:"M131.402 37.3421C131.402 32.7427 126.002 28.2632 126.002 28.2632C126.002 31.9432 120.602 33.6627 120.602 37.3421C120.602 40.3902 122.979 42.7895 126.002 42.7895C129.024 42.7895 131.402 40.3902 131.402 37.3421Z",fill:"white"}),f.createElement("path",{id:"Vector_3",d:"M123 39.4038C123.001 37.3422 126.001 36.1626 126.001 34.3159C126.001 34.3159 129 36.6353 129 39.4038C129 40.932 127.658 42.1722 126 42.1722C124.342 42.1722 122.999 40.9327 123 39.4038Z",fill:"#FFC107"}))),f.createElement("g",{id:"local-port-forwarding-target-host"},f.createElement("rect",{id:"Rectangle_13",x:209.996,y:7,width:38,height:10,rx:2.82884,fill:"#5A5E73"}),f.createElement("rect",{id:"Rectangle_14",x:212,y:9,width:10,height:3,rx:1.5,fill:"#21B568"}),f.createElement("rect",{id:"Rectangle_15",x:209.996,y:18,width:38,height:10,rx:2.82884,fill:"#5A5E73"}),f.createElement("rect",{id:"Rectangle_16",x:209.996,y:29,width:38,height:10,rx:2.82884,fill:"#5A5E73"}),f.createElement("rect",{id:"Rectangle_17",x:209.996,y:40,width:38,height:10,rx:2.82884,fill:"#5A5E73"}),f.createElement("g",{id:"Group"},f.createElement("path",{id:"Union",fillRule:"evenodd",clipRule:"evenodd",d:"M229 51C227.895 51 227 51.8954 227 53V54.9961H216C214.895 54.9961 214 55.8915 214 56.9961C214 58.1007 214.895 58.9961 216 58.9961H228.874C228.916 58.9987 228.958 59 229 59C229.042 59 229.084 58.9987 229.126 58.9961H242C243.105 58.9961 244 58.1007 244 56.9961C244 55.8915 243.105 54.9961 242 54.9961H231V53C231 51.8954 230.105 51 229 51Z",fill:"#5A5E73"}))),f.createElement("g",{id:"local-port-forwarding-remote-host"},f.createElement("rect",{id:"Rectangle_18",x:107,y:98,width:38,height:10,rx:2.82884,fill:"#5A5E73"}),f.createElement("rect",{id:"Rectangle_19",x:109.004,y:100,width:10,height:3,rx:1.5,fill:"#2091F6"}),f.createElement("rect",{id:"Rectangle_20",x:107,y:109,width:38,height:10,rx:2.82884,fill:"#5A5E73"}),f.createElement("rect",{id:"Rectangle_21",x:107,y:120,width:38,height:10,rx:2.82884,fill:"#5A5E73"}),f.createElement("rect",{id:"Rectangle_22",x:107,y:131,width:38,height:10,rx:2.82884,fill:"#5A5E73"}),f.createElement("g",{id:"Group_2"},f.createElement("path",{id:"Union_2",fillRule:"evenodd",clipRule:"evenodd",d:"M126.004 142C124.899 142 124.004 142.895 124.004 144V145.996H113.004C111.899 145.996 111.004 146.892 111.004 147.996C111.004 149.101 111.899 149.996 113.004 149.996H125.878C125.92 149.999 125.962 150 126.004 150C126.046 150 126.088 149.999 126.13 149.996H139.004C140.108 149.996 141.004 149.101 141.004 147.996C141.004 146.892 140.108 145.996 139.004 145.996H128.004V144C128.004 142.895 127.108 142 126.004 142Z",fill:"#5A5E73"}))),f.createElement("line",{id:"local-port-forwarding-line-to-firewall",x1:61.4144,y1:32.5856,x2:94.5856,y2:32.5856,stroke:"#F25E61",strokeWidth:2.82884,strokeLinecap:"round"}),f.createElement("g",{id:"local-port-forwarding-line-to-remote-host"},f.createElement("line",{id:"local-port-forwarding-line-to-remote-host-border",x1:1.41442,y1:-1.41442,x2:56.5856,y2:-1.41442,transform:"matrix(0.709377 0.704829 -0.709377 0.704829 49 82.6758)",stroke:"#5A5E73",strokeWidth:2.82884,strokeLinecap:"round",strokeLinejoin:"round"}),f.createElement("line",{id:"local-port-forwarding-line-to-remote-host-border_2",x1:1.41442,y1:-1.41442,x2:56.5856,y2:-1.41442,transform:"matrix(0.709377 0.704829 -0.709377 0.704829 54.7227 77)",stroke:"#5A5E73",strokeWidth:2.82884,strokeLinecap:"round",strokeLinejoin:"round"}),f.createElement("line",{id:"local-port-forwarding-line-to-remote-host-center",x1:1.41442,y1:-1.41442,x2:56.5856,y2:-1.41442,transform:"matrix(0.709377 0.704829 -0.709377 0.704829 51.875 79.8286)",stroke:"#21B568",strokeWidth:2.82884,strokeLinecap:"round",strokeLinejoin:"round"})),f.createElement("g",{id:"local-port-forwarding-line-to-target-host"},f.createElement("line",{id:"local-port-forwarding-line-to-target-host-border",x1:1.41442,y1:-1.41442,x2:56.5856,y2:-1.41442,transform:"matrix(-0.707107 0.707107 0.707107 0.707107 201.699 82.6758)",stroke:"#5A5E73",strokeWidth:2.82884,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"8 8"}),f.createElement("line",{id:"local-port-forwarding-line-to-target-host-border_2",x1:1.41442,y1:-1.41442,x2:56.5856,y2:-1.41442,transform:"matrix(-0.707107 0.707107 0.707107 0.707107 196.012 77)",stroke:"#5A5E73",strokeWidth:2.82884,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"8 8"}),f.createElement("line",{id:"local-port-forwarding-line-to-target-host-center",x1:1.41442,y1:-1.41442,x2:56.5856,y2:-1.41442,transform:"matrix(0.707107 -0.707107 -0.707107 -0.707107 155.828 118.841)",stroke:"#21B568",strokeWidth:2.82884,strokeLinecap:"round",strokeLinejoin:"round"})))),awe=f.forwardRef(swe),lwe=f.memo(awe);function cwe(t){const{className:e,step:n,isAnimated:o}=t,{classes:r}=nwe(),{isAnimationInProgress:i,handleEndAnimation:s}=oS();return u(lwe,{onAnimationEnd:s,className:ce(e,r.localRule,{[r.highlightAll]:!n||["label"].includes(n),[r.animated]:o||n==="pf_type",[r.animationProgress]:i,[r.highlightedLocal]:n==="local_port",[r.highlightedHost]:n==="service_host",[r.highlightedTarget]:n==="destination"})})}const dwe=(t,e)=>f.createElement("svg",{width:250,height:150,viewBox:"0 0 250 150",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("g",{id:"remote-port-forwarding"},f.createElement("line",{id:"remote-port-forwarding-line-to-firewall",x1:61.2967,y1:32.7033,x2:94.7033,y2:32.7033,stroke:"#F25E61",strokeWidth:2.59344,strokeLinecap:"round"}),f.createElement("g",{id:"remote-port-forwarding-firewall"},f.createElement("g",{id:"wall"},f.createElement("g",{id:"Group 2"},f.createElement("rect",{id:"Rectangle",x:108,y:33,width:26,height:10,rx:2.82884,fill:"#F24E50"}),f.createElement("rect",{id:"Rectangle_2",x:136,y:33,width:8,height:10,rx:2.82884,fill:"#F24E50"}),f.createElement("rect",{id:"Rectangle_3",x:118,y:44,width:26,height:10,rx:2.82884,fill:"#F24E50"}),f.createElement("rect",{id:"Rectangle_4",x:108,y:44,width:8,height:10,rx:2.82884,fill:"#F24E50"}),f.createElement("rect",{id:"Rectangle_5",x:127,y:55,width:17,height:10,rx:2.82884,fill:"#F24E50"}),f.createElement("rect",{id:"Rectangle_6",x:108,y:55,width:17,height:10,rx:2.82884,fill:"#F24E50"})),f.createElement("g",{id:"Group 2.1"},f.createElement("rect",{id:"Rectangle_7",x:108,width:26,height:10,rx:2.82884,fill:"#F24E50"}),f.createElement("rect",{id:"Rectangle_8",x:136,width:8,height:10,rx:2.82884,fill:"#F24E50"}),f.createElement("rect",{id:"Rectangle_9",x:118,y:11,width:26,height:10,rx:2.82884,fill:"#F24E50"}),f.createElement("rect",{id:"Rectangle_10",x:108,y:11,width:8,height:10,rx:2.82884,fill:"#F24E50"}),f.createElement("rect",{id:"Rectangle_11",x:126.504,y:22,width:17,height:10,rx:2.82884,fill:"#F24E50"}),f.createElement("rect",{id:"Rectangle_12",x:108,y:22,width:17,height:10,rx:2.82884,fill:"#F24E50"}))),f.createElement("g",{id:"fire"},f.createElement("path",{id:"Vector",d:"M134.293 34.9211C134.293 39.6174 130.64 43.2928 125.999 43.2928C121.359 43.2928 117.707 39.6176 117.707 34.9211C117.707 33.8397 118.138 32.7557 118.848 31.6254C119.523 30.5509 120.408 29.4986 121.321 28.4141C121.371 28.3545 121.421 28.2948 121.471 28.2351C122.418 27.1088 123.388 25.9387 124.056 24.7471C124.544 23.8757 124.897 22.9482 124.948 21.976C125.312 22.1502 125.753 22.4026 126.245 22.7295C127.303 23.4309 128.559 24.4483 129.764 25.6926C132.195 28.2046 134.293 31.5152 134.293 34.9211Z",fill:"#DD2C00",stroke:"#F7F9FA",strokeWidth:1.41442}),f.createElement("path",{id:"Vector_2",d:"M131.402 37.3421C131.402 32.7427 126.002 28.2632 126.002 28.2632C126.002 31.9432 120.602 33.6627 120.602 37.3421C120.602 40.3902 122.979 42.7895 126.002 42.7895C129.024 42.7895 131.402 40.3902 131.402 37.3421Z",fill:"white"}),f.createElement("path",{id:"Vector_3",d:"M123 39.4038C123.001 37.3422 126.001 36.1626 126.001 34.3159C126.001 34.3159 129 36.6353 129 39.4038C129 40.932 127.658 42.1722 126 42.1722C124.342 42.1722 122.999 40.9327 123 39.4038Z",fill:"#FFC107"}))),f.createElement("g",{id:"remote-port-forwarding-remote-host"},f.createElement("rect",{id:"Rectangle_13",x:2,y:7,width:38,height:10,rx:2.82884,fill:"#5A5E73"}),f.createElement("rect",{id:"Rectangle_14",x:4.00391,y:9,width:10,height:3,rx:1.5,fill:"#21B568"}),f.createElement("rect",{id:"Rectangle_15",x:2,y:18,width:38,height:10,rx:2.82884,fill:"#5A5E73"}),f.createElement("rect",{id:"Rectangle_16",x:2,y:29,width:38,height:10,rx:2.82884,fill:"#5A5E73"}),f.createElement("rect",{id:"Rectangle_17",x:2,y:40,width:38,height:10,rx:2.82884,fill:"#5A5E73"}),f.createElement("g",{id:"Group"},f.createElement("path",{id:"Union",fillRule:"evenodd",clipRule:"evenodd",d:"M21.0039 51C19.8993 51 19.0039 51.8954 19.0039 53V54.9961H8.00391C6.89934 54.9961 6.00391 55.8915 6.00391 56.9961C6.00391 58.1007 6.89934 58.9961 8.00391 58.9961H20.8779C20.9196 58.9987 20.9616 59 21.0039 59C21.0462 59 21.0883 58.9987 21.1299 58.9961H34.0039C35.1085 58.9961 36.0039 58.1007 36.0039 56.9961C36.0039 55.8915 35.1085 54.9961 34.0039 54.9961H23.0039V53C23.0039 51.8954 22.1085 51 21.0039 51Z",fill:"#5A5E73"}))),f.createElement("g",{id:"remote-port-forwarding-target-host"},f.createElement("rect",{id:"Rectangle_18",x:210,y:7,width:38,height:10,rx:2.82884,fill:"#5A5E73"}),f.createElement("rect",{id:"Rectangle_19",x:212.004,y:9,width:10,height:3,rx:1.5,fill:"#21B568"}),f.createElement("rect",{id:"Rectangle_20",x:210,y:18,width:38,height:10,rx:2.82884,fill:"#5A5E73"}),f.createElement("rect",{id:"Rectangle_21",x:210,y:29,width:38,height:10,rx:2.82884,fill:"#5A5E73"}),f.createElement("rect",{id:"Rectangle_22",x:210,y:40,width:38,height:10,rx:2.82884,fill:"#5A5E73"}),f.createElement("g",{id:"Group_2"},f.createElement("path",{id:"Union_2",fillRule:"evenodd",clipRule:"evenodd",d:"M229.004 51C227.899 51 227.004 51.8954 227.004 53V54.9961H216.004C214.899 54.9961 214.004 55.8915 214.004 56.9961C214.004 58.1007 214.899 58.9961 216.004 58.9961H228.878C228.92 58.9987 228.962 59 229.004 59C229.046 59 229.088 58.9987 229.13 58.9961H242.004C243.108 58.9961 244.004 58.1007 244.004 56.9961C244.004 55.8915 243.108 54.9961 242.004 54.9961H231.004V53C231.004 51.8954 230.108 51 229.004 51Z",fill:"#5A5E73"}))),f.createElement("g",{id:"remote-port-forwarding-termius"},f.createElement("rect",{x:101.996,y:104,width:46,height:46,rx:10,fill:"#5A5E73"}),f.createElement("path",{id:"logo",fillRule:"evenodd",clipRule:"evenodd",d:"M133.229 137.457C138.064 137.457 141.996 133.525 141.996 128.69C141.996 126.283 140.972 123.941 139.222 122.294C139.185 117.634 135.384 113.857 130.716 113.857C129.36 113.857 128.04 114.176 126.846 114.787C125.275 113.304 123.199 112.47 121.009 112.47C116.442 112.47 112.705 116.086 112.511 120.607C109.742 122.154 107.996 125.09 107.996 128.3C107.996 133.159 111.947 137.111 116.806 137.111C117.036 137.111 117.267 137.102 117.496 137.084C119.119 139.815 122.087 141.53 125.299 141.53C128.371 141.53 131.204 139.987 132.875 137.45C132.993 137.455 133.111 137.457 133.229 137.457ZM125.299 139.217C122.697 139.217 120.303 137.699 119.187 135.343L118.81 134.545L117.941 134.698C117.569 134.764 117.187 134.797 116.806 134.797C113.225 134.797 110.31 131.882 110.31 128.3C110.31 125.744 111.811 123.423 114.143 122.373L114.86 122.05L114.823 121.264C114.818 121.169 114.816 121.072 114.816 120.977C114.816 117.563 117.595 114.784 121.009 114.784C122.847 114.784 124.569 115.586 125.752 116.994L126.418 117.786L127.279 117.211C128.301 116.529 129.486 116.17 130.716 116.17C134.13 116.17 136.909 118.95 136.909 122.364C136.909 122.487 136.905 122.611 136.898 122.733L136.862 123.323L137.318 123.698C138.797 124.914 139.683 126.782 139.683 128.69C139.683 132.248 136.787 135.144 133.229 135.144C132.954 135.144 132.676 135.126 132.401 135.091L131.616 134.99L131.238 135.685C130.05 137.867 127.781 139.217 125.299 139.217ZM129.694 129.962L129.716 129.952C130.017 129.823 130.125 129.709 130.125 129.395V129.002C130.125 128.655 129.925 128.432 129.6 128.432H129.582L129.516 128.447C128.788 128.703 128.073 128.832 127.389 128.832C126.709 128.832 126.037 128.704 125.393 128.45L125.374 128.442L125.301 128.432C124.976 128.432 124.776 128.655 124.776 129.002V129.395C124.776 129.69 124.887 129.825 125.147 129.936L125.175 129.948L125.203 129.96C125.907 130.261 126.644 130.414 127.39 130.414C128.135 130.414 128.908 130.262 129.694 129.962ZM119.663 126.723C119.663 126.406 119.827 126.231 120.048 126.185L122.175 125.627L120.043 125.067C119.822 125.009 119.663 124.835 119.663 124.529V123.859C119.663 123.566 119.839 123.44 120.04 123.44C120.105 123.44 120.172 123.454 120.24 123.479L124.035 124.707C124.323 124.803 124.482 125.035 124.482 125.352V125.901C124.482 126.218 124.323 126.45 124.035 126.546L120.231 127.776C120.167 127.795 120.11 127.804 120.054 127.804C119.816 127.804 119.663 127.633 119.663 127.384V126.723Z",fill:"white"})),f.createElement("g",{id:"remote-port-forwarding-line-to-target-host"},f.createElement("line",{id:"remote-port-forwarding-line-to-target-host-border",x1:1.41442,y1:-1.41442,x2:56.5856,y2:-1.41442,transform:"matrix(-0.707107 0.707107 0.707107 0.707107 201.699 82.6758)",stroke:"#5A5E73",strokeWidth:2.82884,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"8 8"}),f.createElement("line",{id:"remote-port-forwarding-line-to-target-host-border_2",x1:1.41442,y1:-1.41442,x2:56.5856,y2:-1.41442,transform:"matrix(-0.707107 0.707107 0.707107 0.707107 196.012 77)",stroke:"#5A5E73",strokeWidth:2.82884,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"8 8"}),f.createElement("line",{id:"remote-port-forwarding-line-to-target-host-center",x1:1.41442,y1:-1.41442,x2:56.5856,y2:-1.41442,transform:"matrix(0.707107 -0.707107 -0.707107 -0.707107 155.828 118.841)",stroke:"#21B568",strokeWidth:2.82884,strokeLinecap:"round",strokeLinejoin:"round"})),f.createElement("g",{id:"remote-port-forwarding-line-to-termius"},f.createElement("line",{id:"remote-port-forwarding-line-to-termius-border",x1:1.41442,y1:-1.41442,x2:56.5856,y2:-1.41442,transform:"matrix(0.709377 0.704829 -0.709377 0.704829 49 82.6758)",stroke:"#5A5E73",strokeWidth:2.82884,strokeLinecap:"round",strokeLinejoin:"round"}),f.createElement("line",{id:"remote-port-forwarding-line-to-termius-border_2",x1:1.41442,y1:-1.41442,x2:56.5856,y2:-1.41442,transform:"matrix(0.709377 0.704829 -0.709377 0.704829 54.7227 77)",stroke:"#5A5E73",strokeWidth:2.82884,strokeLinecap:"round",strokeLinejoin:"round"}),f.createElement("line",{id:"remote-port-forwarding-line-to-termius-center",x1:1.41442,y1:-1.41442,x2:56.5856,y2:-1.41442,transform:"matrix(0.709377 0.704829 -0.709377 0.704829 51.875 79.8286)",stroke:"#21B568",strokeWidth:2.82884,strokeLinecap:"round",strokeLinejoin:"round"})))),uwe=f.forwardRef(dwe),pwe=f.memo(uwe);function hwe(t){const{className:e,step:n,isAnimated:o}=t,{classes:r}=owe(),{isAnimationInProgress:i,handleEndAnimation:s}=oS();return u(pwe,{onAnimationEnd:s,className:ce(e,r.remoteRule,{[r.highlightAll]:!n||["label"].includes(n),[r.animated]:o||n==="pf_type",[r.animationProgress]:i,[r.highlightedHost]:["service_host","remote_port"].includes(n||""),[r.highlightedTarget]:n==="destination"})})}function uB(t){const{className:e,step:n,type:o,isAnimated:r}=t,{classes:i}=fwe();return L("div",{className:ce(e,i.wizardPreview),children:[o==="local"&&u(cwe,{isAnimated:r,step:n}),o==="remote"&&u(hwe,{isAnimated:r,step:n}),o==="dynamic"&&u(iwe,{isAnimated:r,step:n})]})}const fwe=K()({wizardPreview:{width:"100%",lineHeight:"0px",order:2}}),mwe=()=>{const[t,e]=f.useState(),n=i=>i==="destination_port"?"destination":i;return{onFocus:i=>{var a;const s=(a=i.target)==null?void 0:a.name;if(s){const l=n(s);e(l)}},onBlur:()=>{e(void 0)},focusedField:t}};function gwe(t){const{className:e,onOpenWizard:n}=t,{classes:o}=vwe();return L("div",{className:ce(e,o.wizardHint),children:["Need help configuring the port forwarding rule?",u(F2,{color:"var(--accent)",onClick:n,...t,children:"Open Port Forwarding Wizard"})]})}const vwe=K()({wizardHint:{marginTop:"20px",color:"var(--light-grey-2)",".termius-dark-theme &":{color:"var(--dark-grey-7)"},textAlign:"center"}}),Cwe=["Local","Remote","Dynamic"],ywe=new Map([["Local","Local Rule"],["Remote","Remote Rule"],["Dynamic","Dynamic Rule"]]),Swe=new Map([["local","Local"],["remote","Remote"],["dynamic","Dynamic"]]),hp={local:"local_port",remote:"remote_port",destination:"destination"};function bwe(t){const{className:e,editableEntity:n,originalEntity:o,onLabelChange:r,onChangeRemotePort:i,onRemoveHostFrom:s,onChangeHostFrom:a,onChangeLocalPort:l,onChangeRemoteAddress:c,onChangeBoundAddress:d,onChangeRuleType:p,savingStatus:h,onClose:m,shouldDisableFormFields:g,isOpened:C,isAddingNewRule:v,onSwitchToWizard:S,menuItems:y,register:b}=t,w=de(),[x,_]=Wb(C),[I,T]=Wb(C),A=V(ng),k=()=>{w(GR({entity:"Host"})),A?_(!0):T(!0)},{focusedField:R,onFocus:M,onBlur:D}=mwe(),F={outlined:!0,disableWrapper:!0,fullWidth:!0},z=()=>{S(new $u(n))},j=()=>u(sn,{label:"Local port number",onChange:l,onFocus:M,onBlur:D,disabled:g,...F,...b(hp.local,{required:!0,value:n.local_port||""})}),H=()=>u(sn,{label:"Remote port number",onChange:l,onFocus:M,onBlur:D,disabled:g,...F,...b(hp.remote,{required:!0,value:n.local_port||""})}),O=q=>{var X,ee;return u(sn,{label:q,value:((X=n.host)==null?void 0:X.displayLabel)||"",placeholder:((ee=n.host)==null?void 0:ee.displayLabel)||"",showDisabledAsNormal:!g,disabled:g,required:!0,dashed:!0,...F,...vK(!g,{onClick:k}),children:n.host.local_id?u(fC,{label:"Remove Host",disabled:g,onClick:s}):u(RR,{label:"Hosts",disabled:g,onClick:k})})},U=()=>u(sn,{name:n.pf_type==="Remote Rule"?hp.remote:hp.local,label:"Bind address",value:n.bound_address||"",onChange:d,onFocus:M,onBlur:D,disabled:g,...F}),N=Ei(),W=!n.local_id||!!h&&h!=="saved",B=()=>L(Se.Fragment,{children:[u(sn,{label:"Destination address",onChange:c,onFocus:M,onBlur:D,disabled:g,...F,...b(hp.destination,{required:!0,value:n.hostname||""})}),u(sn,{label:"Destination port number",onChange:i,onFocus:M,onBlur:D,disabled:g,...F,...b("destination_port",{required:!0,value:n.remote_port||""})})]}),$=y(n,W);return L(Nn,{onEsc:m,className:e,children:[u(fn,{left:u(mn,{title:o!=null&&o.local_id?"Edit Port Forwarding":"New Port Forwarding",children:u(ki,{...t,entry:n})}),right:L(Et,{margin:"md",children:[u(Ga,{status:h}),u(Tn,{"data-testid":"port-forwarding-form-more-button",ref:N.triggerRef,onClick:N.openMenu,disabled:Ri($),children:u(Pi,{})}),u(Fo,{onClick:m})]})}),L(So,{children:[L(Lt,{children:[v&&u(ai,{items:Cwe,onClick:q=>p(ywe.get(q)??"Local Rule"),selectedItem:Swe.get(n.pfRuleType)??"Local"}),u(Ee,{py:"20px",width:"250px",mx:"auto",children:u(uB,{type:n.pfRuleType,step:R})}),L("div",{style:{display:"flex",alignItems:"center"},children:[u(aC,{icon:Ng.icon(n)}),u(sn,{label:"Label",value:n.label,onChange:r,onFocus:M,onBlur:D,autoFocus:!0,disabled:g,...F})]}),n.pf_type==="Local Rule"&&L(Se.Fragment,{children:[j(),U(),O("Intermediate host"),B()]}),n.pf_type==="Remote Rule"&&L(Se.Fragment,{children:[O("Remote host"),H(),U(),B()]}),n.pf_type==="Dynamic Rule"&&L(Se.Fragment,{children:[j(),U(),O("Intermediate host")]})]}),v&&u(gwe,{onOpenWizard:z})]}),u(Go,{open:x,children:u(ig,{onClose:()=>_(!1),onClick:a,exclude:()=>!1})}),u(Go,{open:I,children:u(G2,{onHostCreated:q=>{a(q),T(!1)},onClose:()=>T(!1)})}),u(Sr,{onClose:N.closeMenu,autoClose:!0,open:N.isOpened,anchorEl:N.triggerRef.current,anchorOrigin:{horizontal:"left",vertical:"bottom"},transformOrigin:{horizontal:"left",vertical:"top"},menuItems:$})]})}function wwe(t){const{className:e,...n}=t,{classes:o}=_we();return u(CK,{className:ce(e,o.backButton),...n})}const _we=K()({backButton:{marginTop:"0 !important",marginBottom:"3px",height:"auto"}});function qu(t){const{className:e,children:n}=t,{classes:o}=xwe();return u("div",{className:ce(e,o.stepContent),children:n})}const xwe=K()({stepContent:{order:3,width:"100%","&& > * + *":{marginTop:"inherit"}}});function Gu(t){const{className:e,children:n}=t,{classes:o}=Awe();return u("div",{className:ce(e,o.stepHeader),children:n})}const Awe=K()({stepHeader:{order:1,width:"100%","& > * + *":{marginTop:"20px"}}});function Twe(t){const{port:e,address:n,onChangePort:o,onChangeAddress:r,type:i}=t;return L(Se.Fragment,{children:[u(Gu,{children:u(Z,{bold:!0,children:"Select the destination host:"})}),L(qu,{children:[L("div",{children:[i==="local"&&"IP address/hostname and the port number of the remote host where the intermediate host will direct the traffic. ",i==="remote"&&"The destination address and port where the traffic will be forwarded. "]}),u(sn,{label:"Destination address",value:n||"",autoFocus:!0,onChange:r,outlined:!0,disableWrapper:!0,fullWidth:!0,required:!0}),u(sn,{label:"Destination port number",value:e||"",onChange:o,outlined:!0,disableWrapper:!0,fullWidth:!0,required:!0}),u(Ue,{disabled:!(n&&e),size:"medium",fullWidth:!0,color:"accent",type:"submit",children:"Continue"})]})]})}function Iwe(t){const{localPort:e,onChangeLocalPort:n,onChangeBoundAddress:o,boundAddress:r,type:i}=t;return L(Se.Fragment,{children:[u(Gu,{children:u(Z,{bold:!0,children:"Set the local port and binding address:"})}),L(qu,{children:[L("div",{children:[i==="local"&&"This port will be open on the local (current) machine to forward traffic to the remote host. ",i==="dynamic"&&"This port will be open on the local (current) device, and it will receive the traffic. "]}),u(sn,{label:"Local port number",value:e||"",autoFocus:!0,onChange:n,outlined:!0,disableWrapper:!0,fullWidth:!0,required:!0}),u(sn,{label:"Bind address",placeholder:"0.0.0.0",value:r||"",onChange:o,outlined:!0,disableWrapper:!0,fullWidth:!0}),u(Ue,{disabled:!e,size:"medium",fullWidth:!0,color:"accent",type:"submit",children:"Continue"})]})]})}const Ewe=t=>{const{classes:e,cx:n}=kwe(),{className:o,margin:r="md",children:i}=t;return u("div",{className:n(e.column,e[r],o),children:i})},kwe=K()((t,e,n)=>({column:{display:"flex",flexDirection:"column",[`&.${n.sm}, &.${n.md}, &.${n.lg}`]:{width:"auto","& > *:last-child":{margin:"inherit"}}},sm:{[`&.${n.column}`]:{"& > *":{marginBottom:"5px"}}},md:{[`&.${n.column}`]:{"& > *":{marginBottom:"10px"}}},lg:{[`&.${n.column}`]:{"& > *":{marginBottom:"15px"}}}})),pB={local:"Local",remote:"Remote",dynamic:"Dynamic"},Rwe=new Map([["Local","Local Rule"],["Remote","Remote Rule"],["Dynamic","Dynamic Rule"]]),Pwe=Object.values(pB),Lwe={local:"Local forwarding lets you access a remote server's listening port as though it were local.",remote:"Remote forwarding opens a port on the remote machine and forwards connections to the local (current) host.",dynamic:"Dynamic port forwarding turns Termius into a SOCKS proxy server. SOCKS proxy server is a protocol to request any connection via a remote host."};function Mwe(t){const{className:e,type:n,onChangeRuleType:o,onContinue:r,onSkip:i}=t;return L(Se.Fragment,{children:[L(Gu,{className:e,children:[u(Z,{bold:!0,children:"Select the port forwarding type:"}),u(ai,{items:Pwe,onClick:s=>o(Rwe.get(s)??"Local Rule"),selectedItem:pB[n]})]}),L(qu,{children:[u("div",{children:Lwe[n]}),u("div",{children:L(Ewe,{children:[u(Ue,{autoFocus:!0,size:"medium",fullWidth:!0,color:"accent",onClick:r,children:"Continue"}),u(Ue,{size:"medium",fullWidth:!0,onClick:i,children:"Skip wizard"})]})})]})]})}function Owe(t){const{remotePort:e,onChangeRemotePort:n,onChangeBoundAddress:o,boundAddress:r}=t;return L(Se.Fragment,{children:[u(Gu,{children:u(Z,{bold:!0,children:"Set the port and binding address:"})}),L(qu,{children:[u("div",{children:"We will forward traffic from specified port and interface address of the selected host."}),u(sn,{label:"Remote port number",value:e||"",autoFocus:!0,onChange:n,outlined:!0,disableWrapper:!0,fullWidth:!0,required:!0}),u(sn,{label:"Bind address",placeholder:"0.0.0.0",value:r||"",onChange:o,outlined:!0,disableWrapper:!0,fullWidth:!0}),u(Ue,{disabled:!e,size:"medium",fullWidth:!0,color:"accent",type:"submit",children:"Continue"})]})]})}function Dwe(t){const{label:e,onChange:n}=t;return L(Se.Fragment,{children:[u(Gu,{children:u(Z,{bold:!0,children:"Select the label:"})}),L(qu,{children:[u(sn,{label:"Label",value:e||"",autoFocus:!0,onChange:n,outlined:!0,disableWrapper:!0,fullWidth:!0}),u(Ue,{size:"medium",fullWidth:!0,color:"accent",type:"submit",children:"Done"})]})]})}function Fwe(t){const{onChangeHost:e,onContinue:n,type:o}=t,r=de(),[i,s]=f.useState(!1),[a,l]=f.useState(!1),c=V(ng),d=h=>{e(h),n()},p=f.useCallback(()=>{r(GR({entity:"Host"})),c?s(!0):l(!0)},[r,c]);return L(Se.Fragment,{children:[u(Gu,{children:L(Z,{bold:!0,children:["Select the ",o==="remote"?"remote":"intermediate"," host:"]})}),L(qu,{children:[L("div",{children:[o==="local"&&"This device is used as an intermediate host to access the remote host. ",o==="remote"&&"Select a host where the port will be open. The traffic from this port will be forwarded to the destination host. ",o==="dynamic"&&"The intermediate host will receive the traffic that will be forwarded to the local (current) host. "]}),u(Ue,{autoFocus:!0,size:"medium",color:"accent",fullWidth:!0,onClick:p,children:"Select a host"})]}),u(Go,{open:i,children:u(ig,{onClose:()=>s(!1),onClick:d})}),u(Go,{open:a,children:u(G2,{onHostCreated:d,onClose:()=>l(!1)})})]})}const Nwe={local:["pf_type","local_port","service_host","destination","label"],remote:["pf_type","service_host","remote_port","destination","label"],dynamic:["pf_type","local_port","service_host","label"]},Hwe=({onCompleted:t,rule:e})=>{const[n,o]=f.useState("pf_type"),r=Nwe[e.pfRuleType];return{reset:()=>{o("pf_type")},currentStep:n,onContinue:async()=>{if(n===r[r.length-1]){t();return}o(l=>r[r.indexOf(l)+1])},onBack:()=>{n!==r[0]&&o(l=>r[r.indexOf(l)-1])},canChangeVault:n==="pf_type"||n==="local_port"||n==="service_host"}};function Bwe(t){const{onClose:e,className:n,onCompleted:o,onSkip:r,savePortForwardingRule:i,onChangeRuleType:s,editableEntity:a,onChangeLocalPort:l,onChangeRemoteAddress:c,onChangeRemotePort:d,onChangeHostFrom:p,onChangeBoundAddress:h,updateForm:m,resetForm:g,onLabelChange:C}=t,{classes:v}=Vwe(),S=de(),b=f.useContext(yK)==="closed",x=Hwe({onCompleted:async()=>{const k=await i(new ra(a));o(new ra(k))},rule:a}),_=k=>{s(k),m({label:k})},I=()=>{r(new $u(a)),g(),x.reset()};f.useEffect(()=>{x.currentStep!=="pf_type"&&S(SK({createPortForwardingWizardStep:bK(x.currentStep),portForwardingType:wK(a.pfRuleType)}))},[x.currentStep]),f.useEffect(()=>{b&&x.reset()},[b]);const T=x.currentStep==="pf_type",A=()=>{x.onContinue()};return b?null:L(Nn,{onEsc:e,className:n,onSubmit:A,children:[u(fn,{left:u(mn,{title:zwe(T,a.pfRuleType),children:u(ki,{...t,disabled:!x.canChangeVault,entry:a})}),right:u(Fo,{onClick:e})}),u(So,{children:L(Lt,{className:v.stepLayout,children:[!T&&u(wwe,{onClick:x.onBack}),u(uB,{className:ce(v.wizardPreview,{[v.additionalMargin]:!T}),step:x.currentStep,type:a==null?void 0:a.pfRuleType}),x.currentStep==="pf_type"&&u(Mwe,{className:v.withoutMargin,type:a.pfRuleType,onChangeRuleType:_,onContinue:x.onContinue,onSkip:I}),x.currentStep==="local_port"&&u(Iwe,{localPort:a.local_port,onChangeLocalPort:l,boundAddress:a.bound_address,onChangeBoundAddress:h,type:a.pfRuleType}),x.currentStep==="remote_port"&&u(Owe,{remotePort:a.local_port,onChangeRemotePort:l,boundAddress:a.bound_address,onChangeBoundAddress:h}),x.currentStep==="service_host"&&u(Fwe,{onContinue:x.onContinue,onChangeHost:p,type:a.pfRuleType}),x.currentStep==="destination"&&u(Twe,{port:a.remote_port,address:a.hostname,onChangePort:d,onChangeAddress:c,type:a.pfRuleType}),x.currentStep==="label"&&u(Dwe,{label:a.label,onChange:C})]})})]})}function zwe(t,e){if(t)return"New Port Forwarding";switch(e){case"remote":return"Remote Port Forwarding";case"dynamic":return"Dynamic Port Forwarding";default:return"Local Port Forwarding"}}const Vwe=K()({stepLayout:{display:"flex",flexDirection:"column",alignItems:"flex-start",color:"var(--dark-grey-1)",".termius-dark-theme &":{color:"white"},"& > *":{marginTop:"20px"}},withoutMargin:{marginTop:0},additionalMargin:{marginTop:"30px"},wizardPreview:{alignSelf:"center",width:"250px"}});function Wwe(t){const{onClosed:e,updateSliderAnimationProgress:n,resetSlider:o,isOpened:r,portForwardingForm:i,onClose:s,formType:a,onEditRule:l,wizardForm:c,sliderOptions:d,onOpenWizard:p,menuItems:h,ruleStatus:m,toggleConnect:g}=t,C=de(),v=y=>{l(y,{isAddingNewRule:!0},!0),C(jb({portForwardingFormType:"Form"})),C(Ub(!1))},S=y=>{p(y),C(jb({portForwardingFormType:"Wizard"})),C(Ub(!0))};return L(V2,{isOpened:r,onOpenAnimationStarted:()=>n(!0),onOpenAnimationEnd:()=>n(!1),onCloseAnimationStarted:()=>n(!0),onCloseAnimationEnd:()=>{n(!1),o(),e==null||e()},children:[a==="portForwarding"&&u(Si,{value:i.editableEntity,children:u(bwe,{onClose:s,isOpened:r,isAddingNewRule:d==null?void 0:d.isAddingNewRule,onSwitchToWizard:S,menuItems:h,ruleStatus:m,toggleConnect:g,...i})}),a==="wizard"&&u(Si,{value:c.editableEntity,children:u(Bwe,{onSkip:v,onCompleted:l,onClose:s,...c})})]})}const hB=({rule:t,onUpdate:e})=>{const n=tt(),o=de(),r=V(S=>Ur(S,t)),i=f.useCallback(async S=>{const y=await We(n,KR,new ra(S));return S.id||o(ZR()),y},[o,n]),s=f.useCallback(S=>{e({label:S.target.value})},[e]),a=f.useCallback(S=>{const{value:y}=S.target;if(!(y!=null&&y.trim())){e({remote_port:void 0});return}X6(y)&&e({remote_port:Number.parseInt(y,10)})},[e]),l=f.useCallback(()=>{e({host:void 0})},[e]),c=f.useCallback(S=>{e({host:S})},[e]),d=f.useCallback(S=>{const{value:y}=S.target;if(!(y!=null&&y.trim())){e({local_port:void 0});return}X6(y)&&e({local_port:Number.parseInt(y,10)})},[e]),p=f.useCallback(S=>{e({hostname:S.target.value})},[e]),h=f.useCallback(S=>{e({hostname:S.address})},[e]),m=f.useCallback(S=>{e({bound_address:S.target.value})},[e]),g=f.useCallback(S=>{S.toLowerCase().includes("dynamic")&&e({hostname:"127.0.0.1",remote_port:0}),e({pf_type:S})},[e]),C=f.useCallback(S=>{e({...ct(S),host:void 0})},[e]);return{editableEntity:t,shouldDisableFormFields:!r,isValid:t.isValid,savePortForwardingRule:i,updateForm:e,resetForm:He,onLabelChange:s,onChangeRemotePort:a,onChangeHostFrom:c,onRemoveHostFrom:l,onChangeLocalPort:d,onChangeRemoteAddress:p,onSelectRemoteHost:h,onChangeBoundAddress:m,onChangeRuleType:g,onChangeVault:C}},jwe=({rule:t})=>{const e=tt(),n=de(),o=f.useCallback(k=>k.isValid,[]),r=f.useCallback(k=>{n(ZR())},[n]),i=f.useCallback(k=>We(e,KR,new ra(k)),[e]),{editableEntity:s,originalEntity:a,isValid:l,isDirty:c,resetForm:d,updateForm:p,saveFormInstantly:h,savingStatus:m,register:g,focusRequiredFields:C}=o0({entity:t,entitiesSelector:QR,EntityClass:$u,getIsValidForSaving:o,saveEntity:i,defaultClassInit:{pf_type:"Local Rule"},onNewEntityCreated:r}),{onLabelChange:v,onChangeRemotePort:S,onChangeHostFrom:y,onRemoveHostFrom:b,onChangeLocalPort:w,onChangeRemoteAddress:x,onChangeBoundAddress:_,onChangeRuleType:I,onChangeVault:T,shouldDisableFormFields:A}=hB({rule:a,onUpdate:p});return{editableEntity:s,originalEntity:a,shouldDisableFormFields:A,isValid:l,isDirty:c,resetForm:d,saveForm:h,savingStatus:m,updateForm:p,onLabelChange:v,onChangeRemotePort:S,onChangeHostFrom:y,onRemoveHostFrom:b,onChangeLocalPort:w,onChangeRemoteAddress:x,onChangeBoundAddress:_,onChangeRuleType:I,onChangeVault:T,register:g,focusRequiredFields:C}},PA=new $u({pf_type:"Local Rule",host:new _t,local_port:0,remote_port:0,label:"Local Rule"}),Uwe=()=>{const[t,e]=f.useState(null),n=jwe({rule:t}),o=f.useCallback(c=>e(d=>(d??PA).clone(c)),[]),r=hB({rule:t??PA,onUpdate:o}),i=kF({forms:[{form:n,type:"portForwarding"},{form:r,type:"wizard"}],editableEntity:t,setEditableEntity:e}),s=i.shouldShowNewEntityPreview({type:"portForwarding"}),a=i.shouldShowNewEntityPreview({type:"wizard"}),l=f.useMemo(()=>s||a?new Rm({presenter:Ng,entity:new $u(a?r.editableEntity:n.editableEntity)}):null,[n.editableEntity,s,a,r.editableEntity]);return{...i,editableEntity:t,formData:n,wizardForm:r,editablePortForwardingRulePreview:l}},LA={contextMenuProperties:{open:!1},filters:dc(),ruleQueue:new V0([])},$we={type:"PortForwarding",connectionOrigin:"Port Forwarding Screen"};class fB extends Se.Component{constructor(){super(...arguments);E(this,"state",pa(LA));E(this,"task");E(this,"taskToDisconnectDeletedHosts");E(this,"connectedPortForwardings",new Map);E(this,"layoutRef",Se.createRef());E(this,"clearLocalState",()=>{this.setState(pa(LA)),this.setState({ruleQueue:new V0([])})});E(this,"isActive",n=>this.ruleStatus(n)!=="disconnected");E(this,"ruleStatus",n=>this.connectedPortForwardings.has(n.local_id||0)?"connected":this.state.ruleQueue.isActive(n)?"connecting":this.state.ruleQueue.has(n)?"in-queue":"disconnected");E(this,"disconnect",n=>{this.closeMenu(),this.removeRuleFromQueue(n);const o=this.connectedPortForwardings.get(n.local_id||0);o&&(o.close(),this.connectedPortForwardings.delete(n.local_id||0),this.forceUpdate())});E(this,"addRuleToQueue",n=>{this.setState(({ruleQueue:o})=>({ruleQueue:o.add(n)}))});E(this,"removeRuleFromQueue",n=>{this.setState(({ruleQueue:o})=>({ruleQueue:o.remove(n)}))});E(this,"saveConnectionTime",n=>{if(!n.local_id)return;const o={id:n.id,local_id:n.local_id};We(this.context,AK,o)});E(this,"toggleConnect",n=>{if(n instanceof ra){if(this.state.ruleQueue.has(n)){this.removeRuleFromQueue(n);return}if(this.isActive(n)){this.disconnect(n);return}this.addRuleToQueue(n)}});E(this,"handleCancelConnection",this.removeRuleFromQueue);E(this,"openMenu",(n,o)=>{const r=Ie.v4();this.setState({contextMenuProperties:{open:!0,...n,items:o.filter(i=>i instanceof ra),wizardID:r}}),this.props.dispatch(Su({onScreen:"Port Forwarding",openedVia:"Right Click",wizardID:r}))});E(this,"closeMenu",()=>{this.setState({contextMenuProperties:{open:!1}})});E(this,"editRule",n=>{this.closeMenu(),this.props.onOpenSlider({entity:n,formType:"portForwarding"}),this.props.dispatch(ko({entity:"PortForwardingRule",editButtonOrigin:"Context Menu",entityID:n.local_id??-1}))});E(this,"removeRules",async n=>{this.closeMenu();const o=s3([{count:n.length,singular:"rule",plural:"rules"}]);try{await bs({title:"Remove Port Forwarding rule",text:`Are you sure you want to delete ${o}?`,confirmButtonTitle:"Remove",buttonColor:"error"})}catch(r){Po.swallow(r);return}await this.props.onCloseSlider(),await We(this.context,TK,n);for(const r of n)this.isActive(r)&&this.disconnect(r)});E(this,"addRule",(n,o)=>{this.props.onOpenSlider({entity:new $u({...ct(this.props.defaultVault),pf_type:n,host:new _t,local_port:0,remote_port:0,...o==="wizard"?{label:n}:{}}),options:{isAddingNewRule:!0},formType:o})});E(this,"onFiltersChanged",n=>{this.setState({filters:{...this.state.filters,...n}})});E(this,"injector",n=>{const o=this.ruleStatus(n);return{displaySpinner:o==="connecting"||o==="in-queue"}});E(this,"onCopyToVault",async(n,o,r)=>{await We(this.context,fi,{wizardID:r,entities:n,targetState:ct(o),operation:"Copy",cancelable:!0,source:"ContextMenu"})});E(this,"onMoveToVault",async(n,o,r)=>{await We(this.context,fi,{wizardID:r,entities:n,targetState:ct(o),cancelable:!0,operation:"Move",source:"ContextMenu"})});E(this,"onDuplicate",async n=>{this.closeMenu();const o=this.props.portForwardingRules.filter(r=>n.some(i=>i.local_id===r.local_id));this.props.dispatch(_K.request(o)),this.props.dispatch(he("duplicateButtonPressed",{entity:"PortForwardingRule",onScreen:"Port Forwarding"}))});E(this,"onSharePortForwardingsViaPromo",n=>{this.closeMenu();const o=Ie.v4(),r=n.length===1?"single":"multi";this.sendSharingFlowAnalytics({sharingType:r,funnelID:o}),Pt(this.context,{dialog:"ShareAndInvite",target:ge(),options:{closeOnBackdropClick:!1},props:{entitiesToShare:{portForwardings:n},entryPointForAnalytics:r==="single"?"Context Port Forwarding":"Context Multiselect Port Forwarding",teamTrialFunnelID:o}}).catch(He)});E(this,"sendSharingFlowAnalytics",({sharingType:n,funnelID:o})=>{const{dispatch:r}=this.props,i=n==="multi";r(xu({sharingButtonLocation:i?"Port Forwarding Multi-Select Context Menu":"Port Forwarding Context Menu",sharedEntity:i?"Port Forwarding Multi-Select":"Port Forwarding"})),r(he("createTeamWizardViewOpened",{createTeamWizardStep:"Description",openedFrom:i?"Context Multiselect Port Forwarding":"Context Port Forwarding",teamTrialFunnelID:o,trial:"yes"})),r(he("teamTrialFunnelStarted",{openedFrom:i?"Context Multiselect Port Forwarding":"Context Port Forwarding",teamTrialFunnelID:o,teamTrialPlan:"Team"}))});E(this,"formMenuItems",(n,o)=>[{visible:n.status!=="connected",name:"Connect",handler:()=>this.toggleConnect(n),icon:u(kr,{}),disabled:o},{visible:n.status==="connected",name:"Disconnect",handler:()=>this.disconnect(n),icon:u(Cx,{}),disabled:o},{visible:dt(n,this.props.editableVaults),name:"Duplicate",handler:()=>this.onDuplicate([n]),icon:u(Ud,{}),disabled:o},{name:"Remove",handler:()=>this.removeRules([n]),icon:u($n,{}),visible:Ln(n,this.props.editableVaults),disabled:o}]);E(this,"handleEnter",n=>{n.length===1&&this.toggleConnect(n[0])});E(this,"handleSelect",()=>{});E(this,"handleSliderClosed",()=>{setTimeout(()=>{var n;(n=this.layoutRef.current)==null||n.focus()},250)});E(this,"handleEdit",(n,o,r)=>{n instanceof ra&&(this.props.onOpenSlider({entity:n,formType:"portForwarding",withoutDiscardConfirmation:r,options:o}),this.props.dispatch(ko({entity:"PortForwardingRule",editButtonOrigin:"Entity Cell",entityID:n.local_id??-1})))});E(this,"tryEditFromKeyboard",n=>{if(!("items"in this.state.contextMenuProperties))return;const{open:o,items:r}=this.state.contextMenuProperties;!o||r.length!==1||n.key.toLowerCase()==="e"&&(this.setState({contextMenuProperties:{open:!1}}),this.handleEdit(r[0]))});E(this,"handleOpenWizard",n=>{this.props.onOpenSlider({entity:n,formType:"wizard",withoutDiscardConfirmation:!0})});E(this,"onNewForwardingToolbarButton",()=>{this.onCreateNewRule({type:"Local Rule",location:"PortForwardingToolbar"})});E(this,"onNewForwardingChevronToolbarButton",()=>{this.props.dispatch(tC({onScreen:"Port Forwarding",associatedWith:"New Port Forwarding Rule"}))});E(this,"onLocalForwardingMenuItem",()=>{this.onCreateNewRule({type:"Local Rule",location:"PortForwardingChevron",skipWizard:!0})});E(this,"onRemoteForwardingMenuItem",()=>{this.onCreateNewRule({type:"Remote Rule",location:"PortForwardingChevron",skipWizard:!0})});E(this,"onDynamicForwardingMenuItem",()=>{this.onCreateNewRule({type:"Dynamic Rule",location:"PortForwardingChevron",skipWizard:!0})});E(this,"onCreateNewRule",({type:n,location:o,skipWizard:r=!1})=>{const i=this.props.isPortForwardingWizardEnabled&&!r;this.props.dispatch(xK({portForwardingFormType:i?"Wizard":"Form",newPortForwardingLocation:o,portForwardingType:this.convertTypeForAnalytics[n]})),this.addRule(n,i?"wizard":"portForwarding")});E(this,"convertTypeForAnalytics",{"Local Rule":"Local","Remote Rule":"Remote","Dynamic Rule":"Dynamic"});E(this,"entitiesListsData",YR((n,o)=>new ag([{listName:"Port Forwarding",entities:[...n?[n]:[],...o],presenter:Ng,injector:this.injector}])));E(this,"mapConnectionToPF",(n,o)=>{const r=()=>{this.connectedPortForwardings.delete(o.local_id||0),this.forceUpdate()},i=Qwe(o);return Ce(i!=null,"Invalid Port forwarding type"),new Promise(s=>{y1.portForwarding(n,{type:i,port:o.local_port,host:o.hostname,hostPort:o.remote_port,bindAddress:o.bound_address},{onStarted:s,onStopped:r})})});E(this,"onConnected",(n,o,r)=>{this.removeRuleFromQueue(r),this.connectedPortForwardings.set(r.local_id||0,n),this.saveConnectionTime(r),this.forceUpdate()})}componentDidMount(){this.task=this.context.run(this.watchLogout,this),this.taskToDisconnectDeletedHosts=this.context.run(this.watchDeleteHostAndGroups,this),document.addEventListener("keydown",this.tryEditFromKeyboard)}componentWillUnmount(){var n,o;(n=this.task)==null||n.cancel(),(o=this.taskToDisconnectDeletedHosts)==null||o.cancel(),document.removeEventListener("keydown",this.tryEditFromKeyboard)}*watchLogout(n){yield*fe(Li.request,()=>{n.clearLocalState(),n.props.resetSlider()})}*watchDeleteHostAndGroups(n){yield*fe(z2.request,({payload:{hosts:o}})=>{n.props.portForwardingRules.filter(r=>o.find(i=>i.id===r.getHost().id)).forEach(r=>{n.disconnect(r)})})}getContextMenuItemsForSharing(){return this.state.contextMenuProperties.open?this.state.contextMenuProperties.items.filter(n=>dt(n,this.props.editableVaults)):[]}menuItems(){const n=this.state.contextMenuProperties;if(!n.open)return[];const{items:o,wizardID:r}=n,i=o.length===1?o[0]:void 0;return[{visible:i!=null&&i.status==="connected",name:"Disconnect",handler:()=>i!=null&&this.disconnect(i),icon:u(Cx,{}),endAdornment:u(ho,{children:u(Om,{})})},{visible:i!=null&&i.status!=="connected",name:"Connect",handler:()=>i!=null&&this.toggleConnect(i),icon:u(kr,{}),endAdornment:u(ho,{children:u(Om,{})})},{visible:i!=null,name:Dd(i,this.props.editableVaults),handler:()=>i!=null&&this.editRule(i),icon:u(Cl,{}),endAdornment:u(ho,{children:"E"})},{visible:!this.props.isTeam,name:"Collaborate",handler:()=>this.onSharePortForwardingsViaPromo(o),icon:u(Pr,{})},...yl({teamRole:this.props.teamRole,entities:this.getContextMenuItemsForSharing(),vaults:this.props.editableVaults,vaultsMembers:this.props.vaultsMembers,onCopy:this.onCopyToVault,onMove:this.onMoveToVault,onCloseMenu:this.closeMenu,dispatch:this.props.dispatch,shouldPromoteUpgrade:this.props.isStarterPlan,isAuthorized:this.props.isAuthorized,newVaultButtonType:this.props.newVaultButtonType,...os(this.context,this.props.dispatch,i!=null?"Context Port Forwarding":"Context Multiselect Port Forwarding"),wizardID:r}),{visible:dt(o,this.props.editableVaults),name:"Duplicate",handler:()=>this.onDuplicate(o),icon:u(Ud,{})},{visible:Ln(o,this.props.editableVaults),name:"Remove",handler:()=>this.removeRules(o),icon:u($n,{htmlColor:"var(--red-dark)"})}]}render(){const{portForwardingRules:n,sorting:o,classes:r,layout:i,onScreen:s,isSliderAnimationInProgress:a,onCloseSlider:l,formData:c,filterEntitiesWithPreview:d,editablePortForwardingRulePreview:p,entitiesLayoutRef:h,showVaultsEmptyScreen:m}=this.props,{contextMenuProperties:g}=this.state,C=fa(this.state.filters,o),v=()=>{const b=IK(n,C),w=d(b,"portForwarding").map(_=>_.clone({status:this.ruleStatus(_)})),x=this.entitiesListsData(p,w);return x.lengthOfEntities?u(lg,{ref:_3(this.layoutRef,h),layout:i,entitiesLists:x,onMenu:this.openMenu,onEnter:this.handleEnter,onDoubleClick:this.toggleConnect,onSelect:this.handleSelect,onClickAway:l,onEdit:this.handleEdit,forcedSelectedItem:c.editableEntity,layoutSourceProps:{onScreen:s,disableLayoutResize:a,disableLayoutAutoFocus:this.props.isSliderOpened,editingOnClickMode:this.props.isSliderOpened},currentScreenForAnalytics:"Port Forwarding"}):u(Au,{offsetTop:95})},S=n.length===0&&!p,y=()=>[{name:"Local Forwarding",handler:this.onLocalForwardingMenuItem,icon:u(Ube,{})},{name:"Remote Forwarding",handler:this.onRemoteForwardingMenuItem,icon:u(Gbe,{})},{name:"Dynamic Forwarding",handler:this.onDynamicForwardingMenuItem,icon:u(Vbe,{})}];return m?u(Ic,{}):L(H2,{fullHeight:!0,children:[L(Fg,{id:"portForwardingId",children:[u(A3,{tab:"portForwarding",filters:C,largeHeight:!0,isLighten:!0,onFiltersChanged:this.onFiltersChanged,children:L(x3,{onClick:this.onNewForwardingToolbarButton,onMenuOpen:this.onNewForwardingChevronToolbarButton,menuItems:y,children:[u(qR,{className:r.pfRuleIcon}),"New Forwarding"]})}),u(L9.Provider,{value:$we,children:u(Qbe,{queue:this.state.ruleQueue,mapConnectionToPF:this.mapConnectionToPF,onPFSucceeded:this.onConnected,onCancel:this.handleCancelConnection})}),S?u(Gd,{onClick:l,children:u(Kbe,{})}):u(Gd,{children:v()}),u(Xh,{...g,menuItems:this.menuItems(),onClose:this.closeMenu})]}),u(Jh,{value:"portForwarding",children:u(Wwe,{isOpened:this.props.isSliderOpened,portForwardingForm:this.props.formData,onClosed:this.handleSliderClosed,resetSlider:this.props.resetSlider,updateSliderAnimationProgress:this.props.updateSliderAnimationProgress,sliderOptions:this.props.sliderOptions,onEditRule:this.handleEdit,onOpenWizard:this.handleOpenWizard,formType:this.props.formType,onClose:this.props.onCloseSlider,wizardForm:this.props.wizardForm,menuItems:this.formMenuItems,ruleStatus:this.ruleStatus,toggleConnect:this.toggleConnect})})]})}}E(fB,"contextType",uc);const qwe=t=>({defaultVault:xs(t),portForwardingRules:QR(t),allHosts:cc(t),isPro:zt(t),userType:Q2(t),sorting:t.sorting.portForwarding,isTeam:lo(t),isTeamOwner:Z2(t),userHasSomeHosts:ng(t),sshKnownHosts:_s(t),layout:Yh(t,"portForwarding"),isPortForwardingWizardEnabled:EK(t),editableVaults:co(t),vaultsMembers:gu(t),newVaultButtonType:fu(t),showVaultsEmptyScreen:ac(t),isStarterPlan:Ra(t),isAuthorized:Na(t),teamRole:mu(t)}),Gwe={pfRuleIcon:{width:12,height:12}},Kwe=kc(Uwe)(fB),Zwe=Je(_o(qwe)(Kwe),Gwe,{name:"ConnectedPortForwardings"});function Qwe(t){const e=t.pf_type==="Local Rule",n=t.pf_type==="Remote Rule",o=t.pf_type==="Dynamic Rule";if(e)return"local";if(n)return"remote";if(o)return"dynamic"}var rS={},Ywe=Cr;Object.defineProperty(rS,"__esModule",{value:!0});var _7=rS.default=void 0,Xwe=Ywe(vr()),Jwe=yr,e_e=(0,Xwe.default)((0,Jwe.jsx)("path",{d:"M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"}),"FilterNone");_7=rS.default=e_e;function t_e(){const{classes:t}=n_e();return u(hn,{offsetTop:45,className:t.wrapper,children:u(wo,{title:"Add snippets to this package",text:"Organize your snippets by grouping related commands into packages to make them easier to find and manage.",classNameRoot:t.card,icon:u(Oi,{height:"25px",width:"25px"})})})}const n_e=K()({wrapper:{backgroundColor:"var(--entity-grid-background)"},card:{maxWidth:"440px"}});function o_e(){const{classes:t}=r_e();return u(hn,{offsetTop:95,className:t.wrapper,children:u(wo,{title:"Create snippet",text:"Save your most used commands as snippets to reuse them in one click.",icon:u(Oi,{height:"25px",width:"25px"})})})}const r_e=K()({wrapper:{backgroundColor:"var(--entity-grid-background)"}}),i_e={layout:"Layout",workspace_label:"Name",terminals:"Connections",order:"Ordering"},s_e=t=>t.map(e=>i_e[e]),T3=()=>{const t=de(),e=(s,a)=>{const l=s.workspaceTerminals;if(!mC(l)){s.local_id!=null&&o(s.local_id);return}t(JR.request({workspaceTemplate:s.clone({workspaceTerminals:l}),tabId:a}))},n=(s,a)=>{e(s,a),t(he("workspaceTemplateCreated",{workspaceCreatedFrom:a?"Workspace Tab":"New Tab Screen",connections:s.workspaceTerminals.length}))},o=s=>{t(XR.request(s))};return{createNewWorkspaceTemplate:n,renameWorkspaceTemplate:(s,a)=>{a!==s.label&&(e(s.clone({label:a})),!s.label||t(he("workspaceTemplateUpdated",{workspaceChanges:["Name"]})))},deleteWorkspaceTemplate:o,saveWorkspaceTemplateChanges:s=>{const{updatedTemplate:a,changeTypes:l}=s;e(a),t(he("workspaceTemplateUpdated",{workspaceChanges:s_e(l)}))}}},a_e=(t,e)=>{const n=(r,i)=>{r.forEach(s=>{const a=t.find(l=>l.local_id===s);a&&e(a,{targetTabPosition:i})})},o=lt(kK);return{openWorkspaces:r=>n(r,o)}},x7=({text:t,onClick:e})=>{const{classes:n}=l_e();return L("li",{role:"presentation",onClick:e,className:n.item,children:[u("div",{className:n.svgWrapper,children:u(dn,{className:n.arrowIcon})}),u("div",{className:n.pathName,children:t})]})};x7.defaultProps={onClick:()=>{}};const l_e=K()((t,e,n)=>({item:{paddingRight:10,display:"flex",flexDirection:"row",alignItems:"center",color:"var(--input-border-focused)",fill:"var(--input-border-focused)","&:first-of-type":{minWidth:"fit-content",[`& .${n.arrowIcon}`]:{display:"none"}},"&:last-child":{color:"var(--host-title-color)",fill:"var(--host-title-color)"},overflow:"hidden"},svgWrapper:{display:"flex"},pathName:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},arrowIcon:{width:10,height:16,paddingBottom:10,transform:"rotate(-90deg)"}})),MA="All snippets",r6=({onClickAllSnippets:t,snippetsPackage:e,...n})=>{const{classes:o}=c_e();return u(Ee,{...n,p:"15px 30px",zIndex:2,children:L("ul",{className:o.list,children:[u(x7,{text:MA,onClick:()=>t()},MA),u(x7,{text:e.label},e.local_id??-1)]})})},c_e=K()({list:{display:"flex",flexDirection:"row",lineHeight:"20px",flexWrap:"nowrap"}}),mB=t=>{const{onBack:e,title:n}=t,{classes:o}=d_e(),r=wR();return u(fn,{left:L(Et,{margin:"md",children:[u(O2,{className:o.arrowHack,onClick:e}),u(mn,{title:n,children:u(og,{input:r,variant:"small"})})]})})},d_e=K()({arrowHack:{"--buttonColor":"var(--main)","--substrateColor":"var(--buttonColor)","--substrateOpacity":.15}});function gB({children:t,onClick:e,disabled:n=!1}){const{classes:o,cx:r}=u_e();return u("div",{className:o.toolbarButtonWithMenu,children:u(Ue,{onClick:e,className:r([o.mainButton,{[o.background]:!n}]),disabled:n,children:t})})}const u_e=K()({toolbarButtonWithMenu:{display:"flex",borderRadius:6,overflow:"hidden",width:"100%"},mainButton:{flex:1,height:"36px",borderRadius:0,paddingRight:"10px",paddingLeft:"10px",gap:"5px",fontSize:"14px",lineHeight:"36px",display:"flex",alignItems:"center",fontWeight:700,whiteSpace:"nowrap"},background:{"--toolbar-button-bg":"var(--accent)","--toolbar-button-hover":"var(--accent-light)",backgroundColor:"var(--toolbar-button-bg)","&:hover":{backgroundColor:"var(--toolbar-button-hover)"}}}),iS=t=>{const{children:e}=t,{classes:n}=p_e();return u("div",{className:n.footer,children:e})},p_e=K()({footer:{zIndex:1,padding:"15px 20px 20px 20px",backgroundColor:"var(--foreground)",borderTop:"1px solid var(--light-grey-6)",".termius-dark-theme &":{borderTop:"1px solid var(--dark-grey-1)"}}}),h_e=t=>{const{saveTargetHosts:e,isHidden:n}=t;return n?null:u(iS,{children:u(Ue,{fullWidth:!0,color:"blue",onClick:e,children:u(Ze,{right:10,children:"Save"})})})},f_e=t=>{const{targetsLength:e,saveToggle:n,onSaveToggle:o,isSaveToggleDisabled:r,runInWorkspace:i}=t;return L(iS,{children:[!r&&u(Ree,{checked:n,onChange:o,label:"Save targets",topMargin:0,bottomMargin:15,fontSize:14,disabled:r}),u(gB,{disabled:e===0||e>100,onClick:i,children:"Run"})]})};var m_e=Pa();const vn=wt(m_e);var g_e=lc();const En=wt(g_e);var v_e=vu();const nr=wt(v_e);var C_e=Cu();const or=wt(C_e);var y_e=Hh();const pe=wt(y_e);var S_e=yu();const rr=wt(S_e);var b_e=La();const te=wt(b_e);var w_e=R1();const di=wt(w_e);function OA(t){var e=t.cellCount,n=t.cellSize,o=t.computeMetadataCallback,r=t.computeMetadataCallbackProps,i=t.nextCellsCount,s=t.nextCellSize,a=t.nextScrollToIndex,l=t.scrollToIndex,c=t.updateScrollOffsetForScrollToIndex;(e!==i||(typeof n=="number"||typeof s=="number")&&n!==s)&&(o(r),l>=0&&l===a&&c())}var __e=fF();const Tp=wt(__e);var x_e=function(){function t(e){var n=e.cellCount,o=e.cellSizeGetter,r=e.estimatedCellSize;vn(this,t),te(this,"_cellSizeAndPositionData",{}),te(this,"_lastMeasuredIndex",-1),te(this,"_lastBatchedIndex",-1),te(this,"_cellCount",void 0),te(this,"_cellSizeGetter",void 0),te(this,"_estimatedCellSize",void 0),this._cellSizeGetter=o,this._cellCount=n,this._estimatedCellSize=r}return En(t,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(n){var o=n.cellCount,r=n.estimatedCellSize,i=n.cellSizeGetter;this._cellCount=o,this._estimatedCellSize=r,this._cellSizeGetter=i}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(n){if(n<0||n>=this._cellCount)throw Error("Requested index ".concat(n," is outside of range 0..").concat(this._cellCount));if(n>this._lastMeasuredIndex)for(var o=this.getSizeAndPositionOfLastMeasuredCell(),r=o.offset+o.size,i=this._lastMeasuredIndex+1;i<=n;i++){var s=this._cellSizeGetter({index:i});if(s===void 0||isNaN(s))throw Error("Invalid size returned for cell ".concat(i," of value ").concat(s));s===null?(this._cellSizeAndPositionData[i]={offset:r,size:0},this._lastBatchedIndex=n):(this._cellSizeAndPositionData[i]={offset:r,size:s},r+=s,this._lastMeasuredIndex=n)}return this._cellSizeAndPositionData[n]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var n=this.getSizeAndPositionOfLastMeasuredCell(),o=n.offset+n.size,r=this._cellCount-this._lastMeasuredIndex-1,i=r*this._estimatedCellSize;return o+i}},{key:"getUpdatedOffsetForIndex",value:function(n){var o=n.align,r=o===void 0?"auto":o,i=n.containerSize,s=n.currentOffset,a=n.targetIndex;if(i<=0)return 0;var l=this.getSizeAndPositionOfCell(a),c=l.offset,d=c-i+l.size,p;switch(r){case"start":p=c;break;case"end":p=d;break;case"center":p=c-(i-l.size)/2;break;default:p=Math.max(d,Math.min(c,s));break}var h=this.getTotalSize();return Math.max(0,Math.min(h-i,p))}},{key:"getVisibleCellRange",value:function(n){var o=n.containerSize,r=n.offset,i=this.getTotalSize();if(i===0)return{};var s=r+o,a=this._findNearestCell(r),l=this.getSizeAndPositionOfCell(a);r=l.offset+l.size;for(var c=a;r<s&&c<this._cellCount-1;)c++,r+=this.getSizeAndPositionOfCell(c).size;return{start:a,stop:c}}},{key:"resetCell",value:function(n){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,n-1)}},{key:"_binarySearch",value:function(n,o,r){for(;o<=n;){var i=o+Math.floor((n-o)/2),s=this.getSizeAndPositionOfCell(i).offset;if(s===r)return i;s<r?o=i+1:s>r&&(n=i-1)}return o>0?o-1:0}},{key:"_exponentialSearch",value:function(n,o){for(var r=1;n<this._cellCount&&this.getSizeAndPositionOfCell(n).offset<o;)n+=r,r*=2;return this._binarySearch(Math.min(n,this._cellCount-1),Math.floor(n/2),o)}},{key:"_findNearestCell",value:function(n){if(isNaN(n))throw Error("Invalid offset ".concat(n," specified"));n=Math.max(0,n);var o=this.getSizeAndPositionOfLastMeasuredCell(),r=Math.max(0,this._lastMeasuredIndex);return o.offset>=n?this._binarySearch(r,0,n):this._exponentialSearch(r,n)}}]),t}(),A_e=15e5,T_e=16777100,I_e=function(){return typeof window<"u"},E_e=function(){return!!window.chrome},k_e=function(){return I_e()&&E_e()?T_e:A_e},DA=function(){function t(e){var n=e.maxScrollSize,o=n===void 0?k_e():n,r=Tp(e,["maxScrollSize"]);vn(this,t),te(this,"_cellSizeAndPositionManager",void 0),te(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new x_e(r),this._maxScrollSize=o}return En(t,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(n){this._cellSizeAndPositionManager.configure(n)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(n){var o=n.containerSize,r=n.offset,i=this._cellSizeAndPositionManager.getTotalSize(),s=this.getTotalSize(),a=this._getOffsetPercentage({containerSize:o,offset:r,totalSize:s});return Math.round(a*(s-i))}},{key:"getSizeAndPositionOfCell",value:function(n){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(n)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(n){var o=n.align,r=o===void 0?"auto":o,i=n.containerSize,s=n.currentOffset,a=n.targetIndex;s=this._safeOffsetToOffset({containerSize:i,offset:s});var l=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:r,containerSize:i,currentOffset:s,targetIndex:a});return this._offsetToSafeOffset({containerSize:i,offset:l})}},{key:"getVisibleCellRange",value:function(n){var o=n.containerSize,r=n.offset;return r=this._safeOffsetToOffset({containerSize:o,offset:r}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:o,offset:r})}},{key:"resetCell",value:function(n){this._cellSizeAndPositionManager.resetCell(n)}},{key:"_getOffsetPercentage",value:function(n){var o=n.containerSize,r=n.offset,i=n.totalSize;return i<=o?0:r/(i-o)}},{key:"_offsetToSafeOffset",value:function(n){var o=n.containerSize,r=n.offset,i=this._cellSizeAndPositionManager.getTotalSize(),s=this.getTotalSize();if(i===s)return r;var a=this._getOffsetPercentage({containerSize:o,offset:r,totalSize:i});return Math.round(a*(s-o))}},{key:"_safeOffsetToOffset",value:function(n){var o=n.containerSize,r=n.offset,i=this._cellSizeAndPositionManager.getTotalSize(),s=this.getTotalSize();if(i===s)return r;var a=this._getOffsetPercentage({containerSize:o,offset:r,totalSize:s});return Math.round(a*(i-o))}}]),t}();function Qd(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e={};return function(n){var o=n.callback,r=n.indices,i=Object.keys(r),s=!t||i.every(function(l){var c=r[l];return Array.isArray(c)?c.length>0:c>=0}),a=i.length!==Object.keys(e).length||i.some(function(l){var c=e[l],d=r[l];return Array.isArray(d)?c.join(",")!==d.join(","):c!==d});e=r,s&&a&&o(r)}}var Ef=-1,$i=1;function R_e(t){var e=t.cellCount,n=t.overscanCellsCount,o=t.scrollDirection,r=t.startIndex,i=t.stopIndex;return o===$i?{overscanStartIndex:Math.max(0,r),overscanStopIndex:Math.min(e-1,i+n)}:{overscanStartIndex:Math.max(0,r-n),overscanStopIndex:Math.min(e-1,i)}}function FA(t){var e=t.cellSize,n=t.cellSizeAndPositionManager,o=t.previousCellsCount,r=t.previousCellSize,i=t.previousScrollToAlignment,s=t.previousScrollToIndex,a=t.previousSize,l=t.scrollOffset,c=t.scrollToAlignment,d=t.scrollToIndex,p=t.size,h=t.sizeJustIncreasedFromZero,m=t.updateScrollIndexCallback,g=n.getCellCount(),C=d>=0&&d<g,v=p!==a||h||!r||typeof e=="number"&&e!==r;C&&(v||c!==i||d!==s)?m(d):!C&&g>0&&(p<a||g<o)&&l>n.getTotalSize()-p&&m(g-1)}function P_e(t){for(var e=t.cellCache,n=t.cellRenderer,o=t.columnSizeAndPositionManager,r=t.columnStartIndex,i=t.columnStopIndex,s=t.deferredMeasurementCache,a=t.horizontalOffsetAdjustment,l=t.isScrolling,c=t.isScrollingOptOut,d=t.parent,p=t.rowSizeAndPositionManager,h=t.rowStartIndex,m=t.rowStopIndex,g=t.styleCache,C=t.verticalOffsetAdjustment,v=t.visibleColumnIndices,S=t.visibleRowIndices,y=[],b=o.areOffsetsAdjusted()||p.areOffsetsAdjusted(),w=!l&&!b,x=h;x<=m;x++)for(var _=p.getSizeAndPositionOfCell(x),I=r;I<=i;I++){var T=o.getSizeAndPositionOfCell(I),A=I>=v.start&&I<=v.stop&&x>=S.start&&x<=S.stop,k="".concat(x,"-").concat(I),R=void 0;w&&g[k]?R=g[k]:s&&!s.has(x,I)?R={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(R={height:_.size,left:T.offset+a,position:"absolute",top:_.offset+C,width:T.size},g[k]=R);var M={columnIndex:I,isScrolling:l,isVisible:A,key:k,parent:d,rowIndex:x,style:R},D=void 0;(c||l)&&!a&&!C?(e[k]||(e[k]=n(M)),D=e[k]):D=n(M),!(D==null||D===!1)&&y.push(D)}return y}var mo;typeof window<"u"?mo=window:typeof self<"u"?mo=self:mo={};var L_e=mo.requestAnimationFrame||mo.webkitRequestAnimationFrame||mo.mozRequestAnimationFrame||mo.oRequestAnimationFrame||mo.msRequestAnimationFrame||function(t){return mo.setTimeout(t,1e3/60)},M_e=mo.cancelAnimationFrame||mo.webkitCancelAnimationFrame||mo.mozCancelAnimationFrame||mo.oCancelAnimationFrame||mo.msCancelAnimationFrame||function(t){mo.clearTimeout(t)},NA=L_e,O_e=M_e,Yd=function(e){return O_e(e.id)},sS=function(e,n){var o;Promise.resolve().then(function(){o=Date.now()});var r=function s(){Date.now()-o>=n?e.call():i.id=NA(s)},i={id:NA(r)};return i},HA,BA;function zA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function il(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zA(n,!0).forEach(function(o){te(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zA(n).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var D_e=150,i6={OBSERVED:"observed",REQUESTED:"requested"},F_e=function(){return null},Xs=(BA=HA=function(t){rr(e,t);function e(n){var o;vn(this,e),o=nr(this,or(e).call(this,n)),te(pe(o),"_onGridRenderedMemoizer",Qd()),te(pe(o),"_onScrollMemoizer",Qd(!1)),te(pe(o),"_deferredInvalidateColumnIndex",null),te(pe(o),"_deferredInvalidateRowIndex",null),te(pe(o),"_recomputeScrollLeftFlag",!1),te(pe(o),"_recomputeScrollTopFlag",!1),te(pe(o),"_horizontalScrollBarSize",0),te(pe(o),"_verticalScrollBarSize",0),te(pe(o),"_scrollbarPresenceChanged",!1),te(pe(o),"_scrollingContainer",void 0),te(pe(o),"_childrenToDisplay",void 0),te(pe(o),"_columnStartIndex",void 0),te(pe(o),"_columnStopIndex",void 0),te(pe(o),"_rowStartIndex",void 0),te(pe(o),"_rowStopIndex",void 0),te(pe(o),"_renderedColumnStartIndex",0),te(pe(o),"_renderedColumnStopIndex",0),te(pe(o),"_renderedRowStartIndex",0),te(pe(o),"_renderedRowStopIndex",0),te(pe(o),"_initialScrollTop",void 0),te(pe(o),"_initialScrollLeft",void 0),te(pe(o),"_disablePointerEventsTimeoutId",void 0),te(pe(o),"_styleCache",{}),te(pe(o),"_cellCache",{}),te(pe(o),"_debounceScrollEndedCallback",function(){o._disablePointerEventsTimeoutId=null,o.setState({isScrolling:!1,needToResetStyleCache:!1})}),te(pe(o),"_invokeOnGridRenderedHelper",function(){var s=o.props.onSectionRendered;o._onGridRenderedMemoizer({callback:s,indices:{columnOverscanStartIndex:o._columnStartIndex,columnOverscanStopIndex:o._columnStopIndex,columnStartIndex:o._renderedColumnStartIndex,columnStopIndex:o._renderedColumnStopIndex,rowOverscanStartIndex:o._rowStartIndex,rowOverscanStopIndex:o._rowStopIndex,rowStartIndex:o._renderedRowStartIndex,rowStopIndex:o._renderedRowStopIndex}})}),te(pe(o),"_setScrollingContainerRef",function(s){o._scrollingContainer=s}),te(pe(o),"_onScroll",function(s){s.target===o._scrollingContainer&&o.handleScrollEvent(s.target)});var r=new DA({cellCount:n.columnCount,cellSizeGetter:function(a){return e._wrapSizeGetter(n.columnWidth)(a)},estimatedCellSize:e._getEstimatedColumnSize(n)}),i=new DA({cellCount:n.rowCount,cellSizeGetter:function(a){return e._wrapSizeGetter(n.rowHeight)(a)},estimatedCellSize:e._getEstimatedRowSize(n)});return o.state={instanceProps:{columnSizeAndPositionManager:r,rowSizeAndPositionManager:i,prevColumnWidth:n.columnWidth,prevRowHeight:n.rowHeight,prevColumnCount:n.columnCount,prevRowCount:n.rowCount,prevIsScrolling:n.isScrolling===!0,prevScrollToColumn:n.scrollToColumn,prevScrollToRow:n.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:$i,scrollDirectionVertical:$i,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},n.scrollToRow>0&&(o._initialScrollTop=o._getCalculatedScrollTop(n,o.state)),n.scrollToColumn>0&&(o._initialScrollLeft=o._getCalculatedScrollLeft(n,o.state)),o}return En(e,[{key:"getOffsetForCell",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=o.alignment,i=r===void 0?this.props.scrollToAlignment:r,s=o.columnIndex,a=s===void 0?this.props.scrollToColumn:s,l=o.rowIndex,c=l===void 0?this.props.scrollToRow:l,d=il({},this.props,{scrollToAlignment:i,scrollToColumn:a,scrollToRow:c});return{scrollLeft:this._getCalculatedScrollLeft(d),scrollTop:this._getCalculatedScrollTop(d)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(o){var r=o.scrollLeft,i=r===void 0?0:r,s=o.scrollTop,a=s===void 0?0:s;if(!(a<0)){this._debounceScrollEnded();var l=this.props,c=l.autoHeight,d=l.autoWidth,p=l.height,h=l.width,m=this.state.instanceProps,g=m.scrollbarSize,C=m.rowSizeAndPositionManager.getTotalSize(),v=m.columnSizeAndPositionManager.getTotalSize(),S=Math.min(Math.max(0,v-h+g),i),y=Math.min(Math.max(0,C-p+g),a);if(this.state.scrollLeft!==S||this.state.scrollTop!==y){var b=S!==this.state.scrollLeft?S>this.state.scrollLeft?$i:Ef:this.state.scrollDirectionHorizontal,w=y!==this.state.scrollTop?y>this.state.scrollTop?$i:Ef:this.state.scrollDirectionVertical,x={isScrolling:!0,scrollDirectionHorizontal:b,scrollDirectionVertical:w,scrollPositionChangeReason:i6.OBSERVED};c||(x.scrollTop=y),d||(x.scrollLeft=S),x.needToResetStyleCache=!1,this.setState(x)}this._invokeOnScrollMemoizer({scrollLeft:S,scrollTop:y,totalColumnsWidth:v,totalRowsHeight:C})}}},{key:"invalidateCellSizeAfterRender",value:function(o){var r=o.columnIndex,i=o.rowIndex;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,r):r,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,i):i}},{key:"measureAllCells",value:function(){var o=this.props,r=o.columnCount,i=o.rowCount,s=this.state.instanceProps;s.columnSizeAndPositionManager.getSizeAndPositionOfCell(r-1),s.rowSizeAndPositionManager.getSizeAndPositionOfCell(i-1)}},{key:"recomputeGridSize",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=o.columnIndex,i=r===void 0?0:r,s=o.rowIndex,a=s===void 0?0:s,l=this.props,c=l.scrollToColumn,d=l.scrollToRow,p=this.state.instanceProps;p.columnSizeAndPositionManager.resetCell(i),p.rowSizeAndPositionManager.resetCell(a),this._recomputeScrollLeftFlag=c>=0&&(this.state.scrollDirectionHorizontal===$i?i<=c:i>=c),this._recomputeScrollTopFlag=d>=0&&(this.state.scrollDirectionVertical===$i?a<=d:a>=d),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(o){var r=o.columnIndex,i=o.rowIndex,s=this.props.columnCount,a=this.props;s>1&&r!==void 0&&this._updateScrollLeftForScrollToColumn(il({},a,{scrollToColumn:r})),i!==void 0&&this._updateScrollTopForScrollToRow(il({},a,{scrollToRow:i}))}},{key:"componentDidMount",value:function(){var o=this.props,r=o.getScrollbarSize,i=o.height,s=o.scrollLeft,a=o.scrollToColumn,l=o.scrollTop,c=o.scrollToRow,d=o.width,p=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),p.scrollbarSizeMeasured||this.setState(function(g){var C=il({},g,{needToResetStyleCache:!1});return C.instanceProps.scrollbarSize=r(),C.instanceProps.scrollbarSizeMeasured=!0,C}),typeof s=="number"&&s>=0||typeof l=="number"&&l>=0){var h=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:s,scrollTop:l});h&&(h.needToResetStyleCache=!1,this.setState(h))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var m=i>0&&d>0;a>=0&&m&&this._updateScrollLeftForScrollToColumn(),c>=0&&m&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:s||0,scrollTop:l||0,totalColumnsWidth:p.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:p.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(o,r){var i=this,s=this.props,a=s.autoHeight,l=s.autoWidth,c=s.columnCount,d=s.height,p=s.rowCount,h=s.scrollToAlignment,m=s.scrollToColumn,g=s.scrollToRow,C=s.width,v=this.state,S=v.scrollLeft,y=v.scrollPositionChangeReason,b=v.scrollTop,w=v.instanceProps;this._handleInvalidatedGridSize();var x=c>0&&o.columnCount===0||p>0&&o.rowCount===0;y===i6.REQUESTED&&(!l&&S>=0&&(S!==this._scrollingContainer.scrollLeft||x)&&(this._scrollingContainer.scrollLeft=S),!a&&b>=0&&(b!==this._scrollingContainer.scrollTop||x)&&(this._scrollingContainer.scrollTop=b));var _=(o.width===0||o.height===0)&&d>0&&C>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):FA({cellSizeAndPositionManager:w.columnSizeAndPositionManager,previousCellsCount:o.columnCount,previousCellSize:o.columnWidth,previousScrollToAlignment:o.scrollToAlignment,previousScrollToIndex:o.scrollToColumn,previousSize:o.width,scrollOffset:S,scrollToAlignment:h,scrollToIndex:m,size:C,sizeJustIncreasedFromZero:_,updateScrollIndexCallback:function(){return i._updateScrollLeftForScrollToColumn(i.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):FA({cellSizeAndPositionManager:w.rowSizeAndPositionManager,previousCellsCount:o.rowCount,previousCellSize:o.rowHeight,previousScrollToAlignment:o.scrollToAlignment,previousScrollToIndex:o.scrollToRow,previousSize:o.height,scrollOffset:b,scrollToAlignment:h,scrollToIndex:g,size:d,sizeJustIncreasedFromZero:_,updateScrollIndexCallback:function(){return i._updateScrollTopForScrollToRow(i.props)}}),this._invokeOnGridRenderedHelper(),S!==r.scrollLeft||b!==r.scrollTop){var I=w.rowSizeAndPositionManager.getTotalSize(),T=w.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:S,scrollTop:b,totalColumnsWidth:T,totalRowsHeight:I})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&Yd(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var o=this.props,r=o.autoContainerWidth,i=o.autoHeight,s=o.autoWidth,a=o.className,l=o.containerProps,c=o.containerRole,d=o.containerStyle,p=o.height,h=o.id,m=o.noContentRenderer,g=o.role,C=o.style,v=o.tabIndex,S=o.width,y=this.state,b=y.instanceProps,w=y.needToResetStyleCache,x=this._isScrolling(),_={boxSizing:"border-box",direction:"ltr",height:i?"auto":p,position:"relative",width:s?"auto":S,WebkitOverflowScrolling:"touch",willChange:"transform"};w&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var I=b.columnSizeAndPositionManager.getTotalSize(),T=b.rowSizeAndPositionManager.getTotalSize(),A=T>p?b.scrollbarSize:0,k=I>S?b.scrollbarSize:0;(k!==this._horizontalScrollBarSize||A!==this._verticalScrollBarSize)&&(this._horizontalScrollBarSize=k,this._verticalScrollBarSize=A,this._scrollbarPresenceChanged=!0),_.overflowX=I+A<=S?"hidden":"auto",_.overflowY=T+k<=p?"hidden":"auto";var R=this._childrenToDisplay,M=R.length===0&&p>0&&S>0;return f.createElement("div",di({ref:this._setScrollingContainerRef},l,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:cr("ReactVirtualized__Grid",a),id:h,onScroll:this._onScroll,role:g,style:il({},_,{},C),tabIndex:v}),R.length>0&&f.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:c,style:il({width:r?"auto":I,height:T,maxWidth:I,maxHeight:T,overflow:"hidden",pointerEvents:x?"none":"",position:"relative"},d)},R),M&&m())}},{key:"_calculateChildrenToRender",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,i=o.cellRenderer,s=o.cellRangeRenderer,a=o.columnCount,l=o.deferredMeasurementCache,c=o.height,d=o.overscanColumnCount,p=o.overscanIndicesGetter,h=o.overscanRowCount,m=o.rowCount,g=o.width,C=o.isScrollingOptOut,v=r.scrollDirectionHorizontal,S=r.scrollDirectionVertical,y=r.instanceProps,b=this._initialScrollTop>0?this._initialScrollTop:r.scrollTop,w=this._initialScrollLeft>0?this._initialScrollLeft:r.scrollLeft,x=this._isScrolling(o,r);if(this._childrenToDisplay=[],c>0&&g>0){var _=y.columnSizeAndPositionManager.getVisibleCellRange({containerSize:g,offset:w}),I=y.rowSizeAndPositionManager.getVisibleCellRange({containerSize:c,offset:b}),T=y.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:g,offset:w}),A=y.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:c,offset:b});this._renderedColumnStartIndex=_.start,this._renderedColumnStopIndex=_.stop,this._renderedRowStartIndex=I.start,this._renderedRowStopIndex=I.stop;var k=p({direction:"horizontal",cellCount:a,overscanCellsCount:d,scrollDirection:v,startIndex:typeof _.start=="number"?_.start:0,stopIndex:typeof _.stop=="number"?_.stop:-1}),R=p({direction:"vertical",cellCount:m,overscanCellsCount:h,scrollDirection:S,startIndex:typeof I.start=="number"?I.start:0,stopIndex:typeof I.stop=="number"?I.stop:-1}),M=k.overscanStartIndex,D=k.overscanStopIndex,F=R.overscanStartIndex,z=R.overscanStopIndex;if(l){if(!l.hasFixedHeight()){for(var j=F;j<=z;j++)if(!l.has(j,0)){M=0,D=a-1;break}}if(!l.hasFixedWidth()){for(var H=M;H<=D;H++)if(!l.has(0,H)){F=0,z=m-1;break}}}this._childrenToDisplay=s({cellCache:this._cellCache,cellRenderer:i,columnSizeAndPositionManager:y.columnSizeAndPositionManager,columnStartIndex:M,columnStopIndex:D,deferredMeasurementCache:l,horizontalOffsetAdjustment:T,isScrolling:x,isScrollingOptOut:C,parent:this,rowSizeAndPositionManager:y.rowSizeAndPositionManager,rowStartIndex:F,rowStopIndex:z,scrollLeft:w,scrollTop:b,styleCache:this._styleCache,verticalOffsetAdjustment:A,visibleColumnIndices:_,visibleRowIndices:I}),this._columnStartIndex=M,this._columnStopIndex=D,this._rowStartIndex=F,this._rowStopIndex=z}}},{key:"_debounceScrollEnded",value:function(){var o=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&Yd(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=sS(this._debounceScrollEndedCallback,o)}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"&&typeof this._deferredInvalidateRowIndex=="number"){var o=this._deferredInvalidateColumnIndex,r=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:o,rowIndex:r})}}},{key:"_invokeOnScrollMemoizer",value:function(o){var r=this,i=o.scrollLeft,s=o.scrollTop,a=o.totalColumnsWidth,l=o.totalRowsHeight;this._onScrollMemoizer({callback:function(d){var p=d.scrollLeft,h=d.scrollTop,m=r.props,g=m.height,C=m.onScroll,v=m.width;C({clientHeight:g,clientWidth:v,scrollHeight:l,scrollLeft:p,scrollTop:h,scrollWidth:a})},indices:{scrollLeft:i,scrollTop:s}})}},{key:"_isScrolling",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return Object.hasOwnProperty.call(o,"isScrolling")?!!o.isScrolling:!!r.isScrolling}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var o=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,o({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(o){var r=o.scrollLeft,i=o.scrollTop,s=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:r,scrollTop:i});s&&(s.needToResetStyleCache=!1,this.setState(s))}},{key:"_getCalculatedScrollLeft",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return e._getCalculatedScrollLeft(o,r)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,i=e._getScrollLeftForScrollToColumnStateUpdate(o,r);i&&(i.needToResetStyleCache=!1,this.setState(i))}},{key:"_getCalculatedScrollTop",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return e._getCalculatedScrollTop(o,r)}},{key:"_resetStyleCache",value:function(){var o=this._styleCache,r=this._cellCache,i=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var s=this._rowStartIndex;s<=this._rowStopIndex;s++)for(var a=this._columnStartIndex;a<=this._columnStopIndex;a++){var l="".concat(s,"-").concat(a);this._styleCache[l]=o[l],i&&(this._cellCache[l]=r[l])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,i=e._getScrollTopForScrollToRowStateUpdate(o,r);i&&(i.needToResetStyleCache=!1,this.setState(i))}}],[{key:"getDerivedStateFromProps",value:function(o,r){var i={};o.columnCount===0&&r.scrollLeft!==0||o.rowCount===0&&r.scrollTop!==0?(i.scrollLeft=0,i.scrollTop=0):(o.scrollLeft!==r.scrollLeft&&o.scrollToColumn<0||o.scrollTop!==r.scrollTop&&o.scrollToRow<0)&&Object.assign(i,e._getScrollToPositionStateUpdate({prevState:r,scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}));var s=r.instanceProps;i.needToResetStyleCache=!1,(o.columnWidth!==s.prevColumnWidth||o.rowHeight!==s.prevRowHeight)&&(i.needToResetStyleCache=!0),s.columnSizeAndPositionManager.configure({cellCount:o.columnCount,estimatedCellSize:e._getEstimatedColumnSize(o),cellSizeGetter:e._wrapSizeGetter(o.columnWidth)}),s.rowSizeAndPositionManager.configure({cellCount:o.rowCount,estimatedCellSize:e._getEstimatedRowSize(o),cellSizeGetter:e._wrapSizeGetter(o.rowHeight)}),(s.prevColumnCount===0||s.prevRowCount===0)&&(s.prevColumnCount=0,s.prevRowCount=0),o.autoHeight&&o.isScrolling===!1&&s.prevIsScrolling===!0&&Object.assign(i,{isScrolling:!1});var a,l;return OA({cellCount:s.prevColumnCount,cellSize:typeof s.prevColumnWidth=="number"?s.prevColumnWidth:null,computeMetadataCallback:function(){return s.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:o,nextCellsCount:o.columnCount,nextCellSize:typeof o.columnWidth=="number"?o.columnWidth:null,nextScrollToIndex:o.scrollToColumn,scrollToIndex:s.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){a=e._getScrollLeftForScrollToColumnStateUpdate(o,r)}}),OA({cellCount:s.prevRowCount,cellSize:typeof s.prevRowHeight=="number"?s.prevRowHeight:null,computeMetadataCallback:function(){return s.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:o,nextCellsCount:o.rowCount,nextCellSize:typeof o.rowHeight=="number"?o.rowHeight:null,nextScrollToIndex:o.scrollToRow,scrollToIndex:s.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){l=e._getScrollTopForScrollToRowStateUpdate(o,r)}}),s.prevColumnCount=o.columnCount,s.prevColumnWidth=o.columnWidth,s.prevIsScrolling=o.isScrolling===!0,s.prevRowCount=o.rowCount,s.prevRowHeight=o.rowHeight,s.prevScrollToColumn=o.scrollToColumn,s.prevScrollToRow=o.scrollToRow,s.scrollbarSize=o.getScrollbarSize(),s.scrollbarSize===void 0?(s.scrollbarSizeMeasured=!1,s.scrollbarSize=0):s.scrollbarSizeMeasured=!0,i.instanceProps=s,il({},i,{},a,{},l)}},{key:"_getEstimatedColumnSize",value:function(o){return typeof o.columnWidth=="number"?o.columnWidth:o.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(o){return typeof o.rowHeight=="number"?o.rowHeight:o.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(o){var r=o.prevState,i=o.scrollLeft,s=o.scrollTop,a={scrollPositionChangeReason:i6.REQUESTED};return typeof i=="number"&&i>=0&&(a.scrollDirectionHorizontal=i>r.scrollLeft?$i:Ef,a.scrollLeft=i),typeof s=="number"&&s>=0&&(a.scrollDirectionVertical=s>r.scrollTop?$i:Ef,a.scrollTop=s),typeof i=="number"&&i>=0&&i!==r.scrollLeft||typeof s=="number"&&s>=0&&s!==r.scrollTop?a:{}}},{key:"_wrapSizeGetter",value:function(o){return typeof o=="function"?o:function(){return o}}},{key:"_getCalculatedScrollLeft",value:function(o,r){var i=o.columnCount,s=o.height,a=o.scrollToAlignment,l=o.scrollToColumn,c=o.width,d=r.scrollLeft,p=r.instanceProps;if(i>0){var h=i-1,m=l<0?h:Math.min(h,l),g=p.rowSizeAndPositionManager.getTotalSize(),C=p.scrollbarSizeMeasured&&g>s?p.scrollbarSize:0;return p.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:a,containerSize:c-C,currentOffset:d,targetIndex:m})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(o,r){var i=r.scrollLeft,s=e._getCalculatedScrollLeft(o,r);return typeof s=="number"&&s>=0&&i!==s?e._getScrollToPositionStateUpdate({prevState:r,scrollLeft:s,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(o,r){var i=o.height,s=o.rowCount,a=o.scrollToAlignment,l=o.scrollToRow,c=o.width,d=r.scrollTop,p=r.instanceProps;if(s>0){var h=s-1,m=l<0?h:Math.min(h,l),g=p.columnSizeAndPositionManager.getTotalSize(),C=p.scrollbarSizeMeasured&&g>c?p.scrollbarSize:0;return p.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:a,containerSize:i-C,currentOffset:d,targetIndex:m})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(o,r){var i=r.scrollTop,s=e._getCalculatedScrollTop(o,r);return typeof s=="number"&&s>=0&&i!==s?e._getScrollToPositionStateUpdate({prevState:r,scrollLeft:-1,scrollTop:s}):{}}}]),e}(f.PureComponent),te(HA,"propTypes",null),BA);te(Xs,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:P_e,containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:e0,noContentRenderer:F_e,onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:R_e,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:D_e,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1});Du(Xs);var N_e=1;function vB(t){var e=t.cellCount,n=t.overscanCellsCount,o=t.scrollDirection,r=t.startIndex,i=t.stopIndex;return n=Math.max(1,n),o===N_e?{overscanStartIndex:Math.max(0,r-1),overscanStopIndex:Math.min(e-1,i+n)}:{overscanStartIndex:Math.max(0,r-n),overscanStopIndex:Math.min(e-1,i+1)}}var VA,WA;function jA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function H_e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jA(n,!0).forEach(function(o){te(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jA(n).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var CB=(WA=VA=function(t){rr(e,t);function e(){var n,o;vn(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return o=nr(this,(n=or(e)).call.apply(n,[this].concat(i))),te(pe(o),"state",{scrollToColumn:0,scrollToRow:0,instanceProps:{prevScrollToColumn:0,prevScrollToRow:0}}),te(pe(o),"_columnStartIndex",0),te(pe(o),"_columnStopIndex",0),te(pe(o),"_rowStartIndex",0),te(pe(o),"_rowStopIndex",0),te(pe(o),"_onKeyDown",function(a){var l=o.props,c=l.columnCount,d=l.disabled,p=l.mode,h=l.rowCount;if(!d){var m=o._getScrollState(),g=m.scrollToColumn,C=m.scrollToRow,v=o._getScrollState(),S=v.scrollToColumn,y=v.scrollToRow;switch(a.key){case"ArrowDown":y=Math.min(p==="cells"?y+1:o._rowStopIndex+1,h-1);break;case"ArrowLeft":S=Math.max(p==="cells"?S-1:o._columnStartIndex-1,0);break;case"ArrowRight":S=Math.min(p==="cells"?S+1:o._columnStopIndex+1,c-1);break;case"ArrowUp":y=Math.max(p==="cells"?y-1:o._rowStartIndex-1,0);break}(S!==g||y!==C)&&(a.preventDefault(),o._updateScrollState({scrollToColumn:S,scrollToRow:y}))}}),te(pe(o),"_onSectionRendered",function(a){var l=a.columnStartIndex,c=a.columnStopIndex,d=a.rowStartIndex,p=a.rowStopIndex;o._columnStartIndex=l,o._columnStopIndex=c,o._rowStartIndex=d,o._rowStopIndex=p}),o}return En(e,[{key:"setScrollIndexes",value:function(o){var r=o.scrollToColumn,i=o.scrollToRow;this.setState({scrollToRow:i,scrollToColumn:r})}},{key:"render",value:function(){var o=this.props,r=o.className,i=o.children,s=this._getScrollState(),a=s.scrollToColumn,l=s.scrollToRow;return f.createElement("div",{className:r,onKeyDown:this._onKeyDown},i({onSectionRendered:this._onSectionRendered,scrollToColumn:a,scrollToRow:l}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(o){var r=o.scrollToColumn,i=o.scrollToRow,s=this.props,a=s.isControlled,l=s.onScrollToChange;typeof l=="function"&&l({scrollToColumn:r,scrollToRow:i}),a||this.setState({scrollToColumn:r,scrollToRow:i})}}],[{key:"getDerivedStateFromProps",value:function(o,r){return o.isControlled?{}:o.scrollToColumn!==r.instanceProps.prevScrollToColumn||o.scrollToRow!==r.instanceProps.prevScrollToRow?H_e({},r,{scrollToColumn:o.scrollToColumn,scrollToRow:o.scrollToRow,instanceProps:{prevScrollToColumn:o.scrollToColumn,prevScrollToRow:o.scrollToRow}}):{}}}]),e}(f.PureComponent),te(VA,"propTypes",null),WA);te(CB,"defaultProps",{disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0});Du(CB);function yB(t,e){var n;typeof e<"u"?n=e:typeof window<"u"?n=window:typeof self<"u"?n=self:n=global;var o=typeof n.document<"u"&&n.document.attachEvent;if(!o){var r=function(){var I=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||function(T){return n.setTimeout(T,20)};return function(T){return I(T)}}(),i=function(){var I=n.cancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelAnimationFrame||n.clearTimeout;return function(T){return I(T)}}(),s=function(T){var A=T.__resizeTriggers__,k=A.firstElementChild,R=A.lastElementChild,M=k.firstElementChild;R.scrollLeft=R.scrollWidth,R.scrollTop=R.scrollHeight,M.style.width=k.offsetWidth+1+"px",M.style.height=k.offsetHeight+1+"px",k.scrollLeft=k.scrollWidth,k.scrollTop=k.scrollHeight},a=function(T){return T.offsetWidth!=T.__resizeLast__.width||T.offsetHeight!=T.__resizeLast__.height},l=function(T){if(!(T.target.className&&typeof T.target.className.indexOf=="function"&&T.target.className.indexOf("contract-trigger")<0&&T.target.className.indexOf("expand-trigger")<0)){var A=this;s(this),this.__resizeRAF__&&i(this.__resizeRAF__),this.__resizeRAF__=r(function(){a(A)&&(A.__resizeLast__.width=A.offsetWidth,A.__resizeLast__.height=A.offsetHeight,A.__resizeListeners__.forEach(function(k){k.call(A,T)}))})}},c=!1,d="",p="animationstart",h="Webkit Moz O ms".split(" "),m="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),g="";{var C=n.document.createElement("fakeelement");if(C.style.animationName!==void 0&&(c=!0),c===!1){for(var v=0;v<h.length;v++)if(C.style[h[v]+"AnimationName"]!==void 0){g=h[v],d="-"+g.toLowerCase()+"-",p=m[v],c=!0;break}}}var S="resizeanim",y="@"+d+"keyframes "+S+" { from { opacity: 0; } to { opacity: 0; } } ",b=d+"animation: 1ms "+S+"; "}var w=function(T){if(!T.getElementById("detectElementResize")){var A=(y||"")+".resize-triggers { "+(b||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',k=T.head||T.getElementsByTagName("head")[0],R=T.createElement("style");R.id="detectElementResize",R.type="text/css",t!=null&&R.setAttribute("nonce",t),R.styleSheet?R.styleSheet.cssText=A:R.appendChild(T.createTextNode(A)),k.appendChild(R)}},x=function(T,A){if(o)T.attachEvent("onresize",A);else{if(!T.__resizeTriggers__){var k=T.ownerDocument,R=n.getComputedStyle(T);R&&R.position=="static"&&(T.style.position="relative"),w(k),T.__resizeLast__={},T.__resizeListeners__=[],(T.__resizeTriggers__=k.createElement("div")).className="resize-triggers";var M='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>';if(window.trustedTypes){var D=trustedTypes.createPolicy("react-virtualized-auto-sizer",{createHTML:function(){return M}});T.__resizeTriggers__.innerHTML=D.createHTML("")}else T.__resizeTriggers__.innerHTML=M;T.appendChild(T.__resizeTriggers__),s(T),T.addEventListener("scroll",l,!0),p&&(T.__resizeTriggers__.__animationListener__=function(z){z.animationName==S&&s(T)},T.__resizeTriggers__.addEventListener(p,T.__resizeTriggers__.__animationListener__))}T.__resizeListeners__.push(A)}},_=function(T,A){if(o)T.detachEvent("onresize",A);else if(T.__resizeListeners__.splice(T.__resizeListeners__.indexOf(A),1),!T.__resizeListeners__.length){T.removeEventListener("scroll",l,!0),T.__resizeTriggers__.__animationListener__&&(T.__resizeTriggers__.removeEventListener(p,T.__resizeTriggers__.__animationListener__),T.__resizeTriggers__.__animationListener__=null);try{T.__resizeTriggers__=!T.removeChild(T.__resizeTriggers__)}catch{}}};return{addResizeListener:x,removeResizeListener:_}}var UA,$A;function qA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function B_e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qA(n,!0).forEach(function(o){te(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qA(n).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var SB=($A=UA=function(t){rr(e,t);function e(){var n,o;vn(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return o=nr(this,(n=or(e)).call.apply(n,[this].concat(i))),te(pe(o),"state",{height:o.props.defaultHeight||0,width:o.props.defaultWidth||0}),te(pe(o),"_parentNode",void 0),te(pe(o),"_autoSizer",void 0),te(pe(o),"_window",void 0),te(pe(o),"_detectElementResize",void 0),te(pe(o),"_onResize",function(){var a=o.props,l=a.disableHeight,c=a.disableWidth,d=a.onResize;if(o._parentNode){var p=o._parentNode.offsetHeight||0,h=o._parentNode.offsetWidth||0,m=o._window||window,g=m.getComputedStyle(o._parentNode)||{},C=parseInt(g.paddingLeft,10)||0,v=parseInt(g.paddingRight,10)||0,S=parseInt(g.paddingTop,10)||0,y=parseInt(g.paddingBottom,10)||0,b=p-S-y,w=h-C-v;(!l&&o.state.height!==b||!c&&o.state.width!==w)&&(o.setState({height:p-S-y,width:h-C-v}),d({height:p,width:h}))}}),te(pe(o),"_setRef",function(a){o._autoSizer=a}),o}return En(e,[{key:"componentDidMount",value:function(){var o=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=yB(o,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var o=this.props,r=o.children,i=o.className,s=o.disableHeight,a=o.disableWidth,l=o.style,c=this.state,d=c.height,p=c.width,h={overflow:"visible"},m={};return s||(h.height=0,m.height=d),a||(h.width=0,m.width=p),f.createElement("div",{className:i,ref:this._setRef,style:B_e({},h,{},l)},r(m))}}]),e}(f.Component),te(UA,"propTypes",null),$A);te(SB,"defaultProps",{onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}});var GA,KA,z_e=(KA=GA=function(t){rr(e,t);function e(){var n,o;vn(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return o=nr(this,(n=or(e)).call.apply(n,[this].concat(i))),te(pe(o),"_child",void 0),te(pe(o),"_measure",function(){var a=o.props,l=a.cache,c=a.columnIndex,d=c===void 0?0:c,p=a.parent,h=a.rowIndex,m=h===void 0?o.props.index||0:h,g=o._getCellMeasurements(),C=g.height,v=g.width;(C!==l.getHeight(m,d)||v!==l.getWidth(m,d))&&(l.set(m,d,v,C),p&&typeof p.recomputeGridSize=="function"&&p.recomputeGridSize({columnIndex:d,rowIndex:m}))}),te(pe(o),"_registerChild",function(a){a&&!(a instanceof Element)&&console.warn("CellMeasurer registerChild expects to be passed Element or null"),o._child=a,a&&o._maybeMeasureCell()}),o}return En(e,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var o=this.props.children;return typeof o=="function"?o({measure:this._measure,registerChild:this._registerChild}):o}},{key:"_getCellMeasurements",value:function(){var o=this.props.cache,r=this._child||Mo.findDOMNode(this);if(r&&r.ownerDocument&&r.ownerDocument.defaultView&&r instanceof r.ownerDocument.defaultView.HTMLElement){var i=r.style.width,s=r.style.height;o.hasFixedWidth()||(r.style.width="auto"),o.hasFixedHeight()||(r.style.height="auto");var a=Math.ceil(r.offsetHeight),l=Math.ceil(r.offsetWidth);return i&&(r.style.width=i),s&&(r.style.height=s),{height:a,width:l}}else return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var o=this.props,r=o.cache,i=o.columnIndex,s=i===void 0?0:i,a=o.parent,l=o.rowIndex,c=l===void 0?this.props.index||0:l;if(!r.has(c,s)){var d=this._getCellMeasurements(),p=d.height,h=d.width;r.set(c,s,h,p),a&&typeof a.invalidateCellSizeAfterRender=="function"&&a.invalidateCellSizeAfterRender({columnIndex:s,rowIndex:c})}}}]),e}(f.PureComponent),te(GA,"propTypes",null),KA);te(z_e,"__internalCellMeasurerFlag",!1);function ZA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function V_e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZA(n,!0).forEach(function(o){te(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZA(n).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var W_e=150,Uc={OBSERVED:"observed",REQUESTED:"requested"},I3=function(t){rr(e,t);function e(){var n,o;vn(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return o=nr(this,(n=or(e)).call.apply(n,[this].concat(i))),te(pe(o),"state",{isScrolling:!1,scrollLeft:0,scrollTop:0}),te(pe(o),"_calculateSizeAndPositionDataOnNextUpdate",!1),te(pe(o),"_onSectionRenderedMemoizer",Qd()),te(pe(o),"_onScrollMemoizer",Qd(!1)),te(pe(o),"_invokeOnSectionRenderedHelper",function(){var a=o.props,l=a.cellLayoutManager,c=a.onSectionRendered;o._onSectionRenderedMemoizer({callback:c,indices:{indices:l.getLastRenderedIndices()}})}),te(pe(o),"_setScrollingContainerRef",function(a){o._scrollingContainer=a}),te(pe(o),"_updateScrollPositionForScrollToCell",function(){var a=o.props,l=a.cellLayoutManager,c=a.height,d=a.scrollToAlignment,p=a.scrollToCell,h=a.width,m=o.state,g=m.scrollLeft,C=m.scrollTop;if(p>=0){var v=l.getScrollPositionForCell({align:d,cellIndex:p,height:c,scrollLeft:g,scrollTop:C,width:h});(v.scrollLeft!==g||v.scrollTop!==C)&&o._setScrollPosition(v)}}),te(pe(o),"_onScroll",function(a){if(a.target===o._scrollingContainer){o._enablePointerEventsAfterDelay();var l=o.props,c=l.cellLayoutManager,d=l.height,p=l.isScrollingChange,h=l.width,m=o._scrollbarSize,g=c.getTotalSize(),C=g.height,v=g.width,S=Math.max(0,Math.min(v-h+m,a.target.scrollLeft)),y=Math.max(0,Math.min(C-d+m,a.target.scrollTop));if(o.state.scrollLeft!==S||o.state.scrollTop!==y){var b=a.cancelable?Uc.OBSERVED:Uc.REQUESTED;o.state.isScrolling||p(!0),o.setState({isScrolling:!0,scrollLeft:S,scrollPositionChangeReason:b,scrollTop:y})}o._invokeOnScrollMemoizer({scrollLeft:S,scrollTop:y,totalWidth:v,totalHeight:C})}}),o._scrollbarSize=e0(),o._scrollbarSize===void 0?(o._scrollbarSizeMeasured=!1,o._scrollbarSize=0):o._scrollbarSizeMeasured=!0,o}return En(e,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var o=this.props,r=o.cellLayoutManager,i=o.scrollLeft,s=o.scrollToCell,a=o.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=e0(),this._scrollbarSizeMeasured=!0,this.setState({})),s>=0?this._updateScrollPositionForScrollToCell():(i>=0||a>=0)&&this._setScrollPosition({scrollLeft:i,scrollTop:a}),this._invokeOnSectionRenderedHelper();var l=r.getTotalSize(),c=l.height,d=l.width;this._invokeOnScrollMemoizer({scrollLeft:i||0,scrollTop:a||0,totalHeight:c,totalWidth:d})}},{key:"componentDidUpdate",value:function(o,r){var i=this.props,s=i.height,a=i.scrollToAlignment,l=i.scrollToCell,c=i.width,d=this.state,p=d.scrollLeft,h=d.scrollPositionChangeReason,m=d.scrollTop;h===Uc.REQUESTED&&(p>=0&&p!==r.scrollLeft&&p!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=p),m>=0&&m!==r.scrollTop&&m!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=m)),(s!==o.height||a!==o.scrollToAlignment||l!==o.scrollToCell||c!==o.width)&&this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var o=this.props,r=o.autoHeight,i=o.cellCount,s=o.cellLayoutManager,a=o.className,l=o.height,c=o.horizontalOverscanSize,d=o.id,p=o.noContentRenderer,h=o.style,m=o.verticalOverscanSize,g=o.width,C=this.state,v=C.isScrolling,S=C.scrollLeft,y=C.scrollTop;(this._lastRenderedCellCount!==i||this._lastRenderedCellLayoutManager!==s||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=i,this._lastRenderedCellLayoutManager=s,this._calculateSizeAndPositionDataOnNextUpdate=!1,s.calculateSizeAndPositionData());var b=s.getTotalSize(),w=b.height,x=b.width,_=Math.max(0,S-c),I=Math.max(0,y-m),T=Math.min(x,S+g+c),A=Math.min(w,y+l+m),k=l>0&&g>0?s.cellRenderers({height:A-I,isScrolling:v,width:T-_,x:_,y:I}):[],R={boxSizing:"border-box",direction:"ltr",height:r?"auto":l,position:"relative",WebkitOverflowScrolling:"touch",width:g,willChange:"transform"},M=w>l?this._scrollbarSize:0,D=x>g?this._scrollbarSize:0;return R.overflowX=x+M<=g?"hidden":"auto",R.overflowY=w+D<=l?"hidden":"auto",f.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:cr("ReactVirtualized__Collection",a),id:d,onScroll:this._onScroll,role:"grid",style:V_e({},R,{},h),tabIndex:0},i>0&&f.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:w,maxHeight:w,maxWidth:x,overflow:"hidden",pointerEvents:v?"none":"",width:x}},k),i===0&&p())}},{key:"_enablePointerEventsAfterDelay",value:function(){var o=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout(function(){var r=o.props.isScrollingChange;r(!1),o._disablePointerEventsTimeoutId=null,o.setState({isScrolling:!1})},W_e)}},{key:"_invokeOnScrollMemoizer",value:function(o){var r=this,i=o.scrollLeft,s=o.scrollTop,a=o.totalHeight,l=o.totalWidth;this._onScrollMemoizer({callback:function(d){var p=d.scrollLeft,h=d.scrollTop,m=r.props,g=m.height,C=m.onScroll,v=m.width;C({clientHeight:g,clientWidth:v,scrollHeight:a,scrollLeft:p,scrollTop:h,scrollWidth:l})},indices:{scrollLeft:i,scrollTop:s}})}},{key:"_setScrollPosition",value:function(o){var r=o.scrollLeft,i=o.scrollTop,s={scrollPositionChangeReason:Uc.REQUESTED};r>=0&&(s.scrollLeft=r),i>=0&&(s.scrollTop=i),(r>=0&&r!==this.state.scrollLeft||i>=0&&i!==this.state.scrollTop)&&this.setState(s)}}],[{key:"getDerivedStateFromProps",value:function(o,r){return o.cellCount===0&&(r.scrollLeft!==0||r.scrollTop!==0)?{scrollLeft:0,scrollTop:0,scrollPositionChangeReason:Uc.REQUESTED}:o.scrollLeft!==r.scrollLeft||o.scrollTop!==r.scrollTop?{scrollLeft:o.scrollLeft!=null?o.scrollLeft:r.scrollLeft,scrollTop:o.scrollTop!=null?o.scrollTop:r.scrollTop,scrollPositionChangeReason:Uc.REQUESTED}:null}}]),e}(f.PureComponent);te(I3,"defaultProps",{"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0});I3.propTypes={};Du(I3);var j_e=function(){function t(e){var n=e.height,o=e.width,r=e.x,i=e.y;vn(this,t),this.height=n,this.width=o,this.x=r,this.y=i,this._indexMap={},this._indices=[]}return En(t,[{key:"addCellIndex",value:function(n){var o=n.index;this._indexMap[o]||(this._indexMap[o]=!0,this._indices.push(o))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return"".concat(this.x,",").concat(this.y," ").concat(this.width,"x").concat(this.height)}}]),t}(),U_e=100,$_e=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:U_e;vn(this,t),this._sectionSize=e,this._cellMetadata=[],this._sections={}}return En(t,[{key:"getCellIndices",value:function(n){var o=n.height,r=n.width,i=n.x,s=n.y,a={};return this.getSections({height:o,width:r,x:i,y:s}).forEach(function(l){return l.getCellIndices().forEach(function(c){a[c]=c})}),Object.keys(a).map(function(l){return a[l]})}},{key:"getCellMetadata",value:function(n){var o=n.index;return this._cellMetadata[o]}},{key:"getSections",value:function(n){for(var o=n.height,r=n.width,i=n.x,s=n.y,a=Math.floor(i/this._sectionSize),l=Math.floor((i+r-1)/this._sectionSize),c=Math.floor(s/this._sectionSize),d=Math.floor((s+o-1)/this._sectionSize),p=[],h=a;h<=l;h++)for(var m=c;m<=d;m++){var g="".concat(h,".").concat(m);this._sections[g]||(this._sections[g]=new j_e({height:this._sectionSize,width:this._sectionSize,x:h*this._sectionSize,y:m*this._sectionSize})),p.push(this._sections[g])}return p}},{key:"getTotalSectionCount",value:function(){return Object.keys(this._sections).length}},{key:"toString",value:function(){var n=this;return Object.keys(this._sections).map(function(o){return n._sections[o].toString()})}},{key:"registerCell",value:function(n){var o=n.cellMetadatum,r=n.index;this._cellMetadata[r]=o,this.getSections(o).forEach(function(i){return i.addCellIndex({index:r})})}}]),t}();function q_e(t){for(var e=t.cellCount,n=t.cellSizeAndPositionGetter,o=t.sectionSize,r=[],i=new $_e(o),s=0,a=0,l=0;l<e;l++){var c=n({index:l});if(c.height==null||isNaN(c.height)||c.width==null||isNaN(c.width)||c.x==null||isNaN(c.x)||c.y==null||isNaN(c.y))throw Error("Invalid metadata returned for cell ".concat(l,`:
        x:`).concat(c.x,", y:").concat(c.y,", width:").concat(c.width,", height:").concat(c.height));s=Math.max(s,c.y+c.height),a=Math.max(a,c.x+c.width),r[l]=c,i.registerCell({cellMetadatum:c,index:l})}return{cellMetadata:r,height:s,sectionManager:i,width:a}}function QA(t){var e=t.align,n=e===void 0?"auto":e,o=t.cellOffset,r=t.cellSize,i=t.containerSize,s=t.currentOffset,a=o,l=a-i+r;switch(n){case"start":return a;case"end":return l;case"center":return a-(i-r)/2;default:return Math.max(l,Math.min(a,s))}}var bB=function(t){rr(e,t);function e(n,o){var r;return vn(this,e),r=nr(this,or(e).call(this,n,o)),r._cellMetadata=[],r._lastRenderedCellIndices=[],r._cellCache=[],r._isScrollingChange=r._isScrollingChange.bind(pe(r)),r._setCollectionViewRef=r._setCollectionViewRef.bind(pe(r)),r}return En(e,[{key:"forceUpdate",value:function(){this._collectionView!==void 0&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var o=di({},this.props);return f.createElement(I3,di({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},o))}},{key:"calculateSizeAndPositionData",value:function(){var o=this.props,r=o.cellCount,i=o.cellSizeAndPositionGetter,s=o.sectionSize,a=q_e({cellCount:r,cellSizeAndPositionGetter:i,sectionSize:s});this._cellMetadata=a.cellMetadata,this._sectionManager=a.sectionManager,this._height=a.height,this._width=a.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(o){var r=o.align,i=o.cellIndex,s=o.height,a=o.scrollLeft,l=o.scrollTop,c=o.width,d=this.props.cellCount;if(i>=0&&i<d){var p=this._cellMetadata[i];a=QA({align:r,cellOffset:p.x,cellSize:p.width,containerSize:c,currentOffset:a,targetIndex:i}),l=QA({align:r,cellOffset:p.y,cellSize:p.height,containerSize:s,currentOffset:l,targetIndex:i})}return{scrollLeft:a,scrollTop:l}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(o){var r=this,i=o.height,s=o.isScrolling,a=o.width,l=o.x,c=o.y,d=this.props,p=d.cellGroupRenderer,h=d.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:i,width:a,x:l,y:c}),p({cellCache:this._cellCache,cellRenderer:h,cellSizeAndPositionGetter:function(g){var C=g.index;return r._sectionManager.getCellMetadata({index:C})},indices:this._lastRenderedCellIndices,isScrolling:s})}},{key:"_isScrollingChange",value:function(o){o||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(o){this._collectionView=o}}]),e}(f.PureComponent);te(bB,"defaultProps",{"aria-label":"grid",cellGroupRenderer:G_e});bB.propTypes={};function G_e(t){var e=t.cellCache,n=t.cellRenderer,o=t.cellSizeAndPositionGetter,r=t.indices,i=t.isScrolling;return r.map(function(s){var a=o({index:s}),l={index:s,isScrolling:i,key:s,style:{height:a.height,left:a.x,position:"absolute",top:a.y,width:a.width}};return i?(s in e||(e[s]=n(l)),e[s]):n(l)}).filter(function(s){return!!s})}function A7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function K_e(t){if(Array.isArray(t))return A7(t)}function Z_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Q_e(t,e){if(t){if(typeof t=="string")return A7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A7(t,e)}}function Y_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X_e(t){return K_e(t)||Z_e(t)||Q_e(t)||Y_e()}var wB=function(t){rr(e,t);function e(n,o){var r;return vn(this,e),r=nr(this,or(e).call(this,n,o)),r._loadMoreRowsMemoizer=Qd(),r._onRowsRendered=r._onRowsRendered.bind(pe(r)),r._registerChild=r._registerChild.bind(pe(r)),r}return En(e,[{key:"resetLoadMoreRowsCache",value:function(o){this._loadMoreRowsMemoizer=Qd(),o&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){var o=this.props.children;return o({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(o){var r=this,i=this.props.loadMoreRows;o.forEach(function(s){var a=i(s);a&&a.then(function(){J_e({lastRenderedStartIndex:r._lastRenderedStartIndex,lastRenderedStopIndex:r._lastRenderedStopIndex,startIndex:s.startIndex,stopIndex:s.stopIndex})&&r._registeredChild&&txe(r._registeredChild,r._lastRenderedStartIndex)})})}},{key:"_onRowsRendered",value:function(o){var r=o.startIndex,i=o.stopIndex;this._lastRenderedStartIndex=r,this._lastRenderedStopIndex=i,this._doStuff(r,i)}},{key:"_doStuff",value:function(o,r){var i,s=this,a=this.props,l=a.isRowLoaded,c=a.minimumBatchSize,d=a.rowCount,p=a.threshold,h=exe({isRowLoaded:l,minimumBatchSize:c,rowCount:d,startIndex:Math.max(0,o-p),stopIndex:Math.min(d-1,r+p)}),m=(i=[]).concat.apply(i,X_e(h.map(function(g){var C=g.startIndex,v=g.stopIndex;return[C,v]})));this._loadMoreRowsMemoizer({callback:function(){s._loadUnloadedRanges(h)},indices:{squashedUnloadedRanges:m}})}},{key:"_registerChild",value:function(o){this._registeredChild=o}}]),e}(f.PureComponent);te(wB,"defaultProps",{minimumBatchSize:10,rowCount:0,threshold:15});wB.propTypes={};function J_e(t){var e=t.lastRenderedStartIndex,n=t.lastRenderedStopIndex,o=t.startIndex,r=t.stopIndex;return!(o>n||r<e)}function exe(t){for(var e=t.isRowLoaded,n=t.minimumBatchSize,o=t.rowCount,r=t.startIndex,i=t.stopIndex,s=[],a=null,l=null,c=r;c<=i;c++){var d=e({index:c});d?l!==null&&(s.push({startIndex:a,stopIndex:l}),a=l=null):(l=c,a===null&&(a=c))}if(l!==null){for(var p=Math.min(Math.max(l,a+n-1),o-1),h=l+1;h<=p&&!e({index:h});h++)l=h;s.push({startIndex:a,stopIndex:l})}if(s.length)for(var m=s[0];m.stopIndex-m.startIndex+1<n&&m.startIndex>0;){var g=m.startIndex-1;if(!e({index:g}))m.startIndex=g;else break}return s}function txe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=typeof t.recomputeGridSize=="function"?t.recomputeGridSize:t.recomputeRowHeights;n?n.call(t,e):t.forceUpdate()}var YA,XA,_B=(XA=YA=function(t){rr(e,t);function e(){var n,o;vn(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return o=nr(this,(n=or(e)).call.apply(n,[this].concat(i))),te(pe(o),"Grid",void 0),te(pe(o),"_cellRenderer",function(a){var l=a.parent,c=a.rowIndex,d=a.style,p=a.isScrolling,h=a.isVisible,m=a.key,g=o.props.rowRenderer,C=Object.getOwnPropertyDescriptor(d,"width");return C&&C.writable&&(d.width="100%"),g({index:c,style:d,isScrolling:p,isVisible:h,key:m,parent:l})}),te(pe(o),"_setRef",function(a){o.Grid=a}),te(pe(o),"_onScroll",function(a){var l=a.clientHeight,c=a.scrollHeight,d=a.scrollTop,p=o.props.onScroll;p({clientHeight:l,scrollHeight:c,scrollTop:d})}),te(pe(o),"_onSectionRendered",function(a){var l=a.rowOverscanStartIndex,c=a.rowOverscanStopIndex,d=a.rowStartIndex,p=a.rowStopIndex,h=o.props.onRowsRendered;h({overscanStartIndex:l,overscanStopIndex:c,startIndex:d,stopIndex:p})}),o}return En(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(o){var r=o.alignment,i=o.index;if(this.Grid){var s=this.Grid.getOffsetForCell({alignment:r,rowIndex:i,columnIndex:0}),a=s.scrollTop;return a}return 0}},{key:"invalidateCellSizeAfterRender",value:function(o){var r=o.columnIndex,i=o.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:i,columnIndex:r})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=o.columnIndex,i=r===void 0?0:r,s=o.rowIndex,a=s===void 0?0:s;this.Grid&&this.Grid.recomputeGridSize({rowIndex:a,columnIndex:i})}},{key:"recomputeRowHeights",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:o,columnIndex:0})}},{key:"scrollToPosition",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:o})}},{key:"scrollToRow",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:o})}},{key:"render",value:function(){var o=this.props,r=o.className,i=o.noRowsRenderer,s=o.scrollToIndex,a=o.width,l=cr("ReactVirtualized__List",r);return f.createElement(Xs,di({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:l,columnWidth:a,columnCount:1,noContentRenderer:i,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:s}))}}]),e}(f.PureComponent),te(YA,"propTypes",null),XA);te(_B,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:vB,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});var nxe=RK();const oxe=wt(nxe);function rxe(t,e,n,o){for(var r=n+1;e<=n;){var i=e+n>>>1,s=t[i];s>=o?(r=i,n=i-1):e=i+1}return r}function ixe(t,e,n,o,r){for(var i=n+1;e<=n;){var s=e+n>>>1,a=t[s];r(a,o)>=0?(i=s,n=s-1):e=s+1}return i}function sxe(t,e,n,o,r){return typeof n=="function"?ixe(t,o===void 0?0:o|0,r===void 0?t.length-1:r|0,e,n):rxe(t,n===void 0?0:n|0,o===void 0?t.length-1:o|0,e)}function axe(t,e,n,o){for(var r=n+1;e<=n;){var i=e+n>>>1,s=t[i];s>o?(r=i,n=i-1):e=i+1}return r}function lxe(t,e,n,o,r){for(var i=n+1;e<=n;){var s=e+n>>>1,a=t[s];r(a,o)>0?(i=s,n=s-1):e=s+1}return i}function cxe(t,e,n,o,r){return typeof n=="function"?lxe(t,o===void 0?0:o|0,r===void 0?t.length-1:r|0,e,n):axe(t,n===void 0?0:n|0,o===void 0?t.length-1:o|0,e)}function dxe(t,e,n,o){for(var r=e-1;e<=n;){var i=e+n>>>1,s=t[i];s<o?(r=i,e=i+1):n=i-1}return r}function uxe(t,e,n,o,r){for(var i=e-1;e<=n;){var s=e+n>>>1,a=t[s];r(a,o)<0?(i=s,e=s+1):n=s-1}return i}function pxe(t,e,n,o,r){return typeof n=="function"?uxe(t,o===void 0?0:o|0,r===void 0?t.length-1:r|0,e,n):dxe(t,n===void 0?0:n|0,o===void 0?t.length-1:o|0,e)}function hxe(t,e,n,o){for(var r=e-1;e<=n;){var i=e+n>>>1,s=t[i];s<=o?(r=i,e=i+1):n=i-1}return r}function fxe(t,e,n,o,r){for(var i=e-1;e<=n;){var s=e+n>>>1,a=t[s];r(a,o)<=0?(i=s,e=s+1):n=s-1}return i}function mxe(t,e,n,o,r){return typeof n=="function"?fxe(t,o===void 0?0:o|0,r===void 0?t.length-1:r|0,e,n):hxe(t,n===void 0?0:n|0,o===void 0?t.length-1:o|0,e)}function gxe(t,e,n,o){for(;e<=n;){var r=e+n>>>1,i=t[r];if(i===o)return r;i<=o?e=r+1:n=r-1}return-1}function vxe(t,e,n,o,r){for(;e<=n;){var i=e+n>>>1,s=t[i],a=r(s,o);if(a===0)return i;a<=0?e=i+1:n=i-1}return-1}function Cxe(t,e,n,o,r){return typeof n=="function"?vxe(t,o===void 0?0:o|0,r===void 0?t.length-1:r|0,e,n):gxe(t,n===void 0?0:n|0,o===void 0?t.length-1:o|0,e)}const W0={ge:sxe,gt:cxe,lt:pxe,le:mxe,eq:Cxe};var dd=0,ul=1,hm=2;function aS(t,e,n,o,r){this.mid=t,this.left=e,this.right=n,this.leftPoints=o,this.rightPoints=r,this.count=(e?e.count:0)+(n?n.count:0)+o.length}var z1=aS.prototype;function s6(t,e){t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function xB(t,e){var n=Xd(e);t.mid=n.mid,t.left=n.left,t.right=n.right,t.leftPoints=n.leftPoints,t.rightPoints=n.rightPoints,t.count=n.count}function JA(t,e){var n=t.intervals([]);n.push(e),xB(t,n)}function eT(t,e){var n=t.intervals([]),o=n.indexOf(e);return o<0?dd:(n.splice(o,1),xB(t,n),ul)}z1.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t};z1.insert=function(t){var e=this.count-this.leftPoints.length;if(this.count+=1,t[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?JA(this,t):this.left.insert(t):this.left=Xd([t]);else if(t[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?JA(this,t):this.right.insert(t):this.right=Xd([t]);else{var n=W0.ge(this.leftPoints,t,lS),o=W0.ge(this.rightPoints,t,cS);this.leftPoints.splice(n,0,t),this.rightPoints.splice(o,0,t)}};z1.remove=function(t){var e=this.count-this.leftPoints;if(t[1]<this.mid){if(!this.left)return dd;var n=this.right?this.right.count:0;if(4*n>3*(e-1))return eT(this,t);var o=this.left.remove(t);return o===hm?(this.left=null,this.count-=1,ul):(o===ul&&(this.count-=1),o)}else if(t[0]>this.mid){if(!this.right)return dd;var r=this.left?this.left.count:0;if(4*r>3*(e-1))return eT(this,t);var o=this.right.remove(t);return o===hm?(this.right=null,this.count-=1,ul):(o===ul&&(this.count-=1),o)}else{if(this.count===1)return this.leftPoints[0]===t?hm:dd;if(this.leftPoints.length===1&&this.leftPoints[0]===t){if(this.left&&this.right){for(var i=this,s=this.left;s.right;)i=s,s=s.right;if(i===this)s.right=this.right;else{var a=this.left,o=this.right;i.count-=s.count,i.right=s.left,s.left=a,s.right=o}s6(this,s),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?s6(this,this.left):s6(this,this.right);return ul}for(var a=W0.ge(this.leftPoints,t,lS);a<this.leftPoints.length&&this.leftPoints[a][0]===t[0];++a)if(this.leftPoints[a]===t){this.count-=1,this.leftPoints.splice(a,1);for(var o=W0.ge(this.rightPoints,t,cS);o<this.rightPoints.length&&this.rightPoints[o][1]===t[1];++o)if(this.rightPoints[o]===t)return this.rightPoints.splice(o,1),ul}return dd}};function AB(t,e,n){for(var o=0;o<t.length&&t[o][0]<=e;++o){var r=n(t[o]);if(r)return r}}function TB(t,e,n){for(var o=t.length-1;o>=0&&t[o][1]>=e;--o){var r=n(t[o]);if(r)return r}}function IB(t,e){for(var n=0;n<t.length;++n){var o=e(t[n]);if(o)return o}}z1.queryPoint=function(t,e){if(t<this.mid){if(this.left){var n=this.left.queryPoint(t,e);if(n)return n}return AB(this.leftPoints,t,e)}else if(t>this.mid){if(this.right){var n=this.right.queryPoint(t,e);if(n)return n}return TB(this.rightPoints,t,e)}else return IB(this.leftPoints,e)};z1.queryInterval=function(t,e,n){if(t<this.mid&&this.left){var o=this.left.queryInterval(t,e,n);if(o)return o}if(e>this.mid&&this.right){var o=this.right.queryInterval(t,e,n);if(o)return o}return e<this.mid?AB(this.leftPoints,e,n):t>this.mid?TB(this.rightPoints,t,n):IB(this.leftPoints,n)};function yxe(t,e){return t-e}function lS(t,e){var n=t[0]-e[0];return n||t[1]-e[1]}function cS(t,e){var n=t[1]-e[1];return n||t[0]-e[0]}function Xd(t){if(t.length===0)return null;for(var e=[],n=0;n<t.length;++n)e.push(t[n][0],t[n][1]);e.sort(yxe);for(var o=e[e.length>>1],r=[],i=[],s=[],n=0;n<t.length;++n){var a=t[n];a[1]<o?r.push(a):o<a[0]?i.push(a):s.push(a)}var l=s,c=s.slice();return l.sort(lS),c.sort(cS),new aS(o,Xd(r),Xd(i),l,c)}function T7(t){this.root=t}var Ku=T7.prototype;Ku.insert=function(t){this.root?this.root.insert(t):this.root=new aS(t[0],null,null,[t],[t])};Ku.remove=function(t){if(this.root){var e=this.root.remove(t);return e===hm&&(this.root=null),e!==dd}return!1};Ku.queryPoint=function(t,e){if(this.root)return this.root.queryPoint(t,e)};Ku.queryInterval=function(t,e,n){if(t<=e&&this.root)return this.root.queryInterval(t,e,n)};Object.defineProperty(Ku,"count",{get:function(){return this.root?this.root.count:0}});Object.defineProperty(Ku,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function Sxe(t){return!t||t.length===0?new T7(null):new T7(Xd(t))}var a6=function(){function t(){vn(this,t),te(this,"_columnSizeMap",{}),te(this,"_intervalTree",Sxe()),te(this,"_leftMap",{})}return En(t,[{key:"estimateTotalHeight",value:function(n,o,r){var i=n-this.count;return this.tallestColumnSize+Math.ceil(i/o)*r}},{key:"range",value:function(n,o,r){var i=this;this._intervalTree.queryInterval(n,n+o,function(s){var a=oxe(s,3),l=a[0];a[1];var c=a[2];return r(c,i._leftMap[c],l)})}},{key:"setPosition",value:function(n,o,r,i){this._intervalTree.insert([r,r+i,n]),this._leftMap[n]=o;var s=this._columnSizeMap,a=s[o];a===void 0?s[o]=r+i:s[o]=Math.max(a,r+i)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var n=this._columnSizeMap,o=0;for(var r in n){var i=n[r];o=o===0?i:Math.min(o,i)}return o}},{key:"tallestColumnSize",get:function(){var n=this._columnSizeMap,o=0;for(var r in n){var i=n[r];o=Math.max(o,i)}return o}}]),t}(),tT,nT;function oT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function bxe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oT(n,!0).forEach(function(o){te(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oT(n).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var wxe={},_xe=150,EB=(nT=tT=function(t){rr(e,t);function e(){var n,o;vn(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return o=nr(this,(n=or(e)).call.apply(n,[this].concat(i))),te(pe(o),"state",{isScrolling:!1,scrollTop:0}),te(pe(o),"_debounceResetIsScrollingId",void 0),te(pe(o),"_invalidateOnUpdateStartIndex",null),te(pe(o),"_invalidateOnUpdateStopIndex",null),te(pe(o),"_positionCache",new a6),te(pe(o),"_startIndex",null),te(pe(o),"_startIndexMemoized",null),te(pe(o),"_stopIndex",null),te(pe(o),"_stopIndexMemoized",null),te(pe(o),"_debounceResetIsScrollingCallback",function(){o.setState({isScrolling:!1})}),te(pe(o),"_setScrollingContainerRef",function(a){o._scrollingContainer=a}),te(pe(o),"_onScroll",function(a){var l=o.props.height,c=a.currentTarget.scrollTop,d=Math.min(Math.max(0,o._getEstimatedTotalHeight()-l),c);c===d&&(o._debounceResetIsScrolling(),o.state.scrollTop!==d&&o.setState({isScrolling:!0,scrollTop:d}))}),o}return En(e,[{key:"clearCellPositions",value:function(){this._positionCache=new a6,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(o){var r=o.rowIndex;this._invalidateOnUpdateStartIndex===null?(this._invalidateOnUpdateStartIndex=r,this._invalidateOnUpdateStopIndex=r):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,r),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,r))}},{key:"recomputeCellPositions",value:function(){var o=this._positionCache.count-1;this._positionCache=new a6,this._populatePositionCache(0,o),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(o,r){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==o.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&Yd(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var o=this,r=this.props,i=r.autoHeight,s=r.cellCount,a=r.cellMeasurerCache,l=r.cellRenderer,c=r.className,d=r.height,p=r.id,h=r.keyMapper,m=r.overscanByPixels,g=r.role,C=r.style,v=r.tabIndex,S=r.width,y=r.rowDirection,b=this.state,w=b.isScrolling,x=b.scrollTop,_=[],I=this._getEstimatedTotalHeight(),T=this._positionCache.shortestColumnSize,A=this._positionCache.count,k=0,R;if(this._positionCache.range(Math.max(0,x-m),d+m*2,function(F,z,j){var H;typeof R>"u"?(k=F,R=F):(k=Math.min(k,F),R=Math.max(R,F)),_.push(l({index:F,isScrolling:w,key:h(F),parent:o,style:(H={height:a.getHeight(F)},te(H,y==="ltr"?"left":"right",z),te(H,"position","absolute"),te(H,"top",j),te(H,"width",a.getWidth(F)),H)}))}),T<x+d+m&&A<s)for(var M=Math.min(s-A,Math.ceil((x+d+m-T)/a.defaultHeight*S/a.defaultWidth)),D=A;D<A+M;D++)R=D,_.push(l({index:D,isScrolling:w,key:h(D),parent:this,style:{width:a.getWidth(D)}}));return this._startIndex=k,this._stopIndex=R,f.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:cr("ReactVirtualized__Masonry",c),id:p,onScroll:this._onScroll,role:g,style:bxe({boxSizing:"border-box",direction:"ltr",height:i?"auto":d,overflowX:"hidden",overflowY:I<d?"hidden":"auto",position:"relative",width:S,WebkitOverflowScrolling:"touch",willChange:"transform"},C),tabIndex:v},f.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:I,maxWidth:"100%",maxHeight:I,overflow:"hidden",pointerEvents:w?"none":"",position:"relative"}},_))}},{key:"_checkInvalidateOnUpdate",value:function(){if(typeof this._invalidateOnUpdateStartIndex=="number"){var o=this._invalidateOnUpdateStartIndex,r=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(o,r),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var o=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&Yd(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=sS(this._debounceResetIsScrollingCallback,o)}},{key:"_getEstimatedTotalHeight",value:function(){var o=this.props,r=o.cellCount,i=o.cellMeasurerCache,s=o.width,a=Math.max(1,Math.floor(s/i.defaultWidth));return this._positionCache.estimateTotalHeight(r,a,i.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var o=this.props,r=o.height,i=o.onScroll,s=this.state.scrollTop;this._onScrollMemoized!==s&&(i({clientHeight:r,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:s}),this._onScrollMemoized=s)}},{key:"_invokeOnCellsRenderedCallback",value:function(){if(this._startIndexMemoized!==this._startIndex||this._stopIndexMemoized!==this._stopIndex){var o=this.props.onCellsRendered;o({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex}}},{key:"_populatePositionCache",value:function(o,r){for(var i=this.props,s=i.cellMeasurerCache,a=i.cellPositioner,l=o;l<=r;l++){var c=a(l),d=c.left,p=c.top;this._positionCache.setPosition(l,d,p,s.getHeight(l))}}}],[{key:"getDerivedStateFromProps",value:function(o,r){return o.scrollTop!==void 0&&r.scrollTop!==o.scrollTop?{isScrolling:!0,scrollTop:o.scrollTop}:null}}]),e}(f.PureComponent),te(tT,"propTypes",null),nT);te(EB,"defaultProps",{autoHeight:!1,keyMapper:xxe,onCellsRendered:rT,onScroll:rT,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:_xe,style:wxe,tabIndex:0,rowDirection:"ltr"});function xxe(t){return t}function rT(){}Du(EB);var l6=function(){function t(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};vn(this,t),te(this,"_cellMeasurerCache",void 0),te(this,"_columnIndexOffset",void 0),te(this,"_rowIndexOffset",void 0),te(this,"columnWidth",function(l){var c=l.index;e._cellMeasurerCache.columnWidth({index:c+e._columnIndexOffset})}),te(this,"rowHeight",function(l){var c=l.index;e._cellMeasurerCache.rowHeight({index:c+e._rowIndexOffset})});var o=n.cellMeasurerCache,r=n.columnIndexOffset,i=r===void 0?0:r,s=n.rowIndexOffset,a=s===void 0?0:s;this._cellMeasurerCache=o,this._columnIndexOffset=i,this._rowIndexOffset=a}return En(t,[{key:"clear",value:function(n,o){this._cellMeasurerCache.clear(n+this._rowIndexOffset,o+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getHeight(n+this._rowIndexOffset,o+this._columnIndexOffset)}},{key:"getWidth",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getWidth(n+this._rowIndexOffset,o+this._columnIndexOffset)}},{key:"has",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.has(n+this._rowIndexOffset,o+this._columnIndexOffset)}},{key:"set",value:function(n,o,r,i){this._cellMeasurerCache.set(n+this._rowIndexOffset,o+this._columnIndexOffset,r,i)}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}}]),t}();function iT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iT(n,!0).forEach(function(o){te(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iT(n).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var sT=20,dS=function(t){rr(e,t);function e(n,o){var r;vn(this,e),r=nr(this,or(e).call(this,n,o)),te(pe(r),"state",{scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1}),te(pe(r),"_deferredInvalidateColumnIndex",null),te(pe(r),"_deferredInvalidateRowIndex",null),te(pe(r),"_bottomLeftGridRef",function(l){r._bottomLeftGrid=l}),te(pe(r),"_bottomRightGridRef",function(l){r._bottomRightGrid=l}),te(pe(r),"_cellRendererBottomLeftGrid",function(l){var c=l.rowIndex,d=Tp(l,["rowIndex"]),p=r.props,h=p.cellRenderer,m=p.fixedRowCount,g=p.rowCount;return c===g-m?f.createElement("div",{key:d.key,style:Vn({},d.style,{height:sT})}):h(Vn({},d,{parent:pe(r),rowIndex:c+m}))}),te(pe(r),"_cellRendererBottomRightGrid",function(l){var c=l.columnIndex,d=l.rowIndex,p=Tp(l,["columnIndex","rowIndex"]),h=r.props,m=h.cellRenderer,g=h.fixedColumnCount,C=h.fixedRowCount;return m(Vn({},p,{columnIndex:c+g,parent:pe(r),rowIndex:d+C}))}),te(pe(r),"_cellRendererTopRightGrid",function(l){var c=l.columnIndex,d=Tp(l,["columnIndex"]),p=r.props,h=p.cellRenderer,m=p.columnCount,g=p.fixedColumnCount;return c===m-g?f.createElement("div",{key:d.key,style:Vn({},d.style,{width:sT})}):h(Vn({},d,{columnIndex:c+g,parent:pe(r)}))}),te(pe(r),"_columnWidthRightGrid",function(l){var c=l.index,d=r.props,p=d.columnCount,h=d.fixedColumnCount,m=d.columnWidth,g=r.state,C=g.scrollbarSize,v=g.showHorizontalScrollbar;return v&&c===p-h?C:typeof m=="function"?m({index:c+h}):m}),te(pe(r),"_onScroll",function(l){var c=l.scrollLeft,d=l.scrollTop;r.setState({scrollLeft:c,scrollTop:d});var p=r.props.onScroll;p&&p(l)}),te(pe(r),"_onScrollbarPresenceChange",function(l){var c=l.horizontal,d=l.size,p=l.vertical,h=r.state,m=h.showHorizontalScrollbar,g=h.showVerticalScrollbar;if(c!==m||p!==g){r.setState({scrollbarSize:d,showHorizontalScrollbar:c,showVerticalScrollbar:p});var C=r.props.onScrollbarPresenceChange;typeof C=="function"&&C({horizontal:c,size:d,vertical:p})}}),te(pe(r),"_onScrollLeft",function(l){var c=l.scrollLeft;r._onScroll({scrollLeft:c,scrollTop:r.state.scrollTop})}),te(pe(r),"_onScrollTop",function(l){var c=l.scrollTop;r._onScroll({scrollTop:c,scrollLeft:r.state.scrollLeft})}),te(pe(r),"_rowHeightBottomGrid",function(l){var c=l.index,d=r.props,p=d.fixedRowCount,h=d.rowCount,m=d.rowHeight,g=r.state,C=g.scrollbarSize,v=g.showVerticalScrollbar;return v&&c===h-p?C:typeof m=="function"?m({index:c+p}):m}),te(pe(r),"_topLeftGridRef",function(l){r._topLeftGrid=l}),te(pe(r),"_topRightGridRef",function(l){r._topRightGrid=l});var i=n.deferredMeasurementCache,s=n.fixedColumnCount,a=n.fixedRowCount;return r._maybeCalculateCachedStyles(!0),i&&(r._deferredMeasurementCacheBottomLeftGrid=a>0?new l6({cellMeasurerCache:i,columnIndexOffset:0,rowIndexOffset:a}):i,r._deferredMeasurementCacheBottomRightGrid=s>0||a>0?new l6({cellMeasurerCache:i,columnIndexOffset:s,rowIndexOffset:a}):i,r._deferredMeasurementCacheTopRightGrid=s>0?new l6({cellMeasurerCache:i,columnIndexOffset:s,rowIndexOffset:0}):i),r}return En(e,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=o.columnIndex,i=r===void 0?0:r,s=o.rowIndex,a=s===void 0?0:s;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,i):i,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,a):a}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=o.columnIndex,i=r===void 0?0:r,s=o.rowIndex,a=s===void 0?0:s,l=this.props,c=l.fixedColumnCount,d=l.fixedRowCount,p=Math.max(0,i-c),h=Math.max(0,a-d);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:i,rowIndex:h}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:p,rowIndex:h}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:i,rowIndex:a}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:p,rowIndex:a}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var o=this.props,r=o.scrollLeft,i=o.scrollTop;if(r>0||i>0){var s={};r>0&&(s.scrollLeft=r),i>0&&(s.scrollTop=i),this.setState(s)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var o=this.props,r=o.onScroll,i=o.onSectionRendered;o.onScrollbarPresenceChange,o.scrollLeft;var s=o.scrollToColumn;o.scrollTop;var a=o.scrollToRow,l=Tp(o,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(this._prepareForRender(),this.props.width===0||this.props.height===0)return null;var c=this.state,d=c.scrollLeft,p=c.scrollTop;return f.createElement("div",{style:this._containerOuterStyle},f.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(l),this._renderTopRightGrid(Vn({},l,{onScroll:r,scrollLeft:d}))),f.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(Vn({},l,{onScroll:r,scrollTop:p})),this._renderBottomRightGrid(Vn({},l,{onScroll:r,onSectionRendered:i,scrollLeft:d,scrollToColumn:s,scrollToRow:a,scrollTop:p}))))}},{key:"_getBottomGridHeight",value:function(o){var r=o.height,i=this._getTopGridHeight(o);return r-i}},{key:"_getLeftGridWidth",value:function(o){var r=o.fixedColumnCount,i=o.columnWidth;if(this._leftGridWidth==null)if(typeof i=="function"){for(var s=0,a=0;a<r;a++)s+=i({index:a});this._leftGridWidth=s}else this._leftGridWidth=i*r;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(o){var r=o.width,i=this._getLeftGridWidth(o);return r-i}},{key:"_getTopGridHeight",value:function(o){var r=o.fixedRowCount,i=o.rowHeight;if(this._topGridHeight==null)if(typeof i=="function"){for(var s=0,a=0;a<r;a++)s+=i({index:a});this._topGridHeight=s}else this._topGridHeight=i*r;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"){var o=this._deferredInvalidateColumnIndex,r=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:o,rowIndex:r}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(o){var r=this.props,i=r.columnWidth,s=r.enableFixedColumnScroll,a=r.enableFixedRowScroll,l=r.height,c=r.fixedColumnCount,d=r.fixedRowCount,p=r.rowHeight,h=r.style,m=r.styleBottomLeftGrid,g=r.styleBottomRightGrid,C=r.styleTopLeftGrid,v=r.styleTopRightGrid,S=r.width,y=o||l!==this._lastRenderedHeight||S!==this._lastRenderedWidth,b=o||i!==this._lastRenderedColumnWidth||c!==this._lastRenderedFixedColumnCount,w=o||d!==this._lastRenderedFixedRowCount||p!==this._lastRenderedRowHeight;(o||y||h!==this._lastRenderedStyle)&&(this._containerOuterStyle=Vn({height:l,overflow:"visible",width:S},h)),(o||y||w)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:S},this._containerBottomStyle={height:l-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:S}),(o||m!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=Vn({left:0,overflowX:"hidden",overflowY:s?"auto":"hidden",position:"absolute"},m)),(o||b||g!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=Vn({left:this._getLeftGridWidth(this.props),position:"absolute"},g)),(o||C!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=Vn({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},C)),(o||b||v!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=Vn({left:this._getLeftGridWidth(this.props),overflowX:a?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},v)),this._lastRenderedColumnWidth=i,this._lastRenderedFixedColumnCount=c,this._lastRenderedFixedRowCount=d,this._lastRenderedHeight=l,this._lastRenderedRowHeight=p,this._lastRenderedStyle=h,this._lastRenderedStyleBottomLeftGrid=m,this._lastRenderedStyleBottomRightGrid=g,this._lastRenderedStyleTopLeftGrid=C,this._lastRenderedStyleTopRightGrid=v,this._lastRenderedWidth=S}},{key:"_prepareForRender",value:function(){(this._lastRenderedColumnWidth!==this.props.columnWidth||this._lastRenderedFixedColumnCount!==this.props.fixedColumnCount)&&(this._leftGridWidth=null),(this._lastRenderedFixedRowCount!==this.props.fixedRowCount||this._lastRenderedRowHeight!==this.props.rowHeight)&&(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(o){var r=o.enableFixedColumnScroll,i=o.fixedColumnCount,s=o.fixedRowCount,a=o.rowCount,l=o.hideBottomLeftGridScrollbar,c=this.state.showVerticalScrollbar;if(!i)return null;var d=c?1:0,p=this._getBottomGridHeight(o),h=this._getLeftGridWidth(o),m=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,g=l?h+m:h,C=f.createElement(Xs,di({},o,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:i,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:p,onScroll:r?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,a-s)+d,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:g}));return l?f.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:Vn({},this._bottomLeftGridStyle,{height:p,width:h,overflowY:"hidden"})},C):C}},{key:"_renderBottomRightGrid",value:function(o){var r=o.columnCount,i=o.fixedColumnCount,s=o.fixedRowCount,a=o.rowCount,l=o.scrollToColumn,c=o.scrollToRow;return f.createElement(Xs,di({},o,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,r-i),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(o),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,a-s),rowHeight:this._rowHeightBottomGrid,scrollToColumn:l-i,scrollToRow:c-s,style:this._bottomRightGridStyle,width:this._getRightGridWidth(o)}))}},{key:"_renderTopLeftGrid",value:function(o){var r=o.fixedColumnCount,i=o.fixedRowCount;return!r||!i?null:f.createElement(Xs,di({},o,{className:this.props.classNameTopLeftGrid,columnCount:r,height:this._getTopGridHeight(o),ref:this._topLeftGridRef,rowCount:i,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(o)}))}},{key:"_renderTopRightGrid",value:function(o){var r=o.columnCount,i=o.enableFixedRowScroll,s=o.fixedColumnCount,a=o.fixedRowCount,l=o.scrollLeft,c=o.hideTopRightGridScrollbar,d=this.state,p=d.showHorizontalScrollbar,h=d.scrollbarSize;if(!a)return null;var m=p?1:0,g=this._getTopGridHeight(o),C=this._getRightGridWidth(o),v=p?h:0,S=g,y=this._topRightGridStyle;c&&(S=g+v,y=Vn({},this._topRightGridStyle,{left:0}));var b=f.createElement(Xs,di({},o,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,r-s)+m,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:S,onScroll:i?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:a,scrollLeft:l,style:y,tabIndex:null,width:C}));return c?f.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:Vn({},this._topRightGridStyle,{height:g,width:C,overflowX:"hidden"})},b):b}}],[{key:"getDerivedStateFromProps",value:function(o,r){return o.scrollLeft!==r.scrollLeft||o.scrollTop!==r.scrollTop?{scrollLeft:o.scrollLeft!=null&&o.scrollLeft>=0?o.scrollLeft:r.scrollLeft,scrollTop:o.scrollTop!=null&&o.scrollTop>=0?o.scrollTop:r.scrollTop}:null}}]),e}(f.PureComponent);te(dS,"defaultProps",{classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1});dS.propTypes={};Du(dS);function Axe(t){var e=t.dataKey,n=t.rowData;return typeof n.get=="function"?n.get(e):n[e]}function Txe(t){var e=t.cellData;return e==null?"":String(e)}function kB(t){var e=t.className,n=t.columns,o=t.style;return f.createElement("div",{className:e,role:"row",style:o},n)}kB.propTypes=null;var Js={ASC:"ASC",DESC:"DESC"};function RB(t){var e=t.sortDirection,n=cr("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":e===Js.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":e===Js.DESC});return f.createElement("svg",{className:n,width:18,height:18,viewBox:"0 0 24 24"},e===Js.ASC?f.createElement("path",{d:"M7 14l5-5 5 5z"}):f.createElement("path",{d:"M7 10l5 5 5-5z"}),f.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}RB.propTypes={};function PB(t){var e=t.dataKey,n=t.label,o=t.sortBy,r=t.sortDirection,i=o===e,s=[f.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:typeof n=="string"?n:null},n)];return i&&s.push(f.createElement(RB,{key:"SortIndicator",sortDirection:r})),s}PB.propTypes=null;function LB(t){var e=t.className,n=t.columns,o=t.index,r=t.key,i=t.onRowClick,s=t.onRowDoubleClick,a=t.onRowMouseOut,l=t.onRowMouseOver,c=t.onRowRightClick,d=t.rowData,p=t.style,h={"aria-rowindex":o+1};return(i||s||a||l||c)&&(h["aria-label"]="row",h.tabIndex=0,i&&(h.onClick=function(m){return i({event:m,index:o,rowData:d})}),s&&(h.onDoubleClick=function(m){return s({event:m,index:o,rowData:d})}),a&&(h.onMouseOut=function(m){return a({event:m,index:o,rowData:d})}),l&&(h.onMouseOver=function(m){return l({event:m,index:o,rowData:d})}),c&&(h.onContextMenu=function(m){return c({event:m,index:o,rowData:d})})),f.createElement("div",di({},h,{className:e,key:r,role:"row",style:p}),n)}LB.propTypes=null;var MB=function(t){rr(e,t);function e(){return vn(this,e),nr(this,or(e).apply(this,arguments))}return e}(f.Component);te(MB,"defaultProps",{cellDataGetter:Axe,cellRenderer:Txe,defaultSortDirection:Js.ASC,flexGrow:0,flexShrink:1,headerRenderer:PB,style:{}});MB.propTypes={};function aT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function $c(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aT(n,!0).forEach(function(o){te(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aT(n).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var OB=function(t){rr(e,t);function e(n){var o;return vn(this,e),o=nr(this,or(e).call(this,n)),o.state={scrollbarWidth:0},o._createColumn=o._createColumn.bind(pe(o)),o._createRow=o._createRow.bind(pe(o)),o._onScroll=o._onScroll.bind(pe(o)),o._onSectionRendered=o._onSectionRendered.bind(pe(o)),o._setRef=o._setRef.bind(pe(o)),o}return En(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(o){var r=o.alignment,i=o.index;if(this.Grid){var s=this.Grid.getOffsetForCell({alignment:r,rowIndex:i}),a=s.scrollTop;return a}return 0}},{key:"invalidateCellSizeAfterRender",value:function(o){var r=o.columnIndex,i=o.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:i,columnIndex:r})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=o.columnIndex,i=r===void 0?0:r,s=o.rowIndex,a=s===void 0?0:s;this.Grid&&this.Grid.recomputeGridSize({rowIndex:a,columnIndex:i})}},{key:"recomputeRowHeights",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:o})}},{key:"scrollToPosition",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:o})}},{key:"scrollToRow",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:o})}},{key:"getScrollbarWidth",value:function(){if(this.Grid){var o=Mo.findDOMNode(this.Grid),r=o.clientWidth||0,i=o.offsetWidth||0;return i-r}return 0}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var o=this,r=this.props,i=r.children,s=r.className,a=r.disableHeader,l=r.gridClassName,c=r.gridStyle,d=r.headerHeight,p=r.headerRowRenderer,h=r.height,m=r.id,g=r.noRowsRenderer,C=r.rowClassName,v=r.rowStyle,S=r.scrollToIndex,y=r.style,b=r.width,w=this.state.scrollbarWidth,x=a?h:h-d,_=typeof C=="function"?C({index:-1}):C,I=typeof v=="function"?v({index:-1}):v;return this._cachedColumnStyles=[],f.Children.toArray(i).forEach(function(T,A){var k=o._getFlexStyleForColumn(T,T.props.style);o._cachedColumnStyles[A]=$c({overflow:"hidden"},k)}),f.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":f.Children.toArray(i).length,"aria-rowcount":this.props.rowCount,className:cr("ReactVirtualized__Table",s),id:m,role:"grid",style:y},!a&&p({className:cr("ReactVirtualized__Table__headerRow",_),columns:this._getHeaderColumns(),style:$c({height:d,overflow:"hidden",paddingRight:w,width:b},I)}),f.createElement(Xs,di({},this.props,{"aria-readonly":null,autoContainerWidth:!0,className:cr("ReactVirtualized__Table__Grid",l),cellRenderer:this._createRow,columnWidth:b,columnCount:1,height:x,id:void 0,noContentRenderer:g,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:w,scrollToRow:S,style:$c({},c,{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(o){var r=o.column,i=o.columnIndex,s=o.isScrolling,a=o.parent,l=o.rowData,c=o.rowIndex,d=this.props.onColumnClick,p=r.props,h=p.cellDataGetter,m=p.cellRenderer,g=p.className,C=p.columnData,v=p.dataKey,S=p.id,y=h({columnData:C,dataKey:v,rowData:l}),b=m({cellData:y,columnData:C,columnIndex:i,dataKey:v,isScrolling:s,parent:a,rowData:l,rowIndex:c}),w=function(T){d&&d({columnData:C,dataKey:v,event:T})},x=this._cachedColumnStyles[i],_=typeof b=="string"?b:null;return f.createElement("div",{"aria-colindex":i+1,"aria-describedby":S,className:cr("ReactVirtualized__Table__rowColumn",g),key:"Row"+c+"-Col"+i,onClick:w,role:"gridcell",style:x,title:_},b)}},{key:"_createHeader",value:function(o){var r=o.column,i=o.index,s=this.props,a=s.headerClassName,l=s.headerStyle,c=s.onHeaderClick,d=s.sort,p=s.sortBy,h=s.sortDirection,m=r.props,g=m.columnData,C=m.dataKey,v=m.defaultSortDirection,S=m.disableSort,y=m.headerRenderer,b=m.id,w=m.label,x=!S&&d,_=cr("ReactVirtualized__Table__headerColumn",a,r.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:x}),I=this._getFlexStyleForColumn(r,$c({},l,{},r.props.headerStyle)),T=y({columnData:g,dataKey:C,disableSort:S,label:w,sortBy:p,sortDirection:h}),A,k,R,M,D;if(x||c){var F=p!==C,z=F?v:h===Js.DESC?Js.ASC:Js.DESC,j=function(U){x&&d({defaultSortDirection:v,event:U,sortBy:C,sortDirection:z}),c&&c({columnData:g,dataKey:C,event:U})},H=function(U){(U.key==="Enter"||U.key===" ")&&j(U)};D=r.props["aria-label"]||w||C,M="none",R=0,A=j,k=H}return p===C&&(M=h===Js.ASC?"ascending":"descending"),f.createElement("div",{"aria-label":D,"aria-sort":M,className:_,id:b,key:"Header-Col"+i,onClick:A,onKeyDown:k,role:"columnheader",style:I,tabIndex:R},T)}},{key:"_createRow",value:function(o){var r=this,i=o.rowIndex,s=o.isScrolling,a=o.key,l=o.parent,c=o.style,d=this.props,p=d.children,h=d.onRowClick,m=d.onRowDoubleClick,g=d.onRowRightClick,C=d.onRowMouseOver,v=d.onRowMouseOut,S=d.rowClassName,y=d.rowGetter,b=d.rowRenderer,w=d.rowStyle,x=this.state.scrollbarWidth,_=typeof S=="function"?S({index:i}):S,I=typeof w=="function"?w({index:i}):w,T=y({index:i}),A=f.Children.toArray(p).map(function(M,D){return r._createColumn({column:M,columnIndex:D,isScrolling:s,parent:l,rowData:T,rowIndex:i,scrollbarWidth:x})}),k=cr("ReactVirtualized__Table__row",_),R=$c({},c,{height:this._getRowHeight(i),overflow:"hidden",paddingRight:x},I);return b({className:k,columns:A,index:i,isScrolling:s,key:a,onRowClick:h,onRowDoubleClick:m,onRowRightClick:g,onRowMouseOver:C,onRowMouseOut:v,rowData:T,style:R})}},{key:"_getFlexStyleForColumn",value:function(o){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i="".concat(o.props.flexGrow," ").concat(o.props.flexShrink," ").concat(o.props.width,"px"),s=$c({},r,{flex:i,msFlex:i,WebkitFlex:i});return o.props.maxWidth&&(s.maxWidth=o.props.maxWidth),o.props.minWidth&&(s.minWidth=o.props.minWidth),s}},{key:"_getHeaderColumns",value:function(){var o=this,r=this.props,i=r.children,s=r.disableHeader,a=s?[]:f.Children.toArray(i);return a.map(function(l,c){return o._createHeader({column:l,index:c})})}},{key:"_getRowHeight",value:function(o){var r=this.props.rowHeight;return typeof r=="function"?r({index:o}):r}},{key:"_onScroll",value:function(o){var r=o.clientHeight,i=o.scrollHeight,s=o.scrollTop,a=this.props.onScroll;a({clientHeight:r,scrollHeight:i,scrollTop:s})}},{key:"_onSectionRendered",value:function(o){var r=o.rowOverscanStartIndex,i=o.rowOverscanStopIndex,s=o.rowStartIndex,a=o.rowStopIndex,l=this.props.onRowsRendered;l({overscanStartIndex:r,overscanStopIndex:i,startIndex:s,stopIndex:a})}},{key:"_setRef",value:function(o){this.Grid=o}},{key:"_setScrollbarWidth",value:function(){var o=this.getScrollbarWidth();this.setState({scrollbarWidth:o})}}]),e}(f.PureComponent);te(OB,"defaultProps",{disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:vB,overscanRowCount:10,rowRenderer:LB,headerRowRenderer:kB,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}});OB.propTypes={};var sa=[],Up=null,Tl=null;function DB(){Tl&&(Tl=null,document.body&&Up!=null&&(document.body.style.pointerEvents=Up),Up=null)}function Ixe(){DB(),sa.forEach(function(t){return t.__resetIsScrolling()})}function Exe(){Tl&&Yd(Tl);var t=0;sa.forEach(function(e){t=Math.max(t,e.props.scrollingResetTimeInterval)}),Tl=sS(Ixe,t)}function FB(t){t.currentTarget===window&&Up==null&&document.body&&(Up=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),Exe(),sa.forEach(function(e){e.props.scrollElement===t.currentTarget&&e.__handleWindowScrollEvent()})}function lT(t,e){sa.some(function(n){return n.props.scrollElement===e})||e.addEventListener("scroll",FB),sa.push(t)}function cT(t,e){sa=sa.filter(function(n){return n!==t}),sa.length||(e.removeEventListener("scroll",FB),Tl&&(Yd(Tl),DB()))}var uS=function(e){return e===window},Ip=function(e){return e.getBoundingClientRect()};function dT(t,e){if(t)if(uS(t)){var n=window,o=n.innerHeight,r=n.innerWidth;return{height:typeof o=="number"?o:0,width:typeof r=="number"?r:0}}else return Ip(t);else return{height:e.serverHeight,width:e.serverWidth}}function kxe(t,e){if(uS(e)&&document.documentElement){var n=document.documentElement,o=Ip(t),r=Ip(n);return{top:o.top-r.top,left:o.left-r.left}}else{var i=NB(e),s=Ip(t),a=Ip(e);return{top:s.top+i.top-a.top,left:s.left+i.left-a.left}}}function NB(t){return uS(t)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:t.scrollTop,left:t.scrollLeft}}var uT,pT;function hT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,o)}return n}function Rxe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hT(n,!0).forEach(function(o){te(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hT(n).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var Pxe=150,HB=function(){return typeof window<"u"?window:void 0},Lxe=(pT=uT=function(t){rr(e,t);function e(){var n,o;vn(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return o=nr(this,(n=or(e)).call.apply(n,[this].concat(i))),te(pe(o),"_window",HB()),te(pe(o),"_isMounted",!1),te(pe(o),"_positionFromTop",0),te(pe(o),"_positionFromLeft",0),te(pe(o),"_detectElementResize",void 0),te(pe(o),"_child",void 0),te(pe(o),"state",Rxe({},dT(o.props.scrollElement,o.props),{isScrolling:!1,scrollLeft:0,scrollTop:0})),te(pe(o),"_registerChild",function(a){a&&!(a instanceof Element)&&console.warn("WindowScroller registerChild expects to be passed Element or null"),o._child=a,o.updatePosition()}),te(pe(o),"_onChildScroll",function(a){var l=a.scrollTop;if(o.state.scrollTop!==l){var c=o.props.scrollElement;c&&(typeof c.scrollTo=="function"?c.scrollTo(0,l+o._positionFromTop):c.scrollTop=l+o._positionFromTop)}}),te(pe(o),"_registerResizeListener",function(a){a===window?window.addEventListener("resize",o._onResize,!1):o._detectElementResize.addResizeListener(a,o._onResize)}),te(pe(o),"_unregisterResizeListener",function(a){a===window?window.removeEventListener("resize",o._onResize,!1):a&&o._detectElementResize.removeResizeListener(a,o._onResize)}),te(pe(o),"_onResize",function(){o.updatePosition()}),te(pe(o),"__handleWindowScrollEvent",function(){if(o._isMounted){var a=o.props.onScroll,l=o.props.scrollElement;if(l){var c=NB(l),d=Math.max(0,c.left-o._positionFromLeft),p=Math.max(0,c.top-o._positionFromTop);o.setState({isScrolling:!0,scrollLeft:d,scrollTop:p}),a({scrollLeft:d,scrollTop:p})}}}),te(pe(o),"__resetIsScrolling",function(){o.setState({isScrolling:!1})}),o}return En(e,[{key:"updatePosition",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollElement,r=this.props.onResize,i=this.state,s=i.height,a=i.width,l=this._child||Mo.findDOMNode(this);if(l instanceof Element&&o){var c=kxe(l,o);this._positionFromTop=c.top,this._positionFromLeft=c.left}var d=dT(o,this.props);(s!==d.height||a!==d.width)&&(this.setState({height:d.height,width:d.width}),r({height:d.height,width:d.width}))}},{key:"componentDidMount",value:function(){var o=this.props.scrollElement;this._detectElementResize=yB(),this.updatePosition(o),o&&(lT(this,o),this._registerResizeListener(o)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(o,r){var i=this.props.scrollElement,s=o.scrollElement;s!==i&&s!=null&&i!=null&&(this.updatePosition(i),cT(this,s),lT(this,i),this._unregisterResizeListener(s),this._registerResizeListener(i))}},{key:"componentWillUnmount",value:function(){var o=this.props.scrollElement;o&&(cT(this,o),this._unregisterResizeListener(o)),this._isMounted=!1}},{key:"render",value:function(){var o=this.props.children,r=this.state,i=r.isScrolling,s=r.scrollTop,a=r.scrollLeft,l=r.height,c=r.width;return o({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:l,isScrolling:i,scrollLeft:a,scrollTop:s,width:c})}}]),e}(f.PureComponent),te(uT,"propTypes",null),pT);te(Lxe,"defaultProps",{onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:Pxe,scrollElement:HB(),serverHeight:0,serverWidth:0});const Mxe=t=>{const{groups:e,filters:n,onFiltersChanged:o,onGroupPathChanged:r}=t,i=V(xo),{classes:s}=Oxe();return L("div",{className:s.container,children:[L("div",{className:s.header,children:[u(PK,{search:n.search,onChange:o,expanded:!0}),u(fk,{onChange:o,dark:i,selectedTags:n.tags}),u("div",{className:s.sortContainer,children:u(M2,{type:n.sort.type,reverse:n.sort.reverse,onChange:o,dark:i})})]}),e.length>0&&u("div",{style:{padding:"15px 20px 0 20px"},children:u(I8,{groups:e,onClick:r,margin:{top:15,left:20,right:20}})})]})},Oxe=K()({container:{width:"100%",display:"flex",flexDirection:"column",zIndex:1,marginBottom:15},header:{display:"flex",padding:"4px 20px",minHeight:"44px",alignItems:"center",gap:15,background:"var(--light-grey-5)",".termius-dark-theme &":{background:"var(--card-c)"}},sortContainer:{flexShrink:0}}),BB=t=>{var s,a;const{item:e}=t,n=On.label(e),o=On.description(e),r=On.icon(e),i=(a=(s=e.ssh_config)==null?void 0:s.identity)==null?void 0:a.username;return u(zB,{label:n,description:o||`SSH${i?`, ${i}`:""}`,icon:r})},Dxe=t=>{const{item:e}=t,n=Mp.label(e),o=Mp.description(e),r=Mp.icon();return u(zB,{label:n,description:o,icon:r})},fT=t=>{const{check:e,className:n}=t,{classes:o}=Fxe();return u(x8,{className:ce(o.checkbox,n),checked:e!=="none",name:"",indeterminate:e==="alternative"})},Fxe=K()({checkbox:{marginRight:"15px",marginLeft:"2px",width:"15px",height:"15px"}}),zB=t=>{const{classes:e}=Nxe(),{label:n,description:o,icon:r}=t;return u(Lr,{title:u("div",{className:e.text,children:u(Z,{ellipsis:!0,fontSize:14,color:"primary",children:n})}),subtitle:u(Z,{className:e.text,fontSize:12,color:"secondary",children:o}),icon:u(Uo,{icon:r}),className:e.f})},Nxe=K()({text:{textOverflow:"ellipsis",display:"flex"},f:{flex:1}}),I7=t=>{const{onClick:e,className:n,children:o,innerKey:r,style:i,selected:s}=t,{classes:a}=Hxe();return u("div",{className:ce(a.item,s?a.select:void 0,n),onClick:e,style:i,children:o},r)},Hxe=K()({item:{display:"flex",flexDirection:"row",alignItems:"center",borderRadius:"10px",flexGrow:1,"--hover-color":"var(--light-grey-5)","--text-color":"var(--dark-grey-1)",".termius-dark-theme &":{"--hover-color":"var(--dark-grey-5)","--text-color":"var(--light-grey-7)"},color:"var(--text-color)"},select:{justifyContent:"space-between",padding:"0 10px"}}),Bxe=t=>{const{classes:e}=zxe(),{onClick:n,className:o}=t;return u("div",{className:ce(o,e.endItem),children:u(Ue,{className:e.openGroupButton,disableHover:!0,size:"small",color:"regular",onClick:r=>{r.stopPropagation(),n()},children:u(dn,{className:e.arrow})})})},zxe=K()({endItem:{display:"none"},openGroupButton:{height:"30px",backgroundColor:"var(--light-grey-6)",".termius-dark-theme &":{backgroundColor:"var(--dark-grey-3)"},color:"var(--main)","&:hover":{color:"var(--accent)"}},arrow:{transform:"rotate(-90deg)"}}),mT=()=>{const{classes:t}=Vxe();return u(hn,{offsetTop:95,className:t.wrapper,children:u(wo,{title:"No permission to create hosts",text:"Please ask the vault editor to grant permission or create hosts.",icon:u(ic,{height:"25px",width:"25px"})})})},Vxe=K()({wrapper:{justifyContent:"flex-start"}}),Wxe={selectedHosts:[],selectedGroups:new Map},jxe=t=>{const e=V(E8),n=V(a=>gC(a,t??[])),o=a=>e.find(l=>l.local_id===a),r=(a,l,c)=>{if(a==null)return{selectedHosts:l,selectedGroups:c};const d=o(a);if(d==null)return{selectedHosts:l,selectedGroups:c};const p=new Map(c),h=d.children_hosts.some(g=>l.find(C=>C.local_id===g.local_id)),m=d.children_hosts.every(g=>l.find(C=>C.local_id===g.local_id));return h&&d.local_id!=null?p.set(d.local_id,m?"full":"partial"):d.local_id!=null&&p.delete(d.local_id),d.parent_group!=null?r(d.parent_group.local_id,l,p):{selectedHosts:l,selectedGroups:p}};let i=n!=null?[...n]:[],s=new Map;return n.forEach(a=>{var d;const{selectedHosts:l,selectedGroups:c}=r((d=a.group)==null?void 0:d.local_id,i,s);i=l,s=c}),{selectedHosts:i,selectedGroups:s,maybeUpdateGroup:r,findGroupById:o}},Uxe=()=>{const[t,e]=f.useState(T8()),[n,o]=f.useState([]),r=l=>{e({...t,...l})},i=l=>{const c=l[l.length-1];o(l),e({...t,groupId:c?c.local_id:null})};return{hostFilter:t,groupPath:n,onFiltersChanged:r,onGroupPathClick:i,handleOpenGroup:l=>{o([...n,l]),e({...t,groupId:l.local_id})},renderFilters:()=>u(Mxe,{groups:n,filters:t,onFiltersChanged:r,onGroupPathChanged:i})}},$xe=t=>{const e=ua("hosts"),n=ua("groups"),o=LK(n,t),r=MK(e,t,n);return{items:[...Mn(o.length>0,["Groups"]),...o,...Mn(r.length>0,["Hosts"]),...r],allHosts:e,allGroups:n,hosts:r,groups:o}},VB=t=>{const{classes:e}=qxe(),{initHosts:n,handleHosts:o,isEntityEditingDisabled:r}=t;Ao(()=>{o(n??[])});const{findGroupById:i,maybeUpdateGroup:s,...a}=jxe(n),{hostFilter:l,handleOpenGroup:c,renderFilters:d}=Uxe(),{items:p,hosts:h,allHosts:m,groups:g,allGroups:C}=$xe(l),[v,S]=f.useState({...Wxe,...a}),y=T=>{T.selectedHosts!=null&&o(T.selectedHosts),S(A=>({...A,...T}))},b=T=>{if(T instanceof _t)return v.selectedHosts.find(A=>A.local_id===T.local_id)?"normal":"none";if(T instanceof Pm){if(T.local_id==null)return"none";const A=v.selectedGroups.get(T.local_id);return A?A==="full"?"normal":"alternative":"none"}return"none"},w=T=>{var D;const A=[...v.selectedHosts],k=A.findIndex(F=>F.local_id===T.local_id);k!==-1?A.splice(k,1):A.push(T);const{selectedHosts:R,selectedGroups:M}=s((D=T.group)==null?void 0:D.local_id,A,v.selectedGroups);y({selectedHosts:R,selectedGroups:M})},x=T=>{var D;const A=new Map(v.selectedGroups),k=[...v.selectedHosts];T.local_id!=null&&A.has(T.local_id)?(T.children_groups.forEach(F=>{if(F.local_id){const z=i(F.local_id);(z==null?void 0:z.local_id)!=null&&A.delete(z.local_id)}}),T.children_hosts.forEach(F=>{k.splice(k.findIndex(z=>z.local_id===F.local_id),1)})):(T.children_groups.forEach(F=>{if(F.local_id!=null){const z=i(F.local_id);(z==null?void 0:z.local_id)!=null&&A.set(z.local_id,"full")}}),T.children_hosts.forEach(F=>{k.push(F)}));const{selectedGroups:R,selectedHosts:M}=s((D=T.parent_group)==null?void 0:D.local_id,k,A);y({selectedHosts:M,selectedGroups:R})},_=({index:T})=>{const A=p[T];return A==="Groups"?23:A==="Hosts"?38:60},I=()=>{if(h.length===0&&g.length===0)return l.search.length>0||l.tags.length>0?u(Au,{offsetTop:50,className:e.emptySearchWrapper}):r?u(mT,{}):u(hn,{className:e.emptyScreenWrapper,children:u(S7,{isCompactView:!0})});const T=({index:A,style:k,key:R})=>{const M=p[A];return M instanceof Pm?L(I7,{style:k,onClick:()=>x(M),className:e.groupItem,selected:!0,children:[u(fT,{check:b(M)}),u(Dxe,{item:M}),u(Bxe,{className:e.endItem,onClick:()=>c(M)})]},R):M instanceof _t?L(I7,{style:k,className:e.hostItem,onClick:()=>w(M),selected:!0,children:[u(fT,{check:b(M)}),u(BB,{item:M})]},R):M==="Groups"||M==="Hosts"?u("div",{style:k,className:e.sectionTitle,children:M},R):null};return u(SB,{children:({width:A,height:k})=>u(_B,{className:e.list,width:A,height:k,rowCount:p.length,rowHeight:_,rowRenderer:T})})};return m.length===0&&C.length===0?r?u(mT,{}):u(hn,{offsetTop:95,className:e.emptyScreenWrapper,children:u(S7,{isCompactView:!0})}):L("div",{style:{backgroundColor:"var(--foreground)",height:"100%",position:"relative"},children:[d(),u("div",{style:{padding:"0px 10px",height:"calc(100% - 80px)"},children:I()})]})},qxe=K()((t,e,n)=>({emptyScreenWrapper:{paddingLeft:10,paddingRight:10},emptySearchWrapper:{paddingLeft:10,paddingRight:10},list:{overflow:"overlay",height:"auto"},hostItem:{"&:hover":{backgroundColor:"var(--hover-color)"}},groupItem:{"&:hover":{backgroundColor:"var(--hover-color)",[`& .${n.endItem}`]:{display:"block"}}},endItem:{display:"none"},sectionTitle:{padding:"0px 10px 5px 10px",display:"flex",alignItems:"flex-end",fontWeight:"bold"}})),Gxe=t=>{const{editableEntity:e,isDisabled:n,handleClose:o,autosaveForm:r}=t,{updateFieldValue:i,handleSubmit:s}=r,a=V(Nh),[l,c]=f.useState([]),d=()=>{o(),i({fieldName:"targetHosts",fieldValue:l}),s({useAutosave:!1,triggerSource:"explicit"})};return L(Nn,{children:[u(mB,{title:"Add targets",onBack:o}),u(VB,{handleHosts:c,initHosts:e.targetHosts,isEntityEditingDisabled:n}),u(h_e,{saveTargetHosts:d,isHidden:a.length===0})]})},WB=f.createContext(void 0),Kxe=WB.Provider;function jB(){const t=f.useContext(WB);return Ce(t,"SnippetSidebarProvider is not found in the component tree"),t}const Zxe=t=>t.runSnippet.saveToggle,Qxe=({setTargetHosts:t,targetHosts:e,isDisabled:n,handleClose:o,autosaveForm:r})=>{const{handleSubmit:i,updateFieldValue:s}=r,a=de(),{runInWorkspace:l}=jB(),c=V(Zxe),d=()=>{!c||n||(o(),s({fieldName:"targetHosts",fieldValue:e}),i({useAutosave:!1,triggerSource:"explicit"}))},p=(m,g)=>{n||a(OK(g))},h=()=>{d(),l({targetHosts:e})};return L(Nn,{children:[u(mB,{title:"Select targets",onBack:o}),u(VB,{handleHosts:t,initHosts:[],isEntityEditingDisabled:n}),u(f_e,{saveToggle:n?!1:c,onSaveToggle:p,targetsLength:e.length,isSaveToggleDisabled:n,runInWorkspace:h})]})},gT=()=>{const{classes:t}=$B();return L("div",{className:t.item,children:[u("div",{className:t.iconHost,children:u(qge,{width:20,height:20})}),L("div",{className:t.description,children:[u(Z,{fontSize:14,color:"secondary",children:"IP or Hostname"}),u(Z,{fontSize:12,color:"secondary",children:"SSH"})]})]})},UB=t=>{const{classes:e}=$B(),{targetHosts:n,onEdit:o,isDisabled:r}=t,i=V(s=>gC(s,n??[]));return i&&i.length>0?L(Lt,{children:[L("div",{className:e.header,children:[u(Z,{bold:!0,fontSize:14,color:"main",children:"Targets"}),!r&&u("button",{type:"button",onClick:o,className:e.button,children:"Edit"})]}),i.map(s=>s==null?null:u(I7,{className:e.itemContainer,children:u(BB,{item:s})},s.local_id))]}):r?null:L(Lt,{children:[u(Z,{bold:!0,fontSize:14,color:"main",children:"Targets for execution"}),u(Z,{fontSize:12,color:"secondary",children:"Automate work with snippets. Add target hosts and automatically run the snippet on them in one click!"}),u(gT,{}),u(gT,{}),u(Ue,{variant:"text",size:"medium",color:"accent",onClick:o,fullWidth:!0,className:e.addButton,children:"Add targets"})]})},$B=K()({header:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:15},itemContainer:{height:60,padding:10,backgroundColor:"var(--background)",borderRadius:16},button:{backgroundColor:"transparent",border:"none",color:"var(--accent)",fontSize:14,fontWeight:"bold","&:disabled":{color:"var(--light-grey-3)",".termius-dark-theme &":{color:"var(--dark-grey-6)"}}},item:{backgroundColor:"var(--background)",padding:10,display:"flex",flexDirection:"row",gap:10,borderRadius:16,".termius-dark-theme &":{backgroundColor:"var(--card-c)"}},iconHost:{backgroundColor:"var(--light-grey-3)",width:40,height:40,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"center",color:"var(--white)",".termius-dark-theme &":{backgroundColor:"var(--card-a)",color:"var(--dark-grey-7)"}},description:{display:"flex",flexDirection:"column",justifyContent:"space-between",flex:1},addButton:{fontSize:14,height:36,fontWeight:500}});function ud(t){return Ce(t!=null&&!Yxe(t),"Multiselect is not supported for package"),t.label}function Yxe(t){return j8(t)}const qB=({isTerminal:t=!1})=>{const e=V(DK),n=V(Na),o=V(cg),r=de(),{classes:i,cx:s}=Xxe(),a=f.useCallback(()=>{r(FK())},[r]);return n&&!o||!e?null:L(Lt,{className:s(i.shellAssistHint,{[i.terminalShellAssistHint]:t}),children:[L(Z,{children:[u(ls,{})," Termius can write the code for you!"]}),L(Z,{children:["Just write the desired action in the Action Description field, press"," ",u(ls,{})," icon and Termius will generate the matching script"]}),L(Z,{children:["Please note that action descriptions may be monitored when the"," ",u(ls,{})," icon is clicked."]}),u(Ue,{onClick:a,fullWidth:!0,customTransparency:t,children:"Ok, got it"})]})},Xxe=K()({shellAssistHint:{color:"var(--main)"},terminalShellAssistHint:{backgroundColor:Q.uiColorA10,color:oe.inputTextColor.value,"& > button":{backgroundColor:oe.buttonBackgroundColor.value,color:oe.buttonColor.value,"&:hover":{backgroundColor:oe.buttonBackgroundColorHover.value,color:oe.buttonColorHover.value}}}}),Jxe="5.7.5",eAe=100,tAe=0,nAe=250,oAe=1080,rAe=1080,iAe="Comp 1",sAe=0,aAe=[],lAe=[{ddd:0,ind:0,ty:3,nm:"",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[87.75,120.5749969482422],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,ip:0,op:251,st:0,bm:0,hd:!1},{ddd:0,ind:1,ty:3,nm:"",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,ip:0,op:251,st:0,bm:0,hd:!1,parent:0},{ddd:0,ind:2,ty:4,nm:"01",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,parent:1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:0,k:{c:!1,v:[[0,320.768],[90.04,90.04],[279.5,.001],[86.289,-80.661],[0,-320.768],[-86.289,-80.661],[-279.5,.001],[-90.04,90.04],[0,320.768]],i:[[0,0],[-71.282,75.033],[0,0],[67.664,69.276],[0,0],[78.786,-80.661],[0,0],[-79.738,-83.934],[0,0]],o:[[0,0],[79.738,-83.934],[0,0],[-78.786,-80.661],[0,0],[-67.664,69.276],[0,0],[71.282,75.033],[0,0]]}}},{ty:"fl",c:{a:0,k:[1,.8470588235294118,.2],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[624.75,383.018],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:1,k:[{t:0,s:[0,0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:33,s:[120,120],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:50,s:[100,100],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:60,s:[0,0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:110,s:[0,0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:143,s:[120,120],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:160,s:[100,100],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:170,s:[0,0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},r:{a:0,k:0,ix:2},o:{a:1,k:[{t:0,s:[0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:33,s:[100],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:50,s:[100],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:60,s:[0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:110,s:[0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:143,s:[100],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:160,s:[100],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:170,s:[0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:251,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"02",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,parent:1,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:0,k:{c:!1,v:[[0,225.5],[63.298,63.298],[196.488,0],[60.661,-56.705],[0,-225.5],[-60.661,-56.705],[-196.488,0],[-63.298,63.298],[0,225.5]],i:[[0,0],[-50.111,52.749],[0,0],[47.568,48.701],[0,0],[55.386,-56.704],[0,0],[-56.056,-59.005],[0,0]],o:[[0,0],[56.056,-59.005],[0,0],[-55.386,-56.704],[0,0],[-47.568,48.701],[0,0],[50.111,52.749],[0,0]]}}},{ty:"fl",c:{a:0,k:[1,.8470588235294118,.2],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[196.738,225.75],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:1,k:[{t:17,s:[0,0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:50,s:[120,120],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:67,s:[100,100],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:77,s:[0,0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:127,s:[0,0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:160,s:[120,120],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:177,s:[100,100],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:187,s:[0,0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},r:{a:0,k:0,ix:2},o:{a:1,k:[{t:17,s:[0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:50,s:[100],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:67,s:[100],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:77,s:[0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:127,s:[0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:160,s:[100],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:177,s:[100],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:187,s:[0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:251,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"03",sr:1,ks:{o:{a:0,k:100,ix:2},r:{a:0,k:0,ix:2},p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:0,k:[100,100],ix:2}},ao:0,hd:!1,parent:0,shapes:[{ty:"gr",hd:!1,it:[{ty:"sh",hd:!1,d:1,ks:{a:0,k:{c:!1,v:[[0,152.924],[42.926,42.926],[133.25,-.001],[41.138,-38.455],[0,-152.924],[-41.138,-38.455],[-133.25,-.001],[-42.926,42.926],[0,152.924]],i:[[0,0],[-33.983,35.771],[0,0],[32.258,33.026],[0,0],[37.561,-38.455],[0,0],[-38.015,-40.015],[0,0]],o:[[0,0],[38.015,-40.015],[0,0],[-37.561,-38.455],[0,0],[-32.258,33.026],[0,0],[33.983,35.771],[0,0]]}}},{ty:"fl",c:{a:0,k:[1,.8470588235294118,.2],ix:2},o:{a:0,k:100,ix:2},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tm",s:{a:0,k:0,ix:2},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:2},m:1,hd:!1},{ty:"tr",hd:!1,p:{a:0,k:[316,685.675],ix:2},a:{a:0,k:[0,0],ix:2},s:{a:1,k:[{t:33,s:[0,0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:67,s:[120,120],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:83,s:[100,100],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:93,s:[0,0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:143,s:[0,0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:177,s:[120,120],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:193,s:[100,100],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:203,s:[0,0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},r:{a:0,k:0,ix:2},o:{a:1,k:[{t:33,s:[0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:67,s:[100],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:83,s:[100],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:93,s:[0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:143,s:[0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:177,s:[100],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:193,s:[100],i:{x:[1],y:[1]},o:{x:[0],y:[0]}},{t:203,s:[0],i:{x:[1],y:[1]},o:{x:[0],y:[0]}}],ix:2},sk:{a:0,k:0,ix:2},sa:{a:0,k:0,ix:2}}]}],ip:0,op:251,st:0,bm:0}],cAe=[],dAe={v:Jxe,fr:eAe,ip:tAe,op:nAe,w:oAe,h:rAe,nm:iAe,ddd:sAe,assets:aAe,layers:lAe,markers:cAe};function E3(){const{classes:t}=uAe();return NK({animationData:dAe,autoplay:!0,loop:!0,className:t.icon,style:{color:"inherit",fill:"currentColor"}}).View}const uAe=K()({icon:{color:"inherit","& svg path":{fill:"currentColor"}}}),GB=Se.forwardRef(({loading:t=!1,focused:e,disabled:n,tooltipProps:o,...r},i)=>{const{classes:s}=pAe();return u(Ea,{title:"Generate a snippet based on the action description",placement:"bottom-start",arrowOffset:"-5px",enterDelay:2e3,...o,children:u("div",{children:u(Tn,{className:ce({[s.disabled]:n||t}),...r,ref:i,disabled:n||t,children:L(qt,{children:[u(xe,{when:t,children:u("span",{className:ce(s.shellAssistGlitterIcon,{[s.shellAssistGlitterIconFocused]:e}),children:u(E3,{})})}),u(xe,{when:!t,children:u(ls,{className:ce({[s.shellAssistIcon]:!e&&!n,[s.shellAssistIconFocused]:e,[s.shellAssistIconDisabled]:n})})})]})})})})}),pAe=K()((t,e,n)=>({disabled:{"--buttonColor":"var(--light-grey-5)",color:"var(--light-grey-3)",".termius-dark-theme &":{"--buttonColor":"var(--dark-grey-4)",color:"var(--dark-grey-6)"},[`.${n.textedVariant}&`]:{color:"var(--light-grey-3)",".termius-dark-theme &":{color:"var(--dark-grey-6)"}}},spinner:{color:"var(--input-border-focused) !important"},shellAssistIcon:{color:"var(--icon-color)"},shellAssistGlitterIcon:{width:"16px",color:"var(--form-input-color)","--color":"var(--form-input-color)"},shellAssistGlitterIconFocused:{color:"var(--input-border-focused)","--color":"var(--input-border-focused)"},shellAssistIconFocused:{color:"var(--input-border-focused)"},shellAssistIconDisabled:{color:"var(--form-disabled-input-color)"},textedVariant:{}})),hAe=4,fAe=()=>"Create a new package by typing the name";function mAe({control:t,editableEntity:e,onShellAssistButtonClick:n,isDisabled:o,isShellAssistLoading:r=!1,isSnippetGenerationError:i=!1,selectTargets:s,shareSlot:a=null,showShellAssist:l=!1,handleSubmit:c,updateFieldValue:d}){const{classes:p}=gAe(),{runInWorkspace:h}=jB(),m=tt(),[g,C]=f.useState(!1),v=V(sc),S=V(cg),y=(v||S)&&l,b=e.label.length>hAe,w=!(e.label&&b),x=V(eP),_=V(vC),I=_.filter(F=>nh(F,e)),T=N2([...I,...x],ud),A=()=>{h({origin:"SnippetEditFormButton",targetHosts:e.targetHosts??void 0})},k=F=>{d({fieldName:"package",fieldValue:F}),c({useAutosave:!0,triggerSource:"explicit"})},R=async F=>{if(!F){k(null);return}const z=ud(F),j=_.find(H=>H.label===z);if(!j){const H=await We(m,nP,new Eo({label:z,is_shared:e.is_shared,encrypted_with:e.encrypted_with}));k(H);return}k(j)},M=()=>e.package?u(Ze,{left:20,children:u(fC,{disabled:o,label:"Remove",onClick:()=>R(null)})}):null,D=()=>y?u(Dm,{position:"end",style:{marginRight:"-7px"},children:u(GB,{onClick:n,disabled:w,loading:r,focused:g})}):null;return L(f.Fragment,{children:[L(So,{children:[l&&u(qB,{}),L(Lt,{children:[u(xt,{name:"label",control:t,render:({field:{ref:F,...z}})=>u($t,{...z,label:"Action description",disabled:o,placeholder:"Example: check network load",autoFocus:!0,fullWidth:!0,onFocus:()=>C(!0),onBlur:()=>C(!1),InputProps:{endAdornment:D(),inputProps:{maxLength:50,style:{marginRight:l&&(v||S)?"-20px":"0px"}}},InputLabelProps:{shrink:!0}})}),u("div",{className:p.packageContainer,children:u(xt,{name:"package",control:t,render:({field:{ref:F,...z}})=>u(tP,{...z,value:z.value??null,onChange:R,isDisabled:o,placeholder:"Add a Package",options:T,isClearable:!0,backspaceRemovesValue:!0,classNames:{rootClassName:p.packageSelector},endAdornment:M(),noOptionsMessage:fAe,"aria-label":"Package"})})}),u(xt,{name:"script",control:t,render:({field:{ref:F,...z}})=>u($t,{...z,label:"Script",multiline:!0,maxRows:10,minRows:6,required:!o,className:p.mono,disabled:o,fullWidth:!0})})]}),u(Or,{in:i,mountOnEnter:!0,unmountOnExit:!0,children:u(Lt,{children:u(iC,{status:"error",skipInternalMargin:!0,children:"Snippet generation is not available at the moment, please try again later."})})}),a,s!=null&&u(UB,{onEdit:s,targetHosts:e.targetHosts,isDisabled:o})]}),u(iS,{children:u(gB,{onClick:A,disabled:!e.script,children:"Run"})})]})}const gAe=K()({mono:{"&&& textarea":{fontFamily:"monospace"},"& textarea::-webkit-scrollbar":{display:"none"}},packageContainer:{display:"flex",alignItems:"center"},packageSelector:{"& .MuiInputBase-root":{"& .MuiInputBase-input":{"&:not(:placeholder-shown)":{padding:"0px 13px !important"}}}}}),vAe={aiForSnippets:"Snippets With AI",aiForAutocomplete:"Text To Command With AI",terminalSharing:"Terminal Sharing",backUpAndSync:"Secure Sync"};function Pc(t){const e=tt(),n=de(),o=V(Na);return async function(i){if(o)return!0;const{from:s,funnelId:a=Ie.v4()}=i;n(pR({from:s,feature:vAe[t],trial:"no",upgradeToProFunnelID:a}));const{authorized:l}=await Pt(e,{dialog:"FreeFeatures",target:ge(),options:{closeOnBackdropClick:!1},props:{variant:t}});return l}}const CAe=({onClose:t,menuItems:e,selectTargets:n,autosaveForm:o})=>{const r=de(),i=tt(),s=f.useRef(),[a,l]=f.useState(!1),[c,d]=f.useState(!1),p=V(co),h=V(lo),m=V(B2),{onChangeVault:g}=B1(),C=Ei(),v=Pc("aiForSnippets"),S=z=>!!z.script&&dt(new yt(z),p),{editableEntity:y,isValid:b,savingStatus:w,...x}=o,{handleSubmit:_,updateFieldValue:I}=x;ZE(()=>{s.current&&clearTimeout(s.current)});const T=!!(y!=null&&y.local_id),R=e(y,!T||!!w&&w!=="saved"),M=()=>{var H;if(!S(y)||h)return;r(xu({sharingButtonLocation:"Snippet Edit Screen",sharedEntity:"Snippet"}));const z=Ie.v4(),j=!!((H=y.targetHosts)!=null&&H.length);Pt(i,{dialog:"ShareAndInvite",target:ge(),options:{closeOnBackdropClick:!1},props:{entitiesToShare:{snippets:[y]},hasSharingSelector:j,entryPointForAnalytics:"Edit Snippet",teamTrialFunnelID:z}}).catch(He),r(he("createTeamWizardViewOpened",{createTeamWizardStep:"Description",openedFrom:"Edit Snippet",teamTrialFunnelID:z,trial:"yes"})),r(he("teamTrialFunnelStarted",{openedFrom:"Edit Snippet",teamTrialFunnelID:z,teamTrialPlan:"Team"}))},D=f.useCallback(async()=>{if(await v({from:"New Snippet Screen"}))try{s.current&&clearTimeout(s.current),r(dg({magicButtonOrigin:"Snippet",connectionID:void 0})),d(!1),l(!0);const j=await We(i,ug,{prompt:y.label});I({fieldName:"script",fieldValue:j.result}),_({useAutosave:!0,triggerSource:"explicit"})}catch{d(!0),s.current=setTimeout(()=>d(!1),5e3)}finally{l(!1)}},[r,y.label,_,v,i,I]),F=m?u(p9,{type:"snippet",onClick:M,disabled:!b||T}):null;return L(Nn,{onEsc:t,hasFormTag:!0,children:[u(fn,{left:u(mn,{title:T?"Edit Snippet":"New Snippet",children:u(ki,{entry:y,isValid:b,onChangeVault:g})}),right:L(Et,{margin:"md",children:[u(Ga,{status:w}),u(Tn,{ref:C.triggerRef,onClick:C.openMenu,disabled:Ri(R),"aria-label":"Snippet form extra options",children:u(Pi,{})}),u(Fo,{onClick:t})]})}),u(mAe,{shareSlot:F,showShellAssist:!T,selectTargets:n,onShellAssistButtonClick:D,isShellAssistLoading:a,isSnippetGenerationError:c,...o}),u(Sr,{onClose:C.closeMenu,autoClose:!0,open:C.isOpened,anchorEl:C.triggerRef.current,anchorOrigin:{horizontal:"left",vertical:"bottom"},transformOrigin:{horizontal:"left",vertical:"top"},menuItems:R})]})},yAe={label:"",package:null,script:"",targetHosts:null};function SAe(t){const{onClose:e,menuItems:n,rootFormId:o}=t,r=Xo(),[i,s]=f.useState([]),a=de(),l=V(Ht[r].formNavigation),c=l==null?void 0:l.activeFormRoute,d=As({rootFormId:o,currentSliderFormNavigation:l}),p=V(w=>mc.snippet(w,{page:r,formId:d})),h=V(co),C=Ha({defaultValues:yAe,isValidForSaving:w=>!!w.script&&dt(new yt(w),h),handleEntitySaved:w=>{var _;const{savedEntity:x}=w;a(rh({isSharedEntity:Wt(x==null?void 0:x.is_shared),snippetLength:x.script.length,snippetLines:x.script.split(`
`).length,snippetCreationSource:"Create Snippet Screen",createdSnippets:1,aianalyticsID:x.aianalyticsID,predefinedSnippetPackageID:(_=x.package)==null?void 0:_.analytics_id}))},formType:"snippet",entity:p,entityClass:yt,formId:d}),{isDisabled:v,editableEntity:S}=C,y=()=>{s([]),a(rg({page:r}))},b=()=>{a(Nd({page:r,formRoute:"saveTargets",entityLocalPath:ya({formType:"snippet"}),formId:un(),preview:void 0}))};return u(f.Fragment,{children:u(Si,{value:S,children:L(qt,{children:[u(xe,{when:c==="edit",children:u(CAe,{onClose:e,menuItems:n,selectTargets:b,autosaveForm:C})}),u(xe,{when:c==="saveTargets",children:u(Gxe,{editableEntity:S,isDisabled:v,handleClose:y,autosaveForm:C})}),u(xe,{when:c==="selectTargets",children:u(Qxe,{setTargetHosts:s,targetHosts:i,isDisabled:v,handleClose:y,autosaveForm:C})})]})})})}function bAe({isDisabled:t,control:e}){const{classes:n}=wAe();return u(So,{children:u(Lt,{children:L("div",{className:n.label,children:[u(aC,{icon:oP.icon()}),u(xt,{control:e,render:({field:{ref:o,...r}})=>u($t,{label:"Label",autoFocus:!0,disabled:t,fullWidth:!0,...r}),name:"label"})]})})})}const wAe=K()({label:{display:"flex",alignItems:"center"}}),_Ae={label:""};function xAe({onClose:t,menuItems:e}){const n=Xo(),{onChangeVault:o}=B1(),r=de(),i=V(rP),s=V(Ht[n].formNavigation),a=As({currentSliderFormNavigation:s}),l=V(_=>mc.snippetsPackage(_,{page:n,formId:a})),c=V(co),h=Ha({defaultValues:_Ae,isValidForSaving:_=>!!(_.label&&dt(_,c)),handleEntitySaved:_=>{const{savedEntity:I}=_;r(he("snippetPackageCreated",{isSharedEntity:Wt(I.is_shared),snippetPackages:i,packageOrigin:"Package Create Form",predefinedSnippetPackageID:I.analytics_id}))},formType:"snippetsPackage",entity:l,entityClass:Eo,formId:a}),{editableEntity:m,savingStatus:g,isDisabled:C,control:v}=h,S=Ei(),y=m==null?void 0:m.local_id,x=e(m,!y||!!g&&g!=="saved");return L(Nn,{onEsc:t,hasFormTag:!0,children:[u(fn,{left:u(mn,{title:y?"Edit Package":"New Package",children:u(ki,{...h,onChangeVault:o,entry:m})}),right:L(Et,{margin:"md",children:[u(Ga,{status:g}),u(Tn,{ref:S.triggerRef,onClick:S.openMenu,disabled:Ri(x),children:u(Pi,{})}),u(Fo,{onClick:t})]})}),u(bAe,{isDisabled:C,control:v}),u(Sr,{onClose:S.closeMenu,autoClose:!0,open:S.isOpened,anchorEl:S.triggerRef.current,anchorOrigin:{horizontal:"left",vertical:"bottom"},transformOrigin:{horizontal:"left",vertical:"top"},menuItems:x})]})}const KB=t=>{const{classes:e}=AAe(),{icon:n,title:o,subtitle:r,endAdornment:i,handleEnterDown:s}=t,a=l=>{s!=null&&l.key==="Enter"&&s(l)};return L("div",{className:ce(t.className,e.root),onKeyDown:a,children:[L("div",{className:e.titleGroup,children:[L("div",{className:e.title,children:[n&&u(Ze,{right:5,children:n}),o]}),i&&u("div",{className:e.endAdornment,children:i})]}),r&&u("div",{className:e.subtitleGroup,children:r})]})};KB.defaultProps={endAdornment:null,className:"",arrowIconClassName:"",isSelected:!1,disableCollapseArrow:!1};const AAe=K()({root:{padding:"10px 20px",display:"flex",flexDirection:"column",backgroundColor:"inherit",alignItems:"baseline",overflow:"hidden"},titleGroup:{display:"flex",flexDirection:"row",justifyContent:"space-between",overflow:"hidden",height:"28px",width:"100%"},title:{display:"flex",flexDirection:"row",overflow:"hidden",alignItems:"center",textOverflow:"ellipsis",whiteSpace:"nowrap"},subtitleGroup:{display:"flex",flexDirection:"row",justifyContent:"space-between",overflow:"hidden",width:"100%"},endAdornment:{}}),TAe=f.forwardRef(({item:t,handlePaste:e,handleSubmit:n,recalculateItemSize:o},r)=>{const{classes:i}=IAe(),[s,a]=f.useState("unsaved"),[l,c]=f.useState(""),d=f.useRef(),p=de(),h=y=>{c(y.target.value)},m=y=>{y.stopPropagation(),n(t,l),a("saved"),c(""),o(),setTimeout(()=>{a("unsaved")},5e3)},g=y=>{y.stopPropagation(),a("editing"),o(),p(sP())},C=y=>{y.stopPropagation(),e==null||e(t)},v=()=>{s==="unsaved"&&(a("expanded"),o()),s==="expanded"&&(a("unsaved"),o())},S=()=>{d.current?(clearTimeout(d.current),d.current=void 0,e==null||e(t)):d.current=setTimeout(()=>{d.current=void 0,v()},300)};return u(Mr,{innerRef:r,className:i.root,children:u("div",{onClick:S,children:u(KB,{title:L(f.Fragment,{children:[s==="editing"&&u(iP,{value:l,onChange:h,placeholder:"Set a label",InputProps:{disableUnderline:!0},autoFocus:!0,fullWidth:!0}),s!=="editing"&&u(Z,{color:"primary",children:t.script})]}),subtitle:s==="editing"||s==="expanded"?u(Z,{color:"primary",children:t.script}):null,endAdornment:L("div",{className:i.actionBar,children:[s==="editing"&&u(Ue,{className:ce(i.actionButton),size:"tiny",onClick:m,children:"Done"}),(s==="unsaved"||s==="expanded")&&u(Ue,{className:ce(i.actionButton),size:"tiny",onClick:g,children:"SAVE"}),(s==="unsaved"||s==="expanded")&&e!=null&&u(Ue,{className:ce(i.actionButton,i.actionButtonPaste),size:"tiny",onClick:C,children:"PASTE"}),s==="saved"&&L("div",{className:i.saved,children:[u(zh,{className:i.checkIcon}),"saved"]})]}),handleEnterDown:m})})})}),IAe=K()((t,e,n)=>({root:{padding:0,borderRadius:0,margin:0,backgroundColor:"var(--card-a)",border:"none","&:hover":{backgroundColor:"var(--list-hover)",[`& .${n.actionBar}`]:{display:"flex"}},".termius-dark-theme &":{backgroundColor:"var(--dark-grey-2)","&:hover":{backgroundColor:"var(--dark-grey-3)"}}},actionBar:{display:"none",flexDirection:"row",height:"100%",alignItems:"center"},actionButton:{width:"52px",backgroundColor:"var(--accent)",fontWeight:900,margin:"0 0 0 10px"},actionButtonPaste:{backgroundColor:"var(--dark-grey-4)"},checkIcon:{width:8,height:6,marginRight:6},saved:{textTransform:"uppercase",fontSize:7,color:"var(--main)",display:"flex",alignItems:"center",".termius-dark-theme &":{color:"var(--white)"}}})),vT=48,EAe=Se.memo(t=>{const{className:e,items:n,handlePaste:o,handleSubmit:r}=t,i=f.useRef(new Map),s=f.useRef(null),a=f.useCallback(c=>{setTimeout(()=>{var d;(d=s.current)==null||d.resetAfterIndex(c)})},[]),l=f.useMemo(()=>({list:[...n],refMap:i.current,callbacks:{handlePaste:o,handleSubmit:r,recalculateItemSize:a}}),[i,n,o,r,a]);return u(Bh,{children:({width:c,height:d})=>u(Dh,{ref:s,className:e,height:d,width:c,itemCount:l.list.length,itemData:l,itemSize:p=>{const h=i.current.get(E7(l.list[p],p));return h!=null&&h.clientHeight>vT?h==null?void 0:h.clientHeight:vT},children:kAe})})}),E7=(t,e)=>`historyCommand-${e}-${t.script.substring(0,10)}`,kAe=({index:t,style:e,data:n})=>{const o=n.list[t],{handlePaste:r,handleSubmit:i,recalculateItemSize:s}=n.callbacks;return u("div",{style:e,children:u(TAe,{ref:l=>{l&&n.refMap.set(E7(o,t),l)},item:o,handlePaste:r,handleSubmit:i,recalculateItemSize:()=>s(t)},E7(o,t))})},RAe=()=>u(hn,{offsetTop:95,children:u(wo,{title:"You don't have shell history yet",text:"Connect to a host via SSH to see your shell history here.",icon:u(hu,{height:"25px",width:"25px"})})}),PAe=t=>{const{onClose:e,oldVersion:n=!1}=t,o=de(),{classes:r}=LAe(),i=V(HK),s=f.useCallback((p,h)=>{const{script:m}=p;o(Ol.request(new yt({script:m,label:h}))),o(rh({isSharedEntity:"no",snippetLength:m.length,snippetLines:m.split(`
`).length,snippetCreationSource:"Global Commands History Screen",createdSnippets:1,aianalyticsID:void 0,predefinedSnippetPackageID:void 0}))},[o]),a=f.useCallback(()=>{o(BK.request())},[o]),l=Ei(),c=[{name:"Delete All",handler:a,icon:u($n,{htmlColor:"var(--red-dark)"})}],d=p=>{p.key.toLowerCase().includes("esc")&&(p.stopPropagation(),e())};return L("div",{className:r.list,onKeyDown:d,children:[u(fn,{left:u(mn,{title:"Shell History"}),right:L(Et,{margin:"sm",children:[u(Tn,{ref:l.triggerRef,onClick:l.openMenu,disabled:Ri(c),children:u(Pi,{})}),u(Fo,{onClick:e})]})}),i.length===0?u(RAe,{}):u(EAe,{className:n?r.itemsOld:r.items,items:i,handleSubmit:s}),u(Sr,{onClose:l.closeMenu,autoClose:!0,open:l.isOpened,anchorEl:l.triggerRef.current,anchorOrigin:{horizontal:"left",vertical:"bottom"},transformOrigin:{horizontal:"left",vertical:"top"},menuItems:c})]})},LAe=K()({list:{flex:1,display:"flex",flexDirection:"column",background:"var(--light-grey-6)",borderLeft:"1px solid var(--light-grey-4)",".termius-dark-theme &, .termius-dark-theme&":{background:"var(--dark-grey-2)",borderLeft:"1px solid var(--dark-grey-1)"}},items:{height:"14%",overflow:"overlay",width:320,padding:"12px 5px"},itemsOld:{height:"15.4%",overflowY:"auto",paddingTop:25,backgroundColor:"var(--light-grey-7)",".termius-dark-theme &, .termius-dark-theme&":{background:"var(--dark-grey-2)"}}});function MAe(t){const{onClosed:e,updateSliderAnimationProgress:n,resetSlider:o,isOpened:r,onClose:i,snippetMenuItems:s,snippetsPackageMenuItems:a,sliderOptions:l,runSnippetOrigin:c,runInWorkspace:d}=t,p=Xo(),h=V(eS[p].route),m=V(Ht[p].formNavigation),g=V(Ht[p].rootFormId),C=m==null?void 0:m.activeFormRoute,v=V(R2),S=V(_=>mc.snippet(_,{page:p,formId:g})),y=V(_=>Ur(_,S)),b=()=>{n(!0)},w=()=>{n(!1)};return f.useEffect(()=>{!(C==null)&&C!=="edit"&&!y&&i()},[v]),u(Kxe,{value:{runInWorkspace:({origin:_,targetHosts:I})=>{S&&d(S,_??c,I)}},children:u(V2,{isOpened:r,onOpenAnimationStarted:b,onOpenAnimationEnd:w,onCloseAnimationStarted:b,onCloseAnimationEnd:()=>{w(),o(),e==null||e()},children:L(qt,{children:[u(xe,{when:h==="snippet",children:u(SAe,{onClose:i,menuItems:s,rootFormId:g},l==null?void 0:l.wizardID)}),u(xe,{when:h==="snippetsPackage",children:u(xAe,{onClose:i,menuItems:a},l==null?void 0:l.wizardID)}),u(xe,{when:h==="historyCommands",children:u(PAe,{onClose:i},l==null?void 0:l.wizardID)})]})})})}const OAe=()=>{const[t,e]=f.useState(null),n=V(Ht.snippet.presenterPreview),o=aB({editableEntity:t,setEditableEntity:e,sliderPage:"snippet"}),r=o.shouldShowNewEntityPreview({type:"snippet"}),i=o.shouldShowNewEntityPreview({type:"snippetsPackage"}),s=f.useMemo(()=>r||i?n:null,[r,i,n]);return{...o,editableEntity:t,editablePreview:s}};function DAe(t){return!t.is_shared}function FAe(t){return t.some(e=>e instanceof yt)}const ZB=void 0,CT={contextMenuProperties:{open:!1},filters:dc(),selectedSnippetPackage:ZB};class QB extends f.Component{constructor(){super(...arguments);E(this,"state",pa(CT));E(this,"runSnippetWizardID",Ie.v4());E(this,"runSnippetOrigin","SnippetEditFormButton");E(this,"taskLogout");E(this,"taskRemoveEntity");E(this,"layoutRef",Se.createRef());E(this,"openMenu",(n,o)=>{const r=Ie.v4();this.setState({contextMenuProperties:{open:!0,...n,items:o,wizardID:r}}),this.props.dispatch(he("contextMenuOpened",{onScreen:"Snippets",openedVia:"Right Click",wizardID:r}))});E(this,"closeMenu",()=>{this.setState({contextMenuProperties:{open:!1}})});E(this,"clearLocalState",()=>{this.setState(pa(CT))});E(this,"handleDoubleClick",n=>{n instanceof yt&&this.executeSnippetOnHosts(n,"DoubleClick"),n instanceof Eo&&(this.props.onCloseSlider(),this.setState({selectedSnippetPackage:n}))});E(this,"handleEditFromMenu",n=>{this.handleEdit(n,"Context Menu")});E(this,"handleClickAllSnippets",async()=>{await this.props.onCloseSlider(),this.setState({selectedSnippetPackage:void 0})});E(this,"handleDuplicate",n=>{const{snippets:o}=this.filterSnippetsAndSnippetsPackages(n);this.props.dispatch(zK(o))});E(this,"filterSnippetsAndSnippetsPackages",n=>{const o=n.filter(i=>i instanceof yt),r=n.filter(i=>i instanceof Eo);return{snippets:o,snippetsPackages:r}});E(this,"handleRemove",async n=>{const{snippets:o,snippetsPackages:r}=this.filterSnippetsAndSnippetsPackages(n),i=r.reduce((c,d)=>c+(d.snippets_count??0),0),s=[{count:r.length,singular:"package",plural:"packages"},{count:o.length+i,singular:"snippet",plural:"snippets"}],a=s3(s),l=L1(s);try{await bs({title:`Remove ${l}`,text:`Are you sure you want to remove ${a}?`,confirmButtonTitle:"Remove",buttonColor:"error"})}catch(c){Po.swallow(c);return}await this.props.onCloseSlider();try{await We(this.context,VK,o)}catch{return}await We(this.context,WK,r)});E(this,"getNewSnippetCredentialsMode",()=>this.props.editableVaults.length<=1?ct(this.props.defaultVault):this.state.selectedSnippetPackage?ct(this.state.selectedSnippetPackage):ct(this.props.defaultVault));E(this,"addSnippet",()=>{const n=this.getNewSnippetCredentialsMode(),o=Ie.v4(),r=new yt({...n,package:this.state.selectedSnippetPackage}),{label:i,package:s,script:a,targetHosts:l}=r,c={label:i,package:s,script:a,targetHosts:l};this.props.onOpenSlider({entity:r,formType:"snippet",options:{wizardID:o},preview:c,entityVault:n,formId:Ie.v4()}),this.props.dispatch(he("newSnippetButtonPressed",{createSnippetOrigin:"Snippets Screen"}))});E(this,"addSnippetsPackage",()=>{const n=Ie.v4(),o=ct(this.props.defaultVault),r=new Eo({...o,label:""}),i={label:r.label};this.props.onOpenSlider({entity:r,formType:"snippetsPackage",options:{wizardID:n},preview:i,entityVault:o,formId:Ie.v4()}),this.props.dispatch(he("newSnippetPackageButtonPressed"))});E(this,"showHistoryCommands",()=>{(!this.props.isSliderOpened||this.props.formType!=="historyCommands")&&this.props.dispatch(he("commandsHistoryPanelOpened",{commandsHistorySource:"Global History",terminalSidePanelToggledVia:null,isWorkspace:"no",workspaceTemplateID:void 0})),this.props.onOpenSlider({entity:new CC({local_id:-1,script:"fakeEntity"}),formType:"historyCommands",preview:void 0,formId:Ie.v4()})});E(this,"onNewSnippetChevronToolbarButton",()=>{this.props.dispatch(he("toolbarChevronButtonPressed",{onScreen:"Snippets",associatedWith:"New Snippet"}))});E(this,"onFiltersChanged",n=>{this.setState({filters:{...this.state.filters,...n}})});E(this,"handleEnter",n=>{n.length===1&&this.executeSnippetOnHosts(n[0],"SnippetHotkey")});E(this,"handleSliderClosed",()=>{setTimeout(()=>{var n;(n=this.layoutRef.current)==null||n.focus()},250)});E(this,"executeSnippetOnHosts",(n,o,r)=>{var a,l;if(!(n instanceof yt))return;const{sliderOptions:i}=this.props;this.runSnippetOrigin=o,this.runSnippetWizardID=(i==null?void 0:i.wizardID)??Ie.v4();const s=new yt({...n,targetHosts:r!=null&&r.length?r:n.targetHosts});(a=s.targetHosts)!=null&&a.length?this.runSnippetOnTargetHosts(s,!!((l=n.targetHosts)!=null&&l.length)):this.openSelectTargetsScreen(s)});E(this,"snippetFormMenuItems",(n,o)=>{const{editableVaults:r}=this.props,i=dt([n],this.props.editableVaults),s=Ie.v4();return[{name:"Run",handler:()=>{this.executeSnippetOnHosts(n,"SnippetEditFormContextMenu")},icon:u(yx,{}),disabled:o},...yl({teamRole:this.props.teamRole,entities:[n],vaults:this.props.editableVaults,vaultsMembers:this.props.vaultsMembers,onCopy:this.onCopyToVault,onMove:i?this.onMoveToVault:void 0,onCloseMenu:this.closeMenu,shouldPromoteUpgrade:this.props.isStarterPlan,isAuthorized:this.props.isAuthorized,dispatch:this.props.dispatch,newVaultButtonType:this.props.newVaultButtonType,...os(this.context,this.props.dispatch,"Edit Snippet"),wizardID:s}),{visible:dt(n,r),name:"Duplicate",handler:()=>this.handleDuplicate([n]),icon:u(_7,{htmlColor:"var(--blue)",style:{transform:"rotate(180deg)"}}),disabled:o},{visible:Ln(n,r),name:"Remove",handler:()=>this.handleRemove([n]),icon:u($n,{htmlColor:"var(--red-dark)"}),disabled:o}]});E(this,"snippetsPackageFormMenuItems",(n,o)=>[{visible:Ln(n,this.props.editableVaults),name:"Remove",handler:()=>this.handleRemove([n]),icon:u($n,{htmlColor:"var(--red-dark)"}),disabled:o}]);E(this,"onCopyToVault",async(n,o,r)=>{await We(this.context,fi,{wizardID:r,entities:n,targetState:ct(o),cancelable:!0,operation:"Copy",source:"ContextMenu"})});E(this,"onMoveToVault",async(n,o,r)=>{await We(this.context,fi,{wizardID:r,entities:n,targetState:ct(o),cancelable:!0,operation:"Move",source:"ContextMenu"})});E(this,"menuItems",()=>{const n=this.state.contextMenuProperties;if(!n.open)return[];const{items:o,wizardID:r}=n,i=o.length===1?o[0]:void 0,s=yl({teamRole:this.props.teamRole,entities:this.getContextMenuItemsForCopying(),vaults:this.props.editableVaults,vaultsMembers:this.props.vaultsMembers,onCopy:this.onCopyToVault,onCloseMenu:this.closeMenu,dispatch:this.props.dispatch,shouldPromoteUpgrade:this.props.isStarterPlan,isAuthorized:this.props.isAuthorized,newVaultButtonType:this.props.newVaultButtonType,...os(this.context,this.props.dispatch,yT(i)),wizardID:r}),a=yl({teamRole:this.props.teamRole,entities:this.getContextMenuItemsForMoving(),vaults:this.props.editableVaults,vaultsMembers:this.props.vaultsMembers,onMove:this.onMoveToVault,onCloseMenu:this.closeMenu,dispatch:this.props.dispatch,shouldPromoteUpgrade:this.props.isStarterPlan,isAuthorized:this.props.isAuthorized,newVaultButtonType:this.props.newVaultButtonType,...os(this.context,this.props.dispatch,yT(i)),wizardID:r});return[{visible:i instanceof yt,name:"Run",handler:()=>{i!=null&&this.executeSnippetOnHosts(i,"SnippetCellContextMenu")},icon:u(yx,{}),upgrade:!1,endAdornment:L("div",{className:this.props.classes.menuButtons,children:[u(ho,{children:"Double Click"})," or ",u(ho,{children:u(Om,{})})]})},{visible:i!=null,name:Dd(i,this.props.editableVaults),handler:()=>i!=null&&this.handleEditFromMenu(i),icon:u(Cl,{}),endAdornment:u(ho,{children:"E"})},{visible:!this.props.isTeam,name:"Collaborate",handler:()=>this.onShareSnippetsAndPackagesViaPromo(o.filter(DAe)),icon:u(Pr,{})},...s,...a,{visible:FAe(o)&&dt(o,this.props.editableVaults),name:"Duplicate",handler:()=>this.handleDuplicate(o),icon:u(_7,{htmlColor:"var(--blue)",style:{transform:"rotate(180deg)"}})},{visible:Ln(o,this.props.editableVaults),name:"Remove",handler:()=>this.handleRemove(o),icon:u($n,{htmlColor:"var(--red-dark)"})}]});E(this,"onShareSnippetsAndPackagesViaPromo",async n=>{this.closeMenu();const{snippets:o,snippetsPackages:r}=this.filterSnippetsAndSnippetsPackages(n),i=await We(this.context,jK,{entities:n,targetState:ct(OR)}),s=this.getSharingFlowEntityType({snippets:o,snippetsPackages:r}),a=Ie.v4();this.sendSharingFlowAnalytics({sharedEntityType:s,funnelID:a}),Pt(this.context,{dialog:"ShareAndInvite",target:ge(),options:{closeOnBackdropClick:!1},props:{entitiesToShare:{snippets:o,snippetsPackages:r},hasSharingSelector:i,entryPointForAnalytics:s==="Snippets"?"Context Multiselect Snippets":`Context ${s}`,teamTrialFunnelID:a}}).catch(He)});E(this,"sendSharingFlowAnalytics",({sharedEntityType:n,funnelID:o})=>{const{dispatch:r}=this.props,i=n==="Snippets";r(he("shareButtonPressed",{sharingButtonLocation:i?"Snippets Multi-Select Context Menu":`${n} Context Menu`,sharedEntity:i?"Snippets Multi-Select":n})),r(he("createTeamWizardViewOpened",{createTeamWizardStep:"Description",openedFrom:i?"Context Multiselect Snippets":`Context ${n}`,teamTrialFunnelID:o,trial:"yes"})),r(he("teamTrialFunnelStarted",{openedFrom:i?"Context Multiselect Snippets":`Context ${n}`,teamTrialFunnelID:o,teamTrialPlan:"Team"}))});E(this,"handleSelect",()=>{});E(this,"handleEdit",async(n,o)=>{const r=Ie.v4(),i=Ie.v4();if(n instanceof yt){this.props.dispatch(he("editEntityScreenOpened",{entity:"Snippet",editButtonOrigin:o,entityID:Number(n.id??n.local_id)}));const s={label:n.label,script:n.script,package:n.package,targetHosts:n.targetHosts};this.props.onOpenSlider({entity:n,formType:"snippet",options:{wizardID:r},preview:s,formId:i})}if(n instanceof Eo){const s={label:n.label};this.props.onOpenSlider({entity:n,formType:"snippetsPackage",options:{wizardID:r},preview:s,formId:i}),this.props.dispatch(he("editEntityScreenOpened",{entity:"SnippetPackage",editButtonOrigin:o,entityID:Number(n.id??n.local_id)}))}});E(this,"tryEditFromKeyboard",n=>{if(!("items"in this.state.contextMenuProperties))return;const{open:o,items:r}=this.state.contextMenuProperties;!o||r.length!==1||n.key.toLowerCase()==="e"&&(this.setState({contextMenuProperties:{open:!1}}),this.handleEdit(r[0],"Entity Cell"))});E(this,"handleDragStart",n=>{const{snippets:o,snippetsPackages:r}=this.filterSnippetsAndSnippetsPackages(n);this.props.dispatch(UK({snippets:o.length,snippetsPackages:r.length}))});E(this,"handleDrop",async({over:n,dropped:o})=>{if(!(n instanceof Eo))return;const r=n,{snippets:i,snippetsPackages:s}=this.filterSnippetsAndSnippetsPackages(o);this.props.dispatch($K({snippets:i.length,snippetsPackages:s.length}));const a=i;if((await We(this.context,qK,{entities:a,targetState:ct(r)})).result==="Move"&&a.every(d=>nh(d,r))){await We(this.context,$b,{snippets:i,snippetsPackage:r,cancelable:!0});return}const{entities:c}=await We(this.context,fi,{wizardID:Ie.v4(),entities:a,targetState:ct(r),cancelable:!0,operation:"Move",source:"ContextMenu"});await We(this.context,$b,{snippets:[...c.filter(yt.is),...i.filter(d=>nh(d,r))],snippetsPackage:r})});E(this,"isDraggable",n=>n instanceof yt||n instanceof Eo?dt(n,this.props.editableVaults):!1);E(this,"isDroppable",(n,o,r)=>n instanceof Eo?dt(n,this.props.editableVaults)&&o&&!r:!1);E(this,"getItemDragBehaviour",(n,o,r)=>this.isDroppable(n,o,r)?"droppable":this.isDraggable(n)?"draggable":null);E(this,"entitiesListsData",YR((n,o,r)=>new ag([...Mn(!this.state.selectedSnippetPackage,[{listName:"Packages",entities:[...n&&this.props.formType==="snippetsPackage"?[n]:[],...o],presenter:oP}]),{listName:"Snippets",entities:[...n&&this.props.formType==="snippet"?[n]:[],...r],presenter:jk}])));E(this,"renderData",()=>{const{classes:n,snippets:o,snippetsPackages:r,sort:i,layout:s,onScreen:a,isSliderAnimationInProgress:l,onCloseSlider:c,editablePreview:d,filterEntitiesWithPreview:p,entitiesLayoutRef:h,formType:m,pageSliderFormPreview:g,sliderFormEntityLocalPath:C}=this.props,v=hR(C).localId,S=m==="snippetsPackage"?new Eo({...g,local_id:v}):new yt({...g,local_id:v}),y=fa(this.state.filters,i),b=GK(r,y),w=KK(o,y),x=ZK(w,this.state.selectedSnippetPackage,y),_=p(x,"snippet"),I=p(b,"snippetsPackage"),T=d?[d]:[],A=[...I,..._,...T],k=o.length||r.length,R=A.length===0&&!k,M=async()=>{c()};if(R)return u(Gd,{onClick:M,children:u(o_e,{})});const D=this.entitiesListsData(d,I,_);if(y.search&&k&&!A.length){const{selectedSnippetPackage:z}=this.state;return L("div",{className:ce(n.pageContent,n.gridBackground),style:{position:"relative"},children:[z&&u(r6,{onClickAllSnippets:this.handleClickAllSnippets,snippetsPackage:z}),u(Au,{offsetTop:z?45:95})]})}return this.state.selectedSnippetPackage&&!D.lengthOfEntities?L("div",{className:ce(n.pageContent,n.relativePageContent,{[n.gridBackground]:s==="grid"}),children:[this.state.selectedSnippetPackage&&u(r6,{onClickAllSnippets:this.handleClickAllSnippets,snippetsPackage:this.state.selectedSnippetPackage}),u(t_e,{})]}):L("div",{className:ce(n.pageContent,{[n.gridBackground]:s==="grid"}),children:[this.state.selectedSnippetPackage&&u(r6,{onClickAllSnippets:this.handleClickAllSnippets,snippetsPackage:this.state.selectedSnippetPackage}),u("div",{className:n.listWrapper,children:u(lg,{layout:s,entitiesLists:D,ref:_3(this.layoutRef,h),onMenu:this.openMenu,onEnter:this.handleEnter,onDoubleClick:this.handleDoubleClick,onSelect:this.handleSelect,onClickAway:M,onEdit:z=>this.handleEdit(z,"Entity Cell"),forcedSelectedItem:S,layoutSourceProps:{onScreen:a,disableLayoutResize:l,disableLayoutAutoFocus:this.props.isSliderOpened,editingOnClickMode:this.props.isSliderOpened},currentScreenForAnalytics:"Snippets",onDragStart:this.handleDragStart,onDrop:this.handleDrop,getItemDragBehaviour:this.getItemDragBehaviour})})]})})}componentDidMount(){this.taskLogout=this.context.run(this.watchLogout,this),this.taskRemoveEntity=this.context.run(this.watchRemoveEntity,this),this.props.dispatch(dC({page:"snippet"})),document.addEventListener("keydown",this.tryEditFromKeyboard)}componentWillUnmount(){var n,o;(n=this.taskLogout)==null||n.cancel(),(o=this.taskRemoveEntity)==null||o.cancel(),this.props.dispatch(uC({page:"snippet"})),document.removeEventListener("keydown",this.tryEditFromKeyboard)}*watchLogout(n){yield*fe(Li.request,()=>{n.clearLocalState(),n.props.resetSlider()})}*watchRemoveEntity(n){yield*fe(UR,({payload:o})=>{const{entitiesLocalPath:r}=o,i=n.props.sliderFormEntityLocalPath,s=n.state.selectedSnippetPackage;r.includes(i)&&n.props.resetSlider(),s&&r.includes(s.entityLocalPath)&&n.setState({selectedSnippetPackage:ZB})})}runSnippetOnTargetHosts(n,o){var p;if(!((p=n.targetHosts)!=null&&p.length))return;const{dispatch:r,openWorkspaceTemplate:i,onCloseSlider:s,fullState:a}=this.props,c=gC(a,n.targetHosts).map(h=>yC.createFromSnippetHost(h,n));if(!mC(c)){en(!1,"Trying to create a snippet workspace without connections");return}const d=new W8({label:n.displayLabel,workspaceTerminals:c});i(d,{workspaceMode:"snippet",connectionOrigin:"Run Snippet"}),r(he("snippetMultiExecutionStarted",{runSnippetOrigin:this.runSnippetOrigin,wizardID:this.runSnippetWizardID,numberOfSelectedHosts:n.targetHosts.length,usedSavedSnippetTargets:Wt(o)})),s()}openSelectTargetsScreen(n){const{dispatch:o,isSliderOpened:r,onOpenSlider:i}=this.props;o(he("snippetMultiExecutionTargetsOpened",{runSnippetOrigin:this.runSnippetOrigin,wizardID:this.runSnippetWizardID}));const s={label:n.label,script:n.script,package:n.package,targetHosts:n.targetHosts};r||i({entity:n,formType:"snippet",preview:s,options:{wizardID:this.runSnippetWizardID},formId:Ie.v4()}),o(Nd({entityLocalPath:ya({formType:"snippet"}),formRoute:"selectTargets",page:"snippet",preview:void 0,formId:Ie.v4()}))}getContextMenuItemsForCopying(){return this.state.contextMenuProperties.open?this.state.contextMenuProperties.items.filter(n=>Eo.is(n)?dt(n,this.props.editableVaults):!0):[]}getContextMenuItemsForMoving(){return this.state.contextMenuProperties.open?this.state.contextMenuProperties.items.filter(n=>dt(n,this.props.editableVaults)):[]}getSharingFlowEntityType({snippets:n,snippetsPackages:o}){return n.length&&o.length?"Snippets":n.length?"Snippet":"Snippet Package"}render(){const{sort:n,editableVaults:o,classes:r,showVaultsEmptyScreen:i}=this.props,{selectedSnippetPackage:s}=this.state,a=fa(this.state.filters,n),l=s?!dt(s,o):!1,c=()=>[{name:"New snippet package",handler:this.addSnippetsPackage,icon:u(YK,{className:r.snippetsPackageIcon}),disabled:l}];return i?u(Ic,{}):L(H2,{fullHeight:!0,children:[L(Fg,{children:[u(A3,{tab:"snippets",filters:a,largeHeight:!0,isLighten:!0,onFiltersChanged:this.onFiltersChanged,children:L(Et,{margin:"lg",children:[L(x3,{onClick:this.addSnippet,onMenuOpen:this.onNewSnippetChevronToolbarButton,menuItems:c,disabled:l,children:[u(Oi,{className:r.snippetIcon}),"New Snippet"]}),u("div",{className:r.newSnippetsPackageButtonContainer,children:L(li,{onClick:this.showHistoryCommands,children:[u(hu,{className:r.historyIcon}),"Shell History"]})})]})}),L(Se.Fragment,{children:[this.renderData(),u(Xh,{...this.state.contextMenuProperties,menuItems:this.menuItems(),onClose:this.closeMenu,autoClose:!0})]})]}),u(Jh,{value:"snippet",children:u(MAe,{isOpened:this.props.isSliderOpened,onClosed:this.handleSliderClosed,resetSlider:this.props.resetSlider,onClose:this.props.onCloseSlider,updateSliderAnimationProgress:this.props.setIsSliderAnimationInProgress,snippetMenuItems:this.snippetFormMenuItems,snippetsPackageMenuItems:this.snippetsPackageFormMenuItems,sliderOptions:this.props.sliderOptions,runSnippetOrigin:this.runSnippetOrigin,runInWorkspace:this.executeSnippetOnHosts})})]})}}E(QB,"contextType",uc);const NAe=t=>{var e;return{fullState:t,defaultVault:xs(t),sort:t.sorting.snippets,snippets:pg(t),snippetsPackages:vC(t),layout:Yh(t,"snippets"),editableVaults:co(t),vaultsMembers:gu(t),isTeamMember:QK(t),isAuthorized:Na(t),username:pc(t),isTeam:lo(t),newVaultButtonType:fu(t),showVaultsEmptyScreen:ac(t),isStarterPlan:Ra(t),teamRole:mu(t),sliderFormEntityLocalPath:Ht.snippet.rootFormLocalPath(t),pageSliderFormPreview:Ht.snippet.rootFormPreview(t),formRoute:(e=Ht.snippet.formNavigation(t))==null?void 0:e.activeFormRoute}},HAe={menuButtons:{display:"flex",gap:"3px",color:"var(--light-grey-3)",".termius-dark-theme &":{color:"var(--dark-grey-7)"}},listWrapper:{flex:"1 1 auto"},pageContent:{display:"flex",flexDirection:"column",flexGrow:1,background:"var(--entity-list-background)"},newSnippetsPackageButtonContainer:{position:"relative"},gridBackground:{background:"var(--entity-grid-background)"},historyIcon:{width:12,height:12,marginRight:2.5},snippetIcon:{width:12,height:12},snippetsPackageIcon:{width:12,height:12},relativePageContent:{position:"relative"}},BAe=kc(OAe)(QB),zAe=kc(T3),VAe=zAe(BAe),WAe=Je(_o(NAe)(VAe),HAe,{name:"ConnectedSnippets"}),yT=t=>t instanceof yt?"Context Snippet":t instanceof Eo?"Context Snippet Package":"Context Multiselect Snippets",jAe=({filter:t,tabId:e})=>{const{classes:n,cx:o}=UAe(),r=de(),i=f.useRef(null),s=V(Kh),a=V(eg),l=Y9(a,t),c=()=>{r(Dr({commandPaletteOpenedVia:"New Tab Empty State Search Field"}))},d=p=>{r(Dr({commandPaletteOpenedVia:"New Tab Empty State Search Field",userInput:p.target.value}))};return f.useEffect(()=>{var p;s===e&&((p=i.current)==null||p.focus())},[s,e]),u(Ee,{className:n.container,children:u($t,{inputRef:i,className:n.inputWrapper,placeholder:"Search hosts or tabs",value:"",onClick:c,onInput:d,InputProps:{endAdornment:u(Ee,{className:n.shortcut,children:l}),className:o(n.inputField)}})})},UAe=K()({container:{width:"100%",borderRadius:10,border:"1px solid transparent"},inputWrapper:{width:"100%"},inputField:{"--text-color":"var(--accent)",cursor:"text",backgroundColor:"var(--light-grey-4)",borderRadius:10,".termius-dark-theme &":{backgroundColor:"var(--dark-grey-1)",borderColor:"var(--dark-grey-5)"},"&::placeholder":{color:"var(--secondary)"}},shortcut:{minWidth:"31px",margin:"0 5px",color:"var(--secondary)"}});function $Ae(){var o;const t=(o=V(r=>SC(r,"commandPalette")))==null?void 0:o.shortcut,{classes:e}=qAe(),n=t?`
In the meantime, start connecting with ${t.toUpperCase()}`:"";return u(hn,{offsetTop:55,className:e.wrapper,children:u(wo,{title:"Recent sessions",text:`Your recent sessions will be visible here.${n}`,icon:u(kr,{height:"25px",width:"25px"})})})}const qAe=K()({wrapper:{flexGrow:1}});function YB({label:t,className:e}){const{classes:n,cx:o}=k3();return u(Z,{variant:"body1",color:"main",className:o([n.label,e]),ellipsis:!0,title:t,children:t})}function XB({text:t,className:e}){const{classes:n,cx:o}=k3();return u(Z,{variant:"body2",color:"secondary",ellipsis:!0,title:t,className:o([n.descriptionText,e]),children:t})}function JB({icon:t,iconClassName:e,onClick:n,isSelected:o,EndAdornmentComponent:r,children:i,className:s}){const{classes:a,cx:l}=k3();return u(Ee,{className:l([a.item,{[a.selected]:o},s]),onClick:n,role:"option","aria-selected":o,children:L(re,{direction:"row",gap:"20px",justifyContent:"space-between",alignItems:"center",children:[L(re,{direction:"row",alignItems:"center",flex:1,children:[u(Uo,{icon:t,iconClassName:l([a.icon,e])}),i]}),r]})})}function GAe({children:t,testId:e}){const{classes:n}=k3();return u(Ee,{className:n.container,children:u(re,{gap:"5px",className:n.list,"data-testid":e,children:t})})}const k3=K()({container:{width:"100%",height:"100%",overflowY:"auto","&::-webkit-scrollbar":{width:0}},list:{width:"100%"},item:{width:"100%",borderRadius:"10px",padding:"10px",border:"1px solid transparent",overflow:"hidden","&:nth-of-type(even)":{backgroundColor:"var(--entity-grid-background)",".termius-dark-theme &":{backgroundColor:"var(--dark-grey-4)"}},"&:hover":{"&&":{backgroundColor:"var(--list-hover)"}}},selected:{border:"1px solid var(--accent)",backgroundColor:"var(--accent-transparent) !important"},icon:{width:"20px",height:"20px",borderRadius:"6px","& svg":{maxWidth:"10px",maxHeight:"10px"}},label:{lineHeight:"20px",flex:"1 1 50%",maxWidth:"310px"},descriptionText:{flex:"1 1 50%",maxWidth:"310px",textAlign:"right"}}),KAe=t=>{const[e,n]=f.useState(new Set([])),[o,r]=f.useState(null),i=h=>{n(m=>{const g=new Set(m);return g.add(h),g})},s=h=>{n(m=>{const g=new Set(m);return g.delete(h),g})},a=()=>{n(new Set)},l=h=>{e.has(h)?s(h):i(h)},c=h=>{a(),r(h),i(h)},d=h=>{if(o==null){c(h);return}a();const m=t.findIndex(S=>S.local_id===o),g=t.findIndex(S=>S.local_id===h);if(m===-1||g===-1)return;const[C,v]=dR([m,g]);for(let S=C;S<=v;S+=1)i(t[S].local_id)};return[e,{handleSelection:(h,m)=>{switch(XK(h.nativeEvent)){case tZ:c(m);break;case eZ:l(m);break;case JK:d(m);break}},resetSelection:a,add:i,remove:s}]},ZAe=(t,e,n)=>{const o=V(ka),[r,{handleSelection:i,resetSelection:s,add:a,remove:l}]=KAe(t),c=(g,C)=>{g.detail===1?i(g,C):g.detail===2&&h(g,C)},d=g=>{g.key==="Enter"&&r.size>0&&(g.preventDefault(),m(r,"Enter"))},p=g=>{g.currentTarget.contains(g.relatedTarget)||s()},h=(g,C)=>{m(new Set([C]),"Double-click")},m=(g,C)=>{e(g,C),s()};return f.useEffect(()=>{const g=o===n;!(r.size>0)||g||s()},[n,o,s,r]),[r,{onClick:c,submitSelectedItems:m,selectSingleItem:a,deselectSingleItem:l,resetSelection:s,sectionHandlers:{onKeyDown:d,onFocusLost:p}}]},QAe=f.forwardRef(({actions:t,children:e,title:n,onKeyDown:o,onFocusLost:r},i)=>{const{classes:s}=YAe();return L(Ee,{className:s.card,onKeyDown:o,tabIndex:-1,ref:i,onBlur:r,component:"section",children:[L("header",{className:s.header,children:[u(Z,{className:s.headerTitle,variant:"boldBody1",color:"main",children:n}),u("div",{className:s.actions,children:t==null?void 0:t.map(({label:a,...l})=>u(Ue,{className:s.actionButton,size:"small",...l,children:a},a))})]}),e]})}),YAe=K()({card:{width:"100%",display:"flex",padding:"15px",flexDirection:"column",alignItems:"flex-start",gap:"10px",borderRadius:"20px",background:"var(--foreground)"},header:{display:"flex",alignItems:"center",gap:"10px",alignSelf:"stretch"},headerTitle:{flex:"1 0 0"},actions:{display:"flex",gap:"10px","&:empty":{display:"none"}},actionButton:{fontSize:"14px",textTransform:"none"}});function ez({tabId:t,onSubmit:e,title:n,listItems:o,testId:r,getActions:i,renderListItem:s,sectionRef:a}){const[l,c]=ZAe(o,e,t);return u(QAe,{title:n,actions:i==null?void 0:i(l,c),...c.sectionHandlers,ref:a,children:u(GAe,{testId:r,children:o.map(d=>s({item:d,listActions:c,selectedItems:l,commonItemProps:{isSelected:l.has(d.local_id),onClick:p=>c.onClick(p,d.local_id),key:d.local_id}}))})})}const tz=t=>t?[...tz(t.parent_group),t.label]:[],XAe=({host:t})=>!t||!t.local_id?"":[t.is_shared?"Shared":"Personal",...tz(t.group)].join(" / "),JAe=t=>({connection:new pt({host:t,quick:!1,isDetectOSEnabled:!1}),connectionOrigin:"New Tab Empty Screen"}),eTe=(t,e)=>{const n=de(),o=V(Kh),r=lt(Fa),i=c=>{const d=t.find(h=>h.local_id===c);if(!d)return;const p=r.findIndex(h=>h.id===o);e([JAe(d.host)],{targetTabPosition:p})},s=(c,d)=>{n(he("restoreConnectionsButtonPressed",{numberOfConnections:c.size,restoredBy:d})),c.forEach(i)},{createNewWorkspaceTemplate:a}=T3();return{restoreConnections:s,createWorkspace:c=>{const p=t.filter(m=>c.has(m.local_id)).map(yC.createFromHistory);if(n(he("createWorkspaceButtonPressed",{numberOfConnections:p.length})),!mC(p)){en(!1,"Trying to create a workspace without connections");return}const h=new W8({label:"",workspaceTerminals:p});a(h)}}},tTe=t=>t.host?On.icon(t.host):"unknown";function nTe({connectionsHistory:t,enterHosts:e,tab:n,onWorkspaceCreated:o}){const{createWorkspace:r,restoreConnections:i}=eTe(t,e);if(!t.length)return null;const s=l=>{r(l),o()},a=(l,c)=>{const d=l.size>0;return[{label:"Create a workspace",onClick:()=>s(l),disabled:!d,color:"regular"},{label:"Restore",onClick:()=>c.submitSelectedItems(l,"Enter"),disabled:!d,color:"accent"}]};return u(ez,{listItems:t,tabId:n.id,title:"Recent connections",onSubmit:i,renderListItem:({item:l,commonItemProps:c})=>{var d;return u(JB,{...c,icon:tTe(l),EndAdornmentComponent:u(XB,{text:XAe(l)}),children:u(YB,{label:(d=l.host)==null?void 0:d.displayLabel})})},getActions:a})}const oTe=()=>{const t=V(nZ),e=V(cc),n=new Set([]);return t.reduce((r,i)=>{var a;if(!((a=i.host)!=null&&a.local_id)||!i.local_id||n.has(i.host.local_id))return r;const s=e.find(l=>{var c;return pn(l.local_id)&&l.local_id===((c=i.host)==null?void 0:c.local_id)});return s?(n.add(s.local_id),[...r,{...i,host:s,local_id:i.local_id}]):r},[])},rTe=()=>V(V8).filter(e=>!!e.local_id);function iTe({label:t,onLabelSubmit:e,stopEditing:n,isEditing:o}){const{classes:r}=sTe(),i=f.useRef(!1),[s,a]=f.useState(t),l=h=>{if(h.key==="Enter"){if(h.stopPropagation(),!s)return;i.current=!0,n(),e(s)}h.key==="Escape"&&d()},c=h=>{const m=h.target.value;a(m)},d=()=>{if(!i.current){if(t)a(t);else{const h=s||oZ;e(h),a(h)}n()}};return o?u(Fk,{value:s,onChange:c,onBlur:d,onFocus:()=>{i.current=!1},onClick:h=>h.stopPropagation(),onKeyDown:l,placeholder:"New Workspace",autoFocus:!0,fullWidth:!0,disableUnderline:!0,className:r.editableLabelInput}):u(YB,{label:s})}const sTe=K()({editableLabelInput:{height:"14px"}}),kf=14;function aTe({workspaceTemplate:t,isSelected:e,onClick:n,selectWorkspaceTemplate:o,deselectWorkspaceTemplate:r,isDraft:i,onDraftSaved:s}){const{classes:a,cx:l}=lTe(),{deleteWorkspaceTemplate:c,renameWorkspaceTemplate:d}=T3(),p=de(),{local_id:h}=t,[m,g]=f.useState(!1),C=()=>{g(!0),o()},v=b=>{b.stopPropagation(),c(t.local_id),r(),p(he("workspaceTemplateDeleted"))},S=b=>{g(!1),o(),d(t,b),i&&s()};Ao(()=>{i&&C()});const y=Ks("connection",t.workspaceTerminals.length,!0);return u(JB,{isSelected:e,onClick:n,className:l([a.item],{[a.isEditing]:m}),EndAdornmentComponent:m?null:L(Se.Fragment,{children:[u(XB,{text:y,className:a.connectionsNumber}),L(re,{direction:"row",spacing:"5px",className:a.actions,children:[u(Tn,{onClick:C,className:a.actionButton,disableRipple:!0,disableHover:!0,"aria-label":"Rename workspace template",children:u(J6,{width:kf,height:kf,color:e?"var(--accent)":"var(--secondary)",className:a.actionIconRename})}),u(Tn,{onClick:v,className:a.actionButton,disableRipple:!0,disableHover:!0,"aria-label":"Delete workspace template",children:u(c3e,{width:kf,height:kf,color:e?"var(--accent)":"var(--secondary)",className:a.actionIconDelete})})]})]}),iconClassName:a.workspaceIcon,icon:"workspace",children:u(iTe,{isEditing:m,label:t.label,onLabelSubmit:S,stopEditing:()=>g(!1)},t.label)},h)}const lTe=K()((t,e,n)=>({item:{},isEditing:{backgroundColor:"transparent !important"},actions:{display:"none",[`.${n.item}:hover &`]:{display:"flex"}},connectionsNumber:{display:"block",[`.${n.item}:hover &`]:{display:"none"}},actionButton:{width:"20px",height:"20px"},actionIconDelete:{"&:hover":{color:"var(--red)"}},actionIconRename:{"&:hover":{color:"var(--main)"}},workspaceIcon:{backgroundColor:"var(--dark-grey-1)",color:"var(--green)"}}));function cTe({workspaceTemplates:t,tab:e,workspacesSectionRef:n,withDraft:o,onDraftSaved:r,openWorkspaceTemplate:i}){const{openWorkspaces:s}=a_e(t,i);return t.length?u(ez,{title:"Workspace templates",tabId:e.id,listItems:t,sectionRef:n,onSubmit:s,renderListItem:({item:a,listActions:l,commonItemProps:c})=>u(aTe,{...c,workspaceTemplate:a,selectWorkspaceTemplate:()=>{var d;(d=n==null?void 0:n.current)==null||d.focus(),l.selectSingleItem(a.local_id)},deselectWorkspaceTemplate:()=>{l.deselectSingleItem(a.local_id)},isDraft:o&&!a.label,onDraftSaved:r})}):null}function dTe({enterHosts:t,openWorkspaceTemplate:e,tab:n}){const{classes:o}=uTe(),r=f.useRef(null),i=oTe(),s=rTe(),[a,l]=f.useState(!1),c=!i.length&&!s.length,d=()=>{var p,h;l(!0),(p=r.current)==null||p.scrollIntoView({behavior:"smooth"}),(h=r.current)==null||h.focus()};return u(Ee,{className:o.root,children:L(Ee,{className:o.contentWrapper,children:[u(jAe,{tabId:n.id}),c?u($Ae,{}):L(f.Fragment,{children:[u(cTe,{openWorkspaceTemplate:e,workspaceTemplates:s,tab:n,workspacesSectionRef:r,withDraft:a,onDraftSaved:()=>l(!1)}),u(nTe,{connectionsHistory:i,enterHosts:t,tab:n,onWorkspaceCreated:d})]})]})})}const uTe=K()({root:{background:"var(--entity-grid-background)",height:"100%",overflow:"overlay",padding:"40px 20px"},contentWrapper:{maxWidth:"720px",width:"100%",height:"auto",minHeight:"100%",margin:"0 auto",display:"flex",alignItems:"flex-start",justifyContent:"flex-start",flexDirection:"column",gap:"20px"}}),nz=f.createContext(void 0),V1=nz.Provider,No=uk(nz);/*!
* tabbable 6.0.1
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var pTe=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],k7=pTe.join(","),oz=typeof Element>"u",Ch=oz?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,j0=!oz&&Element.prototype.getRootNode?function(t){return t.getRootNode()}:function(t){return t.ownerDocument},hTe=function(e,n,o){var r=Array.prototype.slice.apply(e.querySelectorAll(k7));return n&&Ch.call(e,k7)&&r.unshift(e),r=r.filter(o),r},fTe=function t(e,n,o){for(var r=[],i=Array.from(e);i.length;){var s=i.shift();if(s.tagName==="SLOT"){var a=s.assignedElements(),l=a.length?a:s.children,c=t(l,!0,o);o.flatten?r.push.apply(r,c):r.push({scopeParent:s,candidates:c})}else{var d=Ch.call(s,k7);d&&o.filter(s)&&(n||!e.includes(s))&&r.push(s);var p=s.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(s),h=!o.shadowRootFilter||o.shadowRootFilter(s);if(p&&h){var m=t(p===!0?s.children:p.children,!0,o);o.flatten?r.push.apply(r,m):r.push({scopeParent:s,candidates:m})}else i.unshift.apply(i,s.children)}}return r},rz=function(e,n){return e.tabIndex<0&&(n||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},mTe=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},iz=function(e){return e.tagName==="INPUT"},gTe=function(e){return iz(e)&&e.type==="hidden"},vTe=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},CTe=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},yTe=function(e){if(!e.name)return!0;var n=e.form||j0(e),o=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},r;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")r=o(window.CSS.escape(e.name));else try{r=o(e.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var i=CTe(r,e.form);return!i||i===e},STe=function(e){return iz(e)&&e.type==="radio"},bTe=function(e){return STe(e)&&!yTe(e)},wTe=function(e){for(var n,o=j0(e).host,r=!!((n=o)!==null&&n!==void 0&&n.ownerDocument.contains(o)||e.ownerDocument.contains(e));!r&&o;){var i;o=j0(o).host,r=!!((i=o)!==null&&i!==void 0&&i.ownerDocument.contains(o))}return r},ST=function(e){var n=e.getBoundingClientRect(),o=n.width,r=n.height;return o===0&&r===0},_Te=function(e,n){var o=n.displayCheck,r=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var i=Ch.call(e,"details>summary:first-of-type"),s=i?e.parentElement:e;if(Ch.call(s,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof r=="function"){for(var a=e;e;){var l=e.parentElement,c=j0(e);if(l&&!l.shadowRoot&&r(l)===!0)return ST(e);e.assignedSlot?e=e.assignedSlot:!l&&c!==e.ownerDocument?e=c.host:e=l}e=a}if(wTe(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return ST(e);return!1},xTe=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var r=n.children.item(o);if(r.tagName==="LEGEND")return Ch.call(n,"fieldset[disabled] *")?!0:!r.contains(e)}return!0}n=n.parentElement}return!1},ATe=function(e,n){return!(n.disabled||gTe(n)||_Te(n,e)||vTe(n)||xTe(n))},bT=function(e,n){return!(bTe(n)||rz(n)<0||!ATe(e,n))},TTe=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},ITe=function t(e){var n=[],o=[];return e.forEach(function(r,i){var s=!!r.scopeParent,a=s?r.scopeParent:r,l=rz(a,s),c=s?t(r.candidates):a;l===0?s?n.push.apply(n,c):n.push(a):o.push({documentOrder:i,tabIndex:l,item:r,isScope:s,content:c})}),o.sort(mTe).reduce(function(r,i){return i.isScope?r.push.apply(r,i.content):r.push(i.content),r},[]).concat(n)},sz=function(e,n){n=n||{};var o;return n.getShadowRoot?o=fTe([e],n.includeContainer,{filter:bT.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:TTe}):o=hTe(e,n.includeContainer,bT.bind(null,n)),ITe(o)};function U0(){return U0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},U0.apply(this,arguments)}var fs=typeof document<"u"?f.useLayoutEffect:f.useEffect;let c6=!1,ETe=0;const wT=()=>"floating-ui-"+ETe++;function kTe(){const[t,e]=f.useState(()=>c6?wT():void 0);return fs(()=>{t==null&&e(wT())},[]),f.useEffect(()=>{c6||(c6=!0)},[]),t}const RTe=U8["useId".toString()],R3=RTe||kTe,PTe=f.forwardRef(function(e,n){let{context:{placement:o,elements:{floating:r},middlewareData:{arrow:i}},width:s=14,height:a=7,tipRadius:l=0,strokeWidth:c=0,staticOffset:d,stroke:p,d:h,style:{transform:m,...g}={},...C}=e;const v=R3();if(!r)return null;c*=2;const S=c/2,y=s/2*(l/-8+1),b=a/2*l/4,[w,x]=o.split("-"),_=rZ.isRTL(r),I=!!h,T=w==="top"||w==="bottom",A=d&&x==="end"?"bottom":"top";let k=d&&x==="end"?"right":"left";d&&_&&(k=x==="end"?"left":"right");const R=(i==null?void 0:i.x)!=null?d||i.x:"",M=(i==null?void 0:i.y)!=null?d||i.y:"",D=h||"M0,0"+(" H"+s)+(" L"+(s-y)+","+(a-b))+(" Q"+s/2+","+a+" "+y+","+(a-b))+" Z",F={top:I?"rotate(180deg)":"",left:I?"rotate(90deg)":"rotate(-90deg)",bottom:I?"":"rotate(180deg)",right:I?"rotate(-90deg)":"rotate(90deg)"}[w];return f.createElement("svg",U0({},C,{"aria-hidden":!0,ref:n,width:I?s:s+c,height:s,viewBox:"0 0 "+s+" "+(a>s?a:s),style:{position:"absolute",pointerEvents:"none",[k]:R,[A]:M,[w]:T||I?"100%":"calc(100% - "+c/2+"px)",transform:""+F+(m??""),...g}}),c>0&&f.createElement("path",{clipPath:"url(#"+v+")",fill:"none",stroke:p,strokeWidth:c+(h?0:1),d:D}),f.createElement("path",{stroke:c&&!h?C.fill:"none",d:D}),f.createElement("clipPath",{id:v},f.createElement("rect",{x:-S,y:S*(I?-1:1),width:s+c,height:s})))});function LTe(){const t=new Map;return{emit(e,n){var o;(o=t.get(e))==null||o.forEach(r=>r(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var o;t.set(e,((o=t.get(e))==null?void 0:o.filter(r=>r!==n))||[])}}}const MTe=f.createContext(null),OTe=f.createContext(null),DTe=()=>{var t;return((t=f.useContext(MTe))==null?void 0:t.id)||null},az=()=>f.useContext(OTe);function pS(t){return(t==null?void 0:t.ownerDocument)||document}function FTe(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function NTe(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:o}=e;return n+"/"+o}).join(" "):navigator.userAgent}function P3(t){return pS(t).defaultView||window}function ea(t){return t?t instanceof Element||t instanceof P3(t).Element:!1}function HTe(t){return t?t instanceof HTMLElement||t instanceof P3(t).HTMLElement:!1}function BTe(t){if(typeof ShadowRoot>"u")return!1;const e=P3(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function zTe(t){if(t.mozInputSource===0&&t.isTrusted)return!0;const e=/Android/i;return(e.test(FTe())||e.test(NTe()))&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function VTe(t){return t.width===0&&t.height===0||t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType!=="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0}function WTe(){return/apple/i.test(navigator.vendor)}function jTe(t){return"nativeEvent"in t}function UTe(t,e){if(!t||!e)return!1;const n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&BTe(n)){let o=e;for(;o;){if(t===o)return!0;o=o.parentNode||o.host}}return!1}function lz(t){return"data-floating-ui-"+t}function Rf(t){const e=f.useRef(t);return fs(()=>{e.current=t}),e}function $Te(t){let e=t.activeElement;for(;((n=e)==null||(o=n.shadowRoot)==null?void 0:o.activeElement)!=null;){var n,o;e=e.shadowRoot.activeElement}return e}function d6(t,e){let n=t.filter(r=>{var i;return r.parentId===e&&((i=r.context)==null?void 0:i.open)}),o=n;for(;o.length;)o=t.filter(r=>{var i;return(i=o)==null?void 0:i.some(s=>{var a;return r.parentId===s.id&&((a=r.context)==null?void 0:a.open)})}),n=n.concat(o);return n}function qTe(t){return"composedPath"in t?t.composedPath()[0]:t.target}const cz=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function dz(t,e){const n=sz(t,cz());e==="prev"&&n.reverse();const o=n.indexOf($Te(pS(t)));return n.slice(o+1)[0]}function GTe(){return dz(document.body,"next")}function KTe(){return dz(document.body,"prev")}function u6(t,e){const n=e||t.currentTarget,o=t.relatedTarget;return!o||!UTe(n,o)}function ZTe(t){sz(t,cz()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function QTe(t){t.querySelectorAll("[data-tabindex]").forEach(n=>{const o=n.dataset.tabindex;delete n.dataset.tabindex,o?n.setAttribute("tabindex",o):n.removeAttribute("tabindex")})}const uz={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let YTe;function _T(t){t.key==="Tab"&&(t.target,clearTimeout(YTe))}const xT=f.forwardRef(function(e,n){const[o,r]=f.useState();fs(()=>(WTe()&&r("button"),document.addEventListener("keydown",_T),()=>{document.removeEventListener("keydown",_T)}),[]);const i={ref:n,tabIndex:0,role:o,"aria-hidden":o?void 0:!0,[lz("focus-guard")]:"",style:uz};return f.createElement("span",U0({},e,i))}),pz=f.createContext(null);function XTe(t){let{id:e,root:n}=t===void 0?{}:t;const[o,r]=f.useState(null),i=R3(),s=JTe(),a=f.useMemo(()=>({id:e,root:n,portalContext:s,uniqueId:i}),[e,n,s,i]),l=f.useRef();return fs(()=>()=>{o==null||o.remove()},[o,a]),fs(()=>{if(l.current===a)return;l.current=a;const{id:c,root:d,portalContext:p,uniqueId:h}=a,m=c?document.getElementById(c):null,g=lz("portal");if(m){const C=document.createElement("div");C.id=h,C.setAttribute(g,""),m.appendChild(C),r(C)}else{let C=d||(p==null?void 0:p.portalNode);C&&!ea(C)&&(C=C.current),C=C||document.body;let v=null;c&&(v=document.createElement("div"),v.id=c,C.appendChild(v));const S=document.createElement("div");S.id=h,S.setAttribute(g,""),C=v||C,C.appendChild(S),r(S)}},[a]),o}function hS(t){let{children:e,id:n,root:o=null,preserveTabOrder:r=!0}=t;const i=XTe({id:n,root:o}),[s,a]=f.useState(null),l=f.useRef(null),c=f.useRef(null),d=f.useRef(null),p=f.useRef(null),h=!!s&&!s.modal&&s.open&&r&&!!(o||i);return f.useEffect(()=>{if(!i||!r||s!=null&&s.modal)return;function m(g){i&&u6(g)&&(g.type==="focusin"?QTe:ZTe)(i)}return i.addEventListener("focusin",m,!0),i.addEventListener("focusout",m,!0),()=>{i.removeEventListener("focusin",m,!0),i.removeEventListener("focusout",m,!0)}},[i,r,s==null?void 0:s.modal]),f.createElement(pz.Provider,{value:f.useMemo(()=>({preserveTabOrder:r,beforeOutsideRef:l,afterOutsideRef:c,beforeInsideRef:d,afterInsideRef:p,portalNode:i,setFocusManagerState:a}),[r,i])},h&&i&&f.createElement(xT,{"data-type":"outside",ref:l,onFocus:m=>{if(u6(m,i)){var g;(g=d.current)==null||g.focus()}else{const C=KTe()||(s==null?void 0:s.refs.domReference.current);C==null||C.focus()}}}),h&&i&&f.createElement("span",{"aria-owns":i.id,style:uz}),i&&Mo.createPortal(e,i),h&&i&&f.createElement(xT,{"data-type":"outside",ref:c,onFocus:m=>{if(u6(m,i)){var g;(g=p.current)==null||g.focus()}else{const C=GTe()||(s==null?void 0:s.refs.domReference.current);C==null||C.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1,m.nativeEvent))}}}))}const JTe=()=>f.useContext(pz),eIe=U8["useInsertionEffect".toString()],tIe=eIe||(t=>t());function fm(t){const e=f.useRef(()=>{});return tIe(()=>{e.current=t}),f.useCallback(function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e.current==null?void 0:e.current(...o)},[])}function p6(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}const nIe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},oIe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},rIe=t=>{var e,n;return{escapeKeyBubbles:typeof t=="boolean"?t:(e=t==null?void 0:t.escapeKey)!=null?e:!1,outsidePressBubbles:typeof t=="boolean"?t:(n=t==null?void 0:t.outsidePress)!=null?n:!0}};function fS(t,e){e===void 0&&(e={});const{open:n,onOpenChange:o,events:r,nodeId:i,elements:{reference:s,domReference:a,floating:l},dataRef:c}=t,{enabled:d=!0,escapeKey:p=!0,outsidePress:h=!0,outsidePressEvent:m="pointerdown",referencePress:g=!1,referencePressEvent:C="pointerdown",ancestorScroll:v=!1,bubbles:S}=e,y=az(),b=DTe()!=null,w=fm(typeof h=="function"?h:()=>!1),x=typeof h=="function"?w:h,_=f.useRef(!1),{escapeKeyBubbles:I,outsidePressBubbles:T}=rIe(S),A=fm(R=>{if(!n||!d||!p||R.key!=="Escape")return;const M=y?d6(y.nodesRef.current,i):[];if(!I&&(R.stopPropagation(),M.length>0)){let D=!0;if(M.forEach(F=>{var z;if((z=F.context)!=null&&z.open&&!F.context.dataRef.current.__escapeKeyBubbles){D=!1;return}}),!D)return}r.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),o(!1,jTe(R)?R.nativeEvent:R)}),k=fm(R=>{const M=_.current;if(_.current=!1,M||typeof x=="function"&&!x(R))return;const D=qTe(R);if(HTe(D)&&l){const j=D.clientWidth>0&&D.scrollWidth>D.clientWidth,H=D.clientHeight>0&&D.scrollHeight>D.clientHeight;let O=H&&R.offsetX>D.clientWidth;if(H&&P3(l).getComputedStyle(D).direction==="rtl"&&(O=R.offsetX<=D.offsetWidth-D.clientWidth),O||j&&R.offsetY>D.clientHeight)return}const F=y&&d6(y.nodesRef.current,i).some(j=>{var H;return p6(R,(H=j.context)==null?void 0:H.elements.floating)});if(p6(R,l)||p6(R,a)||F)return;const z=y?d6(y.nodesRef.current,i):[];if(z.length>0){let j=!0;if(z.forEach(H=>{var O;if((O=H.context)!=null&&O.open&&!H.context.dataRef.current.__outsidePressBubbles){j=!1;return}}),!j)return}r.emit("dismiss",{type:"outsidePress",data:{returnFocus:b?{preventScroll:!0}:zTe(R)||VTe(R)}}),o(!1,R)});return f.useEffect(()=>{if(!n||!d)return;c.current.__escapeKeyBubbles=I,c.current.__outsidePressBubbles=T;function R(F){o(!1,F)}const M=pS(l);p&&M.addEventListener("keydown",A),x&&M.addEventListener(m,k);let D=[];return v&&(ea(a)&&(D=C5(a)),ea(l)&&(D=D.concat(C5(l))),!ea(s)&&s&&s.contextElement&&(D=D.concat(C5(s.contextElement)))),D=D.filter(F=>{var z;return F!==((z=M.defaultView)==null?void 0:z.visualViewport)}),D.forEach(F=>{F.addEventListener("scroll",R,{passive:!0})}),()=>{p&&M.removeEventListener("keydown",A),x&&M.removeEventListener(m,k),D.forEach(F=>{F.removeEventListener("scroll",R)})}},[c,l,a,s,p,x,m,n,o,v,d,I,T,A,k]),f.useEffect(()=>{_.current=!1},[x,m]),f.useMemo(()=>d?{reference:{onKeyDown:A,[nIe[C]]:R=>{g&&(r.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),o(!1,R.nativeEvent))}},floating:{onKeyDown:A,[oIe[m]]:()=>{_.current=!0}}}:{},[d,r,g,m,C,o,A])}function L3(t){var e;t===void 0&&(t={});const{open:n=!1,onOpenChange:o,nodeId:r}=t,[i,s]=f.useState(null),a=((e=t.elements)==null?void 0:e.reference)||i,l=Hee(t),c=az(),d=fm((w,x)=>{w&&(h.current.openEvent=x),o==null||o(w,x)}),p=f.useRef(null),h=f.useRef({}),m=f.useState(()=>LTe())[0],g=R3(),C=f.useCallback(w=>{const x=ea(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;l.refs.setReference(x)},[l.refs]),v=f.useCallback(w=>{(ea(w)||w===null)&&(p.current=w,s(w)),(ea(l.refs.reference.current)||l.refs.reference.current===null||w!==null&&!ea(w))&&l.refs.setReference(w)},[l.refs]),S=f.useMemo(()=>({...l.refs,setReference:v,setPositionReference:C,domReference:p}),[l.refs,v,C]),y=f.useMemo(()=>({...l.elements,domReference:a}),[l.elements,a]),b=f.useMemo(()=>({...l,refs:S,elements:y,dataRef:h,nodeId:r,floatingId:g,events:m,open:n,onOpenChange:d}),[l,r,g,m,n,d,S,y]);return fs(()=>{const w=c==null?void 0:c.nodesRef.current.find(x=>x.id===r);w&&(w.context=b)}),f.useMemo(()=>({...l,context:b,refs:S,elements:y}),[l,S,y,b])}const AT=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,n)=>(n?"-":"")+e.toLowerCase());function qc(t,e){return typeof t=="function"?t(e):t}function iIe(t,e){const[n,o]=f.useState(t);return t&&!n&&o(!0),f.useEffect(()=>{if(!t){const r=setTimeout(()=>o(!1),e);return()=>clearTimeout(r)}},[t,e]),n}function sIe(t,e){e===void 0&&(e={});const{open:n,elements:{floating:o}}=t,{duration:r=250}=e,s=(typeof r=="number"?r:r.close)||0,[a,l]=f.useState(!1),[c,d]=f.useState("unmounted"),p=iIe(n,s);return fs(()=>{a&&!p&&d("unmounted")},[a,p]),fs(()=>{if(o)if(n){d("initial");const h=requestAnimationFrame(()=>{d("open")});return()=>{cancelAnimationFrame(h)}}else l(!0),d("close")},[n,o]),{isMounted:p,status:c}}function aIe(t,e){e===void 0&&(e={});const{initial:n={opacity:0},open:o,close:r,common:i,duration:s=250}=e,a=t.placement,l=a.split("-")[0],c=f.useMemo(()=>({side:l,placement:a}),[l,a]),d=typeof s=="number",p=(d?s:s.open)||0,h=(d?s:s.close)||0,[m,g]=f.useState(()=>({...qc(i,c),...qc(n,c)})),{isMounted:C,status:v}=sIe(t,{duration:s}),S=Rf(n),y=Rf(o),b=Rf(r),w=Rf(i);return fs(()=>{const x=qc(S.current,c),_=qc(b.current,c),I=qc(w.current,c),T=qc(y.current,c)||Object.keys(x).reduce((A,k)=>(A[k]="",A),{});if(v==="initial"&&g(A=>({transitionProperty:A.transitionProperty,...I,...x})),v==="open"&&g({transitionProperty:Object.keys(T).map(AT).join(","),transitionDuration:p+"ms",...I,...T}),v==="close"){const A=_||x;g({transitionProperty:Object.keys(A).map(AT).join(","),transitionDuration:h+"ms",...I,...A})}},[h,b,S,y,w,p,v,c]),{isMounted:C,styles:m}}const hz=f.createContext(void 0),mS=()=>{const t=f.useContext(hz);return Ce(t,"Sticky cursor pointer is missing upper in the react tree"),t},lIe=f.memo(f.forwardRef((t,e)=>{var l,c,d,p;const{arrowWidth:n,arrowHeight:o,staticPointerOffset:r,floatingContext:i}=uIe({offset:t.offset}),s=!!((c=(l=i.middlewareData)==null?void 0:l.shift)!=null&&c.x&&((p=(d=i.middlewareData)==null?void 0:d.shift)==null?void 0:p.x)!==0),a={transform:"translateY(0.5px)",position:"absolute"};return s&&(a.opacity=0),L(Se.Fragment,{children:[u(PTe,{ref:e,context:i,fill:"var(--sticky-cursor-pointer-color)",width:n,height:o,tipRadius:3,staticOffset:r,style:a}),u(cIe,{width:n,height:o,isVisible:s,staticOffset:r,tipRadius:3})]})})),cIe=t=>{const{width:e,height:n,isVisible:o}=t,{dValue:r,clipPathId:i,arrowX:s,arrowY:a,xOffsetProp:l,yOffsetProp:c,isCustomShape:d,halfStrokeWidth:p,computedStrokeWidth:h,isVerticalSide:m,side:g,floatingElement:C,placement:v}=dIe(t);return C?L("svg",{"aria-hidden":!0,fill:"var(--sticky-cursor-pointer-color)",width:d?e:e+h,height:e,viewBox:`0 0 ${e} ${n>e?n:e}`,style:{position:"absolute",pointerEvents:"none",opacity:o?1:0,[l]:s,[c]:a,[g]:m||d?"100%":`calc(100% - ${h/2}px)`,transform:pIe(v)},children:[h>0&&u("path",{clipPath:`url(#${i})`,fill:"none",stroke:"var(--sticky-cursor-pointer-color)",strokeWidth:h+1,d:r}),u("path",{stroke:h?"var(--sticky-cursor-pointer-color)":void 0,d:r}),u("clipPath",{id:i,children:u("rect",{x:-p,y:p*(d?-1:1),width:e+h,height:e})})]}):null};function dIe({width:t,height:e,staticOffset:n,tipRadius:o}){const r=mS(),{placement:i,elements:{reference:s,floating:a},middlewareData:{arrow:l,shift:c}}=r,d=0,p=R3(),[h,m]=i.split("-"),g=h==="top"||h==="bottom";let C=n;(g&&(c!=null&&c.x)||!g&&(c!=null&&c.y))&&(C=null);const v=d*2,S=v/2,y=t/2*(o/-8+1),b=e/2*o/4,w=!1,x=C&&m==="end"?"bottom":"top",_=C&&m==="end"?"right":"left";let I=0;const T=s==null?void 0:s.getBoundingClientRect();T&&(I=T.width/2+t/2);const A=(l==null?void 0:l.x)!=null?C||l.x-I:"",k=(l==null?void 0:l.y)!=null?C||l.y:"";return{dValue:`M0,0 H${t} L${t-y},${e-b} Q${t/2},${e} ${y},${e-b} Z`,clipPathId:p,arrowX:A,arrowY:k,xOffsetProp:_,yOffsetProp:x,isCustomShape:w,halfStrokeWidth:S,computedStrokeWidth:v,computedStaticOffset:C,side:h,isVerticalSide:g,floatingElement:a,placement:i}}const uIe=({offset:t=.5})=>{var l,c,d,p,h;const e=mS(),n=(c=(l=e==null?void 0:e.elements)==null?void 0:l.reference)==null?void 0:c.getBoundingClientRect(),o=(n==null?void 0:n.width)??0,r=((h=(p=(d=e==null?void 0:e.elements)==null?void 0:d.floating)==null?void 0:p.getBoundingClientRect())==null?void 0:h.width)??0,[i,s]=f.useMemo(()=>{const m=o?o*.95:8;return[ov(m,3),m*.75]},[o]),a=r>0?r*t-i/2-1:0;return{cursorWidth:o,arrowWidth:i,arrowHeight:s,staticPointerOffset:a,floatingContext:e}},h6=(t,e)=>`rotate(${t}) translateY(${e})`;function pIe(t){const e="180deg",o=h6(e,"calc(100% - 0.5px)"),[r]=t.split("-");switch(r){case"top":return h6("0deg","-0.5px");case"bottom":return h6(e,"0.5px");default:return o}}const hIe=({children:t,pointerOffset:e,className:n,color:o,withoutBorder:r=!0,isPointerVisible:i=!0,...s})=>{const a=mS(),{setPointerRef:l,refs:c,floatingStyles:d,placement:p}=a,h=p.split("-")[0],{classes:m,cx:g}=fIe({color:o,withoutBorder:r,side:h});return L(Ee,{...s,className:g(m.root,m.container,n),style:{...s.style,...d},ref:c.setFloating,children:[u(Ee,{className:m.childrenWrapper,children:t}),a?u(Ee,{className:g({[m.hidden]:!i}),children:u(lIe,{offset:e,ref:l})}):null]})},fIe=K()((t,e)=>({root:{"--sticky-cursor-pointer-color":e.color},container:{position:"relative",border:"1px solid transparent"},childrenWrapper:{transform:e.withoutBorder?`translateY(${mIe(e.side)}1px)`:void 0},hidden:{visibility:"hidden",opacity:0,pointerEvents:"none",zIndex:-10}}));function mIe(t){return t==="bottom"?"-":""}function gS(t,e){return t.x-e.x}function TT({placement:t,referenceRect:e,pointerRect:n,floatingElRect:o}){const r=e.width,i=e.x,s=gS(n,o),a=r<=n.width?0:ov(n.width/2,7),l=i-s-ov(r/2,7)-a;return t==="bottom"?{y:e.y+e.height+n.height,x:l}:{y:e.y-n.height-o.height,x:l}}function gIe({state:t,referenceRect:e,pointerRect:n,floatingElRect:o,reset:r}){return t.placement.startsWith("bottom")?{...t,...TT({referenceRect:e,pointerRect:n,floatingElRect:o,placement:"bottom"}),reset:r}:t.placement.startsWith("top")?{...t,...TT({referenceRect:t.rects.reference,pointerRect:n,floatingElRect:o,placement:"top"}),reset:r}:t}function fz(t){const e=t.elements.reference.pointerElement,n=t.elements.reference.getBoundingClientRect(),o=e?e.getBoundingClientRect():void 0,r=t.elements.floating.getBoundingClientRect();return{referenceRect:n,pointerRect:o,floatingElRect:r}}function vIe(){return{name:"pointer-center",options:[],fn:t=>{const{floatingElRect:e,pointerRect:n,referenceRect:o}=fz(t);return n&&gS(n,e)>0?gIe({state:t,referenceRect:o,pointerRect:n,floatingElRect:e,reset:!0}):t}}}const IT={prevFlipIndex:void 0};function CIe(t){return{name:"flip-arrow-edge-case",options:[t],fn:e=>{const{floatingElRect:n,pointerRect:o,referenceRect:r}=fz(e);if(!o)return e;const i=gS(o,n),s=e.middlewareData.flip,a=[1,3].includes((s==null?void 0:s.index)??-1)&&o.x-o.width+i/2<r.x,l=[void 0,2].includes(s==null?void 0:s.index)&&o.x-o.width/2-i<r.x,c=s&&IT.prevFlipIndex!==s.index;if(c&&(IT.prevFlipIndex=s==null?void 0:s.index),!((a||l)&&c))return e;const p=r.x-n.width+i,h={...e,data:{}};return yIe({flipData:s,boundary:t,x:p})||(h.x=p,h.data={x:p}),h}}}function yIe({boundary:t,flipData:e,x:n}){var i;if(n<0)return!0;const o=t==null?void 0:t.getBoundingClientRect();if(o)return n<o.x;const r=(i=e==null?void 0:e.overflows)==null?void 0:i[0].overflows[2];return typeof r=="number"&&r>0}const ET=t=>{var S,y,b;const{middleware:e,setPointerRef:n,pointerRef:o}=_Ie({boundary:t.boundary}),{refs:{setPositionReference:r,floating:i},context:s,update:a,middlewareData:l}=L3({strategy:"fixed",placement:"bottom-start",middleware:e,open:t.open,whileElementsMounted:rv}),c=(y=(S=t.boundary)==null?void 0:S.current)==null?void 0:y.getBoundingClientRect();Hd(a,[c==null?void 0:c.x,c==null?void 0:c.width]),xIe({setReference:r,pointerRef:o,...t.terminalElements});const{styles:d}=wIe({middlewareData:l,pointerRef:o,context:s}),{cursorRect:p}=t.terminalElements,{run:h}=_u(a,{wait:35});ma(()=>p.subscribe(h),[p,h]),Gr(i,a);const m=bIe(t.boundary);fS(s),Hd(()=>t.open&&s.elements.reference&&s.elements.floating?rv(s.elements.reference,s.elements.floating,a):He,[...t.updateDependencies??[],t.open,a,s.elements.reference,s.elements.floating]);const g=f.useMemo(()=>({...s,pointerRef:o,setPointerRef:n,floatingStyles:{...d,...s.floatingStyles},update:a}),[s,o,n,d,a]),{classes:C,cx:v}=SIe();return t.open?u(hS,{id:t.floatingPortalNodeId,children:u(hz.Provider,{value:g,children:u(hIe,{className:v(t.className,{[C.hidden]:((b=t.placementSidesToHide)==null?void 0:b.includes(s.placement.split("-")[0]))||m}),pointerOffset:t.pointerOffset,color:t.color,withoutBorder:t.withoutBorder,isPointerVisible:t.isPointerVisible,children:t.children})})}):null},SIe=K()({hidden:{visibility:"hidden"}}),bIe=t=>{const[e,n]=Se.useState(!1),o=f.useMemo(()=>Ci(()=>n(!1),300),[]);return Gr(t,()=>{n(!0),o()},{mode:"throttle",wait:50}),e},wIe=({middlewareData:t,pointerRef:e,context:n})=>{var p,h,m;const o=(p=e.current)==null?void 0:p.getBoundingClientRect(),r=(o==null?void 0:o.height)??0,i=(o==null?void 0:o.width)??0,s=((h=t.arrow)==null?void 0:h.x)??0,a=((m=t.arrow)==null?void 0:m.y)??0,l=s+i/2,c=a+i,{styles:d}=aIe(n,{duration:60,open:{transitionDelay:"0"},common:({side:g})=>({transformOrigin:{top:`${l}px calc(100% + ${r}px)`,bottom:`${l}px ${-r}px`,left:`calc(100% + ${r}px) ${c}px`,right:`${-r}px ${c}px`}[g]})});return{styles:d}},_Ie=({boundary:t})=>{const e=f.useRef(null),n=r=>{e.current=r},o=[bC({boundary:(t==null?void 0:t.current)??"clippingAncestors",rootBoundary:"viewport"}),vIe(),wC({boundary:(t==null?void 0:t.current)??"clippingAncestors",rootBoundary:"viewport"}),Nee({element:e}),CIe(t==null?void 0:t.current)];return{pointerRef:e,middleware:o,setPointerRef:n}};function xIe({setReference:t,pointerRef:e,textareaElement:n,cursorRect:o}){const r=bi(()=>n),i=aP(o),s=bi(()=>({pointerElement:e==null?void 0:e.current,contextElement:r.current,getBoundingClientRect(){return i.current?i.current:new DOMRectReadOnly(0,0,0,0)}}));pte(()=>{s.current.contextElement=r.current,e.current&&(s.current.pointerElement=e.current),t(s.current)},[e.current,t,r.current,s.current])}const AIe=(t,e)=>f.createElement("svg",{width:11,height:13,viewBox:"0 0 11 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.50128 5.60019C6.99245 5.60019 8.20128 4.39136 8.20128 2.90019C8.20128 1.40903 6.99245 0.200195 5.50128 0.200195C4.01011 0.200195 2.80128 1.40903 2.80128 2.90019C2.80128 4.39136 4.01011 5.60019 5.50128 5.60019ZM5.50112 12.8002C7.6094 12.8002 9.4758 11.7646 10.6194 10.1743C9.8994 8.03839 7.87987 6.50026 5.50109 6.50026C3.12233 6.50026 1.10282 8.03836 0.382812 10.1743C1.52639 11.7646 3.39281 12.8002 5.50112 12.8002Z",fill:"currentColor"})),TIe=f.forwardRef(AIe),M3=f.memo(TIe);function rt(t){return`${t/14}em`}const Rs=K()((t,e,n)=>({vars:{"--multiplayer-accent-color":e.accentColor,"--multiplayer-icon-color":e.foregroundColor,"--multiplayer-text-color":e.foregroundColor},fixedWidth:{},collapsed:{},container:{[`&.${n.collapsed}`]:{borderRadius:rt(6)},[`&.${n.fixedWidth}`]:{"& ":{width:"380px",padding:rt(5)}},border:`1px solid ${Re.multiplayerAccentColor.value}`,padding:rt(3.5),color:"var(--multiplayer-text-color)",background:`linear-gradient(112deg, ${Q.uiColorA20} 6%, ${Q.uiColorA10} 48.98%, ${Q.uiColorA10} 60.2%, ${Q.uiColorA20} 97.1%)`,boxShadow:`0px 2px 4px 0px ${Q.monochromeColorA10}`,borderRadius:"10px",backdropFilter:"blur(50px)"},activeItem:{},item:{height:rt(28),color:"var(--multiplayer-text-color)",padding:rt(5),borderRadius:"5px",overflow:"hidden",width:"100%",[`&.${n.activeItem}`]:{"& ":{color:Re.multiplayerAccentColor.value,backgroundColor:new Vo(e.accentColor).alpha(.15).string()}}},fullWidth:{},overflowedUsername:{flex:"0 0 auto",[`&.${n.fullWidth}`]:{"& ":{flexGrow:1}},maxWidth:`calc(100% - ${rt(14)} - 5 * ${rt(4)} - ${rt(40)})`},shiftEnter:{opacity:0,[`.${n.activeItem} &`]:{"& ":{opacity:1,transition:"opacity 0.2s"}}},stickyCursorContainer:{borderRadius:"none"},fontSizeEm10:{"& ":{fontSize:rt(10)}},fontSizeEm14:{"& ":{fontSize:rt(14)}}})),Lc=({children:t,fixedWidth:e=!0,collapsed:n=!1})=>{const{accentColor:o,colors:r}=No(),{classes:i,cx:s}=Rs({accentColor:o,foregroundColor:r.colorScheme.foregroundColor});return u(re,{className:s(i.container,{[i.fixedWidth]:e,[i.collapsed]:n}),gap:"4px",children:t})},IIe=t=>{const{state:e,controlOwner:n,handleCollapse:o}=t;return n?L(qt,{children:[u(xe,{when:e==="viewing-collapsed",children:u(kIe,{controlOwner:n,onCollapse:o})}),u(xe,{when:e==="requesting-control-collapsed",children:u(EIe,{onCollapse:o})})]}):null},EIe=t=>{const{onCollapse:e}=t;return u(Ee,{onClickCapture:e,children:u(Lc,{fixedWidth:!1,collapsed:!0,children:u(e1,{size:rt(12),color:"inherit"})})})},kIe=t=>{const{controlOwner:e,onCollapse:n}=t;return u(Ee,{onClick:n,children:u(Lc,{fixedWidth:!1,collapsed:!0,children:u(ps,{avatar:e.avatar,color:Ia(e.username,e.userId),letter:e.userId?Mh({email:e.username,fullName:e.username,letters:1}):u(M3,{width:rt(14),height:rt(14),color:Q.paletteColorBrightWhite}),size:"fontAdaptive"},e.id)})})},RIe=(t,e)=>f.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.7805 1C18.107 1 17.5611 1.54598 17.5611 2.21947V11.359H4.66863L7.95558 8.07205C8.43181 7.59582 8.43181 6.82369 7.95558 6.34746C7.47935 5.87123 6.70722 5.87123 6.23099 6.34746L0.707109 11.8713C0.316584 12.2619 0.316583 12.895 0.707108 13.2855L6.23099 18.8094C6.70722 19.2857 7.47935 19.2857 7.95558 18.8094C8.43181 18.3332 8.43181 17.5611 7.95558 17.0848L4.66868 13.7979H19C19.5523 13.7979 20 13.3502 20 12.7979V2.21947C20 1.54598 19.454 1 18.7805 1Z",fill:"currentColor"})),PIe=f.forwardRef(RIe),LIe=f.memo(PIe),MIe=(t,e)=>f.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:16,viewBox:"0 0 20 16",fill:"none",ref:e,...t},f.createElement("path",{d:"M4.0896 11.2073C4.0896 10.8134 4.38856 10.493 4.75627 10.493H11.9229C12.2917 10.493 12.5896 10.8134 12.5896 11.2073C12.5896 11.6013 12.2917 11.9216 11.9229 11.9216H4.75627C4.38856 11.9216 4.0896 11.6013 4.0896 11.2073Z",fill:"currentColor"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.9239 5.13382C15.9239 5.67623 15.5135 6.11597 15.0072 6.11597C14.501 6.11597 14.0906 5.67623 14.0906 5.13382C14.0906 4.59142 14.501 4.15167 15.0072 4.15167C15.5135 4.15167 15.9239 4.59142 15.9239 5.13382Z",fill:"currentColor"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.9239 8.17026C15.9239 8.71267 15.5135 9.15241 15.0072 9.15241C14.501 9.15241 14.0906 8.71267 14.0906 8.17026C14.0906 7.62786 14.501 7.18811 15.0072 7.18811C15.5135 7.18811 15.9239 7.62786 15.9239 8.17026Z",fill:"currentColor"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.9239 11.2052C15.9239 11.7476 15.5135 12.1874 15.0072 12.1874C14.501 12.1874 14.0906 11.7476 14.0906 11.2052C14.0906 10.6628 14.501 10.2231 15.0072 10.2231C15.5135 10.2231 15.9239 10.6628 15.9239 11.2052Z",fill:"currentColor"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.5829 5.13382C12.5829 5.67623 12.1724 6.11597 11.6662 6.11597C11.1599 6.11597 10.7495 5.67623 10.7495 5.13382C10.7495 4.59142 11.1599 4.15167 11.6662 4.15167C12.1724 4.15167 12.5829 4.59142 12.5829 5.13382Z",fill:"currentColor"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.5829 8.17026C12.5829 8.71267 12.1724 9.15241 11.6662 9.15241C11.1599 9.15241 10.7495 8.71267 10.7495 8.17026C10.7495 7.62786 11.1599 7.18811 11.6662 7.18811C12.1724 7.18811 12.5829 7.62786 12.5829 8.17026Z",fill:"currentColor"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.92294 5.13382C5.92294 5.67623 5.51251 6.11597 5.00627 6.11597C4.50003 6.11597 4.0896 5.67623 4.0896 5.13382C4.0896 4.59142 4.50003 4.15167 5.00627 4.15167C5.51251 4.15167 5.92294 4.59142 5.92294 5.13382Z",fill:"currentColor"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.25302 5.13382C9.25302 5.67623 8.84259 6.11597 8.33635 6.11597C7.83011 6.11597 7.41968 5.67623 7.41968 5.13382C7.41968 4.59142 7.83011 4.15167 8.33635 4.15167C8.84259 4.15167 9.25302 4.59142 9.25302 5.13382Z",fill:"currentColor"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.92294 8.17026C5.92294 8.71267 5.51251 9.15241 5.00627 9.15241C4.50003 9.15241 4.0896 8.71267 4.0896 8.17026C4.0896 7.62786 4.50003 7.18811 5.00627 7.18811C5.51251 7.18811 5.92294 7.62786 5.92294 8.17026Z",fill:"currentColor"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.25302 8.17026C9.25302 8.71267 8.84259 9.15241 8.33635 9.15241C7.83011 9.15241 7.41968 8.71267 7.41968 8.17026C7.41968 7.62786 7.83011 7.18811 8.33635 7.18811C8.84259 7.18811 9.25302 7.62786 9.25302 8.17026Z",fill:"currentColor"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.2286 0.857117L10.4929 0.857702L9.77763 0.857509H8.79877H7.6505H6.69046H5.51429H3.33333C1.49272 0.857509 0 2.45687 0 4.42897V11.5719C0 13.544 1.49272 15.1433 3.33333 15.1433H16.6667C18.5073 15.1433 20 13.544 20 11.5719V4.42897C20 2.45687 18.5073 0.857509 16.6667 0.857509H15.8333L14.5234 0.857214L13.0927 0.857304L11.9048 0.857117H11.2286ZM16.6667 13.3577C17.5875 13.3577 18.3333 12.5585 18.3333 11.5719V4.42903C18.3333 3.44242 17.5875 2.6433 16.6667 2.6433H3.33333C2.41251 2.6433 1.66667 3.44242 1.66667 4.42903V11.5719C1.66667 12.5585 2.41251 13.3577 3.33333 13.3577H16.6667Z",fill:"currentColor"})),OIe=f.forwardRef(MIe),go=f.memo(OIe),DIe=t=>{const{state:e,controlOwner:n,participantsRequestingControl:o,activeIndex:r,handleClickStopControl:i,handleRequestControl:s,handleCancelRequest:a,onRejectAllRequests:l,handleAcceptRequest:c,handleHoverRequest:d}=t;return L(qt,{children:[u(xe,{when:e==="start-typing-expanded",children:u(FIe,{})}),u(xe,{when:e==="host-viewing-expanded",children:n&&u(zIe,{controlOwner:n,handleClickStopControl:i})}),u(xe,{when:e==="participant-viewing-expanded",children:n&&u(NIe,{controlOwner:n,handleRequestControlClick:s})}),u(xe,{when:e==="requesting-control-expanded",children:u(BIe,{handleCancelRequest:a})}),u(xe,{when:e==="control-requested-by-participants",children:u(HIe,{onRejectAllRequests:l,onHoverRequest:d,onAcceptRequest:c,participantsWithRequests:o,activeIndex:r})})]})},FIe=()=>{const{accentColor:t,colors:e}=No(),{classes:n}=Rs({accentColor:t,foregroundColor:e.colorScheme.foregroundColor});return u(Lc,{children:L(re,{direction:"row",gap:"9px",alignItems:"center",className:n.item,children:[u(go,{width:rt(14),height:rt(10)}),u(Z,{children:"You've got remote control. Start typing."})]})})},vS=({participant:t,isSpaceBetween:e=!1,isActive:n,children:o})=>{const{accentColor:r,colors:i}=No(),{classes:s,cx:a}=Rs({accentColor:r,foregroundColor:i.colorScheme.foregroundColor});return L(re,{direction:"row",gap:rt(5),alignItems:"center",width:"100%",className:a(s.item,{[s.activeItem]:n}),children:[u(Ee,{flex:"0 0 auto",children:u(ps,{avatar:t.avatar,color:Ia(t.username,t.userId),letter:t.userId?Mh({email:t.username,fullName:t.username,letters:1}):u(M3,{width:rt(14),height:rt(14),color:Q.paletteColorBrightWhite}),size:"fontAdaptive"},t.id)}),u(Z,{ellipsis:!0,className:a(s.overflowedUsername,s.fontSizeEm14,{[s.fullWidth]:e}),children:t.username}),u(Ee,{flex:"0 0 auto",children:o})]})},NIe=t=>{const{controlOwner:e,handleRequestControlClick:n}=t,{accentColor:o,colors:r}=No(),{classes:i,cx:s}=Rs({accentColor:o,foregroundColor:r.colorScheme.foregroundColor});return u(Ee,{children:L(Lc,{fixedWidth:!0,children:[u(vS,{participant:e,children:u(Z,{className:i.fontSizeEm14,children:"typing..."})}),L(re,{direction:"row",alignItems:"center",justifyContent:"space-between",className:s(i.item,i.activeItem),onClickCapture:n,children:[L(re,{direction:"row",alignItems:"center",gap:rt(5),children:[u(go,{width:rt(14),height:rt(10)}),u(Z,{className:i.fontSizeEm14,children:"Request remote control"})]}),u(yh,{})]})]})})},HIe=t=>{const{participantsWithRequests:e,onHoverRequest:n,onRejectAllRequests:o,onAcceptRequest:r,activeIndex:i}=t,{accentColor:s,colors:a}=No(),{classes:l,cx:c}=Rs({accentColor:s,foregroundColor:a.colorScheme.foregroundColor});return L(Lc,{children:[L(re,{direction:"row",alignItems:"center",gap:rt(5),className:l.item,children:[u(go,{width:rt(14),height:rt(10)}),u(Z,{className:l.fontSizeEm14,children:"Remote control requests"})]}),e.map((d,p)=>u(Ee,{onMouseEnter:()=>{d.requestId&&n(d.requestId)},onClickCapture:h=>{h.stopPropagation(),d.requestId&&r(d.requestId)},children:u(vS,{isSpaceBetween:!0,isActive:i===p,participant:d,children:u(yh,{})})},d.requestId)),L(re,{direction:"row",alignItems:"center",justifyContent:"space-between",className:c(l.item,{[l.activeItem]:i===e.length}),onClickCapture:d=>{d.stopPropagation(),o()},onMouseEnter:()=>n("reject-all"),children:[L(re,{direction:"row",alignItems:"center",gap:rt(5),children:[u(mz,{}),u(Z,{className:l.fontSizeEm14,children:"Reject all"})]}),u(yh,{})]})]})},mz=()=>u(Ee,{p:rt(2),children:u(iZ,{width:rt(10),height:rt(10)})}),yh=()=>{const{accentColor:t,colors:e}=No(),{classes:n}=Rs({accentColor:t,foregroundColor:e.colorScheme.foregroundColor});return L(re,{p:`0 ${rt(3)}`,borderRadius:"4px",bgcolor:Q.backgroundColorA50,direction:"row",alignItems:"center",gap:rt(2),className:n.shiftEnter,children:[u(Z,{className:n.fontSizeEm10,children:"Shift"}),u(Z,{className:n.fontSizeEm14,children:"+"}),u(LIe,{width:rt(10),height:rt(10)})]})},BIe=t=>{const{handleCancelRequest:e}=t,{accentColor:n,colors:o}=No(),{classes:r,cx:i}=Rs({accentColor:n,foregroundColor:o.colorScheme.foregroundColor});return u(Ee,{children:L(Lc,{children:[L(re,{direction:"row",gap:"9px",alignItems:"center",className:r.item,children:[u(e1,{size:rt(12),color:"inherit"}),u(Z,{children:"Requesting remote control..."})]}),L(re,{direction:"row",alignItems:"center",justifyContent:"space-between",className:i(r.item,r.activeItem),onClickCapture:e,children:[L(re,{direction:"row",alignItems:"center",gap:rt(5),children:[u(mz,{}),u(Z,{className:r.fontSizeEm14,children:"Cancel request"})]}),u(yh,{})]})]})})},zIe=t=>{const{accentColor:e,colors:n}=No(),{classes:o,cx:r}=Rs({accentColor:e,foregroundColor:n.colorScheme.foregroundColor});return t.controlOwner?u(Ee,{children:L(Lc,{children:[u(vS,{participant:t.controlOwner,children:u(Z,{className:o.fontSizeEm14,children:"typing..."})}),L(re,{direction:"row",alignItems:"center",justifyContent:"space-between",className:r(o.item,o.activeItem),onClickCapture:t.handleClickStopControl,children:[L(re,{direction:"row",alignItems:"center",gap:rt(5),children:[u(go,{width:rt(14),height:rt(10)}),u(Z,{className:o.fontSizeEm14,children:"Take back remote control"})]}),u(yh,{})]})]})}):null},VIe=["viewing-collapsed","requesting-control-collapsed"],WIe=["start-typing-expanded","host-viewing-expanded","participant-viewing-expanded","requesting-control-expanded","control-requested-by-participants"],jIe=t=>{const{mediator:e,containerRef:n,state:o,className:r,fontSize:i,onClickOutside:s}=t,{accentColor:a,overrideVarsClassname:l,colors:c}=No(),{classes:d,cx:p}=Rs({accentColor:a,foregroundColor:c.colorScheme.foregroundColor}),h=Se.useRef(null);return gM(()=>{s()},h),!a||!t.controlOwner?null:L(f.Fragment,{children:[u(ET,{open:VIe.includes(o),pointerOffset:.5,floatingPortalNodeId:e.id,terminalElements:{textareaElement:e.terminalApi.textareaElement,cursorRect:e.terminalApi.cursorRect},boundary:n,color:a,className:d.stickyCursorContainer,updateDependencies:[i,o],withoutBorder:!0,isPointerVisible:!0,children:u(re,{className:p(d.vars,l,r),fontSize:i,children:u(IIe,{...t})})}),u(ET,{open:WIe.includes(o),pointerOffset:0,floatingPortalNodeId:e.id,terminalElements:{textareaElement:e.terminalApi.textareaElement,cursorRect:e.terminalApi.cursorRect},boundary:n,color:a,className:d.stickyCursorContainer,updateDependencies:[i,o],withoutBorder:!0,isPointerVisible:!1,children:u(re,{className:p(d.vars,l,r),fontSize:i,ref:h,children:u(DIe,{...t})})})]})},gz=6;function UIe(t,e){if(!t||t==="auto")return;const n=Em[t];switch(e){case"ui":return n.app.terminalUIColor;case"foreground":return n.foregroundColor;case"background":return n.backgroundColor}const o=lP.findIndex(r=>r===e);return n.colorPaletteOverrides[o===-1?gz:o]}const W1=({theme:t,accentColor:e=lP[gz]})=>{const n=UIe(t,e),o=f.useMemo(()=>({accentColorA15:new Vo(n).alpha(.15).toString(),accentColorA50:new Vo(n).alpha(.5).toString()}),[n]),r=t&&t!=="auto",i=f.useMemo(()=>{if(!r)return{redColor:void 0,redColorA25:void 0,redColorA50:void 0};const d=Em[t].colorPaletteOverrides[1];return{redColor:new Vo(d).alpha(1).toString(),redColorA25:new Vo(d).alpha(.25).toString(),redColorA50:new Vo(d).alpha(.5).toString()}},[t,r]),{classes:s}=$Ie({accentColor:n,...o,...i}),a=r?Em[t]:void 0;return{colors:gc(a),overrideVarsClassname:s.vars,accentColor:n,...o,...i}},$Ie=K()((t,e)=>({vars:{[Re.multiplayerAccentColor.name]:e.accentColor,[Re.multiplayerNotificationBackgroundColor.name]:e.accentColorA15,[Re.multiplayerAccentColorA15.name]:e.accentColorA15,[Re.multiplayerColorRed.name]:e.redColor,[Re.multiplayerColorRedA25.name]:e.redColorA25,[Re.multiplayerColorRedA50.name]:e.redColorA50}})),j1=2e3;function qIe(t){const{onArrowUp:e,onArrowDown:n,elementRef:o,onShiftEnter:r,onTyping:i,onEsc:s,propagationShouldBePrevented:a}=t;D2("keydown",c=>{const d=()=>{a&&(c.stopPropagation(),c.preventDefault())};switch(c.key){case"ArrowUp":e(),d();break;case"ArrowDown":n(),d();break;case"Escape":s(c),d();break;case"Enter":c.shiftKey&&(d(),r());break;default:i(c)}},{target:o,capture:!0})}function GIe(t){const{maxIndex:e,participantsRequestingControl:n}=t,[o,r]=CM(0);return{activeIndex:o,setActiveIndex:r,handleArrowUp:()=>{r(l=>Math.max(l-1,0))},handleArrowDown:()=>{r(l=>Math.min(l+1,e))},handleHoverRequest:l=>{let c=n.findIndex(d=>(d==null?void 0:d.requestId)===l);l==="reject-all"&&(c=n.length),r(c)}}}const KIe=["control-requested-by-participants","requesting-control-expanded","participant-viewing-expanded","host-viewing-expanded"],ZIe=({connectionId:t,containerRef:e,mediator:n,sessionId:o,participantId:r,onScreen:i})=>{var N;const{state:s,type:a}=V(W=>{var B;return vc(W,(B=n.multiplayerApi)==null?void 0:B.hostPeerId)}),l=w2(a),c=lt(Jo),d=JIe(c),p=V(W=>Cc(W,t)),m=m3().getMultiplayerApiByConnectionId(p==null?void 0:p.sessionId),g=((N=p==null?void 0:p.controlRequests)==null?void 0:N.length)??0,{participantsRequestingControl:C,controlOwner:v}=XIe(m),{activeIndex:S,handleHoverRequest:y,handleArrowUp:b,handleArrowDown:w}=GIe({maxIndex:g,participantsRequestingControl:C}),x=de(),_=f.useCallback(W=>{Ce(m==null?void 0:m.hostPeerId,mt);const{globalState:B,multiplayerMenuType:$}=W;x(Vt({state:B,type:$,sessionId:m.hostPeerId}))},[x,m]),I=V(W=>Ba(W,m==null?void 0:m.hostPeerId,m==null?void 0:m.participantId)),T=V(W=>t1(W,{sessionId:o,currentUserParticipantId:r})),A=W=>{W.stopPropagation();const B=T("full");_({globalState:"full",multiplayerMenuType:B}),n.terminalApi.focus()},{run:k}=_u(()=>{m!=null&&m.hostPeerId&&x(hg({sessionId:m.hostPeerId}))},{wait:j1}),R=W=>{Ce(n.multiplayerApi.hostPeerId,mt);let B="Shortcut";W&&(W==null||W.stopPropagation(),B="Autocomplete"),x(ih({sessionId:n.multiplayerApi.hostPeerId,source:B}))},M=W=>{Ce(n.multiplayerApi.hostPeerId,mt);let B="Shortcut";W&&(W==null||W.stopPropagation(),B="Autocomplete"),x(_C({sessionId:n.multiplayerApi.hostPeerId,source:B}))},D=W=>{Ce(n.multiplayerApi.hostPeerId,mt),W==null||W.stopPropagation();const B=p==null?void 0:p.controlRequests.find($=>$.participantId===(m==null?void 0:m.participantId));B&&x(xC({sessionId:n.multiplayerApi.hostPeerId,requestId:B.id}))},F=(W,B)=>{Ce(n.multiplayerApi.hostPeerId,mt),x(AC({sessionId:n.multiplayerApi.hostPeerId,requestId:W,source:B??"Autocomplete"}))},z=W=>{Ce(n.multiplayerApi.hostPeerId,mt),x(TC({sessionId:n.multiplayerApi.hostPeerId,source:W??"Autocomplete"}))},j=()=>{if(s!=="full"||!i||c!==d)return;const{current:B}=l,{isControlOwner:$=!1}=I??{},{globalState:q,multiplayerMenuType:X}=YIe(B,$);_({globalState:q,multiplayerMenuType:X})};return qIe({onArrowUp:b,onArrowDown:w,elementRef:e,onShiftEnter:()=>{var W;switch(a){case"control-requested-by-participants":{if(S===(p==null?void 0:p.controlRequests.length)){z("Autocomplete");break}(W=p==null?void 0:p.controlRequests[S])!=null&&W.id&&F(p.controlRequests[S].id,"Shortcut");break}case"requesting-control-expanded":{D();break}case"participant-viewing-expanded":{M();break}case"host-viewing-expanded":{R();break}}},onTyping:W=>{if(!(m!=null&&m.isMultiplayerSessionActive()))return;const B=s==="compact",$=["viewing-collapsed","requesting-control-collapsed"].includes(a),q=(I==null?void 0:I.isControlOwner)??!1,X=(I==null?void 0:I.isHost)??!1;if(B&&$&&!q){let ee="requesting-control-expanded";a!=="requesting-control-collapsed"&&(ee=X?"host-viewing-expanded":"participant-viewing-expanded"),_({globalState:"full",multiplayerMenuType:ee})}k()},onEsc:W=>{if(!(m!=null&&m.hostPeerId))return;let B="full";if(I!=null&&I.isControlOwner){if(!g)return;s==="full"&&(B="hidden",x(IC({sessionId:m.hostPeerId,seenByHost:!1})));const q=T(B);_({globalState:B,multiplayerMenuType:q});return}s==="compact"&&(B="hidden"),s==="full"&&(B="compact");const $=T(B);_({globalState:B,multiplayerMenuType:$})},propagationShouldBePrevented:KIe.includes(a)}),{state:a,globalTerminalMenuState:s,participantsRequestingControl:C,controlOwner:v,activeIndex:S,handleHoverRequest:y,handleCollapse:A,handleClickStopControl:R,handleRequestControl:M,handleCancelRequest:D,handleAcceptRequest:F,onRejectAllRequests:z,onClickOutside:j}},QIe=new Set(["hidden","start-typing-expanded"]);function YIe(t,e){if(t==="requesting-control-expanded")return{globalState:"compact",multiplayerMenuType:"requesting-control-collapsed"};const n=t==="control-requested-by-participants"&&e;return QIe.has(t)||n?{globalState:"hidden",multiplayerMenuType:"hidden"}:e?{globalState:"compact",multiplayerMenuType:"viewing-collapsed"}:{globalState:"compact",multiplayerMenuType:"viewing-collapsed"}}function XIe(t){const e=V(Y8),n=V(l=>Ts(l,t==null?void 0:t.hostPeerId)),o=V(l=>Ba(l,t==null?void 0:t.hostPeerId,t==null?void 0:t.participantId)),r=V(tg),i=V(l=>sZ(l,t==null?void 0:t.hostPeerId)),s=V(l=>Tu(l,t==null?void 0:t.hostPeerId));return{participantsRequestingControl:f.useMemo(()=>{if(!o)return[];const l=new Map(n.map(c=>[c.participantId,c]));return s.map(c=>{const d=l.get(c.participantId);return qb({participant:d,currentUserParticipant:o,team:r,avatars:e,requestId:c.id})}).filter(Boolean)},[s,n,o,r,e]),controlOwner:qb({participant:i,currentUserParticipant:o,team:r,avatars:e})}}function JIe(t,e=500){const[n,o]=CM(t);return f.useEffect(()=>{const r=setTimeout(()=>{o(t)},e);return()=>clearTimeout(r)},[t,e,o]),n}const vz=t=>{const{multiplayerApi:e}=t.mediator;return!e.hostPeerId||!t.onScreen||!t.connection?null:u(eEe,{...t,connection:t.connection,sessionId:e.hostPeerId,participantId:e.participantId})},eEe=t=>{var p;const{fontSize:e,connection:n,containerRef:o,mediator:r,onScreen:i,sessionId:s,participantId:a,colorScheme:l}=t,c=W1({theme:EC(l)}),d=ZIe({connectionId:n.id,containerRef:o,mediator:r,onScreen:i,sessionId:s,participantId:a});return(p=d.controlOwner)!=null&&p.id?u(V1,{value:c,children:u(jIe,{...d,fontSize:e,mediator:r,containerRef:o})}):null};function tEe(t){return"nativeEvent"in t&&"isDefaultPrevented"in t}function nEe(t){return"nativeEvent"in t&&typeof t.nativeEvent=="object"}const Ke=t=>{const e=t.toLowerCase().replace(/_./g,([r,i])=>i.toUpperCase()),n=r=>typeof r=="object"&&!Array.isArray(r)&&r!=null&&"type"in r&&r.type===t;return{create:()=>{const r=i=>({type:t,data:i});return r.match=n,r.type=t,{[e]:r}}}},St={...Ke("CLOSE").create(),...Ke("CLICK_OUTSIDE").create(),...Ke("OPEN").create(),...Ke("DISMISS").create(),...Ke("DISMISS_BY_TERMINATE").create(),...Ke("COMMAND_STARTED").create(),...Ke("COMMAND_EXITED").create(),...Ke("TERMINATE_PROCESS").create(),...Ke("TERMINAL_TERMINATE_PROCESS").create(),...Ke("SYNC_IDENTITIES").create(),...Ke("SYNC_SNIPPETS").create(),...Ke("SYNC_HISTORY").create(),...Ke("SUBMIT_AUTOCOMPLETE").create(),...Ke("ASSISTANT_INPUT_SELECT_SUGGESTION").create(),...Ke("ASSISTANT_INPUT_PRESSED_ARROW_DOWN").create(),...Ke("ASSISTANT_INPUT_PRESSED_ESCAPE").create(),...Ke("ASSISTANT_INPUT_BLUR").create(),...Ke("CHANGE_ASSISTANT_INPUT_VALUE").create(),...Ke("TERMINAL_INPUT_PRESSED_TAB").create(),...Ke("TERMINAL_INPUT_PRESSED_ENTER").create(),...Ke("TERMINAL_INPUT_PRESSED_ARROW_UP").create(),...Ke("TERMINAL_INPUT_PRESSED_SHELL_HISTORY").create(),...Ke("TERMINAL_INPUT_PRESSED_ARROW_DOWN").create(),...Ke("TERMINAL_INPUT_PRESSED_ARROW_LEFT").create(),...Ke("TERMINAL_INPUT_PRESSED_ARROW_RIGHT").create(),...Ke("TERMINAL_INPUT_COMPOSITION_START").create(),...Ke("TERMINAL_INPUT_COMPOSITION_END").create()},ns={...Ke("SHELL_INTEGRATION_STARTED").create(),...Ke("SHELL_INTEGRATION_STARTED").create(),...Ke("SHELL_INTEGRATION_ACTIVATED").create(),...Ke("PASSWORD_PROMPT_DETECTED").create(),...Ke("SHELL_INTEGRATION_FAILED").create(),...Ke("SYNC_PATHS").create(),...Ke("SYNC_PATHS_FETCHING").create(),...Ke("TERMINAL_FOCUS").create(),...Ke("TERMINAL_CURSOR_PLACEMENT").create(),...Ke("TERMINAL_INPUT_STRATEGY").create(),...Ke("ASSISTANT_INPUT_STRATEGY").create(),...Ke("CHANGE_TERMINAL_INPUT_VALUE").create(),...Ke("COMMAND_INTERRUPTED").create()};[...Object.values(St),...Object.values(ns)];function Cz(t){return t.ctrlKey||t.metaKey||t.altKey}const fp=0,oEe=({send:t,options:e,terminalId:n,forwardEvent:o,freeFeaturesDialogIsOpen:r,autocompleteListNavigation:{setActiveIndex:i,setPrevIndex:s,activeIndex:a,prevActiveIndex:l}})=>{const c=lt(Jo);f.useEffect(()=>{c!=null&&c.id!==n&&t(St.clickOutside())},[t,c,n]);const d=A=>{r||A||t(St.clickOutside())},p=A=>{document.activeElement===A.target||t(St.assistantInputBlur())},h=A=>{i(fp),s(),t(St.changeAssistantInputValue(A))},m=A=>{t(St.submitAutocomplete(A))},g=A=>{if(!(Cz(A)&&A.key.startsWith("Arrow")))switch(A.key){case"ArrowUp":v(A);break;case"ArrowDown":S(A);break;case"ArrowRight":y(A);break;case"Enter":b(A);break;case"Escape":w(A);break;case"Tab":x(A);break;case"c":case"z":C(A);break}};function C(A){A.ctrlKey&&(t(St.terminateProcess()),o(tEe(A)?A.nativeEvent:A))}function v(A){A.preventDefault(),e.length!==0&&T()}function S(A){A.preventDefault(),t(St.assistantInputPressedArrowDown()),e.length!==0&&I()}function y(A){if(a==null)return;const k=e[a];k&&k.item.type==="folder"&&(A.preventDefault(),t(St.assistantInputSelectSuggestion({at:a,triggeredBy:"arrow right"})),i(fp))}function b(A){A.preventDefault();let k;a!=null&&(k={at:a,triggeredBy:"enter"}),m(k),i(fp)}function w(A){A.preventDefault(),t(St.assistantInputPressedEscape())}function x(A){if(a==null)return;const k=e[a];!k||(k==null?void 0:k.item.type)==="prompt"||(A.preventDefault(),t(St.assistantInputSelectSuggestion({at:a,triggeredBy:"tab"})),i(fp))}const _=A=>{if(A!==a){if(A==null){i(fp);return}i(A)}},I=()=>{const k=Math.min((a??l??-1)+1,e.length-1);i(k)},T=()=>{const k=Math.max((a??l??0)-1,0);i(k)};return{activeIndex:a,onHoverSuggestion:_,onSubmit:m,onOpenChange:d,onKeyDown:g,onChange:h,onBlur:p}},rEe=()=>{const[t,e]=f.useState(),[n,o]=aZ(t);return{setActiveIndex:e,setPrevIndex:o,activeIndex:t,prevActiveIndex:n}};function $0(t){switch(t){case"non-shell prompt":return"Non-Shell Prompt";case"alternative buffer":return"Alternative Buffer";case"data timeout":return"Data Timeout";case"output stream completed":return"Connection Completed";case"output stream broken":return"Connection Failure";case"response timeout":return"Response Timeout";case"unsupported shell":return"Unsupported Shell";default:return _1()}}function yz(t){return{userEscaped:"Esc",userScrolled:"Scroll",userClickedOutside:"Click outside",requestError:"Request failed",noSuggestions:"No suggestions"}[t||"noSuggestions"]}function O3(t){const{currentConnection:e,sessionInfo:n}=t;switch(e==null?void 0:e.protocol){case"local":return!0;case"ssh":{if(n==null||n.status==="unknown")return!1;const o=n.softwareVersion.toLocaleLowerCase();return o.includes("openssh")&&!o.includes("win")}default:return!1}}async function iEe(t,e){const n=await t.execInBackground({command:"uname"}),o=`'${e.replace(/'/g,"'\\''")}'`,r=`stat -c '%Y' ${o}`;let i=r;if(n.result.success)switch(n.result.output.trim()){case"Darwin":i=`stat -f '%m' ${o}`;break;case"Linux":default:i=r;break}const s=await t.execInBackground({command:i});if(!s.result.success)return;const a=parseInt(s.result.output.trim(),10);return Number.isNaN(a)?void 0:a}var CS={};(function(t){class e{constructor(o){this.i=0,this.string=o,this.whitespace=` 	\r
`,this.quotes=`'"`,this.escapes="\\",this.escapedQuotes='"',this.ansiCQuotes=!0,this.localeQuotes=!0,this.debug=!1}readChar(){return this.string.charAt(this.i++)}processEscapes(o,r,i){if(!i&&!this.escapedQuotes.includes(r))return o;const s="["+this.escapes.replace(/(.)/g,"\\$1")+"]";if(!i&&this.escapedQuotes.includes(r)){const a=new RegExp(s+"("+s+"|\\"+r+")","g");return o.replace(a,"$1")}if(i){const a={"([\\\\'\"?])":c=>c,a:()=>"\x07",b:()=>"\b","e|E":()=>"\x1B",f:()=>"\f",n:()=>`
`,r:()=>"\r",t:()=>"	",v:()=>"\v","([0-7]{1,3})":c=>String.fromCharCode(parseInt(c,8)),"x([0-9a-fA-F]{1,2})":c=>String.fromCharCode(parseInt(c,16)),"u([0-9a-fA-F]{1,4})":c=>String.fromCharCode(parseInt(c,16)),"U([0-9a-fA-F]{1,8})":c=>String.fromCharCode(parseInt(c,16)),"c(.)":c=>c==="?"?"":c==="@"?"\0":String.fromCharCode(c.charCodeAt(0)&31)},l=new RegExp(s+"("+Object.keys(a).join("|")+")","g");return o.replace(l,function(c,d){for(const p in a){const h=new RegExp("^"+p+"$").exec(d);if(h!==null)return a[p].apply(null,h.slice(1))}})}}*[Symbol.iterator](){let o=!1,r=!1,i=!1,s=-2,a;for(this.debug&&console.log("full input:",">"+this.string+"<");;){const l=this.i,c=this.readChar();if(this.debug&&console.log("position:",l,"input:",">"+c+"<","accumulated:",a,"inQuote:",o,"inDollarQuote:",r,"lastDollar:",s,"escaped:",i),c===""){if(o)throw new Error("Got EOF while in a quoted string");if(i)throw new Error("Got EOF while in an escape sequence");a!==void 0&&(yield a);return}if(i){c===`
`||(o?a=(a||"")+i+c:a=(a||"")+c),i=!1;continue}if(this.escapes.includes(c)&&(!o||r!==!1||this.escapedQuotes.includes(o))){i=c;continue}if(o!==!1){if(c===o){a=this.processEscapes(a,o,r==="'"),o=!1,r=!1;continue}a=(a||"")+c;continue}if(this.quotes.includes(c)){o=c,s===l-1&&(c==="'"&&!this.ansiCQuotes||c==='"'&&!this.localeQuotes||(r=c)),a=a||"",r!==!1&&(a=a.slice(0,-1));continue}if(o===!1&&c==="$"&&(s=l),this.whitespace.includes(c)){a!==void 0&&(yield a),a=void 0;continue}a=(a||"")+c}}}t.split=function(n){return Array.from(new e(n))},t.quote=function(n){return n===""?"''":/[^\w@%\-+=:,./]/.test(n)?("'"+n.replace(/('+)/g,`'"$1"'`)+"'").replace(/^''|''$/g,""):n},t.join=function(n){if(!Array.isArray(n))throw new TypeError("args should be an array");return n.map(t.quote).join(" ")}})(CS);const sEe=wt(CS);function aEe(t){const e=lEe(t),n=[],o=[];for(const r of e){const i=dEe(r);if(i){if(i.kind==="symlink"){const s=i.name.indexOf("->");s!==-1&&(i.name=i.name.substr(0,s).trimEnd())}i.kind==="folder"?o.push(i):n.push(i)}}return[...o,...n]}function Sz(t){return t.replace(new RegExp("(?<!\\\\)([ ()])","g"),"\\$1")}function lEe(t){return t.split(/\r?\n/).filter(e=>e!=="")}const cEe=9;function dEe(t){const e=t.split(" ").filter(s=>s!=="");if(e.length<cEe)return;const o=e[0].startsWith("c")?e[8]:e[7],r=t.lastIndexOf(o),i=t.substr(r+o.length+1);if(i!==".")return{name:i,kind:uEe(e[0])}}function uEe(t){return t.startsWith("d")?"folder":t.startsWith("l")?"symlink":"filepath"}const pEe=/^~($|\/)/,hEe=/\\/g;function bz(t){return async e=>{const n=mEe(_z(e)),{result:o,hasFollowingPendingExecutions:r}=await t.execInBackground({command:`ls -la ${n}`,kind:"execReaddirAdapter"});return o.success?{hasFollowingPendingExecutions:r,success:!0,items:aEe(o.output)}:{success:!1,reason:o.error}}}const wz=async t=>{try{const e=lZ(_z(fEe(t,cZ()))),o=(await dZ(e,{withFileTypes:!0})).map(r=>({kind:gEe(r),name:r.name}));return o.unshift({kind:"folder",name:".."}),{success:!0,hasFollowingPendingExecutions:!1,items:o}}catch(e){return{success:!1,reason:e}}};function fEe(t,e){return pEe.test(t)?t.replace("~",e):t}function _z(t){return t.replace(hEe,"")}function mEe(t){const e=sEe.quote(t);return e.startsWith("'~/")?e.replace("'~/","~/'"):e}function gEe(t){return t.isDirectory()?"folder":t.isSymbolicLink()?"symlink":"filepath"}const vEe=80;function CEe(t,e){return SEe(e,t.terminalApi.onCwdChange)}function yEe(t,e){if(e==null)return oa([f6("completed",[])]);const n=oa(EEe(t,e)),o=S2(vEe).pipe(fM(n),Mt(()=>f6("loading",[]))),r=n.pipe(TEe(e),Mt(i=>f6("completed",i)));return rc(o,r)}function SEe(t,e){return rc(bEe(t,e),AEe(e))}function bEe(t,e){return t.pipe(Fm(e),Mt(([{sentence:n},o])=>wEe(n,o)))}function wEe(t,e){const n=xEe(t);if(n==null)return;const o=n.charAt(n.length-1)==="/";let r=n;if(_Ee(n)||(r=`${e}/${n}`),!o){const i=r.lastIndexOf("/");i!==-1&&(r=r.substr(0,i+1))}if(xz(r))return r}function _Ee(t){return t.charAt(0)==="/"||t.startsWith("~/")}function xEe(t){let e=t.length-1,n=!1,o=0;for(;e>=0;){const r=t[e]==="\\";if(n&&!r){o=e+2;break}n=t[e]===" ",e-=1}return n?t.substr(o):null}function AEe(t){return t.pipe(Mt(e=>{if(xz(e))return e.endsWith("/")?e:`${e}/`}))}function xz(t){return!/[^\w@%\-+=:,./ ()\\~]/.test(t)}function TEe(t){return Mt(e=>IEe(e,t))}const IEe=(t,e)=>t.map(n=>({...n,path:e.concat(n.name)}));function f6(t,e){return{status:t,items:e}}async function EEe(t,e){const n=await kEe(t,e);return(n==null?void 0:n.success)!==!0||n.hasFollowingPendingExecutions?[]:n.items}function kEe(t,e){var n,o;if((n=t.currentConnection)!=null&&n.protocol)return((o=t.currentConnection)==null?void 0:o.protocol)==="local"?wz(e):bz(t)(e)}const kT={spawn(t){const{mediator:e}=t,n=new gt,o=new ht,r=new pM("loading");return yc((i,s)=>{const a=CEe(e,o).pipe(h()),l=a.pipe(p()),c=a.pipe(m());n.add(r.subscribe(v=>{i(ns.syncPathsFetching(v))})).add(rc(l,c).pipe(C()).subscribe(({items:v})=>{i(ns.syncPaths(v))}));function d(){return uZ(void 0)}function p(){return v=>v.pipe(Jee(),Fm(r),Qf(([[S,y],b])=>{S===y&&b!=="loading"&&r.next("completed")}),Mt(([[S,y]])=>y),v8())}function h(){return v=>v.pipe(xy(200),d())}function m(){return v=>e.terminalApi.onCommandExited.pipe(Fm(v),g())}function g(){let v=0;return S=>S.pipe(sh(async([y,b])=>{if(!b)return;const w=await iEe(e,b);if(w&&w>v)return v=w,b}),zr(y=>!!y))}function C(){return v=>v.pipe(Qf(()=>r.next("loading")),sh(S=>yEe(e,S).pipe(Qf(({status:y})=>r.next(y)))))}return s(v=>{if(yS.strategyChanged.match(v)){const{template:S}=v.data;if(["folder","filepath","symlink"].some(w=>S.includes(w))){o.next(v.data);return}t.pathsFetchingStatus==="loading"&&r.next("completed")}}),()=>{n.dispose()}})},stop(t){var e,n;(n=(e=t.filesystemSuggestionsActorRef)==null?void 0:e.stop)==null||n.call(e)}},yS={...Ke("STRATEGY_CHANGED").create()};Object.values(yS);function REe(t,e){for(var n=-1,o=t.length;++n<o&&pZ(e,t[n],0)>-1;);return n}var PEe=/^\s+/;function ta(t,e,n){if(t=cP(t),t&&(n||e===void 0))return t.replace(PEe,"");if(!t||!(e=hZ(e)))return t;var o=Gb(t),r=REe(o,Gb(e));return fZ(o,r).join("")}class LEe extends Map{constructor(n){if(n<=0)throw new Error("Limit must be greater than zero");super();E(this,"limit");this.limit=n}prune(){for(;this.size>this.limit;){const n=this.keys().next().value;this.delete(n)}}set(n,o){return super.set(n,o),this.prune(),this}}function Az(t,e){const{resolver:n,limit:o=1e3}=e||{},r=N8(t,n);return r.cache=new LEe(o),r}const MEe=t=>{let e;const n=()=>{e&&(cancelAnimationFrame(e),e=void 0)},o=(...r)=>{n(),e=requestAnimationFrame(()=>t(...r))};return o.cancel=n,o},Tz=async(t,e)=>new Promise((n,o)=>{requestIdleCallback((...r)=>{try{n(t(...r))}catch(i){o(i)}},e)}),OEe=["-","act","adb","afplay","aftman","ag","agrippa","airflow","aliases","amplify","ansible-config","ansible-doc","ansible-galaxy","ansible-lint","ansible-playbook","ansible","appwrite","apt","arch","argo","asar","asciinema","asdf","asr","assimp","atlas","authchanger","autojump","aws","awsume","babel","banner","base32","base64","basename","basenc","bat","bazel","bc","bcd","black","blitz","bosh","br","brew","broot","browser-sync","btop","build-storybook","bun","bundle","bw","c++","caffeinate","cal","cap","capacitor","cargo","cat","cd","cdk","cdk8s","cf","charm","checkov","chezmoi","chmod","chown","chsh","circleci","clang++","clang","clear","clojure","cloudflared","cmake","coda","code-insiders","code","codesign","command","conda","copilot","copyfile","copypath","cordova","cosign","cot","cp","create-completion-spec","create-next-app","create-nx-workspace","create-react-app","create-react-native-app","create-remix","create-t3-app","create-web3-frontend","croc","crontab","csdx","curl","cut","dart","date","dateseq","datree","dbt","dd","ddev","ddosify","defaultbrowser","defaults","degit","deno","deployctl","deta","df","diff","dig","direnv","dirname","ditto","django-admin","do-release-upgrade","do","docker-compose","docker","doctl","dog","doppler","dos2unix","dotenv-vault","dotenv","dotnet","dotslash","dprint","dscacheutil","dscl","dtm","du","dust","eb","echo","electron","eleventy","elif","elixir","elm-format","elm-json","elm-review","elm","else","emacs","encore","env","esbuild","eslint","exa","exec","exercism","expo-cli","expo","export","fastlane","fastly","fd","fdisk","ffmpeg","fig-teams","fig-teams@latest","figterm","file","fin","find","firebase","firefox","fisher","flutter","fly","flyctl","fmt","fnm","fold","for","forge","fvm","fzf-tmux","fzf","g++","ganache-cli","gatsby","gcc","gem","gh","gibo","git-cliff","git-flow","git","github","glow","gltfjsx","go","goctl","googler","goreleaser","goto","gpg","gradle","graphcdn","grep","grex","gt","gum","hardhat","hasura","hb-service","head","helm","helmfile","heroku","hexo","homey","hop","hostname","htop","http","https","httpy","hub","hugo","hx","hyper","hyperfine","ibus","id","iex","if","ignite-cli","install","ionic","j","java","jenv","jest","jmeter","join","jq","julia","jupyter","just","k6","k9s","kafkactl","kdoctor","keytool","kill","killall","kind","kitty","klist","knex","kool","kubecolor","kubectl","kubectx","kubens","laravel","launchctl","ldd","lerna","less","lima","limactl","ln","locust","login","lp","lpass","ls","lsblk","lsd","lsof","m","mackup","maigret","mailsy","make","mamba","man","mas","mdfind","mdls","meroxa","meteor","mgnl","micro","mikro-orm","minectl","minikube","mix","mkdir","mkdocs","mkfifo","mkinitcpio","mknod","mob","molecule","mongocli","mongoimport","mongosh","more","mosh","mount","multipass","mv","mvn","mysql","n","nano","nativescript","nc","ncal","neofetch","nest","netlify","networkQuality","newman","next","nextflow","ng","nginx","ngrok","nhost","ni","nl","nocorrect","node","noglob","northflank","npm","npx","nr","nrm","ns","nu","nuxi","nuxt","nvim","nvm","nx","nylas","od","oh-my-posh","okta","okteto","omz","onboardbase","op","opa","open","osascript","osqueryi","pageres","pandoc","paper","pass","passwd","paste","pathchk","pdfunite","pg_dump","pgcli","phpunit-watcher","ping","pip","pip3","pipenv","pipx","pkg-config","pkgutil","pkill","pm2","pmset","pnpm","pnpx","pocketbase","pod","poetry","pre-commit","preset","prettier","prisma","pro","projj","ps","pscale","psql","publish","pulumi","pushd","pwd","pyenv","pytest","python","python3","qodana","quasar","quickmail","r","railway","rake","rancher","rbenv","rclone","react-native","readlink","redwood","remix","remotion","repeat","rg","rich","rm","rmdir","robot","rojo","rollup","rscript","rsync","ruby","ruff","rush","rushx","rustc","rustup","rvm","sam","sanity","sapphire","scc","scp","screen","sed","seq","sequelize","serve","serverless","sfdx","sftp","sha1sum","shopify","shortcuts","shred","simctl","sips","softwareupdate","source","speedtest-cli","splash","split","spotify","spring","sqlfluff","sqlite3","src","ssh-keygen","ssh","st2","sta","start-storybook","stat","steadybit","stencil","stepzen","stow","streamlit","stripe","su","subl","sudo","supabase","surreal","svokit","svtplay-dl","sw_vers","swagger-typescript-api","swc","swift","symfony","sysctl","systemctl","tac","tail","tailscale","tailwindcss","tangram","taplo","tar","task","tccutil","tee","terraform","terragrunt","tfenv","tfsec","then","time","tldr","tmutil","tmux","tmuxinator","tns","tokei","top","touch","tr","traceroute","trap","trash","tree","trex","trivy","truffle","truncate","trunk","ts-node","tsc","tsh","tsuru","tsx","tuist","turbo","twiggy","twilio","typeorm","typos","ua","ubuntu-advantage","uname","uniq","unix2dos","until","unzip","vale","valet","vapor","vault","vela","vercel","vi","vim","vimr","visudo","vite","volta","vr","vsce","vtex","vue","vultr-cli","w","wasm-bindgen","wasm-pack","watchman","watson","wc","wd","webpack","wezterm","wget","whence","where","whereis","which","while","who","whois","wifi-password","wing","wp","wrangler","wrk","wscat","xargs","xcode-select","xcodebuild","xcodeproj","xcodes","xcrun","xdg-mime","xdg-open","xed","yank","yarn","ykman","yo","youtube-dl","zapier","zed","zellij","zig","zip","zipcloak","zoxide"];async function DEe(t){try{return(await mZ(Object.assign({"../../../node_modules/@termius/autocomplete/specs/-.json":()=>P(()=>import("./--db573d8b.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/act.json":()=>P(()=>import("./act-0639134c.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/adb.json":()=>P(()=>import("./adb-ccd56a92.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/afplay.json":()=>P(()=>import("./afplay-cce6199d.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/aftman.json":()=>P(()=>import("./aftman-49f88d3b.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ag.json":()=>P(()=>import("./ag-cb20e01c.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/agrippa.json":()=>P(()=>import("./agrippa-8a170f45.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/airflow.json":()=>P(()=>import("./airflow-99564e96.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/aliases.json":()=>P(()=>import("./aliases-f8ed6d82.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/amplify.json":()=>P(()=>import("./amplify-b65c07f7.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ansible-config.json":()=>P(()=>import("./ansible-config-f001ee04.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ansible-doc.json":()=>P(()=>import("./ansible-doc-59942170.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ansible-galaxy.json":()=>P(()=>import("./ansible-galaxy-55d8edce.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ansible-lint.json":()=>P(()=>import("./ansible-lint-8d5091d8.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ansible-playbook.json":()=>P(()=>import("./ansible-playbook-05e8f79d.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ansible.json":()=>P(()=>import("./ansible-01ce8271.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/appwrite.json":()=>P(()=>import("./appwrite-70eacb66.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/apt.json":()=>P(()=>import("./apt-23a68d58.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/arch.json":()=>P(()=>import("./arch-3f6cb427.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/argo.json":()=>P(()=>import("./argo-16f390e9.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/asar.json":()=>P(()=>import("./asar-d583741a.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/asciinema.json":()=>P(()=>import("./asciinema-715199f3.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/asdf.json":()=>P(()=>import("./asdf-d6232dc9.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/asr.json":()=>P(()=>import("./asr-afa77f1e.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/assimp.json":()=>P(()=>import("./assimp-3e948c95.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/atlas.json":()=>P(()=>import("./atlas-e6234dc9.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/authchanger.json":()=>P(()=>import("./authchanger-6d883d7f.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/autojump.json":()=>P(()=>import("./autojump-f31081d4.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/aws.json":()=>P(()=>import("./aws-52a3196c.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/awsume.json":()=>P(()=>import("./awsume-6d1f5bfb.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/babel.json":()=>P(()=>import("./babel-e150c31b.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/banner.json":()=>P(()=>import("./banner-b6b090b9.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/base32.json":()=>P(()=>import("./base32-13f7d247.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/base64.json":()=>P(()=>import("./base64-b49b94a2.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/basename.json":()=>P(()=>import("./basename-e6a08edb.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/basenc.json":()=>P(()=>import("./basenc-d8518648.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/bat.json":()=>P(()=>import("./bat-c875b89c.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/bazel.json":()=>P(()=>import("./bazel-fd9805a1.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/bc.json":()=>P(()=>import("./bc-76d4b867.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/bcd.json":()=>P(()=>import("./bcd-80995dce.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/black.json":()=>P(()=>import("./black-120c2a22.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/blitz.json":()=>P(()=>import("./blitz-9cf8e6bb.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/bosh.json":()=>P(()=>import("./bosh-df15b8ee.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/br.json":()=>P(()=>import("./br-b643490c.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/brew.json":()=>P(()=>import("./brew-82764b86.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/broot.json":()=>P(()=>import("./broot-b643490c.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/browser-sync.json":()=>P(()=>import("./browser-sync-2e72fa36.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/btop.json":()=>P(()=>import("./btop-36ada6ec.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/build-storybook.json":()=>P(()=>import("./build-storybook-d8e3afe6.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/bun.json":()=>P(()=>import("./bun-147642ed.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/bundle.json":()=>P(()=>import("./bundle-28927eb3.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/bw.json":()=>P(()=>import("./bw-305078a1.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/c++.json":()=>P(()=>import("./c__-12c82c69.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/caffeinate.json":()=>P(()=>import("./caffeinate-75909c42.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/cal.json":()=>P(()=>import("./cal-cac1cc73.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/cap.json":()=>P(()=>import("./cap-da288c13.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/capacitor.json":()=>P(()=>import("./capacitor-0df8f2ec.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/cargo.json":()=>P(()=>import("./cargo-c9793dba.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/cat.json":()=>P(()=>import("./cat-1c3b61e2.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/cd.json":()=>P(()=>import("./cd-0abedae4.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/cdk.json":()=>P(()=>import("./cdk-7b213da5.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/cdk8s.json":()=>P(()=>import("./cdk8s-2699a003.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/cf.json":()=>P(()=>import("./cf-90b72083.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/charm.json":()=>P(()=>import("./charm-e5105556.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/checkov.json":()=>P(()=>import("./checkov-b62327f6.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/chezmoi.json":()=>P(()=>import("./chezmoi-f74003ba.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/chmod.json":()=>P(()=>import("./chmod-bcb22c9d.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/chown.json":()=>P(()=>import("./chown-4d49f4f4.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/chsh.json":()=>P(()=>import("./chsh-2870b16d.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/circleci.json":()=>P(()=>import("./circleci-9a7a2408.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/clang++.json":()=>P(()=>import("./clang__-f5e68433.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/clang.json":()=>P(()=>import("./clang-6cb6d7ea.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/clear.json":()=>P(()=>import("./clear-22d3ed75.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/clojure.json":()=>P(()=>import("./clojure-0186f96b.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/cloudflared.json":()=>P(()=>import("./cloudflared-e81e85a4.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/cmake.json":()=>P(()=>import("./cmake-e0993958.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/coda.json":()=>P(()=>import("./coda-251c3a80.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/code-insiders.json":()=>P(()=>import("./code-insiders-481f301d.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/code.json":()=>P(()=>import("./code-18d51648.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/codesign.json":()=>P(()=>import("./codesign-fc1d3ffc.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/command.json":()=>P(()=>import("./command-3afac573.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/conda.json":()=>P(()=>import("./conda-93d162aa.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/copilot.json":()=>P(()=>import("./copilot-a28b5650.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/copyfile.json":()=>P(()=>import("./copyfile-a2eb01ce.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/copypath.json":()=>P(()=>import("./copypath-6c484c18.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/cordova.json":()=>P(()=>import("./cordova-11a240b5.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/cosign.json":()=>P(()=>import("./cosign-c66efcf6.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/cot.json":()=>P(()=>import("./cot-dc82dd52.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/cp.json":()=>P(()=>import("./cp-c05ea9ea.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/create-completion-spec.json":()=>P(()=>import("./create-completion-spec-c138f4ea.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/create-next-app.json":()=>P(()=>import("./create-next-app-e47ed6a1.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/create-nx-workspace.json":()=>P(()=>import("./create-nx-workspace-0829d541.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/create-react-app.json":()=>P(()=>import("./create-react-app-f32f4af4.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/create-react-native-app.json":()=>P(()=>import("./create-react-native-app-8db7ede2.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/create-remix.json":()=>P(()=>import("./create-remix-532f82ac.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/create-t3-app.json":()=>P(()=>import("./create-t3-app-62168174.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/create-web3-frontend.json":()=>P(()=>import("./create-web3-frontend-5a192c5e.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/croc.json":()=>P(()=>import("./croc-991a7739.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/crontab.json":()=>P(()=>import("./crontab-89d2fff9.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/csdx.json":()=>P(()=>import("./csdx-e19c0bb0.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/curl.json":()=>P(()=>import("./curl-51e1b85c.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/cut.json":()=>P(()=>import("./cut-18fcf035.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/dart.json":()=>P(()=>import("./dart-d518bbd9.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/date.json":()=>P(()=>import("./date-ff0a80e4.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/dateseq.json":()=>P(()=>import("./dateseq-e0a53cc5.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/datree.json":()=>P(()=>import("./datree-80c28742.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/dbt.json":()=>P(()=>import("./dbt-e0195871.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/dd.json":()=>P(()=>import("./dd-c62abe57.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ddev.json":()=>P(()=>import("./ddev-1a01bf08.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ddosify.json":()=>P(()=>import("./ddosify-e0a423db.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/defaultbrowser.json":()=>P(()=>import("./defaultbrowser-ddda8fc3.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/defaults.json":()=>P(()=>import("./defaults-c93269d6.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/degit.json":()=>P(()=>import("./degit-0597f9f6.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/deno.json":()=>P(()=>import("./deno-4845bc89.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/deployctl.json":()=>P(()=>import("./deployctl-5c254577.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/deta.json":()=>P(()=>import("./deta-856e2815.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/df.json":()=>P(()=>import("./df-45437fa9.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/diff.json":()=>P(()=>import("./diff-ea4e599c.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/dig.json":()=>P(()=>import("./dig-36e48282.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/direnv.json":()=>P(()=>import("./direnv-7504fb3f.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/dirname.json":()=>P(()=>import("./dirname-182312a2.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ditto.json":()=>P(()=>import("./ditto-8d969178.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/django-admin.json":()=>P(()=>import("./django-admin-db7ac089.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/do-release-upgrade.json":()=>P(()=>import("./do-release-upgrade-e70e7e23.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/do.json":()=>P(()=>import("./do-58319115.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/docker-compose.json":()=>P(()=>import("./docker-compose-db767554.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/docker.json":()=>P(()=>import("./docker-49ae44c1.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/doctl.json":()=>P(()=>import("./doctl-3aa8bf71.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/dog.json":()=>P(()=>import("./dog-6db0d604.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/doppler.json":()=>P(()=>import("./doppler-cc826f18.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/dos2unix.json":()=>P(()=>import("./dos2unix-34ca5c77.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/dotenv-vault.json":()=>P(()=>import("./dotenv-vault-655358c8.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/dotenv.json":()=>P(()=>import("./dotenv-e81f3cbf.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/dotnet.json":()=>P(()=>import("./dotnet-76d3c9fb.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/dotslash.json":()=>P(()=>import("./dotslash-55acbd1f.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/dprint.json":()=>P(()=>import("./dprint-2d0411a4.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/dscacheutil.json":()=>P(()=>import("./dscacheutil-f4e9a12a.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/dscl.json":()=>P(()=>import("./dscl-0755ae2b.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/dtm.json":()=>P(()=>import("./dtm-0e7fb2b0.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/du.json":()=>P(()=>import("./du-adc91482.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/dust.json":()=>P(()=>import("./dust-ea328ec6.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/eb.json":()=>P(()=>import("./eb-37086695.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/echo.json":()=>P(()=>import("./echo-871594b2.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/electron.json":()=>P(()=>import("./electron-c23b457a.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/eleventy.json":()=>P(()=>import("./eleventy-008414f1.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/elif.json":()=>P(()=>import("./elif-b8a608e4.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/elixir.json":()=>P(()=>import("./elixir-11e76176.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/elm-format.json":()=>P(()=>import("./elm-format-f91916b9.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/elm-json.json":()=>P(()=>import("./elm-json-75ff841c.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/elm-review.json":()=>P(()=>import("./elm-review-5f6500ab.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/elm.json":()=>P(()=>import("./elm-c441844c.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/else.json":()=>P(()=>import("./else-1aad9b40.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/emacs.json":()=>P(()=>import("./emacs-db4a5006.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/encore.json":()=>P(()=>import("./encore-ccdf1218.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/env.json":()=>P(()=>import("./env-ac92b8eb.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/esbuild.json":()=>P(()=>import("./esbuild-e496bf19.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/eslint.json":()=>P(()=>import("./eslint-ec2ab32f.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/exa.json":()=>P(()=>import("./exa-fcc70a45.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/exec.json":()=>P(()=>import("./exec-e27d44da.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/exercism.json":()=>P(()=>import("./exercism-922dd500.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/expo-cli.json":()=>P(()=>import("./expo-cli-3c4e809f.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/expo.json":()=>P(()=>import("./expo-383938b6.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/export.json":()=>P(()=>import("./export-a09ca2d8.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/fastlane.json":()=>P(()=>import("./fastlane-87cb5d2b.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/fastly.json":()=>P(()=>import("./fastly-55cf8e03.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/fd.json":()=>P(()=>import("./fd-e2d6c075.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/fdisk.json":()=>P(()=>import("./fdisk-dadb4c8f.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ffmpeg.json":()=>P(()=>import("./ffmpeg-3b8c2c9e.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/fig-teams.json":()=>P(()=>import("./fig-teams-7802f659.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/fig-teams@latest.json":()=>P(()=>import("./fig-teams@latest-ab057aa6.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/figterm.json":()=>P(()=>import("./figterm-057ed9f0.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/file.json":()=>P(()=>import("./file-559638c8.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/fin.json":()=>P(()=>import("./fin-02d8b18f.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/find.json":()=>P(()=>import("./find-e808cd3b.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/firebase.json":()=>P(()=>import("./firebase-343378d0.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/firefox.json":()=>P(()=>import("./firefox-c2aabc09.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/fisher.json":()=>P(()=>import("./fisher-030e85a5.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/flutter.json":()=>P(()=>import("./flutter-258de966.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/fly.json":()=>P(()=>import("./fly-3add0552.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/flyctl.json":()=>P(()=>import("./flyctl-dc21d802.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/fmt.json":()=>P(()=>import("./fmt-25d62bf9.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/fnm.json":()=>P(()=>import("./fnm-d0182bbc.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/fold.json":()=>P(()=>import("./fold-43f2c90e.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/for.json":()=>P(()=>import("./for-f01b4392.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/forge.json":()=>P(()=>import("./forge-3bd06a49.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/fvm.json":()=>P(()=>import("./fvm-b08ddbcc.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/fzf-tmux.json":()=>P(()=>import("./fzf-tmux-39775a91.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/fzf.json":()=>P(()=>import("./fzf-6dca570b.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/g++.json":()=>P(()=>import("./g__-4dd2967e.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ganache-cli.json":()=>P(()=>import("./ganache-cli-f73cd0e6.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/gatsby.json":()=>P(()=>import("./gatsby-fba78294.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/gcc.json":()=>P(()=>import("./gcc-73c7986f.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/gem.json":()=>P(()=>import("./gem-218c7940.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/gh.json":()=>P(()=>import("./gh-255dcb77.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/gibo.json":()=>P(()=>import("./gibo-1cfbe6a1.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/git-cliff.json":()=>P(()=>import("./git-cliff-a04d9926.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/git-flow.json":()=>P(()=>import("./git-flow-0e741a96.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/git.json":()=>P(()=>import("./git-c3bca7fa.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/github.json":()=>P(()=>import("./github-e8917e98.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/glow.json":()=>P(()=>import("./glow-22e9ff41.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/gltfjsx.json":()=>P(()=>import("./gltfjsx-30e712ac.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/go.json":()=>P(()=>import("./go-be6ab199.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/goctl.json":()=>P(()=>import("./goctl-58d5ae55.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/googler.json":()=>P(()=>import("./googler-6f596386.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/goreleaser.json":()=>P(()=>import("./goreleaser-b28f4e22.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/goto.json":()=>P(()=>import("./goto-d6bfb52b.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/gpg.json":()=>P(()=>import("./gpg-543d0c61.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/gradle.json":()=>P(()=>import("./gradle-2215c2ca.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/graphcdn.json":()=>P(()=>import("./graphcdn-1c860de5.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/grep.json":()=>P(()=>import("./grep-c0a0218e.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/grex.json":()=>P(()=>import("./grex-e35b0dd4.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/gt.json":()=>P(()=>import("./gt-7f796b81.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/gum.json":()=>P(()=>import("./gum-2e3d780e.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/hardhat.json":()=>P(()=>import("./hardhat-450d668e.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/hasura.json":()=>P(()=>import("./hasura-ef021f84.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/hb-service.json":()=>P(()=>import("./hb-service-ab1bb2b0.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/head.json":()=>P(()=>import("./head-8974d178.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/helm.json":()=>P(()=>import("./helm-2554a1a7.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/helmfile.json":()=>P(()=>import("./helmfile-a25cda77.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/heroku.json":()=>P(()=>import("./heroku-f9e41371.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/hexo.json":()=>P(()=>import("./hexo-364c5dc4.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/homey.json":()=>P(()=>import("./homey-1a24294e.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/hop.json":()=>P(()=>import("./hop-d5085ba6.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/hostname.json":()=>P(()=>import("./hostname-670ce2b4.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/htop.json":()=>P(()=>import("./htop-7146bab6.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/http.json":()=>P(()=>import("./http-df1b7a3b.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/https.json":()=>P(()=>import("./https-e57daed2.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/httpy.json":()=>P(()=>import("./httpy-50b4970b.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/hub.json":()=>P(()=>import("./hub-c3bca7fa.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/hugo.json":()=>P(()=>import("./hugo-e442c474.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/hx.json":()=>P(()=>import("./hx-0be3583f.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/hyper.json":()=>P(()=>import("./hyper-5b491790.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/hyperfine.json":()=>P(()=>import("./hyperfine-0ea50a19.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ibus.json":()=>P(()=>import("./ibus-fe377d4a.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/id.json":()=>P(()=>import("./id-9f9458a9.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/iex.json":()=>P(()=>import("./iex-f442f3f8.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/if.json":()=>P(()=>import("./if-27d40394.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ignite-cli.json":()=>P(()=>import("./ignite-cli-9a28105a.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/install.json":()=>P(()=>import("./install-a4c4bf44.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ionic.json":()=>P(()=>import("./ionic-4da674b6.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/j.json":()=>P(()=>import("./j-18d2e4b5.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/java.json":()=>P(()=>import("./java-fe1499d4.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/jenv.json":()=>P(()=>import("./jenv-7ae041a1.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/jest.json":()=>P(()=>import("./jest-2647f948.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/jmeter.json":()=>P(()=>import("./jmeter-5ce36c12.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/join.json":()=>P(()=>import("./join-641a5355.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/jq.json":()=>P(()=>import("./jq-d1384dff.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/julia.json":()=>P(()=>import("./julia-d5cc1ec8.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/jupyter.json":()=>P(()=>import("./jupyter-921dd0fa.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/just.json":()=>P(()=>import("./just-cf536599.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/k6.json":()=>P(()=>import("./k6-ef3a3836.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/k9s.json":()=>P(()=>import("./k9s-e21665f5.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/kafkactl.json":()=>P(()=>import("./kafkactl-8d8931e6.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/kdoctor.json":()=>P(()=>import("./kdoctor-b8ce2e81.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/keytool.json":()=>P(()=>import("./keytool-ae063fc1.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/kill.json":()=>P(()=>import("./kill-cfaee470.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/killall.json":()=>P(()=>import("./killall-5865d320.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/kind.json":()=>P(()=>import("./kind-acb4562b.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/kitty.json":()=>P(()=>import("./kitty-31f86670.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/klist.json":()=>P(()=>import("./klist-63b5c9c3.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/knex.json":()=>P(()=>import("./knex-55d66bd5.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/kool.json":()=>P(()=>import("./kool-31131b8c.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/kubecolor.json":()=>P(()=>import("./kubecolor-82d87c95.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/kubectl.json":()=>P(()=>import("./kubectl-82d87c95.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/kubectx.json":()=>P(()=>import("./kubectx-be453198.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/kubens.json":()=>P(()=>import("./kubens-e8298aa0.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/laravel.json":()=>P(()=>import("./laravel-01850b27.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/launchctl.json":()=>P(()=>import("./launchctl-1f56ee01.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ldd.json":()=>P(()=>import("./ldd-0175e054.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/lerna.json":()=>P(()=>import("./lerna-5631943f.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/less.json":()=>P(()=>import("./less-ce607b9e.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/lima.json":()=>P(()=>import("./lima-58d11d46.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/limactl.json":()=>P(()=>import("./limactl-fb7c953b.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ln.json":()=>P(()=>import("./ln-70e62b6f.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/locust.json":()=>P(()=>import("./locust-d22fc9eb.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/login.json":()=>P(()=>import("./login-aa6f205a.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/lp.json":()=>P(()=>import("./lp-0880e41f.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/lpass.json":()=>P(()=>import("./lpass-5e6d154f.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ls.json":()=>P(()=>import("./ls-29176bc1.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/lsblk.json":()=>P(()=>import("./lsblk-04bc302d.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/lsd.json":()=>P(()=>import("./lsd-87da489f.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/lsof.json":()=>P(()=>import("./lsof-038de768.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/m.json":()=>P(()=>import("./m-aef1dcf8.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/mackup.json":()=>P(()=>import("./mackup-cc56a886.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/maigret.json":()=>P(()=>import("./maigret-8e8752c2.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/mailsy.json":()=>P(()=>import("./mailsy-a0d24fce.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/make.json":()=>P(()=>import("./make-e25adfd9.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/mamba.json":()=>P(()=>import("./mamba-5aaf19a1.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/man.json":()=>P(()=>import("./man-ae54b2ef.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/mas.json":()=>P(()=>import("./mas-f6805aae.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/mdfind.json":()=>P(()=>import("./mdfind-485a7c0f.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/mdls.json":()=>P(()=>import("./mdls-2753515b.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/meroxa.json":()=>P(()=>import("./meroxa-cc933c81.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/meteor.json":()=>P(()=>import("./meteor-452b50cd.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/mgnl.json":()=>P(()=>import("./mgnl-31eb1931.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/micro.json":()=>P(()=>import("./micro-9f07f284.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/mikro-orm.json":()=>P(()=>import("./mikro-orm-0925aafb.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/minectl.json":()=>P(()=>import("./minectl-8bf75936.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/minikube.json":()=>P(()=>import("./minikube-64e8070a.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/mix.json":()=>P(()=>import("./mix-4be31262.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/mkdir.json":()=>P(()=>import("./mkdir-ebe457ae.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/mkdocs.json":()=>P(()=>import("./mkdocs-e0260706.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/mkfifo.json":()=>P(()=>import("./mkfifo-fb7c63d6.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/mkinitcpio.json":()=>P(()=>import("./mkinitcpio-4fd59fca.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/mknod.json":()=>P(()=>import("./mknod-65b41193.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/mob.json":()=>P(()=>import("./mob-307ce83c.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/molecule.json":()=>P(()=>import("./molecule-e6840e19.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/mongocli.json":()=>P(()=>import("./mongocli-aa39cbce.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/mongoimport.json":()=>P(()=>import("./mongoimport-fbbf34e2.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/mongosh.json":()=>P(()=>import("./mongosh-963aaf7e.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/more.json":()=>P(()=>import("./more-36cc7d11.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/mosh.json":()=>P(()=>import("./mosh-e772726c.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/mount.json":()=>P(()=>import("./mount-007c4afd.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/multipass.json":()=>P(()=>import("./multipass-2f49eea3.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/mv.json":()=>P(()=>import("./mv-ef4c5003.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/mvn.json":()=>P(()=>import("./mvn-6f50a919.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/mysql.json":()=>P(()=>import("./mysql-46f05688.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/n.json":()=>P(()=>import("./n-ecc4b1fd.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/nano.json":()=>P(()=>import("./nano-19ab1c19.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/nativescript.json":()=>P(()=>import("./nativescript-6021b46e.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/nc.json":()=>P(()=>import("./nc-5f9d5394.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ncal.json":()=>P(()=>import("./ncal-9ec85083.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/neofetch.json":()=>P(()=>import("./neofetch-bdee0a23.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/nest.json":()=>P(()=>import("./nest-208bd1b1.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/netlify.json":()=>P(()=>import("./netlify-2a7ceee4.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/networkQuality.json":()=>P(()=>import("./networkQuality-dbc30a0c.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/newman.json":()=>P(()=>import("./newman-2c792cb1.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/next.json":()=>P(()=>import("./next-3c1e3ecc.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/nextflow.json":()=>P(()=>import("./nextflow-4b52a589.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ng.json":()=>P(()=>import("./ng-a61a4921.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/nginx.json":()=>P(()=>import("./nginx-17772768.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ngrok.json":()=>P(()=>import("./ngrok-6c5060e5.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/nhost.json":()=>P(()=>import("./nhost-9bc1ee89.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ni.json":()=>P(()=>import("./ni-cda4fa0b.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/nl.json":()=>P(()=>import("./nl-3594b067.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/nocorrect.json":()=>P(()=>import("./nocorrect-cbb3d7a6.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/node.json":()=>P(()=>import("./node-efaa1e4b.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/noglob.json":()=>P(()=>import("./noglob-3494e9e3.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/northflank.json":()=>P(()=>import("./northflank-2f1b1088.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/npm.json":()=>P(()=>import("./npm-ece4d054.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/npx.json":()=>P(()=>import("./npx-3bf7c5b6.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/nr.json":()=>P(()=>import("./nr-aecc3b51.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/nrm.json":()=>P(()=>import("./nrm-9add66af.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ns.json":()=>P(()=>import("./ns-6021b46e.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/nu.json":()=>P(()=>import("./nu-3dfce933.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/nuxi.json":()=>P(()=>import("./nuxi-b8548f14.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/nuxt.json":()=>P(()=>import("./nuxt-e41cfb1c.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/nvim.json":()=>P(()=>import("./nvim-c21d69ef.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/nvm.json":()=>P(()=>import("./nvm-40c7ec14.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/nx.json":()=>P(()=>import("./nx-28021a5f.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/nylas.json":()=>P(()=>import("./nylas-1da66a04.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/od.json":()=>P(()=>import("./od-a54e586a.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/oh-my-posh.json":()=>P(()=>import("./oh-my-posh-91345775.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/okta.json":()=>P(()=>import("./okta-2bccf26f.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/okteto.json":()=>P(()=>import("./okteto-04f0c4fd.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/omz.json":()=>P(()=>import("./omz-7d5fa250.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/onboardbase.json":()=>P(()=>import("./onboardbase-f8e9c573.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/op.json":()=>P(()=>import("./op-ed1dfeba.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/opa.json":()=>P(()=>import("./opa-fcb957ba.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/open.json":()=>P(()=>import("./open-07d2569a.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/osascript.json":()=>P(()=>import("./osascript-d475e6a4.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/osqueryi.json":()=>P(()=>import("./osqueryi-6f0af608.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/pageres.json":()=>P(()=>import("./pageres-b64dbf4c.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/pandoc.json":()=>P(()=>import("./pandoc-75701b4e.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/paper.json":()=>P(()=>import("./paper-32cdec77.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/pass.json":()=>P(()=>import("./pass-b86124d7.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/passwd.json":()=>P(()=>import("./passwd-692e1c4e.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/paste.json":()=>P(()=>import("./paste-b3fc1156.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/pathchk.json":()=>P(()=>import("./pathchk-f521221f.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/pdfunite.json":()=>P(()=>import("./pdfunite-4f079a7a.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/pg_dump.json":()=>P(()=>import("./pg_dump-e39a4094.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/pgcli.json":()=>P(()=>import("./pgcli-9c4b6ad4.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/phpunit-watcher.json":()=>P(()=>import("./phpunit-watcher-5297e59e.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ping.json":()=>P(()=>import("./ping-41afc910.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/pip.json":()=>P(()=>import("./pip-ffd0d1a6.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/pip3.json":()=>P(()=>import("./pip3-5fc3fdb5.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/pipenv.json":()=>P(()=>import("./pipenv-22f2681d.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/pipx.json":()=>P(()=>import("./pipx-40992d35.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/pkg-config.json":()=>P(()=>import("./pkg-config-0bc92c32.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/pkgutil.json":()=>P(()=>import("./pkgutil-aa705756.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/pkill.json":()=>P(()=>import("./pkill-ac6ba99e.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/pm2.json":()=>P(()=>import("./pm2-9d9b1606.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/pmset.json":()=>P(()=>import("./pmset-124275ba.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/pnpm.json":()=>P(()=>import("./pnpm-c32b7d17.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/pnpx.json":()=>P(()=>import("./pnpx-0e15cfee.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/pocketbase.json":()=>P(()=>import("./pocketbase-c4c60db2.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/pod.json":()=>P(()=>import("./pod-9a1a8644.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/poetry.json":()=>P(()=>import("./poetry-9fab4b59.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/pre-commit.json":()=>P(()=>import("./pre-commit-3ddb33f0.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/preset.json":()=>P(()=>import("./preset-442226c2.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/prettier.json":()=>P(()=>import("./prettier-4a61f534.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/prisma.json":()=>P(()=>import("./prisma-931ae5c8.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/pro.json":()=>P(()=>import("./pro-0b28be43.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/projj.json":()=>P(()=>import("./projj-45dca62d.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ps.json":()=>P(()=>import("./ps-b0f41118.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/pscale.json":()=>P(()=>import("./pscale-06effbc8.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/psql.json":()=>P(()=>import("./psql-4955c235.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/publish.json":()=>P(()=>import("./publish-15fe9ba3.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/pulumi.json":()=>P(()=>import("./pulumi-4dc02a4d.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/pushd.json":()=>P(()=>import("./pushd-6dad1aa5.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/pwd.json":()=>P(()=>import("./pwd-f183aede.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/pyenv.json":()=>P(()=>import("./pyenv-9d63a3fc.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/pytest.json":()=>P(()=>import("./pytest-098fb6d5.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/python.json":()=>P(()=>import("./python-3557a633.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/python3.json":()=>P(()=>import("./python3-f7a0f74d.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/qodana.json":()=>P(()=>import("./qodana-dadc9b98.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/quasar.json":()=>P(()=>import("./quasar-c8630d74.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/quickmail.json":()=>P(()=>import("./quickmail-651669bf.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/r.json":()=>P(()=>import("./r-16ef9fef.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/railway.json":()=>P(()=>import("./railway-8c714386.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/rake.json":()=>P(()=>import("./rake-6f2b96d3.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/rancher.json":()=>P(()=>import("./rancher-70fd0e5f.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/rbenv.json":()=>P(()=>import("./rbenv-9a202b51.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/rclone.json":()=>P(()=>import("./rclone-218d9a3e.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/react-native.json":()=>P(()=>import("./react-native-1e830036.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/readlink.json":()=>P(()=>import("./readlink-d77a5f65.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/redwood.json":()=>P(()=>import("./redwood-85a6e549.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/remix.json":()=>P(()=>import("./remix-79a5a614.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/remotion.json":()=>P(()=>import("./remotion-f54d70b9.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/repeat.json":()=>P(()=>import("./repeat-18ffe07b.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/rg.json":()=>P(()=>import("./rg-35743287.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/rich.json":()=>P(()=>import("./rich-820d1efc.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/rm.json":()=>P(()=>import("./rm-8e7d66f8.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/rmdir.json":()=>P(()=>import("./rmdir-ba817de8.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/robot.json":()=>P(()=>import("./robot-6371526e.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/rojo.json":()=>P(()=>import("./rojo-5dde56fc.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/rollup.json":()=>P(()=>import("./rollup-0e4869ef.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/rscript.json":()=>P(()=>import("./rscript-2ef9596c.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/rsync.json":()=>P(()=>import("./rsync-ee74070b.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ruby.json":()=>P(()=>import("./ruby-efaf5b7c.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ruff.json":()=>P(()=>import("./ruff-c4de026a.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/rush.json":()=>P(()=>import("./rush-cc1f93ae.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/rushx.json":()=>P(()=>import("./rushx-712f35e3.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/rustc.json":()=>P(()=>import("./rustc-0cf7b682.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/rustup.json":()=>P(()=>import("./rustup-275d6172.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/rvm.json":()=>P(()=>import("./rvm-a935b905.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/sam.json":()=>P(()=>import("./sam-d4f36d44.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/sanity.json":()=>P(()=>import("./sanity-373074a1.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/sapphire.json":()=>P(()=>import("./sapphire-a31f5bc3.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/scc.json":()=>P(()=>import("./scc-8b843aba.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/scp.json":()=>P(()=>import("./scp-e664d951.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/screen.json":()=>P(()=>import("./screen-adc6f645.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/sed.json":()=>P(()=>import("./sed-069ec41d.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/seq.json":()=>P(()=>import("./seq-2bf18eb5.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/sequelize.json":()=>P(()=>import("./sequelize-9944c9e1.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/serve.json":()=>P(()=>import("./serve-18ec070f.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/serverless.json":()=>P(()=>import("./serverless-cc1b3e0e.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/sfdx.json":()=>P(()=>import("./sfdx-bcc1da93.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/sftp.json":()=>P(()=>import("./sftp-3bc66ec1.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/sha1sum.json":()=>P(()=>import("./sha1sum-8e8f43bf.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/shopify.json":()=>P(()=>import("./shopify-5b79acb5.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/shortcuts.json":()=>P(()=>import("./shortcuts-bcc293b3.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/shred.json":()=>P(()=>import("./shred-1064b76b.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/simctl.json":()=>P(()=>import("./simctl-68e584e9.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/sips.json":()=>P(()=>import("./sips-e2b7eb10.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/softwareupdate.json":()=>P(()=>import("./softwareupdate-afab3628.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/source.json":()=>P(()=>import("./source-d2468323.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/speedtest-cli.json":()=>P(()=>import("./speedtest-cli-e5d0c916.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/splash.json":()=>P(()=>import("./splash-53347d77.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/split.json":()=>P(()=>import("./split-b895a93b.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/spotify.json":()=>P(()=>import("./spotify-5f8bd0f3.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/spring.json":()=>P(()=>import("./spring-90bcfcf4.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/sqlfluff.json":()=>P(()=>import("./sqlfluff-e412e466.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/sqlite3.json":()=>P(()=>import("./sqlite3-0da9498d.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/src.json":()=>P(()=>import("./src-c5674925.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ssh-keygen.json":()=>P(()=>import("./ssh-keygen-ecb51d59.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ssh.json":()=>P(()=>import("./ssh-63c2c600.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/st2.json":()=>P(()=>import("./st2-5dc6cba7.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/sta.json":()=>P(()=>import("./sta-00d5ebab.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/start-storybook.json":()=>P(()=>import("./start-storybook-fd544606.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/stat.json":()=>P(()=>import("./stat-7b2a4f2e.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/steadybit.json":()=>P(()=>import("./steadybit-831b5746.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/stencil.json":()=>P(()=>import("./stencil-76d2e608.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/stepzen.json":()=>P(()=>import("./stepzen-7fe0c0df.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/stow.json":()=>P(()=>import("./stow-1df6197e.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/streamlit.json":()=>P(()=>import("./streamlit-b0c9153f.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/stripe.json":()=>P(()=>import("./stripe-ffbddd07.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/su.json":()=>P(()=>import("./su-1080e03f.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/subl.json":()=>P(()=>import("./subl-47b636d1.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/sudo.json":()=>P(()=>import("./sudo-8cbb3a25.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/supabase.json":()=>P(()=>import("./supabase-03fcd253.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/surreal.json":()=>P(()=>import("./surreal-c4c611f4.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/svokit.json":()=>P(()=>import("./svokit-dc0f42d2.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/svtplay-dl.json":()=>P(()=>import("./svtplay-dl-3834a09c.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/sw_vers.json":()=>P(()=>import("./sw_vers-b5742783.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/swagger-typescript-api.json":()=>P(()=>import("./swagger-typescript-api-00d5ebab.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/swc.json":()=>P(()=>import("./swc-b7fb2ad8.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/swift.json":()=>P(()=>import("./swift-6be97a06.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/symfony.json":()=>P(()=>import("./symfony-94b4a67b.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/sysctl.json":()=>P(()=>import("./sysctl-471dd697.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/systemctl.json":()=>P(()=>import("./systemctl-719a7043.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/tac.json":()=>P(()=>import("./tac-ea87194a.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/tail.json":()=>P(()=>import("./tail-c1e84cba.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/tailscale.json":()=>P(()=>import("./tailscale-8535f498.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/tailwindcss.json":()=>P(()=>import("./tailwindcss-9643dab1.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/tangram.json":()=>P(()=>import("./tangram-35d1a836.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/taplo.json":()=>P(()=>import("./taplo-068521c7.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/tar.json":()=>P(()=>import("./tar-a4d54c33.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/task.json":()=>P(()=>import("./task-bebf971c.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/tccutil.json":()=>P(()=>import("./tccutil-fad05b7d.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/tee.json":()=>P(()=>import("./tee-427b1ce4.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/terraform.json":()=>P(()=>import("./terraform-a197beb5.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/terragrunt.json":()=>P(()=>import("./terragrunt-b04f70fb.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/tfenv.json":()=>P(()=>import("./tfenv-8b22c4eb.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/tfsec.json":()=>P(()=>import("./tfsec-8804d8fe.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/then.json":()=>P(()=>import("./then-3291ffd1.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/time.json":()=>P(()=>import("./time-016535c9.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/tldr.json":()=>P(()=>import("./tldr-d84b6ddd.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/tmutil.json":()=>P(()=>import("./tmutil-8623c196.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/tmux.json":()=>P(()=>import("./tmux-6262e4d8.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/tmuxinator.json":()=>P(()=>import("./tmuxinator-0800258c.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/tns.json":()=>P(()=>import("./tns-6021b46e.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/tokei.json":()=>P(()=>import("./tokei-7a3ed85f.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/top.json":()=>P(()=>import("./top-7224742e.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/touch.json":()=>P(()=>import("./touch-1ab262ec.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/tr.json":()=>P(()=>import("./tr-e9d904f1.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/traceroute.json":()=>P(()=>import("./traceroute-3a2e465d.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/trap.json":()=>P(()=>import("./trap-86ba9b36.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/trash.json":()=>P(()=>import("./trash-2e4ac7d9.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/tree.json":()=>P(()=>import("./tree-da3a6234.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/trex.json":()=>P(()=>import("./trex-5c12e528.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/trivy.json":()=>P(()=>import("./trivy-3ea73ed5.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/truffle.json":()=>P(()=>import("./truffle-42ed0eb9.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/truncate.json":()=>P(()=>import("./truncate-e3e9bd7b.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/trunk.json":()=>P(()=>import("./trunk-4bf48d32.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ts-node.json":()=>P(()=>import("./ts-node-109f5bb0.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/tsc.json":()=>P(()=>import("./tsc-ef9b4fd9.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/tsh.json":()=>P(()=>import("./tsh-442308bf.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/tsuru.json":()=>P(()=>import("./tsuru-6378bcdf.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/tsx.json":()=>P(()=>import("./tsx-ebb102b4.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/tuist.json":()=>P(()=>import("./tuist-5fd0fb95.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/turbo.json":()=>P(()=>import("./turbo-537c3fa0.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/twiggy.json":()=>P(()=>import("./twiggy-e78c5b52.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/twilio.json":()=>P(()=>import("./twilio-1b797fe8.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/typeorm.json":()=>P(()=>import("./typeorm-71531f34.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/typos.json":()=>P(()=>import("./typos-b32ace4f.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ua.json":()=>P(()=>import("./ua-49ec0d30.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ubuntu-advantage.json":()=>P(()=>import("./ubuntu-advantage-5e5dfb2c.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/uname.json":()=>P(()=>import("./uname-497f96a0.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/uniq.json":()=>P(()=>import("./uniq-231f9896.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/unix2dos.json":()=>P(()=>import("./unix2dos-c7597763.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/until.json":()=>P(()=>import("./until-74ad0132.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/unzip.json":()=>P(()=>import("./unzip-4d192759.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/vale.json":()=>P(()=>import("./vale-8cb362bc.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/valet.json":()=>P(()=>import("./valet-9d190696.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/vapor.json":()=>P(()=>import("./vapor-78abb41d.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/vault.json":()=>P(()=>import("./vault-b0b69edd.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/vela.json":()=>P(()=>import("./vela-9aebe707.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/vercel.json":()=>P(()=>import("./vercel-199cba06.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/vi.json":()=>P(()=>import("./vi-75878216.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/vim.json":()=>P(()=>import("./vim-1766b591.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/vimr.json":()=>P(()=>import("./vimr-ad77a02f.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/visudo.json":()=>P(()=>import("./visudo-6aa6cae3.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/vite.json":()=>P(()=>import("./vite-77228226.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/volta.json":()=>P(()=>import("./volta-0004ec71.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/vr.json":()=>P(()=>import("./vr-b83462c8.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/vsce.json":()=>P(()=>import("./vsce-904d68cc.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/vtex.json":()=>P(()=>import("./vtex-eb46788e.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/vue.json":()=>P(()=>import("./vue-4998f2df.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/vultr-cli.json":()=>P(()=>import("./vultr-cli-348a1ad7.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/w.json":()=>P(()=>import("./w-7822530e.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/wasm-bindgen.json":()=>P(()=>import("./wasm-bindgen-37cdff6a.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/wasm-pack.json":()=>P(()=>import("./wasm-pack-6f028f7d.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/watchman.json":()=>P(()=>import("./watchman-f2087f64.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/watson.json":()=>P(()=>import("./watson-a432eb48.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/wc.json":()=>P(()=>import("./wc-9466fd3d.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/wd.json":()=>P(()=>import("./wd-9482c1fb.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/webpack.json":()=>P(()=>import("./webpack-91c3e34a.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/wezterm.json":()=>P(()=>import("./wezterm-3418e5f3.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/wget.json":()=>P(()=>import("./wget-35483e07.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/whence.json":()=>P(()=>import("./whence-acfbe42c.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/where.json":()=>P(()=>import("./where-506a47c0.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/whereis.json":()=>P(()=>import("./whereis-c1f7cb68.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/which.json":()=>P(()=>import("./which-ad9f5cde.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/while.json":()=>P(()=>import("./while-2858743f.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/who.json":()=>P(()=>import("./who-068b388f.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/whois.json":()=>P(()=>import("./whois-dab8db36.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/wifi-password.json":()=>P(()=>import("./wifi-password-3a5358f6.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/wing.json":()=>P(()=>import("./wing-d12a7f40.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/wp.json":()=>P(()=>import("./wp-7808aca5.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/wrangler.json":()=>P(()=>import("./wrangler-26a4f9ca.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/wrk.json":()=>P(()=>import("./wrk-93227068.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/wscat.json":()=>P(()=>import("./wscat-6f57e385.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/xargs.json":()=>P(()=>import("./xargs-05ac5a0f.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/xcode-select.json":()=>P(()=>import("./xcode-select-63a22516.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/xcodebuild.json":()=>P(()=>import("./xcodebuild-5b15df50.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/xcodeproj.json":()=>P(()=>import("./xcodeproj-d07a1207.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/xcodes.json":()=>P(()=>import("./xcodes-3a16c96d.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/xcrun.json":()=>P(()=>import("./xcrun-60c63863.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/xdg-mime.json":()=>P(()=>import("./xdg-mime-af371585.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/xdg-open.json":()=>P(()=>import("./xdg-open-3070b497.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/xed.json":()=>P(()=>import("./xed-f0e62f31.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/yank.json":()=>P(()=>import("./yank-159fb511.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/yarn.json":()=>P(()=>import("./yarn-1bcbe0da.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/ykman.json":()=>P(()=>import("./ykman-ac8f763e.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/yo.json":()=>P(()=>import("./yo-31f7c461.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/youtube-dl.json":()=>P(()=>import("./youtube-dl-04b4c71e.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/zapier.json":()=>P(()=>import("./zapier-a2c7ef16.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/zed.json":()=>P(()=>import("./zed-25542e4d.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/zellij.json":()=>P(()=>import("./zellij-1a45956e.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/zig.json":()=>P(()=>import("./zig-d0253506.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/zip.json":()=>P(()=>import("./zip-47cad2ff.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/zipcloak.json":()=>P(()=>import("./zipcloak-ba407a1e.js"),[],import.meta.url),"../../../node_modules/@termius/autocomplete/specs/zoxide.json":()=>P(()=>import("./zoxide-45b3cb59.js"),[],import.meta.url)}),`../../../node_modules/@termius/autocomplete/specs/${t}.json`)).default}catch{return}}const FEe=new Set(OEe);async function SS(t){var s;const[e,...n]=t;if(!e||!FEe.has(e.content))return;const o=await DEe(e.content);if(!o)return;let r={type:"command",spec:o,token:e};const i=[r];for(const[a,l]of n.entries()){const c=(s=r.spec.subcommands)==null?void 0:s.find(R7(l.content));if(!c)return i.push(...await NEe(n,r,a)),i;r={type:"command",token:l,spec:c,parent:r},i.push(r)}return i}async function NEe(t,e,n){const{spec:o}=e,r=[];let i=0,s=!1;for(let a=n;a<t.length;a+=1){const l=t[a];if(!s&&BEe(l.content)&&VEe(r)){const d=HEe(l.content,o);if(d==null)bS(l)?(r.push({type:"option",token:l,spec:{name:"--"},parent:e}),s=!0):(r.push({type:"unknown",token:l,parent:e,spec:void 0}),i+=1);else{const p={type:"option",token:l,spec:d,parent:e};if(r.push(p),d.args){const h=a+1;for(a=h;a<t.length;a+=1){const m=t[a],g=a-h,C=mr(g,d.args);if(!C){a-=1;break}r.push({type:"option-argument",spec:C,token:m,index:g,parent:p})}}}}else{const d=mr(i,o.args);if(d!=null&&d.isCommand){const p=await SS(t.slice(a))??[];return[...r,...p]}r.push(d?{type:"argument",spec:d,token:l,parent:e,index:i}:{type:"unknown",token:l,parent:e,spec:void 0}),i+=1}}return r}const HEe=(t,e)=>{var n;if(e.options){if(zEe(t)&&((n=e.parserDirectives)==null?void 0:n.flagsArePosixNoncompliant)!==!0){const o=t[t.length-1];return e.options.find(R7(`-${o}`))??void 0}return e.options.find(R7(t))??void 0}},BEe=t=>t.startsWith("-"),zEe=t=>/^-[^-]+/.test(t);function bS(t){return t.type==="word"&&t.content==="--"}function R7(t){return e=>Array.isArray(e.name)?e.name.includes(t):e.name===t}const mr=(t,e)=>(e==null?void 0:e[t])??Zo(e,n=>n.isVariadic===!0);function VEe(t){const e=Ti(t);return!e||e.type!=="argument"&&e.type!=="option-argument"?!0:Mc(e)}function Mc(t){return t?!t.spec.isVariadic||t.spec.optionsCanBreakVariadicArg!==!1:!0}var Iz="(?:"+["\\|\\|","\\&\\&",";;","\\|\\&","\\<\\(","\\<\\<\\<",">>",">\\&","<\\&","[&;()|<>]"].join("|")+")",RT=new RegExp("^"+Iz+"$"),PT="|&;()<> \\t",WEe='"((\\\\"|[^"])*?)"',jEe="'((\\\\'|[^'])*?)'",UEe=/^#$/,LT="'",MT='"',m6="$",Il="",$Ee=4294967296;for(var OT=0;OT<4;OT++)Il+=($Ee*Math.random()).toString(16);var qEe=new RegExp("^"+Il);function GEe(t,e){for(var n=e.lastIndex,o=[],r;r=e.exec(t);)o.push(r),e.lastIndex===r.index&&(e.lastIndex+=1);return e.lastIndex=n,o}function KEe(t,e,n){var o=typeof t=="function"?t(n):t[n];return typeof o>"u"&&n!=""?o="":typeof o>"u"&&(o="$"),typeof o=="object"?e+Il+JSON.stringify(o)+Il:e+o}function ZEe(t,e,n){n||(n={});var o=n.escape||"\\",r="(\\"+o+`['"`+PT+`]|[^\\s'"`+PT+"])+",i=new RegExp(["("+Iz+")","("+r+"|"+WEe+"|"+jEe+")+"].join("|"),"g"),s=GEe(t,i);if(s.length===0)return[];e||(e={});var a=!1;return s.map(function(l){var c=l[0];if(!c||a)return;if(RT.test(c))return{op:c};var d=!1,p=!1,h="",m=!1,g;function C(){g+=1;var y,b,w=c.charAt(g);if(w==="{"){if(g+=1,c.charAt(g)==="}")throw new Error("Bad substitution: "+c.slice(g-2,g+1));if(y=c.indexOf("}",g),y<0)throw new Error("Bad substitution: "+c.slice(g));b=c.slice(g,y),g=y}else if(/[*@#?$!_-]/.test(w))b=w,g+=1;else{var x=c.slice(g);y=x.match(/[^\w\d_]/),y?(b=x.slice(0,y.index),g+=y.index-1):(b=x,g=c.length)}return KEe(e,"",b)}for(g=0;g<c.length;g++){var v=c.charAt(g);if(m=m||!d&&(v==="*"||v==="?"),p)h+=v,p=!1;else if(d)v===d?d=!1:d==LT?h+=v:v===o?(g+=1,v=c.charAt(g),v===MT||v===o||v===m6?h+=v:h+=o+v):v===m6?h+=C():h+=v;else if(v===MT||v===LT)d=v;else{if(RT.test(v))return{op:c};if(UEe.test(v)){a=!0;var S={comment:t.slice(l.index+g+1)};return h.length?[h,S]:[S]}else v===o?p=!0:v===m6?h+=C():h+=v}}return m?{op:"glob",pattern:h}:h}).reduce(function(l,c){return typeof c>"u"?l:l.concat(c)},[])}var QEe=function(e,n,o){var r=ZEe(e,n,o);return typeof n!="function"?r:r.reduce(function(i,s){if(typeof s=="object")return i.concat(s);var a=s.split(RegExp("("+Il+".*?"+Il+")","g"));return a.length===1?i.concat(a[0]):i.concat(a.filter(Boolean).map(function(l){return qEe.test(l)?JSON.parse(l.split(Il)[1]):l}))},[])},YEe=QEe;const XEe=t=>{try{return CS.split(t),YEe(t,n=>`$${n}`).map(n=>typeof n=="string"?{type:"word",content:n}:"comment"in n?{type:"comment",content:`#${n.comment}`}:"op"in n&&n.op==="glob"?{type:"word",content:n.pattern}:{type:"operator",content:n.op})}catch{return}},Ez=t=>{const e=XEe(t);if(!e||e.length===0)return;const n=bF(e,r=>r.type==="operator"),o=n===-1?e:e.slice(n+1);if(o.length!==0)return{preceding:n===-1?void 0:e.slice(0,n),last:o}};function aa(t,e){return t.type===e}function JEe(t){return t?t.map(e=>{const n=wS(e,{trailingSpace:!0});return e.name!=null&&n!=null?{name:e.name,shortDescription:kz(e),description:e.description,insertValue:n,insertionMode:"append",type:"subcommand"}:void 0}).filter(e=>e!=null):[]}function Sh(t){return t?t.map(e=>{const n=wS(e,{trailingSpace:!1});return e.name!=null&&n!=null?{name:e.name,shortDescription:kz(e),description:e.description,insertValue:n,insertionMode:"append",type:"option"}:void 0}).filter(e=>e!=null):[]}function ql(t){return t?t.map(e=>{if(typeof e=="string")return{name:e,insertValue:`${e} `,insertionMode:"append",type:"argument"};const n=eke.get(e.type)??"argument",o=wS(e,{trailingSpace:!0});return o!=null&&e.name!=null?{type:n,name:e.name,description:e.description,insertValue:o,insertionMode:"append"}:void 0}).filter(e=>e!=null):[]}const eke=new Map([[void 0,"argument"],["argument","argument"],["arg","argument"],["file","filepath"],["folder","folder"],["option","option"],["subcommand","subcommand"]]),wS=(t,e)=>{const{name:n,insertValue:o}=t,r=e.trailingSpace?" ":"";return o!=null?o.replaceAll("{cursor}","")+r:Array.isArray(n)?n.map(i=>i+r):n!=null?n+r:void 0},kz=t=>{const{args:e}=t;return e==null?void 0:e.map(n=>{if(!n.name)return;const o=n.isOptional?["[","]"]:["<",">"],r=n.isVariadic?"...":"";return`${o[0]}${n.name}${r}${o[1]}`}).filter(n=>n!=null).join(" ")},q0=["snippet","history"],tke=Az(async t=>{var c;const e={sentence:t,template:q0,suggestions:[]};if(t.length>cke)return e;const n=await Tz(()=>Ez(t),{timeout:250});if(!n||n.last.length===0)return e;const o=!t.endsWith(" "),r=(c=Ti(n.last))==null?void 0:c.content;if(o&&r!=null&&(e.lastWord=r),n.last.length===1&&o)return e;const i=await SS(n.last);if(!i)return e;const s=o?nke(i):Rz(i),a=(s==null?void 0:s.template)??[],l=(s==null?void 0:s.suggestions)??[];return{lastWord:e.lastWord,sentence:e.sentence,template:fg(a.concat(q0)),suggestions:l}},{limit:10});function nke(t){const e=Ti(t);if(Bl(t,-2)==null||e==null)return;const o=Rz(t.slice(0,-1));if(o!=null)return Jd(o)&&e.token.content.includes("/")&&(o.suggestions=o.suggestions.filter(r=>!aa(r,"subcommand")&&!aa(r,"option")&&!aa(r,"argument"))),o.suggestions=uke(e,o.suggestions),o}function Jd(t){return t!=null&&["filepath","folder","symlink"].some(e=>t.template.includes(e))}function oke(t){var e;return t!=null&&["subcommand","option","argument"].includes((e=t.suggestions[0])==null?void 0:e.type)}function Rz(t){const e=Ti(t);switch(e==null?void 0:e.type){case"command":return rke(e);case"option":return ske(e,t);case"argument":return ake(e,t);case"option-argument":return lke(e,t);case"unknown":default:return}}function rke(t){const e=mg(t.spec.args),n=Sa(e==null?void 0:e.template),o=JEe(t.spec.subcommands);return o.push(...ql(e==null?void 0:e.suggestions)),o.push(...Sh(t.spec.options)),{template:n,suggestions:o}}function ike(t){const e=Zo(t,i=>i.type==="argument"),n=e!=null?e.index+1:0,o=(e==null?void 0:e.parent)??Zo(t,i=>i.type==="command"),r=mr(n,o==null?void 0:o.spec.args);return r?{suggestions:ql(r.suggestions),template:Sa(r.template)}:{suggestions:[],template:[]}}function ske(t,e){if(bS(t.token))return ike(e);const n=mg(t.spec.args);if(n)return{suggestions:ql(n.suggestions),template:Sa(n.template)};const o=Zo(e,l=>l.type==="argument"),r=(o==null?void 0:o.index)??-1,i=t.parent.spec,s=mr(r+1,i.args),a=Mc(o)?Sh(i.options):[];return s?(a.unshift(...ql(s.suggestions)),{suggestions:a,template:Sa(s.template)}):{suggestions:a,template:[]}}function ake(t,e){const n=Zo(e,i=>i.type==="argument"),o=Mc(n)?Sh(t.parent.spec.options):[],r=mr(t.index+1,t.parent.spec.args);return r?(o.unshift(...ql(r.suggestions)),{suggestions:o,template:Sa(r.template)}):{suggestions:o,template:[]}}function lke(t,e){let n=mr(t.index+1,t.parent.spec.args);if(n)return{suggestions:ql(n.suggestions),template:Sa(n.template)};const o=Zo(e,a=>a.type==="argument"),r=(o==null?void 0:o.index)??-1,i=t.parent.parent.spec;n=mr(r+1,i.args);const s=Mc(o)?Sh(i.options):[];return n?(s.unshift(...ql(n.suggestions)),{suggestions:s,template:Sa(n.template)}):{suggestions:Sh(i.options),template:[]}}const cke=3e3;function Sa(t){return t==null?[]:Array.isArray(t)?fg(t.flatMap(Sa).filter(pn)):dke.get(t)??[]}const dke=new Map([["filepaths",["folder","filepath","symlink"]],["folders",["folder"]],["history",["history"]]]);function uke(t,e){var i;if(t.type!=="option"||((i=t.parent.spec.parserDirectives)==null?void 0:i.flagsArePosixNoncompliant)===!0||!mp(t.token.content))return e;const[,...n]=t.token.content.split(""),o=new Set(n);return e.filter(s=>{if(s.type!=="option")return!1;const a=Array.isArray(s.name)?s.name.some(c=>o.has(ta(c,"-"))):o.has(ta(s.name,"-")),l=Array.isArray(s.name)?s.name.some(c=>mp(c)):mp(s.name);return!a&&l}).map(s=>{if(Array.isArray(s.name)){const a=s.name.find(c=>mp(c));if(a==null)return;const l=ta(a,"-");return{...s,name:t.token.content+l,insertValue:t.token.content+l}}if(mp(s.name)){const a=ta(s.name,"-");return{...s,name:t.token.content+a,insertValue:t.token.content+a}}}).filter(s=>s!=null)}function mp(t){return/^-[^-]+/.test(t)}const DT={spawn(){const t=new gt,e=new ht,n=e.pipe(pke());return yc((o,r)=>(t.add(n.subscribe(i=>{o(ns.assistantInputStrategy(i))})),r(i=>{_S.assistantInput.match(i)&&e.next(i.data)}),()=>{t.dispose()}))},stop(t){var e,n;(n=(e=t.inputStrategyActorRef)==null?void 0:e.stop)==null||n.call(e)}},pke=()=>sh(t=>oa(tke(t))),_S={...Ke("ASSISTANT_INPUT").create()};Object.values(_S);const FT={spawn(t){const{terminalApi:e}=t.mediator,n=new gt;return yc(o=>(n.add(e.onKeyboardEvent.pipe(zr(r=>r.type==="keydown"&&t.mediator.terminalApi.bufferType==="normal")).subscribe(r=>{r.key==="Tab"&&(r.preventDefault(),o(St.terminalInputPressedTab()))})),()=>{n.dispose()}))},stop(t){var e,n;(n=(e=t.passwordsTerminalEventsActorRef)==null?void 0:e.stop)==null||n.call(e)}};class Pz{constructor(){E(this,"_onPrompt",new ht);E(this,"scheduleOutputParse",Ci(e=>{this.schedulePromptDetection.cancel(),this.setPrompt(!1),NT(e)&&this.schedulePromptDetection()},100));E(this,"schedulePromptDetection",Ci(()=>{const e=this.terminalApi;e&&e.tryDetectPasswordPrompt(NT)!==!1&&this.setPrompt(!0)},200));E(this,"disposables",new gt().add(this.scheduleOutputParse.cancel).add(this.schedulePromptDetection.cancel));E(this,"_inPrompt",!1);E(this,"terminalApi")}get onPrompt(){return this._onPrompt.asObservable()}activate(e){this.terminalApi=e.terminalApi;const n=()=>{var o;gZ((o=e.currentConnection)==null?void 0:o.protocol)&&this.disposables.add(e.onShellOutput(this.scheduleOutputParse))};if(e.currentConnection){n();return}this.disposables.add(e.onShellReady.pipe(Qp(1)).subscribe(()=>n()))}dispose(){this.disposables.dispose(),this.terminalApi=void 0}setPrompt(e){e!==this._inPrompt&&(this._inPrompt=e,this._onPrompt.next(e))}}const hke=/(å¯†ç |å£ä»¤|password|passphrase|à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡|clave|contraseÃ±a|senha|passwort|kennwort|Ð¿Ð°Ñ€Ð¾Ð»ÑŒ|sandi|mot de passe|ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰|ÅŸifre|parola|wachtwoord)[^:]*:\s*$/i,NT=t=>hke.test(t);async function fke(t){var a;const{currentConnection:e,terminalApi:n}=t;if(!O3(t))return;if((e==null?void 0:e.protocol)==="ssh"){await t.setupShellIntegration();return}Ce((e==null?void 0:e.protocol)==="local");const o=await t.getShell();if(!o)return;const r=await RM(o);if(!r.success&&r.reason==="integration_has_been_installed"&&((a=e==null?void 0:e.featureSet)==null?void 0:a.includes("ShellIntegration")))return;if(!r.success){const{reason:l}=r;en(l!=="unsupported_shell",`Shell integration is not supported for ${o}`);return}const s=` ${r.lines.join(`${Tt.CR} `)}`;n.type($a(s,{run:!0,clearLine:!0,connection:e}))}const HT={spawn(t){const{mediator:e}=t,n=new gt;return yc((o,r)=>{const i=new Pz;return i.activate(e),n.add(i.onPrompt.subscribe(s=>{o(ns.passwordPromptDetected(s))})).add(e.terminalApi.onKeyboardEvent.pipe(zr(s=>s.type==="keydown"&&e.terminalApi.bufferType==="normal")).subscribe(s=>{s.key==="Enter"&&o(St.terminalInputPressedEnter()),s.key==="c"&&s.ctrlKey&&o(St.terminalTerminateProcess())})).add(e.onShellIntegrationStatus.subscribe(s=>{switch(s.type){case"started":o(ns.shellIntegrationStarted());break;case"succeeded":e.getShell().then(a=>{o(ns.shellIntegrationActivated(a))});break;case"failed":o(ns.shellIntegrationFailed(s.reason));break}})).add(e.terminalApi.onCommandStarted.subscribe(s=>{o(St.commandStarted())})).add(e.terminalApi.onCommandExited.subscribe(s=>{o(St.commandExited())})).add(i),r(s=>{s.type==="ACTIVATE"&&fke(e)}),()=>{n.dispose()}})},stop(t){var e,n;(n=(e=t.shellIntegrationActorRef)==null?void 0:e.stop)==null||n.call(e)}},BT={spawn(t){const{terminalApi:e}=t.mediator,n=new gt;return yc((o,r)=>{const i=new pM(!0);return n.add(e.cursorPlacement.subscribe(s=>{o(ns.terminalCursorPlacement(s))})).add(e.onPaste.subscribe(s=>o(St.open(s)))).add(e.onKeyboardEvent.pipe(zr(s=>s.type==="keydown"&&t.mediator.terminalApi.bufferType==="normal")).pipe(zr(s=>gke(s,t.disableHistoryTriggers))).subscribe(s=>{if(i.value){mke(s,o);return}s.preventDefault()})),e.textareaElement&&n.add(lh(e.textareaElement,"compositionstart").subscribe(()=>{o(St.terminalInputCompositionStart())})).add(lh(e.textareaElement,"compositionend").subscribe(()=>{o(St.terminalInputCompositionEnd())})),r(s=>{G0.setListenTerminalInput.match(s)&&i.next(s.data)}),()=>{n.dispose()}})},stop(t){var e,n;(n=(e=t.terminalEventsListenerActorRef)==null?void 0:e.stop)==null||n.call(e)}},G0={...Ke("SET_LISTEN_TERMINAL_INPUT").create()};Object.values(G0);function mke(t,e){if(!["Enter","Alt","Control","Meta","Shift"].includes(t.key)){if(["Tab","ArrowUp","ArrowDown"].includes(t.key)&&t.preventDefault(),["ArrowLeft","ArrowRight"].includes(t.key)&&t.shiftKey&&t.preventDefault(),["Escape","r","s","y","t","i","p"].includes(t.key)&&t.ctrlKey&&t.preventDefault(),t.shiftKey&&t.preventDefault(),t.ctrlKey&&t.key==="r"){e(St.terminalInputPressedShellHistory());return}if(!Cz(t))switch(t.key){case"ArrowUp":e(St.terminalInputPressedShellHistory());break;case"ArrowDown":e(St.terminalInputPressedArrowDown());break;default:{const o=t.key.length===1?t.key:"";e(St.open(o))}}}}function gke(t,e){const n=t.key==="ArrowUp"||t.key==="ArrowDown";return!e||!n}const Ir={aiGenerating:"Generating...",aiIdle:"Convert your prompt to a shell command using AI",installationError:"Couldn't activate autocomplete",installationProgress:"Activating autocomplete...",installationRequested:"Enable autocomplete",aiHint:"Press â†“ to generate with AI",placeholderWhenReady:"Start typing..."},zT={429:"Too many attempts. Try again later.",204:"AI could not generate results.",default:"Something went wrong. Try again."};function Ep(t,{at:e}){const n=t.lastAutocompleteSuggestions;return{suggestion:n==null?void 0:n[e],index:e}}function Lz(t,e=""){switch(t.action){case"modify":return vke({currentInput:e,...t});case"replace":return t.value;case"noop":return;default:return t}}function vke({currentInput:t,fromIndex:e,value:n}){if(n==="../"){const r=t.split("/").filter(Boolean);if(r.length>1)return r.pop(),`${r.join("/")}/`;const i=t.match(new RegExp(".*(?<!\\\\) "));return i?t.slice(0,i[0].length):""}return t.slice(0,e).concat(n)}function Cke(t,e){return t<e}function Mz(t,e){return t&&t.length?dP(t,du(e),Cke):void 0}function yke(t,e=""){const n=bke(t);if(n==null)return{action:"noop"};switch(t.item.insertionMode){case"append":return{action:"modify",value:n,fromIndex:Ske(e,t.matches)};case"replace":return{action:"replace",value:n};case"none":default:return{action:"noop"}}}function Ske(t,e){if(!(e!=null&&e.length))return t.length;const n=e[0],[o,r]=n.indices[0],i=r-o+1,l=(t.replace(/\\/g,"").slice(-i).match(/[\\ ()]/g)??[]).length;return t.length-i-l}function bke(t){const{item:e,matches:n}=t,{insertValue:o}=e;if(!Array.isArray(o))return o;if(n==null)return o[0];const r=Mz(n.filter(i=>i.refIndex!=null),"refIndex");return r?o[r.refIndex]:void 0}function VT(t,e){return Lz(yke(e,t),t)}function Oz(t){return uP(t,"type")}function wke(t,e,n){for(var o=-1,r=t.length,i=e.length,s={};++o<r;){var a=o<i?e[o]:void 0;n(s,t[o],a)}return s}function _ke(t,e){return wke(t||[],e||[],vZ)}const Dz={...Gc("compressed",["tar","tgz","arc","arj","taz","lha","lz4","lzh","lzma","tlz","txz","tzo","t7z","zip","z","dz","gz","lrz","lz","lzo","xz","zst","tzst","bz2","bz","tbz","tbz2","tz","deb","rpm","jar","war","ear","sar","rar","alz","ace","zoo","cpio","7z","rz","cab","wim","swm","dwm","esd"]),...Gc("image",["jpg","jpeg","gif","bmp","pbm","pgm","ppm","tga","xbm","xpm","tif","tiff","png","svg","svgz","mng","pcx","webp","xcf","xwd","cgm","emf"]),...Gc("video",["mjpg","mjpeg","mov","mpg","mpeg","m2v","mkv","webm","ogm","mp4","m4v","mp4v","vob","qt","nuv","wmv","asf","rm","rmvb","flc","avi","fli","flv","gl","dl","yuv","ogv","ogx"]),...Gc("audio",["aac","au","flac","m4a","mid","midi","mka","mp3","mpc","ogg","ra","wav","oga","opus","spx","xspf"]),...Gc("config",["conf","config","ini"]),...Gc("log",["log"])},xke=t=>{const e=CZ(t).replace(".","");return Tke(e)?K0(Dz[e]):K0(void 0)};function Ake(t){return t.startsWith("/etc/")?K0("config"):t.startsWith("/var/log/")?K0("log"):xke(t)}function Tke(t){return t in Dz}function Gc(t,e){return _ke(e,e.map(()=>t))}function K0(t){return t?`filepath-${t}`:"filepath"}const Ike=.5,Eke=.6,kke=.8;function Rke(t){return t.map(e=>{var n;return{name:e.displayLabel,description:e.script,insertValue:e.script,insertionMode:"replace",type:"snippet",executable:!0,meta:{refLocalId:e.local_id,refId:`${e.id??-1}`,aianalyticsId:e.aianalyticsID,isShared:e.is_shared,packageId:Is(e),packageAnalyticsId:(n=e.package)==null?void 0:n.analytics_id}}})}function Pke(t){return t.map(e=>({type:"history",executable:!0,name:e.script,insertValue:e.script,insertionMode:"replace",meta:{refLocalId:e.local_id,rating:e.rating}}))}function Lke(t){return t.map(e=>{const n=Sz(e.name);return{insertValue:e.kind==="folder"?`${n}/`:n,insertionMode:"append",name:e.name,type:e.kind,meta:{type:Ake(e.path)}}})}function Mke(t){return{type:"aicommand",name:t.data,insertValue:t.data,description:t.description,insertionMode:"replace",executable:!0,meta:{executionCounter:t.executionCounter,riskLevel:t.riskLevel,id:t.id}}}function Fz(t){const e=To.label(t),n=t.password;if(!(!e||!n))return{type:"password",name:e,insertValue:n,insertionMode:"replace",executable:!0,meta:{isVisible:t.is_visible,refLocalId:t.local_id??void 0,username:t.username??void 0,priority:Dke(t),icon:"identity"}}}function Oke(t){var i;const{host:e,protocol:n}=t;if(n==null)return;const o=(i=e.getMergedConfigFor(n))==null?void 0:i.identity.asIdentity();if(!o)return;let r="identity";return o.is_visible||(o.label=On.label(e),r=On.icon(e)),{identity:o,iconName:r}}function Dke(t){var n;const e=((n=t.lastModifiedAt)==null?void 0:n.valueOf())??0;return Ike+Number.parseFloat(`0.0${e}`)}function Fke(){return kke+Number.parseFloat(`0.${Date.now()}`)}function Nke(t){const e=Oz(Lke(t));return[["folder",e.folder??[]],["filepath",e.filepath??[]],["symlink",e.symlink??[]]]}function Hke(t){return t.map(Fz).filter(pn)}function Bke(t){const e=Oke(t);if(e==null)return;const n=Fz(e.identity);if(n!=null)return n.meta.priority=Eke,n.meta.icon=e.iconName,n}var zke=9007199254740991,Vke=Math.floor;function Wke(t,e){var n="";if(!t||e<1||e>zke)return n;do e%2&&(n+=t),e=Vke(e/2),e&&(t+=t);while(e);return n}function Z0(t,e,n){return(n?QE(t,e,n):e===void 0)?e=1:e=_2(e),Wke(cP(t),e)}function WT(t,e){t.terminalApi.type($a(e,{clearLine:!0,run:!0,connection:t.currentConnection}))}function jke(t,e){if(e.original===e.target){t.terminalApi.type($a(e.target,{clearLine:!0,connection:t.currentConnection}));return}const{insert:n,remove:o}=Uke(e.original,e.target);t.terminalApi.type(Z0(Tt.BS,o).concat(n))}function Uke(t,e){let n=0;for(;t[n]===e[n]&&n<t.length&&n<e.length;)n+=1;const o=t.length-n;return{insert:e.substring(n),remove:o}}const $ke=2;function qke(t,e){t.terminalApi.type(Gke(e).concat(Kke(e+$ke)))}function Gke(t){return Z0(_n.ZSH_CURSOR_RIGHT1,t).concat(Z0(_n.CURSOR_RIGHT1,t))}function Kke(t){return Z0(Tt.DEL,t)}const sl=["resetStrategy","resetAssistantInputData","resetAutocompleteSuggestions"],Zke=E2({id:"root",initial:"loading",entry:["spawnShellIntegrationActor"],exit:["disposeShellIntegrationActor"],tsTypes:{},schema:{context:{},events:{},services:{}},predictableActionArguments:!0,preserveActionOrder:!0,states:{loading:{always:[{cond:"isAlternateBuffer",target:"inactive"},{cond:"wasActiveBefore",target:"active"},{cond:"isLocalTerminal",target:"active"},{cond:"isSplitView",target:"inactive"},{cond:"isWorkspaceView",target:"inactive"},{cond:"canShellBeActivated",target:"shouldActivate"},{target:"inactive"}]},inactive:{on:{SHELL_INTEGRATION_STARTED:{target:"activatingWithoutUi",actions:["onShellIntegrationStartedWithoutUi"]}}},shouldActivate:{entry:["setInvisibleInactiveTerminalCursorStyle"],exit:["resetAssistantInputData"],on:{SUBMIT_AUTOCOMPLETE:{actions:["activateShellIntegration"]},ASSISTANT_INPUT_PRESSED_ESCAPE:{actions:["dismissActivation","onDismissActivation"]},DISMISS:[{cond:"isDismissViaEsc",target:"inactive",actions:"onDismiss"}],SHELL_INTEGRATION_STARTED:{target:"activatingWithUi",actions:["onShellIntegrationStartedWithUi"]}}},activatingWithoutUi:{on:{SHELL_INTEGRATION_ACTIVATED:{target:"active",actions:["setShell","onShellIntegrationActivated","onShellIntegrationActivatedWithoutUi"]},SHELL_INTEGRATION_FAILED:{target:"inactive",actions:["onShellIntegrationFailedWithoutUi"]}}},activatingWithUi:{exit:["resetAssistantInputData"],on:{SHELL_INTEGRATION_ACTIVATED:{target:"#active.opened",actions:["setShell","onShellIntegrationActivated","onShellIntegrationActivatedWithUi","setAssistantInputPlaceholder"]},SHELL_INTEGRATION_FAILED:{target:"failedToActivate",actions:["onShellIntegrationFailedWithUi"]}}},failedToActivate:{exit:["resetAssistantInputData","onDismissActivation"],after:{shellIntegrationFailureAutoHideTimer:{target:"inactive"}}},deactivated:{on:{ACTIVATE:{target:"active"}}},active:{id:"active",initial:"idle",entry:["spawnInputStrategyActor","spawnFilesystemSuggestionsActor"],exit:["disposeInputStrategyActor","disposeFilesystemSuggestionsActor"],states:{idle:{description:"An initial state when autocomplete popup is not visible",entry:["spawnTerminalEventsListenerActor"],exit:["resetInactiveTerminalCursorStyle","disposeTerminalEventsListenerActor"],on:{ASSISTANT_INPUT_BLUR:{actions:["resetInactiveTerminalCursorStyle"]},TERMINAL_INPUT_PRESSED_ARROW_DOWN:[{cond:"isCommandInProcess"},{target:"opened.ai.idle"}],TERMINAL_INPUT_PRESSED_SHELL_HISTORY:[{cond:"isCommandInProcess"},{cond:"isAssistantInputEmpty",description:"Open autocomplete only with history suggestions",target:"opened.autocompletion.history"},{description:"Open autocomplete with Prompt suggestion and history suggestions",target:"opened.autocompletion.history",actions:["showPromptItem","selectFirstSuggestion","setHistoryStrategy"]}],OPEN:[{cond:"isCommandInProcess"},{cond:"isAlternateBuffer"},{cond:"isTerminalCursorOffscreen",actions:["scrollTerminalToBottom"]},{target:"opened",actions:["updateInputValue"]}]}},opened:{entry:["setInvisibleInactiveTerminalCursorStyle","stopWritingToTerminalInput"],exit:["resetInactiveTerminalCursorStyle","startWritingToTerminalInput"],description:"A regular state for active autocomplete's popup",initial:"autocompletion",states:{hist:{type:"history",history:"deep"},autocompletion:{entry:["fetchStrategyFromAssistantInput","selectFirstSuggestion"],initial:"regular",states:{regular:{description:"The state with path, commands, history, and snippet suggestions",entry:["clearTerminalInput","showPromptItem"]},history:{description:"The state with only history suggestions",entry:["clearTerminalInput","hidePromptItem","setHistoryStrategy"],on:{ASSISTANT_INPUT_PRESSED_ESCAPE:{target:"#active.idle",actions:["resetStrategy","pasteAutocompleteInputIntoTerminal"]}}}},on:{CHANGE_ASSISTANT_INPUT_VALUE:{actions:["showPromptItem","setAssistantInputValue","fetchStrategyFromAssistantInput"],description:"A user types in assistant input"},ASSISTANT_INPUT_PRESSED_ARROW_DOWN:{cond:"isAITransitionAllowed",target:"ai"},ASSISTANT_INPUT_PRESSED_ESCAPE:{actions:["dismissAutocompletion","resetStrategy"]},ASSISTANT_INPUT_SELECT_SUGGESTION:[{description:"Selects a folder's suggestion by pressing right arrow or tab",actions:["onSelectSuggestion","insertActiveSuggestionIntoAssistantInput","fetchStrategyFromAssistantInput","showPromptItem"]}],DISMISS:{target:"#active.dismissed",actions:["onDismiss","resetAutocompleteSuggestions"],description:"A user closes autocomplete popup or there are no suggestions to offer."}}},password:{entry:["resetSelectedSuggestion","spawnPasswordsTerminalEventsActor","handlePromptItemByIdentity","selectFirstSuggestion"],exit:["disposePasswordsTerminalEventsActor"],initial:"opened",states:{opened:{on:{ASSISTANT_INPUT_PRESSED_ESCAPE:{actions:["dismissAutocompletion"]}}},dismissed:{on:{TERMINAL_INPUT_PRESSED_TAB:{target:"#active.opened.password.opened"},TERMINAL_INPUT_PRESSED_ENTER:{target:"#active.idle",actions:sl}}}},on:{CHANGE_ASSISTANT_INPUT_VALUE:{actions:["setAssistantInputValue","handlePromptItemByPassword","selectFirstSuggestion"],description:"A user types in assistant input"},DISMISS:{target:"#active.opened.password.dismissed",actions:["onDismiss"],description:"A user closes autocomplete popup or there are no suggestions to offer."}}},ai:{description:"A special state for autocompletion. It's used for generating AI suggestions.",entry:["clearTerminalInput","hidePromptItem","resetSelectedSuggestion"],initial:"generation",states:{idle:{on:{SUBMIT_AUTOCOMPLETE:{target:"generation"},ASSISTANT_INPUT_PRESSED_ESCAPE:{actions:["dismissAutocompletion","resetStrategy"]}}},edit:{description:"A user is editing a prompt in the AI assistant input",on:{CHANGE_ASSISTANT_INPUT_VALUE:{actions:["setAssistantInputValue"],description:"A user types in assistant input"},SUBMIT_AUTOCOMPLETE:{target:"generation",actions:["onReGenerateCommand"]},ASSISTANT_INPUT_PRESSED_ESCAPE:{actions:["dismissAutocompletion"]}}},generation:{initial:"pending",states:{pending:{description:"A user typed a prompt and sent it to generation",entry:["resetAutocompleteSuggestions","onConvertTextToCommand"],invoke:{src:"generateCommand",onDone:[{target:"fulfilled",actions:["addGeneratedCommand"],description:"A command was successfully generated out of a prompt"}],onError:[{target:"rejected",description:"A command was not generated out of a prompt",actions:["setAIError"]}]},on:{CHANGE_ASSISTANT_INPUT_VALUE:{description:"Do not allow to type in assistant input during generation"},ASSISTANT_INPUT_PRESSED_ESCAPE:{actions:["dismissAutocompletion"]}}},rejected:{description:"User sent a prompt to AI and the request was rejected",on:{ASSISTANT_INPUT_PRESSED_ESCAPE:{actions:["dismissAutocompletion"]},SUBMIT_AUTOCOMPLETE:{target:"pending",actions:["onReGenerateCommand"]}}},fulfilled:{entry:["selectFirstSuggestion"],description:"A command was successfully generated out of a prompt",on:{ASSISTANT_INPUT_SELECT_SUGGESTION:[{target:"#active.opened",description:"Insert suggestion to the autocomplete input and move to the regular Autocomplete state",actions:["insertActiveSuggestionIntoAssistantInput","showPromptItem"]}],CHANGE_ASSISTANT_INPUT_VALUE:{target:"#active.opened.ai.edit",actions:["setAssistantInputValue"],description:"A user types in assistant input"},SUBMIT_AUTOCOMPLETE:[{target:"#active",cond:"shouldExecuteSelectedSuggestion",actions:["onSelectSuggestion","sendSelectedSuggestionToTerminalSession",...sl]},{target:"pending"}],ASSISTANT_INPUT_PRESSED_ESCAPE:{actions:["dismissAutocompletion"]}}}}}},on:{DISMISS:{target:"#active.opened",cond:"isDismissViaEsc",actions:["onDismiss","resetAutocompleteSuggestions"],description:"A user closes autocomplete popup or there are no suggestions to offer."},CHANGE_ASSISTANT_INPUT_VALUE:{actions:["setAssistantInputValue"],description:"A user types in assistant input"}}}},on:{SUBMIT_AUTOCOMPLETE:[{target:"#active.idle",cond:"noSubmittedSuggestions",actions:["onSelectSuggestion","sendAssistantInputToTerminalSession",...sl]},{target:"#active.idle",cond:"shouldExecuteSelectedSuggestion",actions:["onSelectSuggestion","handlePasswordSuggestion","sendSelectedSuggestionToTerminalSession",...sl]},{actions:["onSelectSuggestion","insertActiveSuggestionIntoAssistantInput","fetchStrategyFromAssistantInput"]}],TERMINATE_PROCESS:{actions:["dismissAutocompletionByTerminate",...sl]},ASSISTANT_INPUT_STRATEGY:[{actions:["setAutocompleteStrategy","syncStrategyWithFileSystemSuggestions","invalidateAutocompleteSuggestions"]}],DISMISS:{target:"dismissed",actions:"onDismiss",description:"A user closes autocomplete popup or there are no suggestions to offer."},CLICK_OUTSIDE:{target:"dismissedUntilInteraction"}}},dismissedUntilInteraction:{entry:["pasteAutocompleteInputIntoTerminal","spawnTerminalEventsListenerActor"],exit:["disposeTerminalEventsListenerActor"],on:{DISMISS:{},TERMINAL_INPUT_PRESSED_ARROW_DOWN:{target:"opened.hist"},TERMINAL_INPUT_PRESSED_SHELL_HISTORY:{target:"opened.hist"},OPEN:[{cond:"isTerminalCursorOffscreen",actions:["scrollTerminalToBottom"]},{target:"opened.hist",actions:"updateInputValue"}]}},dismissed:{description:"A special state for dismissed autocomplete popup. It is used to have ability to turn back to the previous active state by pressing Tab key",initial:"regular",entry:["pasteAutocompleteInputIntoTerminal"],states:{regular:{}}}},on:{PASSWORD_PROMPT_DETECTED:[{target:"#active.opened.password",cond:"inPasswordPrompt",actions:["setPasswordStrategy","invalidateAutocompleteSuggestions"],description:"Internal event from the spawned password prompt detection to make a transition to password autocompletion. Do not use it outside of the machine."},{cond:"wasInPasswordPrompt",actions:["resetStrategy"]}],DEACTIVATE:{target:"deactivated"},CLOSE:{target:"#active.idle"},TERMINAL_CURSOR_PLACEMENT:{actions:["setTerminalCursorPlacement"]},TERMINAL_INPUT_PRESSED_ENTER:[{cond:"isCommandInProcess"},{target:"#active.idle",actions:["onCommandInDismiss"]}],TERMINAL_TERMINATE_PROCESS:[{target:"#active.idle",actions:sl}],DISMISS_BY_TERMINATE:{target:"#active.idle",actions:"onDismiss",description:"A user closes autocomplete popup by ctrl+c/ctrl+z."}}}},on:{SYNC_SNIPPETS:{actions:["setSnippets","invalidateAutocompleteSuggestions"]},SYNC_IDENTITIES:{actions:["setIdentities","invalidateAutocompleteSuggestions"]},SYNC_HISTORY:{actions:["setHistory","invalidateAutocompleteSuggestions"]},SYNC_PATHS:{actions:["setPaths","invalidateAutocompleteSuggestions"]},SYNC_PATHS_FETCHING:{actions:["setIsFetchingPaths"]},COMMAND_STARTED:{actions:["setCommandInProcess","disposeTerminalEventsListenerActor"]},COMMAND_EXITED:{actions:["unsetCommandInProcess",...sl,"spawnTerminalEventsListenerActor"]}}},{actions:{setCommandInProcess:Te({commandProcessing:!0}),unsetCommandInProcess:Te({commandProcessing:!1}),setPasswordStrategy:Te({lastStrategy:()=>({template:["password"],lastWord:"",sentence:"",suggestions:[]}),queryFor:()=>["password"]}),startWritingToTerminalInput:t=>{var e;(e=t.terminalEventsListenerActorRef)==null||e.send(G0.setListenTerminalInput(!0))},stopWritingToTerminalInput:t=>{var e;(e=t.terminalEventsListenerActorRef)==null||e.send(G0.setListenTerminalInput(!1))},setIsFetchingPaths:Te((t,{data:e})=>({pathsFetchingStatus:e})),fetchStrategyFromAssistantInput:t=>{var n;const{assistantInputData:{value:e}}=t;(n=t.inputStrategyActorRef)==null||n.send(_S.assistantInput(e))},syncStrategyWithFileSystemSuggestions:(t,{data:e})=>{const{filesystemSuggestionsActorRef:n}=t;n==null||n.send(yS.strategyChanged(e))},setAIError:Te({aiErrorStatusCode:(t,e)=>{const{status:n}=e.data??{};return n}}),resetStrategy:Te({lastStrategy:()=>({lastWord:void 0,sentence:"",template:q0,suggestions:[]})}),setAutocompleteStrategy:Te((t,{data:e})=>{var l;const n=t.db.shallowClone(),o=(l=t.lastStrategy)==null?void 0:l.template;if((o==null?void 0:o.length)===1&&o[0]==="history")return{lastStrategy:{...e,template:["history"]},db:n,queryFor:["history"]};const i=[];if(e.suggestions){const c=Qke(e);for(const[d,p]of c)i.unshift(d),n.setItems(d,p)}let s=i.concat((e==null?void 0:e.template)||[]);const a=e;return Jd(a)&&(s=s.filter(c=>!q0.includes(c)),a.template=s),{lastStrategy:a,db:n,queryFor:s}}),setHistoryStrategy:Te(({assistantInputData:{value:t}})=>{const e={sentence:t,template:["history"],suggestions:[]};return{lastStrategy:e,queryFor:e.template}}),showPromptItem:Te({isPromptItemVisible:()=>!0,lastAutocompleteSuggestions:t=>{const{lastAutocompleteSuggestions:e}=t;if(e==null)return t.lastAutocompleteSuggestions;if(e.length!==0&&e[0].item.type==="prompt"){const[n,...o]=e;return[Pf(t.assistantInputData.value),...o]}return[...Mn(e.length!==0,[Pf(t.assistantInputData.value)]),...e]}}),handlePromptItemByIdentity:Us(t=>jT(t)?"hidePromptItem":"showPromptItem"),handlePromptItemByPassword:Us(t=>t.assistantInputData.value.length===0&&jT(t)?"hidePromptItem":"showPromptItem"),hidePromptItem:Te({isPromptItemVisible:()=>!1,lastAutocompleteSuggestions:t=>{const{lastAutocompleteSuggestions:e}=t;return e==null?t.lastAutocompleteSuggestions:e.filter(n=>!Yke(n))}}),invalidateAutocompleteSuggestions:Te({info:()=>{},lastAutocompleteSuggestions:t=>{const{lastStrategy:e,queryFor:n,isPromptItemVisible:o}=t;if(e==null||n==null)return t.lastAutocompleteSuggestions;const r=t.db.search({lastWord:e.lastWord,sentence:e.sentence},{include:n});if(o&&r.length!==0&&r.some(({item:i})=>i.type==="prompt")){const[i,...s]=r;return[Pf(t.assistantInputData.value),...s]}return[...Mn(o&&r.length!==0,[Pf(t.assistantInputData.value)]),...r]}}),setIdentities:Te({db:({db:t},{data:e})=>t.shallowClone().setItems("password",e)}),setPaths:Te({db:(t,{data:e})=>{if(e===void 0)return t.db;const n=Nke(e),o=t.db.shallowClone();for(const[r,i]of n)o.setItems(r,i);return o}}),setHistory:Te({db:(t,{data:e})=>t.db.shallowClone().setItems("history",Pke(e))}),setSnippets:Te({db:(t,{data:e})=>t.db.shallowClone().setItems("snippet",Rke(e))}),setShell:Te((t,{data:e})=>({shell:e})),clearTerminalInput:({mediator:t,assistantInputData:e})=>{const n=e.value.length;setTimeout(()=>qke(t,n),0)},activateShellIntegration:t=>{var e;(e=t.shellIntegrationActorRef)==null||e.send({type:"ACTIVATE"})},addGeneratedCommand:Te((t,{data:e})=>({info:void 0,lastAutocompleteSuggestions:[{item:Mke(e)}]})),sendAssistantInputToTerminalSession:({mediator:t,assistantInputData:e})=>{WT(t,e.value)},insertActiveSuggestionIntoAssistantInput:Us((t,{data:e})=>{if(e==null)return;const{assistantInputData:n}=t,{suggestion:o}=Ep(t,e);if(o==null)return;const r=VT(n.value,o);if(r!=null)return Te({lastAssistantInputValue:r,assistantInputData:{...n,value:r}})}),sendSelectedSuggestionToTerminalSession:(t,{data:e})=>{if(e==null)return;const{suggestion:n}=Ep(t,e);if(!n)return;const o=VT("",n);if(o==null)return;const{mediator:r}=t;WT(r,o)},handlePasswordSuggestion:(t,{data:e})=>{if(e==null)return;const{suggestion:n}=Ep(t,e);!n||n.item.type!=="password"||aa(n.item,"password")&&(n.item.meta.priority=Fke())},pasteAutocompleteInputIntoTerminal:t=>{const{mediator:e,assistantInputData:n}=t,{value:o}=n;jke(e,{original:"",target:o})},dismissAutocompletion:Us(t=>jn(St.dismiss({reason:"userEscaped",strategy:t.lastStrategy}))),dismissAutocompletionByTerminate:Us(t=>jn(St.dismissByTerminate({reason:"userEscaped",strategy:t.lastStrategy}))),dismissActivation:jn(St.dismiss({reason:"userEscaped"})),spawnShellIntegrationActor:Te({shellIntegrationActorRef:t=>HT.spawn(t)}),disposeShellIntegrationActor:Te({shellIntegrationActorRef:t=>HT.stop(t)}),spawnTerminalEventsListenerActor:Te(t=>t.terminalEventsListenerActorRef?{}:{terminalEventsListenerActorRef:BT.spawn(t)}),disposeTerminalEventsListenerActor:Te({terminalEventsListenerActorRef:t=>BT.stop(t)}),spawnPasswordsTerminalEventsActor:Te({passwordsTerminalEventsActorRef:t=>FT.spawn(t)}),disposePasswordsTerminalEventsActor:Te({passwordsTerminalEventsActorRef:t=>FT.stop(t)}),spawnInputStrategyActor:Te({inputStrategyActorRef:()=>DT.spawn()}),disposeInputStrategyActor:Te({inputStrategyActorRef:t=>DT.stop(t)}),spawnFilesystemSuggestionsActor:Te({filesystemSuggestionsActorRef:t=>kT.spawn(t)}),disposeFilesystemSuggestionsActor:Te({filesystemSuggestionsActorRef:t=>kT.stop(t)}),setAssistantInputPlaceholder:Te(t=>({assistantInputData:{...t.assistantInputData,placeholder:Ir.placeholderWhenReady}})),setAssistantInputValue:Te((t,{data:e})=>({lastAssistantInputValue:t.assistantInputData.value,assistantInputData:{...t.assistantInputData,value:e,placeholder:void 0}})),updateInputValue:Te((t,{data:e})=>({lastAssistantInputValue:t.assistantInputData.value,assistantInputData:{...t.assistantInputData,value:t.assistantInputData.value+e,placeholder:void 0}})),resetAutocompleteSuggestions:Te({lastAutocompleteSuggestions:[]}),resetAssistantInputData:Te(t=>({lastAssistantInputValue:"",assistantInputData:{value:"",placeholder:t.assistantInputData.value===""&&t.assistantInputData.placeholder===Ir.placeholderWhenReady?t.assistantInputData.placeholder:void 0}})),scrollTerminalToBottom:t=>t.mediator.terminalApi.scrollToBottom(),setTerminalCursorPlacement:Te((t,{data:e})=>({terminalCursorPlacement:e})),setInvisibleInactiveTerminalCursorStyle:t=>{const{mediator:e}=t;e.terminalApi.setInactiveCursorStyle(void 0)},resetInactiveTerminalCursorStyle:t=>{const{mediator:e}=t;e.terminalApi.resetInactiveCursorStyle()}},guards:{isAssistantInputEmpty:t=>t.assistantInputData.value.trim().length===0,isCommandInProcess:t=>t.commandProcessing,inPasswordPrompt:(t,{data:e})=>e,isAITransitionAllowed:t=>{var n;return(n=t.lastAutocompleteSuggestions)!=null&&n.length?!1:Jd(t.lastStrategy)?t.pathsFetchingStatus!=="loading":!0},shouldExecuteSelectedSuggestion:(t,{data:e})=>{if(e==null)return!1;const{suggestion:n}=Ep(t,e);return n?!!n.item.executable:!1},noSubmittedSuggestions:(t,{data:e})=>e==null||t.lastAutocompleteSuggestions==null||t.lastAutocompleteSuggestions.length===0,wasActiveBefore:t=>t.shellIntegrationOptions.enable,isLocalTerminal:t=>{var e;return((e=t.mediator.currentConnection)==null?void 0:e.protocol)==="local"},isAlternateBuffer:t=>t.mediator.terminalApi.bufferType==="alternate",isSplitView:t=>t.isSplitView,isWorkspaceView:t=>t.isWorkspaceView,canShellBeActivated:t=>t.mediator.isShellReady&&O3(t.mediator),isDismissViaEsc:(t,e)=>e.data.reason==="userEscaped",isTerminalCursorOffscreen:t=>t.terminalCursorPlacement==="offscreen",wasInPasswordPrompt:t=>{var n;const e=(n=t.lastStrategy)==null?void 0:n.template;return(e==null?void 0:e.length)===1&&e[0]==="password"}},delays:{shellIntegrationFailureAutoHideTimer:Ry}});function Qke(t){const e=Oz(t.suggestions);return[["subcommand",e.subcommand??[]],["option",e.option??[]],["argument",e.argument??[]]]}function Pf(t){return{item:{name:t,insertValue:t,insertionMode:"replace",type:"prompt",executable:!0}}}function Yke(t){return t.item.type==="prompt"}function jT(t){var e;return((e=t.lastAutocompleteSuggestions)==null?void 0:e.length)&&t.lastAutocompleteSuggestions.some(({item:n})=>aa(n,"password")&&!n.meta.isVisible)}function Xke(t,e){return t==="AI"?"AI":t==="Passwords"?"Passwords":Jd(e)?"Path":(e==null?void 0:e.template.length)===1&&(e==null?void 0:e.template[0])==="history"?"History":oke(e)?"Build-in Command":"Snippet"}function Nz(t,e){return t===e?0:Lf(t)&&!Lf(e)?1:Lf(e)&&!Lf(t)?-1:g6(t)===g6(e)?eRe(t,e):g6(t)?1:-1}function g6(t){return Jke.test(t)}function Lf(t){return t===".."}const Jke=/^\.[^/.]/,eRe=vk();let tRe=class Hz{constructor(e=dRe()){E(this,"order",["password","subcommand","argument","folder","filepath","symlink","option","snippet","history","aicommand"]);this.collections=e}search(e,n){const o=n!=null&&n.include?new Set(n.include):void 0;return this.order.filter(r=>(o==null?void 0:o.has(r))??!0).map(r=>this.collections[r]).filter(pn).map(r=>r.search(e)).flat()}setItems(e,n){var o;return(o=this.collections[e])==null||o.setItems(n),this}toArray(e){var n;return(n=this.collections[e])==null?void 0:n.toArray()}shallowClone(){return new Hz(this.collections)}historyByRating(){var e;return((e=this.history)==null?void 0:e.byRating())??[]}get history(){return this.collections.history}},nRe=class{constructor(e=[]){E(this,"fuse");this.items=e,this.fuse=new za(e,{keys:[{name:"name",weight:2},{name:"description",weight:1}],shouldSort:!0,useExtendedSearch:!0,includeScore:!0,includeMatches:!0})}search(e){return e.sentence?this.fuse.search(D3.includes(e.sentence)):this.items.slice(0,Gl).map(n=>({item:n}))}setItems(e){this.items=e,this.fuse.setCollection(e)}toArray(){return this.items}},v6=class{constructor(e=[]){E(this,"fuse");this.items=e,this.fuse=new za(e,{keys:["name"],shouldSort:!0,useExtendedSearch:!0,includeScore:!0,includeMatches:!0,isCaseSensitive:!1})}setItems(e){this.items=e,this.fuse.setCollection(e)}search(e){const n=aRe(e.lastWord??"");return n?this.fuse.search(D3.includes(n)).sort(UT).map(rRe).filter(r=>oRe(r)).sort(iRe(n)).slice(0,Gl):this.items.map(i=>({item:i,score:1})).sort(UT).slice(0,Gl)}toArray(){return this.items}};function Q0(t,e){var a;const n=(a=t.matches)==null?void 0:a[0];if(!n)return;const{indices:o,value:r}=n,[i,s]=o[0];return e!=null&&e.trimDotAtStart&&(r!=null&&r.startsWith("."))?{value:r.slice(1),start:i-1,end:s-1}:{value:r,start:i,end:s}}function oRe(t,e){const{start:n,value:o=""}=Q0(t)??{};return n===void 0||n===0?!0:n>1||e!=null&&e.excludeDotAtStart?!1:o.startsWith(".")}function rRe(t){var e;return{...t,matches:(e=t.matches)==null?void 0:e.map(n=>({...n,indices:n.indices.slice(0,1)}))}}function iRe(t){return(e,n)=>{var r,i;const o={a:Q0(e,{trimDotAtStart:!0}),b:Q0(n,{trimDotAtStart:!0})};return!o.a||!o.b?0:P7(t,((r=o.b)==null?void 0:r.value)??"",[o.b.start,o.b.end])-P7(t,((i=o.a)==null?void 0:i.value)??"",[o.a.start,o.a.end])}}function sRe(t,e){const n=Q0(e);return n?P7(t,(n==null?void 0:n.value)??"",[n.start,n.end]):0}function P7(t,e,n){let o=0;for(let r=n[0];r<=n[1];r+=1)t.includes(e[r])&&(o+=1/(r+1));return o}function aRe(t){return h8(`${t} `).replace(/\s$/,"")}let lRe=class{constructor(e=[]){E(this,"fuse");E(this,"sortedByRating");this.items=e,this.fuse=new za(e,{keys:["name"],shouldSort:!1,useExtendedSearch:!0,includeMatches:!0,distance:500,includeScore:!0,isCaseSensitive:!1,ignoreFieldNorm:!0})}search(e){const n=e.sentence.trim();return n?ga(this.fuse.search(D3.includes(n)).filter(o=>o.item.name!==n),[o=>o.item.meta.rating,o=>sRe(n,o)],["desc","desc"]).slice(0,Gl):this.items.slice(0,Gl).map(o=>({item:o}))}byRating(){return this.sortedByRating??(this.sortedByRating=ga(this.items,["meta.rating"],["desc"])),this.sortedByRating}setItems(e){this.sortedByRating=void 0,this.items=e,this.fuse.setCollection(e)}toArray(){return this.items}},C6=class{constructor(e=[]){E(this,"fuse");this.items=e,this.fuse=new za(e,{keys:["name"],shouldSort:!0,useExtendedSearch:!0,includeScore:!0,includeMatches:!0,isCaseSensitive:!0})}search(e){const n=e.lastWord;return n?this.fuse.search(D3.startsWith(n)).filter(o=>Array.isArray(o.item.name)?!o.item.name.includes(n):o.item.name!==e.lastWord).slice(0,Gl):this.items.slice(0,Gl).map(o=>({item:o}))}setItems(e){this.items=e,this.fuse.setCollection(e)}toArray(){return this.items}},cRe=class{constructor(e=[]){this.items=e}setItems(e){this.items=e}search(e){return ga(this.items,["meta.priority"],["desc"]).map(n=>({item:n}))}toArray(){return this.items}};const Gl=30,D3={includes:t=>`'"${t}"`,startsWith:t=>`^"${t}"`};function dRe(){return{subcommand:new C6,option:new C6,argument:new C6,folder:new v6,filepath:new v6,symlink:new v6,snippet:new nRe,history:new lRe,password:new cRe}}function UT(t,e){return t.score===e.score?Nz($T(t.item.name),$T(e.item.name)):0}function $T(t){return Array.isArray(t)?t[0]:t}function uRe(t){switch(t){case"filepath":case"symlink":case"folder":return"Path";case"subcommand":case"option":case"argument":return"Build-in Command";case"snippet":return"Snippet";case"password":return"Passwords";case"history":return"History";case"aicommand":case"aiedit":return"AI";case"action":case"prompt":return;default:return t}}const pRe=(t,e)=>{const{send:n}=t,o=V(pg);f.useEffect(()=>{n(St.syncSnippets(o))},[n,o]);const r=V(pC);f.useEffect(()=>{if(e.currentConnection){const s=Hke(r),a=Bke(e.currentConnection);let l=s;a!=null&&(l=l.filter(c=>c.meta.refLocalId!==a.meta.refLocalId),l.push(a)),n(St.syncIdentities(l))}},[r,n,e.currentConnection]);const i=V(f.useCallback(s=>pP(s,e.terminalId),[e.terminalId]));f.useEffect(()=>{n(St.syncHistory(i??[]))},[i,n])},hRe=({mediator:t,origin:e,onSelectFirstSuggestion:n,onResetSelectedSuggestion:o})=>{const r=tt(),i=de(),s=bi(()=>new tRe),a=V(hP),l=V(yZ),c=bi(()=>({enable:!!t.currentConnection&&a.includes(t.currentConnection.id)})),[d,p]=f.useState(void 0),h=Pc("aiForAutocomplete"),m=fP(()=>Zke,{context:{mediator:t,db:s.current,shellIntegrationOptions:c.current,isSplitView:e==="Split View",isWorkspaceView:e==="Workspace View",info:d,lastAssistantInputValue:"",assistantInputData:{value:""},isPromptItemVisible:!0,disableHistoryTriggers:l==="heliumNoArrowUp"},actions:{selectFirstSuggestion:()=>{n()},resetSelectedSuggestion:()=>{o()},onDismiss:(v,{data:S})=>{const y=v.mediator.currentConnection,b=y==null?void 0:y.id;b&&i(fl({success:"no",length:void 0,position:void 0,suggestionSource:S.strategy&&S.reason==="userEscaped"?C(S.strategy):void 0,closeReason:yz(S.reason),connectionID:b,autocompleteVersion:Ft.helium,...ci(y)}))},onConvertTextToCommand:v=>{var S;return i(dg({magicButtonOrigin:"Autocomplete",connectionID:(S=v.mediator.currentConnection)==null?void 0:S.id}))},onReGenerateCommand:v=>{var y;const S=(y=v.mediator.currentConnection)==null?void 0:y.id;S&&i(mP({connectionID:S}))},onShellIntegrationActivated:()=>{t.currentConnection&&i(gP(t.currentConnection.id))},onShellIntegrationStartedWithoutUi:v=>{const{currentConnection:S}=v.mediator;if(S==null)return;g(S)&&i(Nm({onScreen:"Connection Flow",connectionID:S.id,autocompleteVersion:Ft.helium}))},onShellIntegrationStartedWithUi:v=>{v.mediator.currentConnection!=null&&i(Nm({onScreen:"Terminal",connectionID:v.mediator.currentConnection.id,autocompleteVersion:Ft.helium}))},onShellIntegrationActivatedWithoutUi:v=>{const{currentConnection:S}=v.mediator;if(S==null)return;g(S)&&i(Hm({onScreen:"Connection Flow",connectionID:S.id,autocompleteVersion:Ft.helium}))},onShellIntegrationActivatedWithUi:v=>{v.mediator.currentConnection!=null&&i(Hm({onScreen:"Terminal",connectionID:v.mediator.currentConnection.id,autocompleteVersion:Ft.helium}))},onShellIntegrationFailedWithoutUi:(v,{data:S})=>{const{currentConnection:y}=v.mediator;if(y==null)return;g(y)&&i(Bm({onScreen:"Connection Flow",connectionID:y.id,shellPerformanceBoostFailureReason:$0(S),autocompleteVersion:Ft.helium}))},onShellIntegrationFailedWithUi:(v,{data:S})=>{v.mediator.currentConnection!=null&&i(Bm({onScreen:"Terminal",connectionID:v.mediator.currentConnection.id,shellPerformanceBoostFailureReason:$0(S),autocompleteVersion:Ft.helium}))},onDismissActivation:()=>{i(vd(zm.DISABLED))},onCommandInDismiss:()=>{i(he("autocompleteInteractionCompleted",{autocompleteInputMode:"disabled"}))},onSelectSuggestion:(v,{data:S})=>{var A;const y=v.mediator.currentConnection,b=y==null?void 0:y.id;if(!b)return;const w={success:"no",connectionID:b,length:void 0,position:void 0,closeReason:void 0,suggestionSource:void 0,autocompleteVersion:Ft.helium,...ci(y)};if(S==null){i(he("autocomplete",w)),i(he("autocompleteInteractionCompleted",{autocompleteInputMode:"manual"}));return}const{suggestion:x,index:_}=Ep(v,S);if(x==null){i(he("autocompleteInteractionCompleted",{autocompleteInputMode:"manual"})),S.at===0&&S.triggeredBy==="enter"&&i(he("autocomplete",w));return}const I=v.assistantInputData.value,T=x.item;if(aa(T,"aicommand")&&We(r,vP,{id:T.meta.id}),aa(T,"prompt")){const k=Jd(v.lastStrategy)&&((A=v.lastAutocompleteSuggestions)==null?void 0:A.length)!==0&&v.assistantInputData.value.endsWith("/")?"autocomplete":"manual";i(he("autocompleteInteractionCompleted",{autocompleteInputMode:k})),i(he("autocomplete",w));return}i(he("autocompleteInteractionCompleted",{autocompleteInputMode:"autocomplete"})),i(fl({success:"yes",suggestionSource:uRe(x.item.type),position:_,length:I.length,closeReason:void 0,connectionID:b,autocompleteVersion:Ft.helium,...ci(y)}))}},services:{generateCommand:async v=>{var I;if(p(v.info),!await h({from:"AI Command Generator"}))throw p(void 0),new Error("User is not authorized to use AI for Autocomplete");const y=v.mediator.currentConnection,b=y!=null&&y.host?eC(y.host):void 0,w=b?y==null?void 0:y.host.os_name:CP(),x=(I=y==null?void 0:y.host.tags)!=null&&I.length?y==null?void 0:y.host.tags:void 0,_=await v.mediator.getShell();try{const T=await We(r,ug,{prompt:v.assistantInputData.value,meta:{os_name:w,tags:x,shell_type:_,connection_type:b}});return{id:T.id,data:T.result,riskLevel:T.risk_level,executionCounter:T.execution_counter,description:T.description,tryExec:!1,at:0}}catch(T){throw y!=null&&y.id&&i(fl({success:"no",position:0,suggestionSource:"AI",length:void 0,closeReason:"Request failed",connectionID:y.id,autocompleteVersion:Ft.helium,...ci(y)})),T}finally{p(void 0)}}},id:`terminal-assistant-${t.terminalApi.id}`});pRe(m,{terminalId:t.terminalApi.id,currentConnection:t.currentConnection});const g=v=>v.protocol!=="local";function C(v){const y=[{isMatch:m.getSnapshot().matches("active.opened.autocompletion"),source:"Snippet"},{isMatch:m.getSnapshot().matches("active.opened.ai"),source:"AI"},{isMatch:m.getSnapshot().matches("active.opened.password"),source:"Passwords"}].find(b=>b.isMatch);return Xke(y==null?void 0:y.source,v)}return{service:m,prevAssistantInfo:d}};var xS={},eu={};const fRe=Fh(SZ);var AS={};Object.defineProperty(AS,"__esModule",{value:!0});var mRe=f;function gRe(t){var e=mRe.useRef();return e.current||(e.current={v:t()}),e.current.v}AS.default=gRe;var Wo={};const vRe=Fh(bZ);var CRe=us&&us.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var o=n.call(t),r,i=[],s;try{for(;(e===void 0||e-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(s)throw s.error}}return i},yRe=us&&us.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Wo,"__esModule",{value:!0});Wo.isInterpreterStateEqual=Wo.isService=Wo.shallowEqual=Wo.getServiceSnapshot=Wo.partition=void 0;var SRe=vRe;function bRe(t,e){var n,o,r=CRe([[],[]],2),i=r[0],s=r[1];try{for(var a=yRe(t),l=a.next();!l.done;l=a.next()){var c=l.value;e(c)?i.push(c):s.push(c)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}return[i,s]}Wo.partition=bRe;function wRe(t){return t.status!==0?t.getSnapshot():t.machine.initialState}Wo.getServiceSnapshot=wRe;function qT(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function _Re(t,e){if(qT(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(var r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!qT(t[n[r]],e[n[r]]))return!1;return!0}Wo.shallowEqual=_Re;function xRe(t){return"state"in t&&"machine"in t}Wo.isService=xRe;function ARe(t,e,n){if(t.status===SRe.InterpreterStatus.NotStarted)return!0;var o=n.changed===void 0&&(Object.keys(n.children).length>0||typeof e.changed=="boolean");return!(n.changed||o)}Wo.isInterpreterStateEqual=ARe;Object.defineProperty(eu,"__esModule",{value:!0});eu.useActor=eu.isActorWithState=void 0;var gp=f,TRe=fRe,IRe=AS,ERe=u8,Y0=Wo;function kRe(t){return t}function Bz(t){return"state"in t}eu.isActorWithState=Bz;function RRe(t){return"deferred"in t}function PRe(t){return"getSnapshot"in t?(0,Y0.isService)(t)?(0,Y0.getServiceSnapshot)(t):t.getSnapshot():Bz(t)?t.state:void 0}function LRe(t,e){e===void 0&&(e=PRe);var n=(0,gp.useRef)(t),o=(0,gp.useRef)([]),r=(0,gp.useCallback)(function(c){var d=t.subscribe(c).unsubscribe;return d},[t]),i=(0,gp.useCallback)(function(){return e(t)},[t,e]),s=(0,gp.useCallback)(function(c,d){return(0,Y0.isService)(t)?(0,Y0.isInterpreterStateEqual)(t,c,d):c===d},[t]),a=(0,ERe.useSyncExternalStoreWithSelector)(r,i,i,kRe,s),l=(0,IRe.default)(function(){return function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];var p=c[0],h=n.current;RRe(h)&&h.deferred?o.current.push(p):h.send(p)}});return(0,TRe.default)(function(){for(n.current=t;o.current.length>0;){var c=o.current.shift();t.send(c)}},[t]),[a,l]}eu.useActor=LRe;Object.defineProperty(xS,"__esModule",{value:!0});var zs=xS.useSelector=void 0,y6=f,MRe=u8,ORe=eu,GT=Wo,DRe=function(t,e){return t===e},FRe=function(t,e){if((0,GT.isService)(t)){if(t.status===0&&e.current)return e.current;var n=(0,GT.getServiceSnapshot)(t);return e.current=t.status===0?n:null,n}return(0,ORe.isActorWithState)(t)?t.state:void 0};function NRe(t,e,n,o){n===void 0&&(n=DRe);var r=(0,y6.useRef)(null),i=(0,y6.useCallback)(function(l){var c=t.subscribe(l).unsubscribe;return c},[t]),s=(0,y6.useCallback)(function(){return o?o(t):FRe(t,r)},[t,o]),a=(0,MRe.useSyncExternalStoreWithSelector)(i,s,s,e,n);return a}zs=xS.useSelector=NRe;const zz=f.createContext(void 0);function U1({children:t,...e}){return u("div",{...e,children:u(zz.Provider,{value:e.id,children:t})})}function $1(){const t=f.useContext(zz);return Ce(t,`${U1.name} is missing upper in the react tree`),t}const al={isInactive:jz,isOpen:HRe,isAICommandSuggested:t=>{const e=t.context.lastAutocompleteSuggestions;return e?e.some(n=>n.item.type==="aicommand"):!1},isFetchingPaths:t=>t.context.pathsFetchingStatus==="loading"&&Jd(t.context.lastStrategy),isSettingUpShellIntegration:t=>t.matches("activatingWithUi"),suggestions:URe,selectInfo(t){return t.context.info},isAssistantHidden:Vz,isAssistantDismissed:Wz,isAssistantVisible:jRe,shouldFollowToTerminalCursor(t){return t.matches("shouldActivate")||t.matches("activatingWithUi")||t.matches("failedToActivate")||t.matches("active.opened.password")},assistantInputData:BRe};function HRe(t){return t.matches("active.opened.password.dismissed")?!1:t.matches("active.opened")||t.matches("activatingWithUi")||t.matches("failedToActivate")||t.matches("shouldActivate")}function BRe(t){var n,o;if(t.matches("shouldActivate"))return{...t.context.assistantInputData,title:Ir.installationRequested,type:"activatingIdle"};if(t.matches("activatingWithUi"))return{...t.context.assistantInputData,title:Ir.installationProgress,type:"activatingProgress"};if(t.matches("failedToActivate"))return{...t.context.assistantInputData,title:Ir.installationError,type:"activatingError"};if(t.matches("active.opened.ai.idle"))return{...t.context.assistantInputData,description:Ir.aiIdle,type:"aiIdle"};if(t.matches("active.opened.ai.generation.pending"))return{...t.context.assistantInputData,title:Ir.aiGenerating,type:"aiProgress"};if(t.matches("active.opened.ai.generation.fulfilled"))return{...t.context.assistantInputData,type:"aiSuccess"};if(t.matches("active.opened.ai.edit"))return{...t.context.assistantInputData,type:"aiEdit"};if(t.matches("active.opened.ai.generation.rejected")){const r=t.context.aiErrorStatusCode;return{...t.context.assistantInputData,description:zT[r||"default"]||zT.default,type:"aiError"}}if(t.matches("active.opened.password"))return{...t.context.assistantInputData,type:"password"};if(t.matches("active.opened.autocompletion.history")){const r=(n=t.context.lastAutocompleteSuggestions)==null?void 0:n.length;return{...t.context.assistantInputData,description:r?void 0:Ir.aiHint,type:"history"}}const e=(o=t.context.lastAutocompleteSuggestions)==null?void 0:o.length;return{...t.context.assistantInputData,description:e?void 0:Ir.aiHint,type:"regular"}}function Vz(t){return t.matches("active.idle")}function Wz(t){return t.matches("active.dismissed")}function zRe(t){return t.matches("active.opened.password.dismissed")}function VRe(t){return t.matches("active.dismissedUntilInteraction")}function WRe(t){return t.matches("activatingWithoutUi")}function jRe(t){return!Vz(t)&&!jz(t)&&!Wz(t)&&!zRe(t)&&!WRe(t)&&!VRe(t)}function jz(t){return t.matches("inactive")}function URe(t){var e;if(t.matches("active.opened.autocompletion")||t.matches("active.opened.ai.generation"))return t.context.lastAutocompleteSuggestions;if(t.matches("active.opened.password")){const n=(e=t.context.lastAutocompleteSuggestions)==null?void 0:e.find(o=>o.item.type==="prompt");return n&&(n.item.name="â€¢".repeat(n.item.name.length)),t.context.lastAutocompleteSuggestions}}const $Re=({service:t,prevAssistantInfo:e})=>{const n=zs(t,al.isAssistantVisible),o=zs(t,al.assistantInputData),r=zs(t,al.shouldFollowToTerminalCursor),i=V(g=>yP(g,"FreeFeatures")).length>0,s=$1(),a=zs(t,al.isOpen),l=zs(t,al.selectInfo),c=zs(t,al.suggestions)??[],d=e?[]:c,p=e??l,h=a&&!i;return{isFetchingPaths:zs(t,al.isFetchingPaths),showAutocomplete:h,autocompleteInfo:p,terminalTabId:s,autocompleteOptions:d,autocompleteInputData:o,freeFeaturesDialogIsOpen:i,shouldFollowToTerminalCursor:r,isAutocompleteControllerVisible:n}},qRe=({mediator:t,origin:e})=>{const n=rEe(),{setActiveIndex:o}=n,{service:r,prevAssistantInfo:i}=hRe({origin:e,mediator:t,onSelectFirstSuggestion:()=>o(0),onResetSelectedSuggestion:()=>o(void 0)}),s=V(n1),{freeFeaturesDialogIsOpen:a,autocompleteOptions:l,showAutocomplete:c,autocompleteInfo:d,terminalTabId:p,isFetchingPaths:h,autocompleteInputData:m,shouldFollowToTerminalCursor:g,isAutocompleteControllerVisible:C}=$Re({prevAssistantInfo:i,service:r}),{send:v}=r,{activeIndex:S,onBlur:y,onSubmit:b,onChange:w,onKeyDown:x,onOpenChange:_,onHoverSuggestion:I}=oEe({send:v,freeFeaturesDialogIsOpen:a,autocompleteListNavigation:n,options:l,terminalId:t.terminalApi.id,forwardEvent:t.terminalApi.forwardEvent});return{uiState:{isFetchingPaths:h,showAutocomplete:c,shouldFollowToTerminalCursor:g,isAutocompleteControllerVisible:C},data:{terminal:t.terminalApi,autocompleteInputData:m,autocompleteOptions:l,autocompleteInfo:d,terminalTabId:p,activeIndex:S,fontSize:s},handlers:{onHoverSuggestion:I,onOpenChange:_,onChange:w,onKeyDown:x,onSubmit:b,onBlur:y,setActiveIndex:o}}};function GRe(){const{terminalColors:t,isLightBackground:e,colorScheme:n}=$8(),{cx:o,classes:r}=KRe({...n,isLightBackground:e});return o(t,r.main)}const KRe=K()((t,e)=>({main:{...ZRe(e)}}));function ZRe(t){const{isLightBackground:e}=t,n=t.colorPaletteOverrides;return{"--autocomplete-background":QRe(e),"--autocomplete-text-color":Q.foregroundColor,"--autocomplete-input-background-color":Q.backgroundColor,"--autocomplete-input-text-color":Q.foregroundColor,"--autocomplete-input-cursor-color":Q.foregroundColor,"--autocomplete-input-highlight-background":`linear-gradient(90deg, transparent 25%, ${Q.foregroundColor} 50%, transparent 60%)`,"--autocomplete-input-selection-color":Q.selectionColor,"--autocomplete-backdrop-filter":"blur(50px)","--autocomplete-divider-color":Vo(n[7]).alpha(.1).toString(),"--autocomplete-shadow-main":"0px 2px 4px 0px var(--black-a10)","--autocomplete-border-colors":YRe(),...XRe(t)}}function QRe(t){return`${t?`linear-gradient(
    112deg,
    ${Q.uiColorA20} 6%,
    ${Q.uiColorA05} 36.06%,
    ${Q.uiColorA05} 67.49%,
    ${Q.uiColorA20} 97.1%
  )`:`linear-gradient(
    112deg,
    ${Q.uiColorA20} 6%,
    ${Q.uiColorA10} 36.06%,
    ${Q.uiColorA10} 67.49%,
    ${Q.uiColorA20} 97.1%
  )`}, ${Q.backgroundColorA65}`}function YRe(){return`
    ${Q.uiColorA40} 0%,
    transparent 41%,
    transparent 57%,
    ${Q.uiColorA10} 100%`}function XRe(t){const{foregroundColor:e}=t,n=t.colorPaletteOverrides;return{...Qt("regular",e,.15),...Qt("action",e,.15),...Qt("password",e,.15),...Qt("aicommand",e,.15),...Qt("aiedit",e,.15),...Qt("snippet",n[10],.15),...Qt("history",n[14],.15),...Qt("option",n[13],.15),...Qt("argument",n[13],.15),...Qt("subcommand",n[13],.15),...Qt("symlink",n[14],.15),...Qt("folder",n[4],.15),...Qt("filepath",n[3],.15),...Qt("filepath-audio",n[12],.15),...Qt("filepath-video",n[13],.15),...Qt("filepath-image",n[13],.15),...Qt("filepath-log",n[3],.15),...Qt("filepath-config",n[3],.15),...Qt("filepath-compressed",n[1],.15),...Qt("prompt",e,.25)}}function Uz(t){return`--autocomplete-suggestion-${t}-color`}function $z(t){return`--autocomplete-suggestion-${t}-highlight-color`}function Qt(t,e,n){return{[Uz(t)]:e,[$z(t)]:Vo(e).alpha(n).toString()}}const JRe=["regular","action","password","aicommand","aiedit","snippet","history","option","argument","subcommand","symlink","folder","filepath","filepath-audio","filepath-video","filepath-image","filepath-log","filepath-config","filepath-compressed","prompt"];function ePe(t){return{normal:`var(${Uz(t)})`,highlighted:`var(${$z(t)})`}}const X0=Object.fromEntries(JRe.map(t=>[t,ePe(t)]));function tPe(){return{backgroundColor:"var(--autocomplete-background)",textColor:"var(--autocomplete-text-color)",inputBackgroundColor:"var(--autocomplete-input-background-color)",inputTextColor:"var(--autocomplete-input-text-color)",inputCursorColor:"var(--autocomplete-input-cursor-color)",inputHighlightBackgroundImage:"var(--autocomplete-input-highlight-background)",selectionColor:"var(--autocomplete-input-selection-color)",backdropFilter:"var(--autocomplete-backdrop-filter)",dividerColor:"var(--autocomplete-divider-color)",shadow:"var(--autocomplete-shadow-main)",borderImage:nPe}}const si=tPe();function nPe(t){return`linear-gradient(
  var(${t}, 172deg),
  var(--autocomplete-border-colors))`}const oPe=(t,e)=>f.createElement("svg",{width:10,height:10,viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M4 8C4.54798 8 5.06205 7.8955 5.54222 7.68651C6.02509 7.47752 6.451 7.18847 6.81994 6.81934C7.18888 6.45293 7.47779 6.02816 7.68667 5.54504C7.89556 5.06192 8 4.54623 8 3.99796C8 3.4497 7.8942 2.93537 7.6826 2.45496C7.47372 1.97184 7.18481 1.54572 6.81587 1.17659C6.44964 0.807464 6.02509 0.519763 5.54222 0.313486C5.05934 0.104495 4.54391 0 3.99593 0C3.45066 0 2.93659 0.104495 2.45371 0.313486C1.97084 0.519763 1.54493 0.807464 1.17599 1.17659C0.809766 1.54572 0.522211 1.97184 0.313327 2.45496C0.104442 2.93537 0 3.4497 0 3.99796C0 4.54623 0.104442 5.06192 0.313327 5.54504C0.522211 6.02816 0.809766 6.45293 1.17599 6.81934C1.54493 7.18847 1.97084 7.47752 2.45371 7.68651C2.93659 7.8955 3.45202 8 4 8ZM4 7.15725C3.56324 7.15725 3.15361 7.07583 2.77111 6.91298C2.38861 6.75013 2.05222 6.52485 1.76195 6.23715C1.4744 5.94673 1.24924 5.61018 1.08647 5.22748C0.923703 4.84478 0.842319 4.43495 0.842319 3.99796C0.842319 3.56098 0.923703 3.15115 1.08647 2.76845C1.24924 2.38575 1.4744 2.05055 1.76195 1.76285C2.05222 1.47243 2.38725 1.2458 2.76704 1.08295C3.14954 0.920102 3.55917 0.838677 3.99593 0.838677C4.4354 0.838677 4.84639 0.920102 5.22889 1.08295C5.61139 1.2458 5.94642 1.47243 6.23398 1.76285C6.52425 2.05055 6.75076 2.38575 6.91353 2.76845C7.0763 3.15115 7.15768 3.56098 7.15768 3.99796C7.15768 4.43495 7.0763 4.84478 6.91353 5.22748C6.75076 5.61018 6.52425 5.94673 6.23398 6.23715C5.94642 6.52485 5.61139 6.75013 5.22889 6.91298C4.8491 7.07583 4.43947 7.15725 4 7.15725ZM3.99593 4.61679C4.2238 4.61679 4.34181 4.49873 4.34995 4.2626L4.41099 2.4631C4.41641 2.34368 4.37843 2.24597 4.29705 2.16997C4.21567 2.09398 4.11394 2.05598 3.99186 2.05598C3.86979 2.05598 3.76941 2.09398 3.69074 2.16997C3.61207 2.24326 3.57545 2.33961 3.58087 2.45903L3.63377 4.26667C3.64191 4.50008 3.76263 4.61679 3.99593 4.61679ZM3.99593 5.90331C4.12614 5.90331 4.23601 5.86395 4.32553 5.78524C4.41777 5.70382 4.46389 5.59932 4.46389 5.47176C4.46389 5.3469 4.41777 5.24377 4.32553 5.16234C4.23601 5.08092 4.12614 5.0402 3.99593 5.0402C3.86572 5.0402 3.75585 5.08092 3.66633 5.16234C3.57681 5.24377 3.53204 5.3469 3.53204 5.47176C3.53204 5.59661 3.57681 5.69975 3.66633 5.78117C3.75856 5.8626 3.86843 5.90331 3.99593 5.90331Z",fill:"currentColor"})),rPe=f.forwardRef(oPe),F3=f.memo(rPe),iPe=(t,e)=>f.createElement("svg",{width:9,height:8,viewBox:"0 0 9 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M2.633 7.504a.473.473 0 0 0 .355-.137.471.471 0 0 0 .137-.347.465.465 0 0 0-.043-.204.508.508 0 0 0-.117-.152l-.79-.773-.937-.774-.18.27 1.376.062H6.91c.503 0 .87-.116 1.102-.347.231-.232.347-.6.347-1.106v-2.2c0-.504-.116-.872-.347-1.1-.232-.23-.6-.344-1.102-.344H4.887a.504.504 0 1 0 0 1.007H6.87c.175 0 .3.04.375.118.078.078.117.204.117.378v2.083c0 .177-.039.304-.117.382-.075.078-.2.117-.375.117H2.434L1.059 4.5l.18.27.937-.778.789-.77a.559.559 0 0 0 .117-.156.45.45 0 0 0 .043-.203.466.466 0 0 0-.492-.48.498.498 0 0 0-.363.156L.21 4.57a.532.532 0 0 0-.113.578.467.467 0 0 0 .114.168L2.27 7.348a.498.498 0 0 0 .363.156Z",fill:"currentColor"})),sPe=f.forwardRef(iPe),ba=f.memo(sPe);function J0(t){const{classes:e,cx:n}=aPe(),{children:o,className:r}=t;return o?u("span",{className:n(e.container,r),children:f.cloneElement(o,{className:e.icon})}):null}const aPe=K()({container:{width:"var(--option-icon-size)",height:"var(--option-icon-size)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:5},icon:{width:"1em",height:"1em"}}),qz={start:"linear-gradient(90deg, transparent, var(--overflow-mask) 8%)",end:"linear-gradient(90deg, var(--overflow-mask) 92%, transparent)",both:"linear-gradient(90deg, transparent, var(--black) 8%, var(--overflow-mask) 92%, transparent)",none:"none"},lPe={start:"linear-gradient(180deg, transparent, var(--overflow-mask) 15%)",end:"linear-gradient(180deg, var(--overflow-mask) 85%, transparent)",both:"linear-gradient(180deg, transparent, var(--overflow-mask) 15%, var(--overflow-mask) 85%, transparent)",none:"none"},KT=({message:t,icon:e,variant:n="regular",executable:o=!1})=>{const{classes:r,cx:i}=cPe(),s=f.useRef(null),a=typeof e=="string"?dPe.get(e):e;return Iu(s,"horizontal",(l,c)=>{l.style.setProperty("-webkit-mask-image",qz[c])}),L("div",{className:r.suggestionOption,children:[u(J0,{children:a}),u("span",{ref:s,className:i(r.suggestionOptionOverflow,{[r.variantSecondary]:n==="secondary"}),children:t}),u(J0,{className:r.suggestionOptionEnd,children:o?u(ba,{}):void 0})]})},cPe=K()({suggestionOption:{display:"flex",alignItems:"center",gap:"calc(2 * var(--spacing))",borderRadius:3,zIndex:1,position:"relative",color:X0.regular.normal},suggestionOptionEnd:{backgroundColor:"inherit",display:"none"},suggestionOptionOverflow:{flex:1,overflowY:"hidden",overflowX:"auto",whiteSpace:"nowrap","&::-webkit-scrollbar":{display:"none"}},variantSecondary:{opacity:.6}}),dPe=new Map([["loading",u(E3,{})],["error",u(F3,{})]]);function Gz(t,e){f.useEffect(()=>{const n=t.current;if(e!=="start"||n==null)return;const o=new MutationObserver(()=>{n.scrollLeft=n.scrollWidth});return o.observe(n,{childList:!0,subtree:!0}),n.scrollLeft=n.scrollWidth,()=>{o.disconnect()}},[t,e])}const uPe=f.forwardRef((t,e)=>{const{classes:n,cx:o}=pPe({type:t.type}),{isActive:r=!1,children:i,secondary:s,icon:a,actionIcon:l,textOverflow:c="end",onClick:d,onMouseMove:p=He}=t,h=f.useRef(null),m=f.useRef(null),g=U2(e,h);Iu(m,"horizontal",(S,y)=>{S.style.setProperty("-webkit-mask-image",qz[y])}),Gz(m,c);const C=f.useRef("keyboard");return f.useEffect(()=>{var S;r&&C.current==="keyboard"&&((S=h.current)==null||S.scrollIntoView({block:"nearest"})),C.current="keyboard"},[r]),L("li",{role:"option","aria-selected":r,ref:g,tabIndex:-1,onMouseMove:()=>{C.current="mouse",p()},className:o(n.suggestionOption,{[n.suggestionOptionActive]:r}),onClick:d,"aria-label":"suggestion-option",children:[u(J0,{className:n.startIcon,children:ZT(a)}),L("span",{ref:m,className:n.suggestionOptionOverflow,children:[i,i?" ":"",s?u("span",{className:n.suggestionOptionSecondaryContent,children:s}):null]}),u(J0,{className:n.suggestionOptionEnd,children:ZT(l)})]})});function ZT(t){return typeof t=="string"?u("img",{src:t,alt:""}):t}const pPe=K()((t,e,n)=>({startIcon:{marginRight:"calc(-1 * var(--spacing))"},suggestionOption:{display:"flex",alignItems:"center",gap:"calc(2 * var(--spacing))",borderRadius:5,zIndex:1,position:"relative",color:X0[e.type].normal,"& mark":{backgroundColor:"transparent",color:"inherit",fontWeight:900}},suggestionOptionActive:{backgroundColor:X0[e.type].highlighted,[`& .${n.suggestionOptionEnd}`]:{display:"flex"}},suggestionOptionOverflow:{flex:1,overflowY:"hidden",overflowX:"auto",whiteSpace:"nowrap","&::-webkit-scrollbar":{display:"none"}},suggestionOptionSecondaryContent:{opacity:.6},suggestionOptionEnd:{display:"none"}}));var TS={},hPe=Cr;Object.defineProperty(TS,"__esModule",{value:!0});var Kz=TS.default=void 0,fPe=hPe(vr()),mPe=yr,gPe=(0,fPe.default)((0,mPe.jsx)("path",{d:"M9.29 15.88 13.17 12 9.29 8.12a.9959.9959 0 0 1 0-1.41c.39-.39 1.02-.39 1.41 0l4.59 4.59c.39.39.39 1.02 0 1.41L10.7 17.3c-.39.39-1.02.39-1.41 0-.38-.39-.39-1.03 0-1.42z"}),"KeyboardArrowRightRounded");Kz=TS.default=gPe;const vPe=(t,e)=>f.createElement("svg",{width:8,height:8,viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M1.423 8h5.128c.79 0 1.184-.282 1.184-.847 0-.316-.092-.632-.275-.948a2.979 2.979 0 0 0-.78-.869 3.984 3.984 0 0 0-1.188-.63 4.514 4.514 0 0 0-1.502-.238c-.547 0-1.05.08-1.507.239a4.046 4.046 0 0 0-1.193.63c-.333.26-.592.549-.775.868a1.878 1.878 0 0 0-.275.948C.24 7.718.634 8 1.423 8Zm.023-.962c-.036 0-.061-.009-.076-.026a.078.078 0 0 1-.022-.058c0-.133.06-.285.177-.456.119-.175.29-.343.514-.506a3.05 3.05 0 0 1 .83-.403 3.63 3.63 0 0 1 1.12-.16c.414 0 .785.054 1.113.16.328.106.604.24.829.403.227.163.4.331.518.506.119.17.178.323.178.456a.078.078 0 0 1-.022.058c-.012.017-.037.026-.076.026H1.446ZM3.99 4.055c.348 0 .666-.091.952-.274.287-.184.515-.43.683-.74a2.1 2.1 0 0 0 .257-1.033 2 2 0 0 0-.257-1.006 1.957 1.957 0 0 0-.687-.727A1.725 1.725 0 0 0 3.99 0c-.35 0-.667.092-.953.275a2.03 2.03 0 0 0-.692.731c-.171.304-.255.64-.252 1.006.003.378.088.723.257 1.033.168.307.396.552.682.736.287.183.606.274.958.274Zm0-.961a.812.812 0 0 1-.457-.138.975.975 0 0 1-.332-.38 1.274 1.274 0 0 1-.129-.568c0-.204.041-.384.124-.541a.99.99 0 0 1 .337-.368.812.812 0 0 1 .457-.137.81.81 0 0 1 .452.133c.139.088.25.212.332.372.086.157.129.337.129.54 0 .216-.042.406-.125.568a.975.975 0 0 1-.332.381.812.812 0 0 1-.456.138Z",fill:"currentColor"})),CPe=f.forwardRef(vPe),Zz=f.memo(CPe),yPe=(t,e)=>f.createElement("svg",{width:8,height:8,viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm1 0a4 4 0 1 1-8 0 4 4 0 0 1 8 0ZM4.003 2a.392.392 0 0 1 .397.397L4.39 3.61 5.602 3.6A.392.392 0 0 1 6 3.997a.408.408 0 0 1-.403.403l-1.215.01-.01 1.186A.409.409 0 0 1 3.97 6a.392.392 0 0 1-.397-.397l.01-1.185-1.185.01A.392.392 0 0 1 2 4.03a.408.408 0 0 1 .404-.403l1.185-.01.011-1.214A.408.408 0 0 1 4.003 2Z",fill:"currentColor"})),SPe=f.forwardRef(yPe),Qz=f.memo(SPe),bPe=(t,e)=>f.createElement("svg",{width:8,height:8,viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 0a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h1.5a.5.5 0 0 0 0-1H1V1h1.5a.5.5 0 0 0 0-1H1Zm7 1a1 1 0 0 0-1-1H5.5a.5.5 0 0 0 0 1H7v6H5.5a.5.5 0 0 0 0 1H7a1 1 0 0 0 1-1V1Z",fill:"currentColor"})),wPe=f.forwardRef(bPe),Ad=f.memo(wPe),_Pe=(t,e)=>f.createElement("svg",{width:8,height:8,viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M1.2 7.375h5.667c.357 0 .635-.102.834-.306.2-.204.299-.5.299-.886v-3.55c0-.386-.103-.681-.31-.885-.204-.204-.5-.306-.89-.306H3.733c-.129 0-.24-.016-.335-.048a1.102 1.102 0 0 1-.295-.175l-.183-.146a1.26 1.26 0 0 0-.368-.215A1.48 1.48 0 0 0 2.088.8h-.965C.775.8.5.902.299 1.106.099 1.308 0 1.6 0 1.981v4.202c0 .389.102.684.306.886.207.204.504.306.893.306Zm.083-.842c-.143 0-.253-.036-.328-.11C.88 6.352.842 6.24.842 6.089V2.076c0-.141.039-.25.117-.325a.452.452 0 0 1 .328-.113h.575c.132 0 .242.017.332.051.09.034.19.094.299.179l.179.142c.13.102.253.174.368.215.116.039.272.058.466.058h3.211c.143 0 .253.037.328.11.075.073.113.184.113.335v3.364c0 .148-.038.259-.113.332-.075.073-.185.11-.328.11H1.283ZM.539 3.636h6.936v-.7H.54v.7Z",fill:"currentColor"})),xPe=f.forwardRef(_Pe),Yz=f.memo(xPe),APe=(t,e)=>f.createElement("svg",{width:12,height:14,viewBox:"0 0 12 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M2.30651 13.9934H9.23798C10.589 13.9934 11.2612 13.3082 11.2612 11.9506V6.02424C11.2612 5.18227 11.1634 4.81678 10.6412 4.28159L7.04497 0.620046C6.54893 0.110956 6.13775 0 5.40674 0H2.30651C0.961991 0 0.283203 0.691841 0.283203 2.04941V11.9506C0.283203 13.3147 0.955464 13.9934 2.30651 13.9934ZM2.3522 12.9427C1.67994 12.9427 1.33402 12.5837 1.33402 11.931V2.06899C1.33402 1.42284 1.67994 1.05082 2.35873 1.05082H5.26315V4.84289C5.26315 5.66526 5.67434 6.06992 6.49019 6.06992H10.2105V11.931C10.2105 12.5837 9.86459 12.9427 9.18576 12.9427H2.3522ZM6.60767 5.08438C6.3466 5.08438 6.2487 4.97995 6.2487 4.71887V1.25315L10.0081 5.08438H6.60767Z",fill:"currentColor"})),TPe=f.forwardRef(APe),Xz=f.memo(TPe),IPe=(t,e)=>f.createElement("svg",{width:12,height:14,viewBox:"0 0 12 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("g",{id:"Group"},f.createElement("path",{id:"Vector",d:"M2.30651 13.9934H9.23798C10.589 13.9934 11.2612 13.3082 11.2612 11.9506V6.02424C11.2612 5.18227 11.1634 4.81678 10.6412 4.28159L7.04497 0.620046C6.54893 0.110956 6.13775 0 5.40674 0H2.30651C0.961991 0 0.283203 0.691841 0.283203 2.04941V11.9506C0.283203 13.3147 0.955464 13.9934 2.30651 13.9934ZM2.3522 12.9427C1.67994 12.9427 1.33402 12.5837 1.33402 11.931V2.06899C1.33402 1.42284 1.67994 1.05082 2.35873 1.05082H5.26315V4.84289C5.26315 5.66526 5.67434 6.06992 6.49019 6.06992H10.2105V11.931C10.2105 12.5837 9.86459 12.9427 9.18576 12.9427H2.3522ZM6.60767 5.08438C6.3466 5.08438 6.2487 4.97995 6.2487 4.71887V1.25315L10.0081 5.08438H6.60767Z",fill:"currentColor"}),f.createElement("path",{id:"Vector_2",d:"M7.89833 7.06293C7.83389 7.01016 7.74944 6.98905 7.66778 7.00543L4.89 7.56099C4.76028 7.5871 4.66667 7.70099 4.66667 7.83349V9.8896C4.50333 9.81877 4.31361 9.77793 4.11111 9.77793C3.4975 9.77793 3 10.151 3 10.6113C3 11.0715 3.4975 11.4446 4.11111 11.4446C4.72472 11.4446 5.22222 11.0715 5.22222 10.6113V8.61682L7.44444 8.17238V9.33432C7.28111 9.26349 7.09139 9.22266 6.88889 9.22266C6.27528 9.22266 5.77778 9.59571 5.77778 10.056C5.77778 10.5163 6.27528 10.8893 6.88889 10.8893C7.5025 10.8893 8 10.5163 8 10.056V7.27821C8 7.19488 7.96278 7.11627 7.89833 7.06349V7.06293Z",fill:"currentColor"}))),EPe=f.forwardRef(IPe),kPe=f.memo(EPe),RPe=(t,e)=>f.createElement("svg",{width:12,height:14,viewBox:"0 0 12 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("g",{id:"Group"},f.createElement("path",{id:"Union",fillRule:"evenodd",clipRule:"evenodd",d:"M9.23798 13.9934H2.30651C0.955464 13.9934 0.283203 13.3147 0.283203 11.9506V2.04941C0.283203 0.691841 0.961991 0 2.30651 0H5.40674C6.13775 0 6.54893 0.110956 7.04497 0.620046L10.6412 4.28159C11.1634 4.81678 11.2612 5.18227 11.2612 6.02424V11.9506C11.2612 13.3082 10.589 13.9934 9.23798 13.9934ZM1.33402 11.931C1.33402 12.5837 1.67994 12.9427 2.3522 12.9427H9.18576C9.86459 12.9427 10.2105 12.5837 10.2105 11.931V6.06992H6.49019C5.67434 6.06992 5.26315 5.66526 5.26315 4.84289V4.83066C5.22851 4.84091 5.19183 4.84641 5.15386 4.84641H4.38463C4.17221 4.84641 4 4.67421 4 4.46178C4 4.24935 4.17221 4.07715 4.38463 4.07715H5.15386C5.19183 4.07715 5.22851 4.08265 5.26315 4.0929V3.2927C5.22937 3.3024 5.19369 3.30759 5.15679 3.30759H4.38756C4.17514 3.30759 4.00293 3.13539 4.00293 2.92296C4.00293 2.71054 4.17514 2.53833 4.38756 2.53833H5.15679C5.19369 2.53833 5.22937 2.54353 5.26315 2.55323V1.75351C5.22851 1.76376 5.19183 1.76926 5.15386 1.76926H4.38463C4.17221 1.76926 4 1.59706 4 1.38463C4 1.24181 4.07785 1.11716 4.19342 1.05082H2.35873C1.67994 1.05082 1.33402 1.42284 1.33402 2.06899V11.931ZM6.2487 4.71887C6.2487 4.97995 6.3466 5.08438 6.60767 5.08438H10.0081L6.2487 1.25315V4.71887ZM4.00293 5.99987C4.00293 5.78744 4.17514 5.61523 4.38756 5.61523H5.15679C5.36922 5.61523 5.54142 5.78744 5.54142 5.99987C5.54142 6.21229 5.36922 6.3845 5.15679 6.3845H4.38756C4.17514 6.3845 4.00293 6.21229 4.00293 5.99987ZM5.92565 6.38452C5.71322 6.38452 5.54102 6.55673 5.54102 6.76915C5.54102 6.98158 5.71322 7.15379 5.92565 7.15379H6.69487C6.9073 7.15379 7.07951 6.98158 7.07951 6.76915C7.07951 6.55673 6.9073 6.38452 6.69487 6.38452H5.92565ZM4.00293 10.4229C4.00293 10.7403 4.26255 10.9999 4.57986 10.9999H6.50298C6.82029 10.9999 7.07991 10.7403 7.07991 10.4229V8.49978C7.07991 8.18246 6.82029 7.92283 6.50298 7.92283H5.92605C5.71363 7.92283 5.54142 7.75062 5.54142 7.5382C5.54142 7.32577 5.36922 7.15356 5.15679 7.15356H4.77218C4.34733 7.15356 4.00293 7.49797 4.00293 7.92281V10.4229ZM5.92603 9.46136C6.13846 9.46136 6.31067 9.63356 6.31067 9.84599C6.31067 10.0584 6.13846 10.2306 5.92603 10.2306H5.15681C4.94438 10.2306 4.77217 10.0584 4.77217 9.84599C4.77217 9.63356 4.94438 9.46136 5.15681 9.46136H5.92603Z",fill:"currentColor"}))),PPe=f.forwardRef(RPe),LPe=f.memo(PPe),MPe=(t,e)=>f.createElement("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("g",{id:"Menu icon/Settings"},f.createElement("path",{id:"Vector",d:"M6.38373 14L7.61627 14C7.96459 14 8.21914 13.7923 8.29282 13.4507L8.64115 11.977C8.90239 11.89 9.15694 11.7895 9.37799 11.6823L10.6708 12.4727C10.9589 12.6536 11.2871 12.6268 11.5282 12.3856L12.3923 11.5282C12.6335 11.2871 12.667 10.9388 12.4727 10.6507L11.6823 9.37129C11.7962 9.13684 11.8967 8.89569 11.9703 8.65455L13.4574 8.29952C13.799 8.22584 14 7.97129 14 7.62297L14 6.41053C14 6.0689 13.799 5.81435 13.4574 5.74067L11.9837 5.38565C11.8967 5.111 11.7895 4.86316 11.6957 4.6555L12.4861 3.35598C12.6737 3.06794 12.6536 2.73971 12.4057 2.49856L11.5282 1.63445C11.2804 1.4067 10.9856 1.36651 10.6909 1.53397L9.37799 2.3445C9.16364 2.23062 8.91579 2.13014 8.64115 2.04306L8.29282 0.549282C8.21914 0.207656 7.96459 3.8372e-08 7.61627 3.66938e-08L6.38373 3.07557e-08C6.03541 2.90775e-08 5.78086 0.207656 5.70048 0.549282L5.35215 2.02967C5.09091 2.11675 4.83636 2.21722 4.60861 2.3378L3.30909 1.53397C3.01435 1.36651 2.71292 1.4 2.46507 1.63445L1.59426 2.49856C1.34641 2.73971 1.31962 3.06794 1.51388 3.35598L2.29761 4.6555C2.21053 4.86316 2.10335 5.111 2.01627 5.38565L0.542584 5.74067C0.200957 5.81435 4.90597e-08 6.0689 5.18213e-08 6.41053L6.16224e-08 7.62297C6.44382e-08 7.97129 0.200957 8.22584 0.542584 8.29952L2.02967 8.65455C2.10335 8.89569 2.20383 9.13684 2.311 9.37129L1.52727 10.6507C1.32632 10.9388 1.36651 11.2871 1.60766 11.5282L2.46507 12.3856C2.70622 12.6268 3.04115 12.6536 3.32919 12.4727L4.61531 11.6823C4.84306 11.7895 5.09091 11.89 5.35215 11.977L5.70048 13.4507C5.78086 13.7923 6.03541 14 6.38373 14ZM7 9.36459C5.70048 9.36459 4.63541 8.29282 4.63541 6.9933C4.63541 5.70048 5.70048 4.63541 7 4.63541C8.29952 4.63541 9.36459 5.70048 9.36459 6.9933C9.36459 8.29282 8.29952 9.36459 7 9.36459Z",fill:"currentColor"}))),OPe=f.forwardRef(MPe),DPe=f.memo(OPe),FPe=(t,e)=>f.createElement("svg",{width:12,height:14,viewBox:"0 0 12 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("g",{id:"Group"},f.createElement("path",{id:"Vector",d:"M2.30651 13.9934H9.23798C10.589 13.9934 11.2612 13.3082 11.2612 11.9506V6.02424C11.2612 5.18227 11.1634 4.81678 10.6412 4.28159L7.04497 0.620046C6.54893 0.110956 6.13775 0 5.40674 0H2.30651C0.961991 0 0.283203 0.691841 0.283203 2.04941V11.9506C0.283203 13.3147 0.955464 13.9934 2.30651 13.9934ZM2.3522 12.9427C1.67994 12.9427 1.33402 12.5837 1.33402 11.931V2.06899C1.33402 1.42284 1.67994 1.05082 2.35873 1.05082H5.26315V4.84289C5.26315 5.66526 5.67434 6.06992 6.49019 6.06992H10.2105V11.931C10.2105 12.5837 9.86459 12.9427 9.18576 12.9427H2.3522ZM6.60767 5.08438C6.3466 5.08438 6.2487 4.97995 6.2487 4.71887V1.25315L10.0081 5.08438H6.60767Z",fill:"currentColor"}),f.createElement("path",{id:"Vector_2",d:"M9.25 11C9.25 11.5523 8.80228 12 8.25 12H3.25C2.69772 12 2.25 11.5523 2.25 11V10.8571L4.35 8L7.22665 10.8571L9.25 9.71429V11Z",fill:"currentColor"}))),NPe=f.forwardRef(FPe),HPe=f.memo(NPe),BPe=(t,e)=>f.createElement("svg",{width:12,height:14,viewBox:"0 0 12 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("g",{id:"Group"},f.createElement("path",{id:"Vector",d:"M2.30651 13.9934H9.23798C10.589 13.9934 11.2612 13.3082 11.2612 11.9506V6.02424C11.2612 5.18227 11.1634 4.81678 10.6412 4.28159L7.04497 0.620046C6.54893 0.110956 6.13775 0 5.40674 0H2.30651C0.961991 0 0.283203 0.691841 0.283203 2.04941V11.9506C0.283203 13.3147 0.955464 13.9934 2.30651 13.9934ZM2.3522 12.9427C1.67994 12.9427 1.33402 12.5837 1.33402 11.931V2.06899C1.33402 1.42284 1.67994 1.05082 2.35873 1.05082H5.26315V4.84289C5.26315 5.66526 5.67434 6.06992 6.49019 6.06992H10.2105V11.931C10.2105 12.5837 9.86459 12.9427 9.18576 12.9427H2.3522ZM6.60767 5.08438C6.3466 5.08438 6.2487 4.97995 6.2487 4.71887V1.25315L10.0081 5.08438H6.60767Z",fill:"currentColor"}),f.createElement("path",{id:"Union",fillRule:"evenodd",clipRule:"evenodd",d:"M8.8125 8H2.6875C2.446 8 2.25 7.776 2.25 7.5C2.25 7.224 2.446 7 2.6875 7H8.8125C9.054 7 9.25 7.224 9.25 7.5C9.25 7.776 9.054 8 8.8125 8ZM8.8125 10H2.6875C2.446 10 2.25 9.776 2.25 9.5C2.25 9.224 2.446 9 2.6875 9H8.8125C9.054 9 9.25 9.224 9.25 9.5C9.25 9.776 9.054 10 8.8125 10ZM2.6875 12H8.8125C9.054 12 9.25 11.776 9.25 11.5C9.25 11.224 9.054 11 8.8125 11H2.6875C2.446 11 2.25 11.224 2.25 11.5C2.25 11.776 2.446 12 2.6875 12Z",fill:"currentColor"}))),zPe=f.forwardRef(BPe),VPe=f.memo(zPe),WPe=(t,e)=>f.createElement("svg",{width:12,height:14,viewBox:"0 0 12 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("g",{id:"Group"},f.createElement("path",{id:"Vector",d:"M2.30651 13.9934H9.23798C10.589 13.9934 11.2612 13.3082 11.2612 11.9506V6.02424C11.2612 5.18227 11.1634 4.81678 10.6412 4.28159L7.04497 0.620046C6.54893 0.110956 6.13775 0 5.40674 0H2.30651C0.961991 0 0.283203 0.691841 0.283203 2.04941V11.9506C0.283203 13.3147 0.955464 13.9934 2.30651 13.9934ZM2.3522 12.9427C1.67994 12.9427 1.33402 12.5837 1.33402 11.931V2.06899C1.33402 1.42284 1.67994 1.05082 2.35873 1.05082H5.26315V4.84289C5.26315 5.66526 5.67434 6.06992 6.49019 6.06992H10.2105V11.931C10.2105 12.5837 9.86459 12.9427 9.18576 12.9427H2.3522ZM6.60767 5.08438C6.3466 5.08438 6.2487 4.97995 6.2487 4.71887V1.25315L10.0081 5.08438H6.60767Z",fill:"currentColor"}),f.createElement("path",{id:"Union",fillRule:"evenodd",clipRule:"evenodd",d:"M3.53265 7.83936C3.13816 7.83936 2.81836 8.15915 2.81836 8.55364V10.2501C2.81836 10.6446 3.13816 10.9644 3.53265 10.9644H5.22907C5.62356 10.9644 5.94336 10.6446 5.94336 10.2501V9.71436L7.81836 10.9644V7.83936L5.94336 9.08936V8.55364C5.94336 8.15915 5.62356 7.83936 5.22907 7.83936H3.53265Z",fill:"currentColor"}))),jPe=f.forwardRef(WPe),UPe=f.memo(jPe),$Pe=(t,e)=>f.createElement("svg",{width:14,height:10,viewBox:"0 0 14 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M1.58183 8.93558C0.335667 9.84797 -0.620692 7.83733 0.50955 7.04322L4.00171 4.57639L0.50955 2.12645C-0.635182 1.31544 0.335667 -0.678297 1.58183 0.234092L5.75503 3.27539C6.53751 3.84985 6.58098 5.28602 5.75503 5.89428L1.58183 8.93558Z",fill:"currentColor"}),f.createElement("path",{d:"M7.55183 10C7.03018 10 6.62445 9.51005 6.62445 8.91868C6.62445 8.31042 7.03018 7.82044 7.55183 7.82044H13.0726C13.5943 7.82044 14 8.31042 14 8.91868C14 9.51005 13.5943 10 13.0726 10H7.55183Z",fill:"currentColor"})),qPe=f.forwardRef($Pe),GPe=f.memo(qPe);function KPe(t,e){if(!e)return[t];const n=ga(e,[".0"],["asc"]),o=[];let r=t,i=0;for(const s of n){const[a,l]=s,[c,d,p]=ZPe(r,[a-i,l-i]);if(c!=null&&o.push(c),d!==""&&o.push([d]),p==null)return o;i=l+1,r=p}return r!==""&&o.push(r),o}function ZPe(t,e){const[n,o]=e,r=n===0?void 0:t.slice(0,n),i=o>=t.length-1?void 0:t.slice(o+1),s=t.slice(n,o+1);return[r,s,i]}const e2=t=>{const n=KPe(t.children,t.ranges).map((o,r)=>{const i=Array.isArray(o)?"mark":f.Fragment;return f.createElement(i,{key:r},o.toString())});return u(f.Fragment,{children:n})},QPe=(t,e)=>{var o;if(e==null)return;const n=t[e];return n&&((o=Jz(n))==null?void 0:o.description)};function Jz(t){if(pd(t,"password"))return XPe(t);if(pd(t,"aicommand"))return JPe(t);if(pd(t,"action"))return eLe(t);const{matches:e,item:n}=t,{name:o,description:r,shortDescription:i,executable:s}=n,a=r!=null?e==null?void 0:e.find(g=>g.key==="description"):void 0,l=Array.isArray(o)?o:[o],d=tLe(l,e==null?void 0:e.filter(g=>g.key==="name")).map(([g,C],v)=>u(e2,{ranges:C==null?void 0:C.indices,children:g},v)),p=s?u(ba,{}):void 0,m=pd(t,"folder")?u(Kz,{fontSize:"small",style:{color:"inherit"}}):p;return{icon:iLe(t),type:YPe(t),actionIcon:m,secondary:i,textOverflow:"end",description:r!=null?u(e2,{ranges:a==null?void 0:a.indices,children:r}):void 0,children:nLe(d,", ")}}function YPe(t){return pd(t,"filepath")?t.item.meta.type:t.item.type}function XPe(t){var o,r,i;const e=(o=t.item.meta)==null?void 0:o.icon,n=e?(r=J2[e])==null?void 0:r.icon:void 0;return{type:t.item.type,icon:n??u(Zz,{}),actionIcon:t.item.executable?u(ba,{}):void 0,description:L("dl",{children:[u("dt",{children:"Username:"})," ",u("dd",{children:(i=t.item.meta)==null?void 0:i.username}),u("dt",{children:"Password:"})," ",u("dd",{children:"*".repeat(t.item.insertValue.length)})]}),children:t.item.name}}function JPe(t){const e=t.item.meta.riskLevel.toLowerCase();return{type:t.item.type,icon:u(ls,{}),actionIcon:t.item.executable?u(ba,{}):void 0,secondary:t.item.shortDescription,description:L(Se.Fragment,{children:[t.item.description,u(Ee,{sx:{display:"flex"},children:u(Ee,{sx:{display:"inline-flex",alignItems:"center",gap:"5px"},children:`Risk: ${e} Runs: ${t.item.meta.executionCounter}`})})]}),children:t.item.name}}function eLe(t){switch(t.item.meta.name){case"add-identity":return{icon:u(Qz,{}),type:t.item.type,secondary:t.item.shortDescription,description:t.item.description,children:t.item.name};default:return{type:t.item.type,secondary:t.item.shortDescription,description:t.item.description,children:t.item.name}}}function tLe(t,e){const n=e==null?void 0:e.filter(r=>r.key==="name");return(Array.isArray(t)?t:[t]).map(r=>{const i=n==null?void 0:n.find(s=>s.value===r);return[r,i]})}function nLe(t,e=", "){return t.flatMap((n,o)=>o===t.length-1?n:[n,e])}const oLe=new Map([["snippet",u(Oi,{})],["folder",u(Yz,{})],["symlink",u(kC,{})],["subcommand",u(Ad,{})],["option",u(Ad,{})],["argument",u(Ad,{})],["history",u(NF,{})],["aicommand",u(ls,{})],["prompt",u(GPe,{})]]);function pd(t,e){return aa(t.item,e)}const rLe=new Map([["filepath",u(Xz,{})],["filepath-audio",u(kPe,{})],["filepath-video",u(UPe,{})],["filepath-image",u(HPe,{})],["filepath-compressed",u(LPe,{})],["filepath-config",u(DPe,{})],["filepath-log",u(VPe,{})]]);function iLe(t){if(pd(t,"filepath")){const{type:e}=t.item.meta;return rLe.get(e)}return oLe.get(t.item.type)}const sLe=f.forwardRef(({isSuggestionsHidden:t,autocompleteOptions:e,autocompleteInfo:n,isFetchingPaths:o,activeIndex:r,onHoverSuggestion:i,onSubmit:s},a)=>{const{classes:l}=aLe();return u("ul",{ref:a,className:l.suggestionList,role:"listbox","aria-label":"Terminal autocompletion popup",hidden:t&&!o,onMouseLeave:()=>i(),children:L(qt,{children:[L(xe,{when:!o,children:[n&&u(KT,{message:n.message,icon:n.icon}),e.map((c,d)=>{const p=Jz(c);return u(uPe,{isActive:r===d,onClick:()=>s({at:d,triggeredBy:"mouse click"}),onMouseMove:()=>{i(d)},...p},d)})]}),u(xe,{when:o,children:u(KT,{message:"loading",icon:u(Oo,{size:12,thickness:4,color:"inherit"}),variant:"secondary"})})]})})}),aLe=K()({suggestionList:{listStyle:"none",margin:"var(--spacing)",padding:0,maxHeight:"calc(var(--list-space) - 2 * var(--spacing))",overflow:"auto","&::-webkit-scrollbar":{display:"none"}}});function lLe(t){const{floatTo:e,...n}=t;return u(e==="cursor"?cLe:dLe,{...n})}function cLe(t){return uLe(t.terminal,t.setPositionReference),t.children}function dLe(t){return pLe(t.terminal,t.setPositionReference,t.floatToShellPromptOptions),t.children}function uLe(t,e){ma(()=>t.cursorRect.subscribe(n=>{n&&e({getBoundingClientRect:()=>n})}),[t.cursorRect,e])}function pLe(t,e,n){ma(()=>t.onShellPromptDimensions.subscribe(async o=>{const r=await t.getCharSize(),i=t.elementRect;if(!r||!i)return;const s={columns:o.x+o.width,rows:n.followCursorY?o.cursorY:o.y+o.height-1},a={x:s.columns*r.width+i.x,y:s.rows*r.height+i.y},l=new DOMRectReadOnly(a.x,a.y,r.width,r.height);e({getBoundingClientRect:()=>l})}),[t,e,n])}const eV=f.createContext(void 0),hLe=-1.2,fLe=-.6;function tV(t){const{refs:{floating:e,setPositionReference:n},context:o,update:r}=L3({strategy:"fixed",placement:"bottom-start",middleware:[wZ(({placement:i})=>i==="bottom-end"||i==="top-end"?{}:{mainAxis:t.fontSize*hLe,crossAxis:t.fontSize*fLe}),bC(),wC()],open:t.open,onOpenChange:t.onOpenChange});return Gr(e,r),fS(o,{escapeKey:!1}),u(hS,{id:t.floatingPortalNodeId,children:u(eV.Provider,{value:o,children:u(lLe,{floatTo:t.floatTo,terminal:t.terminal,setPositionReference:n,floatToShellPromptOptions:{followCursorY:o.placement==="bottom-start"},children:t.floatingComponent(o)})})})}const mLe=()=>{const t=f.useContext(eV);return Ce(t,`${tV.name} is missing upper in the react tree`),t};function gLe(t){const{visible:e,children:n}=t,o=mLe();return e?u("div",{ref:o.refs.setFloating,style:{...o.floatingStyles,zIndex:1},children:n}):null}const nV=f.createContext(null);function vLe(t,e){let n=null;return t!=null&&(n=t[1]),{getTheme:function(){return e??(n!=null?n.getTheme():null)}}}function Kr(){const t=f.useContext(nV);return t==null&&function(e,...n){const o=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const i of n)r.append("v",i);throw o.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${o.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(8),t}function ye(t,...e){const n=new URL("https://lexical.dev/docs/error"),o=new URLSearchParams;o.append("code",t);for(const r of e)o.append("v",r);throw n.search=o.toString(),Error(`Minified Lexical error #${t}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const Zr=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,CLe=Zr&&"documentMode"in document?document.documentMode:null,xr=Zr&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),la=Zr&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),t2=!(!Zr||!("InputEvent"in window)||CLe)&&"getTargetRanges"in new window.InputEvent("input"),bh=Zr&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),tu=Zr&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,yLe=Zr&&/Android/.test(navigator.userAgent),oV=Zr&&/^(?=.*Chrome).*/i.test(navigator.userAgent),QT=Zr&&yLe&&oV,n2=Zr&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!oV;function o2(...t){const e=[];for(const n of t)if(n&&typeof n=="string")for(const[o]of n.matchAll(/\S+/g))e.push(o);return e}const SLe=1,bLe=3,wLe=9,_Le=11,Kl=0,rV=1,nu=2,xLe=0,ALe=1,TLe=2,r2=4,i2=8,IS=128,ILe=1792|(112|(3|r2|i2)|IS),ES=1,kS=2,RS=3,PS=4,LS=5,MS=6,N3=bh||tu||n2?"Â ":"â€‹",ms=`

`,ELe=la?"Â ":N3,iV="Ö‘-ß¿ï¬-ï·½ï¹°-ï»¼",sV="A-Za-zÃ€-Ã–Ã˜-Ã¶Ã¸-Ê¸Ì€-Öà €-á¿¿â€Žâ°€-ï¬œï¸€-ï¹¯ï»½-ï¿¿",kLe=new RegExp("^[^"+sV+"]*["+iV+"]"),RLe=new RegExp("^[^"+iV+"]*["+sV+"]"),uo={bold:1,capitalize:1024,code:16,highlight:IS,italic:2,lowercase:256,strikethrough:r2,subscript:32,superscript:64,underline:i2,uppercase:512},PLe={directionless:1,unmergeable:2},YT={center:kS,end:MS,justify:PS,left:ES,right:RS,start:LS},LLe={[kS]:"center",[MS]:"end",[PS]:"justify",[ES]:"left",[RS]:"right",[LS]:"start"},MLe={normal:0,segmented:2,token:1},OLe={[xLe]:"normal",[TLe]:"segmented",[ALe]:"token"},DLe="$";function aV(t,e,n,o,r,i){let s=t.getFirstChild();for(;s!==null;){const a=s.__key;s.__parent===e&&(me(s)&&aV(s,a,n,o,r,i),n.has(a)||i.delete(a),r.push(a)),s=s.getNextSibling()}}const FLe=100;let L7=!1,OS=0;function NLe(t){OS=t.timeStamp}function S6(t,e,n){const o=t.nodeName==="BR",r=e.__lexicalLineBreak;return r&&(t===r||o&&t.previousSibling===r)||o&&G3(t,n)!==void 0}function HLe(t,e,n){const o=gs(gr(n));let r=null,i=null;o!==null&&o.anchorNode===t&&(r=o.anchorOffset,i=o.focusOffset);const s=t.nodeValue;s!==null&&KS(e,s,r,i,!1)}function BLe(t,e,n){if(Ae(t)){const o=t.anchor.getNode();if(o.is(n)&&t.format!==o.getFormat())return!1}return Ps(e)&&n.isAttached()}function zLe(t,e,n,o){for(let r=t;r&&!NMe(r);r=X1(r)){const i=G3(r,e);if(i!==void 0){const s=An(i,n);if(s)return It(s)||!Do(r)?void 0:[r,s]}else if(r===o)return[o,tW(n)]}}function lV(t,e,n){L7=!0;const o=performance.now()-OS>FLe;try{dr(t,()=>{const r=Fe()||function(h){return h.getEditorState().read(()=>{const m=Fe();return m!==null?m.clone():null})}(t),i=new Map,s=t.getRootElement(),a=t._editorState,l=t._blockCursorElement;let c=!1,d="";for(let h=0;h<e.length;h++){const m=e[h],g=m.type,C=m.target,v=zLe(C,t,a,s);if(!v)continue;const[S,y]=v;if(g==="characterData")o&&Pe(y)&&Ps(C)&&BLe(r,C,y)&&HLe(C,y,t);else if(g==="childList"){c=!0;const b=m.addedNodes;for(let _=0;_<b.length;_++){const I=b[_],T=JV(I),A=I.parentNode;if(A!=null&&I!==l&&T===null&&!S6(I,A,t)){if(la){const k=(Do(I)?I.innerText:null)||I.nodeValue;k&&(d+=k)}A.removeChild(I)}}const w=m.removedNodes,x=w.length;if(x>0){let _=0;for(let I=0;I<x;I++){const T=w[I];(S6(T,C,t)||l===T)&&(C.appendChild(T),_++)}x!==_&&i.set(S,y)}}}if(i.size>0)for(const[h,m]of i)m.reconcileObservedMutation(h,t);const p=n.takeRecords();if(p.length>0){for(let h=0;h<p.length;h++){const m=p[h],g=m.addedNodes,C=m.target;for(let v=0;v<g.length;v++){const S=g[v],y=S.parentNode;y==null||S.nodeName!=="BR"||S6(S,C,t)||y.removeChild(S)}}n.takeRecords()}r!==null&&(c&&Qo(r),la&&iW(t)&&r.insertRawText(d))})}finally{L7=!1}}function cV(t){const e=t._observer;e!==null&&lV(t,e.takeRecords(),e)}function dV(t){(function(e){OS===0&&gr(e).addEventListener("textInput",NLe,!0)})(t),t._observer=new MutationObserver((e,n)=>{lV(t,e,n)})}class DS{constructor(e,n=new Map,o=void 0,r=new Map,i=void 0){this.node=e,this.sharedConfigMap=n,this.unknownState=o,this.knownState=r;const s=i!==void 0?i:function(a,l,c){let d=c.size;if(l)for(const p in l){const h=a.get(p);h&&c.has(h)||d++}return d}(n,o,r);this.size=s}getValue(e){const n=this.knownState.get(e);if(n!==void 0)return n;this.sharedConfigMap.set(e.key,e);let o=e.defaultValue;if(this.unknownState&&e.key in this.unknownState){const r=this.unknownState[e.key];r!==void 0&&(o=e.parse(r)),this.updateFromKnown(e,o)}return o}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){const e={...this.unknownState};for(const[n,o]of this.knownState)n.isEqual(o,n.defaultValue)?delete e[n.key]:e[n.key]=n.unparse(o);return Mf(e)?{[DLe]:e}:{}}getWritable(e){if(this.node===e)return this;const n=new Map(this.knownState),o=Mf(r=this.unknownState)&&{...r};var r;if(o)for(const i of n.keys())delete o[i.key];return new DS(e,this.sharedConfigMap,Mf(o),n,this.size)}updateFromKnown(e,n){const o=e.key;this.sharedConfigMap.set(o,e);const{knownState:r,unknownState:i}=this;r.has(e)||i&&o in i||this.size++,r.set(e,n)}updateFromUnknown(e,n){const o=this.sharedConfigMap.get(e);o?this.updateFromKnown(o,o.parse(n)):(this.unknownState=this.unknownState||{},e in this.unknownState||this.size++,this.unknownState[e]=n)}updateFromJSON(e){const{knownState:n}=this;for(const o of n.keys())n.set(o,o.defaultValue);if(this.size=n.size,this.unknownState={},e)for(const[o,r]of Object.entries(e))this.updateFromUnknown(o,r);this.unknownState=Mf(this.unknownState)}}function Mf(t){if(t)for(const e in t)return t}function VLe(t){const e=t.getWritable(),n=e.__state?e.__state.getWritable(e):new DS(e);return e.__state=n,n}function XT(t,e){const n=t.__mode,o=t.__format,r=t.__style,i=e.__mode,s=e.__format,a=e.__style,l=t.__state,c=e.__state;return(n===null||n===i)&&(o===null||o===s)&&(r===null||r===a)&&(t.__state===null||l===c||function(d,p){if(d===p)return!0;if(d&&p&&d.size!==p.size)return!1;const h=new Set,m=(C,v)=>{for(const[S,y]of C.knownState){if(h.has(S.key))continue;h.add(S.key);const b=v?v.getValue(S):S.defaultValue;if(b!==y&&!S.isEqual(b,y))return!0}return!1},g=(C,v)=>{const{unknownState:S}=C,y=v?v.unknownState:void 0;if(S){for(const[b,w]of Object.entries(S))if(!h.has(b)&&(h.add(b),w!==(y?y[b]:void 0)))return!0}return!1};return!(d&&m(d,p)||p&&m(p,d)||d&&g(d,p)||p&&g(p,d))}(l,c))}function JT(t,e){const n=t.mergeWithSibling(e),o=Gt()._normalizedNodes;return o.add(t.__key),o.add(e.__key),n}function eI(t){let e,n,o=t;if(o.__text!==""||!o.isSimpleText()||o.isUnmergeable()){for(;(e=o.getPreviousSibling())!==null&&Pe(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(e.__text!==""){if(XT(e,o)){o=JT(e,o);break}break}e.remove()}for(;(n=o.getNextSibling())!==null&&Pe(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(n.__text!==""){if(XT(o,n)){o=JT(o,n);break}break}n.remove()}}else o.remove()}function M7(t){return tI(t.anchor),tI(t.focus),t}function tI(t){for(;t.type==="element";){const e=t.getNode(),n=t.offset;let o,r;if(n===e.getChildrenSize()?(o=e.getChildAtIndex(n-1),r=!0):(o=e.getChildAtIndex(n),r=!1),Pe(o)){t.set(o.__key,r?o.getTextContentSize():0,"text",!0);break}if(!me(o))break;t.set(o.__key,r?o.getChildrenSize():0,"element",!0)}}let wa,yo,wh,H3,O7,D7,Zl,Hr,F7,_h,ln="",vo="",ni=null,oi="",Qi="",uV=!1,xh=!1,mm=null;function s2(t,e){const n=Zl.get(t);if(e!==null){const o=B7(t);o.parentNode===e&&e.removeChild(o)}if(Hr.has(t)||yo._keyToDOMMap.delete(t),me(n)){const o=l2(n,Zl);N7(o,0,o.length-1,null)}n!==void 0&&ZS(_h,wh,H3,n,"destroyed")}function N7(t,e,n,o){let r=e;for(;r<=n;++r){const i=t[r];i!==void 0&&s2(i,o)}}function ll(t,e){t.setProperty("text-align",e)}const WLe="40px";function pV(t,e){const n=wa.theme.indent;if(typeof n=="string"){const r=t.classList.contains(n);e>0&&!r?t.classList.add(n):e<1&&r&&t.classList.remove(n)}const o=getComputedStyle(t).getPropertyValue("--lexical-indent-base-value")||WLe;t.style.setProperty("padding-inline-start",e===0?"":`calc(${e} * ${o})`)}function hV(t,e){const n=t.style;e===0?ll(n,""):e===ES?ll(n,"left"):e===kS?ll(n,"center"):e===RS?ll(n,"right"):e===PS?ll(n,"justify"):e===LS?ll(n,"start"):e===MS&&ll(n,"end")}function a2(t,e){const n=Hr.get(t);n===void 0&&ye(60);const o=n.createDOM(wa,yo);if(function(r,i,s){const a=s._keyToDOMMap;(function(l,c,d){const p=`__lexicalKey_${c._key}`;l[p]=d})(i,s,r),a.set(r,i)}(t,o,yo),Pe(n)?o.setAttribute("data-lexical-text","true"):It(n)&&o.setAttribute("data-lexical-decorator","true"),me(n)){const r=n.__indent,i=n.__size;if(r!==0&&pV(o,r),i!==0){const a=i-1;(function(l,c,d,p){const h=vo;vo="",H7(l,d,0,c,d.getDOMSlot(p)),mV(d,p),vo=h})(l2(n,Hr),a,n,o)}const s=n.__format;s!==0&&hV(o,s),n.isInline()||fV(null,n,o),K3(n)&&(ln+=ms,Qi+=ms)}else{const r=n.getTextContent();if(It(n)){const i=n.decorate(yo,wa);i!==null&&gV(t,i),o.contentEditable="false"}else Pe(n)&&(n.isDirectionless()||(vo+=r));ln+=r,Qi+=r}return e!==null&&e.insertChild(o),ZS(_h,wh,H3,n,"created"),o}function H7(t,e,n,o,r){const i=ln;ln="";let s=n;for(;s<=o;++s){a2(t[s],r);const a=Hr.get(t[s]);a!==null&&Pe(a)&&(ni===null&&(ni=a.getFormat()),oi===""&&(oi=a.getStyle()))}K3(e)&&(ln+=ms),r.element.__lexicalTextContent=ln,ln=i+ln}function nI(t,e){if(t){const n=t.__last;if(n){const o=e.get(n);if(o)return Gp(o)?"line-break":It(o)&&o.isInline()?"decorator":null}return"empty"}return null}function fV(t,e,n){const o=nI(t,Zl),r=nI(e,Hr);o!==r&&e.getDOMSlot(n).setManagedLineBreak(r)}function mV(t,e){const n=e.__lexicalDirTextContent||"",o=e.__lexicalDir||"";if(n!==vo||o!==mm){const r=vo==="",i=r?mm:function(s){return kLe.test(s)?"rtl":RLe.test(s)?"ltr":null}(vo);if(i!==o){const s=e.classList,a=wa.theme;let l=o!==null?a[o]:void 0,c=i!==null?a[i]:void 0;if(l!==void 0){if(typeof l=="string"){const d=o2(l);l=a[o]=d}s.remove(...l)}if(i===null||r&&i==="ltr")e.removeAttribute("dir");else{if(c!==void 0){if(typeof c=="string"){const d=o2(c);c=a[i]=d}c!==void 0&&s.add(...c)}e.dir=i}xh||(t.getWritable().__dir=i)}mm=i,e.__lexicalDirTextContent=vo,e.__lexicalDir=i}}function jLe(t,e,n){const o=vo;var r;vo="",ni=null,oi="",function(i,s,a){const l=ln,c=i.__size,d=s.__size;ln="";const p=a.element;if(c===1&&d===1){const h=i.__first,m=s.__first;if(h===m)kp(h,p);else{const C=B7(h),v=a2(m,null);try{p.replaceChild(v,C)}catch(S){if(typeof S=="object"&&S!=null){const y=`${S.toString()} Parent: ${p.tagName}, new child: {tag: ${v.tagName} key: ${m}}, old child: {tag: ${C.tagName}, key: ${h}}.`;throw new Error(y)}throw S}s2(h,null)}const g=Hr.get(m);Pe(g)&&(ni===null&&(ni=g.getFormat()),oi===""&&(oi=g.getStyle()))}else{const h=l2(i,Zl),m=l2(s,Hr);if(h.length!==c&&ye(227),m.length!==d&&ye(228),c===0)d!==0&&H7(m,s,0,d-1,a);else if(d===0){if(c!==0){const g=a.after==null&&a.before==null&&a.element.__lexicalLineBreak==null;N7(h,0,c-1,g?null:p),g&&(p.textContent="")}}else(function(g,C,v,S,y,b){const w=S-1,x=y-1;let _,I,T=b.getFirstChild(),A=0,k=0;for(;A<=w&&k<=x;){const D=C[A],F=v[k];if(D===F)T=b6(kp(F,b.element)),A++,k++;else{_===void 0&&(_=new Set(C)),I===void 0&&(I=new Set(v));const j=I.has(D),H=_.has(F);if(j)if(H){const O=ru(yo,F);O===T?T=b6(kp(F,b.element)):(b.withBefore(T).insertChild(O),kp(F,b.element)),A++,k++}else a2(F,b.withBefore(T)),k++;else T=b6(B7(D)),s2(D,b.element),A++}const z=Hr.get(F);z!==null&&Pe(z)&&(ni===null&&(ni=z.getFormat()),oi===""&&(oi=z.getStyle()))}const R=A>w,M=k>x;if(R&&!M){const D=v[x+1],F=D===void 0?null:yo.getElementByKey(D);H7(v,g,k,x,b.withBefore(F))}else M&&!R&&N7(C,A,w,b.element)})(s,h,m,c,d,a)}K3(s)&&(ln+=ms),p.__lexicalTextContent=ln,ln=l+ln}(t,e,e.getDOMSlot(n)),mV(e,n),r=e,ni==null||ni===r.__textFormat||xh||r.setTextFormat(ni),function(i){oi===""||oi===i.__textStyle||xh||i.setTextStyle(oi)}(e),vo=o}function l2(t,e){const n=[];let o=t.__first;for(;o!==null;){const r=e.get(o);r===void 0&&ye(101),n.push(o),o=r.__next}return n}function kp(t,e){const n=Zl.get(t);let o=Hr.get(t);n!==void 0&&o!==void 0||ye(61);const r=uV||D7.has(t)||O7.has(t),i=ru(yo,t);if(n===o&&!r){if(me(n)){const s=i.__lexicalTextContent;s!==void 0&&(ln+=s,Qi+=s);const a=i.__lexicalDirTextContent;a!==void 0&&(vo+=a)}else{const s=n.getTextContent();Pe(n)&&!n.isDirectionless()&&(vo+=s),Qi+=s,ln+=s}return i}if(n!==o&&r&&ZS(_h,wh,H3,o,"updated"),o.updateDOM(n,i,wa)){const s=a2(t,null);return e===null&&ye(62),e.replaceChild(s,i),s2(t,null),s}if(me(n)&&me(o)){const s=o.__indent;s!==n.__indent&&pV(i,s);const a=o.__format;a!==n.__format&&hV(i,a),r&&(jLe(n,o,i),Ro(o)||o.isInline()||fV(n,o,i)),K3(o)&&(ln+=ms,Qi+=ms)}else{const s=o.getTextContent();if(It(o)){const a=o.decorate(yo,wa);a!==null&&gV(t,a)}else Pe(o)&&!o.isDirectionless()&&(vo+=s);ln+=s,Qi+=s}if(!xh&&Ro(o)&&o.__cachedText!==Qi){const s=o.getWritable();s.__cachedText=Qi,o=s}return i}function gV(t,e){let n=yo._pendingDecorators;const o=yo._decorators;if(n===null){if(o[t]===e)return;n=eW(yo)}n[t]=e}function b6(t){let e=t.nextSibling;return e!==null&&e===yo._blockCursorElement&&(e=e.nextSibling),e}function ULe(t,e,n,o,r,i){ln="",Qi="",vo="",uV=o===nu,mm=null,yo=n,wa=n._config,wh=n._nodes,H3=yo._listeners.mutation,O7=r,D7=i,Zl=t._nodeMap,Hr=e._nodeMap,xh=e._readOnly,F7=new Map(n._keyToDOMMap);const s=new Map;return _h=s,kp("root",null),yo=void 0,wh=void 0,O7=void 0,D7=void 0,Zl=void 0,Hr=void 0,wa=void 0,F7=void 0,_h=void 0,s}function B7(t){const e=F7.get(t);return e===void 0&&ye(75,t),e}const vV={},$Le={},El={},Td={},z7={},Id={},B3={},V7={},Ah={},Th={},gl={},CV={},yV={},SV={},bV={},qLe={},wV={},GLe={},KLe={},ZLe={},c2={},QLe={},_V={},YLe={},xV={},XLe={},AV={},TV={},JLe={},eMe={},FS={},NS={},W7={},tMe={},nMe={},oMe={},Wi=Object.freeze({}),j7=30,U7=[["keydown",function(t,e){if($p=t.timeStamp,$7=t.key,e.isComposing())return;const{key:n,shiftKey:o,ctrlKey:r,metaKey:i,altKey:s}=t;if(!ke(e,SV,t)&&n!=null){if(w6&&Kc($7))return dr(e,()=>{Of(e,_6)}),w6=!1,void(_6="");if(function(a,l,c,d){return RI(a)&&!l&&!d&&!c}(n,r,s,i))ke(e,bV,t);else if(function(a,l,c,d,p){return RI(a)&&!d&&!c&&(l||p)}(n,r,o,s,i))ke(e,qLe,t);else if(function(a,l,c,d){return kI(a)&&!l&&!d&&!c}(n,r,s,i))ke(e,wV,t);else if(function(a,l,c,d,p){return kI(a)&&!d&&!c&&(l||p)}(n,r,o,s,i))ke(e,GLe,t);else if(function(a,l,c){return function(d){return d==="ArrowUp"}(a)&&!l&&!c}(n,r,i))ke(e,KLe,t);else if(function(a,l,c){return function(d){return d==="ArrowDown"}(a)&&!l&&!c}(n,r,i))ke(e,ZLe,t);else if(function(a,l){return PI(a)&&l}(n,o))qp=!0,ke(e,c2,t);else if(function(a){return a===" "}(n))ke(e,QLe,t);else if(function(a,l){return xr&&l&&a.toLowerCase()==="o"}(n,r))t.preventDefault(),qp=!0,ke(e,Td,!0);else if(function(a,l){return PI(a)&&!l}(n,o))qp=!1,ke(e,c2,t);else if(function(a,l,c,d){return xr?!l&&!c&&(Kc(a)||a.toLowerCase()==="h"&&d):d||l||c?!1:Kc(a)}(n,s,i,r))Kc(n)?ke(e,_V,t):(t.preventDefault(),ke(e,El,!0));else if(function(a){return a==="Escape"}(n))ke(e,YLe,t);else if(function(a,l,c,d,p){return xr?!(c||d||p)&&(Cp(a)||a.toLowerCase()==="d"&&l):l||d||p?!1:Cp(a)}(n,r,o,s,i))Cp(n)?ke(e,xV,t):(t.preventDefault(),ke(e,El,!1));else if(function(a,l,c){return Kc(a)&&(xr?l:c)}(n,s,r))t.preventDefault(),ke(e,Ah,!0);else if(function(a,l,c){return Cp(a)&&(xr?l:c)}(n,s,r))t.preventDefault(),ke(e,Ah,!1);else if(function(a,l){return xr&&l&&Kc(a)}(n,i))t.preventDefault(),ke(e,Th,!0);else if(function(a,l){return xr&&l&&Cp(a)}(n,i))t.preventDefault(),ke(e,Th,!1);else if(function(a,l,c,d){return a.toLowerCase()==="b"&&!l&&Rp(c,d)}(n,s,i,r))t.preventDefault(),ke(e,gl,"bold");else if(function(a,l,c,d){return a.toLowerCase()==="u"&&!l&&Rp(c,d)}(n,s,i,r))t.preventDefault(),ke(e,gl,"underline");else if(function(a,l,c,d){return a.toLowerCase()==="i"&&!l&&Rp(c,d)}(n,s,i,r))t.preventDefault(),ke(e,gl,"italic");else if(function(a,l,c,d){return a==="Tab"&&!l&&!c&&!d}(n,s,r,i))ke(e,XLe,t);else if(function(a,l,c,d){return a.toLowerCase()==="z"&&!l&&Rp(c,d)}(n,o,i,r))t.preventDefault(),ke(e,CV,void 0);else if(function(a,l,c,d){return xr?a.toLowerCase()==="z"&&c&&l:a.toLowerCase()==="y"&&d||a.toLowerCase()==="z"&&d&&l}(n,o,i,r))t.preventDefault(),ke(e,yV,void 0);else{const a=e._editorState._selection;a===null||Ae(a)?!la&&LI(n,i,r)&&(t.preventDefault(),ke(e,W7,t)):function(l,c,d,p){return c?!1:l.toLowerCase()==="c"?xr?d:p:!1}(n,o,i,r)?(t.preventDefault(),ke(e,FS,t)):function(l,c,d,p){return c?!1:l.toLowerCase()==="x"?xr?d:p:!1}(n,o,i,r)?(t.preventDefault(),ke(e,NS,t)):LI(n,i,r)&&(t.preventDefault(),ke(e,W7,t))}(function(a,l,c,d){return a||l||c||d})(r,o,s,i)&&ke(e,oMe,t)}}],["pointerdown",function(t,e){const n=t.target,o=t.pointerType;J1(n)&&o!=="touch"&&t.button===0&&dr(e,()=>{TI(n)||(G7=!0)})}],["compositionstart",function(t,e){dr(e,()=>{const n=Fe();if(Ae(n)&&!e.isComposing()){const o=n.anchor,r=n.anchor.getNode();Pn(o.key),(t.timeStamp<$p+j7||o.type==="element"||!n.isCollapsed()||r.getFormat()!==n.format||Pe(r)&&r.getStyle()!==n.style)&&ke(e,Id,ELe)}})}],["compositionend",function(t,e){la?vp=!0:tu||!bh&&!n2?dr(e,()=>{Of(e,t.data)}):(w6=!0,_6=t.data)}],["input",function(t,e){t.stopPropagation(),dr(e,()=>{if(Do(t.target)&&TI(t.target))return;const n=Fe(),o=t.data,r=PV(t);if(o!=null&&Ae(n)&&kV(n,r,o,t.timeStamp,!1)){vp&&(Of(e,o),vp=!1);const i=n.anchor.getNode(),s=gs(gr(e));if(s===null)return;const a=n.isBackward(),l=a?n.anchor.offset:n.focus.offset,c=a?n.focus.offset:n.anchor.offset;t2&&!n.isCollapsed()&&Pe(i)&&s.anchorNode!==null&&i.getTextContent().slice(0,l)+o+i.getTextContent().slice(l+c)===rW(s.anchorNode)||ke(e,Id,o);const d=o.length;la&&d>1&&t.inputType==="insertCompositionText"&&!e.isComposing()&&(n.anchor.offset-=d),bh||tu||n2||!e.isComposing()||($p=0,Pn(null))}else GS(!1,e,o!==null?o:void 0),vp&&(Of(e,o||void 0),vp=!1);(function(){Gn();const i=Gt();cV(i)})()},{event:t}),td=null}],["click",function(t,e){dr(e,()=>{const n=Fe(),o=gs(gr(e)),r=K1();if(o){if(Ae(n)){const i=n.anchor,s=i.getNode();if(i.type==="element"&&i.offset===0&&n.isCollapsed()&&!Ro(s)&&Bt().getChildrenSize()===1&&s.getTopLevelElementOrThrow().isEmpty()&&r!==null&&n.is(r))o.removeAllRanges(),n.dirty=!0;else if(t.detail===3&&!n.isCollapsed()&&s!==n.focus.getNode()){const a=function(l,c){let d=l;for(;d!==Bt()&&d!=null;){if(c(d))return d;d=d.getParent()}return null}(s,l=>me(l)&&!l.isInline());me(a)&&a.select(0)}}else if(t.pointerType==="touch"){const i=o.anchorNode;(Do(i)||Ps(i))&&Qo(VS(r,o,e,t))}}ke(e,$Le,t)})}],["cut",Wi],["copy",Wi],["dragstart",Wi],["dragover",Wi],["dragend",Wi],["paste",Wi],["focus",Wi],["blur",Wi],["drop",Wi]];t2&&U7.push(["beforeinput",(t,e)=>function(n,o){const r=n.inputType,i=PV(n);r==="deleteCompositionText"||la&&iW(o)||r!=="insertCompositionText"&&dr(o,()=>{const s=Fe();if(r==="deleteContentBackward"){if(s===null){const m=K1();if(!Ae(m))return;Qo(m.clone())}if(Ae(s)){const m=s.anchor.key===s.focus.key;if(a=n.timeStamp,$7==="MediaLast"&&a<$p+j7&&o.isComposing()&&m){if(Pn(null),$p=0,setTimeout(()=>{dr(o,()=>{Pn(null)})},j7),Ae(s)){const g=s.anchor.getNode();g.markDirty(),Pe(g)||ye(142),RV(s,g)}}else{Pn(null),n.preventDefault();const g=s.anchor.getNode(),C=g.getTextContent(),v=g.canInsertTextAfter(),S=s.anchor.offset===0&&s.focus.offset===C.length;let y=QT&&m&&!S&&v;if(y&&s.isCollapsed()&&(y=!It(EMe(s.anchor,!0))),!y){ke(o,El,!0);const b=Fe();QT&&Ae(b)&&b.isCollapsed()&&(hl=b,setTimeout(()=>hl=null))}}return}}var a;if(!Ae(s))return;const l=n.data;td!==null&&GS(!1,o,td),s.dirty&&td===null||!s.isCollapsed()||Ro(s.anchor.getNode())||i===null||s.applyDOMRange(i),td=null;const c=s.anchor,d=s.focus,p=c.getNode(),h=d.getNode();if(r!=="insertText"&&r!=="insertTranspose")switch(n.preventDefault(),r){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":ke(o,Id,n);break;case"insertFromComposition":Pn(null),ke(o,Id,n);break;case"insertLineBreak":Pn(null),ke(o,Td,!1);break;case"insertParagraph":Pn(null),qp&&!tu?(qp=!1,ke(o,Td,!1)):ke(o,z7,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":ke(o,B3,n);break;case"deleteByComposition":(function(m,g){return m!==g||me(m)||me(g)||!m.isToken()||!g.isToken()})(p,h)&&ke(o,V7,n);break;case"deleteByDrag":case"deleteByCut":ke(o,V7,n);break;case"deleteContent":ke(o,El,!1);break;case"deleteWordBackward":ke(o,Ah,!0);break;case"deleteWordForward":ke(o,Ah,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":ke(o,Th,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":ke(o,Th,!1);break;case"formatStrikeThrough":ke(o,gl,"strikethrough");break;case"formatBold":ke(o,gl,"bold");break;case"formatItalic":ke(o,gl,"italic");break;case"formatUnderline":ke(o,gl,"underline");break;case"historyUndo":ke(o,CV,void 0);break;case"historyRedo":ke(o,yV,void 0)}else{if(l===`
`)n.preventDefault(),ke(o,Td,!1);else if(l===ms)n.preventDefault(),ke(o,z7,void 0);else if(l==null&&n.dataTransfer){const m=n.dataTransfer.getData("text/plain");n.preventDefault(),s.insertRawText(m)}else l!=null&&kV(s,i,l,n.timeStamp,!0)?(n.preventDefault(),ke(o,Id,l)):td=l;IV=n.timeStamp}})}(t,e)]);let $p=0,$7=null,IV=0,td=null;const d2=new WeakMap;let q7=!1,G7=!1,qp=!1,vp=!1,w6=!1,_6="",hl=null,EV=[0,"",0,"root",0];function kV(t,e,n,o,r){const i=t.anchor,s=t.focus,a=i.getNode(),l=Gt(),c=gs(gr(l)),d=c!==null?c.anchorNode:null,p=i.key,h=l.getElementByKey(p),m=n.length;return p!==s.key||!Pe(a)||(!r&&(!t2||IV<o+50)||a.isDirty()&&m<2||nW(n))&&i.offset!==s.offset&&!a.isComposing()||nd(a)||a.isDirty()&&m>1||(r||!t2)&&h!==null&&!a.isComposing()&&d!==ou(h)||c!==null&&e!==null&&(!e.collapsed||e.startContainer!==c.anchorNode||e.startOffset!==c.anchorOffset)||a.getFormat()!==t.format||a.getStyle()!==t.style||function(g,C){if(C.isSegmented())return!0;if(!g.isCollapsed())return!1;const v=g.anchor.offset,S=C.getParentOrThrow(),y=C.isToken();return v===0?!C.canInsertTextBefore()||!S.canInsertTextBefore()&&!C.isComposing()||y||function(b){const w=b.getPreviousSibling();return(Pe(w)||me(w)&&w.isInline())&&!w.canInsertTextAfter()}(C):v===C.getTextContentSize()&&(!C.canInsertTextAfter()||!S.canInsertTextAfter()&&!C.isComposing()||y)}(t,a)}function oI(t,e){return Ps(t)&&t.nodeValue!==null&&e!==0&&e!==t.nodeValue.length}function rI(t,e,n){const{anchorNode:o,anchorOffset:r,focusNode:i,focusOffset:s}=t;q7&&(q7=!1,oI(o,r)&&oI(i,s)&&!hl)||dr(e,()=>{if(!n)return void Qo(null);if(!$3(e,o,i))return;let a=Fe();if(hl&&Ae(a)&&a.isCollapsed()){const l=a.anchor,c=hl.anchor;(l.key===c.key&&l.offset===c.offset+1||l.offset===1&&c.getNode().is(l.getNode().getPreviousSibling()))&&(a=hl.clone(),Qo(a))}if(hl=null,Ae(a)){const l=a.anchor,c=l.getNode();if(a.isCollapsed()){t.type==="Range"&&t.anchorNode===t.focusNode&&(a.dirty=!0);const d=gr(e).event,p=d?d.timeStamp:performance.now(),[h,m,g,C,v]=EV,S=Bt(),y=e.isComposing()===!1&&S.getTextContent()==="";if(p<v+200&&l.offset===g&&l.key===C)gm(a,h,m);else if(l.type==="text")Pe(c)||ye(141),RV(a,c);else if(l.type==="element"&&!y){me(c)||ye(259);const b=l.getNode();b.isEmpty()?function(w,x){const _=x.getTextFormat(),I=x.getTextStyle();gm(w,_,I)}(a,b):gm(a,0,"")}}else{const d=l.key,p=a.focus.key,h=a.getNodes(),m=h.length,g=a.isBackward(),C=g?s:r,v=g?r:s,S=g?p:d,y=g?d:p;let b=ILe,w=!1;for(let x=0;x<m;x++){const _=h[x],I=_.getTextContentSize();if(Pe(_)&&I!==0&&!(x===0&&_.__key===S&&C===I||x===m-1&&_.__key===y&&v===0)&&(w=!0,b&=_.getFormat(),b===0))break}a.format=w?b:0}}ke(e,vV,void 0)})}function gm(t,e,n){t.format===e&&t.style===n||(t.format=e,t.style=n,t.dirty=!0)}function RV(t,e){gm(t,e.getFormat(),e.getStyle())}function PV(t){if(!t.getTargetRanges)return null;const e=t.getTargetRanges();return e.length===0?null:e[0]}function Of(t,e){const n=t._compositionKey;if(Pn(null),n!==null&&e!=null){if(e===""){const o=An(n),r=ou(t.getElementByKey(n));return void(r!==null&&r.nodeValue!==null&&Pe(o)&&KS(o,r.nodeValue,null,null,!0))}if(e[e.length-1]===`
`){const o=Fe();if(Ae(o)){const r=o.focus;return o.anchor.set(r.key,r.offset,r.type),void ke(t,c2,null)}}}GS(!0,t,e)}function LV(t){let e=t.__lexicalEventHandles;return e===void 0&&(e=[],t.__lexicalEventHandles=e),e}const Ed=new Map;function MV(t){const e=MMe(t.target);if(e===null)return;const n=XV(e.anchorNode);if(n===null)return;G7&&(G7=!1,dr(n,()=>{const l=K1(),c=e.anchorNode;(Do(c)||Ps(c))&&Qo(VS(l,e,n,t))}));const o=qS(n),r=o[o.length-1],i=r._key,s=Ed.get(i),a=s||r;a!==n&&rI(e,a,!1),rI(e,n,!0),n!==r?Ed.set(i,n):s&&Ed.delete(i)}function iI(t){t._lexicalHandled=!0}function sI(t){return t._lexicalHandled===!0}const rMe=()=>{};function iMe(t){const e=t.ownerDocument,n=d2.get(e);if(n===void 0)return void rMe();const o=n-1;o>=0||ye(164),d2.set(e,o),o===0&&e.removeEventListener("selectionchange",MV);const r=q3(t);US(r)?(function(s){if(s._parentEditor!==null){const a=qS(s),l=a[a.length-1]._key;Ed.get(l)===s&&Ed.delete(l)}else Ed.delete(s._key)}(r),t.__lexicalEditor=null):r&&ye(198);const i=LV(t);for(let s=0;s<i.length;s++)i[s]();t.__lexicalEventHandles=[]}function K7(t,e,n){Gn();const o=t.__key,r=t.getParent();if(r===null)return;const i=function(a){const l=Fe();if(!Ae(l)||!me(a))return l;const{anchor:c,focus:d}=l,p=c.getNode(),h=d.getNode();return Q7(p,a)&&c.set(a.__key,0,"element"),Q7(h,a)&&d.set(a.__key,0,"element"),l}(t);let s=!1;if(Ae(i)&&e){const a=i.anchor,l=i.focus;a.key===o&&(p2(a,t,r,t.getPreviousSibling(),t.getNextSibling()),s=!0),l.key===o&&(p2(l,t,r,t.getPreviousSibling(),t.getNextSibling()),s=!0)}else zS(i)&&e&&t.isSelected()&&t.selectPrevious();if(Ae(i)&&e&&!s){const a=t.getIndexWithinParent();kl(t),u2(i,r,a,-1)}else kl(t);n||Za(r)||r.canBeEmpty()||!r.isEmpty()||K7(r,e),e&&i&&Ro(r)&&r.isEmpty()&&r.selectEnd()}class z3{static getType(){ye(64,this.name)}static clone(e){ye(65,this.name)}afterCloneFrom(e){this.__parent=e.__parent,this.__next=e.__next,this.__prev=e.__prev,this.__state=e.__state}constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),TMe(this,e)}getType(){return this.__type}isInline(){ye(137,this.constructor.name)}isAttached(){let e=this.__key;for(;e!==null;){if(e==="root")return!0;const n=An(e);if(n===null)break;e=n.__parent}return!1}isSelected(e){const n=e||Fe();if(n==null)return!1;const o=n.getNodes().some(r=>r.__key===this.__key);if(Pe(this))return o;if(Ae(n)&&n.anchor.type==="element"&&n.focus.type==="element"){if(n.isCollapsed())return!1;const r=this.getParent();if(It(this)&&this.isInline()&&r){const i=n.isBackward()?n.focus:n.anchor;if(r.is(i.getNode())&&i.offset===r.getChildrenSize()&&this.is(r.getLastChild()))return!1}}return o}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();if(e===null)return-1;let n=e.getFirstChild(),o=0;for(;n!==null;){if(this.is(n))return o;o++,n=n.getNextSibling()}return-1}getParent(){const e=this.getLatest().__parent;return e===null?null:An(e)}getParentOrThrow(){const e=this.getParent();return e===null&&ye(66,this.__key),e}getTopLevelElement(){let e=this;for(;e!==null;){const n=e.getParent();if(Za(n))return me(e)||e===this&&It(e)||ye(194),e;e=n}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();return e===null&&ye(67,this.__key),e}getParents(){const e=[];let n=this.getParent();for(;n!==null;)e.push(n),n=n.getParent();return e}getParentKeys(){const e=[];let n=this.getParent();for(;n!==null;)e.push(n.__key),n=n.getParent();return e}getPreviousSibling(){const e=this.getLatest().__prev;return e===null?null:An(e)}getPreviousSiblings(){const e=[],n=this.getParent();if(n===null)return e;let o=n.getFirstChild();for(;o!==null&&!o.is(this);)e.push(o),o=o.getNextSibling();return e}getNextSibling(){const e=this.getLatest().__next;return e===null?null:An(e)}getNextSiblings(){const e=[];let n=this.getNextSibling();for(;n!==null;)e.push(n),n=n.getNextSibling();return e}getCommonAncestor(e){const n=me(this)?this:this.getParent(),o=me(e)?e:e.getParent(),r=n&&o?Cm(n,o):null;return r?r.commonAncestor:null}is(e){return e!=null&&this.__key===e.__key}isBefore(e){const n=Cm(this,e);return n!==null&&(n.type==="descendant"||(n.type==="branch"?dW(n)===-1:(n.type!=="same"&&n.type!=="ancestor"&&ye(279),!1)))}isParentOf(e){const n=Cm(this,e);return n!==null&&n.type==="ancestor"}getNodesBetween(e){const n=this.isBefore(e),o=[],r=new Set;let i=this;for(;i!==null;){const s=i.__key;if(r.has(s)||(r.add(s),o.push(i)),i===e)break;const a=me(i)?n?i.getFirstChild():i.getLastChild():null;if(a!==null){i=a;continue}const l=n?i.getNextSibling():i.getPreviousSibling();if(l!==null){i=l;continue}const c=i.getParentOrThrow();if(r.has(c.__key)||o.push(c),c===e)break;let d=null,p=c;do{if(p===null&&ye(68),d=n?p.getNextSibling():p.getPreviousSibling(),p=p.getParent(),p===null)break;d!==null||r.has(p.__key)||o.push(p)}while(d===null);i=d}return n||o.reverse(),o}isDirty(){const e=Gt()._dirtyLeaves;return e!==null&&e.has(this.__key)}getLatest(){const e=An(this.__key);return e===null&&ye(113),e}getWritable(){Gn();const e=Ka(),n=Gt(),o=e._nodeMap,r=this.__key,i=this.getLatest(),s=n._cloneNotNeeded,a=Fe();if(a!==null&&a.setCachedNodes(null),s.has(r))return f2(i),i;const l=aW(i);return s.add(r),f2(l),o.set(r,l),l}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,n){ye(70)}updateDOM(e,n,o){ye(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){const e=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...e}}static importJSON(e){ye(18,this.name)}updateFromJSON(e){return function(n,o){const r=n.getWritable();return(o||r.__state)&&VLe(n).updateFromJSON(o),r}(this,e.$)}static transform(){return null}remove(e){K7(this,!0,e)}replace(e,n){Gn();let o=Fe();o!==null&&(o=o.clone()),k6(this,e);const r=this.getLatest(),i=this.__key,s=e.__key,a=e.getWritable(),l=this.getParentOrThrow().getWritable(),c=l.__size;kl(a);const d=r.getPreviousSibling(),p=r.getNextSibling(),h=r.__prev,m=r.__next,g=r.__parent;if(K7(r,!1,!0),d===null?l.__first=s:d.getWritable().__next=s,a.__prev=h,p===null?l.__last=s:p.getWritable().__prev=s,a.__next=m,a.__parent=g,l.__size=c,n&&(me(this)&&me(a)||ye(139),this.getChildren().forEach(C=>{a.append(C)})),Ae(o)){Qo(o);const C=o.anchor,v=o.focus;C.key===i&&dI(C,a),v.key===i&&dI(v,a)}return na()===i&&Pn(s),a}insertAfter(e,n=!0){Gn(),k6(this,e);const o=this.getWritable(),r=e.getWritable(),i=r.getParent(),s=Fe();let a=!1,l=!1;if(i!==null){const m=e.getIndexWithinParent();if(kl(r),Ae(s)){const g=i.__key,C=s.anchor,v=s.focus;a=C.type==="element"&&C.key===g&&C.offset===m+1,l=v.type==="element"&&v.key===g&&v.offset===m+1}}const c=this.getNextSibling(),d=this.getParentOrThrow().getWritable(),p=r.__key,h=o.__next;if(c===null?d.__last=p:c.getWritable().__prev=p,d.__size++,o.__next=p,r.__next=h,r.__prev=o.__key,r.__parent=o.__parent,n&&Ae(s)){const m=this.getIndexWithinParent();u2(s,d,m+1);const g=d.__key;a&&s.anchor.set(g,m+2,"element"),l&&s.focus.set(g,m+2,"element")}return e}insertBefore(e,n=!0){Gn(),k6(this,e);const o=this.getWritable(),r=e.getWritable(),i=r.__key;kl(r);const s=this.getPreviousSibling(),a=this.getParentOrThrow().getWritable(),l=o.__prev,c=this.getIndexWithinParent();s===null?a.__first=i:s.getWritable().__next=i,a.__size++,o.__prev=i,r.__prev=l,r.__next=o.__key,r.__parent=o.__parent;const d=Fe();return n&&Ae(d)&&u2(d,this.getParentOrThrow(),c),e}isParentRequired(){return!1}createParentElementNode(){return gi()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,n){Gn();const o=this.getPreviousSibling(),r=this.getParentOrThrow();if(o===null)return r.select(0,0);if(me(o))return o.select();if(!Pe(o)){const i=o.getIndexWithinParent()+1;return r.select(i,i)}return o.select(e,n)}selectNext(e,n){Gn();const o=this.getNextSibling(),r=this.getParentOrThrow();if(o===null)return r.select();if(me(o))return o.select(0,0);if(!Pe(o)){const i=o.getIndexWithinParent();return r.select(i,i)}return o.select(e,n)}markDirty(){this.getWritable()}reconcileObservedMutation(e,n){this.markDirty()}}class q1 extends z3{static getType(){return"linebreak"}static clone(e){return new q1(e.__key)}constructor(e){super(e)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:e=>function(n){const o=n.parentElement;if(o!==null&&OI(o)){const r=o.firstChild;if(r===n||r.nextSibling===n&&Df(r)){const i=o.lastChild;if(i===n||i.previousSibling===n&&Df(i))return!0}}return!1}(e)||function(n){const o=n.parentElement;if(o!==null&&OI(o)){const r=o.firstChild;if(r===n||r.nextSibling===n&&Df(r))return!1;const i=o.lastChild;if(i===n||i.previousSibling===n&&Df(i))return!0}return!1}(e)?null:{conversion:sMe,priority:0}}}static importJSON(e){return Ih().updateFromJSON(e)}}function sMe(t){return{node:Ih()}}function Ih(){return Z3(new q1)}function Gp(t){return t instanceof q1}function Df(t){return Ps(t)&&/^( |\t|\r?\n)+$/.test(t.textContent||"")}function x6(t,e){return 16&e?"code":e&IS?"mark":32&e?"sub":64&e?"sup":null}function A6(t,e){return 1&e?"strong":2&e?"em":"span"}function OV(t,e,n,o,r){const i=o.classList;let s=kd(r,"base");s!==void 0&&i.add(...s),s=kd(r,"underlineStrikethrough");let a=!1;const l=e&i2&&e&r2;s!==void 0&&(n&i2&&n&r2?(a=!0,l||i.add(...s)):l&&i.remove(...s));for(const c in uo){const d=uo[c];if(s=kd(r,c),s!==void 0)if(n&d){if(a&&(c==="underline"||c==="strikethrough")){e&d&&i.remove(...s);continue}e&d&&(!l||c!=="underline")&&c!=="strikethrough"||i.add(...s)}else e&d&&i.remove(...s)}}function DV(t,e,n){const o=e.firstChild,r=n.isComposing(),i=t+(r?N3:"");if(o==null)e.textContent=i;else{const s=o.nodeValue;if(s!==i)if(r||la){const[a,l,c]=function(d,p){const h=d.length,m=p.length;let g=0,C=0;for(;g<h&&g<m&&d[g]===p[g];)g++;for(;C+g<h&&C+g<m&&d[h-C-1]===p[m-C-1];)C++;return[g,h-g-C,p.slice(g,m-C)]}(s,i);l!==0&&o.deleteData(a,l),o.insertData(a,c)}else o.nodeValue=i}}function aI(t,e,n,o,r,i){DV(r,t,e);const s=i.theme.text;s!==void 0&&OV(0,0,o,t,s)}function Ff(t,e){const n=document.createElement(e);return n.appendChild(t),n}class Oc extends z3{static getType(){return"text"}static clone(e){return new Oc(e.__text,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__text=e.__text,this.__format=e.__format,this.__style=e.__style,this.__mode=e.__mode,this.__detail=e.__detail}constructor(e="",n){super(n),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const e=this.getLatest();return OLe[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===na()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){const n=uo[e];return!!(this.getFormat()&n)}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(e,n){return h2(this.getLatest().__format,e,n)}canHaveFormat(){return!0}isInline(){return!0}createDOM(e,n){const o=this.__format,r=x6(0,o),i=A6(0,o),s=r===null?i:r,a=document.createElement(s);let l=a;this.hasFormat("code")&&a.setAttribute("spellcheck","false"),r!==null&&(l=document.createElement(i),a.appendChild(l)),aI(l,this,0,o,this.__text,e);const c=this.__style;return c!==""&&(a.style.cssText=c),a}updateDOM(e,n,o){const r=this.__text,i=e.__format,s=this.__format,a=x6(0,i),l=x6(0,s),c=A6(0,i),d=A6(0,s);if((a===null?c:a)!==(l===null?d:l))return!0;if(a===l&&c!==d){const C=n.firstChild;C==null&&ye(48);const v=document.createElement(d);return aI(v,this,0,s,r,o),n.replaceChild(v,C),!1}let p=n;l!==null&&a!==null&&(p=n.firstChild,p==null&&ye(49)),DV(r,p,this);const h=o.theme.text;h!==void 0&&i!==s&&OV(0,i,s,p,h);const m=e.__style,g=this.__style;return m!==g&&(n.style.cssText=g),!1}static importDOM(){return{"#text":()=>({conversion:dMe,priority:0}),b:()=>({conversion:lMe,priority:0}),code:()=>({conversion:ji,priority:0}),em:()=>({conversion:ji,priority:0}),i:()=>({conversion:ji,priority:0}),mark:()=>({conversion:ji,priority:0}),s:()=>({conversion:ji,priority:0}),span:()=>({conversion:aMe,priority:0}),strong:()=>({conversion:ji,priority:0}),sub:()=>({conversion:ji,priority:0}),sup:()=>({conversion:ji,priority:0}),u:()=>({conversion:ji,priority:0})}}static importJSON(e){return wn().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTextContent(e.text).setFormat(e.format).setDetail(e.detail).setMode(e.mode).setStyle(e.style)}exportDOM(e){let{element:n}=super.exportDOM(e);return Do(n)||ye(132),n.style.whiteSpace="pre-wrap",this.hasFormat("bold")&&(n=Ff(n,"b")),this.hasFormat("italic")&&(n=Ff(n,"i")),this.hasFormat("strikethrough")&&(n=Ff(n,"s")),this.hasFormat("underline")&&(n=Ff(n,"u")),{element:n}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(e,n){}setFormat(e){const n=this.getWritable();return n.__format=typeof e=="string"?uo[e]:e,n}setDetail(e){const n=this.getWritable();return n.__detail=typeof e=="string"?PLe[e]:e,n}setStyle(e){const n=this.getWritable();return n.__style=e,n}toggleFormat(e){const n=h2(this.getFormat(),e,null);return this.setFormat(n)}toggleDirectionless(){const e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){const e=this.getWritable();return e.__detail^=2,e}setMode(e){const n=MLe[e];if(this.__mode===n)return this;const o=this.getWritable();return o.__mode=n,o}setTextContent(e){if(this.__text===e)return this;const n=this.getWritable();return n.__text=e,n}select(e,n){Gn();let o=e,r=n;const i=Fe(),s=this.getTextContent(),a=this.__key;if(typeof s=="string"){const l=s.length;o===void 0&&(o=l),r===void 0&&(r=l)}else o=0,r=0;if(!Ae(i))return HV(a,o,a,r,"text","text");{const l=na();l!==i.anchor.key&&l!==i.focus.key||Pn(a),i.setTextNodeRange(this,o,this,r)}return i}selectStart(){return this.select(0,0)}selectEnd(){const e=this.getTextContentSize();return this.select(e,e)}spliceText(e,n,o,r){const i=this.getWritable(),s=i.__text,a=o.length;let l=e;l<0&&(l=a+l,l<0&&(l=0));const c=Fe();if(r&&Ae(c)){const p=e+a;c.setTextNodeRange(i,p,i,p)}const d=s.slice(0,l)+o+s.slice(l+n);return i.__text=d,i}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){Gn();const n=this.getLatest(),o=n.getTextContent();if(o==="")return[];const r=n.__key,i=na(),s=o.length;e.sort((T,A)=>T-A),e.push(s);const a=[],l=e.length;for(let T=0,A=0;T<s&&A<=l;A++){const k=e[A];k>T&&(a.push(o.slice(T,k)),T=k)}const c=a.length;if(c===1)return[n];const d=a[0],p=n.getParent();let h;const m=n.getFormat(),g=n.getStyle(),C=n.__detail;let v=!1,S=null,y=null;const b=Fe();if(Ae(b)){const[T,A]=b.isBackward()?[b.focus,b.anchor]:[b.anchor,b.focus];T.type==="text"&&T.key===r&&(S=T),A.type==="text"&&A.key===r&&(y=A)}n.isSegmented()?(h=wn(d),h.__format=m,h.__style=g,h.__detail=C,v=!0):(h=n.getWritable(),h.__text=d);const w=[h];for(let T=1;T<c;T++){const A=wn(a[T]);A.__format=m,A.__style=g,A.__detail=C;const k=A.__key;i===r&&Pn(k),w.push(A)}const x=S?S.offset:null,_=y?y.offset:null;let I=0;for(const T of w){if(!S&&!y)break;const A=I+T.getTextContentSize();if(S!==null&&x!==null&&x<=A&&x>=I&&(S.set(T.getKey(),x-I,"text"),x<A&&(S=null)),y!==null&&_!==null&&_<=A&&_>=I){y.set(T.getKey(),_-I,"text");break}I=A}if(p!==null){(function(k){const R=k.getPreviousSibling(),M=k.getNextSibling();R!==null&&f2(R),M!==null&&f2(M)})(this);const T=p.getWritable(),A=this.getIndexWithinParent();v?(T.splice(A,0,w),this.remove()):T.splice(A,1,w),Ae(b)&&u2(b,p,A,c-1)}return w}mergeWithSibling(e){const n=e===this.getPreviousSibling();n||e===this.getNextSibling()||ye(50);const o=this.__key,r=e.__key,i=this.__text,s=i.length;na()===r&&Pn(o);const a=Fe();if(Ae(a)){const p=a.anchor,h=a.focus;p!==null&&p.key===r&&vI(p,n,o,e,s),h!==null&&h.key===r&&vI(h,n,o,e,s)}const l=e.__text,c=n?l+i:i+l;this.setTextContent(c);const d=this.getWritable();return e.remove(),d}isTextEntity(){return!1}}function aMe(t){return{forChild:HS(t.style),node:null}}function lMe(t){const e=t,n=e.style.fontWeight==="normal";return{forChild:HS(e.style,n?void 0:"bold"),node:null}}const lI=new WeakMap;function cMe(t){if(!Do(t))return!1;if(t.nodeName==="PRE")return!0;const e=t.style.whiteSpace;return typeof e=="string"&&e.startsWith("pre")}function dMe(t){const e=t;t.parentElement===null&&ye(129);let n=e.textContent||"";if(function(o){let r,i=o.parentNode;const s=[o];for(;i!==null&&(r=lI.get(i))===void 0&&!cMe(i);)s.push(i),i=i.parentNode;const a=r===void 0?i:r;for(let l=0;l<s.length;l++)lI.set(s[l],a);return a}(e)!==null){const o=n.split(/(\r?\n|\t)/),r=[],i=o.length;for(let s=0;s<i;s++){const a=o[s];a===`
`||a===`\r
`?r.push(Ih()):a==="	"?r.push(BS()):a!==""&&r.push(wn(a))}return{node:r}}if(n=n.replace(/\r/g,"").replace(/[ \t\n]+/g," "),n==="")return{node:null};if(n[0]===" "){let o=e,r=!0;for(;o!==null&&(o=cI(o,!1))!==null;){const i=o.textContent||"";if(i.length>0){/[ \t\n]$/.test(i)&&(n=n.slice(1)),r=!1;break}}r&&(n=n.slice(1))}if(n[n.length-1]===" "){let o=e,r=!0;for(;o!==null&&(o=cI(o,!0))!==null;)if((o.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){r=!1;break}r&&(n=n.slice(0,n.length-1))}return n===""?{node:null}:{node:wn(n)}}function cI(t,e){let n=t;for(;;){let o;for(;(o=e?n.nextSibling:n.previousSibling)===null;){const i=n.parentElement;if(i===null)return null;n=i}if(n=o,Do(n)){const i=n.style.display;if(i===""&&!OMe(n)||i!==""&&!i.startsWith("inline"))return null}let r=n;for(;(r=e?n.firstChild:n.lastChild)!==null;)n=r;if(Ps(n))return n;if(n.nodeName==="BR")return null}}const uMe={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function ji(t){const e=uMe[t.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:HS(t.style,e),node:null}}function wn(t=""){return Z3(new Oc(t))}function Pe(t){return t instanceof Oc}function HS(t,e){const n=t.fontWeight,o=t.textDecoration.split(" "),r=n==="700"||n==="bold",i=o.includes("line-through"),s=t.fontStyle==="italic",a=o.includes("underline"),l=t.verticalAlign;return c=>(Pe(c)&&(r&&!c.hasFormat("bold")&&c.toggleFormat("bold"),i&&!c.hasFormat("strikethrough")&&c.toggleFormat("strikethrough"),s&&!c.hasFormat("italic")&&c.toggleFormat("italic"),a&&!c.hasFormat("underline")&&c.toggleFormat("underline"),l!=="sub"||c.hasFormat("subscript")||c.toggleFormat("subscript"),l!=="super"||c.hasFormat("superscript")||c.toggleFormat("superscript"),e&&!c.hasFormat(e)&&c.toggleFormat(e)),c)}class G1 extends Oc{static getType(){return"tab"}static clone(e){return new G1(e.__key)}constructor(e){super("	",e),this.__detail=2}static importDOM(){return null}createDOM(e){const n=super.createDOM(e),o=kd(e.theme,"tab");return o!==void 0&&n.classList.add(...o),n}static importJSON(e){return BS().updateFromJSON(e)}setTextContent(e){return e!=="	"&&e!==""&&ye(126),super.setTextContent(e)}setDetail(e){return e!==2&&ye(127),this}setMode(e){return e!=="normal"&&ye(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function BS(){return Z3(new G1)}function pMe(t){return t instanceof G1}class hMe{constructor(e,n,o){this._selection=null,this.key=e,this.offset=n,this.type=o}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){return this.key===e.key?this.offset<e.offset:cW(ui(xa(this,"next")),ui(xa(e,"next")))<0}getNode(){const e=An(this.key);return e===null&&ye(20),e}set(e,n,o,r){const i=this._selection,s=this.key;r&&this.key===e&&this.offset===n&&this.type===o||(this.key=e,this.offset=n,this.type=o,Z1()||(na()===s&&Pn(e),i!==null&&(i.setCachedNodes(null),i.dirty=!0)))}}function _i(t,e,n){return new hMe(t,e,n)}function T6(t,e){let n=e.__key,o=t.offset,r="element";if(Pe(e)){r="text";const i=e.getTextContentSize();o>i&&(o=i)}else if(!me(e)){const i=e.getNextSibling();if(Pe(i))n=i.__key,o=0,r="text";else{const s=e.getParent();s&&(n=s.__key,o=e.getIndexWithinParent()+1)}}t.set(n,o,r)}function dI(t,e){if(me(e)){const n=e.getLastDescendant();me(n)||Pe(n)?T6(t,n):T6(t,e)}else T6(t,e)}class V3{constructor(e){this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!zS(e))return!1;const n=this._nodes,o=e._nodes;return n.size===o.size&&Array.from(n).every(r=>o.has(r))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new V3(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const n=this.getNodes(),o=n.length,r=n[o-1];let i;if(Pe(r))i=r.select();else{const s=r.getIndexWithinParent()+1;i=r.getParentOrThrow().select(s,s)}i.insertNodes(e);for(let s=0;s<o;s++)n[s].remove()}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const n=this._nodes,o=[];for(const r of n){const i=An(r);i!==null&&o.push(i)}return Z1()||(this._cachedNodes=o),o}getTextContent(){const e=this.getNodes();let n="";for(let o=0;o<e.length;o++)n+=e[o].getTextContent();return n}deleteNodes(){const e=this.getNodes();if((Fe()||K1())===this&&e[0]){const n=eo(e[0],"next");qMe(Jl(n,n))}for(const n of e)n.remove()}}function Ae(t){return t instanceof Dc}class Dc{constructor(e,n,o,r){this.anchor=e,this.focus=n,e._selection=this,n._selection=this,this._cachedNodes=null,this.format=o,this.style=r,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!Ae(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const n=function(o){const r=[],[i,s]=o.getTextSlices();i&&r.push(i.caret.origin);const a=new Set,l=new Set;for(const c of o)if(vi(c)){const{origin:d}=c;r.length===0?a.add(d):(l.add(d),r.push(d))}else{const{origin:d}=c;me(d)&&l.has(d)||r.push(d)}if(s&&r.push(s.caret.origin),iu(o.focus)&&me(o.focus.origin)&&o.focus.getNodeAtCaret()===null)for(let c=_a(o.focus.origin,"previous");vi(c)&&a.has(c.origin)&&!c.origin.isEmpty()&&c.origin.is(r[r.length-1]);c=JS(c))a.delete(c.origin),r.pop();for(;r.length>1;){const c=r[r.length-1];if(!me(c)||l.has(c)||c.isEmpty()||a.has(c))break;r.pop()}if(r.length===0&&o.isCollapsed()){const c=ui(o.anchor),d=ui(o.anchor.getFlipped()),p=m=>Rl(m)?m.origin:m.getNodeAtCaret(),h=p(c)||p(d)||(o.anchor.getNodeAtCaret()?c.origin:d.origin);r.push(h)}return r}(pW(BI(this),"next"));return Z1()||(this._cachedNodes=n),n}setTextNodeRange(e,n,o,r){this.anchor.set(e.__key,n,"text"),this.focus.set(o.__key,r,"text")}getTextContent(){const e=this.getNodes();if(e.length===0)return"";const n=e[0],o=e[e.length-1],r=this.anchor,i=this.focus,s=r.isBefore(i),[a,l]=Z7(this);let c="",d=!0;for(let p=0;p<e.length;p++){const h=e[p];if(me(h)&&!h.isInline())d||(c+=`
`),d=!h.isEmpty();else if(d=!1,Pe(h)){let m=h.getTextContent();h===n?h===o?r.type==="element"&&i.type==="element"&&i.offset!==r.offset||(m=a<l?m.slice(a,l):m.slice(l,a)):m=s?m.slice(a):m.slice(l):h===o&&(m=s?m.slice(0,l):m.slice(0,a)),c+=m}else!It(h)&&!Gp(h)||h===o&&this.isCollapsed()||(c+=h.getTextContent())}return c}applyDOMRange(e){const n=Gt(),o=n.getEditorState()._selection,r=NV(e.startContainer,e.startOffset,e.endContainer,e.endOffset,n,o);if(r===null)return;const[i,s]=r;this.anchor.set(i.key,i.offset,i.type,!0),this.focus.set(s.key,s.offset,s.type,!0),M7(this)}clone(){const e=this.anchor,n=this.focus;return new Dc(_i(e.key,e.offset,e.type),_i(n.key,n.offset,n.type),this.format,this.style)}toggleFormat(e){this.format=h2(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){const n=uo[e];return!!(this.format&n)}insertRawText(e){const n=e.split(/(\r?\n|\t)/),o=[],r=n.length;for(let i=0;i<r;i++){const s=n[i];s===`
`||s===`\r
`?o.push(Ih()):s==="	"?o.push(BS()):o.push(wn(s))}this.insertNodes(o)}insertText(e){const n=this.anchor,o=this.focus,r=this.format,i=this.style;let s=n,a=o;!this.isCollapsed()&&o.isBefore(n)&&(s=o,a=n),s.type==="element"&&function(v,S,y,b){const w=v.getNode(),x=w.getChildAtIndex(v.offset),_=wn(),I=Ro(w)?gi().append(_):_;_.setFormat(y),_.setStyle(b),x===null?w.append(I):x.insertBefore(I),v.is(S)&&S.set(_.__key,0,"text"),v.set(_.__key,0,"text")}(s,a,r,i),a.type==="element"&&kh(a,ui(xa(a,"next")));const l=s.offset;let c=a.offset;const d=this.getNodes(),p=d.length;let h=d[0];Pe(h)||ye(26);const m=h.getTextContent().length,g=h.getParentOrThrow();let C=d[p-1];if(p===1&&a.type==="element"&&(c=m,a.set(s.key,c,"text")),this.isCollapsed()&&l===m&&(h.isSegmented()||h.isToken()||!h.canInsertTextAfter()||!g.canInsertTextAfter()&&h.getNextSibling()===null)){let v=h.getNextSibling();if(Pe(v)&&v.canInsertTextBefore()&&!nd(v)||(v=wn(),v.setFormat(r),v.setStyle(i),g.canInsertTextAfter()?h.insertAfter(v):g.insertAfter(v)),v.select(0,0),h=v,e!=="")return void this.insertText(e)}else if(this.isCollapsed()&&l===0&&(h.isSegmented()||h.isToken()||!h.canInsertTextBefore()||!g.canInsertTextBefore()&&h.getPreviousSibling()===null)){let v=h.getPreviousSibling();if(Pe(v)&&!nd(v)||(v=wn(),v.setFormat(r),g.canInsertTextBefore()?h.insertBefore(v):g.insertBefore(v)),v.select(),h=v,e!=="")return void this.insertText(e)}else if(h.isSegmented()&&l!==m){const v=wn(h.getTextContent());v.setFormat(r),h.replace(v),h=v}else if(!this.isCollapsed()&&e!==""){const v=C.getParent();if(!g.canInsertTextBefore()||!g.canInsertTextAfter()||me(v)&&(!v.canInsertTextBefore()||!v.canInsertTextAfter()))return this.insertText(""),FV(this.anchor,this.focus,null),void this.insertText(e)}if(p===1){if(h.isToken()){const b=wn(e);return b.select(),void h.replace(b)}const v=h.getFormat(),S=h.getStyle();if(l!==c||v===r&&S===i){if(pMe(h)){const b=wn(e);return b.setFormat(r),b.setStyle(i),b.select(),void h.replace(b)}}else{if(h.getTextContent()!==""){const b=wn(e);if(b.setFormat(r),b.setStyle(i),b.select(),l===0)h.insertBefore(b,!1);else{const[w]=h.splitText(l);w.insertAfter(b,!1)}return void(b.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length))}h.setFormat(r),h.setStyle(i)}const y=c-l;h=h.spliceText(l,y,e,!0),h.getTextContent()===""?h.remove():this.anchor.type==="text"&&(h.isComposing()?this.anchor.offset-=e.length:(this.format=v,this.style=S))}else{const v=new Set([...h.getParentKeys(),...C.getParentKeys()]),S=me(h)?h:h.getParentOrThrow();let y=me(C)?C:C.getParentOrThrow(),b=C;if(!S.is(y)&&y.isInline())do b=y,y=y.getParentOrThrow();while(y.isInline());if(a.type==="text"&&(c!==0||C.getTextContent()==="")||a.type==="element"&&C.getIndexWithinParent()<c)if(Pe(C)&&!C.isToken()&&c!==C.getTextContentSize()){if(C.isSegmented()){const T=wn(C.getTextContent());C.replace(T),C=T}Ro(a.getNode())||a.type!=="text"||(C=C.spliceText(0,c,"")),v.add(C.__key)}else{const T=C.getParentOrThrow();T.canBeEmpty()||T.getChildrenSize()!==1?C.remove():T.remove()}else v.add(C.__key);const w=y.getChildren(),x=new Set(d),_=S.is(y),I=S.isInline()&&h.getNextSibling()===null?S:h;for(let T=w.length-1;T>=0;T--){const A=w[T];if(A.is(h)||me(A)&&A.isParentOf(h))break;A.isAttached()&&(!x.has(A)||A.is(b)?_||I.insertAfter(A,!1):A.remove())}if(!_){let T=y,A=null;for(;T!==null;){const k=T.getChildren(),R=k.length;(R===0||k[R-1].is(A))&&(v.delete(T.__key),A=T),T=T.getParent()}}if(h.isToken())if(l===m)h.select();else{const T=wn(e);T.select(),h.replace(T)}else h=h.spliceText(l,m-l,e,!0),h.getTextContent()===""?h.remove():h.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length);for(let T=1;T<p;T++){const A=d[T],k=A.__key;v.has(k)||A.remove()}}}removeText(){const e=Fe()===this;ym(this,GMe(BI(this))),e&&Fe()!==this&&Qo(this)}formatText(e,n=null){if(this.isCollapsed())return this.toggleFormat(e),void Pn(null);const o=this.getNodes(),r=[];for(const w of o)Pe(w)&&r.push(w);const i=w=>{o.forEach(x=>{if(me(x)){const _=x.getFormatFlags(e,w);x.setTextFormat(_)}})},s=r.length;if(s===0)return this.toggleFormat(e),Pn(null),void i(n);const a=this.anchor,l=this.focus,c=this.isBackward(),d=c?l:a,p=c?a:l;let h=0,m=r[0],g=d.type==="element"?0:d.offset;if(d.type==="text"&&g===m.getTextContentSize()&&(h=1,m=r[1],g=0),m==null)return;const C=m.getFormatFlags(e,n);i(C);const v=s-1;let S=r[v];const y=p.type==="text"?p.offset:S.getTextContentSize();if(m.is(S)){if(g===y)return;if(nd(m)||g===0&&y===m.getTextContentSize())m.setFormat(C);else{const w=m.splitText(g,y),x=g===0?w[0]:w[1];x.setFormat(C),d.type==="text"&&d.set(x.__key,0,"text"),p.type==="text"&&p.set(x.__key,y-g,"text")}return void(this.format=C)}g===0||nd(m)||([,m]=m.splitText(g),g=0),m.setFormat(C);const b=S.getFormatFlags(e,C);y>0&&(y===S.getTextContentSize()||nd(S)||([S]=S.splitText(y)),S.setFormat(b));for(let w=h+1;w<v;w++){const x=r[w],_=x.getFormatFlags(e,b);x.setFormat(_)}d.type==="text"&&d.set(m.__key,g,"text"),p.type==="text"&&p.set(S.__key,y,"text"),this.format=C|b}insertNodes(e){if(e.length===0)return;if(this.isCollapsed()||this.removeText(),this.anchor.key==="root"){this.insertParagraph();const g=Fe();return Ae(g)||ye(134),g.insertNodes(e)}const n=(this.isBackward()?this.focus:this.anchor).getNode(),o=P6(n,qs),r=e[e.length-1];if(me(o)&&"__language"in o){if("__language"in e[0])this.insertText(e[0].getTextContent());else{const g=I6(this);o.splice(g,0,e),r.selectEnd()}return}if(!e.some(g=>(me(g)||It(g))&&!g.isInline())){me(o)||ye(211,n.constructor.name,n.getType());const g=I6(this);return o.splice(g,0,e),void r.selectEnd()}const i=function(g){const C=gi();let v=null;for(let S=0;S<g.length;S++){const y=g[S],b=Gp(y);if(b||It(y)&&y.isInline()||me(y)&&y.isInline()||Pe(y)||y.isParentRequired()){if(v===null&&(v=y.createParentElementNode(),C.append(v),b))continue;v!==null&&v.append(y)}else C.append(y),v=null}return C}(e),s=i.getLastDescendant(),a=i.getChildren(),l=!me(o)||!o.isEmpty()?this.insertParagraph():null,c=a[a.length-1];let d=a[0];var p;me(p=d)&&qs(p)&&!p.isEmpty()&&me(o)&&(!o.isEmpty()||o.canMergeWhenEmpty())&&(me(o)||ye(211,n.constructor.name,n.getType()),o.append(...d.getChildren()),d=a[1]),d&&(o===null&&ye(212,n.constructor.name,n.getType()),function(g,C,v){const S=C.getParentOrThrow().getLastChild();let y=C;const b=[C];for(;y!==S;)y.getNextSibling()||ye(140),y=y.getNextSibling(),b.push(y);let w=g;for(const x of b)w=w.insertAfter(x)}(o,d));const h=P6(s,qs);l&&me(h)&&(l.canMergeWhenEmpty()||qs(c))&&(h.append(...l.getChildren()),l.remove()),me(o)&&o.isEmpty()&&o.remove(),s.selectEnd();const m=me(o)?o.getLastChild():null;Gp(m)&&h!==o&&m.remove()}insertParagraph(){if(this.anchor.key==="root"){const s=gi();return Bt().splice(this.anchor.offset,0,[s]),s.select(),s}const e=I6(this),n=P6(this.anchor.getNode(),qs);me(n)||ye(213);const o=n.getChildAtIndex(e),r=o?[o,...o.getNextSiblings()]:[],i=n.insertNewAfter(this,!1);return i?(i.append(...r),i.selectStart(),i):null}insertLineBreak(e){const n=Ih();if(this.insertNodes([n]),e){const o=n.getParentOrThrow(),r=n.getIndexWithinParent();o.select(r,r)}}extract(){const e=this.getNodes(),n=e.length,o=n-1,r=this.anchor,i=this.focus;let s=e[0],a=e[o];const[l,c]=Z7(this);if(n===0)return[];if(n===1){if(Pe(s)&&!this.isCollapsed()){const p=l>c?c:l,h=l>c?l:c,m=s.splitText(p,h),g=p===0?m[0]:m[1];return g!=null?[g]:[]}return[s]}const d=r.isBefore(i);if(Pe(s)){const p=d?l:c;p===s.getTextContentSize()?e.shift():p!==0&&([,s]=s.splitText(p),e[0]=s)}if(Pe(a)){const p=a.getTextContent().length,h=d?c:l;h===0?e.pop():h!==p&&([a]=a.splitText(h),e[o]=a)}return e}modify(e,n,o){if(CI(this,e,n,o))return;const r=e==="move",i=Gt(),s=gs(gr(i));if(!s)return;const a=i._blockCursorElement,l=i._rootElement,c=this.focus.getNode();if(l===null||a===null||!me(c)||c.isInline()||c.canBeEmpty()||Y7(a,i,l),this.dirty){let d=ru(i,this.anchor.key),p=ru(i,this.focus.key);this.anchor.type==="text"&&(d=ou(d)),this.focus.type==="text"&&(p=ou(p)),d&&p&&VV(s,d,this.anchor.offset,p,this.focus.offset)}if(function(d,p,h,m){d.modify(p,h,m)}(s,e,n?"backward":"forward",o),s.rangeCount>0){const d=s.getRangeAt(0),p=this.anchor.getNode(),h=Ro(p)?p:PMe(p);if(this.applyDOMRange(d),this.dirty=!0,!r){const m=this.getNodes(),g=[];let C=!1;for(let v=0;v<m.length;v++){const S=m[v];Q7(S,h)?g.push(S):C=!0}if(C&&g.length>0)if(n){const v=g[0];me(v)?v.selectStart():v.getParentOrThrow().selectStart()}else{const v=g[g.length-1];me(v)?v.selectEnd():v.getParentOrThrow().selectEnd()}s.anchorNode===d.startContainer&&s.anchorOffset===d.startOffset||function(v){const S=v.focus,y=v.anchor,b=y.key,w=y.offset,x=y.type;y.set(S.key,S.offset,S.type,!0),S.set(b,w,x,!0)}(this)}}o==="lineboundary"&&CI(this,e,n,o,"decorators")}forwardDeletion(e,n,o){if(!o&&(e.type==="element"&&me(n)&&e.offset===n.getChildrenSize()||e.type==="text"&&e.offset===n.getTextContentSize())){const r=n.getParent(),i=n.getNextSibling()||(r===null?null:r.getNextSibling());if(me(i)&&i.isShadowRoot())return!0}return!1}deleteCharacter(e){const n=this.isCollapsed();if(this.isCollapsed()){const o=this.anchor;let r=o.getNode();if(this.forwardDeletion(o,r,e))return;const i=tb(xa(o,e?"previous":"next"));if(i.getTextSlices().every(a=>a===null||a.distance===0)){let a={type:"initial"};for(const l of i.iterNodeCarets("shadowRoot"))if(vi(l)){if(!l.origin.isInline()){if(l.origin.isShadowRoot()){if(a.type==="merge-block")break;if(me(i.anchor.origin)&&i.anchor.origin.isEmpty()){const c=ui(l);ym(this,Jl(c,c)),i.anchor.origin.remove()}return}a.type!=="merge-next-block"&&a.type!=="merge-block"||(a={block:a.block,caret:l,type:"merge-block"})}}else{if(a.type==="merge-block")break;if(iu(l)){if(me(l.origin)){if(l.origin.isInline()){if(!l.origin.isParentOf(i.anchor.origin))break}else a={block:l.origin,type:"merge-next-block"};continue}if(It(l.origin)){if(!l.origin.isIsolated())if(a.type==="merge-next-block"&&(l.origin.isKeyboardSelectable()||!l.origin.isInline())&&me(i.anchor.origin)&&i.anchor.origin.isEmpty()){i.anchor.origin.remove();const c=zV();c.add(l.origin.getKey()),Qo(c)}else l.origin.remove();return}break}}if(a.type==="merge-block"){const{caret:l,block:c}=a;return ym(this,Jl(!l.origin.isEmpty()&&c.isEmpty()?nb(eo(c,l.direction)):i.anchor,l)),this.removeText()}}const s=this.focus;if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&o.offset===0&&pI(this,o.getNode()))return}else{const a=s.type==="text"?s.getNode():null;if(r=o.type==="text"?o.getNode():null,a!==null&&a.isSegmented()){const l=s.offset,c=a.getTextContentSize();if(a.is(r)||e&&l!==c||!e&&l!==0)return void hI(a,e,l)}else if(r!==null&&r.isSegmented()){const l=o.offset,c=r.getTextContentSize();if(r.is(a)||e&&l!==0||!e&&l!==c)return void hI(r,e,l)}(function(l,c){const d=l.anchor,p=l.focus,h=d.getNode(),m=p.getNode();if(h===m&&d.type==="text"&&p.type==="text"){const g=d.offset,C=p.offset,v=g<C,S=v?g:C,y=v?C:g,b=y-1;S!==b&&function(w){return!(nW(w)||fMe(w))}(h.getTextContent().slice(S,y))&&(c?p.set(p.key,b,p.type):d.set(d.key,b,d.type))}})(this,e)}}if(this.removeText(),e&&!n&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){const o=this.anchor.getNode();o.isEmpty()&&Ro(o.getParent())&&o.getPreviousSibling()===null&&pI(this,o)}}deleteLine(e){this.isCollapsed()&&this.modify("extend",e,"lineboundary"),this.isCollapsed()?this.deleteCharacter(e):this.removeText()}deleteWord(e){if(this.isCollapsed()){const n=this.anchor,o=n.getNode();if(this.forwardDeletion(n,o,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function zS(t){return t instanceof V3}function uI(t){const e=t.offset;if(t.type==="text")return e;const n=t.getNode();return e===n.getChildrenSize()?n.getTextContent().length:0}function Z7(t){const e=t.getStartEndPoints();if(e===null)return[0,0];const[n,o]=e;return n.type==="element"&&o.type==="element"&&n.key===o.key&&n.offset===o.offset?[0,0]:[uI(n),uI(o)]}function pI(t,e){for(let n=e;n;n=n.getParent()){if(me(n)){if(n.collapseAtStart(t))return!0;if(Za(n))break}if(n.getPreviousSibling())break}return!1}const fMe=(()=>{try{const t=new RegExp("\\p{Emoji}","u"),e=t.test.bind(t);if(e("â¤ï¸")&&e("#ï¸âƒ£")&&e("ðŸ‘"))return e}catch{}return()=>!1})();function hI(t,e,n){const o=t,r=o.getTextContent().split(/(?=\s)/g),i=r.length;let s=0,a=0;for(let c=0;c<i;c++){const d=c===i-1;if(a=s,s+=r[c].length,e&&s===n||s>n||d){r.splice(c,1),d&&(a=void 0);break}}const l=r.join("").trim();l===""?o.remove():(o.setTextContent(l),o.select(a,a))}function fI(t,e,n,o){let r,i=e;if(Do(t)){let s=!1;const a=t.childNodes,l=a.length,c=o._blockCursorElement;i===l&&(s=!0,i=l-1);let d=a[i],p=!1;if(d===c)d=a[i+1],p=!0;else if(c!==null){const h=c.parentNode;t===h&&e>Array.prototype.indexOf.call(h.children,c)&&i--}if(r=hd(d),Pe(r))i=EI(r,s);else{let h=hd(t);if(h===null)return null;if(me(h)){const m=o.getElementByKey(h.getKey());m===null&&ye(214),[h,i]=h.getDOMSlot(m).resolveChildIndex(h,m,t,e),me(h)||ye(215),s&&i>=h.getChildrenSize()&&(i=Math.max(0,h.getChildrenSize()-1));let C=h.getChildAtIndex(i);if(me(C)&&function(v,S,y){const b=v.getParent();return y===null||b===null||!b.canBeEmpty()||b!==y.getNode()}(C,0,n)){const v=s?C.getLastDescendant():C.getFirstDescendant();v===null?h=C:(C=v,h=me(C)?C:C.getParentOrThrow()),i=0}Pe(C)?(r=C,h=null,i=EI(C,s)):C!==h&&s&&!p&&(me(h)||ye(216),i=Math.min(h.getChildrenSize(),i+1))}else{const m=h.getIndexWithinParent();i=e===0&&It(h)&&hd(t)===h?m:m+1,h=h.getParentOrThrow()}if(me(h))return _i(h.__key,i,"element")}}else r=hd(t);return Pe(r)?_i(r.__key,i,"text"):null}function mI(t,e,n){const o=t.offset,r=t.getNode();if(o===0){const i=r.getPreviousSibling(),s=r.getParent();if(e){if((n||!e)&&i===null&&me(s)&&s.isInline()){const a=s.getPreviousSibling();Pe(a)&&t.set(a.__key,a.getTextContent().length,"text")}}else me(i)&&!n&&i.isInline()?t.set(i.__key,i.getChildrenSize(),"element"):Pe(i)&&t.set(i.__key,i.getTextContent().length,"text")}else if(o===r.getTextContent().length){const i=r.getNextSibling(),s=r.getParent();if(e&&me(i)&&i.isInline())t.set(i.__key,0,"element");else if((n||e)&&i===null&&me(s)&&s.isInline()&&!s.canInsertTextAfter()){const a=s.getNextSibling();Pe(a)&&t.set(a.__key,0,"text")}}}function FV(t,e,n){if(t.type==="text"&&e.type==="text"){const o=t.isBefore(e),r=t.is(e);mI(t,o,r),mI(e,!o,r),r&&e.set(t.key,t.offset,t.type);const i=Gt();if(i.isComposing()&&i._compositionKey!==t.key&&Ae(n)){const s=n.anchor,a=n.focus;t.set(s.key,s.offset,s.type,!0),e.set(a.key,a.offset,a.type,!0)}}}function NV(t,e,n,o,r,i){if(t===null||n===null||!$3(r,t,n))return null;const s=fI(t,e,Ae(i)?i.anchor:null,r);if(s===null)return null;const a=fI(n,o,Ae(i)?i.focus:null,r);if(a===null)return null;if(s.type==="element"&&a.type==="element"){const l=hd(t),c=hd(n);if(It(l)&&It(c))return null}return FV(s,a,i),[s,a]}function HV(t,e,n,o,r,i){const s=Ka(),a=new Dc(_i(t,e,r),_i(n,o,i),0,"");return a.dirty=!0,s._selection=a,a}function BV(){const t=_i("root",0,"element"),e=_i("root",0,"element");return new Dc(t,e,0,"")}function zV(){return new V3(new Set)}function VS(t,e,n,o){const r=n._window;if(r===null)return null;const i=o||r.event,s=i?i.type:void 0,a=s==="selectionchange",l=!L7&&(a||s==="beforeinput"||s==="compositionstart"||s==="compositionend"||s==="click"&&i&&i.detail===3||s==="drop"||s===void 0);let c,d,p,h;if(Ae(t)&&!l)return t.clone();if(e===null)return null;if(c=e.anchorNode,d=e.focusNode,p=e.anchorOffset,h=e.focusOffset,a&&Ae(t)&&!$3(n,c,d))return t.clone();const m=NV(c,p,d,h,n,t);if(m===null)return null;const[g,C]=m;return new Dc(g,C,Ae(t)?t.format:0,Ae(t)?t.style:"")}function Fe(){return Ka()._selection}function K1(){return Gt()._editorState._selection}function u2(t,e,n,o=1){const r=t.anchor,i=t.focus,s=r.getNode(),a=i.getNode();if(!e.is(s)&&!e.is(a))return;const l=e.__key;if(t.isCollapsed()){const c=r.offset;if(n<=c&&o>0||n<c&&o<0){const d=Math.max(0,c+o);r.set(l,d,"element"),i.set(l,d,"element"),gI(t)}}else{const c=t.isBackward(),d=c?i:r,p=d.getNode(),h=c?r:i,m=h.getNode();if(e.is(p)){const g=d.offset;(n<=g&&o>0||n<g&&o<0)&&d.set(l,Math.max(0,g+o),"element")}if(e.is(m)){const g=h.offset;(n<=g&&o>0||n<g&&o<0)&&h.set(l,Math.max(0,g+o),"element")}}gI(t)}function gI(t){const e=t.anchor,n=e.offset,o=t.focus,r=o.offset,i=e.getNode(),s=o.getNode();if(t.isCollapsed()){if(!me(i))return;const a=i.getChildrenSize(),l=n>=a,c=l?i.getChildAtIndex(a-1):i.getChildAtIndex(n);if(Pe(c)){let d=0;l&&(d=c.getTextContentSize()),e.set(c.__key,d,"text"),o.set(c.__key,d,"text")}}else{if(me(i)){const a=i.getChildrenSize(),l=n>=a,c=l?i.getChildAtIndex(a-1):i.getChildAtIndex(n);if(Pe(c)){let d=0;l&&(d=c.getTextContentSize()),e.set(c.__key,d,"text")}}if(me(s)){const a=s.getChildrenSize(),l=r>=a,c=l?s.getChildAtIndex(a-1):s.getChildAtIndex(r);if(Pe(c)){let d=0;l&&(d=c.getTextContentSize()),o.set(c.__key,d,"text")}}}}function p2(t,e,n,o,r){let i=null,s=0,a=null;o!==null?(i=o.__key,Pe(o)?(s=o.getTextContentSize(),a="text"):me(o)&&(s=o.getChildrenSize(),a="element")):r!==null&&(i=r.__key,Pe(r)?a="text":me(r)&&(a="element")),i!==null&&a!==null?t.set(i,s,a):(s=e.getIndexWithinParent(),s===-1&&(s=n.getChildrenSize()),t.set(n.__key,s,"element"))}function vI(t,e,n,o,r){t.type==="text"?t.set(n,t.offset+(e?0:r),"text"):t.offset>o.getIndexWithinParent()&&t.set(t.key,t.offset-1,"element")}function VV(t,e,n,o,r){try{t.setBaseAndExtent(e,n,o,r)}catch{}}function mMe(t,e,n,o,r,i,s){const a=o.anchorNode,l=o.focusNode,c=o.anchorOffset,d=o.focusOffset,p=document.activeElement;if(r.has("collaboration")&&p!==i||p!==null&&YV(p))return;if(!Ae(e))return void(t!==null&&$3(n,a,l)&&o.removeAllRanges());const h=e.anchor,m=e.focus,g=h.key,C=m.key,v=ru(n,g),S=ru(n,C),y=h.offset,b=m.offset,w=e.format,x=e.style,_=e.isCollapsed();let I=v,T=S,A=!1;if(h.type==="text"){I=ou(v);const z=h.getNode();A=z.getFormat()!==w||z.getStyle()!==x}else Ae(t)&&t.anchor.type==="text"&&(A=!0);var k,R,M,D,F;if(m.type==="text"&&(T=ou(S)),I!==null&&T!==null&&(_&&(t===null||A||Ae(t)&&(t.format!==w||t.style!==x))&&(k=w,R=x,M=y,D=g,F=performance.now(),EV=[k,R,M,D,F]),c!==y||d!==b||a!==I||l!==T||o.type==="Range"&&_||(p!==null&&i.contains(p)||i.focus({preventScroll:!0}),h.type==="element"))){if(VV(o,I,y,T,b),!r.has("skip-scroll-into-view")&&e.isCollapsed()&&i!==null&&i===document.activeElement){const z=Ae(e)&&e.anchor.type==="element"?I.childNodes[y]||null:o.rangeCount>0?o.getRangeAt(0):null;if(z!==null){let j;if(z instanceof Text){const H=document.createRange();H.selectNode(z),j=H.getBoundingClientRect()}else j=z.getBoundingClientRect();(function(H,O,U){const N=sW(U),W=QS(N);if(N===null||W===null)return;let{top:B,bottom:$}=O,q=0,X=0,ee=U;for(;ee!==null;){const ue=ee===N.body;if(ue)q=0,X=gr(H).innerHeight;else{const ie=ee.getBoundingClientRect();q=ie.top,X=ie.bottom}let se=0;if(B<q?se=-(q-B):$>X&&(se=$-X),se!==0)if(ue)W.scrollBy(0,se);else{const ie=ee.scrollTop;ee.scrollTop+=se;const J=ee.scrollTop-ie;B-=J,$-=J}if(ue)break;ee=X1(ee)}})(n,j,i)}}q7=!0}}function I6(t){let e=t;t.isCollapsed()||e.removeText();const n=Fe();Ae(n)&&(e=n),Ae(e)||ye(161);const o=e.anchor;let r=o.getNode(),i=o.offset;for(;!qs(r);){const s=r;if([r,i]=gMe(r,i),s.is(r))break}return i}function gMe(t,e){const n=t.getParent();if(!n){const r=gi();return Bt().append(r),r.select(),[Bt(),0]}if(Pe(t)){const r=t.splitText(e);if(r.length===0)return[n,t.getIndexWithinParent()];const i=e===0?0:1;return[n,r[0].getIndexWithinParent()+i]}if(!me(t)||e===0)return[n,t.getIndexWithinParent()];const o=t.getChildAtIndex(e);if(o){const r=new Dc(_i(t.__key,e,"element"),_i(t.__key,e,"element"),0,""),i=t.insertNewAfter(r);i&&i.append(o,...o.getNextSiblings())}return[n,t.getIndexWithinParent()+1]}function CI(t,e,n,o,r="decorators-and-blocks"){if(e==="move"&&o==="character"&&!t.isCollapsed()){const[d,p]=n===t.isBackward()?[t.focus,t.anchor]:[t.anchor,t.focus];return p.set(d.key,d.offset,d.type),!0}const i=xa(t.focus,n?"previous":"next"),s=o==="lineboundary",a=e==="move";let l=i,c=r==="decorators-and-blocks";if(!uW(l)){for(const d of l){c=!1;const{origin:p}=d;if(!It(p)||p.isIsolated()||(l=d,!s||!p.isInline()))break}if(c)for(const d of tb(i).iterNodeCarets(e==="extend"?"shadowRoot":"root")){if(vi(d))d.origin.isInline()||(l=d);else{if(me(d.origin))continue;It(d.origin)&&!d.origin.isInline()&&(l=d)}break}}if(l===i)return!1;if(a&&!s&&It(l.origin)&&l.origin.isKeyboardSelectable()){const d=zV();return d.add(l.origin.getKey()),Qo(d),!0}return l=ui(l),a&&kh(t.anchor,l),kh(t.focus,l),c||!s}let xn=null,cn=null,Lo=!1,E6=!1,vm=0;const yI={characterData:!0,childList:!0,subtree:!0};function Z1(){return Lo||xn!==null&&xn._readOnly}function Gn(){Lo&&ye(13)}function WV(){vm>99&&ye(14)}function Ka(){return xn===null&&ye(195,jV()),xn}function Gt(){return cn===null&&ye(196,jV()),cn}function jV(){let t=0;const e=new Set,n=U3.version;if(typeof window<"u")for(const r of document.querySelectorAll("[contenteditable]")){const i=q3(r);if(US(i))t++;else if(i){let s=String(i.constructor.version||"<0.17.1");s===n&&(s+=" (separately built, likely a bundler configuration issue)"),e.add(s)}}let o=` Detected on the page: ${t} compatible editor(s) with version ${n}`;return e.size&&(o+=` and incompatible editors with versions ${Array.from(e).join(", ")}`),o}function vMe(){return cn}function SI(t,e,n){const o=e.__type,r=function(a,l){const c=a._nodes.get(l);return c===void 0&&ye(30,l),c}(t,o);let i=n.get(o);i===void 0&&(i=Array.from(r.transforms),n.set(o,i));const s=i.length;for(let a=0;a<s&&(i[a](e),e.isAttached());a++);}function bI(t,e){return t!==void 0&&t.__key!==e&&t.isAttached()}function UV(t,e){if(!e)return;const n=t._updateTags;let o=e;Array.isArray(e)||(o=[e]);for(const r of o)n.add(r)}function $V(t,e){const n=t.type,o=e.get(n);o===void 0&&ye(17,n);const r=o.klass;t.type!==r.getType()&&ye(18,r.name);const i=r.importJSON(t),s=t.children;if(me(i)&&Array.isArray(s))for(let a=0;a<s.length;a++){const l=$V(s[a],e);i.append(l)}return i}function wI(t,e,n){const o=xn,r=Lo,i=cn;xn=e,Lo=!0,cn=t;try{return n()}finally{xn=o,Lo=r,cn=i}}function es(t,e){const n=t._pendingEditorState,o=t._rootElement,r=t._headless||o===null;if(n===null)return;const i=t._editorState,s=i._selection,a=n._selection,l=t._dirtyType!==Kl,c=xn,d=Lo,p=cn,h=t._updating,m=t._observer;let g=null;if(t._pendingEditorState=null,t._editorState=n,!r&&l&&m!==null){cn=t,xn=n,Lo=!1,t._updating=!0;try{const _=t._dirtyType,I=t._dirtyElements,T=t._dirtyLeaves;m.disconnect(),g=ULe(i,n,t,_,I,T)}catch(_){if(_ instanceof Error&&t._onError(_),E6)throw _;return QV(t,null,o,n),dV(t),t._dirtyType=nu,E6=!0,es(t,i),void(E6=!1)}finally{m.observe(o,yI),t._updating=h,xn=c,Lo=d,cn=p}}n._readOnly||(n._readOnly=!0);const C=t._dirtyLeaves,v=t._dirtyElements,S=t._normalizedNodes,y=t._updateTags,b=t._deferred;l&&(t._dirtyType=Kl,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements=new Map,t._normalizedNodes=new Set,t._updateTags=new Set),function(_,I){const T=_._decorators;let A=_._pendingDecorators||T;const k=I._nodeMap;let R;for(R in A)k.has(R)||(A===T&&(A=eW(_)),delete A[R])}(t,n);const w=r?null:gs(gr(t));if(t._editable&&w!==null&&(l||a===null||a.dirty)&&o!==null&&!y.has("skip-dom-selection")){cn=t,xn=n;try{if(m!==null&&m.disconnect(),l||a===null||a.dirty){const _=t._blockCursorElement;_!==null&&Y7(_,t,o),mMe(s,a,t,w,y,o)}(function(_,I,T){let A=_._blockCursorElement;if(Ae(T)&&T.isCollapsed()&&T.anchor.type==="element"&&I.contains(document.activeElement)){const k=T.anchor,R=k.getNode(),M=k.offset;let D=!1,F=null;if(M===R.getChildrenSize())R6(R.getChildAtIndex(M-1))&&(D=!0);else{const z=R.getChildAtIndex(M);if(z!==null&&R6(z)){const j=z.getPreviousSibling();(j===null||R6(j))&&(D=!0,F=_.getElementByKey(z.__key))}}if(D){const z=_.getElementByKey(R.__key);return A===null&&(_._blockCursorElement=A=function(j){const H=j.theme,O=document.createElement("div");O.contentEditable="false",O.setAttribute("data-lexical-cursor","true");let U=H.blockCursor;if(U!==void 0){if(typeof U=="string"){const N=o2(U);U=H.blockCursor=N}U!==void 0&&O.classList.add(...U)}return O}(_._config)),I.style.caretColor="transparent",void(F===null?z.appendChild(A):z.insertBefore(A,F))}}A!==null&&Y7(A,_,I)})(t,o,a)}finally{m!==null&&m.observe(o,yI),cn=p,xn=c}}g!==null&&function(_,I,T,A,k){const R=Array.from(_._listeners.mutation),M=R.length;for(let D=0;D<M;D++){const[F,z]=R[D],j=I.get(z);j!==void 0&&F(j,{dirtyLeaves:A,prevEditorState:k,updateTags:T})}}(t,g,y,C,i),Ae(a)||a===null||s!==null&&s.is(a)||t.dispatchCommand(vV,void 0);const x=t._pendingDecorators;x!==null&&(t._decorators=x,t._pendingDecorators=null,Kp("decorator",t,!0,x)),function(_,I,T){const A=II(I),k=II(T);A!==k&&Kp("textcontent",_,!0,k)}(t,e||i,n),Kp("update",t,!0,{dirtyElements:v,dirtyLeaves:C,editorState:n,mutatedNodes:g,normalizedNodes:S,prevEditorState:e||i,tags:y}),function(_,I){if(_._deferred=[],I.length!==0){const T=_._updating;_._updating=!0;try{for(let A=0;A<I.length;A++)I[A]()}finally{_._updating=T}}}(t,b),function(_){const I=_._updates;if(I.length!==0){const T=I.shift();if(T){const[A,k]=T;WS(_,A,k)}}}(t)}function Kp(t,e,n,...o){const r=e._updating;e._updating=n;try{const i=Array.from(e._listeners[t]);for(let s=0;s<i.length;s++)i[s].apply(null,o)}finally{e._updating=r}}function qV(t,e,n){if(t._updating===!1||cn!==t){let r=!1;return t.update(()=>{r=qV(t,e,n)}),r}const o=qS(t);for(let r=4;r>=0;r--)for(let i=0;i<o.length;i++){const s=o[i]._commands.get(e);if(s!==void 0){const a=s[r];if(a!==void 0){const l=Array.from(a),c=l.length;for(let d=0;d<c;d++)if(l[d](n,t)===!0)return!0}}}return!1}function _I(t,e){const n=t._updates;let o=e||!1;for(;n.length!==0;){const r=n.shift();if(r){const[i,s]=r;let a;if(s!==void 0){if(a=s.onUpdate,s.skipTransforms&&(o=!0),s.discrete){const l=t._pendingEditorState;l===null&&ye(191),l._flushSync=!0}a&&t._deferred.push(a),UV(t,s.tag)}i()}}return o}function WS(t,e,n){const o=t._updateTags;let r,i=!1,s=!1;n!==void 0&&(r=n.onUpdate,UV(t,n.tag),i=n.skipTransforms||!1,s=n.discrete||!1),r&&t._deferred.push(r);const a=t._editorState;let l=t._pendingEditorState,c=!1;(l===null||l._readOnly)&&(l=t._pendingEditorState=GV(l||a),c=!0),l._flushSync=s;const d=xn,p=Lo,h=cn,m=t._updating;xn=l,Lo=!1,t._updating=!0,cn=t;const g=t._headless||t.getRootElement()===null;try{c&&(g?a._selection!==null&&(l._selection=a._selection.clone()):l._selection=function(y,b){const w=y.getEditorState()._selection,x=gs(gr(y));return Ae(w)||w==null?VS(w,x,y,b):w.clone()}(t,n&&n.event||null));const v=t._compositionKey;e(),i=_I(t,i),function(y,b){const w=b.getEditorState()._selection,x=y._selection;if(Ae(x)){const _=x.anchor,I=x.focus;let T;if(_.type==="text"&&(T=_.getNode(),T.selectionTransform(w,x)),I.type==="text"){const A=I.getNode();T!==A&&A.selectionTransform(w,x)}}}(l,t),t._dirtyType!==Kl&&(i?function(y,b){const w=b._dirtyLeaves,x=y._nodeMap;for(const _ of w){const I=x.get(_);Pe(I)&&I.isAttached()&&I.isSimpleText()&&!I.isUnmergeable()&&eI(I)}}(l,t):function(y,b){const w=b._dirtyLeaves,x=b._dirtyElements,_=y._nodeMap,I=na(),T=new Map;let A=w,k=A.size,R=x,M=R.size;for(;k>0||M>0;){if(k>0){b._dirtyLeaves=new Set;for(const D of A){const F=_.get(D);Pe(F)&&F.isAttached()&&F.isSimpleText()&&!F.isUnmergeable()&&eI(F),F!==void 0&&bI(F,I)&&SI(b,F,T),w.add(D)}if(A=b._dirtyLeaves,k=A.size,k>0){vm++;continue}}b._dirtyLeaves=new Set,b._dirtyElements=new Map,R.delete("root")&&R.set("root",!0);for(const D of R){const F=D[0],z=D[1];if(x.set(F,z),!z)continue;const j=_.get(F);j!==void 0&&bI(j,I)&&SI(b,j,T)}A=b._dirtyLeaves,k=A.size,R=b._dirtyElements,M=R.size,vm++}b._dirtyLeaves=w,b._dirtyElements=x}(l,t),_I(t),function(y,b,w,x){const _=y._nodeMap,I=b._nodeMap,T=[];for(const[A]of x){const k=I.get(A);k!==void 0&&(k.isAttached()||(me(k)&&aV(k,A,_,I,T,x),_.has(A)||x.delete(A),T.push(A)))}for(const A of T)I.delete(A);for(const A of w){const k=I.get(A);k===void 0||k.isAttached()||(_.has(A)||w.delete(A),I.delete(A))}}(a,l,t._dirtyLeaves,t._dirtyElements)),v!==t._compositionKey&&(l._flushSync=!0);const S=l._selection;if(Ae(S)){const y=l._nodeMap,b=S.anchor.key,w=S.focus.key;y.get(b)!==void 0&&y.get(w)!==void 0||ye(19)}else zS(S)&&S._nodes.size===0&&(l._selection=null)}catch(v){return v instanceof Error&&t._onError(v),t._pendingEditorState=a,t._dirtyType=nu,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),void es(t)}finally{xn=d,Lo=p,cn=h,t._updating=m,vm=0}t._dirtyType!==Kl||t._deferred.length>0||function(v,S){const y=S.getEditorState()._selection,b=v._selection;if(b!==null){if(b.dirty||!b.is(y))return!0}else if(y!==null)return!0;return!1}(l,t)?l._flushSync?(l._flushSync=!1,es(t)):c&&xMe(()=>{es(t)}):(l._flushSync=!1,c&&(o.clear(),t._deferred=[],t._pendingEditorState=null))}function dr(t,e,n){t._updating?cn===t?e():t._updates.push([e,n]):WS(t,e,n)}class Zp{constructor(e,n,o){this.element=e,this.before=n||null,this.after=o||null}withBefore(e){return new Zp(this.element,e,this.after)}withAfter(e){return new Zp(this.element,this.before,e)}withElement(e){return this.element===e?this:new Zp(e,this.before,this.after)}insertChild(e){const n=this.before||this.getManagedLineBreak();return n!==null&&n.parentElement!==this.element&&ye(222),this.element.insertBefore(e,n),this}removeChild(e){return e.parentElement!==this.element&&ye(223),this.element.removeChild(e),this}replaceChild(e,n){return n.parentElement!==this.element&&ye(224),this.element.replaceChild(e,n),this}getFirstChild(){const e=this.after?this.after.nextSibling:this.element.firstChild;return e===this.before||e===this.getManagedLineBreak()?null:e}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(e){if(e===null)this.removeManagedLineBreak();else{const n=e==="decorator"&&(tu||bh);this.insertManagedLineBreak(n)}}removeManagedLineBreak(){const e=this.getManagedLineBreak();if(e){const n=this.element,o=e.nodeName==="IMG"?e.nextSibling:null;o&&n.removeChild(o),n.removeChild(e),n.__lexicalLineBreak=void 0}}insertManagedLineBreak(e){const n=this.getManagedLineBreak();if(n){if(e===(n.nodeName==="IMG"))return;this.removeManagedLineBreak()}const o=this.element,r=this.before,i=document.createElement("br");if(o.insertBefore(i,r),e){const s=document.createElement("img");s.setAttribute("data-lexical-linebreak","true"),s.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",s.alt="",o.insertBefore(s,i),o.__lexicalLineBreak=s}else o.__lexicalLineBreak=i}getFirstChildOffset(){let e=0;for(let n=this.after;n!==null;n=n.previousSibling)e++;return e}resolveChildIndex(e,n,o,r){if(o===this.element){const l=this.getFirstChildOffset();return[e,Math.min(l+e.getChildrenSize(),Math.max(l,r))]}const i=xI(n,o);i.push(r);const s=xI(n,this.element);let a=e.getIndexWithinParent();for(let l=0;l<s.length;l++){const c=i[l],d=s[l];if(c===void 0||c<d)break;if(c>d){a+=1;break}}return[e.getParentOrThrow(),a]}}function xI(t,e){const n=[];let o=e;for(;o!==t&&o!==null;o=e.parentNode){let r=0;for(let i=o.previousSibling;i!==null;i=i.previousSibling)r++;n.push(r)}return o!==t&&ye(225),n.reverse()}class W3 extends z3{constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(e){super.afterCloneFrom(e),this.__first=e.__first,this.__last=e.__last,this.__size=e.__size,this.__indent=e.__indent,this.__format=e.__format,this.__style=e.__style,this.__dir=e.__dir,this.__textFormat=e.__textFormat,this.__textStyle=e.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){const e=this.getFormat();return LLe[e]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){const e=[];let n=this.getFirstChild();for(;n!==null;)e.push(n),n=n.getNextSibling();return e}getChildrenKeys(){const e=[];let n=this.getFirstChild();for(;n!==null;)e.push(n.__key),n=n.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){const e=Gt()._dirtyElements;return e!==null&&e.has(this.__key)}isLastChild(){const e=this.getLatest(),n=this.getParentOrThrow().getLastChild();return n!==null&&n.is(e)}getAllTextNodes(){const e=[];let n=this.getFirstChild();for(;n!==null;){if(Pe(n)&&e.push(n),me(n)){const o=n.getAllTextNodes();e.push(...o)}n=n.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;me(e);){const n=e.getFirstChild();if(n===null)break;e=n}return e}getLastDescendant(){let e=this.getLastChild();for(;me(e);){const n=e.getLastChild();if(n===null)break;e=n}return e}getDescendantByIndex(e){const n=this.getChildren(),o=n.length;if(e>=o){const i=n[o-1];return me(i)&&i.getLastDescendant()||i||null}const r=n[e];return me(r)&&r.getFirstDescendant()||r||null}getFirstChild(){const e=this.getLatest().__first;return e===null?null:An(e)}getFirstChildOrThrow(){const e=this.getFirstChild();return e===null&&ye(45,this.__key),e}getLastChild(){const e=this.getLatest().__last;return e===null?null:An(e)}getLastChildOrThrow(){const e=this.getLastChild();return e===null&&ye(96,this.__key),e}getChildAtIndex(e){const n=this.getChildrenSize();let o,r;if(e<n/2){for(o=this.getFirstChild(),r=0;o!==null&&r<=e;){if(r===e)return o;o=o.getNextSibling(),r++}return null}for(o=this.getLastChild(),r=n-1;o!==null&&r>=e;){if(r===e)return o;o=o.getPreviousSibling(),r--}return null}getTextContent(){let e="";const n=this.getChildren(),o=n.length;for(let r=0;r<o;r++){const i=n[r];e+=i.getTextContent(),me(i)&&r!==o-1&&!i.isInline()&&(e+=ms)}return e}getTextContentSize(){let e=0;const n=this.getChildren(),o=n.length;for(let r=0;r<o;r++){const i=n[r];e+=i.getTextContentSize(),me(i)&&r!==o-1&&!i.isInline()&&(e+=ms.length)}return e}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(e){if(e!==""){const n=YT[e];return!!(this.getFormat()&n)}return!1}hasTextFormat(e){const n=uo[e];return!!(this.getTextFormat()&n)}getFormatFlags(e,n){return h2(this.getLatest().__textFormat,e,n)}getTextStyle(){return this.getLatest().__textStyle}select(e,n){Gn();const o=Fe();let r=e,i=n;const s=this.getChildrenSize();if(!this.canBeEmpty()){if(e===0&&n===0){const l=this.getFirstChild();if(Pe(l)||me(l))return l.select(0,0)}else if(!(e!==void 0&&e!==s||n!==void 0&&n!==s)){const l=this.getLastChild();if(Pe(l)||me(l))return l.select()}}r===void 0&&(r=s),i===void 0&&(i=s);const a=this.__key;return Ae(o)?(o.anchor.set(a,r,"element"),o.focus.set(a,i,"element"),o.dirty=!0,o):HV(a,r,a,i,"element","element")}selectStart(){const e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){const e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){const e=this.getWritable();return this.getChildren().forEach(n=>n.remove()),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){const n=this.getWritable();return n.__dir=e,n}setFormat(e){return this.getWritable().__format=e!==""?YT[e]:0,this}setStyle(e){return this.getWritable().__style=e||"",this}setTextFormat(e){const n=this.getWritable();return n.__textFormat=e,n}setTextStyle(e){const n=this.getWritable();return n.__textStyle=e,n}setIndent(e){return this.getWritable().__indent=e,this}splice(e,n,o){const r=o.length,i=this.getChildrenSize(),s=this.getWritable();e+n<=i||ye(226,String(e),String(n),String(i));const a=s.__key,l=[],c=[],d=this.getChildAtIndex(e+n);let p=null,h=i-n+r;if(e!==0)if(e===i)p=this.getLastChild();else{const g=this.getChildAtIndex(e);g!==null&&(p=g.getPreviousSibling())}if(n>0){let g=p===null?this.getFirstChild():p.getNextSibling();for(let C=0;C<n;C++){g===null&&ye(100);const v=g.getNextSibling(),S=g.__key;kl(g.getWritable()),c.push(S),g=v}}let m=p;for(let g=0;g<r;g++){const C=o[g];m!==null&&C.is(m)&&(p=m=m.getPreviousSibling());const v=C.getWritable();v.__parent===a&&h--,kl(v);const S=C.__key;if(m===null)s.__first=S,v.__prev=null;else{const y=m.getWritable();y.__next=S,v.__prev=y.__key}C.__key===a&&ye(76),v.__parent=a,l.push(S),m=C}if(e+n===i)m!==null&&(m.getWritable().__next=null,s.__last=m.__key);else if(d!==null){const g=d.getWritable();if(m!==null){const C=m.getWritable();g.__prev=m.__key,C.__next=d.__key}else g.__prev=null}if(s.__size=h,c.length){const g=Fe();if(Ae(g)){const C=new Set(c),v=new Set(l),{anchor:S,focus:y}=g;AI(S,C,v)&&p2(S,S.getNode(),this,p,d),AI(y,C,v)&&p2(y,y.getNode(),this,p,d),h!==0||this.canBeEmpty()||Za(this)||this.remove()}}return s}getDOMSlot(e){return new Zp(e)}exportDOM(e){const{element:n}=super.exportDOM(e);if(Do(n)){const o=this.getIndent();o>0&&(n.style.paddingInlineStart=40*o+"px");const r=this.getDirection();r&&(n.dir=r)}return{element:n}}exportJSON(){const e={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},n=this.getTextFormat(),o=this.getTextStyle();return n!==0&&(e.textFormat=n),o!==""&&(e.textStyle=o),e}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format).setIndent(e.indent).setDirection(e.direction).setTextFormat(e.textFormat||0).setTextStyle(e.textStyle||"")}insertNewAfter(e,n){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,n,o){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(e,n){const o=this.getDOMSlot(e);let r=o.getFirstChild();for(let i=this.getFirstChild();i;i=i.getNextSibling()){const s=n.getElementByKey(i.getKey());s!==null&&(r==null?(o.insertChild(s),r=s):r!==s&&o.replaceChild(s,r),r=r.nextSibling)}}}function me(t){return t instanceof W3}function AI(t,e,n){let o=t.getNode();for(;o;){const r=o.__key;if(e.has(r)&&!n.has(r))return!0;o=o.getParent()}return!1}class CMe extends z3{decorate(e,n){ye(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function It(t){return t instanceof CMe}class Q1 extends W3{static getType(){return"root"}static clone(){return new Q1}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){ye(51)}getTextContent(){const e=this.__cachedText;return!Z1()&&Gt()._dirtyType!==Kl||e===null?super.getTextContent():e}remove(){ye(52)}replace(e){ye(53)}insertBefore(e){ye(54)}insertAfter(e){ye(55)}updateDOM(e,n){return!1}splice(e,n,o){for(const r of o)me(r)||It(r)||ye(282);return super.splice(e,n,o)}static importJSON(e){return Bt().updateFromJSON(e)}collapseAtStart(){return!0}}function Ro(t){return t instanceof Q1}function GV(t){return new j3(new Map(t._nodeMap))}function jS(){return new j3(new Map([["root",new Q1]]))}function KV(t){const e=t.exportJSON(),n=t.constructor;if(e.type!==n.getType()&&ye(130,n.name),me(t)){const o=e.children;Array.isArray(o)||ye(59,n.name);const r=t.getChildren();for(let i=0;i<r.length;i++){const s=KV(r[i]);o.push(s)}}return e}class j3{constructor(e,n){this._nodeMap=e,this._selection=n||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(e,n){return wI(n&&n.editor||null,this,e)}clone(e){const n=new j3(this._nodeMap,e===void 0?this._selection:e);return n._readOnly=!0,n}toJSON(){return wI(null,this,()=>({root:KV(Bt())}))}}class yMe extends W3{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}}class Y1 extends W3{static getType(){return"paragraph"}static clone(e){return new Y1(e.__key)}createDOM(e){const n=document.createElement("p"),o=kd(e.theme,"paragraph");return o!==void 0&&n.classList.add(...o),n}updateDOM(e,n,o){return!1}static importDOM(){return{p:e=>({conversion:SMe,priority:0})}}exportDOM(e){const{element:n}=super.exportDOM(e);if(Do(n)){this.isEmpty()&&n.append(document.createElement("br"));const o=this.getFormatType();n.style.textAlign=o}return{element:n}}static importJSON(e){return gi().updateFromJSON(e)}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle()}}insertNewAfter(e,n){const o=gi();o.setTextFormat(e.format),o.setTextStyle(e.style);const r=this.getDirection();return o.setDirection(r),o.setFormat(this.getFormatType()),o.setStyle(this.getStyle()),this.insertAfter(o,n),o}collapseAtStart(){const e=this.getChildren();if(e.length===0||Pe(e[0])&&e[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function SMe(t){const e=gi();return t.style&&(e.setFormat(t.style.textAlign),FMe(t,e)),{node:e}}function gi(){return Z3(new Y1)}function bMe(t){return t instanceof Y1}const Sn=0,ZV=1;function QV(t,e,n,o){const r=t._keyToDOMMap;r.clear(),t._editorState=jS(),t._pendingEditorState=o,t._compositionKey=null,t._dirtyType=Kl,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),t._normalizedNodes=new Set,t._updateTags=new Set,t._updates=[],t._blockCursorElement=null;const i=t._observer;i!==null&&(i.disconnect(),t._observer=null),e!==null&&(e.textContent=""),n!==null&&(n.textContent="",r.set("root",n))}function wMe(t){const e=t||{},n=vMe(),o=e.theme||{},r=t===void 0?n:e.parentEditor||null,i=e.disableEvents||!1,s=jS(),a=e.namespace||(r!==null?r._config.namespace:oW()),l=e.editorState,c=[Q1,Oc,q1,G1,Y1,yMe,...e.nodes||[]],{onError:d,html:p}=e,h=e.editable===void 0||e.editable;let m;if(t===void 0&&n!==null)m=n._nodes;else{m=new Map;for(let C=0;C<c.length;C++){let v=c[C],S=null,y=null;if(typeof v!="function"){const _=v;v=_.replace,S=_.with,y=_.withKlass||null}const b=v.getType(),w=v.transform(),x=new Set;w!==null&&x.add(w),m.set(b,{exportDOM:p&&p.export?p.export.get(v):void 0,klass:v,replace:S,replaceWithKlass:y,transforms:x})}}const g=new U3(s,r,m,{disableEvents:i,namespace:a,theme:o},d||console.error,function(C,v){const S=new Map,y=new Set,b=w=>{Object.keys(w).forEach(x=>{let _=S.get(x);_===void 0&&(_=[],S.set(x,_)),_.push(w[x])})};return C.forEach(w=>{const x=w.klass.importDOM;if(x==null||y.has(x))return;y.add(x);const _=x.call(w.klass);_!==null&&b(_)}),v&&b(v),S}(m,p?p.import:void 0),h,t);return l!==void 0&&(g._pendingEditorState=l,g._dirtyType=nu),g}class U3{constructor(e,n,o,r,i,s,a,l){this._createEditorArgs=l,this._parentEditor=n,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=r,this._nodes=o,this._decorators={},this._pendingDecorators=null,this._dirtyType=Kl,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=oW(),this._onError=i,this._htmlConversions=s,this._editable=a,this._headless=n!==null&&n._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(e){const n=this._listeners.update;return n.add(e),()=>{n.delete(e)}}registerEditableListener(e){const n=this._listeners.editable;return n.add(e),()=>{n.delete(e)}}registerDecoratorListener(e){const n=this._listeners.decorator;return n.add(e),()=>{n.delete(e)}}registerTextContentListener(e){const n=this._listeners.textcontent;return n.add(e),()=>{n.delete(e)}}registerRootListener(e){const n=this._listeners.root;return e(this._rootElement,null),n.add(e),()=>{e(null,this._rootElement),n.delete(e)}}registerCommand(e,n,o){o===void 0&&ye(35);const r=this._commands;r.has(e)||r.set(e,[new Set,new Set,new Set,new Set,new Set]);const i=r.get(e);i===void 0&&ye(36,String(e));const s=i[o];return s.add(n),()=>{s.delete(n),i.every(a=>a.size===0)&&r.delete(e)}}registerMutationListener(e,n,o){const r=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,i=this._listeners.mutation;i.set(n,r);const s=o&&o.skipInitialization;return s!==void 0&&s||this.initializeMutationListener(n,r),()=>{i.delete(n)}}getRegisteredNode(e){const n=this._nodes.get(e.getType());return n===void 0&&ye(37,e.name),n}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}initializeMutationListener(e,n){const o=this._editorState,r=FI(o).get(n.getType());if(!r)return;const i=new Map;for(const s of r.keys())i.set(s,"created");i.size>0&&e(i,{dirtyLeaves:new Set,prevEditorState:o,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,n){const o=this.getRegisteredNode(e);return o.transforms.add(n),o}registerNodeTransform(e,n){const o=this.registerNodeTransformToKlass(e,n),r=[o],i=o.replaceWithKlass;if(i!=null){const s=this.registerNodeTransformToKlass(i,n);r.push(s)}return function(s,a){const l=FI(s.getEditorState()),c=[];for(const d of a){const p=l.get(d);p&&c.push(p)}c.length!==0&&s.update(()=>{for(const d of c)for(const p of d.keys()){const h=An(p);h&&h.markDirty()}},s._pendingEditorState===null?{tag:"history-merge"}:void 0)}(this,r.map(s=>s.klass.getType())),()=>{r.forEach(s=>s.transforms.delete(n))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,n){return ke(this,e,n)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const n=this._rootElement;if(e!==n){const o=kd(this._config.theme,"root"),r=this._pendingEditorState||this._editorState;if(this._rootElement=e,QV(this,n,e,r),n!==null&&(this._config.disableEvents||iMe(n),o!=null&&n.classList.remove(...o)),e!==null){const i=QS(e),s=e.style;s.userSelect="text",s.whiteSpace="pre-wrap",s.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=i,this._dirtyType=nu,dV(this),this._updateTags.add("history-merge"),es(this),this._config.disableEvents||function(a,l){const c=a.ownerDocument,d=d2.get(c);(d===void 0||d<1)&&c.addEventListener("selectionchange",MV),d2.set(c,(d||0)+1),a.__lexicalEditor=l;const p=LV(a);for(let h=0;h<U7.length;h++){const[m,g]=U7[h],C=typeof g=="function"?v=>{sI(v)||(iI(v),(l.isEditable()||m==="click")&&g(v,l))}:v=>{if(sI(v))return;iI(v);const S=l.isEditable();switch(m){case"cut":return S&&ke(l,NS,v);case"copy":return ke(l,FS,v);case"paste":return S&&ke(l,B3,v);case"dragstart":return S&&ke(l,TV,v);case"dragover":return S&&ke(l,JLe,v);case"dragend":return S&&ke(l,eMe,v);case"focus":return S&&ke(l,tMe,v);case"blur":return S&&ke(l,nMe,v);case"drop":return S&&ke(l,AV,v)}};a.addEventListener(m,C),p.push(()=>{a.removeEventListener(m,C)})}}(e,this),o!=null&&e.classList.add(...o)}else this._window=null,this._updateTags.add("history-merge"),es(this);Kp("root",this,!1,e,n)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,n){e.isEmpty()&&ye(38);let o=e;o._readOnly&&(o=GV(e),o._selection=e._selection?e._selection.clone():null),cV(this);const r=this._pendingEditorState,i=this._updateTags,s=n!==void 0?n.tag:null;r===null||r.isEmpty()||(s!=null&&i.add(s),es(this)),this._pendingEditorState=o,this._dirtyType=nu,this._dirtyElements.set("root",!1),this._compositionKey=null,s!=null&&i.add(s),this._updating||es(this)}parseEditorState(e,n){return function(o,r,i){const s=jS(),a=xn,l=Lo,c=cn,d=r._dirtyElements,p=r._dirtyLeaves,h=r._cloneNotNeeded,m=r._dirtyType;r._dirtyElements=new Map,r._dirtyLeaves=new Set,r._cloneNotNeeded=new Set,r._dirtyType=0,xn=s,Lo=!1,cn=r;try{const g=r._nodes;$V(o.root,g),i&&i(),s._readOnly=!0}catch(g){g instanceof Error&&r._onError(g)}finally{r._dirtyElements=d,r._dirtyLeaves=p,r._cloneNotNeeded=h,r._dirtyType=m,xn=a,Lo=l,cn=c}return s}(typeof e=="string"?JSON.parse(e):e,this,n)}read(e){return es(this),this.getEditorState().read(e,{editor:this})}update(e,n){(function(o,r,i){o._updating?o._updates.push([r,i]):WS(o,r,i)})(this,e,n)}focus(e,n={}){const o=this._rootElement;o!==null&&(o.setAttribute("autocapitalize","off"),dr(this,()=>{const r=Fe(),i=Bt();r!==null?r.dirty=!0:i.getChildrenSize()!==0&&(n.defaultSelection==="rootStart"?i.selectStart():i.selectEnd()),kMe("focus"),RMe(()=>{o.removeAttribute("autocapitalize"),e&&e()})}),this._pendingEditorState===null&&o.removeAttribute("autocapitalize"))}blur(){const e=this._rootElement;e!==null&&e.blur();const n=gs(this._window);n!==null&&n.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,Kp("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}U3.version="0.29.0+prod.esm";let _Me=1;const xMe=typeof queueMicrotask=="function"?queueMicrotask:t=>{Promise.resolve().then(t)};function TI(t){return It($S(t))}function YV(t){const e=document.activeElement;if(!Do(e))return!1;const n=e.nodeName;return It($S(t))&&(n==="INPUT"||n==="TEXTAREA"||e.contentEditable==="true"&&q3(e)==null)}function $3(t,e,n){const o=t.getRootElement();try{return o!==null&&o.contains(e)&&o.contains(n)&&e!==null&&!YV(e)&&XV(e)===t}catch{return!1}}function US(t){return t instanceof U3}function XV(t){let e=t;for(;e!=null;){const n=q3(e);if(US(n))return n;e=X1(e)}return null}function q3(t){return t?t.__lexicalEditor:null}function nd(t){return t.isToken()||t.isSegmented()}function Ps(t){return J1(t)&&t.nodeType===bLe}function AMe(t){return J1(t)&&t.nodeType===wLe}function ou(t){let e=t;for(;e!=null;){if(Ps(e))return e;e=e.firstChild}return null}function h2(t,e,n){const o=uo[e];if(n!==null&&(t&o)==(n&o))return t;let r=t^o;return e==="subscript"?r&=~uo.superscript:e==="superscript"?r&=~uo.subscript:e==="lowercase"?(r&=~uo.uppercase,r&=~uo.capitalize):e==="uppercase"?(r&=~uo.lowercase,r&=~uo.capitalize):e==="capitalize"&&(r&=~uo.lowercase,r&=~uo.uppercase),r}function TMe(t,e){if(e!=null)return void(t.__key=e);Gn(),WV();const n=Gt(),o=Ka(),r=""+_Me++;o._nodeMap.set(r,t),me(t)?n._dirtyElements.set(r,!0):n._dirtyLeaves.add(r),n._cloneNotNeeded.add(r),n._dirtyType=rV,t.__key=r}function kl(t){const e=t.getParent();if(e!==null){const n=t.getWritable(),o=e.getWritable(),r=t.getPreviousSibling(),i=t.getNextSibling();if(r===null)if(i!==null){const s=i.getWritable();o.__first=i.__key,s.__prev=null}else o.__first=null;else{const s=r.getWritable();if(i!==null){const a=i.getWritable();a.__prev=s.__key,s.__next=a.__key}else s.__next=null;n.__prev=null}if(i===null)if(r!==null){const s=r.getWritable();o.__last=r.__key,s.__next=null}else o.__last=null;else{const s=i.getWritable();if(r!==null){const a=r.getWritable();a.__next=s.__key,s.__prev=a.__key}else s.__prev=null;n.__next=null}o.__size--,n.__parent=null}}function f2(t){WV();const e=t.getLatest(),n=e.__parent,o=Ka(),r=Gt(),i=o._nodeMap,s=r._dirtyElements;n!==null&&function(l,c,d){let p=l;for(;p!==null;){if(d.has(p))return;const h=c.get(p);if(h===void 0)break;d.set(p,!1),p=h.__parent}}(n,i,s);const a=e.__key;r._dirtyType=rV,me(t)?s.set(a,!0):r._dirtyLeaves.add(a)}function Pn(t){Gn();const e=Gt(),n=e._compositionKey;if(t!==n){if(e._compositionKey=t,n!==null){const o=An(n);o!==null&&o.getWritable()}if(t!==null){const o=An(t);o!==null&&o.getWritable()}}}function na(){return Z1()?null:Gt()._compositionKey}function An(t,e){const n=(e||Ka())._nodeMap.get(t);return n===void 0?null:n}function JV(t,e){const n=G3(t,Gt());return n!==void 0?An(n,e):null}function G3(t,e){return t[`__lexicalKey_${e._key}`]}function $S(t,e){let n=t;for(;n!=null;){const o=JV(n,e);if(o!==null)return o;n=X1(n)}return null}function eW(t){const e=t._decorators,n=Object.assign({},e);return t._pendingDecorators=n,n}function II(t){return t.read(()=>Bt().getTextContent())}function Bt(){return tW(Ka())}function tW(t){return t._nodeMap.get("root")}function Qo(t){Gn();const e=Ka();t!==null&&(t.dirty=!0,t.setCachedNodes(null)),e._selection=t}function hd(t){const e=Gt(),n=function(o,r){let i=o;for(;i!=null;){const s=G3(i,r);if(s!==void 0)return s;i=X1(i)}return null}(t,e);return n===null?t===e.getRootElement()?An("root"):null:An(n)}function EI(t,e){return e?t.getTextContentSize():0}function nW(t){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(t)}function qS(t){const e=[];let n=t;for(;n!==null;)e.push(n),n=n._parentEditor;return e}function oW(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function rW(t){return Ps(t)?t.nodeValue:null}function GS(t,e,n){const o=gs(gr(e));if(o===null)return;const r=o.anchorNode;let{anchorOffset:i,focusOffset:s}=o;if(r!==null){let a=rW(r);const l=$S(r);if(a!==null&&Pe(l)){if(a===N3&&n){const c=n.length;a=n,i=c,s=c}a!==null&&KS(l,a,i,s,t)}}}function KS(t,e,n,o,r){let i=t;if(i.isAttached()&&(r||!i.isDirty())){const s=i.isComposing();let a=e;(s||r)&&e[e.length-1]===N3&&(a=e.slice(0,-1));const l=i.getTextContent();if(r||a!==l){if(a===""){if(Pn(null),bh||tu||n2)i.remove();else{const C=Gt();setTimeout(()=>{C.update(()=>{i.isAttached()&&i.remove()})},20)}return}const c=i.getParent(),d=K1(),p=i.getTextContentSize(),h=na(),m=i.getKey();if(i.isToken()||h!==null&&m===h&&!s||Ae(d)&&(c!==null&&!c.canInsertTextBefore()&&d.anchor.offset===0||d.anchor.key===t.__key&&d.anchor.offset===0&&!i.canInsertTextBefore()&&!s||d.focus.key===t.__key&&d.focus.offset===p&&!i.canInsertTextAfter()&&!s))return void i.markDirty();const g=Fe();if(!Ae(g)||n===null||o===null)return void i.setTextContent(a);if(g.setTextNodeRange(i,n,i,o),i.isSegmented()){const C=wn(i.getTextContent());i.replace(C),i=C}i.setTextContent(a)}}}function kI(t){return t==="ArrowLeft"}function RI(t){return t==="ArrowRight"}function Rp(t,e){return xr?t:e}function PI(t){return t==="Enter"}function Kc(t){return t==="Backspace"}function Cp(t){return t==="Delete"}function LI(t,e,n){return t.toLowerCase()==="a"&&Rp(e,n)}function IMe(t){const e=Bt();if(Ae(t)){const n=t.anchor,o=t.focus,r=n.getNode().getTopLevelElementOrThrow().getParentOrThrow();return n.set(r.getKey(),0,"element"),o.set(r.getKey(),r.getChildrenSize(),"element"),M7(t),t}{const n=e.select(0,e.getChildrenSize());return Qo(M7(n)),n}}function kd(t,e){t.__lexicalClassNameCache===void 0&&(t.__lexicalClassNameCache={});const n=t.__lexicalClassNameCache,o=n[e];if(o!==void 0)return o;const r=t[e];if(typeof r=="string"){const i=o2(r);return n[e]=i,i}return r}function ZS(t,e,n,o,r){if(n.size===0)return;const i=o.__type,s=o.__key,a=e.get(i);a===void 0&&ye(33,i);const l=a.klass;let c=t.get(l);c===void 0&&(c=new Map,t.set(l,c));const d=c.get(s),p=d==="destroyed"&&r==="created";(d===void 0||p)&&c.set(s,p?"updated":r)}function MI(t,e,n){const o=t.getParent();let r=n,i=t;return o!==null&&(e&&n===0?(r=i.getIndexWithinParent(),i=o):e||n!==i.getChildrenSize()||(r=i.getIndexWithinParent()+1,i=o)),i.getChildAtIndex(e?r-1:r)}function EMe(t,e){const n=t.offset;if(t.type==="element")return MI(t.getNode(),e,n);{const o=t.getNode();if(e&&n===0||!e&&n===o.getTextContentSize()){const r=e?o.getPreviousSibling():o.getNextSibling();return r===null?MI(o.getParentOrThrow(),e,o.getIndexWithinParent()+(e?0:1)):r}}return null}function iW(t){const e=gr(t).event,n=e&&e.inputType;return n==="insertFromPaste"||n==="insertFromPasteAsQuotation"}function ke(t,e,n){return qV(t,e,n)}function K3(t){return!Ro(t)&&!t.isLastChild()&&!t.isInline()}function ru(t,e){const n=t._keyToDOMMap.get(e);return n===void 0&&ye(75,e),n}function X1(t){const e=t.assignedSlot||t.parentElement;return X7(e)?e.host:e}function sW(t){return AMe(t)?t:Do(t)?t.ownerDocument:null}function kMe(t){Gn(),Gt()._updateTags.add(t)}function RMe(t){Gn(),Gt()._deferred.push(t)}function Q7(t,e){let n=t.getParent();for(;n!==null;){if(n.is(e))return!0;n=n.getParent()}return!1}function QS(t){const e=sW(t);return e?e.defaultView:null}function gr(t){const e=t._window;return e===null&&ye(78),e}function PMe(t){let e=t.getParentOrThrow();for(;e!==null;){if(Za(e))return e;e=e.getParentOrThrow()}return e}function Za(t){return Ro(t)||me(t)&&t.isShadowRoot()}function Z3(t){const e=Gt(),n=t.constructor.getType(),o=e._nodes.get(n);o===void 0&&ye(200,t.constructor.name,n);const{replace:r,replaceWithKlass:i}=o;if(r!==null){const s=r(t),a=s.constructor;return i!==null?s instanceof i||ye(201,i.name,i.getType(),a.name,a.getType(),t.constructor.name,n):s instanceof t.constructor&&a!==t.constructor||ye(202,a.name,a.getType(),t.constructor.name,n),s.__key===t.__key&&ye(203,t.constructor.name,n,a.name,a.getType()),s}return t}function k6(t,e){!Ro(t.getParent())||me(e)||It(e)||ye(99)}function LMe(t){const e=An(t);return e===null&&ye(63,t),e}function R6(t){return(It(t)||me(t)&&!t.canBeEmpty())&&!t.isInline()}function Y7(t,e,n){n.style.removeProperty("caret-color"),e._blockCursorElement=null;const o=t.parentElement;o!==null&&o.removeChild(t)}function gs(t){return Zr?(t||window).getSelection():null}function MMe(t){const e=QS(t);return e?e.getSelection():null}function Do(t){return J1(t)&&t.nodeType===SLe}function J1(t){return typeof t=="object"&&t!==null&&"nodeType"in t&&typeof t.nodeType=="number"}function X7(t){return J1(t)&&t.nodeType===_Le}function OMe(t){const e=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return t.nodeName.match(e)!==null}function OI(t){const e=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return t.nodeName.match(e)!==null}function qs(t){if(It(t)&&!t.isInline())return!0;if(!me(t)||Za(t))return!1;const e=t.getFirstChild(),n=e===null||Gp(e)||Pe(e)||e.isInline();return!t.isInline()&&t.canBeEmpty()!==!1&&n}function P6(t,e){let n=t;for(;n!==null&&n.getParent()!==null&&!e(n);)n=n.getParentOrThrow();return e(n)?n:null}const DI=new WeakMap,DMe=new Map;function FI(t){if(!t._readOnly&&t.isEmpty())return DMe;t._readOnly||ye(192);let e=DI.get(t);return e||(e=function(n){const o=new Map;for(const[r,i]of n._nodeMap){const s=i.__type;let a=o.get(s);a||(a=new Map,o.set(s,a)),a.set(r,i)}return o}(t),DI.set(t,e)),e}function aW(t){const e=t.constructor.clone(t);return e.afterCloneFrom(t),e}function FMe(t,e){const n=(parseInt(t.style.paddingInlineStart,10)||0)/40;e.setIndent(n)}function NMe(t){return t.__lexicalUnmanaged===!0}const HMe={next:"previous",previous:"next"};class YS{constructor(e){this.origin=e}[Symbol.iterator](){return lW({hasNext:iu,initial:this.getAdjacentCaret(),map:e=>e,step:e=>e.getAdjacentCaret()})}getAdjacentCaret(){return eo(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return eo(this.origin,this.direction)}remove(){const e=this.getNodeAtCaret();return e&&e.remove(),this}replaceOrInsert(e,n){const o=this.getNodeAtCaret();return e.is(this.origin)||e.is(o)||(o===null?this.insert(e):o.replace(e,n)),this}splice(e,n,o="next"){const r=o===this.direction?n:Array.from(n).reverse();let i=this;const s=this.getParentAtCaret(),a=new Map;for(let l=i.getAdjacentCaret();l!==null&&a.size<e;l=l.getAdjacentCaret()){const c=l.origin.getWritable();a.set(c.getKey(),c)}for(const l of r){if(a.size>0){const c=i.getNodeAtCaret();if(c){if(a.delete(c.getKey()),a.delete(l.getKey()),!(c.is(l)||i.origin.is(l))){const d=l.getParent();d&&d.is(s)&&l.remove(),c.replace(l)}}else c===null&&ye(263,Array.from(a).join(" "))}else i.insert(l);i=eo(l,this.direction)}for(const l of a.values())l.remove();return this}}class Eh extends YS{constructor(){super(...arguments);E(this,"type","child")}getLatest(){const n=this.origin.getLatest();return n===this.origin?this:_a(n,this.direction)}getParentCaret(n="root"){return eo(XS(this.getParentAtCaret(),n),this.direction)}getFlipped(){const n=Zu(this.direction);return eo(this.getNodeAtCaret(),n)||_a(this.origin,n)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(n){return n instanceof Eh&&this.direction===n.direction&&this.origin.is(n.origin)}isSamePointCaret(n){return this.isSameNodeCaret(n)}}const BMe={root:Ro,shadowRoot:Za};function Zu(t){return HMe[t]}function XS(t,e="root"){return BMe[e](t)?null:t}class Ql extends YS{constructor(){super(...arguments);E(this,"type","sibling")}getLatest(){const n=this.origin.getLatest();return n===this.origin?this:eo(n,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return me(this.origin)?_a(this.origin,this.direction):null}getParentCaret(n="root"){return eo(XS(this.getParentAtCaret(),n),this.direction)}getFlipped(){const n=Zu(this.direction);return eo(this.getNodeAtCaret(),n)||_a(this.origin.getParentOrThrow(),n)}isSamePointCaret(n){return n instanceof Ql&&this.direction===n.direction&&this.origin.is(n.origin)}isSameNodeCaret(n){return(n instanceof Ql||n instanceof Yl)&&this.direction===n.direction&&this.origin.is(n.origin)}}class Yl extends YS{constructor(n,o){super(n);E(this,"type","text");this.offset=o}getLatest(){const n=this.origin.getLatest();return n===this.origin?this:Xl(n,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(n="root"){return eo(XS(this.getParentAtCaret(),n),this.direction)}getFlipped(){return Xl(this.origin,Zu(this.direction),this.offset)}isSamePointCaret(n){return n instanceof Yl&&this.direction===n.direction&&this.origin.is(n.origin)&&this.offset===n.offset}isSameNodeCaret(n){return(n instanceof Ql||n instanceof Yl)&&this.direction===n.direction&&this.origin.is(n.origin)}getSiblingCaret(){return eo(this.origin,this.direction)}}function Rl(t){return t instanceof Yl}function iu(t){return t instanceof Ql}function vi(t){return t instanceof Eh}const zMe={next:class extends Yl{constructor(){super(...arguments);E(this,"direction","next")}getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends Yl{constructor(){super(...arguments);E(this,"direction","previous")}getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},VMe={next:class extends Ql{constructor(){super(...arguments);E(this,"direction","next")}getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends Ql{constructor(){super(...arguments);E(this,"direction","previous")}getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},WMe={next:class extends Eh{constructor(){super(...arguments);E(this,"direction","next")}getNodeAtCaret(){return this.origin.getFirstChild()}insert(e){return this.origin.splice(0,0,[e]),this}},previous:class extends Eh{constructor(){super(...arguments);E(this,"direction","previous")}getNodeAtCaret(){return this.origin.getLastChild()}insert(e){return this.origin.splice(this.origin.getChildrenSize(),0,[e]),this}}};function eo(t,e){return t?new VMe[e](t):null}function Xl(t,e,n){return t?new zMe[e](t,Q3(t,n)):null}function Q3(t,e){const n=t.getTextContentSize(),o=e==="next"?n:e==="previous"?0:e;return o>=0&&o<=n||ye(274,String(e),String(n)),o}function NI(t,e){return new UMe(t,e)}function _a(t,e){return me(t)?new WMe[e](t):null}function jMe(t){return t&&t.getChildCaret()||t}function JS(t){return t&&jMe(t.getAdjacentCaret())}class eb{constructor(e,n,o){E(this,"type","node-caret-range");this.anchor=e,this.focus=n,this.direction=o}getLatest(){const e=this.anchor.getLatest(),n=this.focus.getLatest();return e===this.anchor&&n===this.focus?this:new eb(e,n,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){const e=r=>{const i=this[r].getLatest();return Rl(i)?function(s,a){const{direction:l,origin:c}=s,d=Q3(c,a==="focus"?Zu(l):l);return NI(s,d-s.offset)}(i,r):null},n=e("anchor"),o=e("focus");if(n&&o){const{caret:r}=n,{caret:i}=o;if(r.isSameNodeCaret(i))return[NI(r,i.offset-r.offset),null]}return[n,o]}iterNodeCarets(e="root"){const n=Rl(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),o=this.focus.getLatest(),r=Rl(o),i=s=>s.isSameNodeCaret(o)?null:JS(s)||s.getParentCaret(e);return lW({hasNext:s=>s!==null&&!(r&&o.isSameNodeCaret(s)),initial:n.isSameNodeCaret(o)?null:i(n),map:s=>s,step:i})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class UMe{constructor(e,n){E(this,"type","slice");this.caret=e,this.distance=n}getSliceIndices(){const{distance:e,caret:{offset:n}}=this,o=n+e;return o<n?[o,n]:[n,o]}getTextContent(){const[e,n]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(e,n)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){const{caret:{origin:e,direction:n}}=this,[o,r]=this.getSliceIndices(),i=e.getTextContent();return Xl(e.setTextContent(i.slice(0,o)+i.slice(r)),n,o)}}function tb(t){return Jl(t,eo(Bt(),t.direction))}function $Me(t){return Jl(t,t)}function Jl(t,e){return t.direction!==e.direction&&ye(265),new eb(t,e,t.direction)}function lW(t){const{initial:e,hasNext:n,step:o,map:r}=t;let i=e;return{[Symbol.iterator](){return this},next(){if(!n(i))return{done:!0,value:void 0};const s={done:!1,value:r(i)};return i=o(i),s}}}function cW(t,e){const n=Cm(t.origin,e.origin);switch(n===null&&ye(275,t.origin.getKey(),e.origin.getKey()),n.type){case"same":{const o=t.type==="text",r=e.type==="text";return o&&r?function(i,s){return Math.sign(i-s)}(t.offset,e.offset):t.type===e.type?0:o?-1:r?1:t.type==="child"?-1:1}case"ancestor":return t.type==="child"?-1:1;case"descendant":return e.type==="child"?1:-1;case"branch":return dW(n)}}function dW(t){const{a:e,b:n}=t,o=e.__key,r=n.__key;let i=e,s=n;for(;i&&s;i=i.getNextSibling(),s=s.getNextSibling()){if(i.__key===r)return-1;if(s.__key===o)return 1}return i===null?1:-1}function Nf(t,e){return e.is(t)}function HI(t){return me(t)?[t.getLatest(),null]:[t.getParent(),t.getLatest()]}function Cm(t,e){if(t.is(e))return{commonAncestor:t,type:"same"};const n=new Map;for(let[o,r]=HI(t);o;r=o,o=o.getParent())n.set(o,r);for(let[o,r]=HI(e);o;r=o,o=o.getParent()){const i=n.get(o);if(i!==void 0)return i===null?(Nf(t,o)||ye(276),{commonAncestor:o,type:"ancestor"}):r===null?(Nf(e,o)||ye(277),{commonAncestor:o,type:"descendant"}):((me(i)||Nf(t,i))&&(me(r)||Nf(e,r))&&o.is(i.getParent())&&o.is(r.getParent())||ye(278),{a:i,b:r,commonAncestor:o,type:"branch"})}return null}function xa(t,e){const{type:n,key:o,offset:r}=t,i=LMe(t.key);return n==="text"?(Pe(i)||ye(266,i.getType(),o),Xl(i,e,r)):(me(i)||ye(267,i.getType(),o),KMe(i,t.offset,e))}function kh(t,e){const{origin:n,direction:o}=e,r=o==="next";Rl(e)?t.set(n.getKey(),e.offset,"text"):iu(e)?Pe(n)?t.set(n.getKey(),Q3(n,o),"text"):t.set(n.getParentOrThrow().getKey(),n.getIndexWithinParent()+(r?1:0),"element"):(vi(e)&&me(n)||ye(268),t.set(n.getKey(),r?0:n.getChildrenSize(),"element"))}function qMe(t){const e=Fe(),n=Ae(e)?e:BV();return ym(n,t),Qo(n),n}function ym(t,e){kh(t.anchor,e.anchor),kh(t.focus,e.focus)}function BI(t){const{anchor:e,focus:n}=t,o=xa(e,"next"),r=xa(n,"next"),i=cW(o,r)<=0?"next":"previous";return Jl(su(o,i),su(r,i))}function nb(t){const{direction:e,origin:n}=t,o=eo(n,Zu(e)).getNodeAtCaret();return o?eo(o,e):_a(n.getParentOrThrow(),e)}function zI(t,e="root"){const n=[t];for(let o=vi(t)?t.getParentCaret(e):t.getSiblingCaret();o!==null;o=o.getParentCaret(e))n.push(nb(o));return n}function L6(t){return!!t&&t.origin.isAttached()}function GMe(t,e="removeEmptySlices"){if(t.isCollapsed())return t;const n="root",o="next";let r=e;const i=pW(t,o),s=zI(i.anchor,n),a=zI(i.focus.getFlipped(),n),l=new Set,c=[];for(const g of i.iterNodeCarets(n))if(vi(g))l.add(g.origin.getKey());else if(iu(g)){const{origin:C}=g;me(C)&&!l.has(C.getKey())||c.push(C)}for(const g of c)g.remove();for(const g of i.getTextSlices()){if(!g)continue;const{origin:C}=g.caret,v=C.getTextContentSize(),S=nb(eo(C,o)),y=C.getMode();if(Math.abs(g.distance)===v&&r==="removeEmptySlices"||y==="token"&&g.distance!==0)S.remove();else if(g.distance!==0){r="removeEmptySlices";let b=g.removeTextSlice();const w=g.caret.origin;if(y==="segmented"){const x=b.origin,_=wn(x.getTextContent()).setStyle(x.getStyle()).setFormat(x.getFormat());S.replaceOrInsert(_),b=Xl(_,o,b.offset)}w.is(s[0].origin)&&(s[0]=b),w.is(a[0].origin)&&(a[0]=b.getFlipped())}}let d,p;for(const g of s)if(L6(g)){d=ui(g);break}for(const g of a)if(L6(g)){p=ui(g);break}const h=function(g,C,v){if(!g||!C)return null;const S=g.getParentAtCaret(),y=C.getParentAtCaret();if(!S||!y)return null;const b=S.getParents().reverse();b.push(S);const w=y.getParents().reverse();w.push(y);const x=Math.min(b.length,w.length);let _;for(_=0;_<x&&b[_]===w[_];_++);const I=(k,R)=>{let M;for(let D=_;D<k.length;D++){const F=k[D];if(Za(F))return;!M&&R(F)&&(M=F)}return M},T=I(b,qs),A=T&&I(w,k=>v.has(k.getKey())&&qs(k));return T&&A?[T,A]:null}(d,p,l);if(h){const[g,C]=h;_a(g,"previous").splice(0,C.getChildren()),C.remove()}const m=[d,p,...s,...a].find(L6);if(m)return $Me(su(ui(m),t.direction));ye(269,JSON.stringify(s.map(g=>g.origin.__key)))}function ui(t){const e=function(r){let i=r;for(;vi(i);){const s=JS(i);if(!vi(s))break;i=s}return i}(t.getLatest()),{direction:n}=e;if(Pe(e.origin))return Rl(e)?e:Xl(e.origin,n,n);const o=e.getAdjacentCaret();return iu(o)&&Pe(o.origin)?Xl(o.origin,n,Zu(n)):e}function uW(t){return Rl(t)&&t.offset!==Q3(t.origin,t.direction)}function su(t,e){return t.direction===e?t:t.getFlipped()}function pW(t,e){return t.direction===e?t:Jl(su(t.focus,e),su(t.anchor,e))}function KMe(t,e,n){let o=_a(t,"next");for(let r=0;r<e;r++){const i=o.getAdjacentCaret();if(i===null)break;o=i}return su(o,n)}const hW=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,ZMe=hW?f.useLayoutEffect:f.useEffect,Hf={tag:"history-merge"};function QMe({initialConfig:t,children:e}){const n=f.useMemo(()=>{const{theme:o,namespace:r,nodes:i,onError:s,editorState:a,html:l}=t,c=vLe(null,o),d=wMe({editable:t.editable,html:l,namespace:r,nodes:i,onError:p=>s(p,d),theme:o});return function(p,h){if(h!==null){if(h===void 0)p.update(()=>{const m=Bt();if(m.isEmpty()){const g=gi();m.append(g);const C=hW?document.activeElement:null;(Fe()!==null||C!==null&&C===p.getRootElement())&&g.select()}},Hf);else if(h!==null)switch(typeof h){case"string":{const m=p.parseEditorState(h);p.setEditorState(m,Hf);break}case"object":p.setEditorState(h,Hf);break;case"function":p.update(()=>{Bt().isEmpty()&&h(p)},Hf)}}}(d,a),[d,c]},[]);return ZMe(()=>{const o=t.editable,[r]=n;r.setEditable(o===void 0||o)},[]),u(nV.Provider,{value:n,children:e})}function YMe(){return Bt().getTextContent()}function XMe(t,e=!0){if(t)return!1;let n=YMe();return e&&(n=n.trim()),n===""}function JMe(t){if(!XMe(t,!1))return!1;const e=Bt().getChildren(),n=e.length;if(n>1)return!1;for(let o=0;o<n;o++){const r=e[o];if(It(r))return!1;if(me(r)){if(!bMe(r)||r.__indent!==0)return!1;const i=r.getChildren(),s=i.length;for(let a=0;a<s;a++){const l=i[o];if(!Pe(l))return!1}}}return!0}function fW(t){return()=>JMe(t)}function eOe(t,e){const n=t.getStartEndPoints();if(e.isSelected(t)&&!e.isSegmented()&&!e.isToken()&&n!==null){const[o,r]=n,i=t.isBackward(),s=o.getNode(),a=r.getNode(),l=e.is(s),c=e.is(a);if(l||c){const[d,p]=Z7(t),h=s.is(a),m=e.is(i?a:s),g=e.is(i?s:a);let C,v=0;return h?(v=d>p?p:d,C=d>p?d:p):m?(v=i?p:d,C=void 0):g&&(v=0,C=i?d:p),e.__text=e.__text.slice(v,C),e}}return e}function VI(t,e){const n=xa(t.focus,e?"previous":"next");if(uW(n))return!1;for(const o of tb(n)){if(vi(o))return!o.origin.isInline();if(!me(o.origin)){if(It(o.origin))return!0;break}}return!1}function tOe(t,e,n,o){t.modify(e?"extend":"move",n,o)}function nOe(t){const e=t.anchor.getNode();return(Ro(e)?e:e.getParentOrThrow()).getDirection()==="rtl"}function WI(t,e,n){const o=nOe(t);tOe(t,e,n?!o:o,"character")}const mW=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,oOe=mW&&"documentMode"in document?document.documentMode:null;!(!mW||!("InputEvent"in window)||oOe)&&"getTargetRanges"in new window.InputEvent("input");function Y3(...t){return()=>{for(let e=t.length-1;e>=0;e--)t[e]();t.length=0}}function gW(t,e){return t!==null&&Object.getPrototypeOf(t).constructor.name===e.name}const vW=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?f.useLayoutEffect:f.useEffect;function rOe({editor:t,ariaActiveDescendant:e,ariaAutoComplete:n,ariaControls:o,ariaDescribedBy:r,ariaErrorMessage:i,ariaExpanded:s,ariaInvalid:a,ariaLabel:l,ariaLabelledBy:c,ariaMultiline:d,ariaOwns:p,ariaRequired:h,autoCapitalize:m,className:g,id:C,role:v="textbox",spellCheck:S=!0,style:y,tabIndex:b,"data-testid":w,...x},_){const[I,T]=f.useState(t.isEditable()),A=f.useCallback(R=>{R&&R.ownerDocument&&R.ownerDocument.defaultView?t.setRootElement(R):t.setRootElement(null)},[t]),k=f.useMemo(()=>function(...R){return M=>{R.forEach(D=>{typeof D=="function"?D(M):D!=null&&(D.current=M)})}}(_,A),[A,_]);return vW(()=>(T(t.isEditable()),t.registerEditableListener(R=>{T(R)})),[t]),u("div",{"aria-activedescendant":I?e:void 0,"aria-autocomplete":I?n:"none","aria-controls":I?o:void 0,"aria-describedby":r,...i!=null?{"aria-errormessage":i}:{},"aria-expanded":I&&v==="combobox"?!!s:void 0,...a!=null?{"aria-invalid":a}:{},"aria-label":l,"aria-labelledby":c,"aria-multiline":d,"aria-owns":I?p:void 0,"aria-readonly":!I||void 0,"aria-required":h,autoCapitalize:m,className:g,contentEditable:I,"data-testid":w,id:C,ref:k,role:I?v:void 0,spellCheck:S,style:y,tabIndex:b,...x})}const iOe=f.forwardRef(rOe);function jI(t){return t.getEditorState().read(fW(t.isComposing()))}const sOe=f.forwardRef(aOe);function aOe(t,e){const{placeholder:n,...o}=t,[r]=Kr();return L(SP,{children:[u(iOe,{editor:r,...o,ref:e}),n!=null&&u(lOe,{editor:r,content:n})]})}function lOe({content:t,editor:e}){const n=function(s){const[a,l]=f.useState(()=>jI(s));return vW(()=>{function c(){const d=jI(s);l(d)}return c(),Y3(s.registerUpdateListener(()=>{c()}),s.registerEditableListener(()=>{c()}))},[s]),a}(e),[o,r]=f.useState(e.isEditable());if(f.useLayoutEffect(()=>(r(e.isEditable()),e.registerEditableListener(s=>{r(s)})),[e]),!n)return null;let i=null;return typeof t=="function"?i=t(o):t!==null&&(i=t),i===null?null:u("div",{"aria-hidden":!0,children:i})}function J7(t,e){return J7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},J7(t,e)}var UI={error:null},cOe=function(t){var e,n;function o(){for(var i,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return(i=t.call.apply(t,[this].concat(a))||this).state=UI,i.resetErrorBoundary=function(){for(var c,d=arguments.length,p=new Array(d),h=0;h<d;h++)p[h]=arguments[h];i.props.onReset==null||(c=i.props).onReset.apply(c,p),i.reset()},i}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,J7(e,n),o.getDerivedStateFromError=function(i){return{error:i}};var r=o.prototype;return r.reset=function(){this.setState(UI)},r.componentDidCatch=function(i,s){var a,l;(a=(l=this.props).onError)==null||a.call(l,i,s)},r.componentDidUpdate=function(i,s){var a,l,c,d,p=this.state.error,h=this.props.resetKeys;p!==null&&s.error!==null&&((c=i.resetKeys)===void 0&&(c=[]),(d=h)===void 0&&(d=[]),c.length!==d.length||c.some(function(m,g){return!Object.is(m,d[g])}))&&((a=(l=this.props).onResetKeysChange)==null||a.call(l,i.resetKeys,h),this.reset())},r.render=function(){var i=this.state.error,s=this.props,a=s.fallbackRender,l=s.FallbackComponent,c=s.fallback;if(i!==null){var d={error:i,resetErrorBoundary:this.resetErrorBoundary};if(f.isValidElement(c))return c;if(typeof a=="function")return a(d);if(l)return f.createElement(l,d);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},o}(f.Component);function dOe({children:t,onError:e}){return u(cOe,{fallback:u("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:e,children:t})}const uOe=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?f.useLayoutEffect:f.useEffect;function pOe(t){return{initialValueFn:()=>t.isEditable(),subscribe:e=>t.registerEditableListener(e)}}function hOe(){return function(t){const[e]=Kr(),n=f.useMemo(()=>t(e),[e,t]),[o,r]=f.useState(()=>n.initialValueFn()),i=f.useRef(o);return uOe(()=>{const{initialValueFn:s,subscribe:a}=n,l=s();return i.current!==l&&(i.current=l,r(l)),a(c=>{i.current=c,r(c)})},[n,t]),o}(pOe)}function fOe(t){const e=window.location.origin,n=o=>{if(o.origin!==e)return;const r=t.getRootElement();if(document.activeElement!==r)return;const i=o.data;if(typeof i=="string"){let s;try{s=JSON.parse(i)}catch{return}if(s&&s.protocol==="nuanria_messaging"&&s.type==="request"){const a=s.payload;if(a&&a.functionId==="makeChanges"){const l=a.args;if(l){const[c,d,p,h,m,g]=l;t.update(()=>{const C=Fe();if(Ae(C)){const v=C.anchor;let S=v.getNode(),y=0,b=0;if(Pe(S)&&c>=0&&d>=0&&(y=c,b=c+d,C.setTextNodeRange(S,y,S,b)),y===b&&p===""||(C.insertRawText(p),S=v.getNode()),Pe(S)){y=h,b=h+m;const w=S.getTextContentSize();y=y>w?w:y,b=b>w?w:b,C.setTextNodeRange(S,y,S,b)}o.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",n,!0),()=>{window.removeEventListener("message",n,!0)}}function mOe(t,e){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const n=document.createElement("div"),o=Bt().getChildren();for(let r=0;r<o.length;r++)CW(t,o[r],n,e);return n.innerHTML}function CW(t,e,n,o=null){let r=o===null||e.isSelected(o);const i=me(e)&&e.excludeFromCopy("html");let s=e;if(o!==null){let m=aW(e);m=Pe(m)&&o!==null?eOe(o,m):m,s=m}const a=me(s)?s.getChildren():[],l=t._nodes.get(s.getType());let c;c=l&&l.exportDOM!==void 0?l.exportDOM(t,s):s.exportDOM(t);const{element:d,after:p}=c;if(!d)return!1;const h=document.createDocumentFragment();for(let m=0;m<a.length;m++){const g=a[m],C=CW(t,g,h,o);!r&&me(e)&&C&&e.extractWithChild(g,o,"html")&&(r=!0)}if(r&&!i){if((Do(d)||X7(d))&&d.append(h),n.append(d),p){const m=p.call(s,d);m&&(X7(d)?d.replaceChildren(m):d.replaceWith(m))}}else n.append(h);return r}function gOe(t,...e){const n=new URL("https://lexical.dev/docs/error"),o=new URLSearchParams;o.append("code",t);for(const r of e)o.append("v",r);throw n.search=o.toString(),Error(`Minified Lexical error #${t}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function vOe(t,e=Fe()){return e==null&&gOe(166),Ae(e)&&e.isCollapsed()||e.getNodes().length===0?"":mOe(t,e)}function $I(t,e){const n=t.getData("text/plain")||t.getData("text/uri-list");n!=null&&e.insertRawText(n)}const Qu=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,COe=Qu&&"documentMode"in document?document.documentMode:null,yOe=!(!Qu||!("InputEvent"in window)||COe)&&"getTargetRanges"in new window.InputEvent("input"),SOe=Qu&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),qI=Qu&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,bOe=Qu&&/^(?=.*Chrome).*/i.test(navigator.userAgent),wOe=Qu&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!bOe;function GI(t,e){e.update(()=>{if(t!==null){const n=gW(t,KeyboardEvent)?null:t.clipboardData,o=Fe();if(o!==null&&n!=null){t.preventDefault();const r=vOe(e);r!==null&&n.setData("text/html",r),n.setData("text/plain",o.getTextContent())}}})}function _Oe(t){return Y3(t.registerCommand(El,e=>{const n=Fe();return!!Ae(n)&&(n.deleteCharacter(e),!0)},Sn),t.registerCommand(Ah,e=>{const n=Fe();return!!Ae(n)&&(n.deleteWord(e),!0)},Sn),t.registerCommand(Th,e=>{const n=Fe();return!!Ae(n)&&(n.deleteLine(e),!0)},Sn),t.registerCommand(Id,e=>{const n=Fe();if(!Ae(n))return!1;if(typeof e=="string")n.insertText(e);else{const o=e.dataTransfer;if(o!=null)$I(o,n);else{const r=e.data;r&&n.insertText(r)}}return!0},Sn),t.registerCommand(V7,()=>{const e=Fe();return!!Ae(e)&&(e.removeText(),!0)},Sn),t.registerCommand(Td,e=>{const n=Fe();return!!Ae(n)&&(n.insertLineBreak(e),!0)},Sn),t.registerCommand(z7,()=>{const e=Fe();return!!Ae(e)&&(e.insertLineBreak(),!0)},Sn),t.registerCommand(wV,e=>{const n=Fe();if(!Ae(n))return!1;const o=e,r=o.shiftKey;return!!VI(n,!0)&&(o.preventDefault(),WI(n,r,!0),!0)},Sn),t.registerCommand(bV,e=>{const n=Fe();if(!Ae(n))return!1;const o=e,r=o.shiftKey;return!!VI(n,!1)&&(o.preventDefault(),WI(n,r,!1),!0)},Sn),t.registerCommand(_V,e=>{const n=Fe();return!!Ae(n)&&(!qI||navigator.language!=="ko-KR")&&(e.preventDefault(),t.dispatchCommand(El,!0))},Sn),t.registerCommand(xV,e=>{const n=Fe();return!!Ae(n)&&(e.preventDefault(),t.dispatchCommand(El,!1))},Sn),t.registerCommand(c2,e=>{const n=Fe();if(!Ae(n))return!1;if(e!==null){if((qI||SOe||wOe)&&yOe)return!1;e.preventDefault()}return t.dispatchCommand(Td,!1)},Sn),t.registerCommand(W7,()=>(IMe(),!0),Sn),t.registerCommand(FS,e=>{const n=Fe();return!!Ae(n)&&(GI(e,t),!0)},Sn),t.registerCommand(NS,e=>{const n=Fe();return!!Ae(n)&&(function(o,r){GI(o,r),r.update(()=>{const i=Fe();Ae(i)&&i.removeText()})}(e,t),!0)},Sn),t.registerCommand(B3,e=>{const n=Fe();return!!Ae(n)&&(function(o,r){o.preventDefault(),r.update(()=>{const i=Fe(),s=gW(o,ClipboardEvent)?o.clipboardData:null;s!=null&&Ae(i)&&$I(s,i)},{tag:"paste"})}(e,t),!0)},Sn),t.registerCommand(AV,e=>{const n=Fe();return!!Ae(n)&&(e.preventDefault(),!0)},Sn),t.registerCommand(TV,e=>{const n=Fe();return!!Ae(n)&&(e.preventDefault(),!0)},Sn))}const e8=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?f.useLayoutEffect:f.useEffect;function KI(t){return t.getEditorState().read(fW(t.isComposing()))}function xOe({contentEditable:t,placeholder:e=null,ErrorBoundary:n}){const[o]=Kr(),r=function(i,s){const[a,l]=f.useState(()=>i.getDecorators());return e8(()=>i.registerDecoratorListener(c=>{Mo.flushSync(()=>{l(c)})}),[i]),f.useEffect(()=>{l(i.getDecorators())},[i]),f.useMemo(()=>{const c=[],d=Object.keys(a);for(let p=0;p<d.length;p++){const h=d[p],m=u(s,{onError:C=>i._onError(C),children:u(f.Suspense,{fallback:null,children:a[h]})}),g=i.getElementByKey(h);g!==null&&c.push(Mo.createPortal(m,g,h))}return c},[s,a,i])}(o,n);return function(i){e8(()=>Y3(_Oe(i),fOe(i)),[i])}(o),L(SP,{children:[t,u(AOe,{content:e}),r]})}function AOe({content:t}){const[e]=Kr(),n=function(r){const[i,s]=f.useState(()=>KI(r));return e8(()=>{function a(){const l=KI(r);s(l)}return a(),Y3(r.registerUpdateListener(()=>{a()}),r.registerEditableListener(()=>{a()}))},[r]),i}(e),o=hOe();return n?typeof t=="function"?t(o):t:null}const TOe=20;function yW(t){setTimeout(()=>{t&&(t.scrollLeft=t.scrollWidth)},TOe)}function IOe(){const[t]=Kr();return f.useEffect(()=>{const e=t.registerUpdateListener(({editorState:n})=>{n.read(()=>{const o=Fe();document.activeElement===t.getRootElement()&&!o&&t.update(()=>{const r=Bt().getLastDescendant();if(Pe(r)){const i=r.getTextContentSize(),s=BV();s.setTextNodeRange(r,i,r,i),Qo(s)}},{onUpdate:()=>yW(t.getRootElement())})})});return()=>e()},[t]),null}function ob(t,e){var r;const n=Bt();n.clear();const o=gi();if(o.append(wn(t)),n.append(o),e!=null&&e.shouldMoveCursorToEnd){const i=o.getChildren().length,s=o.getChildren()[i-1];s instanceof Oc&&((r=s==null?void 0:s.select)==null||r.call(s))}}const EOe=({onInputChange:t,externalValue:e})=>{const[n]=Kr(),o=f.useRef(e);return f.useEffect(()=>n.registerUpdateListener(({editorState:r})=>{const i=r.read(()=>Bt().getFirstChild().getTextContent());[o.current,Ir.installationRequested,Ir.installationProgress].includes(i)||t(i)}),[n,t]),f.useEffect(()=>{e!==o.current&&(n.update(()=>{const r=Bt(),i=r.getTextContent();e!=null&&i!==e&&(r.clear(),ob(e,{shouldMoveCursorToEnd:!0}))}),o.current=e)},[e,n]),null},kOe=({onClick:t})=>{const[e]=Kr();return f.useEffect(()=>e.registerRootListener(n=>{if(!n)return;const o=r=>t(r);return n.addEventListener("click",o),()=>n.removeEventListener("click",o)}),[e,t]),null},ROe=({initialValue:t})=>{const[e]=Kr();return Oh(()=>{if(!t.length)return;const n=t.replace(/[\r\n]+/g,"");e.update(()=>{Bt().clear(),ob(n)})}),null},POe=(t,e)=>f.createElement("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M2.96841 5.74186C3.11028 5.74186 3.20735 5.64479 3.22228 5.51038C3.49107 3.5168 3.55828 3.5168 5.61907 3.12106C5.746 3.09865 5.84307 3.00906 5.84307 2.86719C5.84307 2.73279 5.746 2.63573 5.61907 2.62079C3.55828 2.32959 3.48361 2.2624 3.22228 0.238933C3.20735 0.0970695 3.11028 0 2.96841 0C2.83401 0 2.73694 0.0970695 2.71454 0.246404C2.47561 2.23999 2.36361 2.23253 0.317749 2.62079C0.190816 2.64319 0.09375 2.73279 0.09375 2.86719C0.09375 3.01653 0.190816 3.09865 0.347616 3.12106C2.37855 3.44959 2.47561 3.50186 2.71454 5.49545C2.73694 5.64479 2.83401 5.74186 2.96841 5.74186Z",fill:"currentColor"}),f.createElement("path",{d:"M8.03055 14C8.22469 14 8.36655 13.8581 8.40388 13.6564C8.93401 9.57224 9.50895 8.94496 13.5559 8.49702C13.7649 8.47463 13.9068 8.32532 13.9068 8.12368C13.9068 7.92959 13.7649 7.78021 13.5559 7.75781C9.50895 7.3098 8.93401 6.6826 8.40388 2.59089C8.36655 2.38929 8.22469 2.25488 8.03055 2.25488C7.83642 2.25488 7.69454 2.38929 7.66468 2.59089C7.13455 6.6826 6.55216 7.3098 2.51269 7.75781C2.29616 7.78021 2.1543 7.92959 2.1543 8.12368C2.1543 8.32532 2.29616 8.47463 2.51269 8.49702C6.54468 9.02709 7.10469 9.57224 7.66468 13.6564C7.69454 13.8581 7.83642 14 8.03055 14Z",fill:"currentColor"})),LOe=f.forwardRef(POe),MOe=f.memo(LOe),OOe=(t,e)=>f.createElement("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M1.66016 7.65171C1.66016 10.6126 4.04386 13 7.00255 13C9.95935 13 12.339 10.6126 12.339 7.65171C12.339 4.69114 9.98575 2.33034 7.03272 2.33034C6.76311 2.33034 6.50561 2.35865 6.27644 2.40098L7.60122 1.09588C7.71658 0.976481 7.78072 0.835241 7.78072 0.6579C7.78072 0.290812 7.49988 0 7.14465 0C6.9568 0 6.80424 0.0625295 6.68728 0.189474L4.25905 2.65894C4.12456 2.78966 4.05421 2.96349 4.05421 3.13923C4.05421 3.32466 4.12052 3.48475 4.25905 3.6214L6.68728 6.07469C6.8064 6.19381 6.9568 6.25445 7.14061 6.25445C7.49988 6.25445 7.78072 5.97551 7.78072 5.61031C7.78072 5.43297 7.71658 5.29172 7.59717 5.17233L6.10714 3.69415C6.3719 3.63753 6.68924 3.61137 7.03272 3.61137C9.25805 3.61137 11.0184 5.39433 11.0184 7.65171C11.0184 9.88297 9.23165 11.6794 7.00255 11.6794C4.77156 11.6794 2.97702 9.88297 2.97702 7.65171C2.97702 7.25391 2.71802 6.97469 2.33153 6.97469C1.93911 6.97469 1.66016 7.25391 1.66016 7.65171Z",fill:"currentColor"})),DOe=f.forwardRef(OOe),FOe=f.memo(DOe),t8=Se.memo(({position:t,type:e,hasDefaultEndIcon:n=!1})=>{const{classes:o}=NOe(),r={start:HOe(e),end:BOe(e,n)};return r[t]?u("div",{className:o.inputIcon,children:r[t]}):null});t8.displayName="InputIcon";const NOe=K()({inputIcon:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:0,width:"var(--option-icon-size)",height:"var(--option-icon-size)","& > *":{width:"1em",height:"1em"}}});function HOe(t){switch(t){case"password":return u(kR,{fontSize:"inherit"});case"history":return u(G8,{});case"aiProgress":return u(E3,{});case"aiSuccess":case"aiEdit":return u(MOe,{});case"aiError":case"activatingError":return u(F3,{});case"activatingProgress":return u(Oo,{size:12,thickness:4,color:"inherit"});default:return u(y9,{})}}function BOe(t,e){switch(t){case"aiEdit":case"aiError":return u(FOe,{});case"activatingIdle":return u(ba,{});default:return e?u(ba,{}):void 0}}const zOe=({onKeyDown:t})=>{const[e]=Kr();return f.useEffect(()=>{const n=e.registerCommand(SV,o=>o.key==="Enter"||o.key==="Tab"?(o.preventDefault(),t(o),!0):(t(o),!1),ZV);return()=>{n()}},[e,t]),null},VOe=()=>{const[t]=Kr();return f.useEffect(()=>{const e=t.registerCommand(B3,n=>{const{clipboardData:o}=n;if(!o)return!0;const i=o.getData("text/plain").replace(/[\r\n]+/g,"");return t.update(()=>{const s=Fe();Ae(s)&&s.insertText(i)},{onUpdate:()=>yW(t.getRootElement())}),!0},ZV);return()=>{e()}},[t]),null},WOe=({isTriggered:t,substituteValue:e,resultValue:n})=>{const[o]=Kr(),[r,i]=f.useState(!1);return f.useEffect(()=>{o.setEditable(!0),t&&!r&&(i(!0),o.setEditable(!1),o.update(()=>{ZI(e)})),!t&&r&&(o.update(()=>{ZI(n)}),i(!1))},[o,e,t,n,r]),null};function ZI(t){if(!t)return;Bt().clear(),ob(t)}const jOe={namespace:"editor",theme:{},onError:t=>{bP(t,"Initialization error in AutocompleteInputEditor")},nodes:[],editable:!0},UOe=t=>{const e=f.useRef(null),{title:n="",type:o,value:r,placeholder:i="",onBlur:s,onClick:a,onChange:l,onKeyDown:c,isNoSuggestionFocused:d}=t,{classes:p,cx:h}=GOe(),m=f.useRef(null);return Oh(()=>{m.current&&(m.current.style.whiteSpace="pre",m.current.style.overflow="hidden")}),L(re,{flexDirection:"row",alignItems:"center",className:h(p.editor,{[p.editorActivating]:o==="activatingIdle"}),children:[u(Ee,{className:h(p.editorSubstrate,{[p.editorSubstrateAnimated]:o==="aiProgress"})}),u(t8,{position:"start",type:o}),L(qt,{children:[u(xe,{when:o!=="password",children:u(Ee,{className:p.editorAreaWrapper,children:L(QMe,{initialConfig:jOe,children:[u(xOe,{contentEditable:u(sOe,{...$Oe(i),onBlur:s,ref:m,tabIndex:0}),ErrorBoundary:dOe}),u(ROe,{initialValue:r}),u(kOe,{onClick:a}),u(EOe,{onInputChange:l,externalValue:r}),u(zOe,{onKeyDown:c}),u(WOe,{isTriggered:M6(o),substituteValue:M6(o)?n:void 0,resultValue:o==="activatingIdle"?i:r}),u(VOe,{}),u(IOe,{})]})})}),u(xe,{when:o==="password",children:u("input",{type:"password","aria-label":"password-input",onChange:g=>l(g.target.value),value:r,onKeyDown:c,ref:e,className:h(p.editorAreaWrapper,p.editorPasswordInput,{[p.editorPasswordInputWithoutCaret]:M6(o)})})})]}),u(t8,{position:"end",type:o,hasDefaultEndIcon:d})]})};function $Oe(t){return t.length?{"aria-placeholder":t,placeholder:u("span",{children:t})}:{placeholder:null}}const qOe=["aiProgress","activatingIdle","activatingProgress","activatingError"];function M6(t){return qOe.includes(t)}const GOe=K()({editor:{position:"relative",margin:"var(--spacing)",borderRadius:"5px",color:si.inputTextColor,backgroundColor:si.inputBackgroundColor,"& ::selection":{backgroundColor:si.selectionColor}},editorActivating:{cursor:"pointer",caretColor:"transparent",backgroundColor:X0.regular.highlighted,fontWeight:"700"},editorSubstrate:{position:"absolute",inset:-1,zIndex:-1,border:"1px solid transparent",borderRadius:"6px",backgroundImage:si.inputHighlightBackgroundImage,backgroundOrigin:"border-box",backgroundClip:"border-box",backgroundSize:"200%",backgroundPosition:"120%"},editorSubstrateAnimated:{backgroundPosition:"-80%",transition:"background-position 800ms ease-out"},editorAreaWrapper:{position:"relative",width:"100%",marginLeft:"var(--spacing)",paddingRight:"var(--spacing)",background:"transparent",overflow:"hidden",'& > div[aria-hidden="true"]':{position:"absolute",inset:0,opacity:.5}},editorPasswordInput:{border:"none",outline:"none",color:"inherit",font:"inherit","&::placeholder":{color:"inherit",opacity:.5}},editorPasswordInputWithoutCaret:{caretColor:"transparent"}}),QI=172,KOe=t=>{const{activeIndex:e,className:n}=t,{classes:o,cx:r}=QOe({degrees:ZOe(e)});return u("div",{className:r(o.border,n)})};function ZOe(t){return t===void 0||t<1?QI:QI-t*10}const QOe=K()((t,e)=>({border:{position:"absolute",borderRadius:"inherit",inset:0,padding:"1px",WebkitMask:"linear-gradient(var(--white) 0 0) content-box, linear-gradient(var(--white) 0 0)",maskComposite:"exclude",WebkitMaskComposite:"xor",zIndex:-1,"&::before":{content:'""',position:"absolute",inset:"0px","--autocomplete-border-rotate-angle":`${e.degrees}deg`,transition:"--autocomplete-border-rotate-angle 200ms",background:si.borderImage("--autocomplete-border-rotate-angle")}}})),YOe=t=>{const{uiState:{showAutocomplete:e,shouldFollowToTerminalCursor:n,...o},data:{terminal:r,fontSize:i,terminalTabId:s,...a},handlers:{onOpenChange:l,...c}}=t;return u(tV,{open:e,onOpenChange:l,terminal:r,floatingPortalNodeId:s,floatTo:n?"cursor":"shell-prompt",fontSize:i,floatingComponent:({placement:d})=>u(XOe,{data:{...a,fontSize:i},uiState:{...o,placement:d},handlers:{...c,onTerminalFocus:r.focus}})})},XOe=({uiState:{placement:t,isFetchingPaths:e,isAutocompleteControllerVisible:n},data:{fontSize:o,activeIndex:r,autocompleteInfo:i,autocompleteOptions:s,autocompleteInputData:a},handlers:{onBlur:l,onSubmit:c,onChange:d,onKeyDown:p,onTerminalFocus:h,onHoverSuggestion:m}})=>{const{classes:g,cx:C}=JOe({fontSize:o}),v=f.useRef(null),S=f.useRef(null);Iu(S,"vertical",(M,D)=>{M.style.setProperty("-webkit-mask-image",lPe[D])});const y=GRe(),b=lt(F8),w=V(wP),x=b||w,_=s.some(M=>M.item.name==="activate autocomplete for this session"),I=QPe(s,r)||a.description,T=ds(s)&&!i,A=M=>{var D,F;(F=(D=v.current)==null?void 0:D.scrollTo)==null||F.call(D,{top:0}),d(M)},k=f.useCallback(M=>{nEe(M)||M.stopImmediatePropagation(),a.type==="activatingIdle"&&c()},[a.type,c]),R=()=>setTimeout(h,0);return u(gLe,{visible:n,children:u("div",{className:C(y,g.rootSpace,{[g.rootSpaceDescriptionOnTop]:t.includes("top"),[g.maxContentWidth]:_}),children:L("div",{className:g.suggestions,children:[u("div",{className:g.backdrop}),u(KOe,{activeIndex:r}),u(ZH,{onDeactivation:R,disabled:x,children:u(UOe,{...a,onBlur:l,onKeyDown:p,isNoSuggestionFocused:T||r==null,onChange:A,onClick:k})}),u("div",{className:g.separator,hidden:T&&!e}),u(sLe,{ref:v,isSuggestionsHidden:T,autocompleteOptions:s,autocompleteInfo:i,isFetchingPaths:e,activeIndex:r,onHoverSuggestion:m,onSubmit:c}),L(xe,{when:!e,children:[u("div",{className:g.separator,hidden:I==null}),u("div",{className:g.suggestionDescription,ref:S,hidden:I==null,children:I})]})]})})})},JOe=K()((t,{fontSize:e},n)=>({rootSpace:{"--overflow-mask":"#000000","--spacing":"5px","--line-height-ratio":"1.2","--option-icon-size":"calc(1em + 2 * var(--spacing))","--list-space":"clamp(70px, calc((var(--option-icon-size) + 2 * var(--spacing)) * 5.5 + 2 * var(--spacing)), 140px)","--description-space":"clamp(40px, calc(1em * var(--line-height-ratio) * 4.7 + 2 * var(--spacing)), 100px)",width:"clamp(240px, 28em, calc(100vw - 40px))",height:"calc(var(--list-space) + var(--description-space) + 1px)",fontWeight:450,fontFamily:"CircularXX, sans-serif",fontSize:`${e}px`,lineHeight:"var(--line-height-ratio)",display:"flex",flexDirection:"column"},backdrop:{position:"absolute",inset:"0px",borderRadius:"inherit",backdropFilter:si.backdropFilter,zIndex:-1},maxContentWidth:{width:"max-content"},rootSpaceDescriptionOnTop:{justifyContent:"end",[`& .${n.suggestions}`]:{flexDirection:"column-reverse"}},suggestions:{position:"relative",display:"flex",flexDirection:"column",borderRadius:10,overflow:"hidden",color:si.textColor,boxShadow:si.shadow,background:si.backgroundColor,zIndex:1},separator:{height:1,margin:"0 var(--spacing)",backgroundColor:si.dividerColor},suggestionDescription:{padding:"var(--spacing)",maxHeight:"var(--description-space)",overflow:"auto","&::-webkit-scrollbar":{display:"none"},"& mark":{backgroundColor:"transparent",color:"inherit",fontWeight:900},"& dt, & dd":{display:"inline"},"& dt":{opacity:.6,"&::before":{content:'""',display:"block"}}}})),eDe=({mediator:t,origin:e})=>{const{uiState:n,data:o,handlers:r}=qRe({mediator:t,origin:e});return u(YOe,{data:o,uiState:n,handlers:r})};function tDe(t,e=""){const n=oDe(t);if(n==null)return{action:"noop"};switch(t.item.insertionMode){case"append":return{action:"modify",value:n,fromIndex:nDe(e,t)};case"replace":return{action:"replace",value:n};case"none":default:return{action:"noop"}}}function nDe(t,e){if(!e.matches)return t.length;const n=e.matches[0],[o,r]=n.indices[0],i=r-o+1;return t.length-i}function oDe(t){const{item:e,matches:n}=t,{insertValue:o}=e;if(!Array.isArray(o))return o;if(n==null)return o[0];const r=Mz(n.filter(i=>i.refIndex!=null),"refIndex");return r?o[r.refIndex]:void 0}function rDe(t){return t.split(`
`)[0]}function YI(t){const{mode:e,mediator:n,suggestion:o,currentInput:r}=t,i=tDe(o,r),s=Lz(i,r);if(s===void 0)return;const a=e==="preview"?rDe(s):s;n.terminalApi.type($a(a,{clearLine:!0,connection:n.currentConnection}))}const jo={close:Dt("CLOSE"),dismiss:Dt("DISMISS"),syncIdentities:Dt("SYNC_IDENTITIES"),syncSnippets:Dt("SYNC_SNIPPETS"),syncHistory:Dt("SYNC_HISTORY"),pause:Dt("PAUSE"),resume:Dt("RESUME"),selectSuggestion:Dt("SELECT_SUGGESTION")},Xt={passwordPromptDetected:Dt("PASSWORD_PROMPT_DETECTED"),openAutocomplete:Dt("OPEN_AUTOCOMPLETE"),shellIntegrationStarted:Dt("SHELL_INTEGRATION_STARTED"),shellIntegrationActivated:Dt("SHELL_INTEGRATION_ACTIVATED"),shellIntegrationFailed:Dt("SHELL_INTEGRATION_FAILED"),updateActiveSuggestion:Dt("UPDATE_ACTIVE_SUGGESTION"),typing:Dt("TYPING"),syncCurrentIdentity:Dt("SYNC_CURRENT_IDENTITY"),input:Dt("INPUT"),syncPaths:Dt("SYNC_PATHS"),syncPathsFetching:Dt("SYNC_PATHS_FETCHING"),completion:Dt("COMPLETION"),forwardToTerminal:Dt("FORWARD_TO_TERMINAL"),completeWithCurrentInput:Dt("COMPLETE_WITH_CURRENT_INPUT"),enterNavigation:Dt("ENTER_NAVIGATION")};function Dt(t){const e=n=>({type:t,data:n});return e.match=n=>typeof n=="object"&&!Array.isArray(n)&&n!=null&&"type"in n&&n.type===t,e}function pi(t,e){return t.type===e}function iDe(t){return t?t.map(e=>{const n=rb(e,{trailingSpace:!0});return e.name!=null&&n!=null?{name:e.name,shortDescription:SW(e),description:e.description,insertValue:n,insertionMode:"append",type:"subcommand"}:void 0}).filter(e=>e!=null):[]}function Rh(t){return t?t.map(e=>{const n=rb(e,{trailingSpace:!1});return e.name!=null&&n!=null?{name:e.name,shortDescription:SW(e),description:e.description,insertValue:n,insertionMode:"append",type:"option"}:void 0}).filter(e=>e!=null):[]}function ec(t){return t?t.map(e=>{if(typeof e=="string")return{name:e,insertValue:`${e} `,insertionMode:"append",type:"argument"};const n=sDe.get(e.type)??"argument",o=rb(e,{trailingSpace:!0});return o!=null&&e.name!=null?{type:n,name:e.name,description:e.description,insertValue:o,insertionMode:"append"}:void 0}).filter(e=>e!=null):[]}const sDe=new Map([[void 0,"argument"],["argument","argument"],["arg","argument"],["file","filepath"],["folder","folder"],["option","option"],["subcommand","subcommand"]]),rb=(t,e)=>{const{name:n,insertValue:o}=t,r=e.trailingSpace?" ":"";return o!=null?o.replaceAll("{cursor}","")+r:Array.isArray(n)?n.map(i=>i+r):n!=null?n+r:void 0},SW=t=>{const{args:e}=t;return e==null?void 0:e.map(n=>{if(!n.name)return;const o=n.isOptional?["[","]"]:["<",">"],r=n.isVariadic?"...":"";return`${o[0]}${n.name}${r}${o[1]}`}).filter(n=>n!=null).join(" ")},XI=["snippet","history"],aDe=Az(async t=>{var c;const e={sentence:t,template:XI,suggestions:[]};if(t.length>fDe)return e;const n=await Tz(()=>Ez(t),{timeout:250});if(!n||n.last.length===0)return e;const o=!t.endsWith(" "),r=(c=Ti(n.last))==null?void 0:c.content;if(o&&r!=null&&(e.lastWord=r),n.last.length===1&&o)return e;const i=await SS(n.last);if(!i)return e;const s=o?lDe(i):bW(i),a=(s==null?void 0:s.template)??[],l=(s==null?void 0:s.suggestions)??[];return{lastWord:e.lastWord,sentence:e.sentence,template:fg(a.concat(XI)),suggestions:l}},{limit:10});function lDe(t){const e=Ti(t);if(Bl(t,-2)==null||e==null)return;const o=bW(t.slice(0,-1));if(o!=null)return n8(o)&&e.token.content.includes("/")&&(o.suggestions=o.suggestions.filter(r=>!pi(r,"subcommand")&&!pi(r,"option")&&!pi(r,"argument"))),o.suggestions=gDe(e,o.suggestions),o}function n8(t){return t!=null&&(t.template.includes("filepath")||t.template.includes("folder")||t.template.includes("symlink"))}function bW(t){const e=Ti(t);if(e)switch(e.type){case"command":return cDe(e);case"option":return uDe(e,t);case"argument":return pDe(e,t);case"option-argument":return hDe(e,t);case"unknown":default:return}}function cDe(t){const e=mg(t.spec.args),n=Aa(e==null?void 0:e.template),o=iDe(t.spec.subcommands);return o.push(...ec(e==null?void 0:e.suggestions)),o.push(...Rh(t.spec.options)),{template:n,suggestions:o}}function dDe(t){const e=Zo(t,i=>i.type==="argument"),n=e!=null?e.index+1:0,o=(e==null?void 0:e.parent)??Zo(t,i=>i.type==="command"),r=mr(n,o==null?void 0:o.spec.args);return r?{suggestions:ec(r.suggestions),template:Aa(r.template)}:{suggestions:[],template:[]}}function uDe(t,e){if(bS(t.token))return dDe(e);const n=mg(t.spec.args);if(n)return{suggestions:ec(n.suggestions),template:Aa(n.template)};const o=Zo(e,l=>l.type==="argument"),r=(o==null?void 0:o.index)??-1,i=t.parent.spec,s=mr(r+1,i.args),a=Mc(o)?Rh(i.options):[];return s?(a.unshift(...ec(s.suggestions)),{suggestions:a,template:Aa(s.template)}):{suggestions:a,template:[]}}function pDe(t,e){const n=Zo(e,i=>i.type==="argument"),o=Mc(n)?Rh(t.parent.spec.options):[],r=mr(t.index+1,t.parent.spec.args);return r?(o.unshift(...ec(r.suggestions)),{suggestions:o,template:Aa(r.template)}):{suggestions:o,template:[]}}function hDe(t,e){let n=mr(t.index+1,t.parent.spec.args);if(n)return{suggestions:ec(n.suggestions),template:Aa(n.template)};const o=Zo(e,a=>a.type==="argument"),r=(o==null?void 0:o.index)??-1,i=t.parent.parent.spec;n=mr(r+1,i.args);const s=Mc(o)?Rh(i.options):[];return n?(s.unshift(...ec(n.suggestions)),{suggestions:s,template:Aa(n.template)}):{suggestions:Rh(i.options),template:[]}}const fDe=3e3;function Aa(t){return t==null?[]:Array.isArray(t)?fg(t.flatMap(Aa).filter(pn)):mDe.get(t)??[]}const mDe=new Map([["filepaths",["folder","filepath","symlink"]],["folders",["folder"]],["history",["history"]]]);function gDe(t,e){var i;if(t.type!=="option"||((i=t.parent.spec.parserDirectives)==null?void 0:i.flagsArePosixNoncompliant)===!0||!yp(t.token.content))return e;const[,...n]=t.token.content.split(""),o=new Set(n);return e.filter(s=>{if(s.type!=="option")return!1;const a=Array.isArray(s.name)?s.name.some(c=>o.has(ta(c,"-"))):o.has(ta(s.name,"-")),l=Array.isArray(s.name)?s.name.some(c=>yp(c)):yp(s.name);return!a&&l}).map(s=>{if(Array.isArray(s.name)){const a=s.name.find(c=>yp(c));if(a==null)return;const l=ta(a,"-");return{...s,name:t.token.content+l,insertValue:t.token.content+l}}if(yp(s.name)){const a=ta(s.name,"-");return{...s,name:t.token.content+a,insertValue:t.token.content+a}}}).filter(s=>s!=null)}function yp(t){return/^-[^-]+/.test(t)}const vDe=80;class CDe{constructor(){E(this,"onPaths",e=>wDe(e,this.mediator.terminalApi.onCwdChange).pipe(v8(),sh(n=>{if(n==null)return oa([Bf("completed",[])]);const o=oa(this.fetchPathContent(n)),r=S2(vDe).pipe(fM(o),Mt(()=>Bf("loading",[]))),i=o.pipe(Mt(s=>Bf("completed",s)));return rc(oa([Bf("idle",[])]),r,i)})));E(this,"_mediator");E(this,"disposables",new gt)}activate(e){this.mediator=e}dispose(){this.disposables.dispose()}async setupIntegrationForCurrentChannel(e){var l;const{currentConnection:n,terminalApi:o}=e;if(!O3(e))return;if((n==null?void 0:n.protocol)==="ssh"){await e.setupShellIntegration();return}Ce((n==null?void 0:n.protocol)==="local");const r=await e.getShell();if(!r)return;const i=await RM(r);if(!i.success&&i.reason==="integration_has_been_installed"&&((l=n==null?void 0:n.featureSet)==null?void 0:l.includes("ShellIntegration")))return;if(!i.success){const{reason:c}=i;en(c!=="unsupported_shell",`Shell integration is not supported for ${r}`);return}const a=` ${i.lines.join(`${Tt.CR} `)}`;o.type($a(a,{run:!0,clearLine:!0,connection:n}))}async fetchPathContent(e){const n=await this.readdirAdapter(e);return(n==null?void 0:n.success)!==!0||n.hasFollowingPendingExecutions?[]:n.items}get readdirAdapter(){var e,n;return(e=this.mediator.currentConnection)!=null&&e.protocol?((n=this.mediator.currentConnection)==null?void 0:n.protocol)==="local"?wz:bz(this.mediator):()=>{}}set mediator(e){this._mediator=e}get mediator(){return Ce(this._mediator,"Please, activate the extension first."),this._mediator}}function Bf(t,e){return{status:t,items:e}}function yDe(t){return t.charAt(0)==="/"||t.startsWith("~/")}function SDe(t){let e=t.length-1,n=!1,o=0;for(;e>=0;){const r=t[e]==="\\";if(n&&!r){o=e+2;break}n=t[e]===" ",e-=1}return n?t.substr(o):null}function wW(t){return!/[^\w@%\-+=:,./ ()\\~]/.test(t)}function bDe(t,e){const n=SDe(t);if(n==null)return;const o=n.charAt(n.length-1)==="/";let r=n;if(yDe(n)||(r=`${e}/${n}`),!o){const i=r.lastIndexOf("/");i!==-1&&(r=r.substr(0,i+1))}if(wW(r))return r}function wDe(t,e){return rc(_De(t,e),xDe(e))}function _De(t,e){return t.pipe(Fm(e),Mt(([{sentence:n},o])=>bDe(n,o)),zr(pn))}function xDe(t){return t.pipe(Mt(e=>{if(wW(e))return e.endsWith("/")?e:`${e}/`}))}const ADe={spawn(t){const{mediator:e}=t;return yc((n,o)=>{const r=new gt,i=new CDe,s=new Pz,a=()=>{e.currentConnection&&n(Xt.syncCurrentIdentity(IDe(e.currentConnection)))};a(),i.activate(e),s.activate(e);let l;const c=()=>{l!=null&&clearTimeout(l),l=void 0},p=e.terminalApi.onInput.pipe(EDe(),kDe(()=>n(jo.close("noSuggestions")))).pipe(RDe()),h=i.onPaths(p);return r.add(p.subscribe(m=>{n(Xt.input(m))})).add(h.subscribe(m=>{const{status:g,items:C}=m;n(Xt.syncPathsFetching(g)),pn(C)&&n(Xt.syncPaths(C))})).add(s.onPrompt.subscribe(m=>{n(Xt.passwordPromptDetected(m))})).add(e.onShellIntegrationStatus.subscribe(m=>{switch(m.type){case"started":n(Xt.shellIntegrationStarted());break;case"succeeded":n(Xt.shellIntegrationActivated());break;case"failed":n(Xt.shellIntegrationFailed(m.reason));break}})).add(e.terminalApi.onScroll(()=>n(jo.dismiss("userScrolled")))).add(e.terminalApi.onFocus(()=>{c(),n(jo.resume())})).add(e.terminalApi.onBlur(()=>{c(),l=setTimeout(()=>n(jo.pause()),500)})).add(e.onShellReady.subscribe(()=>a())).add(s).add(i),o(m=>{switch(m.type){case"ACTIVATE":i.setupIntegrationForCurrentChannel(e);break}}),()=>{r.dispose(),c()}})},stop(t){var e,n;(n=(e=t.shellIntegrationActorRef)==null?void 0:e.stop)==null||n.call(e)}},JI={spawn(t){const e=t.mediator.terminalApi;return yc(n=>{const o=e.onKeyboardEvent.subscribe(r=>{if(r.type==="keydown")switch(r.key){case"Enter":{r.preventDefault(),n(jo.selectSuggestion({triggeredBy:"keyboard button"}));return}case"Tab":{r.preventDefault();const i=r.shiftKey?-1:1;n(Xt.updateActiveSuggestion({diff:i}));return}case"ArrowDown":{r.preventDefault(),n(Xt.updateActiveSuggestion({diff:1}));return}case"ArrowUp":{r.preventDefault(),n(Xt.updateActiveSuggestion({diff:-1}));return}case"Escape":{r.preventDefault(),n(jo.dismiss("userEscaped"));return}default:TDe(r)&&n(Xt.typing())}});return()=>{o.unsubscribe()}})},stop(t){var e,n;(n=(e=t.keyboardListenerActorRef)==null?void 0:e.stop)==null||n.call(e)}};function TDe(t){return t.type!=="keydown"||t.ctrlKey||t.metaKey?!1:t.key.length===1||t.key==="Space"||t.key==="Backspace"||t.key==="Delete"}function IDe(t){var i;const{host:e,protocol:n}=t;if(n==null)return;const o=(i=e.getMergedConfigFor(n))==null?void 0:i.identity.asIdentity();if(!o)return;let r="identity";return o.is_visible||(o.label=On.label(e),r=On.icon(e)),{identity:o,iconName:r}}const EDe=()=>zr(([t,e])=>(e==null?void 0:e.sequence)!==_n.CURSOR_UP1&&(e==null?void 0:e.sequence)!==_n.CURSOR_DOWN1&&(e==null?void 0:e.sequence)!==_n.ZSH_CURSOR_UP1&&(e==null?void 0:e.sequence)!==_n.ZSH_CURSOR_DOWN1),kDe=t=>Qf(([e,n])=>{(n==null?void 0:n.sequence)===Tt.ETX&&t()}),RDe=()=>sh(([t])=>oa(aDe(t)));function _W(t){return uP(t,"type")}function PDe(t){return t.map(e=>{var n;return{name:e.displayLabel,description:e.script,insertValue:e.script,insertionMode:"replace",type:"snippet",executable:!0,meta:{refLocalId:e.local_id,refId:`${e.id??-1}`,aianalyticsId:e.aianalyticsID,isShared:e.is_shared,packageId:Is(e),packageAnalyticsId:(n=e.package)==null?void 0:n.analytics_id}}})}function LDe(t){return t.map(e=>({type:"history",executable:!0,name:e.script,insertValue:e.script,insertionMode:"replace",meta:{refLocalId:e.local_id,rating:e.rating}}))}function MDe(t){return t.map(e=>{const n=Sz(e.name);return{insertValue:e.kind==="folder"?`${n}/`:n,insertionMode:"append",name:e.name,type:e.kind,meta:void 0}})}function O6(t){const e=To.label(t),n=t.password;if(!(!e||!n))return{type:"password",name:e,insertValue:n,insertionMode:"replace",executable:!0,meta:{refLocalId:t.local_id??void 0,username:t.username??void 0,priority:ODe(t),icon:"identity"}}}function ODe(t){var n;const e=((n=t.lastModifiedAt)==null?void 0:n.valueOf())??0;return .5+Number.parseFloat(`0.0${e}`)}function DDe(t){const e=_W(MDe(t));return[["folder",e.folder??[]],["filepath",e.filepath??[]],["symlink",e.symlink??[]]]}const eE="TYPING_PAUSE_TIMER",tE="NO_SUGGESTIONS_DISMISS_TIMER",FDe=E2({id:"root",initial:"loading",entry:["spawnShellIntegrationActor"],tsTypes:{},schema:{context:{},events:{},services:{}},predictableActionArguments:!0,preserveActionOrder:!0,states:{loading:{always:[{cond:"wasActiveBefore",target:"active"},{cond:"isLocalTerminal",target:"active"},{cond:"isAlternateBuffer",target:"inactive"},{cond:"isSplitView",target:"inactive"},{cond:"isWorkspaceView",target:"inactive"},{cond:"canShellBeActivated",target:"shouldActivate"},{target:"inactive"}]},inactive:{on:{SHELL_INTEGRATION_STARTED:{target:"activatingWithoutUi",actions:["onShellIntegrationStartedWithoutUi"]}}},shouldActivate:{entry:["spawnKeyboardListenerActor"],exit:["disposeKeyboardListenerActor"],on:{SELECT_SUGGESTION:{actions:["activateShellIntegration"]},SHELL_INTEGRATION_STARTED:{target:"activatingWithUi",actions:["onShellIntegrationStartedWithUi"]},DISMISS:[{cond:"isDismissViaEsc",target:"inactive",actions:["onDismiss","onDismissActivation"]}]}},activatingWithoutUi:{on:{SHELL_INTEGRATION_ACTIVATED:{target:"active",actions:["onShellIntegrationActivated","onShellIntegrationActivatedWithoutUi"]},SHELL_INTEGRATION_FAILED:{target:"inactive",actions:["onShellIntegrationFailedWithoutUi"]}}},activatingWithUi:{on:{SHELL_INTEGRATION_ACTIVATED:{target:"active.autocomplete",actions:["setInEmptyPrompt","invalidateAutocompleteSuggestions","onShellIntegrationActivated","onShellIntegrationActivatedWithUi"]},SHELL_INTEGRATION_FAILED:{target:"failedToActivate",actions:["onShellIntegrationFailedWithUi"]}}},failedToActivate:{entry:["couldNotActivateAutocomplete"],exit:["resetInfo","onFailedToActivate"],after:{shellIntegrationFailureAutoHideTimer:{target:"inactive"}}},active:{id:"active",initial:"closed",states:{hist:{type:"history",history:"deep",description:"This state is used to have ability to turn back to the previous active state"},closed:{description:"An initial state when autocomplete popup is not visible",entry:["reset","tryToOpenAutocomplete"],on:{INPUT:{actions:["cancelNoSuggestionsDismissTimer","setAutocompleteStrategy","resetActiveIndex","invalidateAutocompleteSuggestions","invalidateAutocompleteState"],description:"A user continue typing a command inside a terminal."},OPEN_AUTOCOMPLETE:{target:"autocomplete",cond:"shouldOfferAutocompleteSuggestions",description:"Internal event to make a transition from closed to opened state. Do not use it outside of the machine."},PASSWORD_PROMPT_DETECTED:[{target:"password",cond:"inPasswordPrompt",actions:["setInPasswordPrompt"],description:"Internal event from the spawned password prompt detection to make a transition to password autocompletion. Do not use it outside of the machine."},{cond:"wasInPasswordPrompt",actions:["resetStrategy"]}],PAUSE:{target:"paused",description:"A terminal loses focus"}}},dismissed:{description:"A special state for dismissed autocomplete popup. It is used to have ability to turn back to the previous active state",on:{INPUT:{actions:["cancelNoSuggestionsDismissTimer","setAutocompleteStrategy","resetActiveIndex","invalidateAutocompleteSuggestions","invalidateAutocompleteState"],description:"A user continue typing a command inside a terminal."},OPEN_AUTOCOMPLETE:{target:"autocomplete",cond:"shouldOfferAutocompleteSuggestions",description:"Internal event to make a transition from closed to opened state. Do not use it outside of the machine."},PASSWORD_PROMPT_DETECTED:[{target:"password",cond:"inPasswordPrompt",actions:["setInPasswordPrompt"],description:"Internal event from the spawned password prompt detection to make a transition to password autocompletion. Do not use it outside of the machine."},{cond:"wasInPasswordPrompt",actions:["resetStrategy"]}]}},generation:{initial:"pending",states:{pending:{description:"A user typed a prompt and sent it to generation",invoke:{src:"generateCommand",onDone:[{target:"fulfilled",actions:["reset","addGeneratedCommand","enterNavigation"],description:"A command was successfully generated out of a prompt"}],onError:[{target:"rejected",description:"A command was not generated out of a prompt",actions:["invalidateAutocompleteSuggestions","invalidateAutocompleteState","setError","reset"]}]},on:{INPUT:{actions:["setAutocompleteStrategy","resetActiveIndex","invalidateAutocompleteState"],description:"A user continue typing a command inside a terminal."}}},rejected:{description:"User sent a prompt to AI and the request was rejected",entry:["spawnKeyboardListenerActor"],exit:["disposeKeyboardListenerActor"],on:{INPUT:{actions:["cancelNoSuggestionsDismissTimer","setAutocompleteStrategy","invalidateAutocompleteSuggestions","invalidateAutocompleteState"],description:"A user continue typing.",target:"#active.closed"},DISMISS:{target:"#active.dismissed",actions:"onDismiss",description:"A user closes autocomplete popup or there are no suggestions to offer."},SELECT_SUGGESTION:[{target:"#active.generation",actions:["addLoadingOption"],description:"A user executes suggestion from autocomplete",cond:"isGenerateCommandSelected"}]}},fulfilled:{description:"A command was successfully generated out of a prompt",entry:["spawnKeyboardListenerActor"],exit:["disposeKeyboardListenerActor"],on:{INPUT:{actions:["setAutocompleteStrategy","invalidateAutocompleteState"],description:"A user continue typing a command inside a terminal."},UPDATE_ACTIVE_SUGGESTION:{target:"#root.navigating.regular",actions:"redirectToTarget",description:"A user starts navigates through the list of suggestions"},SELECT_SUGGESTION:{target:"#active.autocomplete",actions:"redirectToTarget"}}}},on:{TYPING:{target:"#active.autocomplete",actions:["resetActiveIndex"],description:"A user continue typing"},DISMISS:{target:"#active.dismissed",actions:"onDismiss",description:"A user closes autocomplete popup or there are no suggestions to offer."}}},autocomplete:{description:"Autocomplete popup is visible",entry:["spawnKeyboardListenerActor"],exit:["disposeKeyboardListenerActor"],on:{INPUT:{actions:["cancelNoSuggestionsDismissTimer","setAutocompleteStrategy","resetActiveIndex","invalidateAutocompleteSuggestions","invalidateAutocompleteState"],description:"A user continue typing a command inside a terminal."},UPDATE_ACTIVE_SUGGESTION:{cond:"notFetchingPaths",target:"#root.navigating.regular",actions:"redirectToTarget",description:"A user starts navigates through the list of suggestions"},SELECT_SUGGESTION:[{cond:"isGenerateCommandSelected",target:"generation",actions:["clearStrategyForNavigation","clearSuggestionsForNavigation","onConvertTextToCommand","invalidateAutocompleteSuggestions","addLoadingOption"],description:"A user selects a generate command option"},{target:"closed",actions:["completeAutocompletion","resetActiveIndex","clearStrategyForNavigation","clearSuggestionsForNavigation"],description:"A user executes suggestion from autocomplete"}],DISMISS:{target:"dismissed",actions:"onDismiss",description:"A user closes autocomplete popup or there are no suggestions to offer."},PAUSE:{target:"paused",description:"A terminal loses focus"}}},password:{description:"Password autocomplete popup is visible",entry:["cancelNoSuggestionsDismissTimer","spawnKeyboardListenerActor","invalidatePasswordSuggestions"],exit:["disposeKeyboardListenerActor"],on:{DISMISS:{target:"dismissed",actions:"onDismiss",description:"A user closes autocomplete popup"},UPDATE_ACTIVE_SUGGESTION:{target:"#root.navigating.password",actions:"redirectToTarget",description:"A user starts navigates through the list of suggestions"},SELECT_SUGGESTION:[{target:"closed",cond:"isPasswordActionSelected",actions:"onAddNewPassword",description:"A user selects a special action to add new password"},{target:"closed",actions:["completePassword","saveFavouritePassword","resetActiveIndex","clearSuggestionsForNavigation","clearStrategyForNavigation"],description:"A user selects a password from the list"}],TYPING:{actions:["cancelTypingPause","startTyping","scheduleTypingPause","invalidatePasswordSuggestions"],description:"Notifies the machine that user started typing"},PAUSE_TYPING:{actions:"pauseTyping",description:"Notifies the machine that user paused typing"},PASSWORD_PROMPT_DETECTED:{cond:"notInPasswordPrompt",actions:["onPasswordPromptDetectionMiss"],target:"#active.closed",description:"Notifies the machine that password prompt disappear from the terminal"},PAUSE:{target:"paused",description:"A terminal loses focus"}}},paused:{description:"A special state for terminal which lost a focus",on:{RESUME:[{target:"password",cond:"wasInPasswordPrompt",description:"Try to restore password autocomplete state if possible"},{target:"closed"}]}}},on:{DEACTIVATE:{target:"deactivated"},CLOSE:{target:"#active.closed"},SYNC_PATHS_FETCHING:{actions:["setIsFetchingPaths"]}}},navigating:{description:"A special state for navigating through the list of suggestions",entry:["spawnKeyboardListenerActor","saveStrategyForNavigation"],exit:["disposeKeyboardListenerActor"],on:{TYPING:{target:"#active.hist",actions:["resetActiveIndex","clearSuggestionsForNavigation","clearStrategyForNavigation"]},INPUT:{},PASSWORD_PROMPT_DETECTED:{cond:"notInPasswordPrompt",actions:["onPasswordPromptDetectionMiss","clearStrategyForNavigation","clearSuggestionsForNavigation","invalidatePasswordSuggestions"],target:"#active.closed",description:"Notifies the machine that password prompt disappear from the terminal"},SELECT_SUGGESTION:{target:"#active.hist",actions:"redirectToTarget"},DISMISS:{target:"#active.dismissed",actions:["onDismiss","resetActiveIndex","clearSuggestionsForNavigation","clearStrategyForNavigation"],description:"A user closes autocomplete popup"},CLOSE:{target:"#active.closed",actions:["onDismiss","resetActiveIndex","clearSuggestionsForNavigation","clearStrategyForNavigation"],description:"A user closes autocomplete popup"}},states:{regular:{description:"A special state for navigating through the list of regular suggestions",entry:["saveAutocompleteSuggestionsForNavigation"],on:{UPDATE_ACTIVE_SUGGESTION:{actions:["changeActiveAutocompleteOptionByKeyboard","insertActiveAutocompleteOption"]}}},password:{description:"A special state for navigating through passwords",entry:["savePasswordSuggestionsForNavigation"],on:{UPDATE_ACTIVE_SUGGESTION:{actions:["changeActivePasswordOption"]}}}}},deactivated:{on:{ACTIVATE:{target:"active"}}}},on:{SYNC_SNIPPETS:{actions:["cancelNoSuggestionsDismissTimer","setSnippets","invalidateAutocompleteSuggestions"]},SYNC_HISTORY:{actions:["cancelNoSuggestionsDismissTimer","setHistory","invalidateAutocompleteSuggestions"]},SYNC_PATHS:[{in:"navigating",actions:["setPaths","invalidateAutocompleteSuggestions"]},{actions:["cancelNoSuggestionsDismissTimer","setPaths","invalidateAutocompleteSuggestions","invalidateAutocompleteState"]}],SYNC_IDENTITIES:{actions:["cancelNoSuggestionsDismissTimer","setIdentities","invalidatePasswordSuggestions"]},SYNC_CURRENT_IDENTITY:{actions:["cancelNoSuggestionsDismissTimer","setCurrentIdentity","invalidatePasswordSuggestions"]},COMPLETION:{actions:["finalizeCommand","tryExecuteCommand","onSelectSuggestion"]},COMPLETE_WITH_CURRENT_INPUT:{actions:["tryExecuteCommand","onSelectSuggestion"]},FORWARD_TO_TERMINAL:{actions:["typeInTerminal"]},ENTER_NAVIGATION:{target:"navigating.regular",actions:["activateFirstSuggestion","insertActiveAutocompleteOption"],description:"A special event to enter navigation state and keep ability to go back to the target state by using history state"}}},{actions:{redirectToTarget:Us((t,e)=>jn(e)),enterNavigation:jn(Xt.enterNavigation()),saveAutocompleteSuggestionsForNavigation:Te(t=>({suggestionsInNavigation:t.lastAutocompleteSuggestions})),savePasswordSuggestionsForNavigation:Te(t=>({suggestionsInNavigation:t.lastPasswordSuggestions})),clearSuggestionsForNavigation:Te({suggestionsInNavigation:void 0}),saveStrategyForNavigation:Te(t=>({strategyInNavigation:t.lastStrategy})),clearStrategyForNavigation:Te({strategyInNavigation:void 0}),activateShellIntegration:t=>{var e;(e=t.shellIntegrationActorRef)==null||e.send({type:"ACTIVATE"})},tryToOpenAutocomplete:jn(Xt.openAutocomplete()),reset:Te(()=>({activeIndex:-1,typingState:"none"})),resetStrategy:Te({lastStrategy:()=>({lastWord:void 0,sentence:"",template:[],suggestions:[]})}),resetInfo:Te({info:void 0}),couldNotActivateAutocomplete:Te({info:{icon:"error",message:"Couldn't activate autocomplete"}}),resetActiveIndex:Te(()=>({activeIndex:-1})),activateFirstSuggestion:Te(()=>({activeIndex:0})),setAutocompleteStrategy:Te((t,{data:e})=>{const n=t.db.shallowClone(),o=[...e.template];if(e.suggestions){const r=HDe(e);for(const[i,s]of r)o.unshift(i),n.setItems(i,s)}return{lastStrategy:e,db:n,queryFor:o}}),invalidateAutocompleteSuggestions:Te({info:()=>{},lastAutocompleteSuggestions:t=>{const{lastStrategy:e,queryFor:n}=t;if(e!=null&&e.template.includes("empty")){const r=t.db.historyByRating().filter(i=>i.name.length>5).slice(0,3);if(!ds(r))return[BDe,...r].map(i=>({item:i}))}if(e==null||n==null)return t.lastAutocompleteSuggestions;const o=t.db.search({lastWord:e.lastWord,sentence:e.sentence},{include:n});return t.showShellAssist&&!$De(t.mediator.currentConnection)&&!o.length&&o.push({item:WDe}),o}}),invalidatePasswordSuggestions:Te({lastPasswordSuggestions:t=>{const{db:e}=t,n=e.search({lastWord:"",sentence:""},{include:["password"]});return n.push({item:VDe}),n}}),changeActiveAutocompleteOptionByKeyboard:Te({activeIndex:(t,{data:e})=>{const n=t.suggestionsInNavigation;if(n==null||t.activeIndex===-1&&e.diff>0)return 0;const o=t.activeIndex===-1?0:t.activeIndex;return rE(o,e.diff,{min:0,max:n.length-1})}}),insertActiveAutocompleteOption:t=>{const e=t.suggestionsInNavigation??t.lastAutocompleteSuggestions;if(e==null)return;const n=Bl(e,t.activeIndex);if(n==null)return;const o=t.strategyInNavigation??t.lastStrategy,{mediator:r}=t;r.terminalApi.focus(),YI({mode:"preview",mediator:r,suggestion:n,currentInput:o==null?void 0:o.sentence})},changeActivePasswordOption:Te({activeIndex:(t,{data:e})=>{const n=t.suggestionsInNavigation;return n==null?-1:rE(t.activeIndex,e.diff,{min:0,max:n.length-1})}}),invalidateAutocompleteState:_Z([{cond:"wasInPasswordPrompt",actions:[]},{cond:"wasInEmptyPrompt",actions:[]},{cond:"shouldOfferAutocompleteSuggestions",actions:[jn(Xt.openAutocomplete())]},{cond:"shouldCloseAutocompleteImmediately",actions:[jn(jo.close("noSuggestions"))]},{actions:[jn(jo.dismiss("noSuggestions"),{delay:"noSuggestionsDismissalTimer",id:tE})]}]),cancelNoSuggestionsDismissTimer:K6(tE),completeAutocompletion:Us((t,{data:e})=>{var d;const n=e.at??t.activeIndex,o=e.triggeredBy==="keyboard button";if(n===-1){const p={item:nE};return jn(Xt.completeWithCurrentInput({currentInput:(d=t.lastStrategy)==null?void 0:d.sentence,suggestion:p,tryExec:!0,index:n}))}const r=t.suggestionsInNavigation||t.lastAutocompleteSuggestions,i=t.strategyInNavigation||t.lastStrategy,s=r==null?void 0:r[n];if(s==null||i==null)return jn(Xt.forwardToTerminal(o?Tt.CR:Tt.HT));const c=new Array("snippet","history","aicommand").includes(s.item.type)||o;return jn(Xt.completion({currentInput:i.sentence,suggestion:s,tryExec:c,index:n}))}),completePassword:Us((t,{data:e})=>{var s;const{activeIndex:n,lastPasswordSuggestions:o}=t,r=e.at??n;if(r===-1){const a={item:nE};return jn(Xt.completeWithCurrentInput({currentInput:(s=t.lastStrategy)==null?void 0:s.sentence,suggestion:a,tryExec:!0,index:r}))}const i=o==null?void 0:o[r];if(i!=null)return jn(Xt.completion({currentInput:"",suggestion:i,tryExec:!0,index:r}))}),finalizeCommand:(t,{data:e})=>{const{mediator:n}=t,{suggestion:o,currentInput:r}=e;n.terminalApi.focus(),YI({mode:"apply",mediator:n,suggestion:o,currentInput:r})},tryExecuteCommand:(t,{data:e})=>{const{mediator:n}=t,{suggestion:o,tryExec:r}=e;r===!0&&o.item.executable===!0&&(n.terminalApi.focus(),n.terminalApi.type(Tt.CR))},saveFavouritePassword:Te((t,{data:e})=>{var s,a,l;const n=(e==null?void 0:e.at)??t.activeIndex,o=(a=(s=t.lastPasswordSuggestions)==null?void 0:s[n])==null?void 0:a.item;if(!o)return{};const r=pi(o,"password")?o.meta.refLocalId??void 0:void 0;let{db:i}=t;if(r!=null){i=t.db.shallowClone();const c=(l=i.toArray("password"))==null?void 0:l.find(d=>d.meta.refLocalId===r);c&&(c.meta.priority=oE())}return{favouritePasswordRefLocalId:r,db:i}}),setCurrentIdentity:Te({currentIdentityDescription:(t,{data:e})=>e,db:({db:t},{data:e})=>{if(e==null)return t;const n=t.toArray("password")??[];if((n==null?void 0:n.find(i=>i.meta.refLocalId===e.identity.local_id&&e.identity.local_id!=null))||n==null)return t;const r=O6(e.identity);return r==null?t:(r.meta.priority=D6,r.meta.icon=e.iconName,t.shallowClone().setItems("password",[r,...n]))}}),setIdentities:Te({db:({currentIdentityDescription:t,favouritePasswordRefLocalId:e,db:n},{data:o})=>{let r=!1;const i=o.map(s=>{const a=O6(s);if(a!=null)return a.meta.refLocalId===e?(a.meta.priority=oE(),a):(t!=null&&a.meta.refLocalId===t.identity.local_id&&(r=!0,a.meta.priority=D6,a.meta.icon=t.iconName),a)}).filter(pn);if(!r&&t!=null){const s=O6(t.identity);s&&(s.meta.priority=D6,s.meta.icon=t.iconName,i.push(s))}return n.shallowClone().setItems("password",i)}}),startTyping:Te(t=>({activeIndex:-1,typingState:"typing"})),pauseTyping:Te(t=>({typingState:"paused"})),scheduleTypingPause:jn({type:"PAUSE_TYPING"},{delay:"pauseTypingTimer",id:eE}),cancelTypingPause:K6(eE),setInPasswordPrompt:Te({lastStrategy:(t,{data:e})=>e?{template:["password"],lastWord:"",sentence:"",suggestions:[]}:t.lastStrategy,queryFor:(t,{data:e})=>e?["password"]:t.queryFor}),setInEmptyPrompt:Te({lastStrategy:{template:["empty"],lastWord:"",sentence:"",suggestions:[]}}),spawnShellIntegrationActor:Te({shellIntegrationActorRef:t=>ADe.spawn(t)}),spawnKeyboardListenerActor:Te({keyboardListenerActorRef:t=>JI.spawn(t)}),disposeKeyboardListenerActor:Te({keyboardListenerActorRef:t=>JI.stop(t)}),setSnippets:Te({db:(t,{data:e})=>t.db.shallowClone().setItems("snippet",PDe(e))}),setHistory:Te({db:(t,{data:e})=>t.db.shallowClone().setItems("history",LDe(e))}),setPaths:Te({db:(t,{data:e})=>{const n=DDe(e),o=t.db.shallowClone();for(const[r,i]of n)o.setItems(r,i);return o}}),setIsFetchingPaths:Te(({pathsFetchingStatus:t},{data:e})=>({pathsFetchingStatus:t==="loading"&&e==="idle"?t:e})),addGeneratedCommand:Te(({lastStrategy:t},{data:e})=>({info:void 0,lastAutocompleteSuggestions:[{item:{insertionMode:"replace",name:e.data,insertValue:e.data,description:e.description,type:"aicommand",meta:{executionCounter:e.executionCounter,riskLevel:e.riskLevel,id:e.id},executable:!0}},{item:{type:"action",insertionMode:"replace",insertValue:(t==null?void 0:t.sentence)||"",name:(t==null?void 0:t.sentence)||"",description:void 0,meta:{name:"retry"}}}]})),addLoadingOption:Te({info:()=>({icon:"loading",message:"AI is converting text to command"}),lastAutocompleteSuggestions:()=>[]}),setError:Te({info:(t,e)=>{var n;switch((n=e.data)==null?void 0:n.status){case 429:return{message:"Too many attempts. Try later.",icon:"error"};case 204:return{message:"AI could not generate results.",icon:"error"};default:return}},lastAutocompleteSuggestions:(t,e)=>{const n=e.data;return(n==null?void 0:n.status)!==429&&(n==null?void 0:n.status)!==204?[{item:jDe}]:[]}}),typeInTerminal:(t,{data:e})=>{t.mediator.terminalApi.type(e)},onShellIntegrationStartedWithoutUi:He,onShellIntegrationStartedWithUi:He,onShellIntegrationActivatedWithoutUi:He,onShellIntegrationActivatedWithUi:He,onShellIntegrationFailedWithoutUi:He,onShellIntegrationFailedWithUi:He},guards:{isPasswordActionSelected:(t,{data:e})=>{var r;const n=e.at??t.activeIndex,o=(r=t.lastPasswordSuggestions)==null?void 0:r[n];return(o==null?void 0:o.item.type)==="action"},inPasswordPrompt:(t,{data:e})=>e,notInPasswordPrompt:(t,{data:e})=>!e,notFetchingPaths:t=>t.pathsFetchingStatus!=="loading",wasInPasswordPrompt:t=>{var n;const e=(n=t.lastStrategy)==null?void 0:n.template;return(e==null?void 0:e.length)===1&&e[0]==="password"},isGenerateCommandSelected:(t,{data:e})=>{var i,s;const n=e.at??t.activeIndex,o=e.triggeredBy==="mouse click"?t.lastAutocompleteSuggestions:t.suggestionsInNavigation,r=o==null?void 0:o[n];return r?pi(r.item,"action")&&(((i=r.item.meta)==null?void 0:i.name)==="generate-command"||((s=r.item.meta)==null?void 0:s.name)==="error-retry"):!1},shouldOfferAutocompleteSuggestions:t=>{var e;return t.lastAutocompleteSuggestions!=null&&t.lastAutocompleteSuggestions.length>0&&((e=t.lastStrategy)==null?void 0:e.sentence)!=null&&t.lastStrategy.sentence.length>=1},shouldCloseAutocompleteImmediately:t=>{const{lastAutocompleteSuggestions:e,lastStrategy:n,suggestionsInNavigation:o}=t;return(o??e)==null||n==null||n.sentence.length<1},wasInEmptyPrompt:t=>{var n;return(((n=t.lastStrategy)==null?void 0:n.template)??[]).includes("empty")},wasActiveBefore:t=>t.shellIntegrationOptions.enable,isLocalTerminal:t=>{var e;return((e=t.mediator.currentConnection)==null?void 0:e.protocol)==="local"},isAlternateBuffer:t=>t.mediator.terminalApi.bufferType==="alternate",isSplitView:t=>t.isSplitView,isWorkspaceView:t=>t.isWorkspaceView,canShellBeActivated:t=>t.mediator.isShellReady&&O3(t.mediator),isDismissViaEsc:(t,e)=>e.data==="userEscaped"},delays:{shellIntegrationFailureAutoHideTimer:Ry,pauseTypingTimer:3e3,noSuggestionsDismissalTimer:400}}),Hs={isOpen:NDe,isInNavigateMode:t=>t.matches("navigating"),isAICommandSuggested:t=>{const e=t.context.suggestionsInNavigation??t.context.lastAutocompleteSuggestions;return e?e.some(n=>n.item.type==="aicommand"):!1},isFetchingPaths:t=>t.context.pathsFetchingStatus==="loading"&&n8(t.context.lastStrategy),isSettingUpShellIntegration:t=>t.matches("activatingWithUi"),suggestions(t){var n;if(!(t.context.pathsFetchingStatus==="completed")&&n8(t.context.lastStrategy)){const o=(n=t.context.lastAutocompleteSuggestions)==null?void 0:n[0];return(o==null?void 0:o.item.type)==="prompt"?[o]:[]}if(t.matches("navigating.regular")||t.matches("navigating.password"))return t.context.suggestionsInNavigation;if(t.matches("active.autocomplete")||t.matches("active.generation"))return t.context.lastAutocompleteSuggestions;if(t.matches("active.password"))return t.context.lastPasswordSuggestions;if(t.matches("activatingWithUi"))return[];if(t.matches("shouldActivate"))return[{item:zDe}]},selectedIndex(t){return t.context.activeIndex},selectInfo(t){return t.context.info}};function NDe(t){return t.matches("active.autocomplete")||t.matches("active.password")||t.matches("active.generation")||t.matches("navigating")||t.matches("activatingWithUi")||t.matches("failedToActivate")||t.matches("shouldActivate")}function HDe(t){const e=_W(t.suggestions);return[["subcommand",e.subcommand??[]],["option",e.option??[]],["argument",e.argument??[]]]}const nE={type:"prompt",name:"",insertValue:"",insertionMode:"append",executable:!0,meta:void 0},BDe={type:"prompt",name:"",shortDescription:"start typing...",insertValue:"",insertionMode:"append",executable:!0,meta:void 0},zDe={type:"prompt",name:"activate autocomplete for this session",shortDescription:"",insertValue:"",insertionMode:"none",executable:!0,meta:void 0},VDe={type:"action",name:"Add password for sudo",description:"Add and store your identities securely in Termius and use them for faster connections.",insertValue:"",insertionMode:"none",meta:{name:"add-identity"}},WDe={type:"action",name:"Convert text to command with AI",description:"Ask AI to convert your prompt to a shell command",insertValue:"",insertionMode:"none",meta:{name:"generate-command"}},jDe={type:"action",insertionMode:"none",insertValue:"",name:"Something went wrong. Try again",meta:{name:"error-retry"}};function oE(){return UDe+Number.parseFloat(`0.${Date.now()}`)}const D6=.6,UDe=.8;function rE(t,e,n){return t===n.min&&e===-1?n.max:t===n.max&&e===1?n.min:t+e}function $De(t){return t?!!(t.host.os_name==="windows"||t.protocol==="local"&&pu):!1}const iE=t=>N8(({value:e})=>e,({key:e})=>`${t}-snap-${e}`);class qDe{constructor(){E(this,"snap",{x:iE("x"),y:iE("y")})}invalidate(){var e,n,o,r;(n=(e=this.snap.x.cache).clear)==null||n.call(e),(r=(o=this.snap.y.cache).clear)==null||r.call(o)}get(e){return{x:this.snap.x({value:e.actual.x,key:e.at.x}),y:this.snap.y({value:e.actual.y,key:e.at.y})}}}const sE=new qDe;function GDe(t,e){return{name:"sticky",options:e,fn:n=>{const{enabled:o}=t;if(!o)return sE.invalidate(),n;const{threshold:r}=t,i=sE.get({actual:n,at:r});return{...n,...KDe({actual:n,snap:i,threshold:r})}}}}function KDe(t){const{actual:e,snap:n,threshold:o}=t,r={x:Math.abs(e.x-n.x),y:Math.abs(e.y-n.y)},i=r.x<o.x?n.x:e.x,s=r.y<o.y?n.y:e.y;return{x:i,y:s}}const xW=f.createContext(void 0),AW=t=>{const{refs:{setReference:e,floating:n},context:o,update:r}=L3({strategy:"fixed",placement:"bottom-start",middleware:[bC(),wC(),GDe({enabled:t.open&&!!t.sticky,threshold:{x:300,y:0}},[t.open,t.sticky])],open:t.open,onOpenChange:t.onOpenChange});QDe(t.terminal,e);const{cursorRect:i}=t.terminal;return ma(()=>i.subscribe(r),[i,r]),Gr(n,r),fS(o),u(hS,{id:t.floatingPortalNodeId,children:u(xW.Provider,{value:o,children:t.children})})},ZDe=()=>{const t=f.useContext(xW);return Ce(t,`${AW.name} is missing upper in the react tree`),t};function QDe(t,e){const n=aP(t.cursorRect),o=bi(()=>({contextElement:t.textareaElement,getBoundingClientRect(){return n.current??new DOMRectReadOnly(0,0,0,0)}}));f.useLayoutEffect(()=>{e(o.current)},[e,o])}class ib{constructor(e=iFe()){E(this,"order",["password","subcommand","argument","folder","filepath","symlink","option","snippet","history","aicommand"]);this.collections=e}search(e,n){const o=n!=null&&n.include?new Set(n.include):void 0;return this.order.filter(r=>(o==null?void 0:o.has(r))??!0).map(r=>this.collections[r]).filter(pn).map(r=>r.search(e)).flat()}setItems(e,n){var o;return(o=this.collections[e])==null||o.setItems(n),this}toArray(e){var n;return(n=this.collections[e])==null?void 0:n.toArray()}shallowClone(){return new ib(this.collections)}historyByRating(){var e;return((e=this.history)==null?void 0:e.byRating())??[]}get history(){return this.collections.history}}class YDe{constructor(e=[]){E(this,"fuse");this.items=e,this.fuse=new za(e,{keys:[{name:"name",weight:2},{name:"description",weight:1}],shouldSort:!0,useExtendedSearch:!0,includeScore:!0,includeMatches:!0})}search(e){return e.sentence?this.fuse.search(X3.includes(e.sentence)):this.items.slice(0,tc).map(n=>({item:n}))}setItems(e){this.items=e,this.fuse.setCollection(e)}toArray(){return this.items}}class F6{constructor(e=[]){E(this,"fuse");this.items=e,this.fuse=new za(e,{keys:["name"],shouldSort:!0,useExtendedSearch:!0,includeScore:!0,includeMatches:!0,isCaseSensitive:!1})}setItems(e){this.items=e,this.fuse.setCollection(e)}search(e){const n=nFe(e.lastWord??"");return n?this.fuse.search(X3.includes(n)).filter(r=>r.item.name!==n).sort(aE).map(JDe).filter(r=>XDe(r)).sort(eFe(n)).slice(0,tc):this.items.map(i=>({item:i,score:1})).sort(aE).slice(0,tc)}toArray(){return this.items}}function m2(t,e){var a;const n=(a=t.matches)==null?void 0:a[0];if(!n)return;const{indices:o,value:r}=n,[i,s]=o[0];return e!=null&&e.trimDotAtStart&&(r!=null&&r.startsWith("."))?{value:r.slice(1),start:i-1,end:s-1}:{value:r,start:i,end:s}}function XDe(t,e){const{start:n,value:o=""}=m2(t)??{};return n===void 0||n===0?!0:n>1||e!=null&&e.excludeDotAtStart?!1:o.startsWith(".")}function JDe(t){var e;return{...t,matches:(e=t.matches)==null?void 0:e.map(n=>({...n,indices:n.indices.slice(0,1)}))}}function eFe(t){return(e,n)=>{var r,i;const o={a:m2(e,{trimDotAtStart:!0}),b:m2(n,{trimDotAtStart:!0})};return!o.a||!o.b?0:o8(t,((r=o.b)==null?void 0:r.value)??"",[o.b.start,o.b.end])-o8(t,((i=o.a)==null?void 0:i.value)??"",[o.a.start,o.a.end])}}function tFe(t,e){const n=m2(e);return n?o8(t,(n==null?void 0:n.value)??"",[n.start,n.end]):0}function o8(t,e,n){let o=0;for(let r=n[0];r<=n[1];r+=1)t.includes(e[r])&&(o+=1/(r+1));return o}function nFe(t){return h8(`${t} `).replace(/\s$/,"")}class oFe{constructor(e=[]){E(this,"fuse");E(this,"sortedByRating");this.items=e,this.fuse=new za(e,{keys:["name"],shouldSort:!1,useExtendedSearch:!0,includeMatches:!0,distance:500,includeScore:!0,isCaseSensitive:!1,ignoreFieldNorm:!0})}search(e){const n=e.sentence.trim();return n?ga(this.fuse.search(X3.includes(n)).filter(o=>o.item.name!==n),[o=>o.item.meta.rating,o=>tFe(n,o)],["desc","desc"]).slice(0,tc):this.items.slice(0,tc).map(o=>({item:o}))}byRating(){return this.sortedByRating??(this.sortedByRating=ga(this.items,["meta.rating"],["desc"])),this.sortedByRating}setItems(e){this.sortedByRating=void 0,this.items=e,this.fuse.setCollection(e)}toArray(){return this.items}}class N6{constructor(e=[]){E(this,"fuse");this.items=e,this.fuse=new za(e,{keys:["name"],shouldSort:!0,useExtendedSearch:!0,includeScore:!0,includeMatches:!0,isCaseSensitive:!0})}search(e){const n=e.lastWord;return n?this.fuse.search(X3.startsWith(n)).filter(o=>Array.isArray(o.item.name)?!o.item.name.includes(n):o.item.name!==e.lastWord).slice(0,tc):this.items.slice(0,tc).map(o=>({item:o}))}setItems(e){this.items=e,this.fuse.setCollection(e)}toArray(){return this.items}}class rFe{constructor(e=[]){this.items=e}setItems(e){this.items=e}search(e){return ga(this.items,["meta.priority"],["desc"]).map(n=>({item:n}))}toArray(){return this.items}}const tc=15,X3={includes:t=>`'"${t}"`,startsWith:t=>`^"${t}"`};function iFe(){return{subcommand:new N6,option:new N6,argument:new N6,folder:new F6,filepath:new F6,symlink:new F6,snippet:new YDe,history:new oFe,password:new rFe}}function aE(t,e){return t.score===e.score?Nz(lE(t.item.name),lE(e.item.name)):0}function lE(t){return Array.isArray(t)?t[0]:t}function sFe(t){if(t==="filepath"||t==="symlink"||t==="folder")return"Path";if(t==="snippet")return"Snippet";if(t==="subcommand"||t==="option"||t==="argument")return"Build-in Command";if(t==="password")return"Passwords";if(t==="history")return"History";if(t==="aicommand")return"AI"}const aFe=f.forwardRef((t,e)=>{var C;const{children:n,fontSize:o,fontFamily:r,descriptionPlacement:i,activeIndex:s,startSlot:a,endSlot:l,maxContentWidth:c}=t,d=f.useRef(null);f.useEffect(()=>{var v;s===-1&&((v=d.current)==null||v.scrollTo({top:0}))},[s]);const{classes:p}=sb(),h=f.Children.map(n,(v,S)=>f.cloneElement(v,{isActive:s===S})),m=s!=null?(C=h[s])==null?void 0:C.props.description:void 0,g=f.useRef(null);return Iu(g,"vertical",(v,S)=>{v.style.setProperty("-webkit-mask-image",cFe[S])}),u("div",{className:ce(p.rootSpace,{[p.rootSpaceDescriptionOnTop]:i==="top",[p.maxContentWidth]:c}),style:{fontSize:o,fontFamily:r,opacity:ds(h)&&!a&&!l?0:1},children:L("div",{className:p.suggestions,ref:e,children:[L("ul",{ref:d,className:p.suggestionList,role:"listbox","aria-label":"Terminal autocompletion popup",children:[a,h,l]}),u("div",{className:p.separator,hidden:m==null}),u("div",{className:p.suggestionDescription,ref:g,hidden:m==null,children:m})]})})}),lFe=f.forwardRef((t,e)=>{const{classes:n}=sb(),{isActive:o=!1,children:r,secondary:i,icon:s,textOverflow:a="end",onClick:l,executable:c}=t,d=f.useRef(null),p=f.useRef(null),h=U2(e,d);f.useEffect(()=>{var g;o&&((g=d.current)==null||g.scrollIntoView({block:"nearest"}))},[o]),Iu(p,"horizontal",(g,C)=>{g.style.setProperty("-webkit-mask-image",TW[C])}),Gz(p,a);const m=typeof s=="string"?u("img",{src:s,alt:""}):s;return L("li",{role:"option","aria-selected":o,ref:h,tabIndex:-1,className:n.suggestionOption,onClick:l,children:[u(g2,{children:m}),L("span",{ref:p,className:n.suggestionOptionOverflow,children:[r,r?" ":"",i?u("span",{className:n.suggestionOptionSecondaryContent,children:i}):null]}),u(g2,{className:n.suggestionOptionEnd,children:c?u(ba,{}):void 0})]})});function g2(t){const{classes:e}=sb(),{children:n,className:o}=t;return n!=null?u("span",{className:ce(e.suggestionOptionIconContainer,o),children:f.cloneElement(n,{className:e.suggestionOptionIcon})}):null}const sb=K()((t,e,n)=>({rootSpace:{"--color":Q.foregroundColor,"--background":Q.gradientColor,"--background-backdrop-filter":"blur(4px)","--border-color":Q.uiColorA10,"--background-highlighted":Q.uiColorA10,"--background-highlighted-slightly":Q.uiColorA10,"--color-fade":Q.foregroundColorA20,"--spacing":"5px","--line-height-ratio":"1.2","--option-icon-size":"calc(1em + 2 * var(--spacing))","--list-space":"clamp(70px, calc((var(--option-icon-size) + 2 * var(--spacing)) * 5.5 + 2 * var(--spacing)), 140px)","--description-space":"clamp(40px, calc(1em * var(--line-height-ratio) * 4.7 + 2 * var(--spacing)), 100px)",width:"clamp(240px, 24em, 320px)",height:"calc(var(--list-space) + var(--description-space) + 1px)",fontWeight:450,lineHeight:"var(--line-height-ratio)",display:"flex",flexDirection:"column"},maxContentWidth:{width:"max-content"},rootSpaceDescriptionOnTop:{justifyContent:"end",[`& .${n.suggestions}`]:{flexDirection:"column-reverse"}},suggestions:{display:"flex",flexDirection:"column",borderRadius:10,overflow:"hidden",background:"var(--background)",color:"var(--color)",backdropFilter:"var(--background-backdrop-filter)"},suggestionList:{listStyle:"none",margin:"var(--spacing)",padding:0,maxHeight:"calc(var(--list-space) - 2 * var(--spacing))",overflow:"auto","&::-webkit-scrollbar":{display:"none"}},separator:{height:1,backgroundColor:"var(--border-color)"},suggestionDescription:{fontStyle:"italic",padding:"var(--spacing)",maxHeight:"var(--description-space)",overflow:"auto","&::-webkit-scrollbar":{display:"none"},"& mark":{backgroundColor:"var(--color-fade)",color:"inherit"},"& dt, & dd":{display:"inline"},"& dt":{opacity:.6,"&::before":{content:'""',display:"block"}}},suggestionOption:{display:"flex",alignItems:"center",gap:"calc(2 * var(--spacing))",borderRadius:5,zIndex:1,position:"relative","&:hover":{backgroundColor:"var(--background-highlighted-slightly)",[`& .${n.suggestionOptionEnd}`]:{display:"flex"}},'&[aria-selected="true"]':{backgroundColor:"var(--background-highlighted)",[`& .${n.suggestionOptionEnd}`]:{display:"flex"}},"& mark":{backgroundColor:"var(--color-fade)",color:"inherit"}},suggestionOptionIconContainer:{width:"var(--option-icon-size)",height:"var(--option-icon-size)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:5},suggestionOptionIcon:{width:"1em",height:"1em"},suggestionOptionEnd:{backgroundColor:"inherit",display:"none"},suggestionOptionOverflow:{flex:1,overflowY:"hidden",overflowX:"auto",whiteSpace:"nowrap","&::-webkit-scrollbar":{display:"none"}},suggestionOptionSecondaryContent:{opacity:.6}})),TW={start:"linear-gradient(90deg, transparent, black 8%)",end:"linear-gradient(90deg, black 92%, transparent)",both:"linear-gradient(90deg, transparent, black 8%, black 92%, transparent)",none:"none"},cFe={start:"linear-gradient(180deg, transparent, black 15%)",end:"linear-gradient(180deg, black 85%, transparent)",both:"linear-gradient(180deg, transparent, black 15%, black 85%, transparent)",none:"none"},H6=({message:t,icon:e,variant:n="regular",executable:o=!1})=>{const{classes:r}=dFe(),i=f.useRef(null),s=typeof e=="string"?uFe.get(e):e;return Iu(i,"horizontal",(a,l)=>{a.style.setProperty("-webkit-mask-image",TW[l])}),L("div",{className:r.suggestionOption,children:[u(g2,{children:s}),u("span",{ref:i,className:ce(r.suggestionOptionOverflow,{[r.variantSecondary]:n==="secondary"}),children:t}),u(g2,{className:r.suggestionOptionEnd,children:o?u(ba,{}):void 0})]})},dFe=K()({suggestionOption:{display:"flex",alignItems:"center",gap:"calc(2 * var(--spacing))",borderRadius:3,zIndex:1,position:"relative","&:hover":{backgroundColor:"var(--background-highlighted-slightly)","& $suggestionOptionEnd":{display:"flex"}},'&[aria-selected="true"]':{backgroundColor:"var(--background-highlighted)","& $suggestionOptionEnd":{display:"flex"}}},suggestionOptionEnd:{backgroundColor:"inherit",display:"none"},suggestionOptionOverflow:{flex:1,overflowY:"hidden",overflowX:"auto",whiteSpace:"nowrap","&::-webkit-scrollbar":{display:"none"}},variantSecondary:{opacity:.6}}),uFe=new Map([["loading",u(E3,{})],["error",u(F3,{})]]),pFe=(t,e)=>f.createElement("svg",{width:8,height:8,viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.39.688a.5.5 0 1 0-.78.624L2.76 4 .61 6.688a.5.5 0 0 0 .78.624l2.4-3L4.04 4l-.25-.312-2.4-3ZM3.5 7a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4Z",fill:"currentColor"})),hFe=f.forwardRef(pFe),fFe=f.memo(hFe);function mFe(t){if(zf(t,"password"))return gFe(t);if(zf(t,"prompt"))return CFe(t);if(zf(t,"aicommand"))return vFe(t);if(zf(t,"action"))return yFe(t);const{matches:e,item:n}=t,{name:o,description:r,shortDescription:i,executable:s}=n,a=r!=null?e==null?void 0:e.find(p=>p.key==="description"):void 0,l=Array.isArray(o)?o:[o],d=SFe(l,e==null?void 0:e.filter(p=>p.key==="name")).map(([p,h])=>u(e2,{ranges:h==null?void 0:h.indices,children:p},p));return{icon:wFe.get(t.item.type),executable:s,secondary:i,textOverflow:t.item.type==="prompt"?"start":"end",description:r!=null?u(e2,{ranges:a==null?void 0:a.indices,children:r}):void 0,children:bFe(d,", ")}}function gFe(t){var o,r,i;const e=(o=t.item.meta)==null?void 0:o.icon;return{icon:(e?(r=J2[e])==null?void 0:r.icon:void 0)??u(Zz,{}),description:L("dl",{children:[u("dt",{children:"Username:"})," ",u("dd",{children:(i=t.item.meta)==null?void 0:i.username}),u("dt",{children:"Password:"})," ",u("dd",{children:"*".repeat(t.item.insertValue.length)})]}),executable:!0,children:t.item.name}}function vFe(t){const e=t.item.meta.riskLevel.toLowerCase();return{icon:u(ls,{}),secondary:t.item.shortDescription,description:L(Se.Fragment,{children:[t.item.description,u("div",{style:{display:"flex"},children:L("div",{style:{display:"inline-flex",alignItems:"center",gap:"5px"},children:["Risk: ",`${e} `," Runs: ",t.item.meta.executionCounter]})})]}),executable:!0,children:t.item.name}}function CFe(t){return{icon:u(fFe,{}),secondary:t.item.shortDescription,description:t.item.description,executable:!0,children:t.item.name}}function yFe(t){switch(t.item.meta.name){case"add-identity":return{icon:u(Qz,{}),secondary:t.item.shortDescription,description:t.item.description,executable:!0,children:t.item.name};case"generate-command":return{icon:u(ls,{}),secondary:t.item.shortDescription,description:t.item.description,executable:!0,children:t.item.name};case"retry":return{icon:u(Zge,{}),description:t.item.description,children:t.item.name};case"error-retry":return{icon:u(e3e,{}),secondary:t.item.shortDescription,description:t.item.description,executable:!1,children:t.item.name,isActive:!0};case"error":return{icon:u(F3,{}),secondary:t.item.shortDescription,description:t.item.description,executable:!1,children:t.item.name,isActive:!1,onClick:void 0};default:return{secondary:t.item.shortDescription,description:t.item.description,executable:!0,children:t.item.name}}}function SFe(t,e){const n=e==null?void 0:e.filter(r=>r.key==="name");return(Array.isArray(t)?t:[t]).map(r=>{const i=n==null?void 0:n.find(s=>s.value===r);return[r,i]})}function bFe(t,e=", "){return t.flatMap((n,o)=>o===t.length-1?n:[n,e])}const wFe=new Map([["snippet",u(Oi,{})],["folder",u(Yz,{})],["filepath",u(Xz,{})],["symlink",u(kC,{})],["subcommand",u(Ad,{})],["option",u(Ad,{})],["argument",u(Ad,{})],["history",u(NF,{})],["aicommand",u(ls,{})]]);function zf(t,e){return pi(t.item,e)}const _Fe=(t,e)=>{const{send:n}=t,o=V(pg);f.useEffect(()=>{n(jo.syncSnippets(o))},[n,o]);const r=V(pC);f.useEffect(()=>{n(jo.syncIdentities(r))},[r,n]);const i=V(f.useCallback(s=>pP(s,e.terminalId),[e.terminalId]));f.useEffect(()=>{n(jo.syncHistory(i??[]))},[i,n])};function xFe(t){const{mediator:e}=t,n=de(),o=tt(),r=bi(()=>new ib),i=V(RC),s=V(n1),a=V(hP),l=V(sc),c=V(cg),d=bi(()=>({enable:!!e.currentConnection&&a.includes(e.currentConnection.id)})),[p,h]=f.useState(void 0),m=V(D=>yP(D,"FreeFeatures")).length>0,g=Pc("aiForAutocomplete"),C=fP(()=>FDe,{context:{activeIndex:0,mediator:e,db:r.current,typingState:"none",shellIntegrationOptions:d.current,showShellAssist:l||c,isSplitView:t.origin==="Split View",isWorkspaceView:t.origin==="Workspace View",info:p},actions:{onDismiss:(D,F)=>{const z=D.mediator.currentConnection,j=z==null?void 0:z.id;j&&n(fl({success:"no",length:void 0,position:void 0,suggestionSource:void 0,closeReason:yz(F.data),connectionID:j,autocompleteVersion:Ft.hydrogen,...ci(z)}))},onAddNewPassword:()=>{n(_P({terminalId:e.terminalApi.id})),n(fR({createIdentityOrigin:"Autocomplete for sudo"})),n(nC({identitySource:"Autocomplete for sudo",identityID:0,numberOfLinkedElements:0}))},onConvertTextToCommand:D=>{var F;return n(dg({magicButtonOrigin:"Autocomplete",connectionID:(F=D.mediator.currentConnection)==null?void 0:F.id}))},onFailedToActivate:D=>{var z;n(vd(zm.DISABLED));const F=(z=D.mediator.currentConnection)==null?void 0:z.id;F&&n(iv({autocompleteVersion:Ft.hydrogen,autocompleteState:"disabled",connectionID:F}))},onDismissActivation:()=>{n(vd(zm.DISABLED))},onSelectSuggestion:(D,{data:F})=>{const{suggestion:z,index:j,tryExec:H,currentInput:O=""}=F,U=z.item,N=D.mediator.currentConnection,W=N==null?void 0:N.id;if(!W)return;const B=ci(N);if(pi(U,"aicommand")&&H&&We(o,vP,{id:U.meta.id}),pi(U,"snippet")&&H&&n(Va({snippetSource:"Autocomplete",isExecutedInMultipleTabs:"no",snippetID:U.meta.refId,aianalyticsID:U.meta.aianalyticsId,snippetPackageID:U.meta.packageId,isSharedEntity:Wt(U.meta.isShared),isExecutedInSplitView:Wt(t.origin==="Split View"),predefinedSnippetPackageID:U.meta.packageAnalyticsId,...B})),pi(U,"action")&&U.meta.name==="retry"){n(mP({connectionID:W}));return}if(!pi(U,"prompt")){n(fl({success:"yes",suggestionSource:sFe(z.item.type),position:j,length:O.length,closeReason:void 0,connectionID:W,autocompleteVersion:Ft.hydrogen,...B}));return}n(fl({success:"no",position:0,suggestionSource:void 0,length:void 0,closeReason:void 0,connectionID:W,autocompleteVersion:Ft.hydrogen,...B}))},onShellIntegrationActivated:()=>{e.currentConnection&&n(gP(e.currentConnection.id))},onPasswordPromptDetectionMiss:()=>{},onShellIntegrationStartedWithoutUi:D=>{const{currentConnection:F}=D.mediator;F!=null&&F.protocol!=="local"&&n(Nm({onScreen:"Connection Flow",connectionID:F.id,autocompleteVersion:Ft.hydrogen}))},onShellIntegrationStartedWithUi:D=>{D.mediator.currentConnection!=null&&n(Nm({onScreen:"Terminal",connectionID:D.mediator.currentConnection.id,autocompleteVersion:Ft.hydrogen}))},onShellIntegrationActivatedWithoutUi:D=>{const{currentConnection:F}=D.mediator;F!=null&&F.protocol!=="local"&&n(Hm({onScreen:"Connection Flow",connectionID:F.id,autocompleteVersion:Ft.hydrogen}))},onShellIntegrationActivatedWithUi:D=>{D.mediator.currentConnection!=null&&n(Hm({onScreen:"Terminal",connectionID:D.mediator.currentConnection.id,autocompleteVersion:Ft.hydrogen}))},onShellIntegrationFailedWithoutUi:(D,{data:F})=>{const{currentConnection:z}=D.mediator;z!=null&&z.protocol!=="local"&&n(Bm({onScreen:"Connection Flow",connectionID:z.id,shellPerformanceBoostFailureReason:$0(F),autocompleteVersion:Ft.hydrogen}))},onShellIntegrationFailedWithUi:(D,{data:F})=>{D.mediator.currentConnection!=null&&n(Bm({onScreen:"Terminal",connectionID:D.mediator.currentConnection.id,shellPerformanceBoostFailureReason:$0(F),autocompleteVersion:Ft.hydrogen}))}},services:{generateCommand:async D=>{var U,N,W,B,$;if(!D.lastStrategy)throw new Error;if(h(D.info),!await g({from:"AI Command Generator"}))throw h(void 0),D.mediator.terminalApi.focus(),new Error;D.mediator.terminalApi.focus();const z=(U=D.mediator.currentConnection)!=null&&U.host?eC(D.mediator.currentConnection.host):void 0,j=z?(N=D.mediator.currentConnection)==null?void 0:N.host.os_name:CP(),H=(W=D.mediator.currentConnection)!=null&&W.host.tags&&((B=D.mediator.currentConnection)!=null&&B.host.tags.length)?($=D.mediator.currentConnection)==null?void 0:$.host.tags:void 0,O=await D.mediator.getShell();try{const q=await We(o,ug,{prompt:D.lastStrategy.sentence,meta:{os_name:j,tags:H,shell_type:O,connection_type:z}});return{id:q.id,data:q.result,riskLevel:q.risk_level,executionCounter:q.execution_counter,description:q.description,tryExec:!1,at:0}}catch(q){const X=D.mediator.currentConnection,ee=X==null?void 0:X.id;throw ee&&n(fl({success:"no",position:0,suggestionSource:"AI",length:void 0,closeReason:"Request failed",connectionID:ee,autocompleteVersion:Ft.hydrogen,...ci(X)})),q}finally{h(void 0)}}},id:`terminal-assistant-${t.mediator.terminalApi.id}`});_Fe(C,{terminalId:t.mediator.terminalApi.id});const v=Os(C,Hs.isOpen),S=Yn(D=>{if(!D){if(m)return;C.send(jo.dismiss("userClickedOutside"))}}),y=Os(C,Hs.suggestions)??[],b=Os(C,Hs.selectedIndex),w=Os(C,Hs.selectInfo),x=Os(C,Hs.isFetchingPaths),_=Os(C,Hs.isSettingUpShellIntegration),I=Os(C,Hs.isInNavigateMode),T=Os(C,Hs.isAICommandSuggested),A=$1(),k=v&&!m,R=p?[]:y,M=p??w;return u(AW,{open:k,onOpenChange:S,terminal:t.mediator.terminalApi,floatingPortalNodeId:A,sticky:I&&!T,children:u(AFe,{colorScheme:t.colorScheme,fontSize:s,fontFamily:i,options:R,info:M,activeIndex:b,isFetchingContent:x,isSettingUpIntegration:_,isInNavigationMode:I,onOptionClick:D=>{e.terminalApi.focus(),C.send(jo.selectSuggestion({at:D,triggeredBy:"mouse click"}))}})})}function AFe(t){const e=ZDe(),{terminalColors:n}=gc(t.colorScheme),o=t.info?u(H6,{message:t.info.message,icon:t.info.icon}):void 0;let r=t.isSettingUpIntegration?u(H6,{message:"Enabling autocomplete...",icon:u(Oo,{size:12,thickness:4,color:"inherit"}),variant:"secondary"}):void 0;r??(r=t.isFetchingContent?u(H6,{message:"loading",icon:u(Oo,{size:12,thickness:4,color:"inherit"}),variant:"secondary"}):void 0);const i=e.placement.includes("top")?"top":"bottom";return u("div",{ref:e.refs.setFloating,className:n,style:{...e.floatingStyles,visibility:e.open?"visible":"hidden",zIndex:1},children:u(aFe,{descriptionPlacement:i,fontSize:t.fontSize,fontFamily:t.fontFamily,activeIndex:t.activeIndex,startSlot:o,endSlot:r,maxContentWidth:t.options.some(s=>s.item.name==="activate autocomplete for this session"),children:t.options.map((s,a)=>{const l=mFe(s);return u(lFe,{onClick:()=>{t.onOptionClick(a)},...l},a)})})})}const TFe=({terminalId:t,connectionProtocol:e,forceDisabled:n})=>{const o=V(r=>xP(r,t,e));if(!n)return o},ab=({mediator:t,colorScheme:e,protocol:n,origin:o})=>{var s;const r=(s=t.multiplayerApi)==null?void 0:s.isMultiplayerSessionActive(),i=TFe({terminalId:t.terminalApi.id,forceDisabled:r,connectionProtocol:n??void 0});return L(qt,{children:[u(xe,{when:i==="helium",children:u(eDe,{colorScheme:e,mediator:t,origin:o})}),u(xe,{when:i==="hydrogen",children:u(xFe,{colorScheme:e,mediator:t,origin:o})})]})},IFe=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Vf=()=>IFe.now(),EFe=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),B6=t=>t===1/0||EFe(t);class lb{constructor({max:e=1/0,ttl:n,updateAgeOnGet:o=!1,checkAgeOnGet:r=!1,noUpdateTTL:i=!1,dispose:s,noDisposeOnSet:a=!1}={}){if(this.expirations=Object.create(null),this.data=new Map,this.expirationMap=new Map,n!==void 0&&!B6(n))throw new TypeError("ttl must be positive integer or Infinity if set");if(!B6(e))throw new TypeError("max must be positive integer or Infinity");if(this.ttl=n,this.max=e,this.updateAgeOnGet=!!o,this.checkAgeOnGet=!!r,this.noUpdateTTL=!!i,this.noDisposeOnSet=!!a,s!==void 0){if(typeof s!="function")throw new TypeError("dispose must be function if set");this.dispose=s}this.timer=void 0,this.timerExpiration=void 0}setTimer(e,n){if(this.timerExpiration<e)return;this.timer&&clearTimeout(this.timer);const o=setTimeout(()=>{this.timer=void 0,this.timerExpiration=void 0,this.purgeStale();for(const r in this.expirations){this.setTimer(r,r-Vf());break}},n);o.unref&&o.unref(),this.timerExpiration=e,this.timer=o}cancelTimer(){this.timer&&(clearTimeout(this.timer),this.timerExpiration=void 0,this.timer=void 0)}cancelTimers(){return process.emitWarning('TTLCache.cancelTimers has been renamed to TTLCache.cancelTimer (no "s"), and will be removed in the next major version update'),this.cancelTimer()}clear(){const e=this.dispose!==lb.prototype.dispose?[...this]:[];this.data.clear(),this.expirationMap.clear(),this.cancelTimer(),this.expirations=Object.create(null);for(const[n,o]of e)this.dispose(o,n,"delete")}setTTL(e,n=this.ttl){const o=this.expirationMap.get(e);if(o!==void 0){const r=this.expirations[o];!r||r.length<=1?delete this.expirations[o]:this.expirations[o]=r.filter(i=>i!==e)}if(n!==1/0){const r=Math.floor(Vf()+n);this.expirationMap.set(e,r),this.expirations[r]||(this.expirations[r]=[],this.setTimer(r,n)),this.expirations[r].push(e)}else this.expirationMap.set(e,1/0)}set(e,n,{ttl:o=this.ttl,noUpdateTTL:r=this.noUpdateTTL,noDisposeOnSet:i=this.noDisposeOnSet}={}){if(!B6(o))throw new TypeError("ttl must be positive integer or Infinity");if(this.expirationMap.has(e)){r||this.setTTL(e,o);const s=this.data.get(e);s!==n&&(this.data.set(e,n),i||this.dispose(s,e,"set"))}else this.setTTL(e,o),this.data.set(e,n);for(;this.size>this.max;)this.purgeToCapacity();return this}has(e){return this.data.has(e)}getRemainingTTL(e){const n=this.expirationMap.get(e);return n===1/0?n:n!==void 0?Math.max(0,Math.ceil(n-Vf())):0}get(e,{updateAgeOnGet:n=this.updateAgeOnGet,ttl:o=this.ttl,checkAgeOnGet:r=this.checkAgeOnGet}={}){const i=this.data.get(e);if(r&&this.getRemainingTTL(e)===0){this.delete(e);return}return n&&this.setTTL(e,o),i}dispose(e,n){}delete(e){const n=this.expirationMap.get(e);if(n!==void 0){const o=this.data.get(e);this.data.delete(e),this.expirationMap.delete(e);const r=this.expirations[n];return r&&(r.length<=1?delete this.expirations[n]:this.expirations[n]=r.filter(i=>i!==e)),this.dispose(o,e,"delete"),this.size===0&&this.cancelTimer(),!0}return!1}purgeToCapacity(){for(const e in this.expirations){const n=this.expirations[e];if(this.size-n.length>=this.max){delete this.expirations[e];const o=[];for(const r of n)o.push([r,this.data.get(r)]),this.data.delete(r),this.expirationMap.delete(r);for(const[r,i]of o)this.dispose(i,r,"evict")}else{const o=this.size-this.max,r=[];for(const i of n.splice(0,o))r.push([i,this.data.get(i)]),this.data.delete(i),this.expirationMap.delete(i);for(const[i,s]of r)this.dispose(s,i,"evict");return}}}get size(){return this.data.size}purgeStale(){const e=Math.ceil(Vf());for(const n in this.expirations){if(n==="Infinity"||n>e)return;const o=[...this.expirations[n]],r=[];delete this.expirations[n];for(const i of o)r.push([i,this.data.get(i)]),this.data.delete(i),this.expirationMap.delete(i);for(const[i,s]of r)this.dispose(s,i,"stale")}this.size===0&&this.cancelTimer()}*entries(){for(const e in this.expirations)for(const n of this.expirations[e])yield[n,this.data.get(n)]}*keys(){for(const e in this.expirations)for(const n of this.expirations[e])yield n}*values(){for(const e in this.expirations)for(const n of this.expirations[e])yield this.data.get(n)}[Symbol.iterator](){return this.entries()}}var kFe=lb;const RFe=wt(kFe);function PFe(t,e){return e.includes("zsh")||e.includes("fish")?MFe(t):e.includes("bash")?OFe(t):[]}function LFe(t){if(t.includes("zsh"))return NFe;if(t.includes("bash"))return FFe;if(t.includes("fish"))return HFe}function MFe(t){return IW(t).filter(EW)}function OFe(t){return IW(t).map(DFe).filter(EW)}function IW(t){return t.split(`
`)}function EW(t){return t!==""}function DFe(t){const e=t.trimStart();if(!e.includes(r8))return"";const[n,o]=e.split(r8);return o.trim()}const r8=Ie.v4(),FFe={command:`HISTZISE=10000; HISTFILE=~/.bash_history; HISTTIMEFORMAT=' ${r8} '; history -r $HISTFILE; history`},NFe={command:"export HISTSIZE=10000; fc -R ~/.zsh_history; history -n 1"},HFe={command:"history --reverse --max 10000"};var BFe=Array.prototype,zFe=BFe.reverse;function VFe(t){return t==null?t:zFe.call(t)}function WFe(t){const e=VFe(ZO(t)),n=xZ(e),o=[];for(const[r,i]of n)o.push(new CC({script:r,rating:i}));return o}class jFe{constructor(){E(this,"mediator");E(this,"_onHistory",new ii);E(this,"disposables",new gt().add(this._onHistory))}get onHistory(){return this._onHistory.event}activate(e){this.mediator=e;const n=async()=>{var o;if(!AZ((o=e.currentConnection)==null?void 0:o.protocol)){this._onHistory.fire([],"not_available");return}try{const r=await this.extract();this._onHistory.fire(r,"success")}catch{this._onHistory.fire([],"error")}};if(e.isShellReady){n();return}this.disposables.add(e.onShellReady.subscribe(async()=>{await n()}))}dispose(){this.disposables.dispose()}async extract(){var o,r,i,s;if(((r=(o=this.mediator)==null?void 0:o.currentConnection)==null?void 0:r.protocol)!=="local")return this.extractNow();const e=(s=(i=this.mediator)==null?void 0:i.currentConnection)==null?void 0:s.shellPath;if(e==null)return[];let n=cE.get(e);return n==null&&(n=this.extractNow(),cE.set(e,n)),n}async extractNow(){var i;const e=[],n=await((i=this.mediator)==null?void 0:i.getShell());if(n==null||this.mediator==null)return e;const o=LFe(n);if(o==null)return e;const{result:r}=await this.mediator.execInBackground(o);return r.success?WFe(PFe(r.output,n)):e}}const cE=new RFe({ttl:1e4,checkAgeOnGet:!0}),kW=t=>{const e=V(TZ),{mediator:n}=t,o=de(),r=Yn((i,s)=>{o(Kb({status:s,commands:i.map((a,l)=>a.clone({id:l})),terminalId:n.terminalApi.id})),o(Zb.request(i))});return f.useEffect(()=>{if(!e)return o(Kb({status:"not_available",commands:[],terminalId:n.terminalApi.id})),()=>{};const i=new jFe;return i.onHistory(r),i.activate(n),()=>{i.dispose()}},[o,r,e,n]),ma(()=>n.terminalApi.onCommandExited.pipe(zr(({cmd:i})=>!EZ(i)&&!kZ(i))).subscribe(i=>{const s=new CC({completed_at:new Date,script:i.cmd,exit_code:i.exitCode});o(IZ({command:s.clone({id:Date.now()}),terminalId:n.terminalApi.id})),o(Zb.request([s]))}),[o,n.terminalApi]),null};function RW(t){return t.onShellReady.pipe(C2(()=>t.onShellIntegrationStatus.pipe(zr(UFe),Qp(1),Xee(1500))))}function UFe(t){return t.type!=="started"}const $Fe="Couldn't download session log file",qFe=({onFetchingComplete:t,historyLocalId:e})=>{var l;const n=tt(),r=((l=V(RZ))==null?void 0:l[e])==="can open",[i,s]=f.useState("fetching"),a=f.useRef(!1);return Oh(async()=>{if(!r)try{await We(n,AP,e)}catch{s("error")}}),f.useEffect(()=>{r&&!a.current&&(t(),a.current=!0)},[r,t]),r?null:L(re,{alignItems:"center",direction:"row",gap:"5px",color:Q.uiColor,padding:"0 10px",children:[i==="fetching"&&L(Se.Fragment,{children:[u(e1,{size:14,color:"inherit",thickness:5}),i]}),i==="error"&&$Fe]})},PW=t=>{const{classNames:e,containerRef:n,slots:o}=t,{cx:r,classes:i}=KFe();return GFe(n),u("div",{className:r(i.fullArea,e.droppableAreas,e.root),ref:n,children:o.map(({ref:s,className:a,key:l})=>u("div",{ref:s,className:a},l))})},GFe=t=>{const{measureDroppableContainers:e,droppableContainers:n}=TP();Gr(t,()=>{const o=n.getEnabled().filter(r=>v3(r.data.current)).map(r=>r.id);e(o)})},KFe=K()({fullArea:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none",padding:"inherit"}}),Pp=t=>{const{tabId:e,terminalId:n,disabled:o=!1,id:r="",position:i,layout:s,classNames:a,droppableAreaTerminal:l}=t,{cx:c}=o1(),d=`${n}/${s}/${i}/${r}`,p=(v,S)=>ZFe({terminalId:n,tabId:e,dropAreaId:v,draggableData:S,droppableAreaTerminal:l}),{setNodeRef:h,isOver:m,active:g}=PC({id:d,data:{accepts:p,kind:FN,tabId:e,terminalId:n,position:i,layout:s},disabled:o}),C=m&&(g==null?void 0:g.data.current)&&p(g.id,g.data.current);return{ref:h,className:c(a.indicator,{[a.active]:C,[a.vertical]:s==="vertical",[a.horizontal]:s==="horizontal",[a.start]:i==="start",[a.end]:i==="end"}),key:d}},ZFe=t=>{const{terminalId:e,tabId:n,dropAreaId:o,draggableData:r,droppableAreaTerminal:i}=t;if(!va(r)||r.group===Jn.workspace||!i)return!1;if(r.group===Jn.pane)return r.terminals[0].id!==e;const s=hc(r.terminals);return o!==n&&(s==null?void 0:s.connectionProcess)==="succeeded"},LW=t=>{const{classes:e}=QFe(),{className:n,disabled:o=!1,minSplitSize:r=0,terminalId:i,tabId:s}=t,a=f.useRef(null),[l,c]=f.useState(o),[d,p]=f.useState(o),h=V(C=>nn(C,i)),m={tabId:s,terminalId:i,classNames:{indicator:e.indicator,active:e.active,vertical:e.vertical,horizontal:e.horizontal,start:e.start,end:e.end},droppableAreaTerminal:h},g=[Pp({position:"start",layout:"horizontal",disabled:l,...m}),Pp({position:"end",layout:"horizontal",disabled:l,...m}),Pp({position:"start",layout:"vertical",disabled:d,...m}),Pp({position:"end",layout:"vertical",disabled:d,...m})];return Gr(a,C=>{c(o||C.width<=r*2),p(o||C.height<=r*2)}),u(PW,{containerRef:a,classNames:{root:n,droppableAreas:e.droppableAreas},slots:g})},QFe=K()((t,e,n)=>({droppableAreas:{display:"grid",gap:10,gridTemplateRows:"repeat(2, minmax(0, 1fr))",gridTemplateColumns:"repeat(2, minmax(0, 1fr))"},indicator:{pointerEvents:"none",opacity:0,backgroundColor:"var(--green)",transition:"opacity 0.3s ease-in",height:"100%",borderRadius:10},vertical:{gridColumn:"1 / -1",[`&.${n.start}`]:{gridRow:"1 / 2"},[`&.${n.end}`]:{gridRow:"2 / 3"}},horizontal:{gridRow:"1 / -1",[`&.${n.start}`]:{gridColumn:"1 / 2"},[`&.${n.end}`]:{gridColumn:"2 / 3"}},start:{},end:{},active:{opacity:.4}})),vs=f.memo(t=>{const{className:e,...n}=t,{classes:o,cx:r}=YFe();return u(Ue,{customTransparency:!0,className:r(o.root,e),...n})}),YFe=K()({root:{color:oe.buttonColor.value,backgroundColor:oe.buttonBackgroundColor.value,"&:hover, &.storybook-hover-workaround":{color:oe.buttonColorHover.value,backgroundColor:oe.buttonBackgroundColorHover.value},"&:disabled":{color:oe.buttonColorDisabled.value,backgroundColor:oe.buttonBackgroundColorDisabled.value}}}),XFe=t=>{const{classes:e,cx:n}=JFe();return u("div",{className:n(e.splitViewActivation,t.className),children:L("div",{className:e.splitViewHint,children:[L(Z,{variant:"body1",align:"center",children:["Drag & Drop a terminal tab here",u("br",{}),"to see it in a workspace view"]}),u(vs,{size:"medium",variant:"text",onClick:t.onDismiss,children:"Dismiss"})]})})},JFe=K()({splitViewActivation:{display:"grid",paddingTop:"var(--activation-padding-top)",paddingBottom:"var(--activation-padding-bottom)",paddingLeft:"var(--activation-padding-left)",paddingRight:"var(--activation-padding-right)",color:Q.foregroundColor,backgroundColor:Q.backgroundColor},splitViewHint:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"10px",borderRadius:"10px",border:`1px dashed ${Q.foregroundColor}`}}),eNe=t=>{const e=V(i=>PZ(i,t.tabId)),n=de(),o=f.useRef(!1),r=Yn(()=>{n(LZ(t.tabId)),n(Wk({promotionType:"Split View From Tab Context Menu",promotionLocation:"Terminal",sideMenuTeamTrialPromoType:void 0,trialDaysLeft:void 0,dismissForever:void 0}))});return f.useEffect(()=>{e&&t.onScreen&&!o.current&&n(Vk({promotionType:"Split View From Tab Context Menu",promotionLocation:"Terminal",sideMenuTeamTrialPromoType:void 0,trialDaysLeft:void 0}))},[n,t.onScreen,e]),[e,r]},MW=t=>{const{tabId:e,onScreen:n}=t,{classes:o}=tNe(),[r,i]=eNe({tabId:e,onScreen:n});return r?u(XFe,{className:o.splitViewActivationLayout,onDismiss:i}):null},tNe=K()({splitViewActivationLayout:{"--activation-padding-top":"10px","--activation-padding-bottom":"var(--container-padding-bottom)","--activation-padding-left":"var(--container-padding-left)","--activation-padding-right":"var(--container-padding-right)",position:"absolute",left:0,bottom:0,height:"calc((100% - var(--container-padding-top) - var(--container-padding-bottom) - var(--container-gap)) / 2 + var(--activation-padding-top) + var(--activation-padding-bottom))",width:"100%"}}),nc=(t,...e)=>{const[n,o]=e,r=Yn(n),i=f.useRef();f.useLayoutEffect(()=>{i.current=o}),ma(()=>t(r,i.current),[t,r])},dE=t=>{const{mediator:e,onScreen:n,onCloseRequest:o,trackActivity:r,connection:i}=t,s=de(),a=V(Wa),l=$1(),c=c3(),d=(p,h)=>{const m=a(h.colorScheme);c.set(p,h),s(Yo({id:p,changes:{colorScheme:m,title:h.displayLabel,connectionProtocol:h.protocol}})),s(MC({id:l,changes:{title:h.displayLabel}}))};return u(R9,{terminalId:e.id,isTabActive:n,connection:i,onConnectionUpdate:d,children:u(nNe,{mediator:e,onScreen:n,trackActivity:r,onCloseRequest:o,tabId:l})})};let uE=[];const nNe=t=>{const{onScreen:e,onCloseRequest:n,mediator:o,trackActivity:r,tabId:i,...s}=t,a=V(zt),l=oNe(o,s),c=c3(),d=V(g=>nn(g,o.id));Ao(()=>{const g=c.get(s.connection.id)??s.connection;s.tryToConnect(g,l,{shouldNotifyUpdate:!1}),uE=a3(s.connection.host,s.connection.protocol||"ssh")});const p=f.useRef(r),h=g=>{p.current&&(m(yg({terminalId:o.id,connection:s.connection,errorMessage:g})),p.current=!1)};nc(o.onDisconnect,g=>{const{isStartOver:C,startOverHost:v,initReconnectAfterStartOver:S}=s;if(C){S(l,!1,v);return}g&&h(g),n()});const m=de();return nc(o.onError,g=>{g.possibleToReconnect({logs:s.connectionLogs})&&m(gg({id:o.terminalApi.id}));const{isConnected:C}=s;g.isCancelError()||C||h(g.message)}),Ca(tt(),Es,({payload:g})=>{g.terminalId===o.terminalApi.id&&!s.isConnected&&!o.currentConnection&&s.initReconnectAfterStartOver(l,!1,s.startOverHost)},[s.isConnected,s.startOverHost,s.initReconnectAfterStartOver,o.currentConnection,o.terminalApi.id,l]),Vm(o.onShellIntegrationStatus,g=>{s.onShellIntegrationStatus(g)}),Vm(o.onShellReady,()=>{var C;const{connection:g}=s;d&&m(vg({terminal:d,connection:g.toTransferableObject(),windowId:ge()})),g.startupSnippet&&(o.execSnippet(g.startupSnippet.script),m(Va({snippetSource:"Startup",isSharedEntity:Wt(g.startupSnippet.is_shared),isExecutedInMultipleTabs:"no",snippetPackageID:Is(g.startupSnippet),isExecutedInSplitView:"no",aianalyticsID:g.startupSnippet.aianalyticsID,snippetID:`${g.startupSnippet.id??-1}`,predefinedSnippetPackageID:(C=g.startupSnippet.package)==null?void 0:C.analytics_id,...ci(g)}))),h(),m(OC(o.id)),!a&&uE.length&&m(kP({windowId:ge()}))}),E9(s.connection)?u(SN,{isTabActive:e,connection:s.connection,setConnection:s.setConnection,steps:s.connectionSteps,isStartOver:s.isStartOver,connectionLogs:s.connectionLogs,isConnectionError:s.isConnectionError,isConnected:s.isConnected,hostChainCount:s.hostChainCount,currentChainIndex:s.currentChainIndex,isConnectedCurrentHostOfChain:s.isConnectedCurrentHostOfChain,isShowLogs:s.isShowLogs,onToggleShowLogs:s.onToggleShowLogs,onCopyLogs:s.onCopyLogs,onClose:n,onTryToConnect:g=>s.tryToConnect(g,l,{shouldNotifyUpdate:!1}),onStartOver:g=>{p.current=!0,s.onStartOver(l,!1,!1,g)},advancedSettingsForm:s.advancedSettingsForm,newKeyForm:s.newKeyForm,mainTerminal:!0,terminalTabId:i,rightSliderVariant:"connectionFlow"}):null},oNe=(t,e)=>{const n=V(LC),o=de(),r=V(IP),i=V($h);return s=>{const l=s.protocol==="local"||r,c=s.clone({abortController:void 0,featureSet:O1({enableShellIntegration:l,pqcKexEnabled:i}),delegate:{...s.delegate,...new P9({props:{...e,hostChainCount:s.host.getHostChainCount()}}),onSessionLogFinishedWriting:()=>{o(MZ(t.terminalApi.id))},onHostOSDetected:d=>{var p;d&&((p=t.currentConnection)!=null&&p.host&&(t.currentConnection.host.os_name=d),o(EP({host:s.host,os:d,terminalId:t.terminalApi.id})))}}});e.setConnection(t.startConnection(c,{termString:n}),{shouldNotifyUpdate:!1})}},rNe=t=>{const{mediator:e,onCloseRequest:n,singleTerminalConnection:o,onOutput:r}=t,[i,s]=f.useState(!1),a=de();return f.useEffect(()=>{const l=MEe(()=>{r(e.id)}),c=e.onShellOutput(l);return()=>{l.cancel(),c.dispose()}},[e,r]),nc(e.onError,l=>{l.isCancelError()||(s(!0),a(gg({id:e.terminalApi.id})),a(RP(e.id)),o&&a(Cg(o.toTransferableObject())))},{once:!0}),nc(e.onDisconnect,n,{once:!0}),Vm(e.terminalApi.onKeyboardEvent,l=>{i&&aNe(l)&&(iNe(l)||pE(l,"Space")||pE(l,"Enter"))&&!sNe(l,["altKey","ctrlKey","metaKey","shiftKey"])&&(a(Es({terminalId:e.terminalApi.id,connectionOrigin:"Reconnect Hotkey"})),a(Sc({id:e.terminalApi.id})))}),null};function iNe(t){return/^[a-zA-Z0-9]{1}$/i.test(t.key)}function pE(t,e){return t.code===e}function sNe(t,e){return e.some(n=>t[n])}function aNe(t){return t.type==="keydown"}function lNe(t){const{isOpen:e,onDismiss:n}=t;return u(Go,{open:e,variant:"terminal",ModalProps:{onClose:n},children:u("div",{style:{display:"contents"},className:"termius-dark-theme",children:u(OZ,{onClose:n,onIdentityCreated:n,disableKeyAttachment:!0})})})}const cNe=({onChange:t,activeVariant:e})=>{const{classes:n,cx:o}=dNe();return L(re,{className:n.settings,children:[L(re,{p:10,gap:5,children:[u(Z,{variant:"boldBody2",children:"Autocomplete"}),u(Z,{variant:"body2",children:"IDE-style autocomplete for your terminal. Get suggestions for command history, snippets, arguments, passwords, file path and text into commands with AI."})]}),u(xe,{when:!e,children:u(vs,{className:n.enableBtn,onClick:()=>t(),children:"Enable"})}),u(xe,{when:!!e,children:ree.map(({name:r,variant:i})=>{const s=e&&!i;return L(f.Fragment,{children:[u("div",{className:n.divider}),u(F2,{onClick:()=>t(i),className:o(n.button,{[n.active]:s}),children:L(re,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[u(re,{direction:"row",justifyContent:"space-between",alignItems:"center",children:u(Z,{children:r})}),s&&u(zh,{})]})})]},r)})})]})},dNe=K()({settings:{width:220,borderRadius:10,background:Q.gradientColor,color:Q.uiColor},button:{height:40,margin:"0 10px",textAlign:"left"},divider:{height:"1px",background:Q.backgroundColorA25},active:{color:Q.foregroundColor,"&&:hover":{color:Q.foregroundColor}},enableBtn:{height:31,margin:"0 10px 10px"}}),uNe=({terminalId:t,connectionID:e,connectionProtocol:n})=>{const o=V(l=>xP(l,t,n)),r=V(DZ),i=de();return{enable:(l=r||"helium")=>{i(Qb({terminalId:t,state:"follows-global-setting"})),i(vd(zm.ENABLED)),i(FZ(l)),i(iv({autocompleteState:"enabled",autocompleteVersion:Ft[l],connectionID:e}))},disable:l=>{switch(i(iv({autocompleteVersion:Ft[r],autocompleteState:"disabled",connectionID:e})),l){case"session":i(Qb({terminalId:t,state:"disabled"}));break;case"day":i(vd(Date.now()+3600*24));break;case"forever":i(vd(1));break}},activeVariant:o}},pNe=({className:t,terminalId:e,focusTerminal:n,connectionProtocol:o,connectionID:r})=>{const i=f.useRef(null),[s,a]=f.useState(!1),l=de(),{enable:c,disable:d,activeVariant:p}=uNe({terminalId:e,connectionID:r,connectionProtocol:o}),h=()=>a(!0),m=()=>a(!1),g=S=>{if(m(),S==null){c(),n();return}d(S)},{classes:C}=hNe(),v=()=>{l(he("joinDiscordButtonPressed",{feature:"Autocomplete"})),C8({title:"",url:"https://termi.us/helium-discord"})};return L("div",{className:C.autocompleteContainer,children:[L("div",{className:C.autocompleteTitleContainer,ref:i,children:[L(Z,{variant:"subtitle2",className:C.title,children:["Autocomplete",u(Ee,{className:C.versionBadge,children:u(Z,{fontSize:10,bold:!0,uppercase:!0,className:C.version,children:"Beta"})})]}),L(Ee,{className:C.activeOption,onClick:h,children:[u(Z,{variant:"subtitle2",children:p==null?"Disabled":"Enabled"}),u(dn,{className:ce(C.dropDownIcon,{[C.open]:s})})]})]}),p&&L("div",{className:C.discordInfo,children:[u(Z,{variant:"body2",children:"Join our discord channel to get latest updates and share your feedback."}),u(vs,{className:C.discordBtn,onClick:v,children:"Join Discord"})]}),u(NZ,{open:s,anchorEl:i.current,anchorOrigin:{horizontal:"right",vertical:"bottom"},transitionDuration:{enter:180,exit:0},onClose:m,disableEnforceFocus:!0,disableRestoreFocus:!0,className:t,sx:{marginTop:2},children:u(cNe,{onChange:g,activeVariant:p})})]})},hNe=K()({autocompleteContainer:{position:"relative"},autocompleteTitleContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",color:oe.listSectionColor.value,backgroundColor:"transparent"},open:{transform:"rotate(180deg)"},title:{color:oe.listSectionColor.value,transition:"transform 0.2s ease-in",display:"flex",alignItems:"center"},activeOption:{cursor:"pointer",color:oe.listSectionSubtitleColor.value,transition:"transform 0.2s ease-in",display:"flex",alignItems:"center","&:hover":{color:oe.listSectionSubtitleColorHover.value}},versionBadge:{marginRight:10,color:Q.uiColorA50,marginLeft:5,padding:"1.5px 5px",borderRadius:3.75,border:`0.75px solid ${Q.uiColorA50}`},version:{color:oe.listSectionSubtitleColor.value},dropDownIcon:{marginLeft:"5px",transition:"transform 0.2s ease-in"},discordInfo:{marginTop:10,padding:10,borderRadius:10,background:Q.gradientColor,color:Q.uiColor},discordBtn:{height:24,marginTop:10}}),fNe=()=>{const{classes:t}=mNe();return u("div",{className:t.divider})},mNe=K()({divider:{borderTop:`1px solid ${oe.dividerColor.value}`}}),au=f.memo(fNe),gNe=({onClick:t,className:e,children:n})=>{const o=f.useRef(null);Ao(()=>(document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}));const r=i=>{const s=i.target,a=o.current;a&&a.contains(s)||t()};return u("div",{ref:o,className:e||"",children:n})},vNe=f.memo(gNe),CNe=t=>{const{searchPlaceholder:e,searchValue:n,isActive:o,deleteFocus:r,innerRef:i,onPrev:s,onNext:a,onKeydown:l,onClick:c,onChange:d,onBlur:p,onFocus:h}=t,{cx:m,classes:g}=yNe();return L(vNe,{onClick:r,className:g.container,children:[u(R8,{className:m(g.searchIcon,{[g.searchIconHighlighted]:o})}),u("input",{tabIndex:0,ref:i,type:"text",placeholder:e,className:g.input,defaultValue:n,onChange:d,onFocus:h,onBlur:p,onMouseDown:c,onKeyDown:l}),u(Ue,{disableHover:!0,className:g.button,onClick:s,children:u(dn,{className:m(g.arrowIcon,g.rotatedIcon)})}),u(Ue,{disableHover:!0,className:g.button,onClick:a,children:u(dn,{className:g.arrowIcon})})]})},yNe=K()((t,e,n)=>({container:{display:"flex",alignItems:"center",height:30,padding:"10px 8px",borderRadius:5,width:"100%",backgroundColor:oe.searchBackgroundColor.value},searchIconHighlighted:{fill:oe.searchColor.value},input:{width:"calc(100% - 24px)",verticalAlign:"top",border:0,fontSize:"12px",fontWeight:450,lineHeight:"15px",backgroundColor:"transparent",color:oe.searchColor.value,"&::placeholder":{opacity:1,color:oe.searchPlaceholderColor.value},cursor:"text",transition:"width 0.3s ease-in-out"},button:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"15px",width:"20px",padding:12,backgroundColor:"transparent","&:hover":{[`& .${n.arrowIcon}`]:{color:oe.searchColor.value}}},searchIcon:{marginRight:10,fill:oe.searchIconColor.value,"&:hover":{fill:oe.searchColor.value}},arrowIcon:{width:"15px",height:"6px",transition:"transform 0.2s",color:oe.searchIconColor.value,"&:hover":{color:oe.searchColor.value}},rotatedIcon:{transform:"rotate(180deg)"}})),SNe=Se.memo(({colorScheme:t})=>{const e=de(),n=V(HZ),o=lt(PP),r=V(A=>SC(A,"openTerminalSearch")),[i,s]=f.useState(!1),a=f.useRef(null);f.useEffect(()=>{var A,k,R;o?((A=a.current)==null||A.focus(),(k=a.current)==null||k.select()):(R=a.current)==null||R.blur()},[o]);const l=A=>{e(OP({query:A,windowId:ge()}))},c=A=>{e(DP({query:A,windowId:ge()}))},d=()=>{c({criteria:n})},p=()=>{l({criteria:n})},h=A=>{e(BZ({windowId:ge(),query:A})),c({criteria:A,options:{incremental:!0}})},m=()=>{e(LP(ge()))},g=A=>{var R;const k=(R=a.current)==null?void 0:R.value;k&&A({criteria:k})},C=()=>{var A;(A=a.current)==null||A.blur(),s(!1)},v=()=>{s(!0)},S=()=>{m(),e(Sg())},y=()=>{var A;e(DC({windowId:ge(),source:"Terminal Side Bar"})),(A=a.current)==null||A.select()},b=A=>{switch(A.key){case"Enter":{A.preventDefault(),A.shiftKey?g(l):g(c);break}case"Escape":{S();break}}},w=A=>{const k=A.target,{value:R}=k;h(R)},x=o||i||!!n,_=I2(r,MP),T=`Search terminal${_!=null?` - ${_.join(" + ")}`:""}`;return u(CNe,{searchPlaceholder:T,searchValue:n,isActive:x,deleteFocus:m,onPrev:d,onNext:p,onChange:w,onKeydown:b,onClick:y,onBlur:C,onFocus:v,innerRef:a,colorScheme:t})}),bNe=f.memo(({colorScheme:t,connection:e={},mediator:n={},className:o})=>{var l;const{classes:r,cx:i}=wNe(),s=r1({colorScheme:t,scrollbarOutsideOfBorderBox:!0}),a=(l=n==null?void 0:n.multiplayerApi)==null?void 0:l.isMultiplayerSessionActive();return L("div",{ref:s.ref,className:i(r.container,s.className),children:[u("div",{className:r.searchBar,children:u(SNe,{colorScheme:t})}),(n==null?void 0:n.id)&&e.protocol!=="session-log"&&L(Se.Fragment,{children:[u(au,{}),!a&&L(Se.Fragment,{children:[u(au,{}),u(pNe,{className:o,terminalId:n.id,focusTerminal:()=>n.terminalApi.focus(),connectionID:e.id,connectionProtocol:e.protocol})]})]})]})}),wNe=K()({container:{height:"auto",display:"flex",flexDirection:"column",gap:10,"& ::selection":{background:Q.selectionColor}},searchBar:{height:30}}),J3=({classNameTitle:t,classNameText:e,classNameIcon:n,...o})=>{const{classes:r,cx:i}=_Ne();return u(wo,{classNameTitle:i(r.title,t),classNameText:i(r.text,e),classNameIcon:i(r.iconWrapper,n),isCompactView:!0,...o})},_Ne=K()({title:{color:Q.uiColor,fontSize:"14px"},text:{color:Q.uiColorA50},iconWrapper:{"&, .termius-dark-theme &":{background:`linear-gradient(135deg, ${Q.uiColorA15} -2.86%, transparent 99.14%)`}}}),xNe=()=>u(hn,{children:u(J3,{title:"Create snippets from your commands",text:"Store your most used commands to reuse them in one click.",icon:u(Oi,{color:Q.uiColor})})});function ANe(t,e,n){if(!n.search)return new Set;const o=FP(e,n),r=NP(t,o);return new Set(r.map(i=>i.local_id).filter(pn))}var TNe=Object.prototype,INe=TNe.hasOwnProperty,ENe=zZ(function(t,e,n){INe.call(t,n)?++t[n]:VZ(t,n,1)});const kNe=ENe;var RNe=WZ(function(t){var e=Ti(t);return Yb(e)&&(e=void 0),jZ(UZ(t,1,Yb,!0),du(e))});const hE=RNe;function PNe({packages:t,snippets:e},n){const o=FP(e,n),r=$Z(t,n),i=NP(t,o),s=hE(r,i,"local_id"),a=HP(r,i,"local_id"),l=qZ(e,a),c=hE(o,l,"local_id"),d=kNe(c,"package.local_id"),p=s.map(h=>h.clone({snippets_count:d[h.local_id??-1]??0}));return{packages:GZ(p,n),snippets:KZ(c,n)}}const LNe=({search:t,onChange:e,setIsSearchFocused:n=()=>{},isDynamicSize:o=!1,isOnlySearch:r,autofocus:i=!1,placeholder:s="Search"})=>{const a=Se.createRef(),[l,c]=f.useState(!1),d=()=>{const{current:C}=a;C&&document.activeElement!==C&&(C==null||C.focus())},{classes:p,cx:h}=MNe(),m=f.useCallback(()=>{n(!0),c(!0)},[n]),g=f.useCallback(()=>{n(!1),c(!1)},[n]);return L("div",{className:h(p.search,{[p.dynamicSize]:!r&&o}),children:[u(Cd,{className:p.searchButton,onClick:d,disableRipple:!0,children:u(R8,{className:h(p.searchIcon,{[p.searchIconHighlighted]:l||!!t})})}),u(ZZ,{className:p.input,disableUnderline:!0,type:"search",value:t,placeholder:s,autoFocus:i,onFocus:m,onBlur:g,inputProps:{className:p.searchInput},inputRef:a,onChange:C=>e({search:C.target.value})})]})},MNe=K()({search:{display:"flex",alignItems:"center",gap:10,flex:1,minWidth:40,height:30,padding:"10px 8px",borderRadius:5,backgroundColor:oe.searchBackgroundColor.value},searchIconHighlighted:{fill:oe.searchColor.value},input:{flex:1},dynamicSize:{minWidth:"40px",maxWidth:"24px",backgroundColor:"transparent"},searchInput:{fontSize:"12px",fontWeight:450,lineHeight:"1.5",color:oe.searchColor.value,"&::placeholder":{opacity:1,color:oe.searchPlaceholderColor.value},"&::-webkit-search-cancel-button":{display:"none"}},searchButton:{fill:oe.searchIconColor.value,"&:hover":{fill:oe.searchColor.value}},searchIcon:{fill:"inherit"}}),OW=f.memo(LNe),ONe=t=>{const{filters:e,onFiltersChanged:n,onCreateSnippet:o}=t,r=FC(),[i,s]=f.useState(!1),a=V(xo),{sizeObserverRef:l,width:c}=wu(),d=!!e.search||i,p=d||c<=275,{classes:h,cx:m}=DNe(),g=BP(),C=!d&&o!=null;return L("div",{className:h.header,ref:l,children:[C&&L(li,{onClick:o,className:m(h.newSnippetButton),customTransparency:!0,children:[u(Oi,{className:h.snippetIcon}),"New Snippet"]}),L("div",{className:h.filters,children:[u(OW,{setIsSearchFocused:s,search:e.search,onChange:n,isDynamicSize:!0,isOnlySearch:d}),!p&&u(M2,{type:e.sort.type,reverse:e.sort.reverse,onChange:n,dark:a,themedMenuColors:r,className:m(h.sort,g),toolbarClassName:h.sortToolbar})]})]})},DNe=K()({header:{display:"flex",alignItems:"center",justifyContent:"space-between",zIndex:10,width:"100%","& ::selection":{background:Q.selectionColor}},sort:{color:oe.buttonColor.value,"&:hover":{color:oe.buttonColorHover.value}},newSnippetButton:{textTransform:"none",fontSize:"14px",fontWeight:500,lineHeight:"17px",color:oe.buttonColor.value,backgroundColor:oe.buttonBackgroundColor.value,"&:hover":{color:oe.buttonColorHover.value,backgroundColor:oe.buttonBackgroundColorHover.value}},filters:{display:"flex",alignItems:"center",justifyContent:"end",width:"100%"},snippetIcon:{width:12,height:12},sortToolbar:{backgroundColor:"transparent",color:Q.uiColor,"&:hover":{backgroundColor:"transparent",color:Q.foregroundColor}}}),FNe=t=>{const{contextMenuProperties:e,onClose:n,items:o}=t,r=FC(),{classes:i}=NNe(),s=f.useMemo(()=>o.map(a=>u(Qn,{dense:!0,onClick:a.action,className:r,disabled:a.isDisabled,children:L("div",{className:i.item,"aria-disabled":a.isDisabled,children:[a.name,a.hotkey&&u("div",{className:i.hotkey,children:a.hotkey}),a.upgrade&&u(QZ,{className:i==null?void 0:i.upgradeItemIcon})]})},a.name)),[o]);return u(Ss,{disableBackdrop:!0,transitionDuration:{enter:0,exit:0},className:r,anchorReference:"anchorPosition",onClose:n,...e,children:s})},NNe=K()({hotkey:{fontSize:"11px",lineHeight:"14px",fontWeight:700,padding:"4px",marginLeft:"5px",borderRadius:"3px",color:"var(--menu-item-text-color)",backgroundColor:"var(--menu-item-hover-color)"},item:{display:"flex",justifyContent:"space-between",alignItems:"center"},upgradeItemIcon:{position:"unset",marginLeft:"5px"}}),HNe=({item:t,expanded:e,onClick:n})=>{const{classes:o,cx:r}=BNe(),i=t.snippets_count===1?`${t.snippets_count} snippet`:`${t.snippets_count} snippets`;return L(re,{direction:"row",justifyContent:"space-between",className:o.accordion,onClick:()=>{n()},children:[u(Z,{variant:"subtitle2",whiteSpace:"nowrap",ellipsis:!0,className:o.title,title:t.displayLabel,children:t.displayLabel}),L(re,{direction:"row",gap:"10px",flex:"none",children:[u(Z,{variant:"subtitle2",className:o.subtitle,children:i}),u(dn,{className:r(o.arrowIcon,{[o.expandedArrowIcon]:e})})]})]})},BNe=K()((t,e,n)=>({accordion:{color:oe.listSectionColor.value,backgroundColor:"transparent",padding:"5px 0","&:hover":{[`& .${n.title}`]:{color:oe.listSectionColorHover.value},[`& .${n.subtitle}`]:{color:oe.listSectionSubtitleColorHover.value},[`& .${n.arrowIcon}`]:{color:oe.listSectionSubtitleColorHover.value}}},title:{color:oe.listSectionColor.value,transition:"transform 0.2s ease-in"},subtitle:{color:oe.listSectionSubtitleColor.value,transition:"transform 0.2s ease-in"},arrowIcon:{alignSelf:"center",fontSize:14,color:oe.listSectionSubtitleColor.value,transition:"transform 0.2s ease-in",transform:"rotate(-90deg)"},expandedArrowIcon:{transform:"rotate(0deg)"}})),zNe=f.memo(HNe),VNe=t=>{const{classes:e}=WNe(),{className:n,icon:o,title:r,subtitle:i,endAdornment:s}=t;return L("div",{className:ce(n,e.root),children:[L("div",{className:e.titleGroup,children:[L(re,{direction:"row",gap:"5px",children:[o,r]}),s&&u("div",{className:e.endAdornment,children:s})]}),i]})},WNe=K()({root:{padding:10,display:"flex",flexDirection:"column",gap:5,overflow:"hidden","&:hover":{borderRadius:10}},titleGroup:{display:"flex",flexDirection:"row",justifyContent:"space-between"},endAdornment:{}}),jNe=f.memo(VNe),UNe=({isAnimated:t,iconClassName:e,backgroundColor:n})=>{const{classes:o,cx:r}=$Ne({backgroundColor:n});return u(YZ,{spinnerContainerClassName:o.spinner,status:t?"auto":null,color:oe.progressSpinnerColor.value,shape:"outlined",children:u("div",{className:r(o.iconContainer,e,{[o.background]:t}),children:u(Oi,{className:o.icon})})})},fE=4,$Ne=K()((t,{backgroundColor:e})=>({spinner:{margin:`0 -${fE}px`},iconContainer:{display:"grid",placeItems:"center",borderRadius:"50%",padding:fE},background:{backgroundColor:e},icon:{width:"12px",height:"12px",color:"var(--white)"}})),qNe=f.memo(UNe),GNe=({className:t,item:e,isSelected:n,onDoubleClick:o,onClick:r,onContextMenu:i,index:s=-1,sizeWasUpdated:a=He,isDisabled:l})=>{const{classes:c,cx:d}=KNe(),p=f.useRef(),[h,m]=f.useState(!1),g=()=>{m(!0),setTimeout(()=>{m(!1)},XZ-300)},C=f.useRef(null);f.useLayoutEffect(()=>{var w;Ce(e.local_id!=null),a({index:s,localId:e.local_id,size:n?(w=C.current)==null?void 0:w.offsetHeight:void 0})});const v=f.useCallback(()=>{l||(p.current?(clearTimeout(p.current),p.current=void 0,o(e,!0),g()):p.current=setTimeout(()=>{p.current=void 0,r(n?null:e)},300))},[n,e,r,o,l]),S=f.useCallback(w=>{w.stopPropagation(),o(e,!1),g()},[e,o]),y=f.useCallback(w=>{w.stopPropagation(),o(e,!0),g()},[e,o]),b=f.useCallback(w=>{i(w.clientY,w.clientX,e,g)},[e,i]);return u(Mr,{innerRef:C,className:d(c.root,{[c.selected]:n},t),onSelect:v,onFocus:()=>{},onContextMenu:b,children:u(jNe,{icon:u(qNe,{isAnimated:h,iconClassName:c.icon}),title:u(Z,{color:"primary",ellipsis:!0,className:c.snippetItemTitle,children:e.label||e.script}),subtitle:u(Z,{className:d(c.subtitle,{[c.subtitleSelected]:n}),color:"deprecatedSecondary",ellipsis:!0,variant:"body2",children:e.script}),endAdornment:!l&&L("div",{className:c.actionBar,children:[u(vs,{className:c.actionButton,size:"tiny",onClick:y,component:"div",disabled:l,children:"RUN"}),u(vs,{className:c.actionButton,size:"tiny",onClick:S,component:"div",disabled:l,children:"PASTE"})]})})})},KNe=K()((t,e,n)=>({root:{backgroundColor:oe.listItemBackgroundColor.value,[oe.progressSpinnerColor.name]:oe.listItemColor.value,border:"1px solid transparent",borderRadius:10,padding:"unset",margin:"unset","&:hover, &.storybook-hover-workaround":{backgroundColor:oe.listItemBackgroundColorHover.value,[oe.progressSpinnerColor.name]:oe.listItemColorHover.value,[`& .${n.actionBar}`]:{display:"flex"},[`& .${n.arrowIcon}`]:{display:"block"},[`& .${n.snippetItemTitle}`]:{maxWidth:135,color:oe.listItemColorHover.value},[`& .${n.subtitle}`]:{color:oe.listItemSubtitleColorHover.value},[`& .${n.icon}`]:{"& path":{fill:oe.listItemColorHover.value}}}},selected:{[oe.listItemColor.name]:oe.listItemColorActive.value,[oe.listItemSubtitleColor.name]:oe.listItemSubtitleColorActive.value,backgroundColor:oe.listItemBackgroundColorActive.value},snippetItemTitle:{color:oe.listItemColor.value,maxWidth:250},arrowIcon:{display:"none",fill:"var(--dark-grey-7)",marginTop:"5px",marginRight:"10px",width:"15px",height:"6px"},icon:{"& path":{fill:oe.listItemColor.value}},actionBar:{display:"none",flexDirection:"row",gap:"10px",height:"100%",alignItems:"center",[`.${n.selected} &`]:{display:"flex"}},actionButton:{width:40,height:17,fontWeight:900,cursor:"default"},subtitle:{color:oe.listItemSubtitleColor.value,fontFamily:"Source Code Pro"},subtitleSelected:{whiteSpace:"pre-line",wordBreak:"break-all",color:oe.listItemSubtitleColor.value}})),ZNe=31,mE=66,gE=10,QNe=Se.memo(t=>{const{className:e,packages:n,snippets:o,onSelectSnippet:r,onDoubleClickSnippet:i,onContextMenuSnippet:s,isSnippetSelected:a,colorScheme:l,expandedPackages:c,onExpandedPackagesChange:d,isDisabled:p}=t,h=f.useRef(new Map).current,m=f.useCallback(({index:w,localId:x,size:_})=>{var I;h.get(x)!==_&&(_!=null?h.set(x,_):h.delete(x),(I=y.current)==null||I.resetAfterIndex(w))},[h]),g=f.useMemo(()=>{var x;const w=new Map;for(const _ of o){const I=((x=_.package)==null?void 0:x.local_id)??vE;let T=w.get(I);T==null&&(T=[],w.set(I,T)),T.push(_)}return w},[o]),C=f.useMemo(()=>n.flatMap(w=>{const x=c.has(w.local_id)?g.get(w.local_id)??[]:[];return[w,...x]}).concat(g.get(vE)??[]),[c,n,g]);f.useLayoutEffect(()=>{var w;(w=y.current)==null||w.resetAfterIndex(0)},[C]);const v=f.useMemo(()=>({list:C,colorScheme:l,sizeWasUpdated:m,expandedPackages:c,onExpandedPackagesChange:d,callbacks:{onSelectSnippet:r,onDoubleClickSnippet:i,onContextMenuSnippet:s,isSnippetSelected:a},isDisabled:p}),[C,l,m,c,d,r,i,s,a,p]),{cx:S}=o1(),y=f.useRef(null),b=r1({colorScheme:l});return u("div",{className:S(b.outsideScrollbarClassName,e),children:u(Bh,{children:({width:w,height:x})=>u(Dh,{ref:y,outerRef:b.ref,className:b.className,style:{overflow:"hidden scroll"},height:x,width:w,itemCount:v.list.length,itemData:v,itemSize:_=>{const I=v.list[_];let T=ZNe;return I instanceof yt&&(Ce(I.local_id!=null),T=h.get(I.local_id)??mE),T+gE},estimatedItemSize:mE+gE,children:XNe})})})}),YNe=t=>t instanceof yt?`snippet-${t.local_id}`:`package-${t.local_id}`,XNe=({index:t,style:e,data:n})=>{const o=n.list[t],{isDisabled:r}=n,{onDoubleClickSnippet:i,onSelectSnippet:s,onContextMenuSnippet:a,isSnippetSelected:l}=n.callbacks,{expandedPackages:c,sizeWasUpdated:d,onExpandedPackagesChange:p}=n,h=o instanceof yt?u(GNe,{isDisabled:r,item:o,onClick:s,onDoubleClick:r?He:i,onContextMenu:a,isSelected:l(o),index:t,sizeWasUpdated:d},YNe(o)):u(zNe,{item:o,expanded:c.has(o.local_id),onClick:()=>{p(Xi(m=>{m.has(o.local_id)?m.delete(o.local_id):m.add(o.local_id)}))}});return u("div",{style:e,children:h})},vE=-1;class JNe extends f.Component{constructor(n){super(n);E(this,"handleItemSelect",n=>this.setState({itemSelected:n}));E(this,"handleItemDoubleClick",(n,o)=>this.props.handleItemDoubleClick(n,o));E(this,"isSelected",n=>this.state.itemSelected===n);E(this,"handleOpen",(n,o,r,i)=>{const s={open:!0,anchorPosition:{top:n,left:o},item:r,runAnimation:i};this.setState({contextMenuProperties:s})});E(this,"handleClose",()=>this.setState({contextMenuProperties:{open:!1}}));E(this,"getContextMenuItems",()=>[{name:"Run",action:()=>{var n,o;this.state.contextMenuProperties.item!==void 0&&(this.handleItemDoubleClick(this.state.contextMenuProperties.item,!0),(o=(n=this.state.contextMenuProperties).runAnimation)==null||o.call(n)),this.handleClose()},isDisabled:this.props.isDisabled},{name:"Edit",action:()=>{if(this.state.contextMenuProperties.item!==void 0){const n=this.state.contextMenuProperties.item;this.props.dispatch(he("editEntityScreenOpened",{entity:"Snippet",editButtonOrigin:"Terminal Snippets Panel",entityID:Number(n.id??n.local_id)})),this.props.onEdit(n)}this.handleClose()}},{name:"Run in all tabs",action:()=>{var n,o;this.state.contextMenuProperties.item!==void 0&&(this.props.onRunInAllTerminals(this.state.contextMenuProperties.item),this.props.isProUser&&((o=(n=this.state.contextMenuProperties).runAnimation)==null||o.call(n))),this.handleClose()},upgrade:!this.props.isProUser,isDisabled:this.props.isDisabled},{name:"Paste",action:()=>{var n,o;this.state.contextMenuProperties.item!==void 0&&(this.handleItemDoubleClick(this.state.contextMenuProperties.item,!1),(o=(n=this.state.contextMenuProperties).runAnimation)==null||o.call(n)),this.handleClose()},isDisabled:this.props.isDisabled},{name:"Copy",action:()=>{this.state.contextMenuProperties.item!==void 0&&this.props.onCopy(this.state.contextMenuProperties.item),this.handleClose()}},{name:"View more",action:()=>{this.state.contextMenuProperties.item!==void 0&&(this.state.itemSelected===this.state.contextMenuProperties.item?this.handleItemSelect(null):this.handleItemSelect(this.state.contextMenuProperties.item)),this.handleClose()},hotkey:"Click"}]);E(this,"onFilterChanged",n=>{const{sort:o}=n;o?this.props.dispatch(A8({tab:"snippets",sort:o.type,reverse:o.reverse})):this.setState((r,i)=>{const s={...r.filters,...n},a=ANe(i.snippetsPackages,i.items,s);return{filters:s,expandedPackages:a}})});E(this,"setExpandedPackages",n=>{this.setState(o=>({expandedPackages:n(o.expandedPackages)}))});this.state={itemSelected:null,expandedPackages:new Set,filters:dc(),contextMenuProperties:{anchorPosition:{top:0,left:0},open:!1}}}render(){const{sort:n,items:o,onCreateSnippet:r,snippetsPackages:i,colorScheme:s,isDisabled:a=!1}=this.props,l=fa(this.state.filters,n),{snippets:c,packages:d}=PNe({snippets:o,packages:i},l),p=CE(d),h=CE(c),m=h.length===0&&p.length===0,g=Je.getClasses(this.props);return L(re,{minHeight:0,flex:1,style:{position:"relative"},children:[L("div",{className:g.list,style:{color:s.foregroundColor},children:[u(ONe,{onCreateSnippet:r,filters:l,onFiltersChanged:this.onFilterChanged}),u(au,{}),m?u(xNe,{}):u(QNe,{isDisabled:a,colorScheme:s,className:g.items,selectedItem:this.state.itemSelected,packages:p,snippets:h,onSelectSnippet:this.handleItemSelect,onDoubleClickSnippet:this.handleItemDoubleClick,onContextMenuSnippet:this.handleOpen,isSnippetSelected:this.isSelected,expandedPackages:this.state.expandedPackages,onExpandedPackagesChange:this.setExpandedPackages})]}),u(FNe,{contextMenuProperties:this.state.contextMenuProperties,onClose:this.handleClose,items:this.getContextMenuItems()})]})}}const eHe={list:{display:"flex",flexDirection:"column",minHeight:0,gap:12,flex:1},items:{display:"flex",flexDirection:"column",gap:10,flex:1},snippetsPackageItem:{minHeight:"61px",padding:"0 20px",display:"flex",alignItems:"center","&:hover":{backgroundColor:"var(--dark-grey-3)"}},itemLayout:{overflow:"hidden"}},CE=t=>t.filter(tHe),tHe=t=>t.local_id!=null,nHe=t=>({sort:t.sorting.snippets,snippetsPackages:vC(t),isProUser:zt(t),editableVaults:co(t)}),oHe=Je(_o(nHe)(JNe),eHe,{name:"ConnectedSnippetPickerList"});function rHe({isDisabled:t,onLabelChange:e,onScriptChange:n,updateForm:o,onSnippetsPackageChange:r,onRemoveSnippetsPackage:i,editableEntity:s,shareSlot:a=null,showShellAssist:l=!1,selectTargets:c,formCardClassName:d,variant:p}){const{classes:h,cx:m}=iHe(),g=V(eP),C=V(sc),v=V(cg),S=tt(),[y,b]=f.useState(!1),[w,x]=f.useState(!1),[_,I]=f.useState(!1),T=f.useRef(),A=de(),k=p==="terminal",R=Pc("aiForSnippets"),M=f.useCallback(async()=>{if(await R({from:"New Snippet Screen"}))try{T.current&&clearTimeout(T.current),A(dg({magicButtonOrigin:"Snippet",connectionID:void 0})),I(!1),x(!0);const U=await We(S,ug,{prompt:s.label});o({script:U.result,aianalyticsID:Ie.v4()})}catch{I(!0),T.current=setTimeout(()=>I(!1),5e3)}finally{x(!1)}},[R,A,S,s.label,o]);Ao(()=>()=>T.current&&clearTimeout(T.current));const D=ua("snippetPackages"),F=D.filter(O=>nh(O,s)),z=N2([...F,...g],ud),j={outlined:!0,disableWrapper:!0,fullWidth:!0},H=f.useCallback(async O=>{if(!O){i();return}const U=ud(O),N=D.find(W=>W.label===U);if(!N){r(new Eo({label:U,is_shared:s.is_shared,encrypted_with:s.encrypted_with}));return}r(N)},[D,r,i,s.is_shared,s.encrypted_with]);return u(f.Fragment,{children:L(So,{children:[l&&u(qB,{isTerminal:k}),L(Lt,{className:d,children:[u($t,{label:"Action description",disabled:t,value:s.label,onChange:e,placeholder:"Example: check network load",autoFocus:!0,fullWidth:!0,onFocus:()=>b(!0),onBlur:()=>b(!1),className:m(h.input,{[h.terminalInput]:k}),inputProps:{maxLength:50,style:{marginRight:l&&(C||v)?"-20px":"0px"}},InputProps:{endAdornment:(C||v)&&l&&u(Dm,{position:"end",style:{marginRight:"-7px"},children:u(GB,{onClick:M,disabled:!(s.label&&s.label.length>4),loading:w,focused:y,className:m({[h.terminalShellAssist]:k})})})}}),u("div",{className:h.packageContainer,children:u(tP,{isDisabled:t,placeholder:"Add a Package",options:z,getOptionLabel:ud,getOptionValue:ud,value:s.package,onChange:H,isClearable:!0,backspaceRemovesValue:!0,classNames:{rootClassName:m(h.packageSelector,{[h.packageSelectorInTerminal]:k}),inputClassName:m({[h.terminalInput]:k})},endAdornment:s.package?u(Ze,{left:20,children:u(fC,{disabled:t,label:"Remove",onClick:i,className:m({[h.terminalRemoveButton]:k})})}):null,noOptionsMessage:()=>"Create a new package by typing the name"})}),u($t,{label:"Script",multiline:!0,maxRows:10,minRows:6,onChange:n,value:s.script,required:!t,className:m(h.mono,h.input,{[h.terminalInput]:k}),disabled:t,...j})]}),u(Or,{in:_,mountOnEnter:!0,unmountOnExit:!0,children:u(Lt,{children:u(iC,{status:"error",skipInternalMargin:!0,children:"Snippet generation is not available at the moment, please try again later."})})}),a,c!=null&&u(UB,{onEdit:c,targetHosts:s.targetHosts,isDisabled:t})]})})}const iHe=K()({mono:{"&&& textarea":{fontFamily:"monospace"},"& textarea::-webkit-scrollbar":{display:"none"}},packageContainer:{display:"flex",alignItems:"center"},packageSelector:{"& .MuiInputBase-root":{"& .MuiInputBase-input":{"&:not(:placeholder-shown)":{padding:"0px 13px !important"}}}},packageSelectorInTerminal:{".termius-dark-theme &":{"--option-active-text-color":oe.inputActiveTextColor.value,"--option-text-color":oe.inputTextColor.value,"--section-background-color":Q.gradientColor,"--input-background-color":oe.listItemBackgroundColorHover.value,"--input-text-hover-color":oe.inputHoverColor.value},"& .Mui-focused":{"--border-color":`${oe.inputHoverColor.value} !important`,"--text-color":oe.inputActiveTextColor.value,"--label-color":`${oe.inputHoverColor.value} !important`,"--placeholder-color":`${oe.inputHoverColor.value} !important`},"& .MuiInputBase-root":{"--text-color":oe.inputActiveTextColor.value,"& .MuiInputBase-input":{color:"var(--text-color)","&:not(:placeholder-shown)":{WebkitTextFillColor:"var(--text-color)"},"&::-webkit-input-placeholder":{color:"var(--placeholder-color)"}}}},input:{"--border-color":"var(--light-grey-4)",".termius-dark-theme &":{"--border-color":"var(--dark-grey-6)"},"&.MuiTextField-root":{"& .MuiInputLabel-root":{transform:"translate(15px, 10px) scale(1)"}}},terminalInput:{".termius-dark-theme &":{"--border-color":oe.inputBorderColor.value,"--text-color":oe.inputActiveTextColor.value,"--label-color":oe.inputTextColor.value,"--placeholder-color":oe.inputTextColor.value,"--options-scroll-color":Q.foregroundColorA15},"&:hover":{"--border-color":`${oe.inputHoverColor.value} !important`,"--label-color":`${oe.inputHoverColor.value} !important`},"& .Mui-focused":{"--border-color":`${oe.inputHoverColor.value} !important`,"--text-color":oe.inputActiveTextColor.value,"--label-color":`${oe.inputHoverColor.value} !important`,"--placeholder-color":`${oe.inputHoverColor.value} !important`}},terminalShellAssist:{".termius-dark-theme &":{"--form-disabled-input-color":oe.iconColor.value,"--input-border-focused":oe.iconColorHover.value,"--active-icon-color":oe.iconColor.value}},terminalRemoveButton:{".termius-dark-theme &":{color:oe.buttonColor.value,"&:hover":{color:oe.searchColor.value}}}}),sHe=({snippet:t,useSaveFormHook:e})=>{const n=de(),o=tt(),r=V(lo),i=V(co),s=f.useCallback(M=>!!(M.script&&dt(M,i)),[i]),a=f.useCallback(M=>{var D;n(rh({isSharedEntity:Wt(M==null?void 0:M.is_shared),snippetLength:M.script.length,snippetLines:M.script.split(`
`).length,snippetCreationSource:"Create Snippet Screen",createdSnippets:1,aianalyticsID:M.aianalyticsID,predefinedSnippetPackageID:(D=M.package)==null?void 0:D.analytics_id}))},[n]),l=f.useCallback(async M=>{var D,F;return(M.id||M.local_id)&&n(JZ({entityID:Number(M.id??M.local_id),snippetPackageID:((D=M.package)==null?void 0:D.id)??((F=M.package)==null?void 0:F.local_id)??-1,aianalyticsID:M.aianalyticsID})),new yt(await We(o,Ol,M))},[o,n]),{editableEntity:c,originalEntity:d,isDraftMode:p,isValid:h,isDirty:m,resetForm:g,updateForm:C,saveFormInstantly:v,savingStatus:S,register:y,focusRequiredFields:b}=e({entity:t,entitiesSelector:pg,EntityClass:yt,getIsValidForSaving:s,saveEntity:l,onNewEntityCreated:a}),w=f.useCallback(M=>{C({label:M.target.value})},[C]),x=f.useCallback(M=>{C({script:M.target.value})},[C]),_=f.useCallback(async M=>{C({package:M.clone(),is_shared:M.is_shared})},[C]),I=f.useCallback(()=>C({package:null}),[C]),T=f.useCallback(async M=>{C({targetHosts:M})},[C]),A=f.useCallback(async()=>{var F;if(!s(c)||r)return;n(xu({sharingButtonLocation:"Snippet Edit Screen",sharedEntity:"Snippet"}));const M=Ie.v4(),D=!!((F=c.targetHosts)!=null&&F.length);Pt(o,{dialog:"ShareAndInvite",target:ge(),options:{closeOnBackdropClick:!1},props:{entitiesToShare:{snippets:[c]},hasSharingSelector:D,entryPointForAnalytics:"Edit Group",teamTrialFunnelID:M}}).catch(He),n(he("createTeamWizardViewOpened",{createTeamWizardStep:"Description",openedFrom:"Edit Snippet",teamTrialFunnelID:M,trial:"yes"})),n(he("teamTrialFunnelStarted",{openedFrom:"Edit Snippet",teamTrialFunnelID:M,teamTrialPlan:"Team"}))},[s,c,r,o,n]),k=V(M=>Ur(M,c)),R=f.useCallback(M=>{C({...ct(M),package:void 0,targetHosts:null})},[C]);return{editableEntity:c,originalEntity:d,isValid:h,isDisabled:c.local_id!=null&&!k,isDirty:m,savingStatus:S,resetForm:g,saveForm:v,updateForm:C,isDraftMode:p,onShareSnippet:A,onScriptChange:x,onSnippetsPackageChange:_,onRemoveSnippetsPackage:I,onLabelChange:w,onChangeVault:R,register:y,focusRequiredFields:b,onTargetHostsChange:T}},aHe=t=>{const e=f.useContext(eQ),n=V(xs),{snippetProps:o={}}=t;return{disabled:!!e,snippet:e?new yt({is_shared:e.is_shared,...o}):new yt({...ct(n),...o})}},lHe=f.forwardRef((t,e)=>{const{onClose:n,onSnippetCreated:o}=t,{snippet:r,disabled:i}=aHe(t),{classes:s,cx:a}=cHe(),l=sHe({snippet:r,useSaveFormHook:tQ}),{isValid:c,saveForm:d,editableEntity:p}=l,h=!p.local_id,m=async g=>{g.preventDefault();const C=await d();C!=null&&o(C)};return f.useImperativeHandle(e,()=>({snippetForm:l})),u(Si,{value:p,children:L(Nn,{className:s.form,children:[u(fn,{left:L(Et,{margin:"md",className:s.buttons,children:[u(O2,{onClick:()=>n(l),className:s.backButton,customTransparency:!0}),u(mn,{title:h?"New Snippet":"Edit Snippet",isTerminal:!0,children:u(ki,{...l,disabled:i,entry:p,variant:"terminal",isManualSave:!0})})]}),right:u(TR,{disabled:!c,onClick:m,className:a(s.saveButton,{[s.disabledSaveButton]:!c}),customTransparency:!0}),className:s.formHeader}),u(rHe,{...l,showShellAssist:!p||!(p!=null&&p.local_id),variant:"terminal",formCardClassName:s.formCard})]})})}),cHe=K()({buttons:{color:oe.listSectionColor.value},backButton:{backgroundColor:oe.iconBackgroundColor.value,color:oe.iconColor.value,"&:hover, &.storybook-hover-workaround":{backgroundColor:oe.iconBackgroundColorHover.value,color:oe.iconColorHover.value}},formCard:{background:"none",padding:"15px 0px"},saveButton:{background:oe.buttonBackgroundColor.value,color:oe.buttonColorHover.value,"&:hover, &.storybook-hover-workaround":{backgroundColor:oe.iconBackgroundColorHover.value,color:oe.iconColorHover.value}},disabledSaveButton:{background:oe.buttonBackgroundColorDisabled.value,color:`${oe.searchPlaceholderColor.value} !important`},form:{borderLeft:"none",background:Q.uiColorA05,".termius-dark-theme &":{borderLeft:"none",background:Q.uiColorA05}},formHeader:{background:"var(--light-grey-7)",".termius-dark-theme &":{background:"transparent"}}});function dHe(t){const{isOpen:e,onDismiss:n,rootSnippetPackage:o,editedSnippet:r}=t,i=V(xs),s=V(p=>Ur(p,o)),l={...f.useCallback(()=>s&&o!=null?ct(o):ct(i),[i,s,o])(),package:o,...r},c=f.useRef(null),d=async p=>{if(!p.isDirty){n();return}if(p.isValid)p.saveForm();else try{await bs(W2)}catch{return}n(),p.resetForm()};return u(Go,{open:e,variant:"terminal",ModalProps:{onClose:()=>{c.current&&d(c.current.snippetForm)}},styles:{width:`${nQ}px`,right:0,left:"auto"},children:u("div",{style:{display:"contents"},className:"termius-dark-theme",children:u(lHe,{ref:c,onClose:d,onSnippetCreated:n,snippetProps:l})})})}const uHe=t=>{const{className:e,title:n,subtitle:o,actionBar:r,handleEnterDown:i,expanded:s=!1}=t;return L(re,{padding:10,className:e,onKeyDown:l=>{i!=null&&l.key==="Enter"&&i(l)},children:[n&&L(re,{direction:"row",justifyContent:"space-between",alignItems:"center",gap:"10px",children:[n,!s&&r]}),s&&L(re,{gap:"10px",children:[o,u(Ee,{alignSelf:"end",children:r})]})]})},pHe=({item:t,handlePaste:e,handleSubmit:n,className:o,defaultStatus:r="unsaved",index:i=-1,sizeWasUpdated:s=He})=>{const{classes:a,cx:l}=hHe(),[c,d]=f.useState(r),[p,h]=f.useState(""),m=f.useRef(),g=de(),C=f.useRef(null),v=_=>{h(_.target.value)},S=_=>{_.stopPropagation(),n(t,p),d("saved"),h(""),setTimeout(()=>{d("unsaved")},5e3)};f.useLayoutEffect(()=>{var _;Ce(t.id!=null),s({index:i,id:t.id,size:z6(c)?(_=C.current)==null?void 0:_.offsetHeight:void 0})});const y=_=>{_.stopPropagation(),d("editing"),g(sP())},b=_=>{_.stopPropagation(),e(t)},w=()=>{c==="unsaved"&&d("expanded"),c==="expanded"&&d("unsaved")},x=()=>{m.current?(clearTimeout(m.current),m.current=void 0,e(t)):m.current=setTimeout(()=>{m.current=void 0,w()},300)};return u(Mr,{innerRef:C,className:l(a.root,{[a.expanded]:z6(c)},o),children:u("div",{onClick:x,children:u(uHe,{expanded:z6(c),title:c==="expanded"?null:L(f.Fragment,{children:[c==="editing"&&u(iP,{className:a.snippetTitle,value:p,onChange:v,placeholder:"Set a label",InputProps:{disableUnderline:!0},autoFocus:!0,fullWidth:!0}),c!=="editing"&&u(Z,{className:a.snippetItemTitle,color:"primary",ellipsis:!0,children:t.script})]}),subtitle:c==="editing"||c==="expanded"?u(Z,{className:a.subtitle,color:"secondary",ellipsis:!0,whiteSpace:"unset",children:t.script}):null,actionBar:L("div",{className:a.actionBar,children:[c==="editing"&&u(Ue,{className:a.actionButton,disableHover:!0,size:"tiny",onClick:S,children:"Done"}),(c==="unsaved"||c==="expanded")&&u(Ue,{className:a.actionButton,disableHover:!0,size:"tiny",onClick:y,children:"SAVE"}),(c==="unsaved"||c==="expanded")&&u(Ue,{className:a.actionButton,disableHover:!0,size:"tiny",onClick:b,children:"PASTE"}),c==="saved"&&L("div",{className:a.saved,children:[u(zh,{className:a.checkIcon}),"saved"]})]}),handleEnterDown:S})})})},hHe=K()((t,e,n)=>({root:{padding:0,borderRadius:10,margin:0,border:"1px solid transparent",backgroundColor:oe.listItemBackgroundColor.value,"&:hover, &.storybook-hover-workaround":{backgroundColor:oe.listItemBackgroundColorHover.value,[oe.listItemColor.name]:oe.listItemColorHover.value}},snippetTitle:{"& > div > input":{color:oe.listItemColor.value},"& .MuiInput-input::placeholder":{"&, .termius-dark-theme &":{color:oe.listItemPlaceholderColor.value,opacity:"unset"}}},snippetItemTitle:{color:oe.listItemColor.value},actionBar:{display:"none",gap:10,[`.${n.root}:hover &, .${n.root}.storybook-hover-workaround &`]:{display:"flex"},[`.${n.root}.${n.expanded}:not(:hover, .storybook-hover-workaround) &`]:{display:"flex",visibility:"hidden",opacity:0}},expanded:{[oe.listItemColor.name]:oe.listItemColorActive.value,[oe.listItemSubtitleColor.name]:oe.listItemSubtitleColorActive.value,backgroundColor:oe.listItemBackgroundColorActive.value},actionButton:{width:40,height:17,color:oe.buttonColor.value,backgroundColor:oe.buttonBackgroundColor.value,fontWeight:900,"&:hover":{color:oe.buttonColorHover.value,backgroundColor:oe.buttonBackgroundColorHover.value},"&:disabled":{color:oe.buttonColorDisabled.value,backgroundColor:oe.buttonBackgroundColorDisabled.value}},subtitle:{color:oe.listItemColor.value,overflowWrap:"break-word"},checkIcon:{width:8,height:6,marginRight:6},saved:{textTransform:"uppercase",fontSize:7,color:oe.listItemColor.value,display:"flex",alignItems:"center"}}));function z6(t){return t==="expanded"||t==="editing"}const yE=43,SE=10,fHe=Se.memo(t=>{const{className:e,items:n,colorScheme:o,handlePaste:r,handleSubmit:i}=t,s=f.useRef(new Map).current,a=f.useRef(null);f.useLayoutEffect(()=>{var h;(h=a.current)==null||h.resetAfterIndex(0)},[n]);const l=f.useCallback(({index:h,id:m,size:g})=>{var C;s.get(m)!==g&&(g!=null?s.set(m,g):s.delete(m),(C=a.current)==null||C.resetAfterIndex(h))},[s]),c=f.useMemo(()=>({items:n,expandedSizes:s,colorScheme:o,handlePaste:r,handleSubmit:i,sizeWasUpdated:l}),[n,s,o,r,i,l]),d=r1({colorScheme:o}),{cx:p}=o1();return u("div",{className:p(d.outsideScrollbarClassName,e),children:u(Bh,{children:({width:h,height:m})=>u(Dh,{ref:a,outerRef:d.ref,className:d.className,style:{overflow:"hidden scroll"},height:m,width:h,itemCount:n.length,itemData:c,itemSize:g=>{const C=n[g];return Ce(C.id!=null),(s.get(C.id)??yE)+SE},estimatedItemSize:yE+SE,children:mHe})})})}),mHe=({index:t,style:e,data:n})=>{const o=n.items[t],{handlePaste:r,handleSubmit:i,sizeWasUpdated:s}=n;return Ce(o.id!=null),u("div",{style:e,children:u(pHe,{defaultStatus:n.expandedSizes.has(o.id)?"expanded":"unsaved",item:o,handlePaste:r,handleSubmit:i,index:t,sizeWasUpdated:s},o.id)})};function gHe(t){return t.stats.connectionsAmount}function vHe(t){return t.stats.firstLaunchDate}const CHe=tn(t=>t.stats.lastInteractionDate,t=>t.stats.firstInteractionDate,(t,e)=>Math.round((t-e)/1e3)),DW=tn(t=>t.stats.sessionTabs,t=>Object.values(t)),yHe=tn(DW,t=>wy(t,"totalTerminalTabs")),SHe=tn(DW,t=>{var e;return((e=oQ(t,"maxTerminalTabs"))==null?void 0:e.maxTerminalTabs)??0});tn(SHe,yHe,CHe,(t,e,n)=>({maxTerminalTabs:t,totalTerminalTabs:e,lastSessionDuration:n}));const bHe=()=>u(hn,{offsetTop:55,children:u(J3,{title:"No command history",text:"Command history for this host couldnâ€™t be loaded.",icon:u(Oi,{color:Q.uiColor}),isCompactView:!0})}),wHe=t=>{const{filters:e,onFiltersChanged:n}=t,{sizeObserverRef:o}=wu(),{classes:r}=_He();return u("div",{className:r.header,ref:o,children:u("div",{className:r.filters,children:u(OW,{search:e.search,onChange:n,isDynamicSize:!1,isOnlySearch:!0})})})},_He=K()({header:{display:"flex",alignItems:"center",justifyContent:"space-between",zIndex:10,width:"100%"},filters:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"}}),xHe=({script:t})=>{const{classes:e}=AHe();return u(Z,{className:e.listItem,ellipsis:!0,children:t})},AHe=K()({listItem:{padding:"5px 10px",backgroundColor:oe.listItemBackgroundColorHover.value,color:oe.listItemColor.value,borderRadius:10}}),THe=t=>{const{handleClick:e,handleClose:n,children:o}=t,{classes:r}=IHe();return u(J3,{title:"",isCompactView:!0,classNameText:r.text,text:"Save your top-3 commands as snippets to reuse them in one click",icon:u(Oi,{color:Q.uiColor}),children:L(re,{width:"100%",gap:"15px",children:[u(re,{gap:"10px",children:o}),L(re,{flexDirection:"row",gap:"10px",children:[u(vs,{onClick:n,className:r.closeButton,fullWidth:!0,children:"Close"}),u(vs,{onClick:e,className:r.saveButton,fullWidth:!0,children:"Save"})]}),u(au,{})]})})},IHe=K()({text:{color:Q.uiColor},saveButton:{backgroundColor:Q.uiColorA20},closeButton:{backgroundColor:Q.uiColorA05}}),EHe=t=>{const e=t.filter(l=>l.script.length>5).length>10,[n]=f.useState(V(rP)),o=V(gHe),r=V(vHe),i=V(sQ);return lt(bc)&&!i&&n===0&&o>1&&Date.now()-r>aQ&&e},kHe=t=>{const{items:e,pasteCommand:n,status:o,handleSnippetSaved:r,colorScheme:i}=t,{classes:s}=RHe(),a=V(xs),l=EHe(e??[]),c=e==null?void 0:e.filter(M=>M.script.length>5).slice(0,3),[d,p]=f.useState(!0),[h,m]=f.useState(!1),g=de(),C=()=>g(VP({screen:"snippets",windowId:ge()})),v=rQ(d,{from:{opacity:1,maxHeight:386},enter:{opacity:1,maxHeight:386},leave:{opacity:0,maxHeight:0},onDestroyed:()=>{h&&C()}}),[S,y]=f.useState({...dc()}),b=M=>n(M,!1),w=M=>{y(M)},x=f.useCallback((M,D)=>{g(Ol.request(new yt({script:M.script,label:D}))),r(),g(rh({isSharedEntity:"no",snippetLength:M.script.length,snippetLines:M.script.split(`
`).length,snippetCreationSource:"Terminal Commands History Screen",createdSnippets:1,aianalyticsID:void 0,predefinedSnippetPackageID:void 0}))},[g,r]),_=()=>{c==null||c.forEach(M=>{g(Ol.request(new yt({script:M.script,...ct(a)})))}),g(rh({snippetLength:-1,snippetLines:-1,isSharedEntity:"no",snippetCreationSource:"Top 3 Snippets Hint in Terminal",createdSnippets:3,aianalyticsID:void 0,predefinedSnippetPackageID:void 0})),m(!0),p(!1)},I=()=>{p(!1),g(lQ()),g(cQ({hintLevel:"Info",hintMessage:"Add Snippets from History",closingMethod:void 0}))},T=f.useMemo(()=>iQ(e??[],S.search),[S.search,e]),A=o==="loading",k=o==="error"||e==null||o==="success"&&e.length===0||o==="not_available";if(A)return u(Oo,{size:19,className:s.spinner});if(k)return u(bHe,{});const R=T.length>0;return L("div",{className:s.list,children:[u(wHe,{filters:S,onFiltersChanged:w}),u(au,{}),l&&v((M,D)=>D&&u(zP.div,{style:M,children:u(THe,{handleClick:_,handleClose:I,children:c==null?void 0:c.map(F=>u(xHe,{script:F.script},F.local_id??F.id??F.script))})})),R?u(fHe,{className:s.items,items:T,handlePaste:b,handleSubmit:x,colorScheme:i}):u(hn,{children:u(J3,{title:"No results found",text:"Adjust your search and try again.",isCompactView:!0,icon:u(G8,{color:Q.uiColor,height:25,width:25})})})]})},RHe=K()({list:{display:"flex",width:"100%",flexDirection:"column",gap:12,minHeight:0,flex:1,"& ::selection":{background:Q.selectionColor}},items:{flex:1},spinner:{color:Q.foregroundColor,margin:"24px auto"}}),PHe=t=>{const{selectedIndex:e,children:n}=t,{classes:o}=LHe({selectedIndex:e});return L("div",{className:o.buttonRowSelector,children:[n,u("div",{className:o.selectedItem})]})},LHe=K()((t,{selectedIndex:e})=>({buttonRowSelector:{boxSizing:"border-box",borderRadius:10,height:30,display:"grid",gridAutoFlow:"column",justifyContent:"start",gap:10,position:"relative"},selectedItem:{boxSizing:"border-box",borderRadius:10,position:"absolute",left:`calc(40px * ${e})`,width:30,height:30,zIndex:1,transition:"left 0.15s",backgroundColor:oe.iconBackgroundColorActive.value}}));function MHe(t){const{className:e,selected:n,children:o,onClick:r,buttonName:i}=t,{classes:s,cx:a}=OHe();return u("button",{className:a(e,s.buttonRowSelectorItem,{[s.selected]:n}),onClick:r,type:"button","aria-label":i,children:o})}const OHe=K()({buttonRowSelectorItem:{border:0,padding:0,height:30,width:30,position:"relative",transition:"background 0.3s",display:"flex",alignItems:"center",justifyContent:"center",color:oe.iconColor.value,backgroundColor:oe.iconBackgroundColor.value,"&:hover":{backgroundColor:oe.iconBackgroundColorHover.value,color:oe.iconColorHover.value},borderRadius:10},selected:{color:oe.iconColorActive.value,"&:hover":{backgroundColor:oe.iconBackgroundColor.value},zIndex:2}}),DHe=f.memo(MHe),FHe=t=>{const{classes:e,cx:n}=HHe(),{className:o,animate:r,endAnimation:i}=t;return u(Uy,{onAnimationEnd:()=>i(),className:n({[e.shake]:r},o)})},NHe=jr`
  0% {
    transform: rotate(0) scale(1);
  }
  10% {
    transform: rotate(-5deg) scale(1.1);
  }
  20% {
    transform: rotate(-10deg) scale(1.2);
  }
  30% {
    transform: rotate(-5deg) scale(1.3);
  }
  40% {
    transform: rotate(0deg) scale(1.4);
  }
  50% {
    transform: rotate(5deg) scale(1.5);
  }
  60% {
    transform: rotate(10deg) scale(1.4);
  }
  70% {
    transform: rotate(5deg) scale(1.3);
  }
  80% {
    transform: rotate(0deg) scale(1.2);
  }
  90% {
    transform: rotate(-5deg) scale(1.1);
  }
  100% {
    transform: rotate(0) scale(1);
  }
`,HHe=K()({shake:{animation:`${NHe} 1s`,animationIterationCount:"1"}}),BHe=["productivity","snippets","history","theme"],zHe=t=>{const{children:e,activeList:n,onOpenList:o,hideTabs:r=[]}=t,i=Ck(BHe,...r),s=i.indexOf(n),a={productivity:u(y9,{}),snippets:e,history:u(hu,{}),theme:u(jge,{})};return u(PHe,{selectedIndex:s,children:i.map(l=>u(DHe,{onClick:()=>o(l),selected:n===l,buttonName:l,children:a[l]},l))})},VHe=f.memo(({onChange:t,currentFontSize:e})=>{const{classes:n}=WHe(),o=Wm.getMinFontSize(),r=Wm.getMaxFontSize(),[i,s]=f.useState(`${e}`);f.useEffect(()=>{s(`${e}`)},[e]);const a=d=>{const p=d.replace(/[^\d]/g,""),h=parseInt(p,10);if(Number.isNaN(h)){s(p);return}if(h<o){s(`${h}`);return}const m=h>r?r:h;s(`${m}`),m!==e&&t(m)},l=()=>{if(e>o){const d=e-1;t(d),s(`${d}`)}},c=()=>{if(e<r){const d=e+1;t(d),s(`${d}`)}};return L("div",{className:n.container,children:[u(Ze,{right:10,children:u(Z,{fontSize:14,lineHeight:1.5,className:n.title,children:"Text Size"})}),L("div",{className:n.content,children:[u(vs,{onClick:l,className:n.buttonItem,color:"regular",disabled:e===o,children:u(iee,{})}),u(sn,{outlined:!0,disableWrapper:!0,value:i,onChange:d=>a(d.target.value),className:n.fontInput,isTextOnCenter:!0,accentColor:Q.uiColorA10}),u(vs,{onClick:c,className:n.buttonItem,color:"regular",disabled:e===r,children:u(WP,{})})]})]})}),WHe=K()({container:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},content:{display:"flex"},buttonItem:{height:"36px",width:"36px",fontWeight:700,fontSize:"16px",borderRadius:"6px"},fontInput:{width:"51px",margin:"0 5px","--text-color":Q.uiColor,"&:hover":{"--text-color":Q.foregroundColor}},title:{color:oe.listSectionColor.value}}),jHe=f.memo(t=>{const{colorScheme:e,defaultExpanded:n=!1}=t,o=de(),r=ge(),i=V(m=>Jo(m,r)),{classes:s}=UHe(),a=V(m=>bg(m,i==null?void 0:i.id)),l=V(m=>wg(m,i==null?void 0:i.id)),c=V(n1),d=V(RC);f.useEffect(()=>{(l!==c||a!==d)&&o(dQ(r))},[a,l,o,d,c,r]);const p=f.useCallback(m=>{o(uQ({terminalFont:a,terminalFontSource:"Terminal",terminalFontSelected:m})),o(pQ({windowId:r,fontName:m}))},[r,o,a]),h=m=>{o(gQ({windowId:r,fontSize:m}))};return u("div",{className:s.container,children:L(hQ,{className:s.accordion,elevation:0,square:!0,defaultExpanded:n,children:[u(fQ,{expandIcon:u(dn,{className:s.arrowIcon}),"aria-controls":"panel1a-content",id:"panel1a-header",className:s.header,children:u(Z,{variant:"subtitle2",className:s.title,children:"Font"})}),L(mQ,{children:[u(see,{colorScheme:e,currentFont:a,onFontSubmitted:p,menuFullWidth:!0,isMenuOnTop:!0}),u(VHe,{onChange:h,currentFontSize:l})]})]})})}),UHe=K()((t,e,n)=>({container:{color:oe.listSectionColorHover.value,display:"flex",flexDirection:"column",height:"auto"},accordion:{color:oe.listSectionColor.value,backgroundColor:"transparent","& .MuiAccordionSummary-expandIconWrapper":{transform:"rotate(-90deg)","&.Mui-expanded":{transform:"rotate(0deg)"}},"& .MuiAccordionSummary-root":{height:28},"& .MuiAccordionDetails-root":{display:"flex",flexDirection:"column",gap:10,padding:"unset","&::before":{content:'""'}}},title:{},arrowIcon:{fontSize:14,color:oe.listSectionSubtitleColor.value,transition:"transform 0.2s ease-in"},header:{color:oe.listSectionColor.value,transition:"transform 0.2s ease-in","&:hover":{[`& .${n.title}`]:{color:oe.listSectionColorHover.value},[`& .${n.arrowIcon}`]:{color:oe.listSectionSubtitleColorHover.value}}}})),$He=f.memo(({source:t})=>{const{classes:e}=qHe(),n=de(),o=()=>{CQ(),n(yQ({terminalThemeSource:t}))};return L("div",{className:e.container,onClick:o,children:[u("div",{className:e.content,children:u(WP,{width:12,height:12})}),L("div",{className:e.title,children:[u(Z,{fontSize:14,lineHeight:1.5,children:"Suggest new"}),u(vQ,{className:e.linkIcon})]})]})}),qHe=K()({container:{position:"relative",width:"100%",display:"flex",alignItems:"center",padding:"4px",border:"2px solid transparent",marginBottom:"4px",borderRadius:10,boxSizing:"border-box",scrollMarginBottom:"10px",color:oe.listItemColor.value,"&:hover":{color:oe.listItemColorHover.value,backgroundColor:oe.listItemBackgroundColorHover.value}},content:{width:"72px",height:"48px",borderRadius:6,border:"1px solid",borderColor:Q.foregroundColorA10,backgroundColor:Q.uiColorA10,display:"flex",alignItems:"center",justifyContent:"center"},title:{marginLeft:"8px",display:"flex",alignItems:"center"},linkIcon:{width:"13px",height:"13px",marginLeft:"6px",fill:"currentColor",marginTop:"1px"}}),GHe=t=>{const{colorScheme:e,onThemeChange:n}=t,o=de(),r=ge(),i=lt(jP),s=V(SQ),a=Object.values(Wm.getAllSchemeObjects()).map(bQ),l=UP(),{classes:c,cx:d}=KHe(),p=(v,S)=>{o(_Q({terminalTheme:S,terminalThemeSource:"Terminal",globalTerminalTheme:s,...l})),o(xQ({windowId:r,schemeName:v})),n(v)},h=v=>(a.findIndex(y=>y.schemeName===i)+v+a.length)%a.length,m=Yn(v=>{const S=h(v);p(a[S].schemeName,a[S].themeTitle)}),g=Yn(v=>{switch(v.key){case"ArrowUp":v.stopPropagation(),v.preventDefault(),m(-1);break;case"ArrowDown":v.stopPropagation(),v.preventDefault(),m(1);break}}),C=r1({colorScheme:e,scrollbarOutsideOfBorderBox:!0});return L("div",{className:c.container,onKeyDown:g,children:[u(Z,{variant:"subtitle2",className:c.themesTitle,children:"Themes"}),L("ul",{ref:C.ref,className:d(c.content,C.className),role:"listbox","aria-label":"Theme List",tabIndex:0,children:[a.map(v=>u(wQ,{themeTextColor:e.foregroundColor,theme:v,isActive:i===v.schemeName,onClick:()=>{p(v.schemeName,v.themeTitle)},showCountOfUses:!0,enableAutoScroll:!0},`theme-${v.themeTitle}`)),u($He,{source:"Terminal"})]})]})},KHe=K()({container:{width:"100%",height:"auto",flex:1,display:"flex",flexDirection:"column",gap:10,minHeight:0},content:{display:"flex",flexDirection:"column",flex:1,listStyle:"none",gap:4},themesTitle:{color:oe.listSectionColor.value}}),ZHe=()=>{const t=de(),e=V(Wa),n=ge(),o=V(g=>Jo(g,n)),r=V(g=>Da(g,n)),i=V($P)(o),s=V(g=>bg(g,o==null?void 0:o.id)),a=AQ(o==null?void 0:o.connectionProtocol),l=g=>{t(EQ(g))},c=(g,C)=>{const v=new _t(g),S=a&&v[a];S&&(S.color_scheme=C,t(hs.request({host:v})))},d=(g,C)=>{const v=new Gi(g),S=a&&v[a];S&&(S.color_scheme=C,t(kQ.request(v)))},p=g=>{switch(i.from){case"global":l(g);break;case"host":c(i.fromTarget,g);break;case"group":d(i.fromTarget,g);break}t(TQ({globalTerminalTheme:e(g).name,terminalFont:s,terminalFontSelected:s,terminalTheme:e(g).name})),i.schemeName!==g&&g!=="auto"&&t(IQ(g))},h=V(g=>{switch(i.from){case"group":case"host":return Ur(g,i.fromTarget);case"global":return!0;default:return _1(i.from)}});return{onThemeChange:_u(g=>{const C=i.schemeName!==g;h&&C&&!Xn(r)&&p(g)},{wait:500}).run}},QHe=t=>{const{classes:e}=YHe(),{onThemeChange:n}=ZHe(),o=t==null?void 0:t.colorScheme;return L("div",{className:e.container,children:[u(jHe,{colorScheme:o}),u(au,{}),u(GHe,{colorScheme:o,onThemeChange:n})]})},YHe=K()({container:{width:"100%",height:"100%",display:"flex",flexDirection:"column",gap:10,"& ::selection":{background:Q.selectionColor}}}),cb=t=>{var we;const{mediator:e,connection:n,terminalTabId:o,onRun:r,handlePasteHistoryCommand:i,onRunInAllTerminals:s,history:a,historyStatus:l,width:c,onModalFormOpen:d,colorScheme:p,onScreen:h,hideTabs:m=[]}=t,{classes:g,cx:C}=XHe(),v=tt(),S=de(),y=f.useRef(null),b=f.useRef(!1),w=V(zt),x=V(be=>RQ(be,o)),_=V(be=>PP(be,ge())),I=lt(GP),T=V(PQ),A=lt(Jo),[k,R]=f.useState(void 0),[M,D]=f.useState(!1),[F,z]=f.useState(void 0),j=k==="snippet"&&c!==0,H=UP();Ao(()=>Un(v,_P,be=>{x.has(be.payload.terminalId)&&X("identity")}));const O=V(be=>{var Ne,$e;return Ba(be,(Ne=e==null?void 0:e.multiplayerApi)==null?void 0:Ne.hostPeerId,($e=e==null?void 0:e.multiplayerApi)==null?void 0:$e.participantId)}),U=!!((we=e==null?void 0:e.multiplayerApi)!=null&&we.hostPeerId&&!(O!=null&&O.isControlOwner))||(A==null?void 0:A.connectionProtocol)==="session-log",N=be=>{if(!w){Pt(v,{dialog:"ProFeatures",target:ge(),props:{openWithNumber:po("Automation"),from:"Snippet Run In All Tabs"}}).catch(He),ee();return}s(be)},W=(be,Ne)=>{r(be,Ne)},B=be=>{z(be),X("snippet")},$=be=>{Z6.writeText(be.script)},q=()=>{S(LQ({createSnippetOrigin:"Terminal Side Bar"})),X("snippet")},X=be=>{R(be)};f.useEffect(()=>{if(!b.current){b.current=!0;return}d==null||d(!0)},[k,d]);const ee=()=>{R(void 0),z(void 0),d==null||d(!1)},ue=be=>{const Ne={terminalSidePanelToggledVia:null,...H};switch(be){case"productivity":S(YP(Ne));break;case"history":S(QP({...Ne,commandsHistorySource:"Host History"}));break;case"snippets":S(ZP(Ne));break;case"theme":S(KP(Ne));break}},se=be=>{be!==I&&ue(be),S(VP({screen:be,windowId:ge()}))},ie=()=>{D(!0)},J=()=>{D(!1)},le=be=>{(be!=null&&be.metaKey&&(be==null?void 0:be.key)==="f"||be!=null&&be.ctrlKey&&be.shiftKey&&(be==null?void 0:be.key)==="F")&&(_||S(DC({windowId:ge(),source:"Shortcut"})))},ve=BP(),Me=L(f.Fragment,{children:[u(dHe,{isOpen:j,onDismiss:ee,editedSnippet:F}),u(lNe,{isOpen:k==="identity",onDismiss:ee})]});return!h||c===0?Me:L("div",{className:C(g.sidepanelContainer,ve),children:[L("div",{tabIndex:-1,style:{width:c},className:g.wrapper,onKeyDownCapture:le,ref:y,children:[u(zHe,{activeList:I,onOpenList:se,hideTabs:m,children:u(FHe,{animate:M,endAnimation:J})}),L("div",{className:g.list,children:[I==="productivity"&&u(bNe,{className:ve,colorScheme:p,mediator:e,connection:n}),I==="snippets"&&u(oHe,{isDisabled:U,colorScheme:p,items:T,handleItemDoubleClick:W,onRunInAllTerminals:N,onCopy:$,onEdit:B,onCreateSnippet:q}),I==="history"&&u(kHe,{colorScheme:p,status:l,items:a,pasteCommand:i,handleSnippetSaved:ie}),I==="theme"&&u(QHe,{colorScheme:p})]})]}),Me]})},XHe=K()({sidepanelContainer:{width:"auto",height:"100%",display:"flex",flexDirection:"column",alignItems:"flex-end",padding:"0 0 10px 0"},wrapper:{backgroundColor:Q.uiColorA05,border:"none",borderRadius:"10px",position:"sticky",right:10,maxWidth:qP,display:"flex",flexDirection:"column",height:"100%",padding:10,gap:20},list:{flex:1,display:"flex",flexDirection:"column",minHeight:0}}),JHe=t=>{const{position:e,colorScheme:n,delay:o=500}=t,{terminalColors:r}=gc(n),{classes:i,cx:s}=FW(),[a,l]=Se.useState(!1),c=e!=null;return f.useEffect(()=>{let d;return c?d=setTimeout(()=>{l(!0)},o):l(!1),()=>clearTimeout(d)},[c,o]),c?u(NC,{classes:{popper:s(r,i.active),tooltip:i.tooltip},open:a,placement:"top",disableInteractive:!0,arrow:!1,title:u(eBe,{}),PopperProps:{anchorEl:()=>({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,x:e.x,y:e.y})})},children:u("div",{})}):null},eBe=()=>{const{classes:t,cx:e}=FW(),n=V(eg);return L("div",{className:t.tooltipContainer,children:[L("div",{className:e(t.shortcutContainer),children:[u("div",{className:t.shortcut,children:(n==null?void 0:n.mod)&&gd(n.mod)}),u(Z,{className:t.tooltipTitle,children:"+"}),u("div",{className:t.shortcut,children:"Click"})]}),u(Z,{className:t.tooltipTitle,children:"to open the link"})]})},FW=K()({tooltip:{position:"relative",background:"var(--tooltip-background)",border:"1px solid var(--tooltip-border)",borderRadius:"10px",padding:"9px",margin:"5px 0",boxShadow:"0px 15px 30px 0px rgba(0, 0, 0, 0.15)",maxWidth:440},active:{"--tooltip-title":Q.foregroundColor,"--tooltip-subtitle":Q.foregroundColor,"--tooltip-border":Q.foregroundColorA05,"--hotkey-text-color":Q.foregroundColor,"--hotkey-background-color":Q.foregroundColorA15,"--tooltip-background":Q.gradientColor},tooltipTitle:{color:"var(--tooltip-title)",lineHeight:"18px",display:"flex"},tooltipContainer:{textOverflow:"ellipsis",overflow:"hidden",display:"flex",alignItems:"center",gap:"4px"},shortcutContainer:{margin:"auto 4 auto auto",display:"flex",gap:"3px"},shortcut:{color:"var(--hotkey-text-color)",background:"var(--hotkey-background-color)",borderRadius:3,textAlign:"center",fontFamily:"Lucida Grande, CircularXX, sans-serif",fontSize:11,fontStyle:"normal",fontWeight:500,lineHeight:"18px",padding:"0 3px",minWidth:"18px"}}),tBe=""+new URL("selectMousePointer-74e191ff.svg",import.meta.url).href,nBe=t=>{const{onKeyboardClick:e,onSelectClick:n,shortcutPrefix:o}=t,{classes:r}=oBe();return L("div",{className:r.dialog,children:[u("div",{className:r.title,children:"Copy & Paste"}),u("div",{className:r.subtitle,children:"Choose how youâ€™d like Copy and Paste to work:"}),L("div",{className:r.container,children:[L("div",{className:r.column,children:[L("div",{className:ce(r.picture,r.pictureCol),children:[L("div",{className:r.iconGroup,children:[u("span",{className:r.icon,children:"ctrl"}),u("span",{className:r.icon,children:"shift"}),u("span",{className:r.icon,children:"C"})]}),L("div",{className:r.iconGroup,children:[u("span",{className:r.icon,children:"ctrl"}),u("span",{className:r.icon,children:"shift"}),u("span",{className:r.icon,children:"V"})]})]}),L("div",{className:r.text,children:["Use"," ",L("span",{className:r.highlightBlue,children:[o,"+C"]})," to Copy",u("br",{}),"and"," ",L("span",{className:r.highlightBlue,children:[o,"+V"]})," to Paste"]}),u(Ue,{autoFocus:!0,color:"accent",onClick:e,children:"Use keyboard shortcuts"})]}),L("div",{className:r.column,children:[L("div",{className:r.picture,children:[u("div",{className:r.rectangle}),u("div",{className:r.pointer})]}),L("div",{className:r.text,children:[u("span",{className:r.highlightGreen,children:"Select"})," text to Copy,",u("br",{}),"use ",u("span",{className:r.highlightGreen,children:"Right Click"})," to Paste.",u("br",{}),u("span",{className:r.highlightBlue,children:"Keyboard shortcuts"})," ","will still work."]}),u(Ue,{autoFocus:!0,color:"accent",onClick:n,children:"Enable select + click"})]})]})]})},oBe=K()(()=>({dialog:{...bt.typography.fonts.b16p,padding:"10px 10px 0 10px",display:"flex",flexDirection:"column",textAlign:"center"},title:{...bt.typography.fonts.b14p},subtitle:{...bt.typography.fonts.r12p,margin:"20px 0 20px 0"},container:{width:482,display:"flex",flexDirection:"row",justifyContent:"space-between"},column:{display:"flex",flexDirection:"column",justifyContent:"space-between",width:231},picture:{display:"flex",justifyContent:"center",height:57,width:"100%"},pictureCol:{flexDirection:"column",justifyContent:"flex-start"},iconGroup:{display:"flex",justifyContent:"center",margin:"0 0 4px 0"},icon:{...bt.typography.fonts.r8w,backgroundColor:bt.colors.info.medium,padding:4,borderRadius:2,margin:"2px 4px 0 0",minWidth:14},rectangle:{width:106,height:28,backgroundColor:bt.colors.alpha.success.medium.a50},pointer:{margin:"14px 0 0 -4px",width:30,height:31,content:`url(${tBe})`},text:{...bt.typography.fonts.r12p,margin:"15px 0 18px 0"},highlightBlue:{...bt.typography.fonts.b12p,color:bt.colors.info.medium},highlightGreen:{...bt.typography.fonts.b12p,color:bt.colors.success.medium}})),rBe=({onDismiss:t})=>{const e=de();return u(qD,{style:sBe,isOpen:!0,contentLabel:"",ariaHideApp:!1,onRequestClose:()=>t(),children:u(nBe,{shortcutPrefix:iBe,onKeyboardClick:()=>{e(MQ()),t()},onSelectClick:()=>{e(OQ()),t()}})})},iBe=Co?"Cmd":"Ctrl+Shift",sBe={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"},overlay:{backgroundColor:"rgba(0, 0, 0, .5)",zIndex:31}},aBe=()=>{const[t,e]=f.useState(()=>!0);return{triggerModal:()=>{Co||Vr.wasDeprecatedCopyPasteDialogShown()||e(!1)},modalElement:t?null:u(rBe,{onDismiss:()=>{e(!0),Vr.setDeprecatedCopyPasteDialogWasShown()}})}},lBe=(t,e,n)=>{const o=V(DQ),r=V(FQ),i=V(NQ),s=V(HQ),a=V(C=>bg(C,e.id)),l=V(C=>wg(C,e.id)),{bellSound:c,scrollback:d,backspace:p,colorScheme:h,inView:m}=n;f.useLayoutEffect(()=>{e.setFontFamily(a)},[e,a]),f.useLayoutEffect(()=>{e.setFontSize(l)},[e,l]),f.useLayoutEffect(()=>{e.setScrollback(d)},[e,d]),f.useEffect(()=>{e.setRightClickToPaste(o)},[e,o]),f.useEffect(()=>{e.setOptionIsMeta(r)},[e,r]),f.useEffect(()=>{e.setBrightenBoldText(i)},[e,i]),f.useEffect(()=>{e.setKeywordsHighlighting(s)},[e,s]),f.useEffect(()=>{e.setBellSoundEnabled(c)},[e,c]),f.useEffect(()=>{e.setBackspaceMode(p)},[e,p]),f.useLayoutEffect(()=>{e.setTheme(h)},[e,h]),f.useEffect(()=>t.current?(e.moveTo(t.current).catch(He),()=>e.detach()):()=>{},[e,t]),f.useEffect(()=>{e.setVisibility(m)},[e,m]);const g=aBe();return hBe(e),pBe(e),uBe(e,h),cBe(e),dBe(e),{copyPasteSettings:g}},cBe=t=>{const e=de(),n=V(RC),o=V(r=>bg(r,t.id));f.useEffect(()=>{o!==n&&e(Yo({id:t.id,changes:{localFontFamily:n}}))},[t.id,n])},dBe=t=>{const e=de(),n=V(n1),o=V(r=>wg(r,t.id));f.useEffect(()=>{o!==n&&e(Yo({id:t.id,changes:{zoom:n}}))},[t.id,n])},uBe=(t,e)=>{const n=i1(),o=pn(n),r=de(),i=V(BQ),s=V(p=>nn(p,t.id)),a=V($P)(s,e),l=V(Wa),c=l(a.schemeName),d=l(i);f.useEffect(()=>{o||d.name!==(c==null?void 0:c.name)&&a.from==="global"&&r(Yo({id:t.id,changes:{colorScheme:d}}))},[t.id,i])},pBe=t=>{const e=de(),[n]=f.useState(ge);nc(t.onZoomIn,()=>{e(zQ(n))}),nc(t.onZoomOut,()=>{e(VQ(n))})},hBe=t=>{const e=tt(),[n]=f.useState(ge),o=V(i=>Jo(i,n)),r=de();Ca(e,DP,({payload:i})=>{n!==i.windowId||(o==null?void 0:o.id)!==t.id||(t.findPrev(i.query.criteria,i.query.options),r(Xb()))},[n,o==null?void 0:o.id,t]),Ca(e,OP,({payload:i})=>{n!==i.windowId||(o==null?void 0:o.id)!==t.id||(t.findNext(i.query.criteria,i.query.options),r(Xb()))},[n,o==null?void 0:o.id,t]),nc(t.onSearchRequest,()=>{r(DC({windowId:n,source:"Shortcut"}))})};function db({colorScheme:t,onScreen:e,backspace:n,scrollback:o,bellSound:r,terminalApi:i,className:s,terminalIsActive:a=!0}){const{classes:l,cx:c}=mBe(),d=f.useRef(null),{copyPasteSettings:p}=lBe(d,i,{colorScheme:t,inView:e,backspace:n,scrollback:o,bellSound:r}),{isDefaultCursor:h,tooltipPosition:m}=fBe({terminalApi:i});return L("div",{onContextMenu:p.triggerModal,className:c(l.terminalView,{[l.inactiveTerminal]:!a,[l.defaultCursor]:h},s),ref:d,children:[p.modalElement,u(JHe,{position:m,colorScheme:t})]})}const fBe=({terminalApi:t})=>{const[e,n]=f.useState(!1),[o,r]=f.useState();return ma(()=>t.onHoverLink.subscribe(i=>{if(!i){r(void 0);return}r({x:i.clientX,y:i.clientY}),n(!0)}),[t,r]),ma(()=>t.onKeyboardEvent.subscribe(i=>{const s=Co?i==null?void 0:i.metaKey:i==null?void 0:i.ctrlKey;n(!(o&&s))}),[t.onKeyboardEvent,o]),{isDefaultCursor:e,tooltipPosition:o}},mBe=K()({terminalView:{zIndex:0,height:"100%",position:"relative",flex:"1","& .xterm":{height:"100%"},minHeight:0,"& .xterm .xterm-viewport":{width:"auto !important"}},inactiveTerminal:{backgroundColor:"transparent !important",opacity:.5,"& > .xterm":{"& > .xterm-viewport, & > .xterm-screen":{backgroundColor:"transparent !important"}}},defaultCursor:{"& .xterm .xterm-cursor-pointer":{cursor:"default"}}}),gBe={terminalContainer:{"--container-padding-top":"0px","--container-padding-bottom":"10px","--container-padding-left":"10px","--container-padding-right":"10px","--container-gap":"10px",height:"100%",padding:"var(--container-padding-top) 0 var(--container-padding-bottom) 0",position:"absolute",top:0,left:0,overflow:"hidden"},terminalViewLayout:{padding:"0px 12px"},ai:{position:"absolute",top:0,right:40},splitOverlayLayout:{paddingLeft:"var(--container-padding-left)",paddingRight:"var(--container-padding-right)"}};class vBe extends Se.Component{constructor(){super(...arguments);E(this,"state",{connectionFlowState:this.getInitialConnectionFlowState()});E(this,"disposables",new gt);E(this,"_isMounted",!1);E(this,"terminalContainerRef",Se.createRef());E(this,"focus",()=>{this.props.mediator.terminalApi.focus()});E(this,"handleRunCommand",(n,o)=>{var s;const{mediator:r,dispatch:i}=this.props;o?(r.execSnippet(n.script),i(Va({snippetSource:"Snippets Panel",isSharedEntity:Wt(n.is_shared),isExecutedInMultipleTabs:"no",snippetPackageID:Is(n),isExecutedInSplitView:"no",aianalyticsID:n.aianalyticsID,snippetID:`${n.id??-1}`,predefinedSnippetPackageID:(s=n.package)==null?void 0:s.analytics_id,isWorkspace:"no",workspaceTemplateID:void 0}))):r.pasteSnippet(n.script)});E(this,"handlePasteHistoryCommand",n=>{const{mediator:o}=this.props;this.focus(),o.terminalApi.type($a(n.script))});E(this,"handleRunSnippetInAllTerminals",n=>{var o,r;(r=(o=this.props).onRunSnippetInActiveTerminals)==null||r.call(o,n)});E(this,"onReconnect",({payload:n})=>{var i;const{terminalId:o,connectionOrigin:r}=n;this.props.mediator.id===o&&(this.setState({connectionFlowState:"connecting"}),this.props.connection.bypassRecordingHistory=!0,(i=this.props.connection.analyticsHelper)==null||i.connectionInitiated({connectionOrigin:r}))});E(this,"isClosing",!1);E(this,"requestClose",()=>{!this._isMounted||this.isClosing||(this.isClosing=!0,this.props.onCloseRequest(this.props.tabId))});E(this,"onSidePanelFormOpen",n=>{n||this.focus()});E(this,"onSessionLogFetchingComplete",()=>{this.setState({connectionFlowState:"connecting"})})}getInitialConnectionFlowState(){const{connection:n,mediator:o}=this.props;return o.isShellReady?"closed":n.protocol==="session-log"?"downloading":"connecting"}componentDidMount(){const{sagas:n,mediator:o,connection:{sessionLogData:r},dispatch:i}=this.props;this._isMounted=!0,r!=null&&r.localId&&i(AP.request(r.localId)),this.disposables.add(RW(o).subscribe(async()=>{this.setState({connectionFlowState:"closed"})})).add(o.terminalApi.onAttachedToDomNode.subscribe(()=>{this.props.onScreen&&(this.focus(),this.props.dispatch(oo(o.terminalApi.id)))})).add(Un(n,Sg,this.focus)).add(Un(n,s1,this.focus)).add(Un(n,Es,this.onReconnect))}componentDidUpdate(n){this.props.onScreen&&!n.onScreen&&requestAnimationFrame(this.focus)}componentWillUnmount(){this.disposables.dispose(),this.disposables=new gt,this._isMounted=!1,this.isClosing=!1}render(){const{sidepanelWidth:n,scheme:o,onScreen:r,connection:i,mediator:s,tabId:a,onConnectionUpdate:l,historyStatus:c,history:d,onOutput:p,fontSize:h,connection:{sessionLogData:m}}=this.props,{connectionFlowState:g}=this.state,C=Je.getClasses(this.props),v=this.props.sidepanelIsOpened?n+10:0;return L(U1,{id:s.id,style:{height:"100%",backgroundColor:o.backgroundColor},children:[g==="connecting"?u(dE,{mediator:s,onScreen:r,onCloseRequest:this.requestClose,trackActivity:!0,connection:i,onConnectionUpdate:l}):null,g==="closed"?u(rNe,{mediator:s,onCloseRequest:this.requestClose,singleTerminalConnection:i,onOutput:p}):null,g==="reconnecting"?u(dE,{mediator:s,onScreen:r,onCloseRequest:this.requestClose,trackActivity:!1,connection:i,onConnectionUpdate:l}):null,g==="downloading"&&(m!=null&&m.localId)?u(qFe,{historyLocalId:m.localId,onFetchingComplete:this.onSessionLogFetchingComplete}):L("div",{style:{right:v},className:C.terminalContainer,ref:this.terminalContainerRef,children:[u(db,{className:C.terminalViewLayout,terminalApi:s.terminalApi,colorScheme:o,backspace:i.host.backspace,onScreen:r,bellSound:this.props.bellSound,scrollback:this.props.scrollback}),u(MW,{tabId:a,onScreen:r}),g==="closed"?u(LW,{className:C.splitOverlayLayout,tabId:a,terminalId:s.id,disabled:!r}):null,u(kW,{mediator:s}),u(ab,{protocol:i.protocol,origin:"Terminal Window",colorScheme:o,mediator:s}),u(vz,{connection:i,mediator:s,colorScheme:o,containerRef:this.terminalContainerRef,fontSize:h,onScreen:r})]}),u(Se.Fragment,{children:u(cb,{colorScheme:o,mediator:s,connection:i,terminalTabId:a,onScreen:r,width:n,onRun:this.handleRunCommand,handlePasteHistoryCommand:this.handlePasteHistoryCommand,onRunInAllTerminals:this.handleRunSnippetInAllTerminals,history:d,historyStatus:c,onModalFormOpen:this.onSidePanelFormOpen})})]})}}function CBe(t,e){const n=XP(t,e.mediator.terminalApi.id);return{sidepanelWidth:HC(t,ge()),userDataPath:xN(t),bellSound:e.connection.protocol==="session-log"?!1:BC(t),scrollback:e.connection.protocol==="session-log"?zC:VC(t),terminalEmulationType:LC(t),historyStatus:(n==null?void 0:n.status)??"loading",history:(n==null?void 0:n.commands)??[],sidepanelIsOpened:bc(t,ge()),fontSize:wg(t,e.mediator.terminalApi.id)}}const yBe=Je(_o(CBe)(vBe),gBe,{name:"ConnectedTerminalWindow"}),SBe=t=>{const[e,n]=f.useState(t.isXtermLoaded);return f.useEffect(()=>{if(t.isXtermLoaded){n(!0);return}(async()=>{try{await t.xtermLoadPromise,n(!0)}catch{en(!1,"Failed to load xterm module")}})()},[t]),e},ub=({children:t})=>{const[e,{toggle:n}]=mM(!1);return _g({onDragEnd(){n()},onDragCancel(){n()}}),u(f.Fragment,{children:t},e?1:0)};function bBe(t,e){switch(t.name){case"fingerprint":return u(ZF,{...e,...t.stepProps});case"requestPassphrase":return u(uN,{...e,...t.stepProps});case"requestPIN":return u(pN,{...e,...t.stepProps});case"requestSKPresence":return u(fN,{...e,...t.stepProps});case"discoverableKeys":return u(JF,{...e,...t.stepProps});case"chooseKey":return u(d3,{...e,...t.stepProps});case"requestSignature":return u(hN,{...e,...t.stepProps});default:return null}}function wBe(t){const[e,n]=f.useState(!1),{isSuccess:o,children:r,isTerminalConnection:i}=t,{classes:s}=xBe();return Ao(()=>{n(!0)}),L(f.Fragment,{children:[u("div",{className:ce({[s.beforeUnmount]:o,[s.connectionFlowBackground]:i})}),u("div",{className:s.root,children:u("div",{className:ce(s.animatedConnectionFlow,{[s.afterMounted]:e,[s.beforeUnmount]:o}),children:r})})]})}const _Be=br`
  0% {
    opacity: 1;
  }
  99% {
    opacity: 0;
    width: auto;
    height: auto;
    display: inherit;
  }
  100% {
    opacity: 0;
    width: 0;
    height: 0;
    overflow: hidden;
    display: none;
  }
`,xBe=K()({connectionFlowBackground:{background:"var(--cf-main-background)",height:"100%",width:"100%",zIndex:"var(--default-z-index-overlap)",position:"fixed",top:"0",left:"0",right:"0",bottom:"0"},root:{opacity:1,height:"100%",width:"100%",zIndex:"var(--default-z-index-overlap)",position:"absolute",top:"0",left:"0",right:"0",bottom:"0"},animatedConnectionFlow:{opacity:0,display:"flex",height:"100%",width:"100%",transition:"opacity 0.3s",overflow:"auto"},afterMounted:{opacity:1},beforeUnmount:{animation:`${_Be} 0.3s`,animationFillMode:"forwards",animationDelay:"0.5s"}}),ABe=350,TBe=-1,IBe=t=>{const{classes:e}=EBe(),{hostChainCount:n,currentChainIndex:o,isConnectedCurrentHostOfChain:r,isTabActive:i,activeConnection:s,connection:a,onClose:l,setConnection:c,handleStartOver:d,isHostEditable:p,onTryToConnect:h,isForceEditingOnHostsScreen:m,isTerminalConnection:g,steps:C,currentStep:v,isCurrentStepActive:S,isConnected:y,isConnectionError:b,onToggleShowLogs:w,onCopyLogs:x,isShowLogs:_,connectionLogs:I}=t,T=de(),A=g9(),{sizeObserverRef:k,contentWidth:R}=wu(),M=R<ABe,D=_||b,F=!!v&&!S,z=I.length>0,[j,H]=f.useState({resolver:void 0}),[O,U]=f.useState({id:Ie.v4(),host:new _t,resolver:void 0}),N=async()=>ld(se=>{H({resolver:se})}),W=async se=>{const ie=Ie.v4();return ld(J=>{U({id:ie,host:se,resolver:J})})},B=V(se=>ie=>qh(se,ie)),$=()=>{const{host:se}=a;return B(se.local_id)||se},q=()=>{if(m){T(q2($()));return}if(A.isSliderOpened){A.onCloseSlider();return}A.onOpenSlider({entity:$(),formType:"host"}),he("editEntityScreenOpened",{entity:"Host",editButtonOrigin:"Connection Flow",entityID:$().local_id??TBe})},X=()=>{A.onCloseSlider();const{editableEntity:se}=A.hostForm;d(se.local_id?se:void 0)},ee=()=>{const ie={isTabActive:i,connection:s,setConnection:c,onClose:l,onStartOver:X,isSaveToggleDisabled:!p,isConnectionError:b,onCreateNewKey:N},J=v==null?void 0:v.name;if(v==null)return null;switch(J){case"connection":return!y&&u(et,{onClick:l,className:e.closeButton,children:"Close"});case"protocol":return u(XF,{...ie,onSubmit:h});case"serialOptions":return u(gN,{...ie,onSubmit:h});case"identity":return u(YF,{...ie,onCreateNewHost:W,onSubmit:ve=>{const{onContinueConnection:Me}=v.stepProps;if(Me!=null){Me(ve.host);return}h(ve)}});case"unavailableProFeatures":return u(vN,{...ie,...v.stepProps,onSubmit:h});case"keyboardInteractive":return u(dN,{...ie,...v.stepProps,isHostEditable:p});case"authInteractive":return u(KF,{...ie,...v.stepProps,isHostEditable:p});case"setupShellIntegration":return v.stepProps.status==="warning"?u(_F,{...ie}):u(wF,{...ie});default:return bBe(v,ie)}},ue=g?"connectionFlow":"default";return u(P1.Provider,{value:M,children:u(Si,{value:a.host,children:L(wBe,{isSuccess:y,isTerminalConnection:g,children:[L("div",{className:ce(e.contentContainer,{[e.showConnectionFlow]:!0,[e.terminalConnection]:g}),children:[L("div",{className:e.headerContainer,children:[u(PF,{connection:s,hostChainCount:n,currentChainIndex:o,isLogsSwitchVisible:z,isShowLogs:_,isConnectionError:b,onToggleShowLogs:w,onCopyLogs:x}),u(LF,{className:e.connectionProgress,isError:b,isSuccess:y||r,isTabActive:i,steps:C})]}),L("div",{ref:k,className:ce(e.stepContainer),children:[F&&u("div",{className:ce({[e.showStepContainer]:!S,[e.hiddenStep]:D}),children:ee()}),S&&!D&&!y&&u(et,{onClick:l,className:e.closeButton,children:"Close"}),D&&u(FF,{isConnectionError:b,isHostEditable:p,connectionLogs:I,onClose:l,onStartOver:X,onToggleEditHost:q})]})]}),u(m9,{isOpened:A.isSliderOpened,hostForm:A.hostForm,groupForm:A.groupForm,formType:A.formType,resetSlider:A.resetSlider,updateSliderAnimationProgress:A.updateSliderAnimationProgress,onCloseSlider:A.onCloseSlider,connectToHost:X,connectLabel:"Start over",inTerminal:g}),u(Go,{open:zp(O),onClose:()=>{Ji(O)},variant:ue,disablePortal:g,children:u(G2,{isRoot:!0,defaultHost:O.host,useSaveFormHook:t0,onHostCreated:se=>{r0(O,se)},onClose:()=>{Ji(O)},onConnect:X,connectLabel:"Start over",isSubForm:!1},O.id)}),u(Go,{open:zp(j),onClose:()=>{Ji(j)},variant:ue,disablePortal:g,children:u(Uk,{useSaveFormHook:t0,onKeyCreated:se=>{r0(j,se)},onClose:()=>{Ji(j)},displayPublicKeyField:!1,displayImportSection:!1})})]},a.id)})})},V6=jr`
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
`,EBe=K()((t,e,n)=>({contentContainer:{opacity:"0",padding:"15px 0 20px 0",display:"flex",flexDirection:"column",overflow:"hidden",position:"relative",height:"100%",maxHeight:"720px",width:"100%",margin:"0 auto",maxWidth:"420px","@media (max-width: 740px)":{[`& .${n.stepContainer}`]:{paddingLeft:"12px",paddingRight:"12px"},[`& .${n.headerContainer}`]:{paddingLeft:"12px",paddingRight:"12px"}}},terminalConnection:{paddingTop:"var(--horizontal-tabs-height)"},stepContainer:{flexGrow:1,overflow:"hidden",padding:"5px 20px 0 20px",...Vl},showConnectionFlow:{animation:`${V6} 0.3s`,animationFillMode:"forwards"},showStepContainer:{height:"100%",opacity:"0",animation:`${V6} 0.3s`,animationFillMode:"forwards"},hiddenStep:{display:"none"},closeButton:{opacity:"0",animation:`${V6} 0.3s`,animationFillMode:"forwards"},headerContainer:{padding:"0 20px"},connectionProgress:{marginBottom:"10px",[`.${n.terminalConnection} &`]:{marginTop:"15px",marginBottom:"20px"},"@media screen and (max-height: 600px)":{marginBottom:"10px"}}}));function kBe(t){return t.connection.host.getHostChainCount()<1?0:t.requests.requests.filter(e=>e.name==="hostChainConnection").length}function RBe(t){const e=Zo(t,n=>n.name==="hostChainConnection");return(e==null?void 0:e.name)==="hostChainConnection"?e.data.hostChainConnection:null}function PBe(t,e){return t==null?null:t.name==="authInteractive"?{...t,stepProps:{...t.stepProps,onContinue:e(t.stepProps.onContinue)}}:t.name==="fingerprint"?{...t,stepProps:{...t.stepProps,callback:e(t.stepProps.callback)}}:t.name==="requestPassphrase"?{...t,stepProps:{...t.stepProps,onHandlePassphrase:e(t.stepProps.onHandlePassphrase)}}:t.name==="requestPIN"?{...t,stepProps:{...t.stepProps,onHandlePIN:e(t.stepProps.onHandlePIN)}}:t.name==="identity"?{...t,stepProps:{...t.stepProps,onContinueConnection:t.stepProps.onContinueConnection?e(t.stepProps.onContinueConnection):void 0}}:t.name==="chooseKey"?{...t,stepProps:{...t.stepProps,onSelectKey:e(t.stepProps.onSelectKey)}}:t.name==="discoverableKeys"?{...t,stepProps:{...t.stepProps,onSelectKey:e(t.stepProps.onSelectKey)}}:t.name==="keyboardInteractive"?{...t,stepProps:{...t.stepProps,onContinue:e(t.stepProps.onContinue)}}:t.name==="requestSignature"?{...t,stepProps:{...t.stepProps,onResolve:e(t.stepProps.onResolve),onReject:e(t.stepProps.onReject)}}:t}function NW(t){const{connectionController:e,onClose:n,isForceEditingOnHostsScreen:o=!1,isTerminalConnection:r=!0,isTabActive:i=!0}=t,s=de(),a=e.mediator.id,l=e.connection.host.local_id,c=V(A=>qh(A,l)),d=V(A=>a1(A,a)),p=V(Wa),h=V(_s),m=e.connection.host.getHostChainCount(),g=()=>{navigator.clipboard.writeText(e.requests.logs.join(`
`)||"")},[C,v]=f.useState(!1),S=()=>{v(A=>!A)},y=f.useCallback((A,k)=>{if((k==null?void 0:k.shouldNotifyUpdate)===!1||c==null)return;const{connection:R}=e,M=R.clone({host:c});e.updateConnection(M,a,h);const D=p(R.colorScheme);s(Yo({id:a,changes:{colorScheme:D,connectionProtocol:M.protocol}}))},[e,c,s,p,h,a]),b=f.useCallback(A=>m8((...k)=>{s(WQ(a)),A(...k)}),[a,s]),w=V(co),x=CN(c,e.connection.protocol,w),_=RBe(e.requests.requests)??e.connection,I=async A=>{v(!1);const k=new pt({...e.connection,host:A||c||e.connection.host});y(k),s(JP({connectionControllerId:a}))},T=A=>{e.updateConnection(A,a,h),s(eL({connectionControllerId:a}))};return!d||!E9(e.connection)?null:u(IBe,{...d,isTabActive:i,activeConnection:_,setConnection:y,onClose:n,handleStartOver:I,isHostEditable:x,onTryToConnect:T,currentStep:PBe(d.currentStep,b),hostChainCount:m,currentChainIndex:kBe(e),connectionLogs:e.requests.logs,onCopyLogs:g,isShowLogs:C,onToggleShowLogs:S,connection:e.connection,isForceEditingOnHostsScreen:o,isTerminalConnection:r})}function LBe(t,e){const n=new Map;for(const[o,r]of t)n.set(o,e(r,o));return n}const HW=t=>{const{tabId:e,workspace:n}=t,r=V(xg).has(e),i=de(),s=V(Ag),{mediatorPool:a}=ju(),l=f.useMemo(()=>s&&r&&pb(n,a),[n,a,r,s]);f.useEffect(()=>{l&&(i(Eu(e)),i(Tg()))},[i,l,e])};function pb(t,e){return t.orderedTerminalIds.some(n=>{var o;return(o=e.getOrCreateInstance(n).multiplayerApi)==null?void 0:o.isMultiplayerSessionActive()})}const BW=t=>{const{classes:e}=MBe();Ce(f.Children.count(t.children)===t.sizes.length,"Sizes length must match the number of children");const n=f.useRef(null),o=OBe(n,{layout:t.layout,sizes:t.sizes,preferredMinSize:t.preferredMinSize,onResize:t.onResize}),r=f.Children.map(t.children,(i,s)=>{const a=o.context.patches[s]??o.context.lastKnownSizes[s],l=a===0,c=u("div",{className:ce(e.pane,{[e.collapsed]:l}),style:{"--pane-size":a,pointerEvents:o.matches("resizing")?"none":void 0,userSelect:o.matches("resizing")?"none":void 0},children:i},`pane-${s}`);if(s===f.Children.count(t.children)-1)return c;const d=s===f.Children.count(t.children)-2&&o.context.lastKnownSizes[s+1]===0;return[c,u("div",{style:{"--gutter-color":t.gutterColor??"unset"},className:ce(e.gutter,{[e.collapsed]:l||d}),"data-gutter-index":s},`gutter-${s}`)]});return u("div",{ref:n,className:ce(e.splitView,{[e.vertical]:t.layout==="vertical",[e.horizontal]:t.layout==="horizontal"}),style:{"--gap-size":`${t.gap}px`},children:r==null?void 0:r.flat()})};BW.defaultProps={preferredMinSize:0};const MBe=K()((t,e,n)=>({splitView:{display:"flex",width:"100%",height:"100%"},vertical:{flexDirection:"column",[`& > .${n.gutter}`]:{height:"var(--gap-size)",cursor:"row-resize","&::before":{width:35,height:6}},[`& > .${n.pane}`]:{minHeight:0,height:"calc(var(--pane-size) * 100% - var(--gap-size) / 2)"}},horizontal:{flexDirection:"row",[`& > .${n.gutter}`]:{width:"var(--gap-size)",cursor:"col-resize","&::before":{width:6,height:35}},[`& > .${n.pane}`]:{minWidth:0,width:"calc(var(--pane-size) * 100% - var(--gap-size) / 2)"}},pane:{position:"relative"},gutter:{position:"relative","&::hover":{backgroundColor:"rgba(255, 255, 255, 0.2)"},"&::before":{content:'""',position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"var(--gutter-color, var(--accent))",opacity:0,transition:"opacity 0.25s ease-in",borderRadius:"3px"},"&:hover::before":{opacity:1}},collapsed:{maxWidth:0,maxHeight:0,overflow:"hidden"}})),OBe=(t,e)=>{const[n,o]=UQ(DBe,{context:{layout:e.layout,lastKnownSizes:e.sizes,preferredMinSize:e.preferredMinSize,rect:void 0,patches:[]},actions:{onResize:i=>{var s;return(s=e.onResize)==null?void 0:s.call(e,i.lastKnownSizes.map((a,l)=>i.patches[l]??a))}}});Gr(t,i=>o({type:"RESIZE",data:i})),f.useEffect(()=>{o({type:"INVALIDATE_LAYOUT",data:{preferredMinSize:e.preferredMinSize,layout:e.layout}})},[o,e.preferredMinSize,e.layout]);const r=oh(e.sizes);return f.useEffect(()=>{D8(r,e.sizes)||o({type:"INVALIDATE_LAYOUT",data:{sizes:e.sizes}})},[o,r,e.sizes]),f.useEffect(()=>{const i=t.current;if(!i)return()=>{};const s=new AbortController,a={current:void 0};return i.addEventListener("pointerdown",l=>{const c=l.target,d=Number(c.dataset.gutterIndex),p=Jb(l);if(Number.isNaN(d)||!p)return;l.stopPropagation(),l.preventDefault();const{pointerId:h}=l;c.setPointerCapture(h),a.current=new AbortController;const m=()=>{var b;(b=a.current)==null||b.abort(),a.current=void 0,c.releasePointerCapture(h)},g={passive:!0,signal:a.current.signal},C=b=>{const w=Jb(b);w&&o({type:"POINTER_MOVE",data:{gutterIndex:d,coordinates:w}})},v=()=>{m(),o({type:"POINTER_UP"})},S=()=>{m(),o({type:"POINTER_CANCEL"})},y=b=>{b.key==="Escape"&&S()};o({type:"POINTER_DOWN",data:p}),c.addEventListener("pointermove",C,g),c.addEventListener("pointerup",v,g),c.addEventListener("pointercancel",S,g),document.addEventListener("keydown",y,g)},{signal:s.signal}),()=>{var l;(l=a.current)==null||l.abort(),s.abort()}},[t,o]),n},DBe=E2({tsTypes:{},schema:{context:{},events:{}},preserveActionOrder:!0,predictableActionArguments:!0,initial:"idle",states:{idle:{on:{POINTER_DOWN:{actions:"onDragStart",target:"resizing"},INVALIDATE_LAYOUT:{actions:"invalidate"}}},resizing:{on:{POINTER_MOVE:{actions:"onDragMove"},POINTER_UP:{actions:["onResize","onDragEnd"],target:"idle"},INVALIDATE_LAYOUT:{actions:"invalidate",target:"idle"},POINTER_CANCEL:{actions:"onDragCancel",target:"idle"}}}},on:{RESIZE:{actions:"updateRect"}}},{actions:{invalidate:Te({layout:(t,{data:e})=>e.layout??t.layout,lastKnownSizes:(t,{data:e})=>e.sizes??t.lastKnownSizes,preferredMinSize:(t,{data:e})=>e.preferredMinSize??t.preferredMinSize,initialDragCoordinates:void 0,patches:[]}),updateRect:Te({rect:(t,{data:e})=>e}),onDragStart:Te({initialDragCoordinates:(t,{data:e})=>e}),onDragMove:Te({patches:(t,{data:e})=>{const{rect:n,patches:o,lastKnownSizes:r,layout:i,initialDragCoordinates:s}=t,{coordinates:a,gutterIndex:l}=e;if(!n||!s)return o;const c=jQ(a,s);let d=i==="vertical"?c.y/n.height:c.x/n.width;if(d===0)return o;const p=t.preferredMinSize/(i==="vertical"?n.height:n.width),h=r[l],m=r[l+1];m-d<=p?d=m<=p?0:m-p:h+d<=p&&(d=h<=p?0:p-h);const g=[...o];return g[l]=h+d,g[l+1]=m-d,g}}),onDragEnd:Te({initialDragCoordinates:void 0,patches:[]}),onDragCancel:Te({initialDragCoordinates:void 0,patches:[]}),onResize:()=>{}}}),FBe=t=>{var i;const o=(i=V(s=>Ig(s,t)).filter(s=>!!s.connectionFlow)[0])==null?void 0:i.id;return Wu().get(o)},NBe=({tabId:t,mediators:e})=>{const n=V(i=>Ig(i,t)),o=f.useMemo(()=>Array.from(e.values()),[e]),r=n.find(i=>i.isActive);return{activeTerminalMediator:r?e.get(r.id):void 0,mediatorsArray:o}},HBe=t=>Yn(e=>{var o;if(e.type!=="keydown")return;const n=on.getBoundShortcutFromEvent(e.nativeEvent);n&&((o=t[n.type])==null||o.call(t,...n.args))}),BBe=(t,e)=>{const[n,o]=f.useState(),[r,i]=f.useState(!1);return _g({onDragStart({active:s}){var c,d;const a=s.data.current;if(!va(a)||a.group!==Jn.pane||!e)return;const l=(d=(c=a.terminals)==null?void 0:c[0])==null?void 0:d.id;i(t.has(l))},onDragOver({active:s,over:a}){var p,h,m;const l=s.data.current,c=a==null?void 0:a.data.current;if(n||!va(l)||l.group!==Jn.pane||!v3(c)||!e)return;const d=(h=(p=l.terminals)==null?void 0:p[0])==null?void 0:h.id;!d||c.terminalId===d||((m=t.get(d))==null||m.terminalApi.setVisibility(!1),o(d))},onDragEnd({active:s}){var c,d,p;const a=s.data.current;if(!e)return;const l=(d=(c=a==null?void 0:a.terminals)==null?void 0:c[0])==null?void 0:d.id;if(n){const h=t.get(n);if(h!=null){const{terminalApi:m}=h;m.setVisibility(!0),m.onAttachedToDomNode.pipe(Qp(1)).subscribe(()=>{m.focus()})}}else l&&((p=t.get(l))==null||p.terminalApi.focus());i(!1),o(void 0)},onDragCancel({active:s}){var l,c,d,p;const a=s.data.current;if(e){if(n&&((l=t.get(n))==null||l.terminalApi.setVisibility(!0)),a){const h=(d=(c=a.terminals)==null?void 0:c[0])==null?void 0:d.id;(p=t.get(h))==null||p.terminalApi.focus()}i(!1),o(void 0)}}}),[n,r]};var hb={},zBe=Cr;Object.defineProperty(hb,"__esModule",{value:!0});var e5=hb.default=void 0,VBe=zBe(vr()),WBe=yr,jBe=(0,VBe.default)((0,WBe.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");e5=hb.default=jBe;const UBe=(t,e)=>f.createElement("svg",{width:15,height:14,viewBox:"0 0 15 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("g",{clipPath:"url(#clip0_13_2942)"},f.createElement("path",{d:"M0.333496 3.95999C0.333496 4.68042 1.09763 4.89029 1.56294 4.41077L4.66552 1.25272C5.1424 0.773192 4.93044 0 4.22265 0H1.07518C0.626382 0 0.333496 0.319683 0.333496 0.763418V3.95999ZM2.15141 2.89571L11.2133 12.1281L12.2472 11.0887L3.1854 1.85171L2.15141 2.89571ZM14.0723 10.0257C14.0723 9.29931 13.3069 9.09537 12.8357 9.56896L9.73316 12.7271C9.26202 13.2124 9.47402 13.9844 10.1818 13.9844H13.3293C13.7781 13.9844 14.0723 13.6601 14.0723 13.221V10.0257ZM14.0723 3.95999V0.763418C14.0723 0.319683 13.7781 0 13.3293 0H10.1818C9.47402 0 9.26202 0.773192 9.73316 1.25272L12.8357 4.41077C13.3069 4.89029 14.0723 4.68042 14.0723 3.95999ZM3.1854 12.1281L12.253 2.89571L11.2191 1.85171L2.15141 11.0828L3.1854 12.1281ZM0.333496 10.0257V13.221C0.333496 13.6601 0.626382 13.9844 1.07518 13.9844H4.22265C4.93044 13.9844 5.1424 13.2124 4.66552 12.7271L1.56294 9.56896C1.09763 9.09537 0.333496 9.29931 0.333496 10.0257Z",fill:"currentColor"})),f.createElement("defs",null,f.createElement("clipPath",{id:"clip0_13_2942"},f.createElement("rect",{width:14,height:14,fill:"white",transform:"translate(0.333496)"})))),$Be=f.forwardRef(UBe),qBe=f.memo($Be),zW=({connection:t,mediator:e})=>{var a;const n=tt(),o=de(),r=MN();return{startMultiplayer:async l=>{var c;if(!(!t||!e))try{const{sessionId:d}=await We(n,is,{hostId:hr(t.host.id,void 0),connectionId:t.id,startSharingSource:l}),p=(c=r.peersMap.get(d))==null?void 0:c.inviteLink;if(!p){bP(new b1("Start multiplayer failed"),`No deeplink for peerId: ${d}`);return}return navigator.clipboard.writeText(p).catch(),d}catch{return}},stopMultiplayer:()=>{var l;!t||!e||(l=e.multiplayerApi)!=null&&l.stats&&(o(he("sharedTerminalSessionStopped",{sharedSessionClosedBy:"Stop Button",connectionID:t.id,...e.multiplayerApi.stats.getAllStats()})),o(wc(WN(t))))},sessionId:(a=e==null?void 0:e.multiplayerApi)==null?void 0:a.hostPeerId}},GBe=(t,e)=>f.createElement("svg",{width:18,height:20,viewBox:"0 0 18 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M2.65243 7.72729C2.65243 4.96587 4.89101 2.72729 7.65243 2.72729H10.1658C12.9272 2.72729 15.1658 4.96587 15.1658 7.72729V11.3488C15.1658 12.5323 15.5856 13.6775 16.3506 14.5805L17.0909 15.4546H0.727295L1.46766 14.5805C2.23261 13.6775 2.65243 12.5323 2.65243 11.3488V7.72729Z",fill:"currentColor"}),f.createElement("path",{d:"M11.4812 3.63636C11.5817 3.35202 11.6364 3.04603 11.6364 2.72727C11.6364 1.22104 10.4153 0 8.9091 0C7.40287 0 6.18182 1.22104 6.18182 2.72727C6.18182 3.04603 6.23651 3.35202 6.33701 3.63636H11.4812Z",fill:"currentColor"}),f.createElement("path",{d:"M11.6364 16.3636C11.7369 16.648 11.6364 16.954 11.6364 17.2727C11.6364 18.779 10.4153 20 8.90909 20C7.40286 20 6.18181 18.779 6.18181 17.2727C6.18181 16.954 6.08131 16.648 6.18181 16.3636H11.6364Z",fill:"currentColor"})),KBe=f.forwardRef(GBe),VW=f.memo(KBe),ZBe=(t,e)=>f.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:15,viewBox:"0 0 20 15",fill:"none",ref:e,...t},f.createElement("path",{d:"M15.677 9.39221C16.7885 9.39221 17.7403 8.399 17.7403 7.11304C17.7403 5.85614 16.7873 4.89996 15.677 4.89996C14.5609 4.89996 13.6052 5.86782 13.6078 7.12472C13.6078 8.399 14.5596 9.39221 15.677 9.39221ZM12.26 14.1571H19.0869C19.6506 14.1571 20.002 13.8898 20.002 13.4355C20.002 12.1133 18.3303 10.2988 15.677 10.2988C13.0119 10.2988 11.3448 12.1133 11.3448 13.4355C11.3448 13.8898 11.6905 14.1571 12.26 14.1571Z",fill:"currentColor"}),f.createElement("mask",{id:"path-2-inside-1_5121_2805",fill:"currentColor"},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2.8267C0 1.73893 0.881811 0.857117 1.96958 0.857117H14.9018C15.9896 0.857117 16.8714 1.73893 16.8714 2.8267V4.28675C16.4983 4.10379 16.0828 4.00165 15.643 4.00165C13.9745 4.00165 12.6607 5.47168 12.6637 7.23292C12.6639 8.18364 13.0427 9.06525 13.6591 9.67314C13.0104 9.9028 12.444 10.238 11.9765 10.6363C11.1101 11.3747 10.4967 12.4165 10.4967 13.4721C10.4967 13.7047 10.5384 13.9323 10.6225 14.1428H1.96958C0.881811 14.1428 0 13.261 0 12.1733V2.8267ZM16.8714 10.5191V10.5215C16.491 10.4256 16.0789 10.3717 15.6385 10.3717C15.1535 10.3717 14.703 10.4365 14.2914 10.5504C14.5008 10.4922 14.7202 10.4468 14.9492 10.4161C15.1717 10.3863 15.4031 10.3704 15.643 10.3704C15.882 10.3704 16.1127 10.3863 16.3346 10.4162C16.5198 10.4411 16.6989 10.4758 16.8714 10.5191ZM16.8714 5.50582C16.5304 5.20715 16.1006 5.03197 15.643 5.03197C15.478 5.03197 15.3167 5.05477 15.1618 5.09791C15.3153 5.05557 15.4751 5.0332 15.6385 5.0332C16.0981 5.0332 16.5296 5.20991 16.8714 5.51096V5.50582ZM16.8714 8.98099V8.98379C16.684 9.15338 16.4697 9.28468 16.2386 9.36852C16.1946 9.3845 16.15 9.39875 16.1048 9.41121C16.3872 9.33248 16.6485 9.18389 16.8714 8.98099ZM4.76293 9.67351C4.11442 10.1493 3.61672 9.10085 4.20491 8.68678L6.02225 7.4005L4.20491 6.12304C3.60918 5.70015 4.11442 4.66056 4.76293 5.13631L6.9347 6.72213C7.3419 7.02167 7.36453 7.77053 6.9347 8.08769L4.76293 9.67351ZM7.86976 10.2285C7.59829 10.2285 7.38715 9.97305 7.38715 9.6647C7.38715 9.34754 7.59829 9.09204 7.86976 9.09204H10.7428C11.0143 9.09204 11.2254 9.34754 11.2254 9.6647C11.2254 9.97305 11.0143 10.2285 10.7428 10.2285H7.86976Z"})),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2.8267C0 1.73893 0.881811 0.857117 1.96958 0.857117H14.9018C15.9896 0.857117 16.8714 1.73893 16.8714 2.8267V4.28675C16.4983 4.10379 16.0828 4.00165 15.643 4.00165C13.9745 4.00165 12.6607 5.47168 12.6637 7.23292C12.6639 8.18364 13.0427 9.06525 13.6591 9.67314C13.0104 9.9028 12.444 10.238 11.9765 10.6363C11.1101 11.3747 10.4967 12.4165 10.4967 13.4721C10.4967 13.7047 10.5384 13.9323 10.6225 14.1428H1.96958C0.881811 14.1428 0 13.261 0 12.1733V2.8267ZM16.8714 10.5191V10.5215C16.491 10.4256 16.0789 10.3717 15.6385 10.3717C15.1535 10.3717 14.703 10.4365 14.2914 10.5504C14.5008 10.4922 14.7202 10.4468 14.9492 10.4161C15.1717 10.3863 15.4031 10.3704 15.643 10.3704C15.882 10.3704 16.1127 10.3863 16.3346 10.4162C16.5198 10.4411 16.6989 10.4758 16.8714 10.5191ZM16.8714 5.50582C16.5304 5.20715 16.1006 5.03197 15.643 5.03197C15.478 5.03197 15.3167 5.05477 15.1618 5.09791C15.3153 5.05557 15.4751 5.0332 15.6385 5.0332C16.0981 5.0332 16.5296 5.20991 16.8714 5.51096V5.50582ZM16.8714 8.98099V8.98379C16.684 9.15338 16.4697 9.28468 16.2386 9.36852C16.1946 9.3845 16.15 9.39875 16.1048 9.41121C16.3872 9.33248 16.6485 9.18389 16.8714 8.98099ZM4.76293 9.67351C4.11442 10.1493 3.61672 9.10085 4.20491 8.68678L6.02225 7.4005L4.20491 6.12304C3.60918 5.70015 4.11442 4.66056 4.76293 5.13631L6.9347 6.72213C7.3419 7.02167 7.36453 7.77053 6.9347 8.08769L4.76293 9.67351ZM7.86976 10.2285C7.59829 10.2285 7.38715 9.97305 7.38715 9.6647C7.38715 9.34754 7.59829 9.09204 7.86976 9.09204H10.7428C11.0143 9.09204 11.2254 9.34754 11.2254 9.6647C11.2254 9.97305 11.0143 10.2285 10.7428 10.2285H7.86976Z",fill:"currentColor"}),f.createElement("path",{d:"M16.8714 4.28675L16.4379 5.17099L17.8562 5.86635V4.28675H16.8714ZM12.6637 7.23292L13.6485 7.23263L13.6485 7.23125L12.6637 7.23292ZM13.6591 9.67314L13.9878 10.6015L15.4706 10.0765L14.3506 8.97198L13.6591 9.67314ZM11.9765 10.6363L11.3378 9.88677H11.3378L11.9765 10.6363ZM10.6225 14.1428V15.1276H12.0764L11.537 13.7775L10.6225 14.1428ZM16.8714 10.5215L16.6307 11.4764L17.8562 11.7853V10.5215H16.8714ZM16.8714 10.5191H17.8562V9.75101L17.1112 9.56396L16.8714 10.5191ZM14.2914 10.5504L14.0277 9.60156L14.5542 11.4995L14.2914 10.5504ZM14.9492 10.4161L14.8184 9.44001L14.8184 9.44001L14.9492 10.4161ZM16.3346 10.4162L16.466 9.44018L16.3346 10.4162ZM16.8714 5.50582H17.8562V5.05918L17.5202 4.76494L16.8714 5.50582ZM15.1618 5.09791L14.8975 4.14924L15.4237 6.04725L15.1618 5.09791ZM16.8714 5.51096L16.2205 6.24996L17.8562 7.69071V5.51096H16.8714ZM16.8714 8.98379L17.5321 9.71407L17.8562 9.42085V8.98379H16.8714ZM16.8714 8.98099H17.8562V6.75336L16.2086 8.25262L16.8714 8.98099ZM16.2386 9.36852L15.9027 8.4428H15.9027L16.2386 9.36852ZM16.1048 9.41121L15.8404 8.4626L16.3668 10.3605L16.1048 9.41121ZM4.20491 8.68678L4.7718 9.49204L4.77383 9.4906L4.20491 8.68678ZM4.76293 9.67351L4.18218 8.87818L4.18043 8.87947L4.76293 9.67351ZM6.02225 7.4005L6.59118 8.20433L7.73079 7.39774L6.58858 6.59484L6.02225 7.4005ZM4.20491 6.12304L3.63486 6.92608L3.63858 6.9287L4.20491 6.12304ZM4.76293 5.13631L4.18043 5.93035L4.18218 5.93163L4.76293 5.13631ZM6.9347 6.72213L7.51824 5.92884L7.51544 5.9268L6.9347 6.72213ZM6.9347 8.08769L7.51545 8.88303L7.51941 8.88011L6.9347 8.08769ZM1.96958 -0.127673C0.337926 -0.127673 -0.98479 1.19504 -0.98479 2.8267H0.98479C0.98479 2.28281 1.4257 1.84191 1.96958 1.84191V-0.127673ZM14.9018 -0.127673H1.96958V1.84191H14.9018V-0.127673ZM17.8562 2.8267C17.8562 1.19504 16.5335 -0.127673 14.9018 -0.127673V1.84191C15.4457 1.84191 15.8866 2.28281 15.8866 2.8267H17.8562ZM17.8562 4.28675V2.8267H15.8866V4.28675H17.8562ZM15.643 4.98644C15.9279 4.98644 16.1955 5.05214 16.4379 5.17099L17.3049 3.40252C16.801 3.15545 16.2376 3.01686 15.643 3.01686V4.98644ZM13.6485 7.23125C13.6462 5.93003 14.5999 4.98644 15.643 4.98644V3.01686C13.3492 3.01686 11.6751 5.01332 11.6789 7.2346L13.6485 7.23125ZM14.3506 8.97198C13.9259 8.55312 13.6487 7.9257 13.6485 7.23263L11.6789 7.23322C11.6792 8.44158 12.1596 9.57739 12.9676 10.3743L14.3506 8.97198ZM12.6153 11.3858C12.9917 11.0651 13.4532 10.7907 13.9878 10.6015L13.3304 8.74481C12.5677 9.01486 11.8963 9.41084 11.3378 9.88677L12.6153 11.3858ZM11.4814 13.4721C11.4814 12.7892 11.895 11.9997 12.6153 11.3858L11.3378 9.88677C10.3252 10.7497 9.51186 12.0438 9.51186 13.4721H11.4814ZM11.537 13.7775C11.5021 13.6901 11.4814 13.5872 11.4814 13.4721H9.51186C9.51186 13.8222 9.57468 14.1746 9.70797 14.5082L11.537 13.7775ZM1.96958 15.1276H10.6225V13.158H1.96958V15.1276ZM-0.98479 12.1733C-0.98479 13.8049 0.337926 15.1276 1.96958 15.1276V13.158C1.4257 13.158 0.98479 12.7171 0.98479 12.1733H-0.98479ZM-0.98479 2.8267V12.1733H0.98479V2.8267H-0.98479ZM17.8562 10.5215V10.5191H15.8866V10.5215H17.8562ZM15.6385 11.3564C15.9981 11.3564 16.3293 11.4004 16.6307 11.4764L17.1122 9.56655C16.6526 9.4507 16.1597 9.38687 15.6385 9.38687V11.3564ZM14.5542 11.4995C14.8797 11.4094 15.2418 11.3564 15.6385 11.3564V9.38687C15.0652 9.38687 14.5263 9.46354 14.0287 9.60131L14.5542 11.4995ZM14.8184 9.44001C14.5446 9.47671 14.2807 9.53127 14.0277 9.60156L14.5551 11.4992C14.7209 11.4532 14.8959 11.4168 15.08 11.3921L14.8184 9.44001ZM15.643 9.38564C15.3596 9.38564 15.0845 9.40436 14.8184 9.44001L15.08 11.3921C15.2588 11.3682 15.4465 11.3552 15.643 11.3552V9.38564ZM16.466 9.44018C16.2003 9.40443 15.9257 9.38564 15.643 9.38564V11.3552C15.8383 11.3552 16.0251 11.3682 16.2032 11.3922L16.466 9.44018ZM17.1112 9.56396C16.903 9.51168 16.6877 9.47003 16.466 9.44018L16.2032 11.3922C16.3519 11.4122 16.4948 11.4399 16.6316 11.4743L17.1112 9.56396ZM17.5202 4.76494C17.014 4.3217 16.3578 4.04718 15.643 4.04718V6.01676C15.8434 6.01676 16.0467 6.0926 16.2227 6.24671L17.5202 4.76494ZM15.643 4.04718C15.3868 4.04718 15.1366 4.08264 14.8975 4.14924L15.4261 6.04658C15.4967 6.02691 15.5692 6.01676 15.643 6.01676V4.04718ZM15.4237 6.04725C15.4936 6.02795 15.5654 6.01799 15.6385 6.01799V4.04841C15.3848 4.04841 15.137 4.0832 14.8999 4.14858L15.4237 6.04725ZM15.6385 6.01799C15.8398 6.01799 16.044 6.09449 16.2205 6.24996L17.5223 4.77197C17.0153 4.32534 16.3565 4.04841 15.6385 4.04841V6.01799ZM17.8562 5.51096V5.50582H15.8866V5.51096H17.8562ZM17.8562 8.98379V8.98099H15.8866V8.98379H17.8562ZM16.5745 10.2943C16.9322 10.1645 17.2555 9.9643 17.5321 9.71407L16.2108 8.2535C16.1124 8.34245 16.0072 8.40489 15.9027 8.4428L16.5745 10.2943ZM16.3668 10.3605C16.4371 10.3411 16.5064 10.319 16.5745 10.2943L15.9027 8.4428C15.8828 8.45003 15.8628 8.4564 15.8428 8.46191L16.3668 10.3605ZM16.2086 8.25262C16.0915 8.3592 15.9647 8.42794 15.8404 8.4626L16.3693 10.3598C16.8098 10.237 17.2054 10.0086 17.5342 9.70935L16.2086 8.25262ZM3.63801 7.88152C2.84888 8.43706 2.84319 9.3836 3.14599 9.9673C3.30506 10.274 3.59828 10.5926 4.04147 10.723C4.51714 10.863 4.98329 10.7332 5.34543 10.4675L4.18043 8.87947C4.21832 8.85167 4.37906 8.76928 4.59739 8.83352C4.78326 8.8882 4.86721 9.00809 4.89433 9.06035C4.92306 9.11574 4.93563 9.17855 4.92299 9.25124C4.90754 9.34014 4.85377 9.43433 4.7718 9.49204L3.63801 7.88152ZM5.45333 6.59668L3.63598 7.88295L4.77383 9.4906L6.59118 8.20433L5.45333 6.59668ZM3.63858 6.9287L5.45593 8.20616L6.58858 6.59484L4.77123 5.31738L3.63858 6.9287ZM5.34543 4.34226C4.984 4.07712 4.52 3.94763 4.04622 4.08387C3.60332 4.21123 3.30706 4.52682 3.1453 4.83511C2.83457 5.42729 2.85112 6.36972 3.63486 6.92607L4.77495 5.32C4.84987 5.37319 4.90364 5.46285 4.9195 5.55308C4.93251 5.62711 4.91967 5.69249 4.88936 5.75026C4.8605 5.80526 4.77492 5.92373 4.59052 5.97675C4.37525 6.03865 4.2176 5.95762 4.18043 5.93035L5.34543 4.34226ZM7.51544 5.9268L5.34368 4.34098L4.18218 5.93163L6.35395 7.51745L7.51544 5.9268ZM7.51941 8.88011C8.04745 8.49047 8.23867 7.88789 8.23332 7.38776C8.22803 6.89354 8.02891 6.3045 7.51824 5.92885L6.35116 7.5154C6.29744 7.47589 6.27529 7.43565 6.26857 7.42069C6.26222 7.40656 6.26379 7.40339 6.26385 7.40884C6.26391 7.41415 6.26233 7.40802 6.2702 7.38991C6.27908 7.36951 6.3022 7.33054 6.34999 7.29527L7.51941 8.88011ZM5.34368 10.4688L7.51544 8.88302L6.35395 7.29236L4.18218 8.87818L5.34368 10.4688ZM6.40236 9.6647C6.40236 10.357 6.90718 11.2133 7.86976 11.2133V9.24376C8.06095 9.24376 8.20339 9.33751 8.27822 9.42589C8.34953 9.51011 8.37194 9.59762 8.37194 9.6647H6.40236ZM7.86976 8.10725C6.89827 8.10725 6.40236 8.97419 6.40236 9.6647H8.37194C8.37194 9.72115 8.35344 9.80603 8.28156 9.89183C8.20588 9.98217 8.06182 10.0768 7.86976 10.0768V8.10725ZM10.7428 8.10725H7.86976V10.0768H10.7428V8.10725ZM12.2102 9.6647C12.2102 8.97419 11.7143 8.10725 10.7428 8.10725V10.0768C10.5508 10.0768 10.4067 9.98217 10.331 9.89183C10.2592 9.80603 10.2407 9.72115 10.2407 9.6647H12.2102ZM10.7428 11.2133C11.7054 11.2133 12.2102 10.357 12.2102 9.6647H10.2407C10.2407 9.59762 10.2631 9.51011 10.3344 9.42589C10.4092 9.33751 10.5516 9.24376 10.7428 9.24376V11.2133ZM7.86976 11.2133H10.7428V9.24376H7.86976V11.2133Z",fill:"currentColor",mask:"url(#path-2-inside-1_5121_2805)",display:"none"})),QBe=f.forwardRef(ZBe),t5=f.memo(QBe),YBe=(t,e)=>f.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:15,viewBox:"0 0 20 15",fill:"none",ref:e,...t},f.createElement("path",{d:"M16.8669 3.16919V4.10347C16.4974 3.94138 16.0943 3.85251 15.6765 3.85251C15.6077 3.85251 15.5392 3.85491 15.4722 3.86337V3.29092C15.4722 2.59921 15.101 2.25192 14.4449 2.25192H2.42333C1.76011 2.25192 1.39476 2.59921 1.39476 3.29092V11.7166C1.39476 12.4082 1.76011 12.7509 2.42333 12.7509H10.3931C10.3343 12.9776 10.3057 13.2034 10.3057 13.4246C10.3057 13.6874 10.3583 13.9301 10.4558 14.1458H2.33662C0.804599 14.1458 0 13.3586 0 11.8396V3.16919C0 1.64878 0.804599 0.857117 2.33662 0.857117H14.5316C16.0694 0.857117 16.8669 1.64878 16.8669 3.16919Z",fill:"currentColor"}),f.createElement("path",{d:"M4.76227 9.67345C4.11338 10.1486 3.6154 9.10156 4.20393 8.68804L6.02232 7.40349L4.20393 6.12774C3.60785 5.70542 4.11338 4.66722 4.76227 5.14233L6.93529 6.72602C7.34274 7.02516 7.36537 7.77302 6.93529 8.08976L4.76227 9.67345Z",fill:"currentColor"}),f.createElement("path",{d:"M7.8709 10.2277C7.59927 10.2277 7.38801 9.97259 7.38801 9.66465C7.38801 9.34791 7.59927 9.09276 7.8709 9.09276H10.7456C11.0173 9.09276 11.2285 9.34791 11.2285 9.66465C11.2285 9.97259 11.0173 10.2277 10.7456 10.2277H7.8709Z",fill:"currentColor"}),f.createElement("path",{d:"M15.677 9.38352C16.788 9.38352 17.7394 8.3908 17.7394 7.10548C17.7394 5.8492 16.7868 4.89349 15.677 4.89349C14.5615 4.89349 13.6062 5.86087 13.6088 7.11715C13.6088 8.3908 14.5601 9.38352 15.677 9.38352ZM12.2616 14.1461H19.0853C19.6487 14.1461 20 13.8789 20 13.4248C20 12.1032 18.3291 10.2896 15.677 10.2896C13.0132 10.2896 11.3469 12.1032 11.3469 13.4248C11.3469 13.8789 11.6924 14.1461 12.2616 14.1461Z",fill:"currentColor"})),XBe=f.forwardRef(YBe),JBe=f.memo(XBe),eze=f.forwardRef((t,e)=>u(Ee,{ref:e,children:u(tze,{...t})})),tze=t=>{const{overrideVarsClassname:e,accentColor:n}=No(),{classes:o,cx:r}=Qa({isFocusedOnHomeScreen:t.isFocusedOnHomeScreen,isNotificationsSeen:t.isNotificationsSeen,accentColor:n}),{className:i,state:s}=t,a=s==="split-view";if(a&&t.isTabActive)return null;if(a)return t.sharedTerminalsAmount?u(dze,{number:t.sharedTerminalsAmount,className:r(e,i),isFocusedOnHomeScreen:t.isFocusedOnHomeScreen,isNotificationsSeen:t.isNotificationsSeen}):null;if(s==="inactive")return u(lze,{onClick:t.onActivateSharing,className:r(o.vars,e,t.className,o.inactiveStateIcon)});if(s==="notification")return u(rze,{isFocusedOnHomeScreen:t.isFocusedOnHomeScreen,isNotificationsSeen:t.isNotificationsSeen,onClick:t.onOpenMultiplayerMenu,memberRequestedControl:t.memberRequestedControl,accentColor:n,className:r(o.vars,o.container,e,t.className,{[o.withBackgroundBg]:t.isTabActive},{[o.inactiveTab]:!t.isTabActive})});const{members:l,controlOwner:c,onOpenMultiplayerMenu:d}=t;if(!c)return null;const p=l.length>=2,h=s==="shared"&&!p,m=s==="shared"&&p;return u(re,{className:r(o.vars,o.container,e,i),alignItems:"center",role:"button",children:L(qt,{children:[u(xe,{when:h,children:u(cze,{onClick:d,isFocusedOnHomeScreen:t.isFocusedOnHomeScreen,isNotificationsSeen:t.isNotificationsSeen})}),u(xe,{when:m,children:u(oze,{onClick:d,members:l,isFocusedOnHomeScreen:t.isFocusedOnHomeScreen,isNotificationsSeen:t.isNotificationsSeen})}),u(xe,{when:s==="you-control-owner",children:u(aze,{onClick:d,controlOwner:c,isFocusedOnHomeScreen:t.isFocusedOnHomeScreen,isNotificationsSeen:t.isNotificationsSeen})}),u(xe,{when:s==="member-control-owner",children:u(sze,{onClick:d,controlOwner:c,isFocusedOnHomeScreen:t.isFocusedOnHomeScreen,isNotificationsSeen:t.isNotificationsSeen})}),u(xe,{when:s==="requesting-control",children:u(ize,{onClick:d,isFocusedOnHomeScreen:t.isFocusedOnHomeScreen,isNotificationsSeen:t.isNotificationsSeen})})]})})},nze=3,oze=t=>{const{onClick:e,members:n,isFocusedOnHomeScreen:o,isNotificationsSeen:r}=t,{classes:i,cx:s}=Qa({isFocusedOnHomeScreen:o,isNotificationsSeen:r}),a=ga(n.slice(0,nze),"userId","asc"),l=n.length-a.length;return u(Ee,{onClick:e,children:L(re,{direction:"row",flexDirection:"row-reverse",children:[l>0&&u(ps,{color:Q.foregroundColorA20,letter:l.toString(),size:"extraSmall",className:s(i.coloredText,i.smallTextSize)}),a.map(c=>u(ps,{avatar:c.avatar,color:Ia(c.username,c.userId),letter:n5(c),size:"extraSmall"},c.id||c.username))]})})},rze=t=>{const{onClick:e,memberRequestedControl:n,className:o,isFocusedOnHomeScreen:r,isNotificationsSeen:i,accentColor:s}=t,{classes:a}=Qa({isFocusedOnHomeScreen:r,isNotificationsSeen:i,accentColor:s});return n?L(re,{onClickCapture:e,className:o,direction:"row",gap:"5px",alignItems:"center",role:"button",children:[u(ps,{avatar:n.avatar,color:Ia(n.username,n.userId),letter:n5(n),size:"extraSmall"}),u(VW,{className:a.bellIcon,width:11,height:13})]}):null},ize=t=>{const{onClick:e,isFocusedOnHomeScreen:n,isNotificationsSeen:o}=t,{classes:r}=Qa({isFocusedOnHomeScreen:n,isNotificationsSeen:o});return L(re,{onClick:e,className:r.withBackgroundBg,direction:"row",gap:"5px",alignItems:"center",children:[u(e1,{className:r.coloredIcon,size:10}),u(Ee,{height:16,width:16,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:Q.monochromeColorA20,borderRadius:"4px",children:u(go,{className:r.coloredIcon,width:12,height:8.5})})]})},sze=t=>{const{onClick:e,controlOwner:n,isFocusedOnHomeScreen:o,isNotificationsSeen:r}=t,{classes:i}=Qa({isFocusedOnHomeScreen:o,isNotificationsSeen:r});return L(re,{onClick:e,className:i.withBackgroundBg,direction:"row",gap:"5px",alignItems:"center",children:[u(ps,{avatar:n.avatar,color:Ia(n.username,n.userId),letter:n5(n),size:"extraSmall"}),u(go,{className:i.coloredIcon,width:12,height:8.5})]})},aze=t=>{const{onClick:e,controlOwner:n,isFocusedOnHomeScreen:o,isNotificationsSeen:r}=t,{classes:i}=Qa({isFocusedOnHomeScreen:o,isNotificationsSeen:r});return L(re,{onClick:e,className:i.withBackgroundBg,direction:"row",gap:"5px",alignItems:"center",children:[u(ps,{avatar:n.avatar,color:Ia(n.username,n.userId),letter:n5(n),size:"extraSmall"}),u(Z,{variant:"subtitle2",fontSize:10,className:i.coloredText,children:"You"}),u(go,{className:i.coloredIcon,width:12,height:8.5})]})},lze=({onClick:t,className:e})=>u(re,{onClick:t,className:e,alignItems:"center",role:"button",children:u(JBe,{})}),cze=t=>{const{onClick:e,className:n,isFocusedOnHomeScreen:o,isNotificationsSeen:r}=t,{classes:i}=Qa({isFocusedOnHomeScreen:o,isNotificationsSeen:r});return u(re,{onClick:e,alignItems:"center",className:n,children:u(t5,{className:i.coloredIcon})})},dze=t=>{const{number:e,className:n,isFocusedOnHomeScreen:o,isNotificationsSeen:r}=t,{classes:i,cx:s}=Qa({isFocusedOnHomeScreen:o,isNotificationsSeen:r});return L(re,{direction:"row",alignItems:"center",gap:"5px",className:s(i.vars,i.withBackgroundBg,n),children:[u(t5,{className:i.coloredIcon}),u(Z,{variant:"subtitle1",fontSize:10,className:i.coloredText,children:e})]})};function n5(t){return t.userId?Mh({email:t.username,fullName:t.username,letters:1}):u(M3,{width:8,height:8,color:"var(--white)"})}const Qa=K()((t,e,n)=>({vars:{"--multiplayer-icon-color":Q.foregroundColor,"--multiplayer-text-color":Q.foregroundColor,"--multiplayer-border-radius":"6px"},container:{position:"relative"},inactiveStateIcon:{opacity:.4,"&:hover":{opacity:1}},withBackgroundBg:{padding:"3px 5px",backgroundColor:e.isFocusedOnHomeScreen?"var(--dark-grey-1-a20)":Q.backgroundColorA50,borderRadius:"var(--multiplayer-border-radius)"},coloredIcon:{fill:e.isFocusedOnHomeScreen?"var(--white)":Q.foregroundColor,color:e.isFocusedOnHomeScreen?"var(--white)":Q.foregroundColor},inactiveTab:{},bellIcon:{fill:e.isFocusedOnHomeScreen&&e.isNotificationsSeen?"var(--white)":"var(--multiplayer-icon-color)",color:e.isFocusedOnHomeScreen&&e.isNotificationsSeen?"var(--white)":"var(--multiplayer-icon-color)",[`.${n.inactiveTab} &`]:{fill:`${bE(e)}`,color:`${bE(e)}`}},coloredText:{color:e.isFocusedOnHomeScreen?"var(--white)":"var(--multiplayer-text-color)"},smallTextSize:{fontSize:10}}));function bE(t){const{accentColor:e,isNotificationsSeen:n,isFocusedOnHomeScreen:o}=t;return o&&n?"var(--white)":e&&!n?e:"var(--multiplayer-icon-color)"}const uze=(t,e)=>f.createElement("svg",{width:22,height:20,viewBox:"0 0 22 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M3.63805 15.29H18.4249L18.0831 16.7324C17.8932 17.5186 17.5704 18.1068 17.1147 18.4971C16.659 18.893 16.0595 19.091 15.3162 19.091H6.74679C5.99809 19.091 5.39587 18.893 4.94014 18.4971C4.48441 18.1068 4.16431 17.5186 3.97984 16.7324L3.63805 15.29ZM3.19045 13.3896L2.05926 8.54503L4.0775 7.17906L6.86886 9.16439C6.92854 9.20398 6.98008 9.22095 7.02348 9.21529C7.07231 9.20964 7.113 9.18136 7.14556 9.13045L10.2217 4.75256H11.8412L14.9662 9.20681C15.0422 9.31428 15.1344 9.32842 15.2429 9.24923L18.0506 7.24694L20.077 8.27354L18.8644 13.3896H3.19045ZM2.44175 9.51224C2.01314 9.51224 1.6198 9.40195 1.26173 9.18136C0.903651 8.96076 0.618819 8.66664 0.407229 8.29899C0.195639 7.92568 0.0898438 7.50995 0.0898438 7.0518C0.0898438 6.60496 0.195639 6.19772 0.407229 5.83006C0.618819 5.45676 0.903651 5.15981 1.26173 4.93921C1.6198 4.71862 2.01314 4.60833 2.44175 4.60833C2.8812 4.60833 3.27726 4.71862 3.62991 4.93921C3.98798 5.15981 4.27281 5.45676 4.4844 5.83006C4.69599 6.19772 4.80179 6.60496 4.80179 7.0518C4.80179 7.50995 4.69599 7.92568 4.4844 8.29899C4.27281 8.66664 3.98798 8.96076 3.62991 9.18136C3.27726 9.40195 2.8812 9.51224 2.44175 9.51224ZM11.0274 5.80461C10.5934 5.80461 10.1973 5.69431 9.83926 5.47372C9.48661 5.25313 9.20449 4.95618 8.9929 4.58287C8.78131 4.20957 8.67551 3.79949 8.67551 3.35265C8.67551 2.90581 8.78131 2.49857 8.9929 2.13092C9.20449 1.75761 9.48661 1.46066 9.83926 1.24007C10.1973 1.01948 10.5934 0.90918 11.0274 0.90918C11.4614 0.90918 11.8548 1.01948 12.2074 1.24007C12.5601 1.46066 12.8422 1.75761 13.0538 2.13092C13.2708 2.49857 13.3793 2.90581 13.3793 3.35265C13.3793 3.79949 13.2708 4.20957 13.0538 4.58287C12.8422 4.95618 12.5601 5.25313 12.2074 5.47372C11.8548 5.69431 11.4614 5.80461 11.0274 5.80461ZM19.5643 9.51224C19.1302 9.51224 18.7342 9.40195 18.3761 9.18136C18.0235 8.96076 17.7413 8.66664 17.5297 8.29899C17.3182 7.92568 17.2124 7.50995 17.2124 7.0518C17.2124 6.60496 17.3182 6.19772 17.5297 5.83006C17.7413 5.45676 18.0235 5.15981 18.3761 4.93921C18.7342 4.71862 19.1302 4.60833 19.5643 4.60833C19.9929 4.60833 20.3835 4.71862 20.7361 4.93921C21.0942 5.15981 21.3791 5.45676 21.5906 5.83006C21.8022 6.19772 21.908 6.60496 21.908 7.0518C21.908 7.50995 21.8022 7.92568 21.5906 8.29899C21.3791 8.66664 21.0942 8.96076 20.7361 9.18136C20.3835 9.40195 19.9929 9.51224 19.5643 9.51224Z",fill:"currentColor"})),pze=f.forwardRef(uze),hze=f.memo(pze),Ya=({className:t,children:e,isDisabled:n=!1,onClick:o,...r})=>{const{classes:i,cx:s}=fze();return u(Ue,{disabled:n,className:s(i.button,t,{[i.disabled]:n}),size:"small",onClick:o,...r,children:e})},fze=K()({button:{".termius-dark-theme &, & ":{fontSize:"14px",textTransform:"none","--substrateOpacity":0,"--buttonColor":Q.uiColorA10,color:Q.uiColor,"--menu-item-svg-color":Q.uiColor,"--menu-item-text-color":Q.uiColor,"--menu-item-svg-hover-color":Q.uiColor,"&:hover":{"& svg, & ":{"--buttonColor":Q.foregroundColorA10,"--menu-item-svg-color":Q.foregroundColor,"--menu-item-svg-hover-color":Q.foregroundColor,color:Q.foregroundColor}}}},disabled:{".termius-dark-theme &, & ":{color:Q.uiColor}}}),WW=({onCopyLink:t,status:e,disabled:n=!1})=>{const{classes:o,cx:r}=mze(),i=L(f.Fragment,{children:[u(kC,{}),u(Z,{bold:!0,color:"inherit",children:"Copy link"})]}),s=L(f.Fragment,{children:[u(Oo,{className:o.coloredIcon,size:13,classes:{colorPrimary:o.progressColor}}),u(Z,{lineHeight:0,color:"inherit",children:"Copying..."})]}),a=L(f.Fragment,{children:[u($Q,{className:o.coloredIcon,width:13}),u(Z,{lineHeight:0,color:"inherit",children:"Copied"})]});return u(Ya,{onClick:t,isDisabled:n,className:r({[o.copyLink]:e==="default"}),children:L(Ee,{display:"flex",alignItems:"center",gap:"5px",children:[e==="default"&&i,e==="loading"&&s,e==="success"&&a]})})},mze=K()({copyLink:{position:"relative",display:"flex",alignItems:"center","--buttonColor":Q.foregroundColorA20},progressColor:{color:Q.uiColor},coloredIcon:{"&& ":{"--menu-item-svg-color":Q.uiColor,"--menu-item-svg-hover-color":Q.uiColor,fill:Q.uiColor,color:Q.uiColor}}}),gze=t=>{const{classes:e,cx:n}=Xa(),{className:o,participants:r,open:i,toggler:s,anchorEl:a,onAcceptRequest:l,canGiveControl:c,onGiveControl:d,onClose:p}=t,{overrideVarsClassname:h}=No(),m=u(Qn,{className:n(e.unhoverable,e.menuItem),disableRipple:!0,children:u(xze,{...t})},"multiplayerTabMenuItemHeader"),g=r.map(v=>u(Qn,{disableRipple:!0,className:n(e.text,e.menuItem,{[e.controlRequest]:c&&v.requestId!=null}),children:u(_ze,{...v,onAcceptRequest:l,onGiveControl:d,canGiveControl:c})},v.id)),C=()=>[m,u(WC,{},"multiplayerTabMenuItemSeparator"),u(Ee,{p:"5px",className:n(e.text,e.unhoverable),children:u(Z,{children:"Participants:"})},"multiplayerTabMenuParticipantsHeaderr"),...g,f.createElement(vze,{...t,key:"multiplayerTabMenuButtonBlock"})];return u(Ss,{open:i,className:n(e.vars,e.container,h,o,e.contextMenuPaper),toggler:s,onClose:p,anchorReference:"anchorEl",anchorEl:a,disablePortal:!1,popoverRootClassName:e.contextMenu,children:C})},vze=t=>{const{participants:e,isHost:n,isControlOwner:o,onRejectAllRequests:r,onCancelRequest:i,requestControlId:s,onRequestControl:a,onTakeControl:l,onGiveUpControl:c}=t,d=()=>{Ce(s,"The request cancel callback can be called only when there is the control request by current user"),i(s)},h=[{visible:e.some(g=>!g.isYou&&g.requestId)&&(n||o),component:u(Cze,{onRejectAllRequests:r})},{visible:!!s,component:u(yze,{onCancelRequest:d})},{visible:!n&&!o&&!s,component:u(Sze,{onRequestControl:a})},{visible:n&&!o&&!s,component:u(bze,{onTakeControl:l})},{visible:!n&&o&&!s,component:u(wze,{onGiveUpControl:c})}].filter(g=>g.visible),m=h.length>0;return L(f.Fragment,{children:[m&&u(WC,{}),u(re,{direction:"row",gap:"10px",alignItems:"center",pb:m?"5px":0,children:h.map((g,C)=>u(f.Fragment,{children:g.component},C))})]})},Cze=({onRejectAllRequests:t})=>{const{classes:e,cx:n}=Xa();return u(Ya,{className:n(e.growWidth),leftIcon:u(go,{className:e.regularUiIcon,width:14,height:10}),onClick:t,children:"Reject all"})},yze=({onCancelRequest:t})=>{const{classes:e,cx:n}=Xa();return u(Ya,{className:n(e.growWidth),leftIcon:u(qQ,{className:e.regularUiIcon,width:14,height:14}),onClick:t,children:"Cancel request"})},Sze=({onRequestControl:t})=>{const{classes:e,cx:n}=Xa();return u(Ya,{className:n(e.growWidth),leftIcon:u(go,{className:e.regularUiIcon,width:14,height:14}),onClick:t,children:"Request remote control"})},bze=({onTakeControl:t})=>{const{classes:e,cx:n}=Xa();return u(Ya,{className:n(e.growWidth),leftIcon:u(go,{className:e.regularUiIcon,width:14,height:14}),onClick:t,children:"Take back remote control"})},wze=({onGiveUpControl:t})=>{const{classes:e,cx:n}=Xa();return u(Ya,{className:n(e.growWidth),leftIcon:u(go,{className:e.regularUiIcon,width:14,height:14}),onClick:t,children:"Give up remote control"})},_ze=({username:t,avatar:e,isHost:n,isControlOwner:o,id:r,userId:i,requestId:s,isYou:a,onAcceptRequest:l,onGiveControl:c,canGiveControl:d})=>{const{classes:p,cx:h}=Xa(),m=g=>{g.stopPropagation(),s&&l(s)};return L(re,{direction:"row",gap:"10px",alignItems:"center",justifyContent:"space-between",width:"100%",p:"5px",onClick:()=>c(r),children:[L(re,{direction:"row",gap:"10px",alignItems:"center",maxWidth:"100%",overflow:"hidden",p:"5px 0",children:[L(Ee,{position:"relative",children:[u(ps,{avatar:e,color:Ia(t,i),letter:i?Mh({email:t,fullName:t,letters:1}):u(M3,{width:14,height:14,className:p.whiteIcon}),size:"medium"}),n&&u(Ee,{children:u(hze,{className:h(p.hostIcon)})})]}),u(Ee,{overflow:"hidden",children:u(Z,{ellipsis:!0,children:t})})]}),L(re,{direction:"row",alignItems:"center",gap:"5px",children:[u(xe,{when:!!a,children:u(Ee,{bgcolor:Q.uiColorA10,p:"2px 5px",borderRadius:"6px",children:u(Z,{variant:"subtitle2",fontSize:12,children:"You"})})}),u(xe,{when:!!(a&&s),children:L(re,{bgcolor:Q.uiColorA10,p:"2px 5px",borderRadius:"6px",direction:"row",height:"22px",alignItems:"center",gap:"5px",children:[u(go,{className:p.accentIcon,width:12,height:8.5}),u(e1,{className:p.accentIcon,size:9})]})}),u(xe,{when:!!o,children:u(Ee,{bgcolor:Re.multiplayerAccentColorA15.value,width:22,height:22,borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",children:u(go,{className:p.accentIcon,width:12,height:8.5})})}),u(xe,{when:!!(d&&s),children:u(Ya,{className:h(p.acceptBtn),onClick:m,children:L(re,{direction:"row",gap:"5px",alignItems:"center",children:[u(go,{width:14,height:10}),u(Z,{variant:"subtitle2",children:"Accept"})]})})}),u(xe,{when:d&&!o&&!s&&!n,children:u(Ee,{bgcolor:Q.uiColorA10,width:22,height:22,borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",className:h(p.giveControlKeyboard,p.accentIcon),children:u(go,{width:14,height:10})})})]})]})},xze=({isHost:t,onCopyLink:e,onStopSharing:n})=>{const{classes:o,cx:r}=Xa(),[i,s]=f.useState("default"),a=_u(l=>{s("success"),setTimeout(()=>{s("default")},sv),e(l)},{wait:sv,leading:!0,trailing:!1});return L(re,{direction:"row",alignItems:"center",justifyContent:"space-between",width:"100%",p:"5px",children:[L(re,{direction:"row",alignItems:"center",className:o.text,gap:"5px",children:[u(t5,{className:o.regularUiIcon,width:14,height:11}),u(Z,{variant:"body1",children:"Multiplayer"})]}),L(re,{direction:"row",alignItems:"center",gap:"10px",children:[u(WW,{onCopyLink:a.run,status:i}),t&&u(Ya,{className:r(o.stopBtn),onClick:n,children:"Stop multiplayer"})]})]})},Xa=K()((t,e,n)=>({vars:{"--multiplayer-icon-color":Q.uiColor,"--multiplayer-hover-text-color":Q.foregroundColor,"--multiplayer-text-color":Q.uiColor,"--multiplayer-border-radius":"15px","--menu-item-text-color":"var(--multiplayer-text-color)","--menu-item-svg-hover-color":"var(--multiplayer-text-color)"},container:{"& .MuiMenu-list":{display:"flex",flexDirection:"column",gap:"5px"},width:"400px",minWidth:"400px",background:`linear-gradient(0deg, ${Q.uiColorA15} 0%, ${Q.uiColorA15} 100%), ${Q.backgroundColor}`,borderRadius:"var(--multiplayer-border-radius)"},text:{"--menu-item-svg-hover-color":"var(--multiplayer-text-color)",color:"var(--multiplayer-text-color)","&:hover":{color:"var(--multiplayer-text-color)"}},menuItem:{height:"35px",padding:0,[`&.${n.controlRequest}`]:{"& ":{"--multiplayer-text-color":Re.multiplayerAccentColor.value,"--menu-item-hover-color":Re.multiplayerAccentColorA15.value}}},unhoverable:{"&&":{backgroundColor:"unset","--menu-item-hover-color":"none",color:"var(--multiplayer-text-color)"},"&:hover":{color:"var(--multiplayer-text-color)",backgroundColor:"unset","--menu-item-hover-color":"none"}},hoverable:{"&:hover":{color:"var(--multiplayer-hover-text-color)"}},regularUiIcon:{"& ":{"--menu-item-svg-color":"var(--multiplayer-icon-color)",fill:"var(--multiplayer-icon-color)",color:"var(--multiplayer-icon-color)"},[`.${n.hoverable}:hover &`]:{"& ":{fill:"var(--multiplayer-hover-text-color)",color:"var(--multiplayer-hover-text-color)"}}},accentIcon:{[`.${n.hoverable}:hover &, & `]:{"--menu-item-svg-color":Re.multiplayerAccentColor.value,"--menu-item-svg-hover-color":Re.multiplayerAccentColor.value,fill:Re.multiplayerAccentColor.value,color:Re.multiplayerAccentColor.value}},growWidth:{flex:1},stopBtn:{".termius-dark-theme &, & ":{color:Re.multiplayerColorRed.value,backgroundColor:Re.multiplayerColorRedA25.value,"&:hover":{"& ":{backgroundColor:Re.multiplayerColorRedA50.value,color:Re.multiplayerColorRed.value}}}},controlRequest:{"--multiplayer-text-color":Re.multiplayerAccentColor.value,backgroundColor:Re.multiplayerAccentColorA15.value},hostIcon:{color:Re.multiplayerAccentColor.value,position:"absolute",top:0,right:0,transform:"translate(35%, -36%)",zIndex:1,width:"14px",height:"14px",padding:"4px 3px",borderRadius:"50%",background:`linear-gradient(0deg, ${Re.multiplayerAccentColorA15.value} 0%, ${Re.multiplayerAccentColorA15.value} 100%), ${Q.backgroundColor}`,[`.${n.menuItem} &, .${n.menuItem}:hover &`]:{"& ":{color:Re.multiplayerAccentColor.value}}},acceptBtn:{"--substrateOpacity":0,backgroundColor:Q.backgroundColorA50,"&&& svg, &&& ":{color:Re.multiplayerAccentColor.value},"&:hover":{"&&& ":{color:Re.multiplayerAccentColor.value,backgroundColor:Re.multiplayerAccentColorA15.value}}},giveControlKeyboard:{opacity:0,[`.${n.menuItem}:hover &`]:{"& ":{opacity:1}},transition:"opacity 0.2s ease-in-out"},whiteIcon:{"--menu-item-svg-color":"var(--white)","--menu-item-svg-hover-color":"var(--white)",color:"var(--white)"},contextMenu:{pointerEvents:"none"},contextMenuPaper:{pointerEvents:"auto"}})),Aze=t=>{const{classes:e,cx:n}=jW(),{toggler:o,open:r,className:i,anchorEl:s,onClose:a}=t,{overrideVarsClassname:l}=No();return u(Ss,{open:r,className:n(e.vars,e.container,l,i),toggler:o,onClose:a,anchorReference:"anchorEl",anchorEl:s,disablePortal:!1,children:()=>[u(Qn,{className:n(e.unhoverable,e.menuItem),disableRipple:!0,children:u(Ize,{...t})},"MultiplayerHeader"),u(WC,{},"MultiplayerSeparator"),u(Ee,{p:"5px",className:n(e.text,e.unhoverable),justifyContent:"center",display:"flex",children:L(Z,{align:"center",children:["Copy link to share this terminal session.",u("br",{}),"People who join will be visible here"]})},"MultiplayerContent")]})},Tze=["loading","success"],Ize=({onCopyLink:t,sharingStatus:e})=>{const{classes:n}=jW(),o=Tze.includes(e);return L(re,{direction:"row",alignItems:"center",justifyContent:"space-between",width:"100%",p:"5px",children:[L(re,{direction:"row",alignItems:"center",className:n.text,gap:"5px",children:[u(t5,{className:n.coloredIcon,width:14,height:11}),u(Z,{variant:"body1",children:"Multiplayer"})]}),u(re,{direction:"row",alignItems:"center",gap:"10px",children:u(WW,{onCopyLink:t,status:e,disabled:o})})]})},jW=K()({vars:{"--multiplayer-icon-color":Q.uiColor,"--multiplayer-hover-text-color":Q.foregroundColor,"--multiplayer-text-color":Q.uiColor,"--multiplayer-border-radius":"15px","--menu-item-text-color":"var(--multiplayer-text-color)","--menu-item-svg-hover-color":"var(--multiplayer-text-color)"},container:{"& .MuiMenu-list":{display:"flex",flexDirection:"column",gap:"5px"},width:"400px",minWidth:"400px",background:`linear-gradient(0deg, ${Q.uiColorA15} 0%, ${Q.uiColorA15} 100%), ${Q.backgroundColor}`,borderRadius:"var(--multiplayer-border-radius)"},text:{"--menu-item-svg-hover-color":"var(--multiplayer-text-color)",color:"var(--multiplayer-text-color)","&:hover":{color:"var(--multiplayer-text-color)"}},menuItem:{height:"35px",padding:0},unhoverable:{"&&":{backgroundColor:"unset","--menu-item-hover-color":"none",color:"var(--multiplayer-text-color)"},"&:hover":{color:"var(--multiplayer-text-color)",backgroundColor:"unset","--menu-item-hover-color":"none"}},coloredIcon:{"&& ":{"--menu-item-svg-color":"var(--multiplayer-icon-color)","--menu-item-svg-hover-color":"var(--multiplayer-icon-color)",fill:"var(--multiplayer-icon-color)",color:"var(--multiplayer-icon-color)"}}}),Eze=t=>{const{multiplayerApi:e}=t,n=V(i=>ja(i,e.hostPeerId)),o=n==null?void 0:n.participants.find(i=>i.participantId===e.participantId);return{canGiveControl:kze(()=>t.multiplayerShellBridge.canManageControlOwnership,[o])}};function kze(t,e){const[n,o]=f.useState(t());return Hd(()=>{o(t())},e),n}const Rze=t=>{var D;const{connectionId:e,terminalId:n,mediator:o}=t,r=V(F=>Cc(F,e)),s=m3().getMultiplayerApiByConnectionId(r==null?void 0:r.sessionId),a=Pze(r),l=V(F=>er(F,n)),c=V(F=>Da(F,ge())),d=V(F=>_c(F,r==null?void 0:r.sessionId)),p=V(F=>Tu(F,r==null?void 0:r.sessionId)),h=MN(),m=de(),g=a.find(F=>F.id===(s==null?void 0:s.participantId)),C=!!(g!=null&&g.isHost),v=!!(g!=null&&g.isControlOwner),S=(D=p.find(F=>F.participantId===(s==null?void 0:s.participantId)))==null?void 0:D.id,{canGiveControl:y}=Eze(o);return{controlRequests:p,participants:a,open:d,isHost:C,isControlOwner:v,requestControlId:S,canGiveControl:y,onCopyLink:F=>{var z;F.stopPropagation(),F.stopPropagation();try{Ce(s==null?void 0:s.peerId,"Copying of sharing link is available only for connected peer");const j=((z=h.peersMap.get(s==null?void 0:s.peerId))==null?void 0:z.inviteLink)??"";navigator.clipboard.writeText(j)}catch{}},onRejectAllRequests:()=>{Ce(o.multiplayerApi.hostPeerId,mt),m(TC({sessionId:o.multiplayerApi.hostPeerId,source:"Tab Widget"}))},onRequestControl:F=>{F.stopPropagation(),F.preventDefault(),Ce(o.multiplayerApi.hostPeerId,mt),m(_C({sessionId:o.multiplayerApi.hostPeerId,source:"Tab Widget"}))},onAcceptRequest:F=>{Ce(o.multiplayerApi.hostPeerId,mt),m(AC({sessionId:o.multiplayerApi.hostPeerId,requestId:F,source:"Tab Widget Button"}))},onCancelRequest:()=>{Ce(o.multiplayerApi.hostPeerId,mt),S&&m(xC({sessionId:o.multiplayerApi.hostPeerId,requestId:S}))},onGiveControl:F=>{if(Ce(o.multiplayerApi.hostPeerId,mt),!!y){if(F===(s==null?void 0:s.participantId)){m(ih({sessionId:o.multiplayerApi.hostPeerId,source:"Tab Widget User"}));return}m(jC({sessionId:o.multiplayerApi.hostPeerId,participantId:F,passedBy:p.some(z=>z.participantId===F)?"Tab Widget Button":"Tab Widget User",isOwner:Wt(!!(g!=null&&g.isHost))}))}},onGiveUpControl:()=>{Ce(o.multiplayerApi.hostPeerId,mt),m(tL({sessionId:o.multiplayerApi.hostPeerId}))},onTakeControl:()=>{Ce(o.multiplayerApi.hostPeerId,mt),m(ih({sessionId:o.multiplayerApi.hostPeerId,source:"Tab Widget Button"}))},onClose:()=>{r!=null&&r.sessionId&&m(Dl({sessionId:r.sessionId}))},handleOpenMultiplayerTabWidget:F=>{if(r!=null&&r.sessionId)return F.stopPropagation(),F.preventDefault(),l!=null&&l.id&&l.id!==(c==null?void 0:c.id)&&m(fr(l.id)),m(Dl({sessionId:r.sessionId})),m(he("multiplayerTabWidgetOpened",{isActiveMultiplayer:Wt(!!(s!=null&&s.isMultiplayerSessionActive())),currentViewers:a.length})),{left:F.clientX,top:F.clientY}}}},Pze=t=>{const e=V(Y8),n=V(tg),o=m3();if(!t)return[];const r=o.getMultiplayerApiByConnectionId(t.sessionId),{participants:i}=t;return i.map(s=>Lze({participant:s,multiplayerConnection:t,multiplayerApi:r,team:n,avatars:e}))},Lze=t=>{var l,c;const{participant:e,multiplayerConnection:n,multiplayerApi:o,team:r,avatars:i}=t,s=GQ({team:r,participant:e}),a=(c=(l=n==null?void 0:n.controlRequests)==null?void 0:l.find(d=>d.participantId===e.participantId))==null?void 0:c.id;return{username:s,id:e.participantId,userId:e.userId,avatar:KQ(i,e.userId),requestId:a,isControlOwner:e.isControlOwner,isHost:e.isHost,isYou:e.participantId===(o==null?void 0:o.participantId)}},UW=f.memo(t=>{var m,g;const e=V(Na),n=V(nL),o=Wu(),{terminals:r,isCurrentTabActive:i}=t,s=r[0],a=f.useMemo(()=>i&&(s==null?void 0:s.protocol)==="stream"&&r.some(C=>C.multiplayerConnectionProcess==="connecting"||C.connectionProcess==="connecting"),[i,r,s]);if(!s)return null;if(a)return u(Ee,{alignItems:"center",display:"flex",justifyContent:"center",children:u(Oo,{size:12,color:"inherit"})});const l=o.get(s.id),c=l==null?void 0:l.mediator,d=t.terminals.every(C=>C.connectionProcess==="succeeded"),p=e&&!n&&!((m=c==null?void 0:c.multiplayerApi)!=null&&m.isMultiplayerSessionActive());if(!d||p)return null;const h=t.isInsideSplitView&&!((g=c==null?void 0:c.multiplayerApi)!=null&&g.isMultiplayerSessionActive());return!c||!(l!=null&&l.connection)||h?null:u(Mze,{...t,mediator:c,connection:l.connection})}),Mze=t=>{const{multiplayerTabStateProps:e,multiplayerColorsContextValue:n,isFocusedOnHomeScreen:o,multiplayerMenuProps:r,isSingleTerminalView:i,isStartSharingMenuOpened:s,themeColors:a,startMultiplayerMenuStatus:l,startSharingAndCopyLink:c,stopMultiplayer:d,setStartSharingMenuOpened:p}=Oze(t),{isCurrentTabActive:h,className:m}=t,g=de(),{classes:C,cx:v}=Dze(),[S,y]=f.useState(null),b=f.useCallback(T=>{y(T)},[]);if(!(e!=null&&e.state))return null;const{state:w,members:x}=e,_=w==="inactive",I=()=>{_&&(g(he("multiplayerTabWidgetOpened",{isActiveMultiplayer:"no",currentViewers:0})),p(!0))};return L(V1,{value:n,children:[u(eze,{ref:b,...e,state:w,members:x,isTabActive:h,isFocusedOnHomeScreen:o,onOpenMultiplayerMenu:r.handleOpenMultiplayerTabWidget,className:v(m,{[C.hidden]:_&&!h}),onActivateSharing:I}),u(xe,{when:i&&!s,children:u(gze,{...r,toggler:null,open:r.open&&h,onStopSharing:d,anchorEl:S,className:a.terminalColors})}),u(xe,{when:i&&s,children:u(Aze,{onStartSharing:I,open:s&&h,onClose:()=>p(!1),onCopyLink:c,sharingStatus:l,toggler:null,anchorEl:S,className:a.terminalColors})})]})},Oze=t=>{const e=t.terminals[0],n=t.terminals.length===1,{connection:o,mediator:r,themeColorsState:i}=t,s=i==="vaultTab",a=W1({theme:EC(e.colorScheme)}),l=V(nL),{startMultiplayer:c,stopMultiplayer:d}=zW({connection:o,mediator:r}),p=de(),h=V(x=>UC(x,r.id)),m=V(x=>oL(x,r.id)),g=m3(),C=Rze({connectionId:o.id,terminalId:e.id,mediator:r}),v=Pc("terminalSharing"),S=x=>{x===h||!n||p(Eg({terminalId:r.id}))},y=async()=>{if(p(he("shareTerminalButtonPressed",{terminalSharingSource:"Tab Widget",connectionID:e.connectionId})),!l){S(!1),await v({from:"Terminal Sharing"});return}await c("Tab Widget")},b=V(x=>ZQ(x,{terminals:t.terminals,multiplayerMap:g})),w=gc(e.colorScheme);return{multiplayerTabStateProps:b,multiplayerColorsContextValue:a,isFocusedOnHomeScreen:s,multiplayerMenuProps:C,isSingleTerminalView:n,isStartSharingMenuOpened:h,themeColors:w,startMultiplayerMenuStatus:m,startSharingAndCopyLink:y,stopMultiplayer:d,setStartSharingMenuOpened:S}},Dze=K()({hidden:{visibility:"hidden",opacity:0,pointerEvents:"none"}}),$W=t=>{const e=V(o=>QQ(o,t.connectionId));return f.useMemo(()=>[rR({terminal:t,multiplayerConnectionProcess:e})],[t,e])},fb=t=>{const{colorScheme:e,...n}=t,{terminalColors:o}=gc(e),r=V(xo),i=lt(fc),s=l1({isDarkMode:r,themeColorsState:i}),a=e?o:s,{classes:l}=Fze();return u("div",{children:u(NC,{...n,arrow:!0,classes:{arrow:l.arrow,popper:ce(a,l.popper),tooltip:l.tooltip},disableInteractive:!0})})},Fze=K()({tooltip:{zIndex:100,position:"relative",background:Q.gradientColor,color:Q.foregroundColor,padding:"4px 10px",borderRadius:"10px",height:"30px",fontSize:"10px",fontWeight:500,lineHeight:"12px",display:"flex",alignItems:"center",backdropFilter:"blur(4px)"},popper:{opacity:"1",background:"none",width:"max-content"},arrow:{color:Q.uiColorA15,"&::before":{background:Q.gradientColor}}}),qW=t=>{const{classNames:e,onBroadcastClick:n,workspaceControl:o,colorScheme:r}=t,{classes:i,cx:s}=GW(),l=V(YQ)&&!o;return u(fb,{title:u(Nze,{}),placement:o?"right":"left",colorScheme:r,children:L(Ue,{className:s(e.broadcastButton,e.broadcastButtonActive),onClick:n,disableHover:!0,variant:o?"text":"contained","aria-label":"Broadcast",children:[u(N0e,{}),l&&u("span",{className:i.broadcastPrompt,children:"Broadcast"})]})})},Nze=()=>{const{classes:t,cx:e}=GW(),n=V(r=>SC(r,"toggleSplitViewBroadcastMode")),o=I2(n,MP);return L("div",{className:t.broadcastTitle,children:[u("span",{className:e(t.broadcastTitleText,{[t.broadcastTitleTextWithShortcuts]:!!(o!=null&&o.length)}),children:"Broadcast input"}),o==null?void 0:o.map(r=>u("div",{className:t.broadcastTitleButton,children:r},r))]})},GW=K()({broadcastTitle:{fontSize:"10px",lineHeight:"12px",fontWeight:500,display:"flex",alignItems:"center"},broadcastTitleButton:{fontSize:"8px",lineHeight:"10px",display:"flex",alignItems:"center",justifyContent:"center",width:"20px",height:"20px",borderRadius:"5px",position:"relative",marginLeft:"5px",flex:"0 0 20px","&:after":{content:'""',display:"block",position:"absolute",left:0,width:"100%",height:"100%",borderRadius:"5px",backgroundColor:"currentColor",opacity:"0.1"}},broadcastTitleText:{marginRight:0},broadcastTitleTextWithShortcuts:{marginRight:"5px"},broadcastPrompt:{marginLeft:"5px"}});function Hze({terminal:t,icon:e,title:n,isInSearchMode:o,isInBroadcastMode:r,onBroadcastClick:i,onClose:s,terminalApi:a,children:l,colorScheme:c,withBroadcastButton:d,terminalContainerRef:p,onScreen:h}){const m=de(),{terminalColors:g}=gc(c),C=i1(!0);Ce(t,"Terminal not found");const v=$W(t),S=t.id,{classes:y,cx:b}=KW(),{listeners:w,attributes:x,setNodeRef:_,isDragging:I,setActivatorNodeRef:T,node:A}=XQ({id:b6e(t.id),data:{kind:g3,title:n,terminals:v,group:Jn.pane}}),k=()=>{a.focus(),i()},R=()=>{m(Es({terminalId:S,connectionOrigin:"Reconnect Button"}))},M=()=>{m(kg({workspaceId:C.id,viewMode:"focusView"})),m(oo(S))},D=d&&t.connectionProcess==="succeeded";f.useImperativeHandle(p,()=>A.current);const{overrideVarsClassname:F}=No();return L("div",{className:b(g,y.terminalSlot,F,{[y.terminalSlotBroadcasted]:r,[y.terminalSlotSearchHighlighted]:o,[y.dragging]:I,[y.focused]:t.isActive}),ref:_,children:[L("div",{className:y.slotHeading,style:{backgroundColor:t.connectionProcess==="error"?"transparent":t.colorScheme.backgroundColor},onClick:()=>{m(oo(S)),a.focus()},children:[u(B9,{connectionProcess:t.connectionProcess,className:y.slotOsIcon,children:bH(e)}),u(Bze,{ref:T,...w,...x,children:n}),L(Ee,{display:"flex",alignItems:"center",children:[u(fb,{title:"Focus mode",placement:"left",colorScheme:c,children:u(Cd,{onClick:M,className:y.slotButton,"aria-label":"Focus mode",children:u(qBe,{width:10})})}),D&&u(qW,{classNames:{broadcastButton:y.broadcastButton,broadcastButtonActive:r?y.broadcastButtonActive:""},onBroadcastClick:k,colorScheme:c}),t.connectionProcess==="error"&&u(Cd,{onClick:R,className:y.slotButton,children:u(HF,{width:20})}),u(UW,{terminals:v,isCurrentTabActive:h,isInsideSplitView:!0,className:y.multiplayerButton}),u(Cd,{onClick:s,className:y.slotButton,children:u(e5,{})})]})]}),l]})}const Bze=f.forwardRef(({children:t,...e},n)=>{const{classes:o}=KW();return u(Z,{variant:"body2",ellipsis:!0,innerRef:n,className:o.headingTitle,...e,children:t})}),KW=K()((t,e,n)=>({terminalSlot:{borderRadius:10,overflow:"hidden",height:"100%",width:"100%",position:"relative",display:"flex",flexDirection:"column",boxSizing:"border-box",backgroundColor:Q.backgroundColor,color:Q.foregroundColor,border:`1px solid ${Q.foregroundColorA25}`,[`&:hover .${n.slotButton}`]:{opacity:1,pointerEvents:"auto"},[`&:hover .${n.broadcastButton}`]:{opacity:1,pointerEvents:"auto"}},multiplayerButton:{marginRight:"6px"},terminalSlotBroadcasted:{border:`1px dashed ${Q.foregroundColorA50}`,"&:focus-within":{border:`1px solid ${Q.foregroundColor}`}},terminalSlotSearchHighlighted:{border:`1px dashed ${Q.foregroundColor}`},focused:{border:`1px solid ${Q.foregroundColor}`},dragging:{opacity:.5},slotHeading:{display:"flex",alignItems:"center",position:"relative"},headingTitle:{flex:"1",minWidth:0,cursor:"grab",padding:"10px 10px 10px 0"},slotOsIcon:{backgroundColor:"inherit",touchAction:"none",padding:"10px 10px 10px 12px","& > svg":{width:14,height:14},cursor:"grab"},slotButton:{color:"inherit",display:"flex",cursor:"default",height:"24px",width:"24px",justifyContent:"center",alignItems:"center",opacity:0,pointerEvents:"none",transition:`opacity ${Jp.standard}ms ${eh.sharp}`,marginRight:6,"&:hover":{backgroundColor:"inherit","&:after":{content:'""',display:"block",position:"absolute",width:"100%",height:"100%",borderRadius:"5px",backgroundColor:"currentColor",opacity:"0.1"}},"& svg":{fontSize:"14px"},[`&.${n.multiplayerButton}`]:{width:"auto"}},broadcastButton:{height:"24px",minWidth:"24px",display:"flex",justifyContent:"center",alignItems:"center",padding:"5px",boxSizing:"border-box",fontSize:"10px",lineHeight:"12px",borderRadius:4,marginRight:"3px",fontWeight:700,opacity:0,transition:`opacity ${Jp.standard}ms ${eh.sharp}`,pointerEvents:"none",color:"inherit","--buttonColor":"inherit","&:hover":{"&:after":{content:'""',display:"block",position:"absolute",left:0,width:"100%",height:"100%",borderRadius:"5px",backgroundColor:"currentColor",opacity:"0.1"}},".termius-dark-theme &":{"--buttonColor":"inherit"}},broadcastButtonActive:{"&:after":{content:'""',display:"block",position:"absolute",left:0,width:"100%",height:"100%",borderRadius:"5px",backgroundColor:"currentColor",opacity:"0.2"}}})),zze=t=>{const{windowId:e,mediator:n,isInSearchMode:o,isInBroadcastMode:r,onBroadcastClick:i,onScreen:s,colorScheme:a,withBroadcastButton:l,...c}=t,{terminalApi:d}=n,{id:p}=d,h=V(A=>nn(A,n.terminalApi.id)),m=V(BC),g=V(VC);Ce(h,`Cannot find terminal with id ${p}`);const C=h.connectionProtocol==="session-log",v=V(n1),S=Se.useRef(null),y=EC(a),b=W1({theme:y}),x=Wu().get(p),_=!!(x!=null&&x.connection),{classes:I}=Vze(),T=z9({protocol:h.connectionProtocol,osName:h.osName});return u(Se.Fragment,{children:L(V1,{value:b,children:[u(Hze,{terminalApi:n.terminalApi,icon:T,title:h.title,terminal:h,isInSearchMode:o,isInBroadcastMode:r,onBroadcastClick:i,onClose:c.onClose,colorScheme:h.colorScheme,withBroadcastButton:l,terminalContainerRef:S,onScreen:s,children:u(db,{className:I.terminalViewLayout,terminalApi:n.terminalApi,colorScheme:h.colorScheme,backspace:h.backspaceMode,onScreen:s,terminalIsActive:h.connectionProcess==="succeeded",bellSound:C?!1:m,scrollback:C?zC:g})}),u(ab,{protocol:h.connectionProtocol,colorScheme:h.colorScheme,mediator:n,origin:"Split View"}),u(xe,{when:_,children:u(vz,{connection:x==null?void 0:x.connection,mediator:n,colorScheme:h.colorScheme,containerRef:S,fontSize:v,onScreen:s})})]})})},Vze=K()({terminalViewLayout:{padding:"0px 12px 8px"}}),Wze=(t,e=(n,o)=>n===o)=>{for(const[n,o]of t.entries()){if(n===t.length-1)return;let r=1;for(;n+r<t.length&&e(o,t[n+r]);)r+=1;r>1&&t.splice(n+1,r-1)}};class jze{constructor(){E(this,"history",[])}persistFocus(e){this.lastFocused!==e&&this.history.push(e)}get lastFocused(){return Ti(this.history)}get previouslyFocused(){return Bl(this.history,-2)}removeFromHistory(e){eY(this.history,n=>e.includes(n)),Wze(this.history)}}const Uze=(t,e)=>{const n=f.useRef(new jze),o=oh(t),r=de(),i=V(d=>Jo(d,e.windowId)),s=Array.from(t.values())[0];Ao(()=>{var d;i!=null&&i.id&&((d=t.get(i.id))==null||d.focus())}),JQ(()=>gt.fromCollection(Array.from(t.values()),d=>d.onFocus(()=>{n.current.persistFocus(d),Mo.unstable_batchedUpdates(()=>{r(oo(d.id)),r(LP(e.windowId))})})),[r,t,e.windowId]),f.useEffect(()=>{const d=o??new Map,p=Array.from(t.entries()).filter(([m,g])=>!d.has(m)).map(([m,g])=>g);if(p.length>1)return;if(p[0]){p[0].focus();return}const h=Array.from(d.entries()).filter(([m,g])=>!t.has(m)).map(([m,g])=>g);if(!ds(h)){if(n.current.removeFromHistory(h),n.current.lastFocused){n.current.lastFocused.focus();return}s==null||s.focus()}},[t,o,s]);const l=!oh(e.onScreen)&&e.onScreen;return f.useEffect(()=>{if(l){const d=n.current.lastFocused??s;d==null||d.focus()}},[t,l,s]),{focusOnShortcut(d){const p=$ze.get(d);p!=null&&c(p)},back(){var d;return(d=n.current.previouslyFocused)==null?void 0:d.focus()},get lastFocused(){return n.current.lastFocused}};function c(d){var m;const p=n.current.lastFocused;if(!p)return;const h=e.layout.findAdjacentLeaf(g=>g.id===p.id,d);h&&((m=t.get(h.id))==null||m.focus())}},$ze=new Map([["â†‘","upper"],["â†“","lower"],["â†","left"],["â†’","right"]]),qze=t=>{const{onScreen:e,windowId:n,mediators:o,tabId:r,onRunSnippetInActiveTerminals:i,colorScheme:s,workspace:a}=t,l=de(),c=lt(HC),d=V(xg),p=lt(bc),h=V(tY),{mediatorPool:m}=ju(),{layout:g}=a,C=f.useMemo(()=>p?`calc(100% - (${qP}px + 10px))`:"100%",[p]),v=f.useCallback(H=>O=>{l(nY({workspaceId:a.id,nodeId:H,sizes:O}))},[l,a.id]),{classes:S}=Kze(),y=d.has(r),{activeTerminalMediator:b,mediatorsArray:w}=NBe({tabId:r,mediators:o}),x=FBe(r),_=Yn(H=>{l(Ua(H.id))}),I=Uze(LBe(o,H=>H.terminalApi),{windowId:n,onScreen:e,layout:g}),{lastFocused:T}=I,A=tt();Ca(A,Sg,()=>{T&&T.focus()},[T]),Ca(A,s1,()=>{T&&T.focus()},[T]);const k=V(H=>nn(H,(T==null?void 0:T.id)||"")),R=HBe({moveSplitViewFocus:H=>{I.focusOnShortcut(H)}});f.useEffect(()=>{y&&(T==null||T.focus())},[y,T]),HW({workspace:a,tabId:r});const M=()=>{var H;l(he("broadcastInputToggled",{broadcastEnabled:y?"yes":"no",broadcastActivatedBy:"Button",broadcastButtonLocation:"Workspace Split View",workspaceTemplateID:(H=a.templateId)==null?void 0:H.toString()})),l(Eu(r)),l(Tg())},D=H=>{var O;H||(O=I.lastFocused)==null||O.focus()},[F,z]=BBe(o,e),j=(H,O)=>{var N,W;if(!T||(T.focus(),!(T instanceof XO)))return;const U=w.find(B=>B.id===T.id);if(U){if(!O){U.pasteSnippet(H.script);return}U.execSnippet(H.script),l(Va({isExecutedInSplitView:"yes",isExecutedInMultipleTabs:"no",snippetSource:"Snippets Panel",isSharedEntity:Wt(H.is_shared),snippetPackageID:Is(H),aianalyticsID:H.aianalyticsID,snippetID:`${H.id||-1}`,predefinedSnippetPackageID:(N=H.package)==null?void 0:N.analytics_id,workspaceTemplateID:(W=a.templateId)==null?void 0:W.toString(),isWorkspace:"yes"}))}};return L(U1,{id:r,className:S.splitView,children:[u("div",{className:S.splitContainer,style:{right:c,maxWidth:C},onKeyDownCapture:R,children:u("div",{className:S.terminals,children:u(ub,{children:g.mapDepthFirst({onLeaf(H){const O=o.get(H.id);return O==null?u(f.Fragment,{},H.id):L(f.Fragment,{children:[u(zze,{colorScheme:s,mediator:O,windowId:n,onScreen:e,onClose:()=>_(O),isInSearchMode:!!h&&O.id===(T==null?void 0:T.id)&&(k==null?void 0:k.id)===h,isInBroadcastMode:y,onBroadcastClick:M,withBroadcastButton:!g.single()&&!pb(a,m)}),u(LW,{tabId:r,terminalId:O.id,minSplitSize:wE,disabled:!e||(z?!1:w.length>Gze-1)})]},O.id)},onSplit(H,O){const U=H.children.findIndex(W=>W.id===F);let N=H.children.map(W=>W.size);if(U!==-1){const W=N[U]/(N.length-1);N=N.map((B,$)=>$===U?0:B+W)}return u(BW,{layout:H.layout,gap:10,sizes:N,gutterColor:s.foregroundColor,onResize:v(H.id),preferredMinSize:wE,children:H.children.map(O)},H.id)}})})})}),x&&u(NW,{connectionController:x,onClose:()=>_(x.mediator)},x.connection.id),u(cb,{onScreen:e,colorScheme:s,terminalTabId:r,width:c,onRun:j,onModalFormOpen:D,onRunInAllTerminals:i,handlePasteHistoryCommand:()=>{},hideTabs:oY,mediator:b})]})},wE=100,Gze=16,Kze=K()({splitView:{height:"100%",backgroundColor:Q.backgroundColor},splitContainer:{width:"100%",position:"absolute",top:"0",left:"0",right:"0",bottom:"0",padding:pu?"1px 10px 12px 10px":"1px 10px 10px",overflow:"hidden"},terminals:{position:"relative",height:"100%"}}),ZW=({themeColorsState:t,activeTabId:e})=>{const n=ew(t),o=ew(e),r=f.useRef(!1),i=f.useRef(null),s=t==="terminal"&&n==="connectionFlow"&&e===o;return s&&(r.current=!0),f.useEffect(()=>{i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{i.current=null,r.current=!1},300)},[s]),r.current},Zze=(t,e)=>f.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.33136 10.7385L4.5 10.7385C4.22386 10.7385 4 10.5146 4 10.2385L4 9.3C4 9.02386 4.22386 8.8 4.5 8.8L9.33136 8.8C9.34518 8.80014 9.35898 8.80056 9.37278 8.80126L9.37278 8.47692C9.37278 7.40625 10.2628 6.53846 11.3609 6.53846L14.0118 6.53846C15.11 6.53846 16 7.40625 16 8.47692L16 11.0615C16 12.1322 15.11 13 14.0118 13L11.3609 13C10.2628 13 9.37278 12.1322 9.37278 11.0615L9.37278 10.7372C9.35898 10.7379 9.34518 10.7383 9.33136 10.7385Z",fill:"currentColor"})),Qze=f.forwardRef(Zze),Yze=f.memo(Qze),Xze=140,_E=180,xE=240,o5=240,xi=5,i8=40,Jze=11,QW="min-width 150ms ease-out",AE=t=>{if(t.some(e=>e.multiplayerConnectionProcess==="connecting"))return"connecting";if(t.some(e=>e.multiplayerConnectionProcess==="error"))return"error";if(t.every(e=>e.multiplayerConnectionProcess==="succeeded"))return"succeeded"},eVe=K()((t,e,n)=>({root:{fontSize:"14px",[`&.${n.disabled}`]:{color:"currentColor"}},input:{color:"inherit",width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",height:"auto",padding:"0"},disabled:{color:"inherit","&.Mui-disabled":{WebkitTextFillColor:"currentColor"}},fullWidth:{marginRight:"180px",display:"flex"},container:{overflow:"hidden",flexGrow:1,marginLeft:5},title:{overflow:"hidden",textOverflow:"ellipsis"}})),tVe=({defaultValue:t,title:e,onChange:n,onOverflow:o,editable:r,className:i})=>{const[s,a]=f.useState(t),l=f.useRef(null),c=f.useCallback(()=>{const C=s.length!==0?s:t;a(C),n(C)},[t,n,s]),d=f.useCallback(C=>{C.key===" "&&(C.preventDefault(),C.stopPropagation(),a(`${s} `)),C.key==="Enter"&&c()},[c,s]),p=f.useCallback(C=>{a(C.target.value)},[]);f.useEffect(()=>{const{current:C}=l;r&&C&&(C.focus(),C.select())},[r]),f.useEffect(()=>{a(t)},[t]);const{classes:h}=eVe(),m=f.useRef(null),g=f.useRef(null);return Gr(g,()=>{if(g.current){const{scrollWidth:C,clientWidth:v}=g.current,S=Math.floor(C)!==v;o(S)}}),r?u(rY,{placeholder:"Tab Title",type:"text",required:!0,disabled:!r,className:i,classes:h,value:s,inputRef:l,onBlur:c,onChange:p,onKeyDown:d}):u("div",{className:ce(h.container,i),ref:m,children:u("div",{className:ce(h.input,h.fullWidth),children:u("div",{ref:g,className:h.title,children:e})})})},nVe=async(t,e)=>new Promise(n=>{if(!t||!e){n();return}if(oVe(t,e)){n();return}const o=new IntersectionObserver(r=>{r.forEach(i=>{i.isIntersecting||(o.disconnect(),n())})},{root:e,threshold:1});o.observe(t),t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}),oVe=(t,e)=>{const n=t.getBoundingClientRect(),o=e.getBoundingClientRect();return n.left>=o.left&&n.right<=o.right},rVe=(t,e)=>f.createElement("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M2.21682 11.7846C2.12123 11.6933 2.05605 11.5802 2.02129 11.4455C1.99088 11.315 1.99305 11.1868 2.02781 11.0607C2.06257 10.9302 2.12557 10.8194 2.21682 10.728L5.9384 6.99752L2.21682 3.27351C2.12557 3.1822 2.06257 3.0735 2.02781 2.94741C1.99739 2.81698 1.99739 2.68654 2.02781 2.5561C2.06257 2.42566 2.12557 2.31262 2.21682 2.21696C2.31241 2.11696 2.42539 2.05174 2.55574 2.0213C2.68609 1.99087 2.81427 1.99304 2.94028 2.02783C3.07063 2.05826 3.18361 2.11913 3.2792 2.21044L7.00078 5.94097L10.7289 2.21044C10.8679 2.07131 11.0417 2.00174 11.2503 2.00174C11.4588 2.00174 11.637 2.07348 11.7847 2.21696C11.9325 2.36044 12.0042 2.53871 11.9998 2.75176C11.9998 2.96046 11.9303 3.13438 11.7912 3.27351L8.06315 6.99752L11.7912 10.728C11.9303 10.8672 11.9998 11.0411 11.9998 11.2498C11.9998 11.4585 11.9281 11.6368 11.7847 11.7846C11.637 11.9324 11.4588 12.0042 11.2503 11.9998C11.0417 11.9998 10.8679 11.9302 10.7289 11.7911L7.00078 8.06059L3.2792 11.7911C3.18361 11.8824 3.07063 11.9433 2.94028 11.9737C2.81427 12.0085 2.68609 12.0085 2.55574 11.9737C2.42539 11.9433 2.31241 11.8802 2.21682 11.7846Z",fill:"currentColor"})),iVe=f.forwardRef(rVe),sVe=f.memo(iVe),aVe=Se.memo(t=>{const{text:e,isOpen:n,shortcutIndex:o,isTerminalTheme:r,className:i,children:s,disableInteractive:a,placement:l="bottom"}=t,{classes:c}=lVe(),{terminalColors:d}=$8(),p=V(eg),m=p&&o!=null?L("div",{className:ce(c.shortcutContainer,{[c.shortcutMargin]:!!e}),children:[p.mod.split("+").map(g=>u("div",{className:c.shortcut,children:gd(g)},g)),u("div",{className:c.shortcut,children:o})]}):null;return u(NC,{classes:{popper:ce(i,d,{[c.active]:r,[c.inactive]:!r}),tooltip:c.tooltip},open:n,onOpen:()=>{var g;return(g=t.onOpenChange)==null?void 0:g.call(t,!0)},onClose:()=>{var g;return(g=t.onOpenChange)==null?void 0:g.call(t,!1)},placement:l,enterDelay:1e3,arrow:!1,title:m||e?L("div",{className:c.tooltipContainer,children:[e&&u(Z,{title:e,variant:"body1",className:c.tooltipTitle,children:e}),m]}):null,disableInteractive:a,children:s})}),lVe=K()({tooltip:{position:"relative",background:"var(--tooltip-background)",border:"1px solid var(--tooltip-border)",borderRadius:"10px",padding:"9px",margin:"5px 0",boxShadow:"0px 15px 30px 0px rgba(0, 0, 0, 0.15)",maxWidth:440},inactive:{"--tooltip-title":"var(--main)","--tooltip-subtitle":"var(--secondary)","--tooltip-background":"var(--white)","--tooltip-border":"var(--black-a05)","--hotkey-text-color":"var(--white)","--hotkey-background-color":"var(--light-grey-1)",".termius-app-dark-theme &":{"--tooltip-title":"var(--main)","--tooltip-subtitle":"var(--secondary)","--tooltip-background":"var(--dark-grey-3)","--tooltip-border":"var(--white-a05)","--hotkey-text-color":"var(--dark-grey-1)","--hotkey-background-color":"var(--dark-grey-7)"}},active:{"--tooltip-title":Q.foregroundColor,"--tooltip-subtitle":Q.foregroundColor,"--tooltip-border":Q.foregroundColorA05,"--hotkey-text-color":Q.backgroundColor,"--hotkey-background-color":Q.foregroundColor,"--tooltip-background":Q.gradientColor},tooltipTitle:{color:"var(--tooltip-title)",lineHeight:"18px",display:"flex"},tooltipContainer:{textOverflow:"ellipsis",overflow:"hidden",display:"flex"},shortcutContainer:{margin:"auto 0 auto auto",display:"flex",gap:"3px"},shortcut:{color:"var(--hotkey-text-color)",background:"var(--hotkey-background-color)",borderRadius:3,textAlign:"center",fontFamily:"Lucida Grande, CircularXX, sans-serif",fontSize:11,fontStyle:"normal",fontWeight:500,lineHeight:"18px",padding:"0 3px",minWidth:"18px"},shortcutMargin:{margin:"auto 0 0 10px"}}),YW=({shortcutIndex:t,children:e,title:n,isEditingTitle:o,isSelected:r,onClick:i,onContextMenuOpen:s=He,onClose:a=He,tabId:l,isDetached:c,isActiveTabConnected:d,className:p,contentRef:h,isScrolling:m,animatedConnected:g,disabled:C,tooltipPlacement:v="bottom",selectedClassname:S,hasMultiplayerNotification:y})=>{const{overrideVarsClassname:b}=No(),{classes:w,cx:x}=dVe(),_=!r&&!d,I=M=>{M.preventDefault(),s(l,{anchorReference:"anchorPosition",anchorPosition:{top:M.clientY,left:M.clientX}})},{playAnimation:T,setPlayAnimation:A}=cVe({hasMultiplayerNotification:y}),k=L(th,{ref:h,disableTouchRipple:!0,className:x(w.root,b,p,{[w.selected]:r,[S??""]:r,[w.detached]:c,[w.animatedConnected]:g,[w.activeTabConnected]:d,[w.multiplayerNotification]:y&&!T}),onClick:()=>i(l),onMouseDown:M=>{M.preventDefault(),M.button===1&&a(M)},onContextMenu:I,disabled:C,onDoubleClick:M=>M.stopPropagation(),children:[u(Ee,{className:x({[w.bgBlinking]:T}),onAnimationEnd:()=>A(!1)}),e]});return!(t!=null||n)||r||o||m?k:u(aVe,{text:n,shortcutIndex:t,isTerminalTheme:!_,disableInteractive:!0,placement:v,children:k})},cVe=({hasMultiplayerNotification:t})=>{const[e,n]=f.useState(!1),o=vM(t);return f.useEffect(()=>{typeof o<"u"&&(!o&&t)&&n(!0)},[t,o]),{playAnimation:e,setPlayAnimation:n}},TE=jr`
  0%, 100% {
    background-color: ${Re.multiplayerNotificationBackgroundColor.value};
  }
  50% {
    background-color: ${kn.backgroundColor.value};
  }
`,dVe=K()((t,e,n)=>({root:{textOverflow:"ellipsis",display:"flex",height:"30px",padding:"0 10px 0 5px",alignItems:"center",textAlign:"left",backgroundColor:kn.backgroundColor.value,color:kn.textColor.value,"&:hover":{backgroundColor:kn.backgroundColorHover.value,color:kn.textColorHover.value}},selected:{[Re.closeButtonBackground.name]:Re.closeButtonBackgroundSelected.value,[Re.systemIconColor.name]:kn.textColorSelected.value,[Re.closeButtonText.name]:Re.closeButtonTextSelected.value,backgroundColor:kn.backgroundColorSelected.value,color:kn.textColorSelected.value,"&:hover":{backgroundColor:kn.backgroundColorHoverSelected.value,color:kn.textColorSelected.value},[`.${n.activeTabConnected}&`]:{"& ::selection":{background:Q.selectionColor}}},activeTabConnected:{},animatedConnected:{transition:"background-color, color",transitionDuration:Zs.duration.value,transitionDelay:Zs.delay.value,"& svg":{transition:"background-color, color",transitionDuration:Zs.duration.value,transitionDelay:Zs.delay.value}},detached:{color:kn.textColor.value,backgroundColor:kn.backgroundOverlayColor.value,zIndex:30},multiplayerNotification:{position:"relative",backgroundColor:Re.multiplayerNotificationBackgroundColor.value,color:Re.multiplayerAccentColor.value,[Re.closeButtonBackground.name]:Re.multiplayerAccentColor.value,[Re.closeButtonText.name]:Re.multiplayerAccentColor.value,"&:hover":{backgroundColor:Re.multiplayerNotificationBackgroundColor.value,color:Re.multiplayerAccentColor.value,[Re.closeButtonBackground.name]:Re.multiplayerNotificationBackgroundColor.value,[Re.closeButtonText.name]:Re.multiplayerAccentColor.value,[Re.closeButtonTextHover.name]:Re.multiplayerAccentColor.value}},bgBlinking:{pointerEvents:"none",borderRadius:"inherit",position:"absolute",zIndex:-1,width:"100%",height:"100%",backgroundColor:Re.multiplayerNotificationBackgroundColor.value,animation:`${TE} 0.2s linear 3 forwards`},animate:{animation:`${TE} 0.2s linear 3 forwards`}})),mb=Se.memo(t=>{const{tabId:e,title:n,isEditingTitle:o=!1,isSelected:r=!1,isDetached:i,disabled:s,shortcutIndex:a,className:l,IconComponent:c,EndAdornmentComponent:d,tabButtonProps:p,shouldScrollIntoView:h,tabsPanelRef:m,onTabScrolled:g}=t,{cx:C,classes:v}=uVe(),S=f.useRef(null),[y,b]=f.useState(!1),{handlers:w,themeColorsState:x,isScrolling:_,animatedConnected:I}=c1(),T=f.useCallback(A=>{A.stopPropagation(),A.preventDefault(),w.onClose(e)},[w,e]);return f.useEffect(()=>{var A;r&&((A=S.current)==null||A.scrollIntoViewIfNeeded(!0))},[r]),Hd(()=>{(async()=>{h&&(m!=null&&m.current)&&(await nVe(S.current,m.current),g==null||g())})().catch(He)},[h]),L(YW,{contentRef:S,shortcutIndex:a,isEditingTitle:o,isSelected:r,tabId:e,isDetached:i,title:y?n:null,onClick:w.onActiveTabChange,onContextMenuOpen:w.onContextMenu,onClose:T,className:C(v.root,{[v.selected]:r},l),isActiveTabConnected:x==="terminal",isScrolling:_,animatedConnected:I,disabled:s,...p,children:[u("div",{className:v.icon,children:c}),u(Cd,{className:C(v.tabActionButton,v.closeButton),component:"div",onClick:T,onMouseDown:pVe,"aria-label":"close-tab",children:u(sVe,{className:v.svg})}),u(tVe,{defaultValue:n,title:n,className:v.title,editable:o,onChange:A=>w.onTitleChange(e,A),onOverflow:b}),d]})}),uVe=K()((t,e,n)=>({root:{width:"100%",borderRadius:"10px",[`&:hover.${n.root} .${n.icon}`]:{visibility:"hidden",display:"none"},[`&:hover.${n.root} .${n.closeButton}`]:{visibility:"visible",display:"flex"},[`&.${n.selected} .${n.icon}`]:{visibility:"hidden",display:"none"},[`&.${n.selected} .${n.closeButton}`]:{visibility:"visible",display:"flex"},[`&.${n.selected} .${n.broadcast}`]:{color:Q.foregroundColor,transform:"rotate(180deg)"}},title:{width:"var(--tab-width)",marginLeft:"5px",flexGrow:1,overflow:"hidden",textOverflow:"ellipsis",color:"inherit"},selected:{},icon:{display:"flex",flex:"0 0 20px",justifyContent:"center",alignItems:"center"},svg:{fontSize:"14px",color:Q.foregroundColor},tabActionButton:{color:"inherit",cursor:"default",height:"20px",width:"20px",justifyContent:"center",alignItems:"center",borderRadius:"5px","&:hover":{backgroundColor:Re.closeButtonBackground.value,[`& .${n.svg}`]:{color:Re.closeButtonTextHover.value}},[`& .${n.svg}`]:{color:Re.closeButtonText.value}},closeButton:{visibility:"hidden",display:"none"},broadcast:{color:Q.foregroundColorA50,flex:"0 0 20px",width:"20px",height:"20px"}})),pVe=t=>t.stopPropagation(),s8=Se.memo(t=>{const e=rL({id:t.tabId,data:{kind:g3,title:t.title,terminals:t.terminals,isDraft:t.isDraft,group:t.group,customIcon:t.customIcon},animateLayoutChanges:iL,transition:{duration:Jp.short,easing:eh.sharp},strategy:t.sortingStrategy}),{attributes:n,listeners:o,setNodeRef:r,transform:i,transition:s,isOver:a,isDragging:l}=e,{classes:c}=hVe(),d=p=>{var h;p.propertyName==="min-width"&&((h=t.onPropertyTransitionFinished)==null||h.call(t,"min-width"))};return u("div",{className:ce(c.tabAnimation,t.className,{[c.deselected]:!(t!=null&&t.isSelected),[c.selected]:t==null?void 0:t.isSelected}),onTransitionEnd:d,children:u("div",{className:ce(c.draggableTab,{[c.dragging]:l,[c.underDragging]:a}),ref:r,style:{transform:sL.Transform.toString(i),transition:s},...n,...o,children:t.children})})}),hVe=K()({tabAnimation:{transition:"var(--tab-width-animation)"},deselected:{minWidth:"var(--tab-width)",maxWidth:"var(--tab-width)"},selected:{minWidth:"var(--selected-tab-width)",maxWidth:"var(--selected-tab-width)"},draggableTab:{width:"100%"},dragging:{position:"relative",zIndex:30,opacity:.5},underDragging:{pointerEvents:"none"}});function fVe({className:t,children:e}){const{classes:n,cx:o}=ef();return u(Ee,{className:o([n.container,t]),children:e})}function mVe({onClose:t,className:e}){const{classes:n,cx:o}=ef();return u(aL,{className:o([n.closeButton,e]),onClick:t})}function gVe({className:t,children:e}){const{classes:n,cx:o}=ef();return u(Z,{variant:"boldBody1",className:o([n.title,t]),children:e})}function vVe({className:t,children:e}){const{classes:n,cx:o}=ef();return u(Z,{className:o([n.description,t]),children:e})}function CVe(t){const{classes:e,cx:n}=ef();return u(Ue,{variant:"contained",...t,className:n([e.submitButton,t.className]),children:t.children})}const ef=K()({container:{position:"relative"},title:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"5px",color:Q.uiColor},description:{color:Q.uiColor},closeButton:{position:"absolute",right:"10px",top:"10px",color:Q.uiColorA20,transition:"color 0.3s","&:hover":{color:Q.uiColorA30}},submitButton:{height:"31px",borderRadius:"10px",width:"fit-content",padding:"0 10px",color:Q.uiColor,"--buttonColor":Q.uiColorA10,"--substrateColor":"transparent","&.termius-dark-theme, .termius-dark-theme &":{"--buttonColor":Q.uiColorA10},"&:hover":{"--substrateColor":Q.uiColorA20,"--substrateOpacity":1}}}),yVe=300,IE=t=>t.isNewWorkspace?"Create Workspace Template":"Update Workspace Template",SVe=f.memo(({isTabSelected:t,tabId:e})=>{const{classes:n}=XW(),o=V(m=>D1(m,e)),r=V(m=>p6e(m,e)),[i,s]=f.useState(null),a=de(),l=Se.useRef(!1),c=()=>{s(null)};if(f.useEffect(()=>{t||c()},[t,a]),f.useEffect(()=>{var m;!r||l.current||!t||(l.current=!0,a(he("tabNotificationReceived",{tabNotificationType:IE(r),isWorkspace:"yes",workspaceTemplateID:(m=o==null?void 0:o.templateId)==null?void 0:m.toString()})))},[r,a,t,o==null?void 0:o.templateId]),!t||r==null)return null;const d=m=>{var g;i||a(he("tabNotificationPressed",{tabNotificationType:IE(r),isWorkspace:"yes",workspaceTemplateID:(g=o==null?void 0:o.templateId)==null?void 0:g.toString()})),s(i?null:m.currentTarget)},p=()=>{c()},h=!!i;return L(Se.Fragment,{children:[u(Tn,{component:"div",onClick:d,className:n.saveIcon,children:u(X2,{width:14,height:14,color:"var(--terminal-theme-foreground-color)"})}),u(iY,{open:h,anchorEl:i,transition:!0,children:({TransitionProps:m})=>u(sY,{onClickAway:p,children:u(Or,{...m,timeout:yVe,children:u(Ee,{children:u(wVe,{workspaceChanges:r,onDismiss:p,onSave:c})})})})})]})}),bVe={existing:{title:"The workspace was changed",description:"Save changes to the workspace.",buttonText:"Save to template"},new:{title:"Save a workspace template?",description:"Create a template of this workspace to easily reuse it.",buttonText:"Save a template"}};function wVe({workspaceChanges:t,onDismiss:e,onSave:n}){const o=lt(c6e),{saveWorkspaceTemplateChanges:r,createNewWorkspaceTemplate:i}=T3(),s=lt(Kh),{classes:a,cx:l}=XW(),c=lt(fc),d=V(xo),p=l1({isDarkMode:d,themeColorsState:c}),h=()=>{t.isNewWorkspace?i(t.updatedTemplate,s):o&&r(t),n()},{title:m,description:g,buttonText:C}=bVe[t.isNewWorkspace?"new":"existing"];return L(fVe,{className:l([a.container,p]),children:[u(mVe,{onClose:e}),L(gVe,{children:[u(X2,{}),m]}),u(vVe,{children:g}),u(CVe,{fullWidth:!0,onClick:h,className:a.saveButton,children:C})]})}const XW=K()({container:{display:"flex",flexDirection:"column",gap:"5px",padding:"10px",background:Q.gradientColor,borderRadius:"10px",width:"280px",marginTop:"14px"},saveButton:{width:"100%"},saveIcon:{width:"22px",height:"22px",marginRight:"-6px"}}),tf=Se.memo(t=>{const{hasUnreadOutput:e=!1,terminals:n,className:o,showTerminalSpinners:r=!1,customIcon:i,isWorkspaceTab:s,children:a,sortingStrategy:l,isDraft:c,group:d,...p}=t,{tabId:h,isSelected:m=!1,isDetached:g}=p,{cx:C,classes:v}=JW(),{handlers:S,themeColorsState:y}=c1(),{draggableTabProps:b,isWorkspaceTerminal:w,shouldScrollIntoView:x,isMultiplayerNotificationDisplayed:_,connectionProcess:I,multiplayConnectionProcess:T,iconType:A,enableAnimation:k,isBroadcastIconVisible:R,ableToShowActionsOnTab:M,ableToReconnectTab:D,handleTabBeenScrolled:F,handleWidthChangeAnimationFinished:z}=_Ve(t);return u(s8,{...b,isSelected:w?!1:b.isSelected,onPropertyTransitionFinished:z,children:u(mb,{...p,shouldScrollIntoView:x,onTabScrolled:F,tabButtonProps:{tooltipPlacement:w?"right":"bottom",selectedClassname:v.selected,hasMultiplayerNotification:_},className:C(v.root,{[v.selected]:m},{[v.workspace]:w},o),IconComponent:u(H0,{isActive:y!=="vaultTab",hasUnreadOutput:e,hasMultiplayerNotification:_,showSpinner:r,isDetached:g,connectionProcess:I,multiplayConnectionProcess:T,iconType:A,enableAnimation:k,isSelected:m}),EndAdornmentComponent:L(Se.Fragment,{children:[R&&u(Yze,{className:C(v.broadcast),"aria-label":"Broadcast indicator",role:"status"}),M&&D&&u(Cd,{className:C(v.tabActionButton,v.reconnectButton),component:"div",onClick:j=>{j.stopPropagation(),S.onRetry(h)},onMouseDown:xVe,children:u(HF,{className:v.svg,width:"20px"})}),s&&u(SVe,{isTabSelected:m,tabId:h}),!D&&a]})})})}),_Ve=t=>{const{isEditingTitle:e,isBroadcastOn:n,customIcon:o,terminals:r,isDetached:i,hasMultiplayerNotification:s=!1,isSelected:a,sortingStrategy:l,group:c,isDraft:d,terminalTabPlace:p="horizontal",tabId:h,title:m}=t,{cx:g,classes:C}=JW(),[v,S]=f.useState(!1),[y,b]=f.useState(!1),w=o??z9(hc(r)),x=AVe(r),I=!e&&!i,T=p==="workspace",A=AE(r)??aY(r),k=AE(r),R=V(B=>lY(B,h)),M=A==="error",F=n&&A==="succeeded",z=vM(s),[j,H]=f.useState(!1);return Hd(()=>{a||S(!1)},[a]),f.useEffect(()=>{!R&&s&&y&&H(!0)},[R,s,z,y]),{draggableTabProps:{tabId:h,title:m,isSelected:!!a,terminals:r,sortingStrategy:l,group:c,className:g({[C.multiplayerNotification]:s}),isDraft:d},isWorkspaceTerminal:T,shouldScrollIntoView:j,isMultiplayerNotificationDisplayed:s&&v&&!R,connectionProcess:A,multiplayConnectionProcess:k,iconType:w,enableAnimation:x,isBroadcastIconVisible:F,ableToShowActionsOnTab:I,ableToReconnectTab:M,handleTabBeenScrolled:()=>{S(!0),b(!1),H(!1)},handleWidthChangeAnimationFinished:B=>{b(!0)}}},JW=K()((t,e,n)=>({root:{width:"100%",borderRadius:"10px",[`&:hover.${n.root} .${n.icon}`]:{visibility:"hidden",display:"none"},[`&:hover.${n.root} .${n.closeButton}`]:{visibility:"visible",display:"flex"},[`&.${n.selected} .${n.icon}`]:{visibility:"hidden",display:"none"},[`&.${n.selected} .${n.closeButton}`]:{visibility:"visible",display:"flex"},[`&.${n.selected} .${n.broadcast}`]:{color:Q.foregroundColor,transform:"rotate(180deg)"}},selected:{[`&.${n.workspace}`]:{backgroundColor:"transparent"},[`&:hover.${n.workspace}`]:{backgroundColor:"transparent"}},icon:{},svg:{fontSize:"14px",color:Q.foregroundColor},tabActionButton:{color:"inherit",cursor:"default",height:"20px",width:"20px",justifyContent:"center",alignItems:"center",borderRadius:"5px","&:hover":{backgroundColor:Re.closeButtonBackground.value,[`& .${n.svg}`]:{color:Re.closeButtonTextHover.value}},[`& .${n.svg}`]:{color:Re.closeButtonText.value}},closeButton:{visibility:"hidden",display:"none"},reconnectButton:{marginLeft:5},workspace:{},broadcast:{color:Q.foregroundColorA50,flex:"0 0 20px",width:"20px",height:"20px"},multiplayerNotification:{"&&":{minWidth:xE,maxWidth:xE}}})),xVe=t=>t.stopPropagation(),AVe=t=>{const e=hc(t);return(e==null?void 0:e.protocol)!=="local"&&(e==null?void 0:e.protocol)!=="session-log"},ej=t=>{const{menuItems:e}=t,n=FC(),r=lt(fc)==="terminal";return u(Ss,{disableBackdrop:!0,transitionDuration:{enter:0,exit:0},className:r?n:"",disablePortal:!1,...t,children:e.map(i=>u(Qn,{...i,className:r?n:"",children:i.name},cY(i)))})};var gb={},TVe=Cr;Object.defineProperty(gb,"__esModule",{value:!0});var tj=gb.default=void 0,IVe=TVe(vr()),EVe=yr,kVe=(0,IVe.default)((0,EVe.jsx)("path",{d:"M3 19h18v-6H3v6zm0-8h18V9H3v2zm0-6v2h18V5H3z"}),"HorizontalSplit");tj=gb.default=kVe;var vb={},RVe=Cr;Object.defineProperty(vb,"__esModule",{value:!0});var a8=vb.default=void 0,PVe=RVe(vr()),LVe=yr,MVe=(0,PVe.default)((0,LVe.jsx)("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Sync");a8=vb.default=MVe;const OVe=t=>{const{isWorkspaceTerminal:e,workspaceTerminal:n,horizontalTabTerminals:o,horizontalTab:r,terminalIsConnected:i,isSessionLogs:s,isMultiplayer:a,singleTerminal:l,isUserUnauthorized:c,isMultiplayerAllowedInApp:d}=t,p=e?(n==null?void 0:n.connectionProcess)==="error":o.some(C=>C.connectionProcess==="error"),h=e||!!l,m=i&&!s&&!a&&!e&&(d||c),g=!e&&i&&!(r!=null&&r.showSplitViewHint)&&!(l!=null&&l.isMultiplayer);return{showReconnectMenuItem:p,showDuplicateMenuItem:h,showSharingMenuItem:m,showSplitMenuItem:g}},DVe=t=>{const{isWorkspaceTerminal:e,closeMenu:n,selectedTabId:o,isSingleTerminalStreamer:r,singleConnectionId:i="",singleTerminalId:s="",activeTerminalTabId:a,horizontalTabId:l}=t,c=de(),{removeTab:d,renameTab:p,renameTerminal:h,openTab:m,openTerminal:g,duplicateTab:C}=S6e(),S=Wu().get(s),y=S==null?void 0:S.mediator,{startMultiplayer:b}=zW({mediator:y,connection:S==null?void 0:S.connection}),w=V(Ag),x=Pc("terminalSharing"),_=z=>{if(e){c(Ua(z));return}d(z)},I=z=>{if(e){h(z);return}p(z)},T=async z=>{try{if(!await x({from:"LiveTerminal"}))return}catch{return}if(i){try{await A()}catch{}if(e){g(z);return}m(z)}},A=async()=>{if(!r){await b("Tab Context Menu");return}const z=w.find(j=>j.terminalConnectionId===i);z&&c(Dl({sessionId:z.sessionId}))},k=(z,j)=>{const H=j==null?void 0:j.openInNewWindow;if(e){C({tabId:a,workspaceTerminalId:z,newWindow:H});return}C({tabId:z,newWindow:H})},R=()=>{if(o){if(e){c(Es({terminalId:o,connectionOrigin:"Reconnect Context"}));return}c(K2({tabId:o,connectionOrigin:"Reconnect Context"}))}},M=()=>{l&&(m(l),c(dY(l)),he("splitViewButtonPressed"))},D=new Map([["remove",_],["rename",I],["share",T],["duplicate",k],["reconnect",R],["split",M]]);return z=>{var O;if(n(),!o)return;const{actionName:j,actionProps:H}=z;(O=D.get(j))==null||O(o,H)}},FVe=({selectedTab:t,tabVariant:e,closeMenu:n})=>{const{connectionMap:o}=ju(),r=e==="workspaceVerticalTab",i=lt(Zh),s=lt(Da),a=V(sc),l=V(uY),{horizontalTab:c,selectedTabId:d}=t,p=V(k=>c?$C(k,c):[]),h=ha(c)?c:void 0,m=d?i[d]:void 0,g=r?m==null?void 0:m.id:h==null?void 0:h.terminalId,C=g?o.get(g):void 0,v=g?i[g]:void 0,S=(v==null?void 0:v.connectionProcess)==="succeeded",y=(C==null?void 0:C.protocol)==="session-log",b=(C==null?void 0:C.protocol)==="stream",{showDuplicateMenuItem:w,showReconnectMenuItem:x,showSharingMenuItem:_,showSplitMenuItem:I}=OVe({isWorkspaceTerminal:r,workspaceTerminal:m,horizontalTabTerminals:p,horizontalTab:h,terminalIsConnected:S,isSessionLogs:y,isMultiplayer:b,singleTerminal:v,isUserUnauthorized:a,isMultiplayerAllowedInApp:l}),T=DVe({isWorkspaceTerminal:r,closeMenu:n,selectedTabId:d,isSingleTerminalStreamer:v==null?void 0:v.isMultiplayer,singleTerminalId:v==null?void 0:v.id,singleConnectionId:C==null?void 0:C.id,activeTerminalTabId:s==null?void 0:s.id,horizontalTabId:c==null?void 0:c.id,isUserUnauthorized:a}),A={name:"Close",onClick:()=>{T({actionName:"remove"})},icon:u(e5,{})};return b?[A]:[...Mn(x,[{name:"Reconnect",onClick:()=>{T({actionName:"reconnect"})},icon:u(kr,{})}]),...Mn(w,[{name:"Duplicate",onClick:()=>{T({actionName:"duplicate",actionProps:{openInNewWindow:!1}})},icon:u(a8,{})}]),...Mn(!!v,[{name:"Duplicate in a new window",onClick:()=>{T({actionName:"duplicate",actionProps:{openInNewWindow:!0}})},icon:u(a8,{})}]),...Mn(_,[{name:v!=null&&v.isMultiplayer?lL:"Start multiplayer",onClick:()=>{T({actionName:"share"})},icon:u(yge,{})}]),{name:"Rename",onClick:()=>{T({actionName:"rename"})},icon:u(Cl,{})},...Mn(I,[{name:"Split horizontally",onClick:()=>{T({actionName:"split"})},icon:u(tj,{})}]),A]},EE={horizontalTab:void 0,selectedTabId:void 0},nj=t=>{const{tabVariant:e}=t,n=de(),o=lt(Fa),r=lt(Mi),[i,s]=f.useState(),[a,l]=f.useState(EE),{horizontalTab:c}=a,d=()=>{s(void 0),l(EE)},p=FVe({tabVariant:e,selectedTab:a,closeMenu:d}),h=y=>e==="workspaceVerticalTab"?t.workspace:Xn(y)?r[y.workspaceId]:void 0,m=(y,b)=>{const w=oR(o,y);l({horizontalTab:w,selectedTabId:y});const x=h(w);n(pY({...qC(x)})),s({...b,open:!0})};Vm(on.onShortcutEvent,d);const C=[{name:"Close",onClick:()=>{d(),c&&n(Fl(c.id))},icon:u(e5,{})}],v={closeMenu:d,onOpenMenu:m,contextMenuProps:i};return cL(c)||e==="workspaceVerticalTab"?{...v,menuItems:p}:{...v,menuItems:C}},NVe=(t,e)=>f.createElement("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M0.666667 0C0.266927 0 0 0.311415 0 0.777778V3.11111C0 3.57747 0.266927 3.88889 0.666667 3.88889H3.33333C3.73307 3.88889 4 3.57747 4 3.11111V0.777778C4 0.311415 3.73307 0 3.33333 0H0.666667ZM5.66667 0C5.26693 0 5 0.311415 5 0.777778V3.11111C5 3.57747 5.26693 3.88889 5.66667 3.88889H8.33333C8.73307 3.88889 9 3.57747 9 3.11111V0.777778C9 0.311415 8.73307 0 8.33333 0H5.66667ZM10.6667 0C10.2669 0 10 0.311415 10 0.777778V3.11111C10 3.57747 10.2669 3.88889 10.6667 3.88889H13.3333C13.7331 3.88889 14 3.57747 14 3.11111V0.777778C14 0.311415 13.7331 0 13.3333 0H10.6667ZM0.666667 5.05556C0.266927 5.05556 0 5.36697 0 5.83333V8.16667C0 8.63303 0.266927 8.94444 0.666667 8.94444H3.33333C3.73307 8.94444 4 8.63303 4 8.16667V5.83333C4 5.36697 3.73307 5.05556 3.33333 5.05556H0.666667ZM5.66667 5.05556C5.26693 5.05556 5 5.36697 5 5.83333V8.16667C5 8.63303 5.26693 8.94444 5.66667 8.94444H8.33333C8.73307 8.94444 9 8.63303 9 8.16667V5.83333C9 5.36697 8.73307 5.05556 8.33333 5.05556H5.66667ZM10.6667 5.05556C10.2669 5.05556 10 5.36697 10 5.83333V8.16667C10 8.63303 10.2669 8.94444 10.6667 8.94444H13.3333C13.7331 8.94444 14 8.63303 14 8.16667V5.83333C14 5.36697 13.7331 5.05556 13.3333 5.05556H10.6667ZM0.666667 10.1111C0.266927 10.1111 0 10.4225 0 10.8889V13.2222C0 13.6886 0.266927 14 0.666667 14H3.33333C3.73307 14 4 13.6886 4 13.2222V10.8889C4 10.4225 3.73307 10.1111 3.33333 10.1111H0.666667ZM5.66667 10.1111C5.26693 10.1111 5 10.4225 5 10.8889V13.2222C5 13.6886 5.26693 14 5.66667 14H8.33333C8.73307 14 9 13.6886 9 13.2222V10.8889C9 10.4225 8.73307 10.1111 8.33333 10.1111H5.66667ZM10.6667 10.1111C10.2669 10.1111 10 10.4225 10 10.8889V13.2222C10 13.6886 10.2669 14 10.6667 14H13.3333C13.7331 14 14 13.6886 14 13.2222V10.8889C14 10.4225 13.7331 10.1111 13.3333 10.1111H10.6667Z",fill:"currentColor"})),HVe=f.forwardRef(NVe),BVe=f.memo(HVe),zVe=new Map([["splitView",u(BVe,{})]]),VVe=t=>{const{icon:e,title:n,handler:o,buttonIsActive:r,classNames:i}=t,{cx:s}=o1();return u(fb,{title:n,placement:"right",children:u(Tn,{onClick:o,className:s(i.button,{[i.activeButton]:r}),disableHover:!0,"aria-label":n,children:zVe.get(e)})},e)},WVe=t=>{const{controls:e}=t,{classes:n}=jVe(),o=s=>s.icon==="broadcast",i=Array.from(e).map(s=>o(s)?u(qW,{classNames:{broadcastButton:n.button,broadcastButtonActive:s.buttonIsActive?n.activeButton:""},onBroadcastClick:s.handler,workspaceControl:!0},s.icon):f.createElement(VVe,{...s,key:s.icon,classNames:{activeButton:n.activeButton,button:n.button}}));return u(re,{direction:"row",justifyContent:"flex-end",alignItems:"center",gap:"10px",className:n.root,children:i})},jVe=K()((t,e)=>({root:{"@media (max-width: 900px)":{justifyContent:"flex-start"}},button:{padding:0,width:"30px",height:"30px",borderRadius:"10px","& svg":{width:"14px",height:"14px"},"--buttonColor":"inherit",color:Q.uiColor,"&:hover":{color:Q.foregroundColor,backgroundColor:Q.foregroundColorA10,transitionDelay:"0s"},".termius-dark-theme &":{"--buttonColor":"inherit"},"@media (max-width: 900px)":{width:"20px",height:"20px",borderRadius:"5px","& svg":{width:"12px",height:"12px"}}},activeButton:{color:Q.foregroundColor,backgroundColor:Q.foregroundColorA10}})),UVe=t=>{const{connectionsCount:e,controlItems:n}=t,{classes:o}=$Ve();return L(re,{direction:"row",alignItems:"center",justifyContent:"space-between",gap:"10px",padding:"0 5px",children:[L(Z,{variant:"mediumBody1",className:o.connectionsTitle,children:["Terminals ",u("span",{className:o.dot,children:"â€¢"})," ",u("span",{className:o.connectionsCount,children:e})]}),u(WVe,{controls:n})]})},$Ve=K()({connectionsTitle:{color:Q.uiColor,"@media (max-width: 900px)":{display:"none"},display:"flex",alignItems:"center",gap:"4px"},dot:{fontSize:"8px",opacity:.5,marginTop:"1px"},connectionsCount:{opacity:.5}}),qVe=t=>{const{terminalTabId:e,activeTerminalId:n,terminals:o}=t,r=de(),i=o.length,s=V(b=>Rg(b,e)),a=i1(!0),{mediatorPool:l}=ju(),d=Wu().get(n),p=()=>{r(kg({workspaceId:a.id,viewMode:"splitView"}))},h=()=>{var b;d==null||d.mediator.terminalApi.focus(),r(he("broadcastInputToggled",{broadcastEnabled:s?"yes":"no",broadcastActivatedBy:"Button",broadcastButtonLocation:"Workspace Focus View",workspaceTemplateID:(b=a==null?void 0:a.templateId)==null?void 0:b.toString()})),r(Eu(e)),r(Tg())},m=i===1,g=i<=dL,C=!m&&!pb(a,l),v={title:"Split view",icon:"splitView",handler:p},S={title:"Broadcast input",icon:"broadcast",handler:h,buttonIsActive:s};return new Set([...Mn(g,[v]),...Mn(C,[S])])},GVe=t=>{const{terminal:e,className:n,hasMultiplayerNotification:o=!1,activeTerminalId:r,tabsPanelRef:i}=t,{classes:s,cx:a}=KVe(),l=$W(e),{id:c,title:d,isEditingTitle:p,hasUnreadOutput:h}=e,m=r===c,g=V(uL),C=$1(),v=V(S=>Rg(S,C));return u(tf,{className:a(s.root,n),tabId:c,title:d,isEditingTitle:p,hasUnreadOutput:!!h,hasMultiplayerNotification:o,isSelected:m,terminals:l,terminalTabPlace:"workspace",showTerminalSpinners:g,isBroadcastOn:v,tabsPanelRef:i,group:Jn.workspace,sortingStrategy:av})},KVe=K()({root:{width:"100%",backgroundColor:"inherit",flexShrink:0}}),ZVe=t=>{var O,U;const{activeTerminalId:e,isDarkMode:n,terminals:o,className:r,onTerminalClick:i,onTerminalClose:s,onTerminalRename:a,onTerminalReconnect:l}=t,{classes:c,cx:d}=QVe(),p=i1(!0),h=$1(),m=qVe({terminalTabId:h,activeTerminalId:e,terminals:o}),g=V(N=>hY(N,e)),C=r1({colorScheme:g,scrollbarOutsideOfBorderBox:!0}),{ref:v,className:S}=C,{menuItems:y,closeMenu:b,onOpenMenu:w,contextMenuProps:x}=nj({tabVariant:"workspaceVerticalTab",workspace:p}),_=lt(fc),I=l1({isDarkMode:n,themeColorsState:_}),T=ZW({themeColorsState:_,activeTabId:e}),A=f.useRef(null),k=V(N=>fY(N,o)),R={handlers:{onRetry:l,onTitleChange:a,onContextMenu:w,onClose:s,onActiveTabChange:i},themeColorsState:_,isScrolling:!1,animatedConnected:T,multiplayerConnections:k},{setNodeRef:M}=PC({id:BN}),[D,F]=f.useState();_g({onDragOver(N){const W=M9(N);if(!W)return;const{activeType:B,overType:$,activeData:q,activeId:X,activeTerminal:ee}=W;B===Kn.horizontalTab&&ee&&[Zn.workspaceTab,Zn.workspaceTabsArea].includes($)&&F({id:X,title:q.title,terminals:q.terminals,windowId:ge(),tabType:"terminalTab",group:q.group})},onDragEnd(){F(void 0)},onDragCancel(){F(void 0)}});const z=f.useMemo(()=>{const N=o.map(W=>W.id);return D&&N.push(D.id),N},[o,D]),j=(U=(O=g.name).toLocaleLowerCase)==null?void 0:U.call(O),H=W1({theme:j});return u(pL,{value:R,children:u(V1,{value:H,children:L("div",{className:d(c.root,I,r),ref:A,children:[L(re,{padding:"10px",gap:"5px",height:"100%",children:[u(UVe,{connectionsCount:p.orderedTerminalIds.length,controlItems:m}),u(re,{direction:"column",ref:N=>{v.current=N,M(N)},className:S,flex:"1",children:L(hL,{items:z,strategy:av,children:[u(ub,{children:o.map(N=>u(GVe,{terminal:N,activeTerminalId:e,tabsPanelRef:A},N.id))}),D&&u(tf,{tabId:D.id,title:D.title,terminals:D.terminals,terminalTabPlace:"workspace",group:D.group,isSelected:!1,sortingStrategy:av,isDraft:!0},D.id)]})})]}),u(ej,{menuItems:y,onClose:b,...x})]})})})},QVe=K()({root:{borderRadius:10,backgroundColor:Q.uiColorA05,height:"calc(100% - 10px)",width:"100%",position:"relative"}}),YVe=t=>{const{className:e,disabled:n=!1,terminalId:o,tabId:r,id:i}=t,{classes:s}=XVe(),a=f.useRef(null),l=i1(!0),c=f.useMemo(()=>l.layout.findNodeWithBiggestSquare(),[l]),d=V(h=>nn(h,(c==null?void 0:c.id)??o)),p=Pp({position:"start",layout:(c==null?void 0:c.layout)??"",disabled:n,tabId:r,terminalId:(c==null?void 0:c.id)??o,id:i,classNames:{indicator:s.indicator,active:s.active,vertical:"",horizontal:"",start:"",end:""},droppableAreaTerminal:d});return u(PW,{containerRef:a,classNames:{root:e},slots:[p]})},XVe=K()({indicator:{pointerEvents:"none",opacity:0,backgroundColor:Q.foregroundColor,transition:"opacity 0.3s ease-in",height:"100%",width:"100%",borderRadius:10},active:{opacity:.15}}),JVe=t=>{const{terminalApi:e,mediatorId:n}=t,o=tt(),r=V(s=>a1(s,n)),i=f.useCallback(()=>{e.focus()},[e]);Ca(o,Sg,i,[i]),Ca(o,s1,i,[i]),f.useEffect(()=>{!r&&n&&i()},[n,r,i])},oj=10,rj=10,eWe=t=>{const{tabId:e,onScreen:n,onCloseRequest:o,scheme:r,onRunSnippetInActiveTerminals:i,connectionFlowController:s,workspace:a}=t,l=de(),{classes:c}=nWe(),{mediator:d,connection:p}=s,{protocol:h}=p,{terminalApi:m,id:g}=d,C=f.useRef(null),v=V(B=>a1(B,g)),S=V(B=>nn(B,m.id)),b=a.orderedTerminalIds.length<dL&&!v,w=lt(HC),x=V(BC),_=V(VC),I=lt(bc),T=V(B=>XP(B,m.id)),A=h==="session-log",k=A?!1:x,R=A?zC:_,M=s!=null&&!!v,D=(T==null?void 0:T.status)??"loading",F=(T==null?void 0:T.commands)??[],z=(S==null?void 0:S.connectionProcess)==="succeeded",j=tWe(w,I),H=()=>{S&&o(S.id)},O=(B,$)=>{l(fL({snippet:B,runImmediately:$,mediatorId:g}))},U=B=>{m.focus(),m.type($a(B.script))},N=B=>{i==null||i(B)},W=B=>{B||m.focus()};return JVe({terminalApi:m,mediatorId:g}),L(U1,{id:g,className:c.root,style:{backgroundColor:r.backgroundColor},children:[M&&u(NW,{connectionController:s,onClose:H,isTabActive:n},s.connection.id),L("div",{style:{right:j},className:c.terminalContainer,ref:C,children:[u(db,{className:c.terminalViewLayout,terminalApi:m,colorScheme:r,backspace:p.host.backspace,onScreen:n,bellSound:k,scrollback:R,terminalIsActive:z}),u(MW,{tabId:e,onScreen:n}),b&&u(YVe,{className:c.splitOverlayLayout,tabId:e,terminalId:g,disabled:!n,id:"workspace-split-terminal-area"}),u(kW,{mediator:d}),u(ab,{mediator:d,colorScheme:r,protocol:h??void 0,origin:"Workspace View"},g)]}),u(Se.Fragment,{children:u(cb,{colorScheme:r,connection:p,terminalTabId:e,onScreen:n,width:w,onRun:O,handlePasteHistoryCommand:U,onRunInAllTerminals:N,history:F,historyStatus:D,onModalFormOpen:W,mediator:d})})]})},tWe=(t,e)=>e?t+oj+rj:0,nWe=K()({root:{height:"100%",zIndex:1,position:"relative"},terminalContainer:{"--container-padding-top":"0px","--container-padding-bottom":"10px","--container-padding-left":oj,"--container-padding-right":rj,"--container-gap":"10px",height:"100%",padding:"var(--container-padding-top) 0 var(--container-padding-bottom) 0",position:"absolute",top:0,left:0,overflow:"hidden"},terminalViewLayout:{padding:"10px"},splitOverlayLayout:{paddingLeft:"var(--container-padding-left)",paddingRight:"var(--container-padding-right)"}}),oWe=t=>{const{onScreen:e,tabId:n,isDarkMode:o,onRunSnippetInActiveTerminals:r,workspace:i}=t,{classes:s}=rWe(),a=de(),l=V(S=>kN(S,i.id)),c=lt(Jo),p=Wu().get((c==null?void 0:c.id)??""),h=e&&p!=null&&c!=null;HW({workspace:i,tabId:n});const m=S=>{a(oo(S))},g=(S,y)=>{a(Yo({id:S,changes:{title:y,isEditingTitle:!1}}))},C=S=>{a(Es({terminalId:S,connectionOrigin:"Reconnect Button"}))},v=Yn(S=>{a(Ua(S))});return L(U1,{id:n,className:s.root,children:[u(ZVe,{activeTerminalId:(c==null?void 0:c.id)??"",isDarkMode:o,terminals:l,className:s.terminalsList,onScreen:e,onTerminalClick:m,onTerminalRename:g,onTerminalReconnect:C,onTerminalClose:v}),u("div",{className:s.terminal,children:h&&u(eWe,{tabId:n,onScreen:e,scheme:c.colorScheme,onCloseRequest:v,onRunSnippetInActiveTerminals:r,connectionFlowController:p,workspace:i})})]})},rWe=K()({root:{display:"flex",gap:10,alignItems:"flex-start",justifyContent:"space-between",height:"100%",backgroundColor:Q.backgroundColor,paddingLeft:10,overflow:"hidden"},terminalsList:{width:300,zIndex:1300,flexShrink:0,"@media (max-width: 900px)":{width:120}},terminal:{position:"relative",width:"100%",height:"100%"}});function iWe({workspaceTab:t,terminals:e}){var C;const{mediatorPool:n}=ju(),o=lt(Mi),r=V(ka),i=V(xo),s=V(v=>Rg(v,t.id)),a=de(),l=v=>{a(Pg(v))},c=o[t.workspaceId],d=f.useMemo(()=>({workspace:c}),[c]);if(f.useEffect(()=>{(c==null?void 0:c.orderedTerminalIds.length)===1&&s&&a(Eu(t.id))},[c,s,t,a]),!c)return null;const p=sWe(c,n),h=c.layout.getFirstLeafId(),m=(C=e[h])==null?void 0:C.colorScheme,g={tabId:t.id,onScreen:t.id===r,mediators:p,isDarkMode:i,onRunSnippetInActiveTerminals:l,workspace:c};return u(mY,{value:d,children:c.viewMode==="focusView"?u(oWe,{...g}):u(qze,{...g,colorScheme:m,windowId:ge()})})}function sWe(t,e){const n=new Map;for(const o of t.layout.leafs())n.set(o.id,e.getOrCreateInstance(o.id));return n}function aWe({terminalTab:t}){const{mediatorPool:e,connectionMap:n}=ju(),o=V(w=>Zh(w,ge())),r=V(ka),i=t.id===r,s=V(xo),a=tt(),l=de(),c=SBe(e),d=(w,x)=>{n.set(w,x)},p=w=>{l(Pg(w))},h=w=>{l(Fl(w))},m=ha(t)?t.terminalId:void 0,g=m?o[m]:void 0,C=g?!g.hasUnreadOutput:!1,v=f.useCallback(w=>{i||!C||l(Yo({id:w,changes:{hasUnreadOutput:!0}}))},[i,l,C]);if(!c)return u(lWe,{singleTerminalNodeId:m,terminals:o,isDarkMode:s});if(Xn(t))return u(iWe,{workspaceTab:t,terminals:o});if(!m)return null;const y=n.get(m);if(y==null||g==null)return null;const b=e.getOrCreateInstance(m,{disableClipboard:y.protocol==="session-log"||y.protocol==="stream"});return u(yBe,{tabId:t.id,mediator:b,windowId:ge(),connection:y,onConnectionUpdate:d,onScreen:i,onOutput:v,scheme:g.colorScheme,sagas:a,onCloseRequest:h,onRunSnippetInActiveTerminals:p})}const lWe=t=>{const{singleTerminalNodeId:e,terminals:n,isDarkMode:o}=t,r=e?n[e].colorScheme:Wm.getAutoScheme(o);return u("div",{style:{width:"100%",height:"100%",backgroundColor:r.backgroundColor}})};function cWe({tabType:t}){return Ao(()=>{Cs.exception("Cannot display a TabScreen, unknown tab type",t)}),null}function dWe({tab:t,enterHosts:e,openWorkspaceTemplate:n}){switch(t.tabType){case"terminalTab":case"workspaceTab":return u(aWe,{terminalTab:t});case"newTab":return u(dTe,{enterHosts:e,openWorkspaceTemplate:n,tab:t});default:return u(cWe,{tabType:t.tabType})}}function uWe(t){return t&&t.length?dP(t,P8,gY):void 0}const pWe=Oa("REDIRECT_TO"),hWe=t=>t.inAppMessages.objects,fWe=()=>{const t=de(),e=tt(),n=V(hWe);if(!n.length)return{activeInstantNotifications:[],listedNotifications:[]};const o=mWe(gWe(n,t,e)),r=W6(o.filter(a=>a.instant===!0&&!a.is_seen)),i=W6(o.filter(a=>a.instant===!0&&a.is_seen)),s=W6(o.filter(a=>!a.instant));return{activeInstantNotifications:r,listedNotifications:[...i,...s]}};function W6(t){return t.sort((e,n)=>n.created_at.getTime()-e.created_at.getTime())}function mWe(t){return t.filter(e=>e.action!==cM&&!e.dismissed)}function gWe(t,e,n){return t.map(o=>o.action===lM?{...o,actionHandler:()=>Pt(n,{dialog:"MigrateToNewCryptoSystemScreen",target:"all-windows",props:{inAppMessage:o}}).catch(He)}:o.action===Sy?{...o,actionHandler:()=>e(pWe("Support"))}:o.action===by?{...o,actionHandler:async()=>{e(he("upgradeButtonPressed",{highlighted:"no",upgradeButtonLocation:"Trial Expiring Soon Notification",businessFunnelID:void 0})),e(he("choosePlanScreenOpened",{choosePlanSource:"Upgrade Account"})),await rM({sagas:n,proPurchaseOnly:!1,isTriggeredByUser:!0})}}:o.action===dM?{...o,actionHandler:()=>e(mL.request([o.id]))}:o)}const vWe=(t,e)=>f.createElement("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.970351 9.55312C0.712348 9.86641 0.583347 10.2031 0.583347 10.5631C0.583347 10.8577 0.684705 11.0962 0.887421 11.2786C1.09014 11.4609 1.36887 11.5521 1.72362 11.5521H4.37736C4.39579 11.9776 4.51558 12.3751 4.73672 12.7445C4.96247 13.1186 5.26885 13.4202 5.65586 13.6493C6.04286 13.8831 6.49206 14 7.00346 14C7.51485 14 7.96175 13.8831 8.34415 13.6493C8.73115 13.4202 9.03522 13.1186 9.25637 12.7445C9.48212 12.3751 9.60421 11.9776 9.62264 11.5521H12.2833C12.638 11.5521 12.9145 11.4609 13.1126 11.2786C13.3153 11.0962 13.4167 10.8577 13.4167 10.5631C13.4167 10.2031 13.2877 9.86641 13.0296 9.55312C12.7716 9.23982 12.4929 8.94056 12.1934 8.65532C12.0368 8.50101 11.9147 8.30462 11.8272 8.06615C11.7396 7.82767 11.6728 7.5588 11.6268 7.25953C11.5807 6.96027 11.5438 6.64464 11.5162 6.31264C11.502 5.99654 11.4767 5.6937 11.4405 5.40412C11.0443 5.64735 10.5855 5.79858 10.0939 5.82805C10.113 6.04169 10.1264 6.26868 10.134 6.50904C10.1479 6.81765 10.1732 7.11224 10.2101 7.3928C10.2515 7.66868 10.2999 7.92587 10.3552 8.16434C10.4151 8.39814 10.4842 8.60856 10.5625 8.7956C10.6454 8.98264 10.7422 9.14163 10.8528 9.27256C10.9541 9.39413 11.0601 9.51337 11.1707 9.63027L11.4747 9.93889C11.5669 10.0277 11.6452 10.1049 11.7097 10.1704V10.2405H2.26958V10.1704C2.33868 10.1049 2.41931 10.0277 2.51145 9.93889C2.6082 9.84537 2.71187 9.7425 2.82244 9.63027C2.93762 9.51337 3.04589 9.39413 3.14724 9.27256C3.26242 9.14163 3.35917 8.98264 3.4375 8.7956C3.52043 8.60856 3.58953 8.39814 3.64482 8.16434C3.70471 7.92587 3.75309 7.66868 3.78995 7.3928C3.8268 7.11224 3.85214 6.81765 3.86596 6.50904C3.89361 5.64397 3.99497 4.95192 4.17004 4.43289C4.34511 3.91385 4.57086 3.52574 4.84729 3.26856C5.12373 3.0067 5.43471 2.82902 5.78025 2.7355C5.85857 2.71679 5.91846 2.6864 5.95993 2.64431C6.006 2.59755 6.03364 2.52741 6.04286 2.43389C6.06129 2.09722 6.15573 1.82835 6.3262 1.62728C6.49667 1.42621 6.72242 1.32568 7.00346 1.32568C7.15794 1.32568 7.29502 1.35606 7.4147 1.41681C7.63858 1.04415 7.94336 0.725636 8.30474 0.485545C8.28819 0.470824 8.27138 0.456279 8.25431 0.441913C7.90877 0.147325 7.49182 3.05176e-05 7.00346 3.05176e-05C6.51509 3.05176e-05 6.09584 0.147325 5.7457 0.441913C5.40016 0.736502 5.16058 1.10591 5.02697 1.55013C4.4649 1.76055 4.00188 2.08319 3.63791 2.51806C3.27394 2.94825 2.99981 3.48366 2.81553 4.12427C2.63124 4.76488 2.52297 5.49434 2.49072 6.31264C2.45847 6.64464 2.41931 6.96027 2.37324 7.25953C2.33177 7.5588 2.26727 7.82767 2.17974 8.06615C2.0922 8.30462 1.97011 8.50101 1.81346 8.65532C1.514 8.94056 1.23296 9.23982 0.970351 9.55312ZM6.09814 12.513C5.86318 12.2746 5.73418 11.9542 5.71114 11.5521H8.29577C8.27273 11.9542 8.14143 12.2746 7.90186 12.513C7.66689 12.7562 7.36742 12.8778 7.00346 12.8778C6.63949 12.8778 6.33772 12.7562 6.09814 12.513Z",fill:"currentColor"})),CWe=f.forwardRef(vWe),yWe=f.memo(CWe),SWe=({isActive:t=!1})=>{const{classes:e,cx:n}=bWe();return u("div",{className:n(e.bell,{[e.active]:t}),children:t?u(yWe,{className:e.bellIcon}):u(L0e,{className:e.bellIcon})})},bWe=K()({bell:{position:"relative",paddingTop:"4px","&::before":{content:'""',position:"absolute",top:"5px",right:"2px",width:"4px",height:"4px",borderRadius:"50%",backgroundColor:qf.info.value,opacity:0}},active:{"&::before":{opacity:1,transition:"opacity 0.25s ease-out"}},bellIcon:{fill:"transparent",color:Re.tabButtonIcon.value}}),wWe=({isTerminalTheme:t=!1})=>{const{classes:e,cx:n}=_We();return u(Or,{in:!0,children:L(re,{alignItems:"center",justifyContent:"center",gap:"15px",className:e.emptyListRoot,children:[u(vY,{icon:u(VW,{}),className:e.icon,terminalClassName:n({[e.iconWithTerminalColors]:t})}),u(Z,{variant:"mediumBody1",children:"No notifications"})]})})},_We=K()({emptyListRoot:{height:"124px",paddingLeft:"10px",color:"var(--bell-notification-title-color)"},icon:{width:"50px",height:"50px",color:"inherit"},iconWithTerminalColors:{outline:"1px solid var(--bell-notification-icon-border-color))",background:"linear-gradient(135deg, var(--bell-notification-icon-background-color) -2.86%, var(--bell-notification-icon-border-color) 99.14%)",".termius-dark-theme &":{outline:"1px solid var(--bell-notification-icon-border-color))",background:"linear-gradient(135deg, var(--bell-notification-icon-background-color) -2.86%, var(--bell-notification-icon-border-color) 99.14%)"}}}),xWe=(t,e)=>f.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none",ref:e,...t},f.createElement("path",{d:"M20 10C20 15.5121 15.5205 20 9.99916 20C4.4875 20 0 15.5121 0 10C0 4.47994 4.4875 0 9.99916 0C15.5205 0 20 4.47994 20 10ZM8.40039 8.24213C7.94678 8.24213 7.59423 8.59297 7.59423 9.02376C7.59423 9.4871 7.94678 9.81508 8.40039 9.81508H9.41642V14.0027H8.22537C7.76732 14.0027 7.41302 14.3535 7.41302 14.7826C7.41302 15.2477 7.76732 15.5756 8.22537 15.5756H12.3005C12.7603 15.5756 13.1128 15.2477 13.1128 14.7826C13.1128 14.3535 12.7603 14.0027 12.3005 14.0027H11.1862V9.25321C11.1862 8.6466 10.8872 8.24213 10.3114 8.24213H8.40039ZM8.55818 5.30242C8.55818 6.07129 9.17557 6.69047 9.9382 6.69047C10.7008 6.69047 11.3102 6.07129 11.3102 5.30242C11.3102 4.52311 10.7008 3.91089 9.9382 3.91089C9.17557 3.91089 8.55818 4.52311 8.55818 5.30242Z",fill:"currentColor"})),AWe=f.forwardRef(xWe),TWe=f.memo(AWe),IWe=(t,e)=>f.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none",ref:e,...t},f.createElement("path",{d:"M11.0685 0.166919C12.1671 0.528947 15.9375 1.83613 17.0629 2.28711C18.0677 2.69811 18.5261 3.11611 18.5261 4.27875V11.7162C18.5261 15.3027 16.5933 16.8514 10.7209 19.8011C10.4609 19.9311 10.1936 20 10.0131 20C9.83431 20 9.57356 19.9393 9.30524 19.8011C3.52054 16.7084 1.5 15.3027 1.5 11.7162V4.27875C1.5 3.11611 1.9686 2.68812 2.96502 2.28711C4.0904 1.84432 7.85906 0.512555 8.96599 0.166919C9.2952 0.0707655 9.67257 0 10.0131 0C10.3554 0 10.7328 0.0625693 11.0685 0.166919ZM8.76654 13.5973C8.76654 14.2482 9.33825 14.737 10.0252 14.737C10.7121 14.737 11.2801 14.2564 11.2801 13.5973C11.2801 12.9419 10.7205 12.4495 10.0252 12.4495C9.32984 12.4495 8.76654 12.9464 8.76654 13.5973ZM8.91864 5.33204L9.06295 10.3747C9.08243 10.9692 9.42393 11.2932 10.0252 11.2932C10.6077 11.2932 10.939 10.9773 10.9584 10.371L11.1196 5.34024C11.139 4.73133 10.6672 4.29475 10.0149 4.29475C9.35238 4.29475 8.89917 4.72134 8.91864 5.33204Z",fill:"currentColor"})),EWe=f.forwardRef(IWe),kWe=f.memo(EWe),lu=t=>{const{className:e,color:n="regular",children:o,...r}=t,{cx:i,classes:s}=RWe(),a=n==="alt"||n==="altAccent";return u(Ue,{className:i(s[n],s.button,{[s.messageButton]:a},e),...r,children:o})},RWe=K()({button:{"--substrateOpacity":"var(--bell-notification-btn-substrate-opacity)",backgroundColor:"var(--bell-button-background-color)",color:"var(--bell-button-text-color)","&:hover":{backgroundColor:"var(--bell-button-background-color-hover)",color:"var(--bell-button-text-color-hover)"}},messageButton:{textTransform:"none",fontSize:"var(--bell-notification-btn-text-size)"},regular:{"--bell-button-background-color":"var(--bell-notification-regular-btn-color)","--bell-button-background-color-hover":"var(--bell-notification-regular-btn-hover-color)","--bell-button-text-color":"var(--bell-notification-regular-btn-text-color)","--bell-button-text-color-hover":"var(--bell-notification-regular-btn-text-hover-color)"},accent:{"--bell-button-background-color":"var(--bell-notification-accent-btn-color)","--bell-button-background-color-hover":"var(--bell-notification-accent-btn-hover-color)","--bell-button-text-color":"var(--bell-notification-accent-btn-text-color)","--bell-button-text-color-hover":"var(--bell-notification-accent-btn-text-hover-color)"},alt:{"--bell-button-background-color":"var(--bell-notification-alt-btn-color)","--bell-button-background-color-hover":"var(--bell-notification-alt-btn-hover-color)","--bell-button-text-color":"var(--bell-notification-alt-btn-text-color)","--bell-button-text-color-hover":"var(--bell-notification-alt-btn-text-hover-color)"},altAccent:{"--bell-button-background-color":"var(--bell-notification-altAccent-btn-color)","--bell-button-background-color-hover":"var(--bell-notification-altAccent-btn-hover-color)","--bell-button-text-color":"var(--bell-notification-altAccent-btn-text-color)","--bell-button-text-color-hover":"var(--bell-notification-altAccent-btn-text-hover-color)"}}),PWe=t=>{switch(t){case"short":return{year:"numeric",month:"numeric",day:"numeric"};case"medium":return{year:"numeric",month:"short",day:"numeric"};case"long":return{year:"numeric",month:"long",day:"numeric"};case"withoutYear":return{month:"short",day:"numeric"};default:return{}}},LWe=t=>{switch(t){case"short":return{hour:"numeric",minute:"numeric"};case"long":return{hour:"numeric",minute:"numeric",second:"numeric"};default:return{}}},ij=t=>{const{dateFormat:e,timeFormat:n,date:o}=t,i=f.useMemo(()=>DR({...PWe(e),...LWe(n)}),[e,n]).format(new Date(o));return u(Se.Fragment,{children:i})};ij.defaultProps={dateFormat:null,timeFormat:null};const r5=t=>{const{children:e,titleIcon:n,className:o,onDismissInstantMessage:r,...i}=t,{classes:s,cx:a}=MWe(),c="instant"in i&&i.instant&&!i.is_seen;return L(re,{component:"li",gap:"5px",className:a(s.notificationItemWrapper,o),children:[L(Z,{variant:"mediumBody1",className:s.header,children:[n&&u(Ee,{className:s.titleIconWrapper,children:n}),u(Ee,{className:s.headerSideContent,children:c?u("button",{onClick:r,type:"button",className:s.closeButton,children:u(aL,{className:s.closeIcon})}):u(Z,{className:s.date,children:t.created_at&&u(ij,{dateFormat:"withoutYear",date:t.created_at})})}),i.title]}),e]})},MWe=K()({notificationItemWrapper:{color:"var(--bell-text-primary-color)",cursor:"default"},header:{color:"var(--bell-notification-title-color)"},titleIconWrapper:{display:"inline-block",marginRight:"8px",height:"21px",width:"14px","& > svg":{height:"100%",width:"100%",verticalAlign:"bottom",color:"var(--bell-notification-title-color)"}},headerSideContent:{float:"right",marginLeft:"8px"},date:{whiteSpace:"nowrap",color:"var(--bell-notification-date-color)"},closeButton:{background:"none",border:"none",padding:0,cursor:"default",display:"flex",alignItems:"center",justifyContent:"center",height:"23px"},closeIcon:{color:"var(--bell-notification-instant-close-btn-color)","&:hover":{color:"var(--bell-notification-instant-close-btn-color-hover)",transition:"color 0.2s ease-in-out"}}}),OWe=t=>{const{onClick:e,onDismiss:n,...o}=t,{classes:r}=FWe(),i=!!o.button_name;return u(r5,{...o,titleIcon:DWe(o.action),onDismissInstantMessage:n,children:L(re,{gap:"10px",children:[u(Z,{children:o.body}),i&&u(lu,{fullWidth:!0,color:"alt",onClick:e,size:"small",children:o.action===Sy?L(re,{className:r.buttonContent,direction:"row",alignContent:"center",gap:"5px",children:[o.button_name,u(aM,{className:r.externalLinkIcon})]}):o.button_name})]})})};function DWe(t){return t&&[Sy,dM,lM].includes(t)?u(kWe,{}):u(TWe,{})}const FWe=K()({buttonContent:{cursor:"pointer",display:"inline-flex",alignItems:"center"},externalLinkIcon:{width:"10px",height:"10px"}}),NWe=(t,e)=>f.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none",ref:e,...t},f.createElement("g",{clipPath:"url(#clip0_8082_556)"},f.createElement("path",{d:"M15.0691 10.506C15.4607 10.3576 15.8612 10.3539 16.2208 10.4737C16.7094 10.6436 18.4052 11.2353 18.9187 11.4454C19.5102 11.6946 19.7204 12.0588 19.7204 12.6544V15.9858C19.7203 17.754 18.6786 18.4383 16.1017 19.8927C15.8206 20.0505 15.4759 20.0202 15.2492 19.8927C12.6772 18.4316 11.6315 17.754 11.6314 15.9858V12.6544C11.6314 12.0589 11.8474 11.6962 12.4387 11.4454C12.9427 11.2353 14.6395 10.6575 15.0691 10.506ZM17.8427 12.8114C17.6071 12.8114 17.416 12.925 17.2885 13.0977L15.1079 16.1225L14.0365 14.9486C13.9275 14.8196 13.7614 14.7306 13.5433 14.7306C13.1945 14.7307 12.8857 15.0013 12.8857 15.391C12.8858 15.5543 12.9521 15.7338 13.0686 15.8704L14.6239 17.556C14.759 17.7035 14.9691 17.7758 15.1476 17.7758C15.3721 17.7757 15.5813 17.6749 15.687 17.5292L18.3655 13.844C18.455 13.7233 18.5012 13.5792 18.5012 13.4644C18.5012 13.092 18.194 12.8114 17.8427 12.8114ZM7.84833 9.74407C9.20703 9.74407 10.4231 10.0059 11.4615 10.4423C10.6772 10.9045 10.3273 11.7074 10.3273 12.6331V15.9646C10.3273 16.2247 10.3427 16.4683 10.3772 16.6961H1.70818C0.670358 16.696 0.0494863 16.2045 0.0493774 15.3882C0.0493774 13.012 3.06416 9.74413 7.84833 9.74407ZM7.85572 0C9.86379 0 11.5825 1.73047 11.5825 4.00015C11.5823 6.31398 9.86869 8.10374 7.85572 8.10374C5.83691 8.1035 4.13182 6.31373 4.13173 4.01677C4.13173 1.76073 5.84773 0.000239818 7.85572 0Z",fill:"currentColor"})),f.createElement("defs",null,f.createElement("clipPath",{id:"clip0_8082_556"},f.createElement("rect",{width:20,height:20,fill:"currentColor"})))),HWe=f.forwardRef(NWe),BWe=f.memo(HWe),zWe={enter:300,exit:300},VWe=t=>{var d,p,h;const{onClick:e,...n}=t,{classes:o}=WWe(),r=de(),i=tt(),s={user_id:((d=n.message_attributes)==null?void 0:d.user_pk)??0,email:((p=n.message_attributes)==null?void 0:p.user_email)??"",full_name:(h=n.message_attributes)==null?void 0:h.full_name,avatar:void 0,role:"Member"},a=async()=>{r(he("confirmAccessButtonPressed",{confirmAccessButtonLocation:"Pop-up Notification",teamMemberID:s.email})),e(),Pt(i,{dialog:"GrantVaultsAccess",target:ge(),options:{closeOnBackdropClick:!1},props:{firstUserId:s.user_id}}).catch(He)},{handleClick:l,status:c}=Mee({onClick:a});return u(r5,{titleIcon:u(BWe,{}),...n,children:L(re,{gap:"10px",children:[u(Lee,{component:"div",user:s,iconSize:"large",className:o.userListItem,titleClassName:o.userListItemTitle,subTitleClassName:o.userListItemSubTitle}),u(Et,{children:u(lu,{fullWidth:!0,color:"alt",onClick:l,size:"small",children:"Confirm access"})}),c==="error"&&u(Or,{in:!0,timeout:zWe,children:L(re,{direction:"row",alignItems:"center",className:o.error,children:[u(Pee,{className:o.errorIcon}),u(Z,{color:"inherit",variant:"body2",children:"Something went wrong. Try again."})]})})]})})},WWe=K()({userListItem:{minHeight:"unset",padding:"3px 0",backgroundColor:"inherit","&:hover":{backgroundColor:"inherit",".termius-dark-theme &":{backgroundColor:"inherit"}}},userListItemTitle:{fontSize:"12px",color:"var(--bell-notification-title-color)"},userListItemSubTitle:{color:"var(--bell-notification-subtitle-color)"},error:{color:"var(--bell-notification-error-color)"},errorIcon:{width:"14px",height:"14px",fill:"var(--bell-notification-error-color)",marginRight:"5px"}}),jWe=(t,e)=>f.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none",ref:e,...t},f.createElement("g",{clipPath:"url(#clip0_8082_558)"},f.createElement("path",{d:"M10 0C4.477 0 0 4.477 0 10C0 15.523 4.477 20 10 20C15.523 20 20 15.523 20 10C20 4.477 15.523 0 10 0ZM12.586 14L9.293 10.707C9.105 10.519 9 10.265 9 10V5C9 4.448 9.448 4 10 4C10.552 4 11 4.448 11 5V9.586L14 12.586C14.39 12.976 14.39 13.61 14 14C13.61 14.39 12.976 14.39 12.586 14Z",fill:"currentColor"})),f.createElement("defs",null,f.createElement("clipPath",{id:"clip0_8082_558"},f.createElement("rect",{width:20,height:20,fill:"currentColor"})))),UWe=f.forwardRef(jWe),$We=f.memo(UWe),qWe=t=>{const{onClick:e,onRemove:n,onDismiss:o,...r}=t;return u(r5,{titleIcon:u($We,{}),...r,onDismissInstantMessage:o,children:L(re,{gap:"10px",children:[u(Z,{children:r.body}),L(Et,{children:[r.is_seen&&u(lu,{fullWidth:!0,color:"alt",onClick:n,size:"small",children:"Dismiss"}),u(lu,{fullWidth:!0,color:r.is_seen?"altAccent":"alt",onClick:e,size:"small",children:"Manage plans"})]})]})})},GWe=t=>{var d;const{onDismiss:e,...n}=t,{classes:o}=KWe(),r=de(),i=tt(),s=async()=>{await We(i,CY),da.send("update-restart")},a=()=>{r(yY()),SY()},l="data"in n&&((d=n.data)==null?void 0:d.version);let c="";if(l){const p=n.body.split("{version}");p.length===2&&(c=L(Se.Fragment,{children:[p[0],u("b",{children:l}),p[1]]}))}return u(r5,{titleIcon:u(y9,{}),...n,onDismissInstantMessage:e,children:L(re,{gap:"10px",children:[u(Z,{children:c}),L(Et,{children:[u(lu,{onClick:a,fullWidth:!0,color:"alt",size:"small",children:L(re,{className:o.buttonContent,direction:"row",alignContent:"center",gap:"5px",children:["Changelog",u(aM,{className:o.externalLinkIcon})]})}),u(lu,{fullWidth:!0,onClick:s,color:"altAccent",size:"small",children:"Restart and update"})]})]})})},KWe=K()({buttonContent:{cursor:"pointer",display:"inline-flex",alignItems:"center"},externalLinkIcon:{width:"10px",height:"10px"}}),ZWe=t=>{const{className:e,onClick:n,onDismiss:o,onRemove:r,...i}=t,{action:s,id:a}=i,l=de(),c=(d,p)=>{l(he("notificationSnoozed",{bellNotificationAction:p,teamMemberID:void 0,snoozedFromScreen:void 0})),o(d)};return L(qt,{children:[u(xe,{when:s===by,children:u(qWe,{...i,onClick:()=>n(i),onDismiss:()=>c(i,"Trial Expiring Soon"),onRemove:r?()=>r(i):void 0},a)}),u(xe,{when:s===Dee,children:u(GWe,{...i,onDismiss:()=>c(i,"App Update")},a)}),u(xe,{when:i.action===Oee,children:u(VWe,{...i,onClick:()=>n(i)},a)}),u(xe,{when:s!==cM,children:u(OWe,{...i,onClick:()=>n(i),onDismiss:()=>o(i)},a)})]})},QWe=({isTerminalTheme:t=!1})=>{const{classes:e,cx:n}=YWe();return L(re,{alignItems:"center",justifyContent:"center",gap:"15px",className:n(e.notificationLoaderRoot,{[e.terminalColors]:t}),children:[u(Oo,{color:"inherit",size:20}),u(Z,{children:"Checking for notifications..."})]})},YWe=K()({notificationLoaderRoot:{height:"124px",paddingLeft:"10px",color:"var(--secondary)"},terminalColors:{color:"var(--bell-notification-body-color)"}}),kE=100,RE=f.forwardRef((t,e)=>{const{notifications:n,floatingStyles:o,onNotificationClick:r,onNotificationDismiss:i,onNotificationRemove:s,loadingState:a="idle",onOpen:l,themeColorsState:c}=t,{classes:d}=XWe(),p=!!l,h=bY({from:{opacity:0,marginTop:-n.length*kE||-kE,borderWidth:0},to:{opacity:1,marginTop:0},config:{duration:200,easing:v=>v*(2-v)},onStart:l}),m=n.length>0,g=a==="loading"&&p,C=a==="loaded"&&p&&n.length===0;return u(Ee,{ref:e,style:o,className:d.notificationBellPresenterRoot,children:u(zP.ul,{style:h,className:d.notificationsList,children:L(qt,{children:[u(xe,{when:m,children:n.map(v=>u(ZWe,{...v,onClick:()=>r(v),onDismiss:()=>i(v),onRemove:s?()=>s(v):void 0},v.id))}),u(xe,{when:g,children:u(QWe,{isTerminalTheme:c==="terminal"})}),u(xe,{when:C,children:u(wWe,{isTerminalTheme:c==="terminal"})})]})})})}),XWe=K()({notificationBellPresenterRoot:{width:"fit-content",borderRadius:"15px",background:"var(--bell-notification-background-color)",border:"1px solid var(--bell-notification-border-color)",boxShadow:"var(--bell-notification-shadow)",scrollbarGutter:"stable",overflow:"hidden","&::-webkit-scrollbar-thumb":{backgroundColor:"var(--bell-notification-divider-color)"}},notificationsList:{width:"320px",background:"var(--bell-notification-background-color)",color:"var(--bell-notification-body-color)",margin:0,padding:0,listStyle:"none","& > li":{position:"relative",padding:"15px 7px 15px 15px","&:before":{content:'""',position:"absolute",top:0,left:"15px",right:"15px",height:"1px",backgroundColor:"var(--bell-notification-divider-color)"},"&:first-of-type::before":{display:"none"}}}}),j6={light:{"--bell-notification-background-color":"var(--light-grey-7)","--bell-notification-border-color":"var(--light-grey-transparent-10)","--bell-notification-shadow":"0px 15px 30px 0px var(--black-a15)","--bell-notification-divider-color":"var(--light-grey-transparent-10)","--bell-notification-title-color":"var(--dark-grey-1)","--bell-notification-body-color":"var(--light-grey-1)","--bell-notification-date-color":"var(--light-grey-1)","--bell-notification-btn-substrate-opacity":"0.25","--bell-notification-accent-btn-color":"var(--dark-grey-6)","--bell-notification-accent-btn-hover-color":"var(--dark-grey-5)","--bell-notification-accent-btn-text-color":"var(--white)","--bell-notification-accent-btn-text-hover-color":"var(--white)","--bell-notification-accent-btn-substrate-color":"var(--white)","--bell-notification-regular-btn-color":"var(--dark-grey-6)","--bell-notification-regular-btn-hover-color":"var(--dark-grey-5)","--bell-notification-regular-btn-text-color":"var(--white)","--bell-notification-regular-btn-text-hover-color":"var(--white)","--bell-notification-regular-btn-substrate-color":"var(--white)","--bell-notification-alt-btn-color":"var(--light-grey-5)","--bell-notification-alt-btn-hover-color":"var(--light-grey-transparent-35)","--bell-notification-alt-btn-text-color":"var(--dark-grey-1)","--bell-notification-alt-btn-text-hover-color":"var(--dark-grey-1)","--bell-notification-alt-btn-substrate-color":"var(--dark-grey-1)","--bell-notification-altAccent-btn-color":"var(--dark-grey-6)","--bell-notification-altAccent-btn-hover-color":"var(--dark-grey-5)","--bell-notification-altAccent-btn-text-color":"var(--white)","--bell-notification-altAccent-btn-text-hover-color":"var(--white)","--bell-notification-altAccent-btn-substrate-color":"var(--white)","--bell-notification-instant-dismiss-btn-color":"var(--light-grey-transparent-35)","--bell-notification-instant-close-btn-color":"var(--light-grey-transparent)","--bell-notification-instant-close-btn-color-hover":"var(--light-grey-3)","--bell-notification-error-color":"var(--red)"},dark:{"--bell-notification-background-color":"var(--dark-grey-3)","--bell-notification-border-color":"var(--dark-grey-transparent-10)","--bell-notification-shadow":"0px 15px 30px 0px var(--black-a15)","--bell-notification-divider-color":"var(--dark-grey-transparent-10)","--bell-notification-title-color":"var(--white)","--bell-notification-body-color":"var(--dark-grey-7)","--bell-notification-date-color":"var(--dark-grey-7)","--bell-notification-btn-substrate-opacity":"0.25","--bell-notification-accent-btn-color":"var(--dark-grey-6)","--bell-notification-accent-btn-hover-color":"var(--dark-grey-5)","--bell-notification-accent-btn-text-color":"var(--white)","--bell-notification-accent-btn-text-hover-color":"var(--white)","--bell-notification-accent-btn-substrate-color":"var(--white)","--bell-notification-regular-btn-color":"var(--dark-grey-6)","--bell-notification-regular-btn-hover-color":"var(--dark-grey-5)","--bell-notification-regular-btn-text-color":"var(--white)","--bell-notification-regular-btn-text-hover-color":"var(--white)","--bell-notification-regular-btn-substrate-color":"var(--white)","--bell-notification-alt-btn-color":"var(--dark-grey-5)","--bell-notification-alt-btn-hover-color":"var(--dark-grey-6)","--bell-notification-alt-btn-text-color":"var(--white)","--bell-notification-alt-btn-text-hover-color":"var(--white)","--bell-notification-alt-btn-substrate-color":"var(-white)","--bell-notification-altAccent-btn-color":"var(--white)","--bell-notification-altAccent-btn-hover-color":"var(--white-a15)","--bell-notification-altAccent-btn-text-color":"var(--dark-grey-1)","--bell-notification-altAccent-btn-text-hover-color":"var(--dark-grey-1)","--bell-notification-altAccent-btn-substrate-color":"var(--white)","--bell-notification-instant-close-btn-color":"var(--dark-grey-transparent)","--bell-notification-instant-close-btn-color-hover":"var(--dark-grey-6)","--bell-notification-error-color":"var(--red)"},terminal:{"--bell-notification-background-color":Q.gradientColor,"--bell-notification-border-color":"transparent","--bell-notification-shadow":"0px 15px 30px 0px var(--black-a15)","--bell-notification-divider-color":"var(--light-grey-transparent-10)","--bell-notification-title-color":Q.uiColor,"--bell-notification-body-color":Q.uiColorA60,"--bell-notification-btn-substrate-opacity":0,"--bell-notification-icon-border-color":Q.uiColorA05,"--bell-notification-icon-background-color":Q.uiColorA20,"--bell-notification-accent-btn-color":Q.uiColor,"--bell-notification-accent-btn-hover-color":Q.uiColor,"--bell-notification-accent-btn-text-color":Q.backgroundColor,"--bell-notification-accent-btn-text-hover-color":Q.backgroundColor,"--bell-notification-accent-btn-substrate-color":Q.uiColorA10,"--bell-notification-regular-btn-color":Q.uiColor,"--bell-notification-regular-btn-hover-color":Q.uiColor,"--bell-notification-regular-btn-text-color":Q.backgroundColor,"--bell-notification-regular-btn-text-hover-color":Q.backgroundColor,"--bell-notification-regular-btn-substrate-color":Q.uiColorA10,"--bell-notification-alt-btn-color":Q.uiColorA15,"--bell-notification-alt-btn-hover-color":Q.uiColorA30,"--bell-notification-alt-btn-text-color":Q.uiColor,"--bell-notification-alt-btn-text-hover-color":Q.foregroundColor,"--bell-notification-alt-btn-substrate-color":Q.uiColorA10,"--bell-notification-altAccent-btn-color":Q.foregroundColorA15,"--bell-notification-altAccent-btn-hover-color":Q.foregroundColorA30,"--bell-notification-altAccent-btn-text-color":Q.foregroundColor,"--bell-notification-altAccent-btn-text-hover-color":Q.foregroundColor,"--bell-notification-altAccent-btn-substrate-color":Q.uiColorA10,"--bell-notification-instant-close-btn-color":Q.uiColorA25,"--bell-notification-instant-close-btn-color-hover":Q.uiColorA50,"--bell-notification-error-color":Q.paletteColorRed}};function JWe(t){const{themeColorsState:e}=t,{classes:n}=eje();return e==="terminal"?n.terminal:n.light}const eje=K()({light:{...j6.light,"body.termius-dark-theme &":{...j6.dark}},terminal:{...j6.terminal}}),tje=8,nje=20,oje=1200,rje=({themeColorsState:t="vaultTab"})=>{const e=de(),n=tt(),{classes:o,cx:r}=ije(),i=JWe({themeColorsState:t}),s=f.useRef(null),[a,{set:l,toggle:c}]=mM(!1),[d,p]=f.useState("idle"),{activeInstantNotifications:h,listedNotifications:m}=fWe(),{refs:g,floatingStyles:C}=L3({open:a,placement:"bottom",strategy:"fixed",whileElementsMounted:rv,middleware:[{name:"forceLeftMargin",async fn(T){const{elements:A}=T,k=A.floating.offsetWidth;return{x:window.innerWidth-k-tje}}},wY({apply({elements:T,availableHeight:A}){Object.assign(T.floating.style,{maxHeight:`${A-nje}px`,overflow:"auto"})}})]});gM(()=>{a&&(l(!1),p("idle"))},[g.floating,s]),iR("esc",()=>{l(!1),p("idle")});const v=T=>{T.id&&(T.action===by?e(_Y.request(T.id)):e(mL.request([T.id])),PE(T.id,m)&&(l(!1),p("idle")))},S=T=>{T.id&&(e(xY.request(T.id)),l(!1),p("idle"))},y=({actionHandler:T,...A})=>{var k;if(e(AY({teamMemberID:(k=A.message_attributes)==null?void 0:k.user_email,messageAction:A.action??"",auto:!1})),T){S(A),T();return}A.is_dismissible?(v(A),PE(A.id,m)&&(l(!1),p("idle"))):S(A)},b=T=>{T.stopPropagation(),T.preventDefault()},w=T=>{T.stopPropagation(),!(h.length>0)&&c()},x=async()=>{e(TY()),p("loading");try{await IY(We(n,EY),oje)}catch{}finally{p("loaded")}},_=h.length>0,I=h.length===0&&a;return L("div",{className:r(o.bellWrapper,i),children:[u(Tn,{className:o.inlineBellButton,disableHover:!0,ref:T=>{g.setReference(T),s.current=T},onClick:w,onDoubleClick:b,children:u(SWe,{isActive:m.length>0})}),L(qt,{children:[u(xe,{when:_,children:u(RE,{notifications:h.slice(0,1),onNotificationClick:y,onNotificationDismiss:S,ref:g.setFloating,floatingStyles:C,loadingState:d,themeColorsState:t})}),u(xe,{when:I,children:u(RE,{notifications:m,onNotificationClick:y,onNotificationDismiss:y,onNotificationRemove:v,ref:g.setFloating,floatingStyles:C,onOpen:x,loadingState:d,themeColorsState:t})})]})]})};function PE(t,e){return e.length===1&&e[0].id===t}const ije=K()({bellWrapper:{position:"relative"},inlineBellButton:{width:"30px",height:"30px",borderRadius:10,"--buttonColor":"inherit",color:y5.systemButtonIconColor.value,"&:hover":{[y5.systemButtonIconColor.name]:y5.systemButtonIconColorHover.value,[Re.tabButtonIcon.name]:Re.tabButtonIconHover.value,backgroundColor:Re.tabButtonIconBackgroundHover.value}}}),sj=({actions:t,className:e})=>{const n=kY(),o=RY(),{cx:r}=o1();return Co?null:u(PY,{className:r(e,n??o),actions:t})},sje=t=>{const e=de();f.useEffect(()=>{e(gL({isJumpToButtonVisible:t}))},[t,e])},aj=Se.memo(t=>u(mb,{...t,IconComponent:u(vH,{})}));function aje(t){const{active:e}=TP();let n,o,r;const i=e==null?void 0:e.data.current;e&&va(i)&&(n=e.id.toString(),o=i.title,r=i.terminals);const{classes:s}=lje(),a=l1(t),l={shortcutIndex:0,isDetached:!0,tabId:n??"",title:o??"",disabled:!0,customIcon:i==null?void 0:i.customIcon};return Mo.createPortal(u(LY,{dropAnimation:null,className:ce(a,s.dragOverlay),children:o&&n?L(qt,{children:[u(xe,{when:n.startsWith(Y2),children:u(aj,{...l})}),u(xe,{when:va(i)&&!!r,children:u(tf,{...l,terminals:r??[],group:Jn.horizontal,sortingStrategy:ah})})]}):null}),document.body)}const lje=K()({dragOverlay:{maxWidth:270,position:"fixed",cursor:"grabbing",zIndex:9999,"& *":{cursor:"grabbing"}}}),lj=f.createContext(void 0),cje=lj.Provider,dje=()=>{const t=f.useContext(lj);return Ce(t,"HorizontalTabsProvider is missing upper in the tree"),t},uje=(t,e)=>f.createElement("svg",{width:18,height:14,viewBox:"0 0 18 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("g",{clipPath:"url(#clip0_773_15800)"},f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.6031 14.0004H2.39695C0.801528 14.0004 0 13.2181 0 11.6456V2.37049C0 0.798047 0.801528 0.015625 2.39695 0.015625H15.6031C17.2061 0.015625 18 0.805646 18 2.37049V11.6456C18 13.2104 17.2061 14.0004 15.6031 14.0004ZM1.22901 11.5849C1.22901 12.3749 1.64886 12.7775 2.41222 12.7775H11V1.23864H2.41222C1.64886 1.23864 1.22901 1.64124 1.22901 2.43126V11.5849ZM15.214 4.86959C15.4202 4.86959 15.5652 4.73285 15.5652 4.52775V3.10724C15.5652 2.89454 15.4277 2.75781 15.214 2.75781H13.7713C13.5728 2.75781 13.4277 2.89454 13.4277 3.10724V4.52775C13.4277 4.73285 13.5804 4.86959 13.7713 4.86959H15.214ZM15.214 8.06003C15.4202 8.06003 15.5652 7.90811 15.5652 7.71822V6.28251C15.5652 6.08501 15.4277 5.93307 15.214 5.93307H13.7713C13.5728 5.93307 13.4277 6.08501 13.4277 6.28251V7.71822C13.4277 7.90811 13.5804 8.06003 13.7713 8.06003H15.214ZM15.5652 10.8935C15.5652 11.0986 15.4202 11.2353 15.214 11.2353H13.7713C13.5804 11.2353 13.4277 11.0986 13.4277 10.8935V9.47294C13.4277 9.26789 13.5728 9.12352 13.7713 9.12352H15.214C15.4277 9.12352 15.5652 9.26789 15.5652 9.47294V10.8935Z",fill:"currentColor"})),f.createElement("defs",null,f.createElement("clipPath",{id:"clip0_773_15800"},f.createElement("rect",{width:18,height:14,fill:"white"})))),pje=f.forwardRef(uje),hje=f.memo(pje),fje=(t,e)=>f.createElement("svg",{width:16,height:4,viewBox:"0 0 16 4",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("path",{d:"M2.00396 3.5C2.83509 3.5 3.5 2.83509 3.5 2.00396C3.5 1.17282 2.83509 0.5 2.00396 0.5C1.17282 0.5 0.5 1.17282 0.5 2.00396C0.5 2.83509 1.17282 3.5 2.00396 3.5Z",fill:"currentColor"}),f.createElement("path",{d:"M8.00396 3.50001C8.8351 3.50001 9.5 2.8351 9.5 2.00397C9.5 1.17282 8.8351 0.5 8.00396 0.5C7.17282 0.5 6.5 1.17282 6.5 2.00397C6.5 2.8351 7.17282 3.50001 8.00396 3.50001Z",fill:"currentColor"}),f.createElement("path",{d:"M14.0001 3.5C14.829 3.5 15.5 2.83509 15.5 2.00396C15.5 1.17282 14.829 0.5 14.0001 0.5C13.171 0.5 12.5 1.17282 12.5 2.00396C12.5 2.83509 13.171 3.5 14.0001 3.5Z",fill:"currentColor"})),mje=f.forwardRef(fje),LE=f.memo(mje),gje=(t,e)=>f.createElement("svg",{width:18,height:14,viewBox:"0 0 18 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...t},f.createElement("g",{clipPath:"url(#clip0_735_19209)"},f.createElement("path",{d:"M15.5652 4.52776C15.5652 4.73286 15.4202 4.8696 15.214 4.8696H13.7713C13.5804 4.8696 13.4277 4.73286 13.4277 4.52776V3.10724C13.4277 2.89455 13.5728 2.75781 13.7713 2.75781H15.214C15.4277 2.75781 15.5652 2.89455 15.5652 3.10724V4.52776Z",fill:"currentColor"}),f.createElement("path",{d:"M15.5652 7.71822C15.5652 7.90811 15.4202 8.06003 15.214 8.06003H13.7713C13.5804 8.06003 13.4277 7.90811 13.4277 7.71822V6.28251C13.4277 6.08501 13.5728 5.93308 13.7713 5.93308H15.214C15.4277 5.93308 15.5652 6.08501 15.5652 6.28251V7.71822Z",fill:"currentColor"}),f.createElement("path",{d:"M15.5652 10.8935C15.5652 11.0986 15.4202 11.2353 15.214 11.2353H13.7713C13.5804 11.2353 13.4277 11.0986 13.4277 10.8935V9.47294C13.4277 9.2679 13.5728 9.12353 13.7713 9.12353H15.214C15.4277 9.12353 15.5652 9.2679 15.5652 9.47294V10.8935Z",fill:"currentColor"}),f.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.6031 14.0004H2.39695C0.801528 14.0004 0 13.2181 0 11.6456V2.37049C0 0.798047 0.801528 0.015625 2.39695 0.015625H15.6031C17.2061 0.015625 18 0.805646 18 2.37049V11.6456C18 13.2104 17.2061 14.0004 15.6031 14.0004ZM1.22901 11.5849C1.22901 12.3749 1.64886 12.7775 2.41222 12.7775H11.0078V1.23864H2.41222C1.64886 1.23864 1.22901 1.64124 1.22901 2.43126V11.5849ZM12.2063 1.23864V12.7775H15.5878C16.3435 12.7775 16.771 12.3749 16.771 11.5849V2.43126C16.771 1.64124 16.3435 1.23864 15.5878 1.23864H12.2063Z",fill:"currentColor"})),f.createElement("defs",null,f.createElement("clipPath",{id:"clip0_735_19209"},f.createElement("rect",{width:18,height:14,fill:"white"})))),vje=f.forwardRef(gje),Cje=f.memo(vje),yje={home:u(sM,{}),sizePanelOpen:u(Cje,{}),sizePanelClose:u(hje,{}),commandPalettePlus:u(OY,{})},cj=t=>{t.stopPropagation(),t.preventDefault()};function dj({iconType:t,className:e,onClick:n,testId:o}){const{classes:r,cx:i}=uj();return u(Tn,{className:i(r.inlineButton,e),onClick:n,disableHover:!0,onDoubleClick:cj,"data-testid":o,children:yje[t]})}function Sje({className:t,onClick:e}){const{classes:n,cx:o}=uj(),r=lt(MY);return u(Tn,{className:o(n.inlineButton,t),onClick:e,disableHover:!0,onDoubleClick:cj,children:r?u(B9,{variant:"moreButton",connectionProcess:r.connectionProcess,hasMultiplayerNotification:r.hasMultiplayerNotification,hasUnreadOutput:r.hasUnreadOutput,children:u(LE,{})}):u(LE,{})})}const uj=K()({inlineButton:{minWidth:"30px",width:"30px",height:"30px",borderRadius:10,"--buttonColor":"inherit",color:Re.tabButtonIcon.value,"&:hover":{[Re.tabButtonIcon.name]:Re.tabButtonIconHover.value,transitionDelay:"0s",backgroundColor:Re.tabButtonIconBackgroundHover.value}}}),bje="New Tab",pj=(t,e)=>({id:t??h3("newTab"),title:bje,windowId:e??ge(),tabType:"newTab"}),wje={enter:150,exit:0},_je={transitionDelay:"150ms"},xje=Se.memo(t=>{const e=rL({id:i7,data:{kind:g3,title:i7,group:Jn.horizontal,terminals:[]},animateLayoutChanges:iL,transition:{duration:Jp.short,easing:eh.sharp},strategy:ah}),{attributes:n,setNodeRef:o,transform:r,transition:i}=e,{classes:s}=Aje();return u(Or,{in:t.in,unmountOnExit:!0,timeout:wje,style:_je,children:u("div",{className:s.animation,children:u("div",{ref:o,style:{transform:sL.Transform.toString(r),transition:i},...n,children:t.children})})})}),Aje=K()({animation:{transition:"var(--tab-width-animation)"}}),Tje=({showTerminalSpinners:t,tab:e,shortcutIndex:n,isSelected:o,workspaces:r,tabsPanelRef:i,themeColorsState:s})=>{const a=Xn(e)?r[e.workspaceId]:void 0,l=V(h=>DY(h,e.id)),c=V(h=>FY(h,e)),d={tabId:e.id,title:e.title,isSelected:o,shortcutIndex:n,IconComponent:null},p={tabId:e.id,title:e.title,isSelected:o,terminals:l,sortingStrategy:ah,group:Jn.horizontal};if(cL(e)){const h=Rje(e,o),m=a?_H(a.workspaceMode):void 0;return u(tf,{...d,...p,customIcon:m,isEditingTitle:e.isEditingTitle,hasUnreadOutput:c,hasMultiplayerNotification:e.hasMultiplayerNotification,terminals:l,showTerminalSpinners:t,tabsPanelRef:i,isWorkspaceTab:!!a,children:Pje(a,o)?u(Ee,{ml:h,children:u(UW,{terminals:l,isCurrentTabActive:o,themeColorsState:s})}):null})}return NY(e)?u(s8,{...p,children:u(aj,{...d})}):u(s8,{...p,children:u(mb,{...d})})},Ije=Se.memo(t=>{const{hasPlusButton:e,tabsContainerRef:n}=t,o=de(),[r,i]=f.useState(!1),[s,a]=f.useState(),{tabs:l,activeTabId:c,workspaces:d}=dje(),{setNodeRef:p}=PC({id:HN}),h=V(uL),m=lt(fc),{classes:g}=Eje();_g({onDragStart(){i(!0)},onDragOver(S){const y=M9(S);if(!y)return;const{activeType:b,overType:w,activeData:x,activeId:_,activeTerminal:I}=y;if(b!==Kn.splitViewPane&&c===_&&w===Zn.droppableTerminal){const k=l.findIndex(M=>M.id===_),R=Bl(l,k+1)??Bl(l,-2);R&&o(fr(R.id));return}const T=b===Kn.splitViewPane||b===Kn.workspaceTab,A=w===Zn.horizontalTab||w===Zn.horizontalTabsArea;T&&A&&I&&a({id:_,title:x.title,terminals:x.terminals,windowId:ge(),tabType:"terminalTab",group:x.group})},onDragEnd(){a(void 0),i(!1)},onDragCancel(){a(void 0),i(!1)}});const C=f.useCallback(()=>{o(vL(pj())),o(he("newTabScreenOpened",{newTabScreenOpenedVia:"Add Connection Button"}))},[o]),v=l.map(S=>S.id);return s&&v.push(s.id),v.push(i7),Hd(()=>{r&&o(CL())},[r]),L(hL,{items:v,strategy:ah,children:[!!l.length&&L(f.Fragment,{children:[u("div",{className:g.divider}),u(Ze,{right:xi})]}),u(ub,{children:l.map((S,y)=>L(f.Fragment,{children:[y!==0&&u("div",{className:g.tabSpace}),u(Tje,{tab:S,isSelected:c===S.id,showTerminalSpinners:h,shortcutIndex:kje({numberOfStaticTabs:2,lastTerminalTabIndex:l.length-1,terminalTabIndex:y}),workspaces:d,tabsPanelRef:n,themeColorsState:m})]},S.id))}),s?L(f.Fragment,{children:[u("div",{className:g.tabSpace}),u(tf,{shortcutIndex:0,tabId:s.id,title:s.title,isEditingTitle:!1,isSelected:!1,hasUnreadOutput:!1,hasMultiplayerNotification:!1,terminals:s.terminals,showTerminalSpinners:h,sortingStrategy:ah,isDraft:!0,group:s.group},s.id)]}):null,u(xje,{in:e,children:u(Ze,{left:l.length===0?0:xi,children:u(dj,{onClick:C,iconType:"commandPalettePlus",testId:"new-tab-button"})})}),u(yL,{ref:p,enabled:!r,className:g.dropArea})]})}),Eje=K()({tabSpace:{minWidth:xi,height:"30px"},dropArea:{width:"100%"},divider:{borderLeft:`1px solid ${kn.backgroundColorHover.value}`,height:20,marginTop:5}});function kje({numberOfStaticTabs:t,lastTerminalTabIndex:e,terminalTabIndex:n}){const o=n+t+1,r=e+t+1;if(o<9)return o;if(o===r)return 9}function Rje(t,e){return!Xn(t)||Xn(t)&&!e?"5px":"0"}function Pje(t,e){return t?t.orderedTerminalIds.length>1&&!e:!0}function Lje({children:t,isDarkMode:e,onToggleMaximize:n,disableWindowDrag:o}){const{animatedConnected:r,themeColorsState:i}=c1(),s=l1({isDarkMode:e,themeColorsState:i}),{classes:a,cx:l}=Mje();return u(yL,{className:l(a.horizontalTabs,s,{"termius-dark-theme":e,[a.activeTabConnected]:i==="terminal",[a.activeTabConnecting]:i==="connectionFlow",[a.animatedConnected]:r}),onDoubleClick:n,enabled:!o,"data-testid":"horizontal-tabs",children:t})}const Mje=K()((t,e,n)=>({horizontalTabs:{position:"absolute",top:0,"--background-color":"var(--dark-grey-3)","--border-color":"var(--dark-grey-4)",".termius-dark-theme &":{"--background-color":"var(--dark-grey-1)"},[`body:not(.full-screen).mac :not(.${n.activeTabConnecting})&`]:{"--background-color":"var(--navy-transparent)"},[`body:not(.full-screen).mac.termius-dark-theme :not(.${n.activeTabConnecting})&`]:{"--background-color":"var(--dark-grey-1-a80)"},[`body.full-screen.mac :not(.${n.activeTabConnecting})&`]:{"--background-color":"var(--dark-grey-1)"},[`&.${n.animatedConnected}`]:{transition:"background-color, color",transitionDuration:Zs.duration.value,transitionDelay:Zs.delay.value,"& button":{transition:"background-color, color",transitionDuration:Zs.duration.value,transitionDelay:Zs.delay.value},"& button:hover":{transitionDelay:"0s"}},display:"flex",width:"100%",height:"var(--horizontal-tabs-height)",padding:"11px 10px 10px 9px",borderBottom:"1px solid var(--border-color)",gap:"5px",backgroundColor:"var(--background-color)"},animatedConnected:{},activeTabConnected:{backgroundColor:"transparent",borderBottom:"1px solid transparent"},activeTabConnecting:{backgroundColor:"transparent",borderBottom:"1px solid transparent"}}));function Oje({tabsContainerRef:t}){Ao(()=>{if(Co)return;const e=t.current,n=o=>{e==null||e.scrollBy({left:o.deltaY})};return e==null||e.addEventListener("wheel",n),()=>{e==null||e.removeEventListener("wheel",n)}})}const Dje={none:{left:"black",right:"black"},left:{left:"black",right:"transparent"},right:{left:"transparent",right:"black"},between:{left:"transparent",right:"transparent"}};function Fje({children:t,tabsLength:e,closing:n,fakeTabs:o,tabWidth:r,scrollPosition:i,tabsContainerRef:s,staticSpaceObserverRef:a,endAdornment:l}){const c=Dje[i]??{left:"transparent",right:"transparent"},d=e===0?0:o.active*o5+o.right*r+(o.right+o.active)*xi,p={...c,tabWidth:r};Oje({tabsContainerRef:s});const{classes:h,cx:m}=Nje(p),{classes:{noDrag:g}}=SL();return L(re,{direction:"row",flex:"1",minWidth:"0",gap:"5px",ref:a,children:[L("div",{className:m(h.container,h.mask,g),ref:s,children:[t,u("div",{className:m(h.fakeTabs,{[h.animatedFakeTabs]:!n}),style:{minWidth:d}})]}),l]})}const Nje=K()((t,e)=>({container:{"--tab-width":`${e.tabWidth}px`,"--selected-tab-width":`${o5}px`,"--tab-width-animation":QW,"--color-stop-left":"black","--color-stop-right":"black",flex:1,display:"flex",height:"30px",overflow:"hidden",overflowX:"scroll","&::-webkit-scrollbar":{display:"none"}},mask:{"--color-stop-left":e.left,"--color-stop-right":e.right,WebkitMaskImage:"linear-gradient(to right, var(--color-stop-left) 0, black 30px, black calc(100% - 30px), var(--color-stop-right) 100%)",transitionProperty:"--color-stop-left, --color-stop-right",transitionDuration:"200ms"},fakeTabs:{minWidth:0},animatedFakeTabs:{minWidth:0,transition:"min-width 250ms ease-out"}}));CSS.registerProperty({name:"--color-stop-left",syntax:"<color>",inherits:!1,initialValue:"black"});CSS.registerProperty({name:"--color-stop-right",syntax:"<color>",inherits:!1,initialValue:"black"});const ME=Se.memo(t=>{const{classes:e,cx:n}=Hje();return u("div",{className:n(e.tabAnimation,{[e.compact]:!t.isSelected&&t.isCompact,[e.selected]:t.isSelected}),children:u("div",{className:e.staticTab,children:t.children})})}),Hje=K()({tabAnimation:{transition:QW,minWidth:80,maxWidth:80},compact:{minWidth:30,maxWidth:30},selected:{minWidth:140,maxWidth:140},staticTab:{width:"100%"}}),OE=t=>{const{tabId:e,title:n,isSelected:o,isCompact:r,className:i,iconType:s,onClick:a,count:l,isScrolling:c,shortcutIndex:d,themeColorsState:p,endAdornment:h}=t,{animatedConnected:m}=c1(),{cx:g,classes:C}=Bje(),{classes:{noDrag:v}}=SL(),S=V(Ra),y=V(sc),b=o&&s==="vault-tab"&&(S||y),w=o&&l!=="all"&&Number(l)>1,x=f.useRef(null);f.useEffect(()=>{var T;o&&((T=x.current)==null||T.scrollIntoViewIfNeeded(!0))},[o]);const _=()=>S?r?"5px":"0px":y?r?"8px":"3px":"0px",I=L(f.Fragment,{children:[u(Z,{variant:"body1",ellipsis:!0,className:C.title,children:n}),b&&u(re,{alignItems:"center",marginRight:_(),children:u(HY,{className:g(C.cloudIcon,{[C.cloudIconWithHover]:y})})}),w&&u(Z,{variant:"body1",color:"secondary",ellipsis:!0,className:C.count,children:l})]});return L("div",{className:g(C.container,v),"aria-label":s,children:[L(YW,{contentRef:x,isSelected:o,onClick:a,className:g(C.tab,{[C.compact]:r},i),isActiveTabConnected:p==="terminal",animatedConnected:m,isScrolling:c,title:r?n:null,shortcutIndex:d,isEditingTitle:!1,tabId:e,children:[u("div",{className:C.icon,children:u(H0,{isActive:!1,connectionProcess:"succeeded",iconType:s,enableAnimation:!1})}),!o&&r?null:I]}),u(Sl,{in:!!(h&&o),timeout:150,orientation:"horizontal",children:u("div",{className:C.endAdornment,children:h})})]})},Bje=K()((t,e,n)=>({container:{width:"100%",display:"flex",height:"30px",alignItems:"center",textAlign:"left",borderRadius:"10px",overflow:"hidden",justifyContent:"space-between"},endAdornment:{height:"30px",marginLeft:1,backgroundColor:kn.backgroundColorSelected.value,color:kn.textColorSelected.value,"&:hover":{backgroundColor:kn.backgroundColorHoverSelected.value,color:kn.textColorSelected.value}},title:{marginLeft:"5px",flexGrow:1},count:{marginLeft:"5px",marginRight:"-10px",flexGrow:1},icon:{marginRight:"auto","&& svg":{maxWidth:"14px",maxHeight:"14px"}},tab:{flex:1,minWidth:0},compact:{paddingRight:5},cloudIcon:{color:"var(--secondary)"},cloudIconWithHover:{[`.${n.tab}:hover &`]:{color:"var(--main)"}}})),zje="/vault-tab",Vje=Se.memo(()=>{const t=de(),{classes:e}=Wje(),{isScrolling:n,themeColorsState:o,handlers:r}=c1(),i=Cy("(max-width: 900px)"),s=V(GC),a=V(ka),l=V(pc),c=a===s,d=a===ss,p=lv(a),h=!l&&p,m=()=>{r.onActiveTabChange(s),t(he("vaultTabOpened",{vaultTabOpenedVia:"Button",onScreen:bL(s)}))},g=()=>{r.onActiveTabChange(ss),t(he("sftpScreenOpened",{sftpsource:"Tab",sftptabOpenedVia:"Button"}))},{label:C,selectedCount:v}=V(BY),[S,y]=f.useState(!1);f.useEffect(()=>{!l&&S&&y(!1)},[l,S]);const b=f.useCallback(_=>{_&&t(he("vaultFilterButtonPressed")),y(_)},[t]),w=Pc("backUpAndSync"),x=async()=>{t(he("backUpAndSyncButtonPressed",{backUpButtonLocation:"Vault Picker"})),await w({from:"BackUpAndSync"})};return L("div",{className:e.root,children:[u(ME,{isCompact:i,isSelected:c,children:u(OE,{tabId:zje,title:C,isSelected:c,isCompact:i,iconType:"vault-tab",onClick:()=>{h&&x(),m()},count:v,isScrolling:n,shortcutIndex:1,themeColorsState:o,endAdornment:u(nF,{open:S,onOpenChange:b})})}),u(Ze,{right:xi}),u(ME,{isCompact:i,isSelected:d,children:u(OE,{tabId:ss,title:"SFTP",isSelected:d,isCompact:i,iconType:"sftp",onClick:g,isScrolling:n,shortcutIndex:2,themeColorsState:o})})]})}),Wje=K()({root:{display:"flex",flexShrink:2}});function jje({tabsContainerRef:t,scrollableContentWidth:e,enableAutoUpdate:n}){const[o,r]=f.useState("none"),[i,s]=f.useState(!1),{run:a}=_u((d,p)=>{r(Uje(d,p))},{wait:200,leading:!0,trailing:!0});f.useLayoutEffect(()=>{const d=t.current;if(d==null)return;const p=new ResizeObserver(()=>{a(d,e)});return p.observe(d),()=>p.unobserve(d)},[e,t,a]);const l=f.useRef(),c=f.useRef();return f.useLayoutEffect(()=>{const d=t.current;if(!n||d==null)return;l.current??(l.current=lh(d,"scroll")),c.current??(c.current=rc(l.current.pipe(Mt(()=>!0)),l.current.pipe(xy(500),Mt(()=>!1))).pipe(zY(1)));const p=[l.current.subscribe(()=>a(d,e)),c.current.subscribe(s)];return()=>p.forEach(h=>h.unsubscribe())},[n,e,t,a]),{scrollPosition:o,isScrolling:i}}function Uje(t,e){const n=t.getBoundingClientRect().width+xi+1;return e<=n?"none":t.scrollLeft===0?"left":t.scrollLeft+n>=e?"right":"between"}const $je=Se.memo(({themeColorsState:t,tabs:e,onTerminalTabRetry:n,terminals:o,activeTabId:r,onTerminalTabTitleChange:i,onActiveTabChange:s,onCloseTab:a,workspaces:l})=>{const c=V(xo),d=V(ue=>nR(ue,o)),p=de(),h=f.useMemo(()=>VY(p),[p]),[m,g]=Fd(h,ue=>ue.actionType==="context-menu"),C=V(ue=>Jo(ue,ge())),v=V(ue=>jP(ue,ge())),S=ZW({themeColorsState:t,activeTabId:C==null?void 0:C.id}),y=f.useRef(),b=f.useRef(null),[w,x]=f.useState(!1),[_,I]=f.useState({active:0,right:0}),{menuItems:T,closeMenu:A,onOpenMenu:k,contextMenuProps:R}=nj({tabVariant:"horizontalTab"}),{sizeObserverRef:M,width:D}=wu(),F=e.findIndex(ue=>ue.id===r)!==-1,z=t==="vaultTab"?!0:c,j=Zje({isDynamicTabActive:F,tabsLength:e.length+_.active+_.right,containerWidth:D}),H=Qje({tabWidth:j,fakeTabs:_,isDynamicTabActive:F,tabsLength:e.length}),{button:O,scrollableContentWidth:U}=Yje({staticSpaceWidth:D,tabsContentWidth:H}),{scrollPosition:N,isScrolling:W}=jje({tabsContainerRef:b,scrollableContentWidth:U,enableAutoUpdate:!w}),B=W1({theme:v}),$=f.useCallback(ue=>{if(e.length===1){y.current&&clearTimeout(y.current),y.current=void 0,x(!1),I({active:0,right:0}),a(ue);return}x(!0);const se=e.findIndex(J=>J.id===ue),ie=e.findIndex(J=>J.id===r);se===ie&&_.active===0?I({active:1,right:_.right}):I({active:_.active,right:_.right+1}),y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{y.current=void 0,x(!1),I({active:0,right:0})},1e3),a(ue)},[r,a,_,e]),q=f.useCallback(ue=>{var ie,J;const se=h.find(le=>le.actionType==="maximize"||le.actionType==="unmaximize");(J=(ie=se==null?void 0:se.buttonCallbacks)==null?void 0:ie.onClick)==null||J.call(ie,ue)},[h]);sje(N!=="none");const ee=f.useCallback(()=>{p(Dr({isOpen:!0,filter:rs.JUMP_TO,commandPaletteStateChangedVia:"Click"}))},[p]);return u(cje,{value:{tabs:e,terminals:o,activeTabId:r,workspaces:l},children:u(pL,{value:{handlers:{onRetry:n,onTitleChange:i,onContextMenu:k,onActiveTabChange:s,onClose:$},themeColorsState:t,isScrolling:W,animatedConnected:S,multiplayerConnections:d},children:L(V1,{value:B,children:[L(Lje,{isDarkMode:z,onToggleMaximize:q,disableWindowDrag:!!(R!=null&&R.open),children:[!Co&&u(sj,{actions:m}),Co&&u(WY,{}),u(Vje,{}),u(Fje,{tabsLength:e.length,closing:w,fakeTabs:_,tabWidth:j,scrollPosition:N,staticSpaceObserverRef:M,tabsContainerRef:b,endAdornment:O==="command-palette"&&u(Sje,{onClick:ee}),children:u(f.Fragment,{children:u(Ije,{hasPlusButton:O==="plus",tabsContainerRef:b})})}),u(qje,{themeColorsState:t,windowActions:g}),u(aje,{isDarkMode:z,themeColorsState:t})]}),u(ej,{menuItems:T,onClose:A,...R})]})})})}),qje=({themeColorsState:t,windowActions:e})=>{const n=de(),{classes:o}=Gje(),r=lt(bc),i=lt(EN),s=f.useCallback(()=>{n(KC({windowId:ge(),openedFrom:"Button"})),r&&(he("terminalSidePanelClosed",{terminalSidePanelToggledVia:"Button",...qC(i)}),n(s1(ge())))},[n,r,i]);return L("div",{className:o.rightButtons,children:[u(rje,{themeColorsState:t}),t==="terminal"&&u(dj,{onClick:s,iconType:r?"sizePanelOpen":"sizePanelClose"}),!Co&&u(sj,{actions:e})]})},Gje=K()({rightButtons:{height:"30px",display:"flex",marginLeft:"auto",alignItems:"center",flexWrap:"nowrap",gap:xi,"&:empty":{display:"none"}}}),Kje=.25;function Zje({isDynamicTabActive:t,tabsLength:e,containerWidth:n}){if(e===0)return _E;const o=t?e-1:e,r=uWe([1,o])??1,i=t?o5:-xi,s=+((n-i-i8)/r).toFixed(2)-Kje-xi;return wL(s,Xze,_E)}const Qje=({tabWidth:t,fakeTabs:e,isDynamicTabActive:n,tabsLength:o})=>(t+xi)*(o-1+e.active+e.right)+(n?o5:t)+Jze,Yje=t=>{const{staticSpaceWidth:e,tabsContentWidth:n}=t,o=n+i8>e;return e!==0&&o?{button:"command-palette",scrollableContentWidth:n}:{button:"plus",scrollableContentWidth:n+i8}};function Xje({isTerminalTabActive:t}){const{cx:e,classes:n}=Jje();return u("div",{className:e(n.root,{[n.colored]:t})})}const Jje=K()({root:{height:"var(--horizontal-tabs-height)",backgroundColor:"transparent"},colored:{backgroundColor:Q.backgroundColor}}),eUe=({baseTabs:t,currentPath:e})=>u(Se.Fragment,{children:t.map(({id:n,component:o,props:r,unmountOnExit:i})=>i?u(jY,{path:n,children:u(o,{onScreen:n===e,...r})},n):u(UY,{path:n,children:u(o,{onScreen:n===e,...r})},n))});function tUe(t){return t.customerExperience.isCESVisible}var DE=365.2425;function nUe(t){var e=t.years,n=t.months,o=t.weeks,r=t.days,i=t.hours,s=t.minutes,a=t.seconds;so(1,arguments);var l=0;e&&(l+=e*DE),n&&(l+=n*(DE/12)),o&&(l+=o*7),r&&(l+=r);var c=l*24*60*60;return i&&(c+=i*60*60),s&&(c+=s*60),a&&(c+=a),Math.round(c*1e3)}const Sm=nUe({days:1}),Zc={ERROR:1,WARNING:3,SUCCESS:7};function U6({trialExpirationDate:t,dismissTimestamp:e,repeatPromoDays:n}){return t.getTime()-e<n*Sm}function oUe({userType:t,dismissTimestamp:e,trialExpirationDate:n}){if(![$Y,qY].includes(t.toLowerCase()))return!0;if(e==null)return!1;if(n==null)return!0;const o=n.getTime()-Date.now();return o<=Zc.ERROR*Sm?U6({trialExpirationDate:n,dismissTimestamp:e,repeatPromoDays:Zc.ERROR}):o<=Zc.WARNING*Sm?U6({trialExpirationDate:n,dismissTimestamp:e,repeatPromoDays:Zc.WARNING}):o<=Zc.SUCCESS*Sm?U6({trialExpirationDate:n,dismissTimestamp:e,repeatPromoDays:Zc.SUCCESS}):!!e}const rUe=()=>{const t=V(lo),e=V(Q2),n=V(GY),o=V(KY),r=V(ZY),[i,s]=f.useState(!1),a=o?QY(o.until):null,l=oUe({userType:e,dismissTimestamp:n,trialExpirationDate:a});return f.useEffect(()=>{s(!l&&!t&&!r)},[l,t,r]),i},iUe=()=>!1,sUe=t=>{switch(t){case"TrialToPremium":return rUe();case"ProTrialActivation":return iUe();default:return null}},aUe=f.lazy(()=>P(()=>import("./BubbleSurvey-757bf482.js"),["./BubbleSurvey-757bf482.js","./reconnectSaga-e33541d6.js","./reconnectSaga-b241274d.css","./watchAction-bfeb4c26.js","./FontAutocomplete-ca5b7626.js","./child_process-1e242066.js","./useMediaQuery-22235d2c.js","./index-2bac2704.js","./PromoBanner-fb55b2e0.js","./External Link.react-a980ba5b.js","./index-50e68d31.js","./device-cbcdfeff.js","./AlertDialog-7dd4d593.js","./triggerChoosePlanDialog-feda640b.js","./InputDialog-d2455e55.js","./KeyboardKey-80a39b2a.js","./useIconWithGradientStyles-38a47b0c.js","./home.react-73004e97.js","./FullscreenDialogFooter-2db08869.js","./FullScreenDialogLayout-35fddac2.js","./LinkButton-d3533d09.js","./PageWrapper-ec94ee8c.js","./index-255a987b.js","./PortForwardingRulePresenter-4942c31a.js","./SettingsSwitch-c186b98f.js","./ErrorOutline-5b5a7f18.js","./UserListItem-85567f7e.js","./useHandledClick-7a5237b0.js"],import.meta.url).then(t=>({default:t.BubbleSurvey}))),lUe=f.lazy(()=>P(()=>import("./ProTrialActivation-7d4c140e.js"),["./ProTrialActivation-7d4c140e.js","./reconnectSaga-e33541d6.js","./reconnectSaga-b241274d.css","./checkIconGradient.react-d7eac3e2.js"],import.meta.url).then(t=>({default:t.ProTrialActivation}))),cUe=Se.memo(t=>{const{isCompactMode:e}=t,n=V(J8),o=V(tUe),r=V(_L),i=V(xL),s=r&&i!==ge(),a=sUe("ProTrialActivation"),l=V(B2);if(Oh(()=>{l&&YY.setShouldShowTeamTrialPromoInSideMenuOnAppOpened(!0)}),s)return null;const c=[o&&u(aUe,{}),a&&u(lUe,{isCompactMode:e})];return u(f.Suspense,{fallback:null,children:n&&c.find(d=>d)||null})});function dUe(){const{classes:t}=uUe();return u("div",{className:t.container,children:"New"})}const uUe=K()({container:{backgroundColor:"var(--green)",borderRadius:10,padding:"2px 10px"}}),pUe=K()((t,e,n)=>({root:{"--background-hover-color":"var(--light-grey-6)","--background-selected-color":"var(--light-grey-5)","--text-color":"var(--dark-grey-1)",".termius-dark-theme &":{"--background-hover-color":"var(--dark-grey-4)","--background-selected-color":"var(--dark-grey-5)","--text-color":"var(--white)"},".termius-vibrancy-theme &":{"--background-hover-color":"var(--dark-grey-1-a40)","--background-selected-color":"var(--dark-grey-1-a75)"},".termius-vibrancy-theme .termius-dark-theme &":{"--background-hover-color":"var(--dark-grey-1-a40)","--background-selected-color":"var(--dark-grey-1-a75)"},overflow:"hidden",textOverflow:"ellipsis",display:"flex",width:"calc(100% - 20px)",padding:"0 10px 0 7px",height:"36px",alignItems:"center",textAlign:"left",color:"var(--text-color)",borderRadius:"10px",margin:"8px 10px",[`&.${n.selected}:hover, &.${n.selected}`]:{backgroundColor:"var(--background-selected-color)"},"&:hover":{backgroundColor:"var(--background-hover-color)"}},title:{marginLeft:"10px",flexGrow:1,overflow:"hidden",textOverflow:"ellipsis",color:"inherit",fontSize:"14px",[`.${n.root}.${n.compactMode} > &`]:{display:"none"}},selected:{},compactMode:{},svgWrapper:{background:"none",color:"var(--text-color)"},premium:{backgroundColor:"var(--dark-grey-6)",fontSize:"12px",lineHeight:"1",borderRadius:"10px",padding:"4px 10px",color:"var(--white)"}})),hUe=Se.memo(({tabId:t,title:e,children:n,selected:o,compactMode:r,onClick:i,promotion:s=!1,somethingNewLabel:a=!1})=>{const{classes:l}=pUe(),c=V(pc),d=s&&!c&&!r,p=a&&!s&&!r,h=f.useCallback(()=>i(t),[i,t]),m=f.useRef(null);f.useEffect(()=>{var C;o&&((C=m.current)==null||C.scrollIntoViewIfNeeded(!0))},[o]);const g=L(th,{tabIndex:-1,ref:m,disableTouchRipple:o,className:ce(l.root,{[l.selected]:o,[l.compactMode]:r}),onClick:h,children:[u(H9,{className:l.svgWrapper,children:n}),u("span",{className:l.title,children:e}),d&&u("span",{className:l.premium,children:"Pro"}),p&&u(dUe,{})]});return r?u(Ea,{title:e,placement:"right",children:g}):g}),fUe=X8.macOS();function mUe({baseTabs:t,activeTabId:e,tabsClosed:n,onActiveTabChange:o}){const{classes:r}=vUe(),i=Cy("(max-width: 800px)");Ao(()=>{var a;fUe&&((a=document.getElementById("root"))==null||a.classList.remove("solid"))});const s=t.map(a=>u(hUe,{tabId:a.id,title:a.title,promotion:a.promotion,selected:e===a.id,onClick:o,compactMode:i,children:a.svg},a.id));return L("div",{className:r.root,children:[u("div",{className:r.tabsContainer,children:u("div",{children:s})}),!n&&u(cUe,{isCompactMode:i})]})}const gUe=Se.memo(mUe),vUe=K()({root:{"--background-color":"var(--light-grey-7)","--border-color":"var(--light-grey-5)",".termius-dark-theme &":{"--background-color":"var(--dark-grey-3)","--border-color":"var(--dark-grey-4)"},".termius-vibrancy-theme &":{"--background-color":"var(--dark-grey-1-a80)",backgroundColor:"var(--background-color)"},"@media (prefers-color-scheme: dark)":{".termius-vibrancy-theme &":{"--background-color":"var(--dark-grey-3-a80)"}},display:"flex",flexDirection:"column",width:"100%",height:"100%",fontSize:"12px",backgroundColor:"var(--background-color)",position:"relative","&::after":{position:"absolute",top:0,bottom:0,right:0,content:'""',borderRight:"1px solid var(--border-color)"}},tabsContainer:{flex:"1",overflowY:"auto",overflowX:"hidden",paddingTop:2,display:"flex",flexDirection:"column","&::-webkit-scrollbar":{display:"none"}}});class CUe extends f.Component{constructor(n){super(n);E(this,"disposables",new gt);E(this,"openNewTab",()=>{this.props.dispatch(vL(pj())),this.props.dispatch(he("newTabScreenOpened",{newTabScreenOpenedVia:"CMD+T"}))});E(this,"handleWindowWillBeClosed",()=>{this.props.singletons.multiplayerProtocol.dispose(),this.cleanUpTerminals({},this.props.terminals)});E(this,"recalculateTabWithOnChangeFullScreenMode",()=>{setTimeout(()=>{this.forceUpdate()},500)});E(this,"initConnectionAnalyticsHelper",n=>{const{dispatch:o,userType:r,isTeam:i,isOwner:s,vaults:a}=this.props;n.initAnalyticsHelper({dispatch:o,userType:r,vaults:a,teamStatus:{isTeam:i,isOwner:s}})});E(this,"sendConnectionInitiatedEvent",({connection:n,connectionOrigin:o,acquisitionChannel:r})=>{var i;this.initConnectionAnalyticsHelper(n),(i=n.analyticsHelper)==null||i.connectionInitiated({connectionOrigin:o,acquisitionChannel:r})});E(this,"openHomeTab",()=>{const{homePath:n}=this.props;this.props.dispatch(he("vaultTabOpened",{vaultTabOpenedVia:"Shortcut",onScreen:bL(n)})),this.openTab(n)});E(this,"openSftpTab",()=>{this.props.dispatch(he("sftpScreenOpened",{sftpsource:"Tab",sftptabOpenedVia:"Shortcut"})),this.openTab(this.sftpTab.id)});E(this,"openSerialConnection",({serialSource:n,workspaceTabId:o,targetTabPosition:r})=>{const i=new pt({protocol:"serial"});this.sendConnectionInitiatedEvent({connection:i,connectionOrigin:"Serial"}),this.openConnection({connection:i,workspaceTabId:o,targetTabPosition:r}),i.sessionLogData=Gf(i,this.props.sessionLogsSettings),this.props.dispatch(oX({serialSource:n}))});E(this,"maybeOpenSerialConnection",async(n,o)=>{const{isProUser:r,sagas:i}=this.props;if(!r){Pt(i,{dialog:"ProFeatures",target:ge(),props:{openWithNumber:po("Serial"),from:"Serial"}}).catch(He),this.props.dispatch(rX({serialSource:n,promoType:null}));return}this.openSerialConnection({serialSource:n,targetTabPosition:o})});E(this,"toggleSidepanel",n=>{this.findHorizontalTabById(this.props.currentPath)!=null&&(this.props.dispatch(KC({windowId:ge(),openedFrom:n})),da.send("update-system-menu"))});E(this,"isMultiplayerStartedInTab",n=>{const{mediatorPool:o}=this.props.singletons;return n.orderedTerminalIds.some(r=>{const i=o.getOrCreateInstance(r);return i==null?void 0:i.multiplayerApi.isMultiplayerSessionActive()})});E(this,"toggleSplitViewBroadcastMode",()=>{var s;const n=this.findHorizontalTabById(this.props.currentPath);if(!Xn(n))return;const o=this.props.workspaces[n.workspaceId];if(!o||o.orderedTerminalIds.length===1||this.isMultiplayerStartedInTab(o))return;const r=this.props.broadcastTabs.has(n.id),i=o.viewMode==="splitView";this.props.dispatch(iX({broadcastEnabled:r?"yes":"no",broadcastActivatedBy:"Hotkey",broadcastButtonLocation:i?"Workspace Split View":"Workspace Focus View",workspaceTemplateID:(s=o.templateId)==null?void 0:s.toString()})),this.props.dispatch(Eu(n.id)),this.props.dispatch(Tg())});E(this,"openLocalhostConnection",(n,o)=>{const{shellPath:r}=this.props;if(Md)return;const i=new pt({protocol:"local",shellPath:r});i.sessionLogData=Gf(i,this.props.sessionLogsSettings),this.sendConnectionInitiatedEvent({connection:i,connectionOrigin:n??"Local Host"}),this.openConnection({connection:i,targetTabPosition:o})});E(this,"setUpConnection",n=>{const o=n;return o.sshKnownHosts=this.props.sshKnownHosts,Nk(o.protocol)&&(o.sessionLogData=Gf(o,this.props.sessionLogsSettings),o.sessionLogAnalytics=Wx(r=>this.props.dispatch(r))),n});E(this,"openWorkspaceTemplate",(n,{targetTabPosition:o,workspaceMode:r,connectionOrigin:i}={})=>{const s=[],a=[];n.workspaceTerminals.forEach(p=>{const h=p.transformToConnection(n.local_id),m=this.setUpConnection(h);this.initConnectionAnalyticsHelper(m),s.push(m);const g=p.transformToTerminal(m,{colorScheme:this.props.getColorScheme(h.colorScheme),windowId:ge()});a.push(g)});const l=a.filter(p=>yC.isSupportedTerminal(p,this.props.existingHosts)),c=h3("terminalTab"),d=[AL({terminals:l,workspaceTemplate:n,targetTabPosition:o,workspaceMode:r,newTabId:c}),...a.map((p,h)=>Lg({id:p.id,isTerminalConnection:!0,connection:s[h],connectionOrigin:i??"Workspace Template"})),fr(c)];Mo.unstable_batchedUpdates(()=>{d.forEach(p=>{this.props.dispatch(p)})})});E(this,"enterHosts",(n,{newWindow:o=!1,workspaceTabId:r,targetTabPosition:i}={})=>{if(o)_4(n);else for(const{connection:s,connectionOrigin:a}of n){if(r){const c=this.findWorkspaceTabById(r),d=c?this.props.workspaces[c.workspaceId]:void 0;s.setAsWorkspaceConnection(d==null?void 0:d.templateId)}const l=this.setUpConnection(s);this.sendConnectionInitiatedEvent({connection:l,connectionOrigin:a}),this.openConnection({connection:l,workspaceTabId:r,targetTabPosition:i})}});E(this,"openConnection",n=>{const{connection:o,title:r,workspaceTabId:i}=n;i?this.props.dispatch(TL({workspaceTabId:i,connection:o,title:r})):this.props.dispatch(IL(n))});E(this,"findByConnectionId",n=>{const o=Array.from(this.props.singletons.connectionMap).find(([s,a])=>a.id===n);if(!o)return null;const[r]=o;return{tab:this.findTabByTerminal(r)||null,terminalId:r}});E(this,"findTabByTerminal",n=>sX(this.props.tabs,this.props.workspaces,n));E(this,"duplicateTab",n=>{const{tabId:o,newWindow:r,workspaceTerminalId:i}=n,s=o?this.findTerminalTabById(o):void 0,a=i?this.props.terminals[i]:void 0;if(a){const{id:l,title:c}=a;this.duplicateTabByProtocol({nodeId:l,title:c,workspaceTabId:o,newWindow:r});return}ha(s)&&this.duplicateTabByProtocol({nodeId:s.terminalId,title:s.title,newWindow:r})});E(this,"duplicateTabByProtocol",n=>{const{nodeId:o,title:r,workspaceTabId:i,newWindow:s}=n,a=this.props.singletons.connectionMap.get(o);if(!a)return;if(a.protocol==="serial"){this.duplicateSerialConnectionTab({title:r,workspaceTabId:i,newWindow:s});return}const{colorScheme:l}=this.props.terminals[o];this.duplicateDefaultConnectionTab({connection:a,colorScheme:l,title:r,workspaceTabId:i,newWindow:s})});E(this,"duplicateSerialConnectionTab",n=>{const{title:o,workspaceTabId:r,newWindow:i}=n;if(i){_4([{connection:new pt({protocol:"serial"}),tabTitle:o,connectionOrigin:"Duplicated In New Window"}]);return}this.openSerialConnection({serialSource:"Side Menu",workspaceTabId:r})});E(this,"duplicateDefaultConnectionTab",n=>{const{connection:o,colorScheme:r,title:i,workspaceTabId:s,newWindow:a}=n,l=this.duplicateConnection(o,r);if(a){l.setAsNotWorkspaceConnection(),_4([{connection:l,tabTitle:i,connectionOrigin:"Duplicated In New Window"}]);return}this.openConnection({connection:l,title:i,workspaceTabId:s}),this.sendConnectionInitiatedEvent({connection:l,connectionOrigin:"Duplicated Tab"})});E(this,"renameTab",n=>{this.props.dispatch(aX({tabId:n}))});E(this,"renameTerminal",n=>{this.updateTerminal({id:n,changes:{isEditingTitle:!0}})});E(this,"closeTab",n=>{this.props.dispatch(Fl(n))});E(this,"onConnectToHistory",n=>{this.enterHosts([{connection:FE(n),connectionOrigin:"History"}])});E(this,"onOpenSessionLogFromHistory",n=>{const o=FE(n);o.protocol="session-log",o.initAnalyticsHelper({dispatch:this.props.dispatch,vaults:this.props.vaults,userType:this.props.userType,teamStatus:{isTeam:this.props.isTeam,isOwner:this.props.isOwner}}),this.openConnection({connection:o})});E(this,"setWindowTitle",n=>{this.props.dispatch(lX({title:n,windowId:ge()}))});E(this,"findTabById",n=>this.baseTabs.find($6(n))||this.findHorizontalTabById(n));E(this,"findHorizontalTabById",n=>this.props.tabs.find($6(n)));E(this,"findTerminalTabById",n=>cX(this.props.tabs,n));E(this,"findWorkspaceTabById",n=>Yk(this.props.tabs,n));E(this,"findTerminalTabIndexById",n=>this.props.tabs.findIndex($6(n)));E(this,"updateTerminal",(...n)=>{this.props.dispatch(Yo(...n))});E(this,"updateTerminalTab",(...n)=>{this.props.dispatch(MC(...n))});E(this,"openTab",n=>{this.findTabById(n)!=null&&this.props.dispatch(fr(n))});E(this,"openTerminal",n=>{this.props.terminals[n]!=null&&this.props.dispatch(oo(n))});E(this,"onTerminalTabTitleChange",(n,o)=>{this.props.dispatch(EL({tabId:n,title:o}));const r=this.findTerminalTabById(n);if(!r)return;const i=ha(r)?this.props.terminals[r.terminalId]:void 0;if(!i)return;const s=this.props.singletons.connectionMap.get(i.id);s&&this.props.dispatch(dX({connection:s.toTransferableObject(),title:o}))});E(this,"onTerminalTabRetry",n=>{this.props.dispatch(K2({tabId:n,connectionOrigin:"Reconnect Button"}))});E(this,"focusActiveTerminal",()=>{var o;const n=Object.values(this.props.terminals).find(r=>r.isActive);n&&((o=this.props.singletons.mediatorPool.find(n.id))==null||o.terminalApi.focus())});E(this,"getTerminalTabIdByOffset",(n,o)=>{const{tabs:r}=this.props;if(n===this.props.homePath||n===this.sftpTab.id){if(n===this.props.homePath&&o===1)return this.sftpTab.id;if(n===this.sftpTab.id&&o===-1)return this.props.homePath}let i=this.findTerminalTabIndexById(n);i===-1&&o<0?i=0:i+=1;const s=ive(i,o,r.length+1);return s===0?o===1?this.props.homePath:this.sftpTab.id:r[s-1].id});E(this,"handleMultiplayerConnect",(n,o)=>{const r=this.findByConnectionId(n.connectionId),i=r==null?void 0:r.tab,s=r==null?void 0:r.terminalId;if(i){this.openTab(i.id),this.props.dispatch(he("collaborationContextMenuItemPressed",{connectionID:n.connectionId,isOwner:"yes",currentViewers:n.participantAmount})),s&&this.openTerminal(s);return}this.props.deviceId&&this.props.centrifugeClientId&&o.id!=null&&this.props.dispatch(s6e({id:Ie.v4(),connectionId:n.connectionId,hostId:o.id,deviceId:this.props.deviceId,centrifugeClientId:this.props.centrifugeClientId,targetCentrifugeClientId:n.centrifugeClientId,windowId:ge()})),this.props.dispatch(he("collaborationContextMenuItemPressed",{connectionID:n.connectionId,isOwner:"no",currentViewers:n.participantAmount}))});E(this,"hostsTab",{id:rd,title:"Hosts",component:h9e,svg:u(lee,{}),props:{enterHosts:this.enterHosts,onMultiplayerConnect:this.handleMultiplayerConnect}});E(this,"pfTab",{id:tw,title:"Port Forwarding",component:Zwe,svg:u(Cae,{}),props:{goToHosts:()=>this.openTab(rd)}});E(this,"sftpTab",{id:ss,title:"SFTP",component:n6e,svg:u(yy,{}),props:{addTerminalTab:this.openConnection,goToSftp:()=>this.openTab(ss)}});E(this,"snippetsTab",{id:nw,title:"Snippets",component:WAe,svg:u(Uy,{}),props:{addTerminalTab:this.openConnection,openWorkspaceTemplate:this.openWorkspaceTemplate}});E(this,"keyChainTab",{id:uX,title:"Keychain",component:Ebe,svg:u(IR,{height:"14px",widths:"14px"}),props:{}});E(this,"knowHostsTab",{id:pX,title:"Known Hosts",component:Hbe,svg:u($R,{height:"14px",widths:"14px"}),props:{}});E(this,"logsTab",{id:hX,title:"Logs",component:Wle,svg:u(hu,{height:"14px",widths:"14px"}),props:{onOpenSessionLog:this.onOpenSessionLogFromHistory},unmountOnExit:!0});E(this,"baseTabs",[this.hostsTab,this.keyChainTab,this.sftpTab,this.pfTab,this.snippetsTab,this.knowHostsTab,this.logsTab]);E(this,"leftPanelTabs",this.baseTabs.filter(n=>n.id!==this.sftpTab.id));on.callbackMap.openLocalTerminal=()=>this.openLocalhostConnection(),on.callbackMap.openSerialConnection=()=>this.maybeOpenSerialConnection("Shortcut"),on.callbackMap.switchToPortForwarding=()=>this.openTab(tw),on.callbackMap.switchToTerminals=()=>this.openTab(rd),on.callbackMap.switchToSnippets=()=>this.openTab(nw),on.callbackMap.switchToTab=o=>{if(o===1){this.openHomeTab();return}if(o===2){this.openSftpTab();return}const{tabs:r}=this.props;if(r.length===0)return;if(o===9){this.openTab(r[r.length-1].id);return}const i=wL(o-2,1,r.length)-1;this.openTab(r[i].id)},on.callbackMap.closeTab=()=>this.closeTab(this.props.currentPath),on.callbackMap.switchBottomTab=()=>{this.openTab(this.getTerminalTabIdByOffset(this.props.currentPath,1))},on.callbackMap.switchTopTab=()=>{this.openTab(this.getTerminalTabIdByOffset(this.props.currentPath,-1))},on.callbackMap.toggleSidepanel=()=>{this.toggleSidepanel("Shortcut")},on.callbackMap.toggleSplitViewBroadcastMode=()=>{this.toggleSplitViewBroadcastMode()},on.callbackMap.openCommandPalette=()=>{this.props.dispatch(Dr())},on.callbackMap.openJumpTo=()=>{this.props.dispatch(Dr({filter:rs.JUMP_TO}))},on.callbackMap.openNewTab=()=>{this.openNewTab()}}componentDidMount(){ri().addListener("enter-full-screen",this.recalculateTabWithOnChangeFullScreenMode),ri().addListener("leave-full-screen",this.recalculateTabWithOnChangeFullScreenMode),ri().addListener("close",this.handleWindowWillBeClosed),this.disposables.add(Un(this.props.sagas,XY,({payload:n})=>{const{windowId:o,connections:r}=n;if(o===ge())for(const{connection:i,connectionOrigin:s,tabTitle:a,acquisitionChannel:l}of r){const c=this.setUpConnection(new pt({...i})),d=this.findByConnectionId(c.id),p=d==null?void 0:d.tab;c.protocol==="stream"&&p?this.openTab(p.id):(this.sendConnectionInitiatedEvent({connection:c,connectionOrigin:s,acquisitionChannel:l}),this.openConnection({connection:c,title:a}))}})).add(Un(this.props.sagas,JY,({payload:n})=>{n.windowId===ge()&&this.openSerialConnection({serialSource:n.source})})).add(Un(this.props.sagas,eX,({payload:n})=>{var r;const o=new yt(n);this.props.dispatch(Pg(o)),this.props.dispatch(Va({snippetSource:"Snippets Screen",isSharedEntity:Wt(o.is_shared),isExecutedInMultipleTabs:"yes",snippetPackageID:Is(o),isExecutedInSplitView:"no",aianalyticsID:o.aianalyticsID,snippetID:`${o.id??-1}`,predefinedSnippetPackageID:(r=o.package)==null?void 0:r.analytics_id,isWorkspace:"no",workspaceTemplateID:void 0}))})).add(Un(this.props.sagas,Z8,({payload:n})=>{const{windowId:o,source:r,targetTabPosition:i}=n;o===ge()&&this.maybeOpenSerialConnection(r,i)})).add(Un(this.props.sagas,K8,({payload:n})=>{const{windowId:o,connectionOrigin:r,targetTabPosition:i}=n;o===ge()&&this.openLocalhostConnection(r,i)})).add(Un(this.props.sagas,tX,({payload:n})=>{n.windowId===ge()&&this.openTab(this.props.homePath)})).add(Un(this.props.sagas,nX,({payload:n})=>{n.windowId===ge()&&this.openTab(this.sftpTab.id)})).add(Un(this.props.sagas,q2,()=>{this.openTab(rd)})).add(Un(this.props.sagas,H8,()=>{this.openTab(ss)})),this.forceUpdate()}componentDidUpdate(n){const{currentPath:o}=this.props;if(n.currentPath!==o){const r=this.findTabById(o);r!=null&&this.setWindowTitle(r.title)}this.cleanUpTerminals(this.props.terminals,n.terminals)}componentWillUnmount(){ri().removeListener("enter-full-screen",this.recalculateTabWithOnChangeFullScreenMode),ri().removeListener("leave-full-screen",this.recalculateTabWithOnChangeFullScreenMode),ri().removeListener("close",this.handleWindowWillBeClosed),this.disposables.dispose(),this.disposables=new gt}duplicateConnection(n,o){const r=this.props.getHostData(n.host.local_id),i=r?new _t(r):n.host,s=this.setUpConnection(new pt({...n,host:i,id:void 0,colorSchemeName:o.name.toLowerCase()}));return s.sessionLogData!=null&&n.protocol!=="session-log"&&(s.sessionLogData=Hk(s),s.sessionLogAnalytics=Wx(a=>this.props.dispatch(a))),s}cleanUpTerminals(n,o){const r=Object.values(n),i=Object.values(o),s=HP(i,r,"id");s.length&&this.props.dispatch(kL(s))}isLeftPanelVisible(){const{isHorizontalTabActive:n}=this.props,o=this.props.currentPath===this.sftpTab.id;return!(n||o)}render(){const{tabs:n,currentPath:o,themeColorsState:r}=this.props,i=this.isLeftPanelVisible(),s=Je.getClasses(this.props);return L(f.Fragment,{children:[u(vye,{focusActiveTerminal:this.focusActiveTerminal,enterHosts:this.enterHosts}),u(C6e,{singletons:this.props.singletons,children:u(y6e,{value:{duplicateTab:this.duplicateTab,renameTab:this.renameTab,renameTerminal:this.renameTerminal,removeTab:this.closeTab,toggleSidepanel:this.toggleSidepanel,openTab:this.openTab,openTerminal:this.openTerminal},children:L(z6e,{tabs:n,findTabByTerminal:this.findTabByTerminal,currentPath:o,currentLayoutTabsOrder:this.props.currentLayoutTabsOrder,children:[u(Xje,{isTerminalTabActive:this.props.isAnyTerminalTabActive}),L("div",{className:s.paneSplit,children:[u("div",{className:ce(s.pane1,{[s.visible]:i}),children:u(gUe,{baseTabs:this.leftPanelTabs,activeTabId:o,onActiveTabChange:this.openTab,tabsClosed:!i})}),L("div",{className:s.pane2,children:[u(eUe,{baseTabs:this.baseTabs,currentPath:o}),u(Jh,{value:"terminal",children:n.map(a=>u(fX,{path:a.id,children:u(dWe,{tab:a,enterHosts:this.enterHosts,openWorkspaceTemplate:this.openWorkspaceTemplate})},a.id))})]})]}),u($je,{themeColorsState:r,tabs:n,onTerminalTabRetry:this.onTerminalTabRetry,terminals:this.props.terminals,activeTabId:o,onActiveTabChange:this.openTab,onTerminalTabTitleChange:this.onTerminalTabTitleChange,onCloseTab:this.closeTab,workspaces:this.props.workspaces})]})})})]})}}const $6=t=>e=>e.id===t,FE=t=>{var o;const{host:e,protocol:n}=t;return new pt({host:new _t({...e}),protocol:n,connectedAt:t.connected_at,sessionLogData:(o=t.session_log_data)!=null&&o.name?{...t.session_log_data,localId:t.local_id}:void 0})},yUe=()=>({paneSplit:{display:"flex",width:"100%",height:"calc(100% - 51px)"},pane1:{height:"100%",position:"relative",width:0},visible:{width:185,"@media (max-width: 800px)":{width:68}},pane2:{flex:"1",height:"100%",position:"relative",overflowX:"hidden",zIndex:0},paper:{backgroundColor:bt.colors.primary.light,border:`1px solid ${bt.colors.primary.darker}`,minWidth:"174px"},itemRoot:{padding:"5px 23px",height:28,cursor:"default","&:hover":{backgroundColor:bt.colors.primary.lighter}},name:{...bt.typography.fonts.r12w}}),SUe=t=>({shellPath:aee(t),isProUser:zt(t),userType:Q2(t),userDataPath:xN(t),isTeam:lo(t),isOwner:Z2(t),sshKnownHosts:_s(t),tabs:Fa(t,ge()),terminals:Zh(t,ge()),currentPath:ka(t),homePath:GC(t),broadcastTabs:xg(t),getColorScheme:Wa(t),getHostData:$k(t),isSidepanelVisible:bc(t,ge()),themeColorsState:fc(t,ge()),isCommandPaletteOpen:wP(t),sessionLogsSettings:S8(t),isAnyTerminalTabActive:mX(t,ge()),isHorizontalTabActive:gX(t,ge()),currentLayoutTabsOrder:l6e(t),existingHosts:cc(t),vaults:Gk(t),workspaces:Mi(t),deviceId:d1(t),centrifugeClientId:Qh(t)}),bUe=Je(_o(SUe)(CUe),yUe,{name:"ConnectedAppLayout"});function wUe(t){const e=lt(vX);return gc(t??e)}const _Ue=f.lazy(()=>P(()=>import("./SnackbarController-ef8b013b.js"),["./SnackbarController-ef8b013b.js","./reconnectSaga-e33541d6.js","./reconnectSaga-b241274d.css"],import.meta.url).then(t=>({default:t.SnackbarController})));function xUe(){const t=tt(),{cx:e,classes:n}=AUe(),o=V(CX),r=V(yX),i=V(J8),s=V(SX),a=wUe();return u(bX,{value:a,children:L("div",{className:e(n.root,a.terminalColors),children:[u(f.Suspense,{fallback:null,children:u(_Ue,{})}),u(wX,{}),u(_X,{show:i&&(o||r)}),(s||i)&&u(bUe,{sagas:t,singletons:jy})]})})}const AUe=K()({root:{width:"100%",height:"100%"}});function*TUe({payload:{stateIsOpen:t,stateFilter:e,payloadIsOpen:n,payloadFilter:o,commandPaletteStateChangedVia:r="Shortcut",commandPaletteOpenedVia:i}}){const s=!t&&n,c=t&&n&&e!==o;if(s){const d=un();yield*G(xX(d)),yield*IUe({filter:o,commandPaletteInstanceID:d,commandPaletteStateChangedVia:r,commandPaletteOpenedVia:i});return}if(c){const{commandPaletteInstanceID:d,isJumpToButtonVisible:p}=yield*Y(RL);yield*EUe({stateFilter:e,payloadFilter:o,isJumpToButtonVisible:p,commandPaletteInstanceID:d,commandPaletteStateChangedVia:r})}}function*IUe({filter:t,commandPaletteInstanceID:e,commandPaletteStateChangedVia:n,commandPaletteOpenedVia:o}){if(o){yield*G(S5({commandPaletteOpenedVia:o,commandPaletteInstanceID:e}));return}if(n==="Shortcut"){const r=kUe(t);if(!r)return;yield*G(S5({commandPaletteOpenedVia:r,commandPaletteInstanceID:e}));return}if(n==="Click"){if(!t){Cs.exception("Cannot send command palette open event without filter",{commandPaletteStateChangedVia:n});return}const r=RUe(t);if(!r)return;yield*G(S5({commandPaletteOpenedVia:r,commandPaletteInstanceID:e}))}}function*EUe({stateFilter:t,payloadFilter:e,commandPaletteStateChangedVia:n,isJumpToButtonVisible:o,commandPaletteInstanceID:r}){yield*G(AX({commandPaletteCurrentState:NE(e),commandPalettePreviousState:NE(t),commandPaletteStateChangedVia:n,commandPaletteInstanceID:r,isJumpToButtonVisible:o}))}function kUe(t){return{[rs.JUMP_TO]:"CMD+J",default:"CMD+K"}[t||"default"]}function RUe(t){return{[rs.JUMP_TO]:"Jump to Connection Button"}[t]}function NE(t){return{[rs.JUMP_TO]:"Jump To",default:"All Suggestions"}[t||"default"]}function*PUe({payload:{isJumpToButtonVisible:t}}){yield*G(TX(t?"yes":"no"))}function*LUe({payload:{position:t,commandPaletteItemType:e,commandPaletteItemSelectedVia:n}}){const{commandPaletteInstanceID:o}=yield*Y(RL);yield*G(IX({position:t,commandPaletteItemType:e,commandPaletteInstanceID:o,commandPaletteItemSelectedVia:n}))}function*MUe({payload:t}){const{userInput:e,isOpen:n,filter:o,commandPaletteStateChangedVia:r,commandPaletteOpenedVia:i}=t||{};if(yield*Y(p=>F8(p,ge()))){yield*G(ow({isOpen:!1}));return}const{isOpen:a,filter:l}=yield*Y(Q8),c=OUe({stateIsOpen:a,stateFilter:l,payloadIsOpen:n,payloadFilter:o}),d={...c,userInput:e};yield*gn([G(PL({stateIsOpen:a,stateFilter:l,commandPaletteStateChangedVia:r,commandPaletteOpenedVia:i,payloadIsOpen:c.isOpen,payloadFilter:c.filter})),G(ow(d))])}function OUe({payloadIsOpen:t,payloadFilter:e,stateFilter:n,stateIsOpen:o}){return t?{isOpen:t,filter:e}:t===!1?{isOpen:!1}:e&&e!==n?{isOpen:!0,filter:e}:o?{isOpen:!1,filter:void 0}:{isOpen:!0,filter:e}}function*DUe({payload:{path:t,position:e,commandPaletteItemSelectedVia:n}}){let o=t,r="Active Connection";t===Mm.SFTP&&(o=ss,r="SFTP"),t===Mm.VAULTS&&(o=yield*Y(GC),r="Vault"),yield*gn([G(od({commandPaletteItemType:r,commandPaletteItemSelectedVia:n,position:e})),G(fr(o))])}function*FUe({payload:{dialogData:{target:t}}}){(yield*Y(Q8))&&t===ge()&&(yield*G(Dr({isOpen:!1})))}function*NUe(){yield*gn([fe(Dr,MUe),fe(aR,DUe),fe(EX,FUe),HUe()])}function*HUe(){yield*gn([fe(PL,TUe),fe(od,LUe),fe(gL,PUe)])}const pl={snippetsPackage:t=>new Eo(t),snippet:t=>new yt(t),key:t=>new ft(t),identity:t=>new Nt({...t,is_visible:!0}),sep:t=>new Yt({...t,is_shared:!1})},BUe=1500,zUe=500,VUe=1e3,hj=({proFeaturesDialogOptions:t,dirtyFields:e,isPro:n,modifiedEntity:o,isManualSavingForm:r})=>{const i=t==null?void 0:t.triggerFormFieldKey,s=r?o:e;return s!=null&&WUe(s,i)&&!ds(s==null?void 0:s[i])&&!n};function WUe(t,e){return!!t&&!!e&&e in t}function jUe(t,e){return kX(t,e,function(n,o){return RX(t,o)})}var UUe=PX(function(t,e){return t==null?{}:jUe(t,e)});const Cb=UUe;function*HE(t){const{pathFormDetails:e,page:n,autoSaveMeta:o,instantSaveMeta:r}=t;yield*G(Dn(n).applyFormChanges.failure(void 0,o.requestId)),r&&(yield*G(Dn(n).saveFormInstantly.failure(void 0,r.requestId))),yield*G(ZC(e))}function*$Ue(t){const{pathFormDetails:e,instantSaveMeta:n,controllerRef:o,page:r}=t;try{yield*De(()=>{var i;return bs(W2,void 0,(i=o.controller)==null?void 0:i.signal)}),yield*G(LX(e)),o.controller=void 0,yield*G(Dn(r).saveFormInstantly.failure("discardChanges",n.requestId))}catch{yield*G(ZC(e)),o.controller=void 0,yield*G(Dn(r).saveFormInstantly.failure("closeDiscardDialog",n.requestId))}}function*qUe(t){const{formType:e,modifiedEntity:n}=t;let o=n;try{switch(e){case"snippet":o=yield*Ws(Ol,pl.snippet(n));break;case"snippetsPackage":o=yield*Ws(nP,pl.snippetsPackage(n));break;case"key":o=yield*Ws(Wh,{entity:pl.key(n)});break;case"identity":o=yield*Ws(jh,pl.identity(n));break;case"sep":o=(yield*Ws(gR,[pl.sep(n)]))[0];break;default:break}return pl[e](o)}catch{return}}function*GUe(t){const{instantSaveRequestId:e,autoSaveRequestId:n,dirtyFields:o,savedEntity:r,page:i,modifiedEntity:s,entitySavedEvent:a,pathFormDetails:l}=t,c=Object.keys(o??{}),d=Cb(r,c);yield*G(Dn(i).applyFormChanges.success({updatedFields:d,savedEntity:r},n)),!!e&&(yield*G(Dn(i).saveFormInstantly.success(void 0,e))),a==null||a({savedEntity:r,originalEntity:s})}function*KUe(t){const{preview:e,modifiedEntity:n,pathFormDetails:o,autoSaveMeta:r,instantSaveMeta:i,page:s}=t,a=Object.keys(e||{}),l=Cb(n,a);yield*G(MX({preview:QC({},e,l),...o}));const c=i==null?void 0:i.requestId;c&&(yield*G(Dn(s).saveFormInstantly.success(void 0,c))),yield*G(Dn(s).applyFormChanges.success({updatedFields:l,savedEntity:n},r.requestId))}function*fj(t){const{pathFormDetails:e,preview:n,modifiedEntity:o,modifiedEntityIsValidForSaving:r,instantSaveMeta:i,autoSaveMeta:s,entitySavedEvent:a,dirtyFields:l,controllerRef:c,page:d,proFeaturesDialogOptions:p,isManualSavingForm:h}=t,{formId:m,formType:g}=e,C=yield*Y(zt),v=!!(i!=null&&i.requestId);if(!r&&!!l&&v){c.controller=new AbortController,yield*G(Dn(d).applyFormChanges.failure(void 0,s.requestId)),yield*De($Ue,{...t,instantSaveMeta:i});return}if(!r){yield*De(HE,t);return}if(c.controller&&c.controller.abort(),ds(l)&&!h){yield*De(KUe,t);return}const b=yield*De(qUe,{formType:g,modifiedEntity:o,page:d,meta:s});if(!b){yield*De(HE,t);return}yield*De(GUe,{autoSaveRequestId:s.requestId,instantSaveRequestId:i==null?void 0:i.requestId,dirtyFields:l,savedEntity:b,page:d,entitySavedEvent:a,modifiedEntity:o,pathFormDetails:e}),hj({proFeaturesDialogOptions:p,isPro:C,dirtyFields:l,modifiedEntity:o,isManualSavingForm:h})&&(p!=null&&p.showAfterSave)&&(yield*G(YC(p)));const x=yield*Y(sg,{page:d,formId:m}),_=b.entityLocalPath,I=_!==(x==null?void 0:x.entityLocalPath);x&&I&&(yield*G(OX({updatedEntityLocalPath:_,formId:m,page:d})));const A=Object.keys(l||{}),k=Cb(b,A);yield*G(DX({preview:QC({},n,k),formId:m,page:d}))}function*ZUe(t){const{pathFormDetails:e,autoSaveMeta:n,proFeaturesDialogOptions:o,dirtyFields:r,page:i,modifiedEntity:s,isManualSavingForm:a}=t;yield*G(ZC(e));const l=yield*Y(zt);if(o&&hj({proFeaturesDialogOptions:o,isPro:l,dirtyFields:r,modifiedEntity:s,isManualSavingForm:a})&&!o.showAfterSave&&(yield*G(YC(o))),!t.modifiedEntityIsValidForSaving){yield*G(Dn(i).applyFormChanges.failure(void 0,n.requestId));return}yield*ro(BUe),yield*G(FX(e)),yield*ro(zUe),yield*De(fj,t)}function*QUe({page:t,entity:e,previewVault:n}){if(!e||!NX(e))return;const r=e==null?void 0:e.encrypted_with,i=n==null?void 0:n.encrypted_with;if(r===i)return;const s=ct(e);yield*G(CR({page:t,entityVault:s}))}function*mj(t){const{page:e,dirtyFields:n,formId:o,meta:r,isSuccessActionRequired:i=!1}=t,s=yield*Y(sg,{page:e,formId:o}),a=s==null?void 0:s.preview;yield*G(AR({preview:QC({},a,n),formId:o,page:e})),i&&(yield*G(Dn(e).applyFormChanges.success({updatedFields:n},r.requestId)))}function*YUe(t,{payload:e,meta:n}){const{isAutosave:o,dirtyFields:r,formType:i,formIsValid:s,entitySavedEvent:a,page:l,proFeaturesDialogOptions:c,prefill:d,formId:p,isManualSavingForm:h}=e;if(!tv(i))return;const m=pl[i];if(m==null){yield*G(Dn(l).applyFormChanges.failure(void 0,n.requestId));return}const g=yield*Y(mc[i],{page:l,formId:p}),C=yield*Y(Ht[l].rootFormVault);yield*De(QUe,{page:l,entity:g,previewVault:C});const v=yield*Y(sg,{page:l,formId:p}),S=v==null?void 0:v.preview,y=g??S,b={formId:p,formType:i,page:l};yield*De(mj,{...b,dirtyFields:r,meta:n});const w=m({...y,...r,...g!=null&&g.local_id?{}:C}),x=o?w:d(w),_=!!(s!=null&&s(x)),I={pathFormDetails:b,preview:S,modifiedEntity:x,modifiedEntityIsValidForSaving:_,previewVault:C,dirtyFields:r,entitySavedEvent:a,autoSaveMeta:n,controllerRef:t,page:l,proFeaturesDialogOptions:c,isAutosave:o,isManualSavingForm:h},T=o?yield*Ut(ZUe,I):yield*Ut(gj,I);yield*fe(Li.success,function*(){yield*Fr(T)}),yield*XC(Dn(l).saveFormInstantly.request,XUe,{saveSagaParams:I,saveTask:T,formId:p,modifiedEntity:x,prefill:d,formIsValid:s}),(yield*u1(Dn(l).saveFormInstantly.failure)).payload!=="closeDiscardDialog"&&(yield*Fr())}function*XUe(t,{payload:e,meta:n}){const{saveSagaParams:o,saveTask:r,formId:i,modifiedEntity:s,prefill:a,formIsValid:l}=t;if(e===i){if(r&&(yield*Fr(r)),!o.modifiedEntity.local_id){const c=a(s);o.modifiedEntity=c,o.modifiedEntityIsValidForSaving=!!(l!=null&&l(c))}yield*Ut(gj,{...o,instantSaveMeta:n})}}function*gj(t){const{pathFormDetails:e}=t;yield*G(HX(e)),yield*De(fj,t)}function*JUe({payload:t}){const{featureName:e,openedFrom:n}=t;yield*ro(VUe);try{yield*JC({dialog:"ProFeatures",target:ge(),props:{openWithNumber:po(e),from:n}})}catch{}}function*e$e(t){const e=new Map,n={controller:void 0};yield*gn([fe(Dn(t).applyFormChanges.request,t$e,{page:t,tasks:e,controllerRef:n}),fe(YC,JUe)])}function*t$e(t,e){const{tasks:n,page:o,controllerRef:r}=t,{payload:i,meta:s}=e,{formType:a,dirtyFields:l,isManualSavingForm:c,triggerSource:d,formId:p}=i,h=n.get(p);if(h&&(yield*Fr(h)),nv(a)||d==="observe"&&c){n.set(p,yield*Ut(mj,{dirtyFields:l,page:o,meta:s,formId:p,isSuccessActionRequired:!0}));return}n.set(p,yield*Ut(YUe,r,e))}function*n$e(){const t=new Map;yield*gn([fe(dC,o$e,{tasks:t}),fe(uC,r$e,{tasks:t})])}function*o$e(t,e){const{tasks:n}=t,{page:o}=e.payload;n.has(o)||n.set(o,yield*Ut(e$e,o))}function*r$e(t,e){const{tasks:n}=t,{page:o}=e.payload,r=n.get(o);r&&(yield*Fr(r),n.delete(o))}const i$e=6e4;function*s$e(t){const e=yield*De(a$e,t);for(;;){const n=yield*u1(e);n.length&&(yield*G(BX(n)))}}function a$e(t){return xc(e=>{const n=setInterval(()=>{e(l$e(t))},i$e);return()=>{clearInterval(n)}})}const l$e=t=>Array.from(t.values()).map(({currentConnection:e,getOutputSizeInMb:n})=>e?{connectionID:e.id,size:n()}:null).filter(pn),c$e=PR({name:"centrifuge",initialState:{},reducers:{startCentrifuge:()=>{},centrifugeConnected:()=>{},centrifugeDisconnected:()=>{}}}),{startCentrifuge:qZe,centrifugeConnected:d$e,centrifugeDisconnected:u$e}=c$e.actions,bm=new Set,wm=new Set,_m=new Set,xm=new Set,Am=new Set,Tm=new Set,p$e=Object.freeze(Object.defineProperty({__proto__:null,controlWidgetSubscriptions:Tm,internalEventsSubscriptions:xm,p2pUpdatesSubscriptions:_m,sideEffectSubscriptions:Am,terminalServiceSubscriptions:wm,watchBufferTypeSubscriptions:bm},Symbol.toStringTag,{value:"Module"}));function h$e(){Object.values(p$e).forEach(t=>{t.clear()})}function*yb(t){yield*G(Mg({connectionId:t})),yield*G(ey({terminalConnectionId:t,isProcessing:!1}))}const ir=(t,e)=>{const n=t.get({connectionId:e});if(n)return n.mediator},vj=t=>!(t!=null&&t.controlRequests.length),Cj=(t,e)=>(e==null?void 0:e.controlRequests.length)===1&&(e==null?void 0:e.controlRequests[0].participantId)===t;function*yj(t,e){if(!e)return!1;const n=yield*Y(Tu,t.hostPeerId),o=n.length===1&&e&&n[0].participantId===e;return n.length>1||!o}function*f$e(t){var n;if(!t.id)return;const e=yield*Y(Cc,t.id);e&&(yield*G(ty({terminalConnectionId:t.id,hostId:((n=t==null?void 0:t.host)==null?void 0:n.id)??void 0,sessionId:e.sessionId})))}function*m$e({controllerMap:t,multiplayerProtocol:e,multiplayerAPI:n},o){var s,a,l,c;const r=o.payload,i=(s=t.get(r))==null?void 0:s.mediator;i!=null&&i.currentConnection&&((a=i==null?void 0:i.multiplayerApi)!=null&&a.stats&&(i==null?void 0:i.multiplayerApi.currentUserRole)==="host"&&(yield*G(he("sharedTerminalSessionStopped",{sharedSessionClosedBy:"Session Closed",connectionID:i.currentConnection.id,...(c=(l=i.multiplayerApi)==null?void 0:l.stats)==null?void 0:c.getAllStats()}))),i.stopMultiplayer(),yield*bj({multiplayerProtocol:e,connection:i==null?void 0:i.currentConnection,multiplayerAPI:n,terminalId:r}))}function*g$e({controllerMap:t,multiplayerProtocol:e,multiplayerAPI:n},o){var a,l,c;const r=o.payload;if(!r.id)return;yield*yb(r.id);const i=ir(t,r.id);i&&(i.stopMultiplayer(),yield*G(Yo({id:i.id,changes:{isMultiplayer:!1}}))),(a=r.host)!=null&&a.id&&(yield*Sj({connectionId:r.id,hostId:r.host.id}));let s=i==null?void 0:i.id;if(!s){const d=yield*Y(Cc,r.id);if(!d)return;s=d.terminalId}((l=i==null?void 0:i.currentConnection)==null?void 0:l.protocol)==="stream"&&((c=i.currentConnection.delegate)==null||c.onDisconnect()),yield*bj({multiplayerProtocol:e,connection:r,multiplayerAPI:n,terminalId:s})}function*v$e({payload:t}){const{terminalConnectionId:e,hostId:n}=t;!n||!e||(yield*Sj({hostId:n,connectionId:e}))}function*Sj({hostId:t,connectionId:e}){yield*G(zX({hostId:t,connectionId:e})),yield*G(TN({hostId:t,connectionId:e}))}function*bj(t){var s;const{multiplayerProtocol:e,connection:n,multiplayerAPI:o}=t;if(!n.id)return;const r=yield*Y(Cc,n.id);if(!r)return;yield*f$e(n);const i=e.getPeerInfoById(r.sessionId);i&&e.removePeer(i.peerInfo.peer.id),(s=o.getMultiplayerApiByConnectionId(r.sessionId))==null||s.dispose()}function*C$e(){yield*G(VX(void 0))}function*y$e(){const t=yield*Y(Ag);for(const e of t)yield*G(wc({id:e.terminalConnectionId,host:new _t({id:e.hostId})}))}const l8=t=>{const e=[rd,ss].includes(t),n=t.startsWith(Y2);return e||n};function*rn(t,e,n){const o=S$e(t);return yield*fe(o,e,n),o}function S$e(t){return xc(e=>{const n=t.subscribe({next:e,complete:()=>e(rw),error:()=>e(rw)});return()=>n.unsubscribe()})}const b$e=t=>{const{action:e,connectionId:n,terminalId:o}=t,r=n&&wc.match(e)&&e.payload.id===n,i=o&&p1.match(e)&&e.payload===o;return r||i};function*Yu(t){const{connectionId:e,terminalId:n,onClose:o}=t,r=yield*ny([wc,p1],function*(s){b$e({action:s,connectionId:e,terminalId:n})&&(yield*De(o),r.cancel())})}function w$e(t,e){return xc(n=>{const o=new gt,r=t.connectionEvents.onControlRequested.subscribe(({participantId:a})=>{const l=_$e(t,a);l&&n(ur({terminalId:e,state:l}))}),i=t.connectionEvents.onControlGranted.subscribe(({participantId:a})=>{const l=x$e(t,a);n(ur({terminalId:e,state:l}))}),s=t.connectionEvents.onControlTaken.subscribe(()=>{n(ur({terminalId:e,state:"shared"}))});return o.add(r).add(i).add(s),()=>o.dispose()})}function _$e(t,e){const n=t.controlOwnerId===t.participantId;if(e===t.participantId)return"requesting-control";if(t.currentUserRole==="host"||n)return"notification"}function x$e(t,e){return e===t.participantId?t.currentUserRole==="host"?"shared":"you-control-owner":"member-control-owner"}function*A$e(t,{payload:e}){const{terminalConnectionId:n,terminalId:o}=e,{controllerMap:r}=t,i=ir(r,n),s=i==null?void 0:i.multiplayerApi;if(!s||Tm.has(n))return;const a=w$e(s,o);yield*fe(a,G);const l=new gt,{onParticipantLeft:c,onControlRequestCancelled:d,onControlRequestsRejected:p}=s.connectionEvents,h=yield*rn(c,T$e,{multiplayerApi:s,terminalId:o}),m=yield*rn(d,BE,{multiplayerApi:s,terminalId:o}),g=yield*rn(p,BE,{multiplayerApi:s,terminalId:o});l.add(h).add(m).add(g),Tm.add(n),yield*Yu({connectionId:n,terminalId:o,onClose:()=>{a.close(),l.dispose(),Tm.delete(n)}})}function*BE(t,e){const{multiplayerApi:n,terminalId:o}=t;let r;if("participantId"in e&&(r=e.participantId),"authorOfReject"in e&&(r=e.authorOfReject),yield*yj(n,r)){yield*G(ur({terminalId:o,state:"notification"}));return}const s=I$e(n);yield*G(ur({terminalId:o,state:s}))}function*T$e(t,e){const{multiplayerApi:n,terminalId:o}=t,{participantId:r}=e;if(!n.isMultiplayerSessionActive())return;const i=yield*Y(ja,n.hostPeerId);if(i&&(vj(i)||Cj(r,i))){yield*G(ur({terminalId:o,state:"shared"}));return}yield*G(ur({terminalId:o,state:"notification"}))}function I$e(t){return t.controlOwnerId!==t.participantId?"member-control-owner":t.currentUserRole==="host"?"shared":"you-control-owner"}function wj(t){return!(t!=null&&t.currentConnection)}function*E$e(t,{payload:e}){const n=ir(t.controllerMap,e.connectionId),o=n==null?void 0:n.id;if(!o||wj(n))return;const r=yield*Y(UC,o),i=yield*Y(oy,o);yield*G(h1({terminalId:o,status:"loading"})),!r&&i&&(yield*G(Eg({terminalId:o})))}const k$e={connecting:"loading",connected:"success",error:"error",default:"default"};function*zE(t,e){const{terminalId:n,sessionId:o}=e;if(t.sessionId!==o)return;const r=k$e[t.status];if(yield*G(h1({terminalId:n,status:r})),r!=="success")return;(yield*Y(ry,n))==="inactive"&&(yield*G(ur({terminalId:n,state:"shared"}))),yield*ro(sv);const s=yield*Y(_c,o);(yield*Y(UC,n))&&!s&&(yield*G(Eg({terminalId:n})),yield*G(Dl({sessionId:o})))}function*R$e(t,{payload:e}){const{sessionId:n,terminalId:o,terminalConnectionId:r}=e;if(yield*zE({sessionId:n,status:"connected"},{sessionId:n,terminalId:o}),Am.has(r))return;Am.add(r);const s=[];s.push(yield*fe([oo,fr],P$e,{sessionId:n,terminalId:o})),s.push(yield*ny(LL,function*(l){yield*zE(l.payload,{sessionId:n,terminalId:o})})),s.push(yield*fe(Dl,M$e,{sessionId:n,terminalId:o,singletons:t})),s.push(yield*fe(ty,function*(l){l.payload.sessionId===n&&(Am.delete(r),yield*Fr(s),yield*L$e({terminalId:o}))}))}function*P$e(t){const{sessionId:e,terminalId:n}=t;if((yield*Y(oy,n))&&e){yield*G(IC({sessionId:e,seenByHost:!0}));return}(yield*Y(_c,e))&&(yield*G(Dl({sessionId:e})))}function*L$e(t){const{terminalId:e}=t;(yield*Y(oL,e))==="success"&&(yield*G(h1({terminalId:e,status:"default"})))}function*M$e(t){var l;const{terminalId:e,sessionId:n,singletons:o}=t,{controllerMap:r}=o,i=(l=r.get(e))==null?void 0:l.mediator;if(!(i==null?void 0:i.multiplayerShellBridge.canManageControlOwnership))return;(yield*Y(_c,n))||(yield*G(IC({sessionId:n,seenByHost:!1})))}function*O$e(t){yield*gn([fe(Nl,A$e,t),fe(Nl,R$e,t),fe(p1,D$e),fe(wc,B$e),fe(fr,N$e),fe(fr,H$e),fe(OC,F$e),fe(is.request,E$e,t)])}function*D$e({payload:t}){yield*G(WX({terminalId:t})),yield*G(jX({terminalId:t}))}function*F$e({payload:t}){yield*G(h1({terminalId:t})),(yield*Y(ry,t))||(yield*G(ur({terminalId:t,state:"inactive"})))}function*N$e({payload:t}){if(l8(t)){yield*G(CL());return}const e=yield*Y(UX),n=yield*_j(t,e);!e||n||(yield*G(Eg({terminalId:e})))}function*H$e({payload:t}){const e=yield*Y(ML);if(!e)return;const[n,o]=e,s=t===rd||t===ss,a=yield*_j(t,n);(s||a)&&(yield*G(ur({terminalId:n,isOpened:!1,state:o.state})))}function*_j(t,e){return(yield*Y(r=>Ig(r,t))).some(r=>r.id===e)}function*B$e({payload:t}){const e=yield*Y(iy,t.id);e&&(yield*G(ur({terminalId:e.id,state:"inactive",isOpened:!1})))}function*Qr(t,e){const n=yield*Y(z$e,t);if(!n)return;const{multiplayerAPI:o,controllerMap:r}=e,i=yield*De(ir,r,n);if(!i)return;const s=o.getOrCreateMultiplayerApi(i.id);return{messageSender:new JO(s),multiplayerApiInstance:s,mediator:i}}function z$e(t,e){const n=t.multiplayer.connections[e];return n?n.terminalConnectionId:void 0}function*V$e(t,e){const{sessionId:n}=e.payload,o=yield*Y(Ts,n),r=yield*Y(ys),i=o.find(h=>h.isHost),s=e.payload.peerId,a=(i==null?void 0:i.peerId)===s;if(!i||i.userId!==r||a)return;const l=yield*Y(ja,n);if(!l)return;yield*G(Mg({connectionId:l==null?void 0:l.terminalConnectionId}));const c=yield*De(Qr,n,t),d=(c==null?void 0:c.multiplayerApiInstance.currentUserRole)==="host";if(!c||!d)return;const{messageSender:p}=c;p.sendSessionState({peers:o,receivers:[s]})}function*W$e({multiplayerProtocol:t},e){var m;const{connectionId:n}=e.payload,o=yield*Y(Cc,n);if(!o)return;const r=yield*Y(ys),i=yield*Y(d1),s=yield*Y(Qh);if(!o.hostId||!r||!i||!s)return;const{sessionId:a,hostId:l,terminalConnectionId:c,participants:d}=o,p=t.getPeerInfoById(a);Ce((m=p==null?void 0:p.peerInfo)==null?void 0:m.inviteLink,OL);const h=p.peerInfo.inviteLink;yield*G(AN({peerId:a,inviteLink:h,userId:r,hostId:l,connectionId:c,participantAmount:d.length,ownerDeviceId:i,ownerCentrifugeClientId:s})),yield*G(Mg({connectionId:n}))}function*xj(t){var d;const{role:e,participantId:n,username:o,userAccountId:r,hostPeerId:i,peerId:s,inviteLink:a,terminalId:l,connection:c}=t;yield*yb(c.id),yield*G(Yo({id:l,changes:{isMultiplayer:!0}})),yield*G(Nl({windowId:ge(),sessionId:i,inviteLink:a,terminalId:l,terminalConnectionId:c.id,hostId:hr((d=c.host)==null?void 0:d.id,void 0),participant:{participantId:n,peerId:s,userId:r,isHost:e==="host",isControlOwner:e==="host",username:o}}))}function*j$e(t,e){const{multiplayerProtocol:n,controllerMap:o}=t,{connectionId:r,sessionId:i,startSharingSource:s}=e.payload,a=ir(o,r);if(!(a!=null&&a.currentConnection))return;const l=yield*Y(ys),c=yield*Y(d1);if(!l||!c)return;const d=yield*Y(sy),p=yield*Y(Qh),h=n.getPeerInfoById(i);Ce(h==null?void 0:h.peerInfo.inviteLink,OL);const{inviteLink:m}=h.peerInfo;yield*G(he("sharedTerminalSessionStarted",{connectionID:r,terminalSharingSource:s,isWorkspace:"no"})),yield*xj({role:"host",participantId:a.multiplayerApi.participantId,hostPeerId:i,peerId:i,userAccountId:l,username:hr(d,""),inviteLink:m,connection:a.currentConnection,terminalId:a.id}),yield*G(AN({peerId:i,inviteLink:m,userId:l,hostId:hr(a.currentConnection.host.id,void 0),connectionId:r,participantAmount:1,ownerDeviceId:c,ownerCentrifugeClientId:p}))}function*U$e({payload:t}){const{connectionId:e}=t;yield*G(Mg({connectionId:e})),yield*G(ey({terminalConnectionId:e,isProcessing:!1}));const n=yield*Y(iy,e);n&&(yield*G(h1({terminalId:n.id,status:"default"})))}function*$$e(t,{payload:e}){var m,g;const{controllerMap:n,multiplayerProtocol:o}=t,{connection:r}=e;if(r.protocol!=="stream")return;const i=(m=r.stream)==null?void 0:m.peerId;if(Ce(i,$X),yield*Y(Cc,r.id))return;const a=ir(n,r.id);if(!a)return;const l=o.getPeerInfoById(i);if(!((g=l==null?void 0:l.peerInfo)!=null&&g.inviteLink))return;const{currentUserPeerId:c}=l,d=yield*Y(sy),p=yield*Y(ys);(yield*Y(ry,a.id))||(yield*G(ur({terminalId:a.id,state:"shared"}))),yield*xj({role:"participant",participantId:a.multiplayerApi.participantId,hostPeerId:i,peerId:c,userAccountId:hr(p,void 0),username:hr(d,""),inviteLink:l.peerInfo.inviteLink,connection:r,terminalId:a.id})}function q$e(t){return(t==null?void 0:t.title)||lL}function G$e(t){const{requestId:e,multiplayerProtocol:n,mediator:o,config:r,token:i,username:s,userAccountId:a,terminalTitle:l,startSharingSource:c}=t,d=xc(p=>{const h=K$e({emit:p,mediator:o});return(async()=>{var C;if(!((C=o.currentConnection)!=null&&C.id))return;const g=o.currentConnection.id;try{const v=await o.startMultiplayerByHost({onOpen:h,multiplayerProtocol:n,config:r,token:i,username:s,userAccountId:a,terminalTitle:l});if(!v)throw new b1("Failed to create peer id");const S=v;p(is.success({sessionId:S,connectionId:g,startSharingSource:c},e))}catch{p(is.failure({connectionId:g},e)),d.close(),p(he("sharedTerminalSessionFailed",{connectionID:g}))}})().catch(He),()=>{}});return d}function K$e(t){const{mediator:e,emit:n}=t;return o=>{const{sessionId:r,terminalSize:i,conn:s,initTerminalBufferData:a}=o;n(LL({sessionId:r,status:"connected"})),n(DL({sessionId:r,terminalSize:i,receivers:[s.peer]})),n(FL({sessionId:r,data:a,receivers:[s.peer]})),e.multiplayerApi.connectionEvents.internalEventBus.emit("userConnected",{userId:s.metadata.userId,participantId:s.metadata.participantId,participantUserName:s.metadata.username,sessionId:r,peerId:s.peer})}}function*Z$e({controllerMap:t,multiplayerProtocol:e},n){var d,p;const{connectionId:o,startSharingSource:r}=n.payload,i=yield*Y(qX,o),s=yield*Y(ys),a=yield*Y(d1);if(i||!s||!a)return;const l=ir(t,o);if(!l||wj(l))return;yield*G(ey({terminalConnectionId:o,isProcessing:!0}));const{requestId:c}=n.meta;(d=l==null?void 0:l.multiplayerApi)!=null&&d.isMultiplayerSessionActive()&&(yield*G(is.failure({connectionId:o},c)),yield*G(he("sharedTerminalSessionFailed",{connectionID:o})),Ce((p=l==null?void 0:l.multiplayerApi)==null?void 0:p.isMultiplayerSessionActive(),mt)),yield*Q$e({requestId:c,mediator:l,multiplayerProtocol:e,startSharingSource:r}),yield*ro(GX),yield*yb(o)}function*Q$e(t){var d;const{mediator:e}=t;Ce(e.currentConnection,ay);const n=(d=e.currentConnection)==null?void 0:d.id,o=yield*Wre(e.currentConnection),{rtcConfig:r,token:i}=o;if(!r||!i){yield*G(is.failure({connectionId:n},t.requestId));return}const s=yield*Y(ys),a=yield*Y(sy),l=yield*Y(p=>nn(p,e.id)),c=yield*De(G$e,{...t,config:r,token:i,userAccountId:hr(s,void 0),username:hr(a,""),terminalTitle:q$e(l)});yield*fe(c,G),yield*Yu({connectionId:n,terminalId:e.id,onClose:()=>{c.close()}})}function*Y$e({controllerMap:t,multiplayerProtocol:e}){yield*gn([fe(is.request,Z$e,{controllerMap:t,multiplayerProtocol:e}),fe(is.success,j$e,{controllerMap:t,multiplayerProtocol:e}),fe(is.failure,U$e),fe(vg,$$e,{controllerMap:t,multiplayerProtocol:e}),fe([KX,d$e,r6e],X$e)])}function*X$e(){var i,s;const t=yield*Y(ys),e=yield*Y(d1),n=yield*Y(Qh);if(!t||!e||!n)return;const o=yield*Y(J$e),r=[];for(const a of o){const l=(i=a.host)==null?void 0:i.id;if(l){const d=((s=(yield*Y(cR,l)).find(p=>p.connectionId===a.connectionId))==null?void 0:s.participantAmount)??1;r.push({hostId:l,connectionId:a.connectionId,participantAmount:d})}}yield*G(o6e({type:i6e.type,payload:{userId:t,ownerDeviceId:e,ownerCentrifugeClientId:n,hosts:r}}))}const J$e=t=>Object.values(t.terminal.all).filter(e=>e.connectionProcess==="succeeded");function eqe(t,e,n){Ce(e.multiplayerApi.isMultiplayerSessionActive(),mt);const o=e.multiplayerApi,{hostPeerId:r}=o,{stats:i}=o,s=new gt;return xc(a=>{const l={connectionId:t,apiInstance:o,hostPeerId:r,emit:a,participants:n,stats:i},c=o.connectionEvents;return s.add(c.onSessionStateUpdate.subscribe(d=>tqe({data:d,...l}))).add(c.onControlRequestAccepted.subscribe(()=>{a(NL({sessionId:r}))})).add(c.onControlTaken.subscribe(d=>{const{previousControlOwnerId:p}=d;e.multiplayerShellBridge.isParticipantPreviousControlOwner(p)&&a(he("remoteControlPassed",{controlPassedBy:"Taken By Owner",isOwner:"no",connectionID:t}))})).add(c.onCloseConnection.subscribe(()=>{a(wc({id:t}))})),()=>s.dispose()})}function tqe(t){const{connectionId:e,data:n,apiInstance:o,hostPeerId:r,emit:i,participants:s,stats:a}=t;if(Ce(o==null?void 0:o.hostPeerId,mt),(o==null?void 0:o.currentUserRole)==="host")return;const l=n.peers.find(c=>c.isControlOwner);l&&e&&nqe({data:n,apiInstance:o,controlOwnerFromMessage:l,emit:i,hostPeerId:r,connectionId:e,participants:s}),(l==null?void 0:l.participantId)!==o.participantId&&i(Vt({sessionId:r,state:"compact"})),n.peers.forEach(c=>{a==null||a.addViewer(c.participantId,n.peers.length)})}function nqe(t){const{data:e,apiInstance:n,controlOwnerFromMessage:o,emit:r,hostPeerId:i,participants:s}=t;n.setControlOwner({participantId:o.participantId,peerId:o.peerId});const a=e.peers.find(h=>h.participantId===n.participantId);r(ZX({sessionId:i,controlOwnerId:o.participantId,me:a}));const l=new Set(s.map(h=>h.participantId)),c=new Set(e.peers.map(h=>h.participantId)),d=s.filter(h=>!c.has(h.participantId)).map(h=>h.participantId),p=e.peers.filter(h=>!l.has(h.participantId));d.forEach(h=>n==null?void 0:n.connectionEvents.onParticipantLeft.next({participantId:h})),p.forEach(h=>n==null?void 0:n.connectionEvents.onParticipantJoined.next({participantId:h.participantId,userId:h.userId,peerId:h.peerId,isControlOwner:h.participantId===o.participantId,isHost:h.peerId===i,username:h.username}))}function*oqe({controllerMap:t},{payload:e}){const{terminalConnectionId:n,sessionId:o}=e,r=yield*Y(Ts,o),i=ir(t,n);if(!i||_m.has(n))return;const s=i.multiplayerApi,a=yield*Y(iy,n);if(!o||!s.connectionEvents)return;const l=eqe(n,i,r);yield*fe(l,G);const c=new gt;c.add(yield*rn(s.connectionEvents.onControlRequested,cqe,i)).add(yield*rn(s.connectionEvents.onControlGranted,lqe,i)).add(yield*rn(s.connectionEvents.onControlRequestCancelled,rqe,i)).add(yield*rn(s.connectionEvents.onControlRequestsRejected,iqe,i)).add(yield*rn(s.connectionEvents.onParticipantLeft,sqe,i)).add(yield*rn(s.connectionEvents.onParticipantJoined,aqe,i)),_m.add(n),s.activate(),yield*Yu({connectionId:n,terminalId:a==null?void 0:a.id,onClose:()=>{l==null||l.close(),c.dispose(),_m.delete(n)}})}function*rqe(t,e){Ce(t.multiplayerApi.isMultiplayerSessionActive(),mt);const n=t.multiplayerApi,{hostPeerId:o}=t.multiplayerApi,r=yield*Y(Ts,o),i=yield*Y(er,t.id),s=yield*Y(Tu,o);yield*G(QX({sessionId:o,requestId:e.requestId})),s.length<=1&&i&&(yield*G(Og({tabId:i.id,hasMultiplayerNotification:!1})));const a=Aj({participantId:e.participantId,apiInstance:n,participants:r});a&&(yield*G(he("remoteControlRequestCancelled",{cancelledBy:a})))}function*iqe(t,e){Ce(t.multiplayerApi.isMultiplayerSessionActive(),mt);const n=t.multiplayerApi,{hostPeerId:o}=t.multiplayerApi,r=yield*Y(Ts,o);if(yield*G(NL({sessionId:o})),!(e!=null&&e.authorOfReject))return;const i=Aj({participantId:e.authorOfReject,apiInstance:n,participants:r});i&&(yield*G(he("remoteControlRequestCancelled",{cancelledBy:i})))}function*sqe(t,e){var c;const n=(c=t.currentConnection)==null?void 0:c.id;if(!n)return;Ce(t.multiplayerApi.isMultiplayerSessionActive(),ay);const o=t.multiplayerApi,{hostPeerId:r}=t.multiplayerApi,{stats:i}=o,s=yield*Y(er,t.id),a=yield*Y(Da,ge()),l=(a==null?void 0:a.id)===(s==null?void 0:s.id);i&&(yield*G(he("sharedTerminalViewerLeft",{currentViewers:i.getCurrentViewers()-1,isActiveTab:Wt(l),connectionID:n})),i.removeViewer()),yield*G(YX({sessionId:r,participantId:e.participantId})),s&&(yield*G(Og({tabId:s.id,hasMultiplayerNotification:!1}))),t.multiplayerShellBridge.canTakeControlBack(e.participantId)&&(yield*G(ih({sessionId:o.hostPeerId})))}function*aqe(t,e){var p;const n=(p=t.currentConnection)==null?void 0:p.id;if(!n)return;Ce(t.multiplayerApi.isMultiplayerSessionActive(),ay);const o=t.multiplayerApi,{hostPeerId:r}=t.multiplayerApi,{stats:i}=o,s=yield*Y(Ts,r),a=yield*Y(er,t.id),l=yield*Y(Da,ge()),c=(l==null?void 0:l.id)===(a==null?void 0:a.id),d=e.participantId===o.participantId;i&&n&&o.currentUserRole==="host"&&!d&&(i.addViewer(e.participantId,s.length),yield*G(he("sharedTerminalViewerJoined",{currentViewers:i==null?void 0:i.getCurrentViewers(),isActiveTab:Wt(c),connectionID:n}))),yield*G(HL({participantId:e.participantId,peerId:e.peerId,sessionId:r,userId:e.userId,isHost:e.isHost,isControlOwner:e.isControlOwner??!1,username:e.username}))}function*lqe(t,e){const n=t.multiplayerApi;if(!n.isMultiplayerSessionActive())return;const r=(yield*Y(Ts,n.hostPeerId)).find(s=>s.participantId===e.participantId);if(!r){Cs.exception("Failed to find mapped controlOwner on ControlGranted event ",new b1);return}n.setControlOwner({peerId:r.peerId,participantId:e.participantId}),yield*G(ly({sessionId:n.hostPeerId,participantId:e.participantId}));const i=yield*Y(er,t.id);i&&(yield*G(Og({tabId:i.id,hasMultiplayerNotification:!1}))),n.participantId===e.participantId&&(yield*G(he("remoteControlReceived",{isOwner:Wt((n==null?void 0:n.currentUserRole)==="host")})))}function*cqe(t,e){const n=yield*Y(er,t.id),o=yield*Y(Da,ge()),r=(o==null?void 0:o.id)===(n==null?void 0:n.id),i=t.multiplayerApi;if(!i.isMultiplayerSessionActive())return;const{hostPeerId:s}=i;yield*G(XX({sessionId:s,participantId:e.participantId,requestId:e.requestId,seenByHost:r}));const a=t.multiplayerShellBridge.canManageControlOwnership;!r&&a&&n&&(yield*G(Og({tabId:n.id,hasMultiplayerNotification:!0})))}function Aj(t){const{participantId:e,apiInstance:n,participants:o}=t;if((n==null?void 0:n.currentUserRole)==="host")return;if(e===(n==null?void 0:n.participantId))return"Viewer";const r=o.find(i=>i.participantId===e);if(r!=null&&r.isHost)return"Host";if(r!=null&&r.isControlOwner)return"Control Owner"}function dqe(t,e){var n=[];return JX(t,function(o,r,i){e(o,r,i)&&n.push(o)}),n}function uqe(t,e){var n=j8(t)?eJ:dqe;return n(t,du(e))}function*cu(t){const{message:e,messageSenderData:n,receivers:o=[]}=t;if(!n)return;const{multiplayerApiInstance:r,messageSender:i}=n;Ce(r.hostPeerId,mt);const s=yield*Y(Ts,r.hostPeerId),l=r.currentUserRole==="host"?pqe({receivers:o,participants:s}):[r.hostPeerId];i.sendMessage({message:e,receivers:l})}function pqe(t){const{receivers:e,participants:n}=t,o=new Map(n.map(r=>[r.participantId,r.peerId]));return uqe(e==null?void 0:e.map(r=>o.get(r)),pn)}function*hqe(t,e){const{sessionId:n,terminalConnectionId:o}=e.payload,r=yield*De(Qr,n,t);if(!r)return;const i=ir(t.controllerMap,o);if(!i||xm.has(o))return;const s=fqe(r);yield*fe(s,G),xm.add(o),yield*Yu({connectionId:o,terminalId:i.id,onClose:()=>{s==null||s.close(),xm.delete(o)}})}function fqe(t){const{messageSender:e,multiplayerApiInstance:n}=t;Ce(n.hostPeerId,mt);const o=new tD(n.getContext,e),r=n.hostPeerId;return xc(s=>{const a=p=>{const{participantId:h,peerId:m,participantUserName:g,userId:C}=p;s(BL({userId:C,participantId:h,participantUserName:g,sessionId:r,peerId:m}))},l=p=>{const{participantId:h}=p;n.connectionEvents.onParticipantLeft.next({participantId:h}),e.sendUserDisconnected(h)},c=p=>{o.maybeTranslate(p)},d=p=>{const{data:h}=p,m=n.participantId;n.connectionEvents.onTerminalData.next({data:h,dataPrintAllowed:!0,senderId:m,isInitTerminalData:!1}),e.sendTerminalData(h,"terminal-output",m)};return n.connectionEvents.internalEventBus.on("userConnected",a),n.connectionEvents.internalEventBus.on("userDisconnected",l),n.connectionEvents.internalEventBus.on("shellOutput",d),n.connectionEvents.internalEventBus.on("retranslateMessage",c),()=>{n.connectionEvents.internalEventBus.off("userConnected",a),n.connectionEvents.internalEventBus.off("userDisconnected",l),n.connectionEvents.internalEventBus.off("shellOutput",d),n.connectionEvents.internalEventBus.off("retranslateMessage",c)}})}function*mqe(t){yield*gn([fe(DL,gqe,t),fe(BL,Cqe,t),fe(FL,vqe,t)])}function*gqe(t,{payload:e}){const{sessionId:n,terminalSize:o,receivers:r}=e,i=yield*De(Qr,n,t);if(!i)return;const{messageSender:s}=i;s.sendHostSettings({terminalSize:o,receivers:r})}function*vqe(t,e){const{sessionId:n,data:o,receivers:r}=e.payload,i=yield*De(Qr,n,t);if(!i)return;const{messageSender:s}=i;s.sendInitTerminalBufferData(o,r)}function*Cqe(t,e){const{sessionId:n,participantUserName:o,participantId:r,peerId:i,userId:s}=e.payload,a=yield*De(Qr,n,t);if(!a)return;const{messageSender:l,multiplayerApiInstance:c}=a,p=(yield*Y(tg)).find(g=>!!g.id&&g.id===s),h=yield*Y(tJ,n),m=o||h;l.sendUserConnected({userId:p==null?void 0:p.id,participantUserName:m,participantId:r,peerId:i}),c.connectionEvents.onParticipantJoined.next({userId:s,participantId:r,peerId:i,isHost:!1,isControlOwner:!1,username:m})}function*yqe(t){yield*gn([fe(ih,Aqe,t),mqe(t),fe(jC,Sqe,t),fe(AC,_qe,t),fe(TC,xqe,t),fe(_C,bqe,t),fe(xC,wqe,t),fe(tL,Tqe,t),fe(Nl,hqe,t)])}function*Sqe(t,e){const{sessionId:n}=e.payload,o=yield*Y(ja,n);if(!o)return;yield*G(he("remoteControlPassed",{controlPassedBy:e.payload.passedBy,isOwner:e.payload.isOwner,connectionID:o.terminalConnectionId}));const r=yield*De(Qr,n,t);if(!r)return;const{multiplayerApiInstance:i}=r,{participantId:s}=e.payload;i.connectionEvents.onControlGranted.next({participantId:s}),Ce(i==null?void 0:i.hostPeerId,mt),yield*G(ly({participantId:s,sessionId:n})),i.controlOwnerId=s;const a=r.messageSender.generateMessageMetadata();yield*cu({message:{type:"access-control",action:"grant",controlOwner:s,metadata:a},messageSenderData:r})}function*bqe(t,e){const n=yield*De(Qr,e.payload.sessionId,t);if(!n)return;const{messageSender:o,multiplayerApiInstance:r}=n,{sessionId:i,source:s}=e.payload;yield*G(he("terminalControlRequested",{requestedBy:s,connectionID:i}));const a=un();r.connectionEvents.onControlRequested.next({requestId:a,participantId:r.participantId}),Ce(r.hostPeerId,mt),o.sendMessage({message:{type:"request",requestType:"edit-access",requestId:a,metadata:o.generateMessageMetadata()}})}function*wqe(t,e){const{sessionId:n}=e.payload,o=yield*De(Qr,n,t);if(!o)return;const{messageSender:r,multiplayerApiInstance:i}=o,{requestId:s}=e.payload;i.connectionEvents.onControlRequestCancelled.next({requestId:s,participantId:i.participantId}),Ce(i.hostPeerId,mt),r.sendMessage({message:{type:"request-cancel",requestId:s,metadata:r.generateMessageMetadata()}})}function*_qe(t,e){var m;const{sessionId:n}=e.payload,o=yield*De(Qr,n,t);if(!o)return;const{messageSender:r,multiplayerApiInstance:i,mediator:s}=o,{requestId:a}=e.payload,l=s.multiplayerShellBridge.canManageControlOwnership,c=(m=s.currentConnection)==null?void 0:m.id;if(!l||!c)return;const d=s.multiplayerApi.currentUserRole==="host";yield*G(he("remoteControlPassed",{controlPassedBy:e.payload.source,isOwner:Wt(d),connectionID:c}));const p=yield*Y(Tu,n),h=p.find(g=>g.id===a);if(h){i.connectionEvents.onControlGranted.next({participantId:h.participantId}),i.controlOwnerId=h.participantId,i.connectionEvents.onControlRequestAccepted.next({requestId:a,acceptedByCurrentUser:!0}),Ce(i.hostPeerId,mt);for(const g of p){const C=o.messageSender.generateMessageMetadata();C&&(yield*cu({message:{type:"response",requestId:a,status:g.id===a?"accepted":"rejected",metadata:C},messageSenderData:o,receivers:[g.participantId]}))}yield*cu({message:{type:"access-control",action:"grant",controlOwner:h.participantId,metadata:r.generateMessageMetadata()},messageSenderData:o})}}function*xqe(t,e){const{sessionId:n}=e.payload,o=yield*Y(ja,n);if(!o)return;yield*G(he("rejectAllControlRequestsButtonPressed",{rejectAllButtonLocation:e.payload.source??"Autocomplete",connectionID:o.terminalConnectionId}));const r=yield*De(Qr,e.payload.sessionId,t);if(!r)return;const{multiplayerApiInstance:i,messageSender:s}=r;Ce(i.hostPeerId,mt);const a=s.generateMessageMetadata(),l=s.generateMessageMetadata();i.connectionEvents.onControlRequestsRejected.next({});const c=yield*Y(nJ,n);for(const d of c)yield*cu({message:{type:"response",requestId:d.id,status:"rejected",metadata:a},messageSenderData:r,receivers:[d.participantId]});Ce(i.controlOwnerId,oJ),yield*cu({message:{type:"access-control",action:"refuse",controlOwner:i.controlOwnerId,metadata:l},messageSenderData:r})}function*Aqe(t,e){const{sessionId:n}=e.payload,o=yield*De(Qr,n,t);if(!o)return;const{multiplayerApiInstance:r,messageSender:i}=o,{source:s}=e.payload;s&&(yield*G(he("remoteControlTaken",{remoteControlTakeMethod:s}))),r.connectionEvents.onControlTaken.next({previousControlOwnerId:r.controlOwnerId}),r.controlOwnerId=r.participantId,r.connectionEvents.onControlGranted.next({participantId:r.participantId}),yield*G(ly({sessionId:n,participantId:r.participantId})),Ce(r.hostPeerId,mt);const a=i.generateMessageMetadata();yield*cu({message:{type:"access-control",action:"take",controlOwner:r.participantId,metadata:a},messageSenderData:o})}function*Tqe(t,e){const{sessionId:n}=e.payload,r=(yield*Y(Ts,n)).find(i=>i.isHost);r!=null&&r.participantId&&(yield*G(jC({sessionId:n,participantId:r.participantId,passedBy:"Given Up",isOwner:"no"})))}const Gs={};function*Iqe({controllerMap:t},{payload:e}){const{terminalConnectionId:n}=e,o=ir(t,n);if(!o||bm.has(n))return;const r=o.id,i=yield*rn(o.terminalApi.onBufferChange,Eqe,o);bm.add(n),yield*Yu({connectionId:n,terminalId:o==null?void 0:o.id,onClose:()=>{i.close(),delete Gs[r],bm.delete(n)}})}function*Eqe(t,e){const n=t.multiplayerApi;if(!(n!=null&&n.isMultiplayerSessionActive()))return;const{state:o}=yield*Y(vc,n.hostPeerId),r=yield*Y(Ba,n.hostPeerId,n.participantId);if(Gs[t.id]||(Gs[t.id]=t.terminalApi.bufferType),e.type==="alternate"){yield*G(Vt({state:"hidden",type:"hidden",sessionId:n.hostPeerId})),Gs[t.id]="alternate";return}const i=Gs[t.id]==="alternate",s=e.type==="normal",a=o==="hidden",l=r==null?void 0:r.isControlOwner;if(!(i&&s&&a&&!l))return;Gs[t.id]="normal";const d=yield*Y(t1,{sessionId:n.hostPeerId,currentUserParticipantId:n.participantId});yield*G(Vt({state:"compact",type:d("compact"),sessionId:n.hostPeerId}))}const fd={};function kqe(){Object.keys(fd).forEach(t=>{delete fd[t]}),Object.keys(Gs).forEach(t=>{delete Gs[t]})}const q6={byCurrentUser:{full:"requesting-control-expanded",compact:"requesting-control-collapsed",closed:"hidden",hidden:"hidden"},byParticipants:{full:"control-requested-by-participants",compact:"viewing-collapsed",closed:"hidden",hidden:"hidden"}};function*Rqe(t,e){var d,p,h;const{participantId:n}=e,o=t.multiplayerApi;Ce(o.hostPeerId,mt);const r=!(yield*Y(_c,o.hostPeerId)),i=yield*Y(Jo,ge()),s=yield*Y(Tu,o.hostPeerId),a=(i==null?void 0:i.id)===((d=t.terminalApi)==null?void 0:d.id);if(n!==o.participantId){const m=yield*Y(oy,(p=t.terminalApi)==null?void 0:p.id),g=(h=t.currentConnection)==null?void 0:h.id;if(!g)return;yield*G(he("remoteControlRequestReceived",{numberOfActiveControlRequests:s.length+1,isActiveTab:Wt(m),isOwner:Wt(o.currentUserRole==="host"),connectionID:g}))}if(!a)return;const l=t.multiplayerShellBridge.canManageControlOwnership,{state:c}=yield*Y(vc,o.hostPeerId);if(n===o.participantId&&c){yield*G(Vt({type:q6.byCurrentUser[c],sessionId:o.hostPeerId}));return}if(c&&l){const m=r?q6.byParticipants.full:q6.byParticipants[c];yield*G(Vt({type:m,state:r?"full":void 0,sessionId:o.hostPeerId}))}}function*Pqe(t,e){const n=yield*Y(Ag);for(const o of n)yield*Lqe({singletons:t,connection:o,action:e})}function*Lqe(t){const{singletons:e,connection:n,action:o}=t,{controllerMap:r}=e,{terminalConnectionId:i}=n,s=ir(r,i);if(!(s!=null&&s.multiplayerApi.isMultiplayerSessionActive()))return;const a=s.multiplayerApi,l=a.hostPeerId,c=yield*Y(t1,{sessionId:l,currentUserParticipantId:a.participantId});if((o.type===fr.type||o.type===f1.type)&&l8(o.payload)){delete fd[i];const w=c("closed");yield*G(Vt({state:"closed",type:w,sessionId:l}));return}const d=yield*Y(Jo,ge()),p=fd[i],h=d==null?void 0:d.id,m=yield*Y(ka);if((!h||p===h)&&!l8(m))return;const C=yield*Y(rJ,ge());if(h!==s.id||C){fd[i]=h;const w=c("closed");yield*G(Vt({state:"closed",type:w,sessionId:l}));return}if(fd[i]=h,s.multiplayerShellBridge.canManageControlOwnership){const w=s.multiplayerShellBridge.hasControl,x=n.controlRequests.length,_=Mqe({isControlOwner:w,requestsAmount:x}),I=c(_);yield*G(Vt({state:_,type:I,sessionId:l}));return}const S=yield*Y(ML),y=s.terminalApi.bufferType!=="normal"||S?"hidden":"compact",b=c(y);yield*G(Vt({state:y,type:b,sessionId:l}))}function Mqe({requestsAmount:t,isControlOwner:e}){return t>0?"full":e?"closed":"compact"}function*Oqe({controllerMap:t},e,{payload:n}){const{sessionId:o}=n,r=yield*Fqe(o,e);yield*Nqe(o,e);const i=yield*Y(ja,o);if(!i)return;const s=yield*Y(Jo,ge()),a=(s==null?void 0:s.connectionId)!==i.terminalConnectionId;if(!r||a)return;const l=ir(t,i==null?void 0:i.terminalConnectionId),c=l==null?void 0:l.multiplayerApi;if(!c||(l==null?void 0:l.terminalApi.bufferType)==="alternate")return;const d=i.controlRequests.length,p=yield*Y(Ba,c.hostPeerId,c.participantId),{state:h}=yield*Y(vc,o);if(p!=null&&p.isControlOwner||!Dqe(h))return;const m=yield*Y(t1,{sessionId:o,currentUserParticipantId:c.participantId}),g=d>0?"full":"compact";yield*G(Vt({state:g,type:m(g),sessionId:o}))}function Dqe(t){return t&&["hidden","closed"].includes(t)}function*Fqe(t,e){const n=yield*Y(_c,t);return e[t]&&!n}function*Nqe(t,e){const n=yield*Y(_c,t);e[t]=n}function*VE(t,e){let n;"participantId"in e&&(n=e.participantId),"authorOfReject"in e&&(n=e.authorOfReject),yield*De(Bqe,t.multiplayerApi,n)}const Hqe=["start-typing-expanded","viewing-collapsed"];function*Bqe(t,e){if(!t.isMultiplayerSessionActive())return;const{type:n}=yield*Y(vc,t.hostPeerId),o=yield*yj(t,e),r=n==="control-requested-by-participants"&&o;if(Hqe.includes(n)||r)return;const i=yield*Y(Ba,t.hostPeerId,t.participantId);if(i!=null&&i.isControlOwner){yield*G(Vt({state:"hidden",type:"hidden",sessionId:t.hostPeerId}));return}yield*G(Vt({state:"compact",type:"viewing-collapsed",sessionId:t.hostPeerId})),i!=null&&i.isControlOwner||(yield*ro(j1),yield*G(hg({sessionId:t.hostPeerId})))}function*zqe(t){const e={};yield*gn([fe(Nl,Wqe,t),fe(Vt,Vqe),ny(Dl,Oqe,t,e),fe(Nl,Iqe,t),XC([oo,f1,fr],Pqe,t),fe(Li.success,kqe)])}function*Vqe({payload:t}){const{sessionId:e,type:n}=t;n==="start-typing-expanded"&&(yield*ro(j1),yield*G(Vt({state:"hidden",sessionId:e})))}function*Wqe({controllerMap:t},{payload:e}){const{terminalConnectionId:n}=e,o=ir(t,n),r=o==null?void 0:o.multiplayerApi;if(!r||wm.has(n))return;const i=new gt;i.add(yield*rn(r.connectionEvents.onControlRequestAccepted,Qc(o,jqe),r)).add(yield*rn(r.connectionEvents.onControlTaken,Qc(o,Uqe),r)).add(yield*rn(r.connectionEvents.onControlGranted,Qc(o,$qe),r)).add(yield*rn(r.connectionEvents.onControlRequestsRejected,Qc(o,VE),o)).add(yield*rn(r.connectionEvents.onControlRequestCancelled,Qc(o,VE),o)).add(yield*rn(r.connectionEvents.onControlRequested,Qc(o,Rqe),o)).add(yield*rn(r.connectionEvents.onTerminalData,qqe,r)).add(yield*rn(r.connectionEvents.onSessionStateUpdate,Gqe,r)).add(yield*rn(r.connectionEvents.onParticipantLeft,Kqe,r)),wm.add(n),yield*Yu({connectionId:n,terminalId:o==null?void 0:o.id,onClose:()=>{i.dispose(),wm.delete(n)}})}function*jqe(t,e){const{acceptedByCurrentUser:n}=e;if(t.isMultiplayerSessionActive()){if(t.currentUserRole==="host"||n){yield*G(Vt({state:"compact",sessionId:t.hostPeerId}));return}yield*G(Vt({state:"full",type:"start-typing-expanded",sessionId:t.hostPeerId}))}}function*Uqe(t){Ce(t.hostPeerId,mt);const e=t.currentUserRole==="host";yield*G(Vt({state:e?"full":"compact",type:e?"start-typing-expanded":"viewing-collapsed",sessionId:t.hostPeerId})),yield*ro(j1),yield*G(hg({sessionId:t.hostPeerId}))}function*$qe(t,{participantId:e}){if(!t.isMultiplayerSessionActive())return;const n=e===t.participantId?"full":"compact",o=e===t.participantId?"start-typing-expanded":"viewing-collapsed";yield*G(Vt({state:n,type:o,sessionId:t.hostPeerId})),yield*ro(j1),yield*G(hg({sessionId:t.hostPeerId}))}function*qqe(t){Ce(t.hostPeerId,mt);const{type:e}=yield*Y(vc,t.hostPeerId);if(!e)return;const n=yield*Y(Ba,t.hostPeerId,t.participantId);n&&n.isControlOwner&&e==="start-typing-expanded"&&(yield*G(Vt({state:"hidden",type:"hidden",sessionId:t.hostPeerId})))}function*Gqe(t){var r;Ce(t.hostPeerId,mt);const{type:e}=yield*Y(vc,t.hostPeerId),n=yield*Y(ja,t.hostPeerId),o=((r=n==null?void 0:n.currentControlOwner)==null?void 0:r.participantId)!==t.participantId;e==="hidden"&&o&&(yield*G(Vt({state:"compact",type:"viewing-collapsed",sessionId:t.hostPeerId})))}function*Kqe(t,e){Ce(t.hostPeerId,mt);const{participantId:n}=e,o=yield*Y(ja,t.hostPeerId),r=yield*Y(Ba,t.hostPeerId,t.participantId);if(o&&!vj(o)&&!Cj(n,o))return;const i=yield*Y(t1,{sessionId:t.hostPeerId,currentUserParticipantId:t.participantId}),s=r!=null&&r.isControlOwner?"closed":"compact",a=i(s);yield*G(Vt({state:s,type:a,sessionId:t.hostPeerId}))}function Qc(t,e){return function*(o,r){t.terminalApi.bufferType!=="alternate"&&(yield*e(o,r))}}function*Zqe(t){try{yield*De(Qqe,t)}catch(e){Cs.exception("Error in root UI Multiplayer saga.",new b1((e==null?void 0:e.stack)??(e==null?void 0:e.message)??e))}}function*Qqe(t){yield*gn([Y$e(t),fe(iJ,W$e,t),yqe(t),fe(Nl,oqe,t),fe(HL,V$e,t),fe([Cg,wc],g$e,t),fe(p1,m$e,t),fe(ty,v$e),fe(Li.success,h$e),fe(u$e,C$e),fe(sJ,y$e),zqe(t),O$e(t)])}function*Yqe({payload:t}){const{windowId:e}=t.terminal,n=yield*Y(o=>Fa(o,e));yield*G(cy({windowId:e,openedTabs:n.length})),yield*G(WL())}function*Xqe(){yield*G(WL())}function*Jqe(){yield*G(dJ())}function*eGe({payload:t}){const{windowId:e}=t,n=yield*Y(o=>Fa(o,e));yield*G(cy({windowId:e,openedTabs:n.length}))}function*tGe(){yield*gn([fe(zL,Yqe),fe(VL,eGe),fe(m1,Xqe),fe([cy,aJ.request,lJ,cJ,fr],Jqe)])}function nGe(t){switch(t.name){case"identity":return{property:"Username"};case"fingerprint":return oGe(t.data.checkResult);case"requestPassphrase":return{property:"Passphrase",authMethod:"Public Key"};case"chooseKey":return{property:"Key"};case"authInteractive":return rGe(t.data.methods);case"discoverableKeys":return{property:"Discoverable FIDO2-based key"};case"keyboardInteractive":return{property:"Keyboard Interactive"};case"protocol":return{property:"Protocol"};case"requestSignature":return{property:"Biometric Key"};default:return null}}function oGe(t){return t==="mismatch"?{property:"Fingerprint Changed"}:t==="notfound"?{property:"New Fingerprint"}:null}function rGe(t){return t.includes("password")?{property:"Password",authMethod:"Password"}:t.includes("keyboard-interactive")?{property:"Keyboard Interactive",authMethod:"Keyboard Interactive"}:t.includes("publickey")?{property:"Key",authMethod:"Public Key"}:null}const iGe=1e3,Tj=500,Ij=1500;class sGe{constructor(){E(this,"requests",[]);E(this,"logs",[]);E(this,"_onRequest",new ht);E(this,"_onLog",new ht)}get onRequest(){return this._onRequest.asObservable()}get onLog(){return this._onLog.asObservable()}clear(){this.logs=[],this.requests=[]}async startChainConnectionDelay(){var s,a;const e=this.requests.length-1,o=((a=(s=this.requests)==null?void 0:s[e])==null?void 0:a.name)==="hostChainConnection",r=this.requests.filter(l=>l.name==="hostChainConnection").length>1;o&&r&&await Er(Ij)}async pushRequestAndNotify(e){await this.startChainConnectionDelay().catch(He),this.requests.push(e),this._onRequest.next(e)}pushLogs(e){this.logs.push(e),this._onLog.next(e)}getDelegates(){return{requestSignature:(e,n,o,r)=>new Promise((i,s)=>{this.pushRequestAndNotify({name:"requestSignature",data:{publicKey:e,storage:n,credentialId:o,data:r,onResolve:i,onReject:s}})}),requestKeyboardInteractive:(e,n,o,r,i)=>{this.pushRequestAndNotify({name:"keyboardInteractive",data:{name:e,instruction:n,interruptibleWithPublickey:o,prompts:r,onContinue:i}})},requestDiscoverableSKKeys:async(e,n)=>{this.pushRequestAndNotify({name:"discoverableKeys",data:{skKeys:e,onSelectKey:n}})},requestSKPresence:e=>{this.pushRequestAndNotify({name:"requestSKPresence",data:{isTouchRequired:e}})},requestChooseKey:async e=>{this.pushRequestAndNotify({name:"chooseKey",data:{onSelectKey:e}})},requestPIN:e=>{this.pushRequestAndNotify({name:"requestPIN",data:{onHandlePIN:e}})},requestPassphrase:e=>{this.pushRequestAndNotify({name:"requestPassphrase",data:{onHandlePassphrase:e}})},updateSKPresence:e=>{this.pushRequestAndNotify({name:"updateSKPresence",data:{blockingConnectName:e}})},hostVerifier:(e,n,o,r,i,s)=>{this.pushRequestAndNotify({name:"fingerprint",data:{config:e,checkResult:n,fingerprint:o,pubKey:r,keyType:i,callback:s}})},askUserNecessaryFields:e=>new Promise(n=>{this.pushRequestAndNotify({name:"identity",data:{resolve:n}})}),onClosed:()=>{},onDisconnect:()=>{},onHostOSDetected:e=>{this.pushRequestAndNotify({name:"hostOSDetected",data:{os:e}})},onExit:()=>{},onSessionLogFinishedWriting:()=>{},onLogMessage:e=>{this.pushLogs(e)},onError:e=>{this.pushRequestAndNotify({name:"error",data:{err:e}})},handleHostChainConnection:e=>{this.pushRequestAndNotify({name:"hostChainConnection",data:{hostChainConnection:e}})},requestAuthMethod:(e,n)=>{this.pushRequestAndNotify({name:"authInteractive",data:{methods:e,resolve:n}})}}}}class aGe{constructor({mediator:e,connection:n,terminalEmulationType:o,isTerminalConnection:r,connectionOrigin:i,connectionMap:s}){E(this,"mediator");E(this,"connection");E(this,"requests",new sGe);E(this,"errorListener");E(this,"requestListener");E(this,"terminalEmulationType");E(this,"isTerminalConnection");E(this,"connectionMap");E(this,"connectionOrigin");this.connectionMap=s,this.mediator=e,this.connection=new pt({...n,delegate:this.requests.getDelegates()}),this.terminalEmulationType=o,this.isTerminalConnection=r,this.connectionOrigin=i,this.errorListener=this.mediator.onError(a=>{this.requests.pushRequestAndNotify({name:"error",data:{err:a.message}})}),this.requestListener=this.requests.onRequest.subscribe(a=>{var c;const l=nGe(a);l!=null&&((c=this.connection.analyticsHelper)==null||c.connectionDetailsRequested(l))})}async reconnect(e){var n;await this.mediator.disconnect(),this.mediator.terminalApi.write(_n.HIDE_CURSOR),this.connection.abort(),(n=this.connection.analyticsHelper)==null||n.connectionFailed({failureReason:"Canceled",type:y8(this.connection.protocol)}),this.requests.clear(),this.connection=this.connection.clone({bypassRecordingHistory:!e}),this.connect({connectionOrigin:"Connection Flow"})}connect({connectionOrigin:e}={}){var o;const n=this.connectionOrigin==="Run Snippet";return this.connection=this.mediator.startConnection(this.connection,{termString:this.terminalEmulationType,toSessionLogAfterDisconnect:n}),(this.connectionOrigin||e)&&((o=this.connection.analyticsHelper)==null||o.connectionInitiated({connectionOrigin:this.connectionOrigin??e})),null}disconnect(){this.mediator.disconnect().catch(He),this.errorListener.dispose(),this.requestListener.unsubscribe()}updateConnection(e,n,o){const r=e.clone({sshKnownHosts:o});this.connection=r,this.updateSingletonConnection(n)}updateMediatorConnection(){this.mediator.setCurrentConnection(this.connection)}updateSingletonConnection(e){this.connectionMap.set(e,this.connection)}}function*lGe({controllerMap:t,connectionMap:e,mediatorPool:n,multiplayerAPI:o},{payload:r}){for(const i of r){const s=e.get(i.id);s&&(yield*G(Cg(s.toTransferableObject())));const a=n.find(i.id),l=s==null?void 0:s.host.id;a&&(s==null?void 0:s.protocol)!=="stream"&&l&&(yield*G(TN({connectionId:s.id,hostId:l}))),e.delete(i.id),n.disposeInstance(i.id),t.delete(i.id),o.disposeInstance(i.id),yield*G(jL(i.connectionId))}}function Yr(t,e){return xc(n=>{const o=t.subscribe(r=>e(n,r));return()=>o.unsubscribe()})}function*Xr(t){const{channel:e,handler:n,options:o}=t;try{for(;;){const r=yield*u1(e);yield*De(cGe,{handler:n,channelPayload:r,options:o})}}catch(r){Cs.exception(`Error in watchObservableChannel: ${r.message}`,r)}finally{e.close(),yield*Fr()}}function*cGe(t){const{handler:e,channelPayload:n,options:o}=t,{terminalId:r,handleOnce:i,isWorkspaceOnly:s}=o;if(n.terminalId===r){if(s&&!(yield*Y(f3,r)))return;yield*De(e,n)}i&&(yield*Fr())}function*dGe(t,e){const n=t.id,o=Yr(RW(t),(r,i)=>r({terminalId:n,singletons:e}));yield*De(Xr,{channel:o,handler:Im,options:{terminalId:n,isWorkspaceOnly:!0}})}function*Im({terminalId:t,singletons:e}){const n=e.controllerMap.get(t),o=n==null?void 0:n.connection;o&&(yield*G(jL(o.id))),yield*G(uJ(t)),o&&E9(o)&&(yield*ro(iGe)),yield*G(pJ(t))}function*uGe(t,e){const n=t.id,o=Zg(t.onDisconnect).pipe(Mt(([i])=>i)),r=Yr(o,(i,s)=>i({terminalId:n,reason:s,singletons:e}));yield*De(Xr,{channel:r,handler:pGe,options:{terminalId:n,isWorkspaceOnly:!0}})}function*pGe({terminalId:t,reason:e,singletons:n}){if(!(yield*Y(er,t)))return;const r=n.controllerMap.get(t),i=r==null?void 0:r.connection;e&&i&&(yield*G(yg({errorMessage:e,terminalId:t,connection:i}))),yield*G(Ua(t))}function*hGe(t,e){const{mediator:n}=t,o=n.id,r=Zg(n.onError).pipe(Mt(([s])=>s)),i=Yr(r,(s,a)=>s({terminalId:o,error:a,logs:t.requests.logs,singletons:e}));yield*De(Xr,{channel:i,handler:fGe,options:{terminalId:o,isWorkspaceOnly:!0}})}function*fGe({terminalId:t,logs:e,error:n,singletons:o}){if(n.isCancelError())return;const r=yield*Y(a1,t);yield*G(Yo({id:t,changes:{connectionProcess:"error"}})),r?yield*gGe({terminalId:t,error:n,singletons:o}):yield*mGe({terminalId:t,logs:e,error:n,singletons:o})}function*mGe({terminalId:t,logs:e,error:n,singletons:o}){n.possibleToReconnect({logs:e})&&(yield*G(gg({id:t}))),yield*G(RP(t));const r=o.controllerMap.get(t),i=r==null?void 0:r.connection;i&&(yield*G(Cg(i.toTransferableObject())))}function*gGe({terminalId:t,error:e,singletons:n}){const o=n.controllerMap.get(t),r=o==null?void 0:o.connection;(yield*Y(s=>{var a;return(a=a1(s,t))==null?void 0:a.isConnected}))||!r||(yield*G(yg({terminalId:t,connection:r,errorMessage:e.message})))}function*Ej({command:t,terminalId:e,singletons:n}){const o=yield*Y(nn,e),r=!(o!=null&&o.connectionFlow),i=(o==null?void 0:o.connectionProcess)==="error";if(!r||i)return;const s=yield*Y(g=>er(g,e)),a=n.controllerMap.get(e);if(!s||!a||!(yield*Y(xg)).has(s.id))return;const d=yield*Y(g=>$C(g,s)),p=d.filter(g=>g.connectionProcess==="succeeded");if(!p.length)return;const h=d.find(g=>g.id===e);if(!(h!=null&&h.isActive))return;p.map(g=>n.mediatorPool.getOrCreateInstance(g.id)).forEach(g=>{g.id!==e&&t(g.terminalApi)})}function*vGe(t,e){const n=t.id,o=Yr(t.terminalApi.onGlobalShortcutEvent,(r,i)=>{i==="clearTerminalBuffer"&&r({terminalId:n,singletons:e})});yield*De(Xr,{channel:o,handler:CGe,options:{terminalId:n,isWorkspaceOnly:!0}})}function*CGe({terminalId:t,singletons:e}){yield*Ej({terminalId:t,command:n=>{n.clear()},singletons:e})}function*yGe(t,e){const n=t.id,o=Yr(t.terminalApi.onKeyboardEvent,(r,i)=>r({terminalId:n,event:i,singletons:e}));yield*De(Xr,{channel:o,handler:SGe,options:{terminalId:n,isWorkspaceOnly:!0}})}function*SGe({terminalId:t,event:e,singletons:n}){const o=n.controllerMap.get(t);if(!o)return;const r=yield*Y(nn,t),i=!(r!=null&&r.connectionFlow),s=(r==null?void 0:r.connectionProcess)==="error",{mediator:a}=o;i&&s&&_Ge(e)&&(bGe(e)||WE(e,"Space")||WE(e,"Enter"))&&!wGe(e,["altKey","ctrlKey","metaKey","shiftKey"])&&(yield*G(Es({terminalId:a.terminalApi.id,connectionOrigin:"Reconnect Hotkey"})),yield*G(Sc({id:a.terminalApi.id})))}function bGe(t){return t.key.length===1&&t.key.match(/[a-zA-Z0-9]/i)}function WE(t,e){return t.code===e}function wGe(t,e){return e.some(n=>t[n])}function _Ge(t){return t.type==="keydown"}const xGe=2;function*AGe(t,e){const{mediator:n,requests:o}=t,r=n.id,i=Yr(o.onRequest,(s,a)=>s({terminalId:r,request:a,singletons:e}));yield*De(Xr,{channel:i,handler:Sb,options:{terminalId:r,isWorkspaceOnly:!0}})}function*Sb({request:t,terminalId:e,singletons:n}){const o=n.controllerMap.get(e);if(o){if(t.name==="hostOSDetected"&&t.data.os){const r=yield*Y(_s);o.updateConnection(new pt({...o.connection,host:new _t({...o.connection.host,os_name:t.data.os})}),e,r),yield*G(EP({host:o.connection.host,os:t.data.os,terminalId:o.mediator.id}));return}if(t.name==="fingerprint"){const{fingerprint:r,checkResult:i,callback:s,config:a,pubKey:l}=t.data,{host:c,port:d}=a;if(Vr.getDeprecatedHostHashForUser(c,d)===r){yield*TGe({host:c,port:d,pubKey:l,callback:s,connection:o.connection});return}if(i==="failure"){s(!1),yield*De(Sb,{request:{name:"error"},terminalId:e,singletons:n});return}}if(t.name==="hostChainConnection"&&o.requests.requests.filter(r=>r.name==="hostChainConnection").length>1){yield*G(hJ(e)),yield*ro(Ij),yield*G(fJ({terminalId:e}));return}o.requests.requests.length>xGe&&(yield*ro(Tj)),yield*G(UL({request:t,terminalId:e}))}}function*TGe({host:t,port:e,pubKey:n,callback:o,connection:r}){Vr.removeDeprecatedHostHashForUser(t,e);const i=yield*Y(Ur,r.host);yield*G($2(Ml.createFromConnection({host:t,port:e,pubKey:n,canEditHost:i},r))),o(!0)}function*IGe(t){const e=t.id,n=Yr(t.onExit,(o,r)=>o({terminalId:e,exitCode:r}));yield*De(Xr,{channel:n,handler:EGe,options:{terminalId:e,isWorkspaceOnly:!0}})}function*EGe({terminalId:t,exitCode:e}){yield*G(mJ({terminalId:t,exitCode:e}))}function*kGe(t,e){const{connection:n,mediator:o}=t,r=o.id,i=Yr(o.onShellIntegrationStatus,(s,a)=>{var d;const l=(d=n.featureSet)==null?void 0:d.includes("ShellIntegration"),{isTerminalConnection:c}=t;!l||!c||s({status:a,terminalId:r,singletons:e})});yield*De(Xr,{channel:i,handler:RGe,options:{terminalId:r,isWorkspaceOnly:!0}})}function*RGe({status:t,terminalId:e,singletons:n}){switch(t.type){case"started":{yield*De(Sb,{request:{name:"setupShellIntegration",data:{status:"progress"}},terminalId:e,singletons:n});break}case"skipped":{yield*De(Im,{terminalId:e,singletons:n});break}case"succeeded":{yield*De(Im,{terminalId:e,singletons:n});break}case"failed":{yield*G(gJ(e)),yield*De(Im,{terminalId:e,singletons:n});break}}}function*PGe(t){const e=t.id,n=Zg(t.onShellOutput).pipe(ote(100),Mt(([r])=>r)),o=Yr(n,(r,i)=>r({terminalId:e}));yield*De(Xr,{channel:o,handler:LGe,options:{terminalId:e,isWorkspaceOnly:!0}})}function*LGe({terminalId:t}){yield*MGe({terminalId:t})}function*MGe({terminalId:t}){const e=yield*Y(nn,t);!e||e.isActive||(yield*G(Yo({id:t,changes:{hasUnreadOutput:!0}})))}function*OGe(t,e){const n=t.id,o=Yr(t.onShellReady,(r,i)=>r({terminalId:n,singletons:e}));yield*De(Xr,{channel:o,mediator:t,handler:DGe,options:{handleOnce:!0,terminalId:n,isWorkspaceOnly:!0}})}function*DGe({terminalId:t,singletons:e}){var c;const n=e.controllerMap.get(t),o=n==null?void 0:n.isTerminalConnection,r=n==null?void 0:n.connection,i=n==null?void 0:n.mediator;if(!o||!r||!i)return;const s=yield*Y(nn,t);if(s){const d={...s,connectionFlow:void 0};yield*G(vg({terminal:d,connection:r.toTransferableObject(),windowId:ge()}))}if(r.startupSnippet){i.execSnippet(r.startupSnippet.script);const d=yield*Y(f3,t),p=(d==null?void 0:d.workspaceMode)==="snippet"?"Snippets Screen":"Startup";yield*G(Va({snippetSource:p,isSharedEntity:Wt(r.startupSnippet.is_shared),isExecutedInMultipleTabs:"no",snippetPackageID:Is(r.startupSnippet),isExecutedInSplitView:"no",aianalyticsID:r.startupSnippet.aianalyticsID,snippetID:`${r.startupSnippet.id??-1}`,predefinedSnippetPackageID:(c=r.startupSnippet.package)==null?void 0:c.analytics_id,...ci(r)}))}yield*G(yg({terminalId:t,connection:r})),yield*G(OC(i.id));const a=yield*Y(zt),l=a3(r.host,r.protocol||"ssh");!a&&l.length&&(yield*G(kP({windowId:ge()})))}function*FGe(t,e){const n=t.id,o=Yr(t.terminalApi.onData,(r,i)=>r({terminalId:n,data:i,singletons:e}));yield*De(Xr,{channel:o,handler:NGe,options:{terminalId:n,isWorkspaceOnly:!0}})}function*NGe({terminalId:t,data:e,singletons:n}){yield*Ej({terminalId:t,command:o=>{o.type(e)},singletons:n})}function*HGe(t){yield*gn([XC(jm,BGe),fe(vJ,GGe),fe(gg,KGe),fe(vg,QGe),fe(K2,jGe),fe(Ua,qGe),fe(Lg,eKe,t),fe(JP,XGe,t),fe(eL,JGe,t),fe(Es,YGe,t),fe(oo,aKe,t),fe(fL,cKe,t),fe(Fl,zGe),fe(Pg,sKe,t),fe(kL,lGe,t),fe(f1,dKe),fe(IL,uKe)])}function*BGe({payload:t}){const e=yield*Y(AJ);yield*ro(e),(yield*Y(nn,t.id))&&(yield*Ut(VGe))}function*zGe({payload:t}){const e=yield*Y(n=>Ig(n,t));yield*G($L(t));for(const n of e)yield*G(Ua(n.id))}function*VGe(){var r;if((yield*Y(dy)).length===0)return;const n=yield*TJ({payload:{id:Ie.v4(),createdAt:new Date,variant:"reconnect"},cancelable:!0}),o=((r=n==null?void 0:n.processed)==null?void 0:r.payload.data.connectionOrigin)||"Reconnect Hint";yield*De(WGe,{connectionOrigin:o})}function*WGe(t){const{connectionOrigin:e}=t,n=yield*Y(dy);if(n.length!==0)for(const{id:r}of n)yield*De(kj,{terminalId:r,connectionOrigin:e})}function*jGe({payload:t}){const e=yield*Y(o=>z8(o,t.tabId));if(!e)return;const n=yield*Y($C,e);for(const{id:o}of n)yield*G(Sc({id:o})),yield*De(kj,{terminalId:o,connectionOrigin:t.connectionOrigin})}function*kj(t){const e=yield*Y(n=>nn(n,t.terminalId));e&&e.connectionProcess==="error"&&(yield*G(Es(t)))}function*UGe(t){const e=yield*Y(er,t);if(!e)return;if(ha(e)){yield*G(Fl(e.id));return}const n=Xn(e)?yield*Y(to,e==null?void 0:e.workspaceId):void 0;(n==null?void 0:n.orderedTerminalIds.length)===1&&(yield*G(Fl(e.id)))}function*$Ge(t){(yield*Y(Rg,t))&&(yield*G(Eu(t)))}function*qGe({payload:t}){yield*G(p1(t)),yield*UGe(t),yield*G(Sc({id:t})),yield*G(g1(t));const e=yield*Y(er,t);e&&(yield*$Ge(e.id))}function*GGe(){const t=yield*Y(Zh,ge()),e=Object.values(t).filter(({connectionProcess:o})=>o==="error"),n=e.length;if(n!==0){yield*G(he("closeDisconnectedTabsButtonPressed",{numberOfDisconnectedTerminals:n}));for(const o of e)yield*G(Ua(o.id))}}function*KGe({payload:t}){if(!(yield*Y(CJ)))return;const n=yield*Y(nn,t.id);if(!n||!n.connectionEstablished)return;const o=yield*Y(qL,t.id);o?o.retryCount!==0&&(yield*G(yJ()),yield*G(Sc({id:o.id})),yield*G(jm({id:o.id,retryCount:o.retryCount-1}))):yield*G(jm({id:t.id,retryCount:6}))}function*ZGe(t){yield*G(Sc({id:t})),yield*ro(3e4),(yield*Y(nn,t))&&(yield*G(jm({id:t,retryCount:6})))}function*QGe({payload:t}){yield*G(Sc({id:t.terminal.id}));const{length:e}=yield*Y(dy);e===0&&(yield*G(SJ()))}function*YGe(t,{payload:e}){const{controllerMap:n}=t,{terminalId:o}=e,r=yield*Y(qL,o);(r==null?void 0:r.retryCount)===0&&(yield*bJ(ZGe,r.id));const i=n.get(o);i&&(yield*G(g1(o)),yield*De(Rj,{singletons:t,connectionController:i,id:o,isReconnect:!0}))}function*XGe(t,{payload:e}){const{controllerMap:n}=t,{connectionControllerId:o}=e,r=n.get(o);if(!r)return;const{connection:i,mediator:s}=r;s.isShellReady||(yield*G(g1(o)),r==null||r.requests.clear(),i&&(yield*G(GL(i.id))),yield*G(uy(o)),yield*De(bb,{singletons:t,connectionControllerId:o,isReconnect:!0,isStartOver:!0}))}function*JGe(t,{payload:e}){const{connectionControllerId:n}=e;yield*G(g1(n)),yield*G(uy(n)),yield*De(bb,{singletons:t,connectionControllerId:n,isReconnect:!0,isStartOver:!1})}function*eKe(t,{payload:e}){const{controllerMap:n,connectionMap:o,mediatorPool:r}=t,{id:i,isTerminalConnection:s=!0,connectionOrigin:a,connection:l}=e;if(n.has(i))return;r.isXtermLoaded||(yield*De(r.load)),o.set(i,l);const d=r.getOrCreateInstance(i,{disableClipboard:l.protocol==="session-log"||l.protocol==="stream"});if(!l||!d)return;const p=yield*Y(LC),h=new aGe({mediator:d,connection:l,terminalEmulationType:p,isTerminalConnection:s,connectionOrigin:a,connectionMap:o});if(n.set(i,h),!(yield*Y(nn,i))){const C=(yield*Y(Wa))(h.connection.colorScheme),v=py(h.connection),S={...hy(i,v,ge(),C,h.connection),isActive:!0};yield*G(fy({terminal:S}))}yield*De(Rj,{singletons:t,connectionController:h,id:i}),yield*Ut(Pj,{singletons:t,connectionControllerId:i})}function*Rj({connectionController:t,id:e,isReconnect:n=!1,singletons:o}){if(!(yield*Y(f3,e)))return;const{connection:i}=t,s=yield*Y(IP),a=yield*Y(_s),c=i.protocol==="local"||s,{isTerminalConnection:d}=t,p=c&&d,h=yield*Y($h),m=O1({enableShellIntegration:p,pqcKexEnabled:h}),g=i.clone({featureSet:m});t.updateConnection(g,e,a),yield*G(GL(i.id)),yield*G(uy(e)),yield*De(bb,{singletons:o,connectionControllerId:e,isReconnect:n})}function*bb({connectionControllerId:t,isReconnect:e,isStartOver:n,singletons:o}){const i=o.controllerMap.get(t);if(!i)return;const{connection:s,isTerminalConnection:a}=i,{id:l}=s;let c=s.clone({id:l});const d=yield*Y(qk);(!(yield*Y(zt))||d)&&(c=S9(c));const m=yield*De(tKe,{connection:s,isTerminalConnection:a});if(m){yield*ro(Tj),yield*G(UL({request:m,terminalId:t}));return}const g=yield*Y(_s);if(i.updateConnection(c,t,g),e){yield*De(async()=>i.reconnect(n)),yield*Ut(Pj,{singletons:o,connectionControllerId:t});return}yield i.connect()}function*tKe({connection:t,isTerminalConnection:e}){var i;const{host:n,protocol:o}=t;return o?o==="serial"&&!((i=t.serialOptions)!=null&&i.path)?{name:"serialOptions"}:!(yield*Y(zt))&&e?nKe({host:n,protocol:o}):null:{name:"protocol"}}const nKe=({host:t,protocol:e})=>{const n=a3(t,e);return n.length?{name:"unavailableProFeatures",data:{features:n}}:null},oKe=({mediatorPool:t},e)=>{for(const n of t.values())n.execSnippet(e)},rKe=(t,e)=>{var n;e&&((n=t.find(e.id))==null||n.terminalApi.focus())};function*iKe(){yield*ro(3e3),yield*G(IJ())}function*sKe(t,{payload:e}){var o;oKe(t,e.script);const n=yield*Y(r=>Jo(r,ge()));yield*G(Va({snippetSource:"Snippets Panel",isSharedEntity:Wt(e.is_shared),isExecutedInMultipleTabs:"yes",snippetPackageID:Is(e),isExecutedInSplitView:"no",aianalyticsID:e.aianalyticsID,snippetID:`${e.id??-1}`,predefinedSnippetPackageID:(o=e.package)==null?void 0:o.analytics_id,isWorkspace:"no",workspaceTemplateID:void 0})),yield*G(wJ()),yield*Ut(iKe),rKe(t.mediatorPool,n)}const Wf=new Map;function*Pj({connectionControllerId:t,singletons:e}){const n=e.controllerMap,o=Wf.get(t);o==null||o.forEach(function*(l){yield*Fr(l)}),Wf.delete(t);const r=n.get(t);if(!r)return;const{mediator:i}=r,s=[yield*Ut(yGe,i,e),yield*Ut(hGe,r,e),yield*Ut(AGe,r,e),yield*Ut(PGe,i),yield*Ut(uGe,i,e),yield*Ut(IGe,i),yield*Ut(kGe,r,e),yield*Ut(OGe,i,e),yield*Ut(dGe,i,e),yield*Ut(vGe,i,e),yield*Ut(FGe,i,e)];Wf.set(t,s);try{for(;(yield*u1(g1)).payload!==t;);}finally{s.forEach(function*(l){yield*Fr(l)}),Wf.delete(t),yield*Fr()}}function*aKe(t,{payload:e}){const n=e,o=yield*Y(er,n);ha(o)&&lKe(t,n)}function lKe({mediatorPool:t},e){const n=t.find(e);n==null||n.terminalApi.clearSelection()}function*cKe({mediatorPool:t},{payload:e}){var a;const{snippet:n,runImmediately:o,mediatorId:r}=e,i=t.find(r);if(!i)return;if(!o){i.pasteSnippet(n.script);return}const s=i.currentConnection;i.execSnippet(n.script),yield*G(Va({snippetSource:"Snippets Panel",isSharedEntity:Wt(n.is_shared),isExecutedInMultipleTabs:"no",snippetPackageID:Is(n),isExecutedInSplitView:"no",aianalyticsID:n.aianalyticsID,snippetID:`${n.id??-1}`,predefinedSnippetPackageID:(a=n.package)==null?void 0:a.analytics_id,...ci(s)}))}function*dKe({payload:t}){const e=yield*Y(_J,t);e&&(yield*G(oo(e.terminalId)))}function*uKe({payload:{connection:t,title:e,targetTabPosition:n}}){const o=yield*Y(Wa),r=yield*Y(xJ,ge()),i=o(t.colorScheme),s=py(t,e,r.map(p=>p.title)),a=Ie.v4(),l={...hy(a,s,ge(),i,t),isActive:!1},c=n==null,d=h3();yield*G(zL({title:s,id:d,terminal:l,variant:c?"animated":"instant",targetTabPosition:n})),yield*G(Lg({id:a,isTerminalConnection:!0,connection:t}))}function*pKe(){yield*fe(KC,hKe)}function*hKe({payload:{windowId:t,openedFrom:e}}){if(t!==ge())return;const n=yield*Y(EN,t),o={terminalSidePanelToggledVia:e,...qC(n)};if(!(yield*Y(bc,t))){yield*G(he("terminalSidePanelClosed",o)),yield*G(s1(t));return}switch(yield*Y(GP,t)){case"productivity":yield*G(YP(o));break;case"history":yield*G(QP({...o,commandsHistorySource:"Host History"}));break;case"snippets":yield*G(ZP(o));break;case"theme":yield*G(KP(o));break;default:_1()}}function*fKe(t){if(t.length===0)return;const e=yield*Y(my);for(const n of t){const o=e.filter(([r,i])=>i.name===n);o.length!==0&&(yield*gn(o.map(([r])=>G(uR(r)))))}}function*mKe({experimentName:t,iOsExperimentVariant:e}){jE.get(t)!==e&&(jE.set(t,e),yield*G(he("experimentStarted",{experimentName:t,iOsExperimentVariant:e,crossDeviceActivationExperiment:void 0,freeToPremiumExperiment:void 0,freeToTeamAppExperiment:void 0,freeToTrialExperiment:void 0,onboardingExperiment:void 0,passwordStrengthExperiment:void 0,premiumToTeamAppExperiment:void 0,trialExpiredToPremiumExperiment:void 0,tryPremiumExperiment:void 0})))}const jE=new Map,gKe=tn(my,t=>t.some(([e,n])=>n.name==="GrantVaultsAccess"&&n.target===ge())),vKe=tn(EJ,t=>!!t.length),CKe=tn(my,t=>t.some(([e,n])=>n.name==="EnterpriseExpiredDialog")),yKe=tn(Z2,vKe,gKe,CKe,(t,e,n,o)=>t&&e&&!n&&!o);function*SKe(){yield*fe(kJ.success,bKe),yield*fe(fr,wKe),yield*fe([Li.success,RJ],_Ke)}function*bKe(){if(yield*Lj())return;const e=yield*Y(_L),n=yield*Y(xL);(n?n===ge():!0)&&e&&(yield*JC({dialog:"GrantVaultsAccess",target:ge(),options:{closeOnBackdropClick:!1},props:{}}))}function*wKe({payload:t}){const e=yield*Y(ka),n=!lv(e)&&lv(t);(yield*Lj())||n&&(yield*JC({dialog:"GrantVaultsAccess",target:ge(),options:{closeOnBackdropClick:!1},props:{}}))}function*_Ke(){yield*fKe(["GrantVaultsAccess"])}function*xKe(){const t=yield*Y(PJ);if(!(yield*Y(LJ)))return;const n=yield*Ws(MJ);return n&&n!==t&&(yield*mKe({experimentName:"TeamTrialGrantAccess",iOsExperimentVariant:n==="new_grant_access"?"NewGrantAccess":"Baseline"})),n}function*Lj(){if(!(yield*Y(yKe)))return!0;const e=yield*xKe();return!!e&&e!=="new_grant_access"&&e!=="disabled"}function*AKe(t,{payload:{workspaceId:e,viewMode:n}}){const o=yield*Y(to,e);if(o){if(n==="splitView"){const r=o.orderedTerminalIds;yield*G(OJ({terminalIds:r}))}TKe(t,o)}}const TKe=(t,e)=>{e.orderedTerminalIds.forEach(o=>{const r=t.mediatorPool.find(o);r==null||r.terminalApi.clearSelection()})};function*Mj(t){const e=yield*Y(DJ,ge()),n=yield*Y(Mi);return e.filter(r=>{const i=n[r.workspaceId];return(i==null?void 0:i.templateId)===t})}const nf=({terminalId:t,isWorkspace:e,singletons:n,workspaceTemplateId:o})=>{const{controllerMap:r}=n,i=r.get(t);i&&(e?i.connection.setAsWorkspaceConnection(o):i.connection.setAsNotWorkspaceConnection(),i.updateSingletonConnection(t),i.updateMediatorConnection())};function*IKe(t){yield*gn([fe(m1,EKe,t),fe(v1,({payload:{terminalId:e}})=>Oj(t,e)),fe(KL,({payload:{workspaceId:e}})=>PKe(t,e)),fe(ZL,({payload:{workspace:e}})=>LKe(t,e)),fe(JR.request,kKe),fe(XR.request,RKe,t)])}function*EKe(t,{payload:{sourceTerminalId:e,workspaceId:n}}){yield*G(QL(e));const o=yield*Y(to,n);nf({terminalId:e,isWorkspace:!0,singletons:t,workspaceTemplateId:o==null?void 0:o.templateId})}function*kKe({payload:{tabId:t}}){yield*u1(FJ);const e=yield*Y(V8);if(t==null)return;const n=e[e.length-1],o=n==null?void 0:n.local_id,r=yield*Y(D1,t);r&&o!=null&&(yield*G(KL({workspaceId:r.id,workspaceTemplateId:o})))}function*RKe(t,{payload:e}){const n=yield*Mj(e),o=yield*Y(Mi);for(const r of n){const i=o[r.workspaceId];i==null||i.orderedTerminalIds.forEach(s=>{nf({terminalId:s,isWorkspace:!0,singletons:t})})}}function*Oj(t,e){yield*G(NJ(e)),nf({terminalId:e,isWorkspace:!1,singletons:t})}function*PKe(t,e){const n=yield*Y(to,e);if(n)for(const o of n.orderedTerminalIds)nf({terminalId:o,isWorkspace:!0,singletons:t,workspaceTemplateId:n.templateId})}function*LKe(t,e){for(const n of e.orderedTerminalIds)yield*G(QL(n)),nf({terminalId:n,singletons:t,isWorkspace:!0,workspaceTemplateId:e.templateId})}function*MKe(t,e){const n={...Dg(t,"terminalId"),title:e.title,tabType:"workspaceTab",workspaceId:e.id};yield*G(YL({tab:n}))}function*Dj(t,e){const n=yield*Y(HJ,t.id);if(!n){en(!1,`Workspace tab "${t.title}" was not found`);return}if(t.orderedTerminalIds.length!==1){en(!1,`Cannot transform workspace tab "${n.title}" into terminal tab when there are multiple terminals`);return}const o=t.orderedTerminalIds[0],r=yield*Y(nn,o);if((r==null?void 0:r.connectionProcess)!=="succeeded")return;const i={...Dg(n,"workspaceId"),title:r.title,tabType:"terminalTab",terminalId:o,showSplitViewHint:!1};yield*G(YL({tab:i})),yield*Oj(e,o),yield*G(XL({workspaceId:t.id}))}function*OKe(t,{payload:e}){const{workspaceId:n,terminalId:o}=e,r=yield*Y(to,n);if(!r||r.orderedTerminalIds.length===1)return;yield*G(BJ(Dg(e,"workspaceId"))),yield*DKe(r,o),yield*G(v1({workspaceId:n,terminalId:o}));const i=yield*Y(to,n);if(!i){en(!1,"moveWorkspaceTerminalToNewTabImpl: Workspace was not found");return}i.orderedTerminalIds.length===1&&(yield*Dj(i,t))}function*DKe(t,e){const n=yield*Y(nn,e);if(!(n!=null&&n.isActive))return;const r=JL(t.orderedTerminalIds,e)??t.orderedTerminalIds[0];yield*G(oo(r))}const Fj={workspace:null,isValid:!1};function*wb(t){const e=yield*Y(z8,t);if(Xn(e)){const n=yield*Y(to,e.workspaceId);if(n)return{workspace:n,isValid:!0}}return Fj}function*Nj(t){const e=yield*Y(f3,t);return e?{workspace:e,isValid:!0}:Fj}function*FKe({payload:t}){const{isValid:e,workspace:n}=yield*wb(t);if(!e)return;const{lastActiveTerminalId:o,orderedTerminalIds:r}=n,i=o&&r.includes(o)?o:r[0];yield*G(oo(i))}function*NKe({payload:t}){const{isValid:e,workspace:n}=yield*wb(t);e&&(yield*G(XL({workspaceId:n.id})))}function*HKe({payload:{tabId:t,title:e}}){const{isValid:n,workspace:o}=yield*wb(t);n&&(yield*G(zJ({workspaceId:o.id,title:e})))}function*BKe({payload:t}){const{isValid:e,workspace:n}=yield*Nj(t);if(!e)return;if(!n.orderedTerminalIds.includes(t)){en(!1,"onTerminalActivatedImpl: Terminal was not found in the workspace");return}yield*G(VJ({workspaceId:n.id,terminalId:t}))}function*zKe(t,{payload:e}){const n=yield*Y(nn,e);if(!n){en(!1,"onTerminalClosedImpl: Terminal was not found");return}const{isValid:o,workspace:r}=yield*Nj(e);if(o){if(yield*G(v1({workspaceId:r.id,terminalId:e})),n.isActive){const i=JL(r.orderedTerminalIds,e);i&&(yield*G(oo(i)))}yield*VKe(r.id,t)}}function*VKe(t,e){const n=yield*Y(to,t);(n==null?void 0:n.orderedTerminalIds.length)===1&&(yield*Dj(n,e))}function*WKe({payload:t}){const{workspaceTabId:e,connection:n,title:o}=t,r=yield*Y(WJ,e);if(!r){en(!1,"openWorkspaceConnectionImpl: Workspace tab was not found");return}const i=yield*Y(to,r.workspaceId);if(!i){en(!1,"openWorkspaceConnectionImpl: Workspace was not found");return}n.setAsWorkspaceConnection(i.templateId);const s=yield*jKe(n,i.id,o);yield*G(fy({terminal:s})),yield*UKe(s,i),yield*G(oo(s.id)),yield*G(Lg({id:s.id,isTerminalConnection:!0,connection:n}))}function*jKe(t,e,n){const o=Ie.v4(),i=(yield*Y(Wa))(t.colorScheme),s=yield*Y(kN,e),a=py(t,n,s.map(({title:c})=>c));return{...hy(o,a,ge(),i,t),isActive:!1}}function*UKe(t,e){const{id:n,layout:o}=e.layout.findNodeWithBiggestSquare();yield*G(m1({targetTerminalId:n,sourceTerminalId:t.id,layout:o,workspaceId:e.id,workspaceTabOrderTargetIndex:e.orderedTerminalIds.length}))}const Hj=t=>{const{orderedTerminalIds:e,...n}=t,{layout:o,orderedTerminalIds:r}=$Ke(t);return{id:Ie.v4(),title:"Workspace",viewMode:"splitView",workspaceMode:"default",windowId:ge(),...n,orderedTerminalIds:r,layout:o}},$Ke=t=>{const{orderedTerminalIds:e,layout:n}=t;if(n)try{return qKe(e,n)}catch(o){Cs.exception("Workspace creation with specified layout failed, falling back to balanced tree layout",o)}return{layout:gy.buildBalancedTree(e),orderedTerminalIds:e}},qKe=(t,e)=>{const n=Array.from(e.leafs()).map(l=>l.id),o=jJ(t,n),r=new Set(o);if(o.length===0)throw new Error("Trying to create workspace with invalid terminal IDs - no common IDs found between orderedTerminalIds and layout");const i=o.length!==t.length||o.length!==n.length;en(!i,"Terminal IDs mismatch detected - cleaning up workspace layout and terminal order");let s=new gy(e.getRoot());for(const l of e.leafs())r.has(l.id)||(s=s.remove(l.id));const a=t.filter(l=>r.has(l));return{layout:s,orderedTerminalIds:a}};function*GKe({payload:t}){const{workspaceTemplate:e,terminals:n,newTabId:o,workspaceMode:r,targetTabPosition:i}=t,s=e.getLayoutForTerminals(n),a=new Set;for(const c of e.workspaceTerminals){const d=n.find(p=>p.workspaceTerminalId===c.id);d&&a.add(d.id)}for(const c of n)a.has(c.id)&&(yield*G(fy({terminal:c})));const l=Hj({orderedTerminalIds:Array.from(a),templateId:e.local_id,title:e.label||"Workspace",viewMode:e.lastTerminalView??"focusView",workspaceMode:r??"default",layout:s});yield*G(vy({workspace:l})),yield*G(VL({id:o,title:l.title,workspaceId:l.id,windowId:l.windowId,targetTabPosition:i}))}function*KKe({payload:t}){const{targetWorkspaceId:e,terminalId:n,targetTerminalId:o}=t,r=yield*Y(Mi),i=pn(e)?r[e]:void 0,s=yield*Y(d=>er(d,o));if(!s){en(!1,"Split terminal: Target tab was not found");return}const a=Xn(s)&&i&&s.workspaceId===i.id,l=i==null?void 0:i.orderedTerminalIds.includes(n);if(a&&l){en(!1,"Split terminal: Terminal is already in the target workspace");return}yield*XKe(t),yield*YKe(t);let c;i?c=yield*QKe(t):c=yield*ZKe(t),yield*JKe(s,c),yield*G(oo(n))}function*ZKe(t){const{terminalId:e,targetTerminalId:n,layout:o,position:r,windowId:i}=t,s=gy.buildBalancedTree([n]).split(n,e,{layout:o,position:r}),a=Hj({orderedTerminalIds:[e,n],layout:s,windowId:i,templateId:void 0});return yield*G(vy({workspace:a})),yield*G(ZL({workspace:a})),a}function*QKe(t){const{terminalId:e,targetTerminalId:n,layout:o,position:r,workspaceTabOrderTargetIndex:i,targetWorkspaceId:s}=t,l=(yield*Y(Mi))[s??""];yield*G(m1({sourceTerminalId:e,targetTerminalId:n,layout:o,position:r,workspaceId:l.id,workspaceTabOrderTargetIndex:i}));const c=yield*Y(to,l.id);return c||(en(!1,`addTerminalToWorkspace: Expected updatedWorkspace to be found for ID ${l.id}, but it was not. Falling back to targetWorkspace.`),l)}function*YKe(t){const{sourceWorkspaceId:e}=t;if(!e)return;const n=yield*Y(to,e);n&&(yield*G(v1({workspaceId:n.id,terminalId:t.terminalId})))}function*XKe(t){const{terminalId:e}=t,n=yield*Y(er,e);n&&(yield*G($L(n.id)))}function*JKe(t,e){if(ha(t)){yield*MKe(t,e);const o=(yield*Y(Fa,t.windowId)).filter(r=>r.id!==t.id).map(r=>(r==null?void 0:r.title)||"");yield*G(MC({id:t.id,changes:{title:oC("Workspace",o)}}))}yield*G(f1(t.id))}function*eZe({mediatorPool:t}){yield*gn([fe(vy,tZe,t),fe(v1,nZe,t),fe(m1,oZe,t),fe(kg,rZe)])}function*tZe(t,{payload:e}){const{workspace:n}=e;if(n.workspaceMode==="snippet")return;const o=yield*Mj(n.templateId);yield*G(he("workspaceTabCreated",{...i5(n),workspaceOrigin:"Workspace Template",numberOfWorkspacesFromTemplate:o.length,isActiveMultiplayer:_b(n.orderedTerminalIds,t)}))}function*nZe(t,{payload:e}){const{workspaceId:n,terminalId:o}=e,r=yield*Y(to,n);r&&(yield*G(he("workspaceTabUpdated",{...i5(r),workspaceAction:"Removed",isActiveMultiplayer:_b([o],t)})))}function*oZe(t,{payload:e}){const{workspaceId:n,sourceTerminalId:o}=e,r=yield*Y(to,n);r&&(yield*G(he("workspaceTabUpdated",{...i5(r),workspaceAction:"Added",isActiveMultiplayer:_b([o],t)})))}function*rZe({payload:t}){const{workspaceId:e}=t,n=yield*Y(to,e);n&&(yield*G(he("workspaceLayoutChanged",{...Dg(i5(n),"numberOfConnections")})))}const i5=t=>{var e;return{workspaceLayoutType:t.viewMode==="splitView"?"Split View":"Focus View",numberOfConnections:t.orderedTerminalIds.length,workspaceTemplateID:(e=t.templateId)==null?void 0:e.toString()}};function _b(t,e){return Wt(t.some(n=>{var o,r;return(r=(o=e.getOrCreateInstance(n))==null?void 0:o.multiplayerApi)==null?void 0:r.isMultiplayerSessionActive()}))}function*iZe(t){yield*gn([fe(AL,GKe),fe(Xk,KKe),fe(kg,AKe,t),fe(Jk,OKe,t),fe(TL,WKe),fe(Ua,zKe,t),fe(oo,BKe),fe(f1,FKe),fe(EL,HKe),fe(Fl,NKe),eZe(t),IKe(t)])}function*sZe(t){yield*gn([UJ(),HGe(t),iZe(t),tGe(),pKe(),NUe(),SKe(),s$e(t.mediatorPool),n$e(),Zqe(t)])}$J();qJ();ws.configure({stopEventPropagationAfterHandling:!1,stopEventPropagationAfterIgnoring:!1,ignoreRepeatedEventsWhenKeyHeldDown:!1});const{store:aZe,sagas:xb}=GJ();Un(xb,Li.success,()=>{y1.closeAllServices(),mae(jy)});xb.run(sZe,jy);const UE=document.getElementById("root");var $E;UE!=null&&(($E=document.body)==null||$E.classList.add(KJ),ZJ(),bte(),QJ(UE).render(u(YJ,{value:ig,children:u(XJ,{value:JJ,children:u(eee,{sagas:xb,store:aZe,children:u(xUe,{})})})})));export{HZe as a};
//# sourceMappingURL=ui-process-48aa93fb.js.map
