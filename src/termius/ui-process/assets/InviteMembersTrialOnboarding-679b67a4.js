import{r as i,cy as b,c4 as T,bh as w,bi as D,xw as k,bn as e,p2 as j,bl as d,xd as o,wL as R,mD as F,xx as B,bg as N,ee as A,xy as O,c0 as z,xz as E,nM as m,xA as P}from"./reconnectSaga-e33541d6.js";import{C as M}from"./CloseAndBackDialogSection-b6e53371.js";import{u as q}from"./fadeIn-42e8fead.js";import{I as L}from"./InviteSuccessScreen-186f81a6.js";const K=i.forwardRef((p,u)=>{const{closeDialog:a,...h}=p,{classes:t}=W(),g=b(),x=i.useRef(T.v4()),c=w(),v=q(h),[r,n]=i.useState("invite"),[f,y]=i.useState([{email:"",role:"Editor"}]),S=D(k),l=async s=>{n("loading"),y(s);try{await A(g,O,{createTeam:!0,teamName:"My Team",force2fa:!1,invites:s}),c(z("teamTrialFunnelStarted",{openedFrom:"Trial Onboarding",teamTrialFunnelID:x.current,teamTrialPlan:"Team"})),c(E({onboardingAction:"Invite",success:"yes",remainingSteps:S?0:1})),n("success")}catch(C){n("error"),m(C,"Invite members failed")}},I=()=>{try{c(P.request()),a()}catch(s){n("error"),m(s,"Skip invite step failed")}};return e(j.div,{style:v,ref:u,children:d("div",{className:t.dialog,children:[e(M,{onClose:a,onBack:a,className:t.titleCenter}),d("div",{className:t.mainWrapper,children:[e(o,{in:r==="invite",justifyContent:"center",alignItems:"center",children:e(R,{onSendInvites:l,onSendLater:I,leftButtonTitle:"I don't have a team",rightButtonTitle:"Invite"})}),e(o,{in:r==="loading",justifyContent:"center",alignItems:"center",children:e("div",{className:t.spinnerCenter,children:e(F,{className:t.progressCircle,size:205,thickness:2})})}),e(o,{in:r==="success",justifyContent:"center",alignItems:"center",children:e(L,{onClose:()=>a()})}),e(o,{in:r==="error",justifyContent:"center",alignItems:"center",children:e(B,{onBack:()=>n("invite"),onRetry:()=>l(f),hasRetryBtn:!0})})]})]})})}),W=N()({dialog:{overflow:"hidden",width:"720px",height:"100%",borderRadius:"20px",boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.15)",position:"relative",display:"flex",flexDirection:"column","@media (max-height: 520px)":{height:"100vh"},"@media (max-height: 520px) and (max-width:730px)":{borderRadius:"0",width:"100vw"}},mainWrapper:{backgroundColor:"var(--foreground)",color:"var(--text-color)",width:"720px",height:"540px"},titleCenter:{justifyContent:"center",zIndex:1},spinnerCenter:{width:"100%",height:"540px",display:"flex",justifyContent:"center",alignItems:"center"},progressCircle:{color:"var(--accent)"}});export{K as default};
//# sourceMappingURL=InviteMembersTrialOnboarding-679b67a4.js.map
