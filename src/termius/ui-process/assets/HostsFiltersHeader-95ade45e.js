import{r as a,bg as O,h9 as S,mF as re,c4 as ie,bh as F,bi as i,wh as oe,cz as ce,ml as le,xh as de,i_ as pe,zQ as me,cy as Q,ga as ue,zR as he,bN as ve,bn as t,os as ge,bl as p,bs as b,bW as P,pk as fe,ia as U,ib as Z,bQ as z,bR as xe,bS as Se,bT as Te,c0 as L,zS as ke,ez as be,eA as Ie,aD as Pe,ct as we,zT as ye,i7 as Ee,zU as Ce,i6 as Me,zV as ze,zW as Le,zX as Ne,ee as Oe,zY as Fe,bf as We,cs as Re,il as De,fJ as Be,cV as He,zZ as $e,cX as Ae,cY as je}from"./reconnectSaga-e33541d6.js";const Ve=(o,s)=>a.createElement("svg",{width:30,height:30,viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:s,...o},a.createElement("rect",{width:30,height:30,rx:10,transform:"matrix(-1 0 0 1 30 -3.05176e-05)",fill:"#E6EBED",fillOpacity:.25}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.0001 13.7143C17.1303 13.7143 18.8572 11.9874 18.8572 9.85714C18.8572 7.7269 17.1303 6 15.0001 6C12.8698 6 11.1429 7.7269 11.1429 9.85714C11.1429 11.9874 12.8698 13.7143 15.0001 13.7143ZM14.9999 24C18.0117 24 20.678 22.5206 22.3117 20.2488C21.2831 17.1974 18.3981 15.0001 14.9998 15.0001C11.6016 15.0001 8.71656 17.1974 7.68799 20.2487C9.32167 22.5205 11.988 24 14.9999 24Z",fill:"#798C94"})),_e=a.forwardRef(Ve),Ue=a.memo(_e),Ze=({className:o,list:s,avatars:c,closeMenu:u,colorScheme:d,fromCollaboration:r,disableScrolling:h=!1})=>{const{terminalColors:v}=re(d),{classes:e,cx:T}=Qe({fromCollaboration:r}),l=a.useRef(ie.v4()),f=F(),w=i(oe),x=i(ce),g=i(le),X=i(de),[Y,W]=pe(s,me),q=Q(),I=i(ue),R=i(he),D=i(ve),y=c.find(n=>n.id===D),[B,H]=a.useState(null),[J,G]=a.useState(),[m,K]=a.useState(),$=a.useCallback((n,k)=>{H(n),G(k??n.innerText)},[]),A=a.useCallback(()=>{H(null)},[]),E=a.useCallback((n,k)=>{m&&clearTimeout(m);const{currentTarget:M}=n;K(setTimeout(()=>$(M,k),500))},[$,m]),j=a.useCallback(()=>{A(),m&&clearTimeout(m)},[A,m]),C=a.useCallback(()=>{m&&clearTimeout(m)},[m]),ee=()=>{be(q,{dialog:"TeamTrialViaInvites",target:Ie(),props:{teamTrialFunnelID:l.current},options:{closeOnBackdropClick:!1}}).catch(Pe)},V=!w&&x&&!X,te=()=>{x||(f(L("teamTrialFunnelStarted",{openedFrom:"Invite People Button",teamTrialFunnelID:l.current,teamTrialPlan:"Team"})),f(L("createTeamWizardViewOpened",{createTeamWizardStep:"Invite Members",openedFrom:"Invite People Button",teamTrialFunnelID:l.current,trial:"yes"}))),V?ke():(f(L("inviteScreenOpened",{funnelType:null})),ee(),u&&u())},_=t(ge,{open:!!B,anchorEl:B,PaperProps:{onMouseLeave:j},TransitionProps:{timeout:{enter:200,exit:0}},className:T(e.popover,v),classes:{paper:e.popoverPaper},elevation:0,anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"center",horizontal:"left"},children:J}),ne=g?null:p("div",{onClick:te,className:e.inviteLink,children:[t(Ue,{}),t(b,{className:P(e.inviteText,e.inviteHover),color:"primary",fontSize:14,children:"Invite team members"}),V?t(fe,{className:P(e.linkIcon,e.inviteHover)}):null]}),se=Y.map(n=>{const k=n.username===I&&n.username;return p("div",{className:e.item,children:[t(U,{...Z(n,c,r)}),t("div",{className:e.text,onMouseEnter:M=>E(M,n.username),onMouseLeave:C,children:t(b,{color:"primary",fontSize:14,children:r&&k?`${n.userFullName||n.username} (me)`:n.userFullName||n.username})})]},`${n.username}-${n.id??0}`)}),ae=p(z.Fragment,{children:[t(b,{className:e.pendingInvitesTitle,color:"secondary",fontSize:12,lineHeight:1.5,children:"Pending invites:"}),W.map(n=>p("div",{className:e.item,children:[t(U,{...Z(n,c)}),t("div",{className:P(e.text,{[e.textInvited]:!r}),onMouseEnter:E,onMouseLeave:C,children:t(b,{color:"secondary",fontSize:14,children:n.username})})]},`${n.username}-${n.id??0}`))]});return p("div",{className:T(e.root,{[e.disableScrolling]:h},o),onScroll:j,children:[!r&&ne,x?p(z.Fragment,{children:[_,se,W.length!==0?ae:null]}):p(z.Fragment,{children:[_,p("div",{className:e.item,children:[t(xe,{isActive:!r,color:Se(I,D??0),avatar:(y==null?void 0:y.base64)||"",letter:Te({email:I,fullName:R})}),t("div",{className:e.text,onMouseEnter:E,onMouseLeave:C,children:t(b,{children:R||I})})]})]})]})},Qe=O()((o,{fromCollaboration:s},c)=>({root:{minWidth:"243px",maxWidth:"368px",maxHeight:"500px",overflow:"auto","@media (max-height: 640px)":{maxHeight:"300px"}},disableScrolling:{overflow:"unset"},item:{display:"flex",flex:"none",padding:"10px",alignItems:"center",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"300px"},text:{marginLeft:"8px",overflow:"hidden",textOverflow:"ellipsis","& > div":{color:`${s?S.uiColor:"var(--text-primary)"}`}},textInvited:{"& > div":{color:`${s?S.uiColor:"var(--secondary)"}`}},inviteHover:{},inviteLink:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",margin:"10px","& rect":{fill:"var(--accent-transparent)"},"& path":{fill:"var(--accent)"},"&:hover":{"& svg ":{"& path":{fill:"var( --accent-light)"}}},[`&:hover .${c.inviteHover}`]:{color:"var(--accent)",fill:"var(--accent)"}},inviteText:{"&:hover ":{color:"var(--accent)"}},popover:{pointerEvents:"auto",wordBreak:"break-all"},popoverPaper:{padding:"5px 8px",borderRadius:"5px",marginLeft:"-5px",filter:"drop-shadow(0px 8px 14px rgba(0, 0, 0, 0.25))",maxWidth:"300px",userSelect:"text",whiteSpace:"normal",color:s?S.uiColor:void 0,background:s?S.gradientColor:"var(--white)",".termius-dark-theme &":{color:s?S.uiColor:"var(--card-c)",background:s?S.gradientColor:"var(--white)"}},linkIcon:{width:"13px",height:"13px","& path":{fill:"var(--main)",".termius-dark-theme &":{fill:"var(--main)"}},alignSelf:"center"},pendingInvitesTitle:{margin:"10px"}})),Xe=({team:o,avatars:s,size:c,listTitle:u,onOpenList:d,endPosition:r,onCopyInvitationLink:h,visibleTeamSizeLimit:v})=>{const{classes:e}=Ye(),T=r?{position:"right",anchorOrigin:{vertical:"bottom",horizontal:"center"},tipMargin:20}:{};return t("div",{className:e.root,role:"menu",children:t(we,{className:e.menu,listProps:{disablePadding:!0},...T,toggler:()=>t(ye,{team:o,avatars:s,onOpenList:d,size:c,visibleTeamSizeLimit:v,mayIncludePlusIcon:!0}),children:({closeMenu:l})=>t(Ze,{list:o,avatars:s,listTitle:u,onCopyInvitationLink:h,closeMenu:l})})})},Ye=O()({root:{margin:"auto"},menu:{marginTop:"10px",minWidth:"300px"}}),qe=o=>{const s=i(Ee),c=i(Ce),u=i(Me),d=F(),r=Q(),h=a.useCallback(()=>{d(ze(s.filter(Le).length))},[d,s]),v=c?async()=>{d(Ne({inviteLinkLocation:"Who is in Termius"}));const e=await Oe(r,Fe,{createTeam:!1});We.writeText(e.url)}:void 0;return t(Xe,{team:s,avatars:u,onOpenList:h,endPosition:o.endPosition,onCopyInvitationLink:v})},N="hosts";function Ke({className:o,children:s,onFiltersChanged:c,filters:u}){const{classes:d}=Je(),r=i(Re),h=i(De),{sizeObserverRef:v,width:e}=Be(),l=e-81,f=F(),w=a.useCallback(({sort:g})=>{g&&f(He({tab:N,sort:g.type,reverse:g.reverse}))},[f]),x=i(g=>g.sorting[N]);return p("div",{className:P(o,d.header,{"termius-dark-theme":r}),children:[s,p("div",{className:d.responsivePart,ref:v,children:[l>=250&&t($e,{tab:N,dark:r}),l>=100&&t(Ae,{dark:r,onChange:c,selectedTags:u.tags}),l>=200&&t(je,{type:x.by,reverse:x.reverse,onChange:w,dark:r}),t("div",{children:h&&l>=0&&t(qe,{endPosition:l<100})})]})]})}const Je=O()({header:{background:"var(--light-grey-5)",".termius-dark-theme &":{background:"var(--dark-grey-3)"},display:"flex",padding:"5px 12px",paddingTop:"4px",height:"45px",alignItems:"center",gap:"15px","&.termius-dark-theme, .termius-dark-theme &":{borderBottom:"var(--menu-border)",minHeight:"45px"}},responsivePart:{display:"flex",minWidth:0,flex:1,alignItems:"center",gap:"15px",justifyContent:"end"}});export{Ke as HostsFiltersHeader};
//# sourceMappingURL=HostsFiltersHeader-95ade45e.js.map
