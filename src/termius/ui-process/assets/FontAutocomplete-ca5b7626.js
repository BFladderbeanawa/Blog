var Q=Object.defineProperty;var X=(e,r,t)=>r in e?Q(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var m=(e,r,t)=>(X(e,typeof r!="symbol"?r+"":r,t),t);import{a as Z}from"./child_process-1e242066.js";import{id as $,l9 as J,c2 as L,yS as Y,yT as ee,yU as te,bQ as V,bl as U,cp as se,bn as i,dO as D,fM as v,y5 as re,dI as ae,cb as oe,gI as ne,b8 as le,r as n,yV as R,hw as ie,yW as ce,cw as de,dR as ue,bg as K,h9 as O,yX as pe,fK as he,p9 as ge,fN as me,oC as fe,bV as we,aZ as be}from"./reconnectSaga-e33541d6.js";const G=async(e,r=L.constants.F_OK)=>new Promise(t=>{L.access(e,r,a=>{t(a?null:e)})}),Ve=async()=>$.windows()?Ce():Fe(),Ue=e=>$.windows()?`"${e}"`:`'${e.replace(/'/g,"'\\''")}'`;function Fe(){return new Promise((e,r)=>{Z("grep '^[^#]' /etc/shells",(t,a)=>{if(t)r();else{const u=a.toString().split(/\r?\n/).filter(p=>p!=="");e(u)}})})}async function Ce(){let e=!1;xe()>=16299&&(e=!0);const r=[Y,ee,`${te}\\${e?"wsl.exe":"bash.exe"}`],t=await Promise.all(r.map(G));return t.push(await ve()),t.filter(a=>a!=null)}async function ve(){const e=[`${process.env.ProgramW6432}\\Git\\bin\\bash.exe`,`${process.env.ProgramW6432}\\Git\\usr\\bin\\bash.exe`,`${process.env.ProgramFiles}\\Git\\bin\\bash.exe`,`${process.env.ProgramFiles}\\Git\\usr\\bin\\bash.exe`,`${process.env.LocalAppData}\\Programs\\Git\\bin\\bash.exe`];for(const r of e){const t=await G(r);if(t)return t}return null}async function xe(){const e=/(\d+)\.(\d+)\.(\d+)/g.exec(J.release());let r=0;return e&&e.length===4&&(r=parseInt(e[3],10)),r}const f=new Map([["Error","#F25E61"],["Warning","#FFCB00"],["OK","#81D254"],["Info","#2091F6"],["Debug","#8686FF"],["IP address & MAC","#D2549A"]]),b=new Map([["Error","#FF000F"],["Warning","#E36D00"],["OK","#009618"],["Info","#0029FF"],["Debug","#9E00E9"],["IP address & MAC","#EE0064"]]),N=new Map([["Error","#FF9698"],["Warning","#FFB55B"],["OK","#9FFFCE"],["Info","#56C2FF"],["Debug","#B4B4FF"],["IP address & MAC","#FF9FD4"]]),ke=new Map([["Error","#FF7679"],["Warning","#F2FF5B"],["OK","#6CFFB3"],["Info","#7AF7FF"],["Debug","#CBA1FF"],["IP address & MAC","#FF82EB"]]),Pe=new Map([["Error","#B20004"],["Warning","#FFC700"],["OK","#39FF27"],["Info","#0000FF"],["Debug","#8000FF"],["IP address & MAC","#BC0093"]]),ye=new Map([["termius dark",f],["homebrew",f],["pro",f],["solarized dark",f],["dracula",f],["monokai",f],["nord dark",f],["termius light",b],["basic",b],["man page",b],["novel",b],["solarized light",b],["nord light",b],["grass",N],["red sands",N],["ocean",ke],["silver aerogel",Pe]]);function Ke(e=""){const r=ye.get(e.toLowerCase());return r||f}function Ge(e){return e.localTerminalPath.path}const Ee="127.0.0.1",De="22";class Ie extends V.Component{constructor(){super(...arguments);m(this,"state",{address:Ee,port:De,username:"",password:"",errors:{port:!1,username:!1,password:!1}});m(this,"handleSubmit",t=>{t.preventDefault();const{address:a,port:u,username:p,password:d}=this.state;this.props.onOk({address:a,port:u,username:p,password:d})});m(this,"setError",t=>{this.setState({errors:{...this.state.errors,...t}})});m(this,"onPortChange",t=>{const a=t.target.value.trim();this.setState({port:a}),this.setError({port:a.length===0})});m(this,"onUsernameChange",t=>{const{value:a}=t.target;this.setState({username:a}),this.setError({username:a.length===0})});m(this,"onPasswordChange",t=>{const{value:a}=t.target;this.setState({password:a}),this.setError({password:a.length===0})});m(this,"isDisabled",()=>{const t=this.state.username.trim(),a=this.state.password.trim(),u=this.state.port.trim();return t.length===0||a.length===0||u.length===0})}render(){const t=this.isDisabled();return U(se,{title:"Enter required fields",onClose:this.props.onClose,onOk:this.handleSubmit,disabled:t,buttonColor:"accent",dark:this.props.dark,children:[i(D,{children:i(v,{label:"Address",value:this.state.address,dark:this.props.dark,fullWidth:!0,disabled:!0,children:i(v,{label:"Port",value:this.state.port,error:this.state.errors.port,onChange:this.onPortChange,onBlur:this.onPortChange,required:!0,dark:this.props.dark,port:!0,fullWidth:!0})})}),i(D,{children:i(v,{label:"User",value:this.state.username,error:this.state.errors.username,onChange:this.onUsernameChange,onBlur:this.onUsernameChange,required:!0,dark:this.props.dark,fullWidth:!0,autoFocus:!0})}),i(D,{children:i(re,{label:"Password",value:this.state.password,error:this.state.errors.password,onChange:this.onPasswordChange,onBlur:this.onPasswordChange,required:!0,dark:this.props.dark,fullWidth:!0})})]})}}const qe=ae.promisify(oe(Ie)),He=ne(e=>e.localhost,e=>e!=null?new le(e):null),Me=(e,r)=>n.createElement("svg",{width:10,height:2,viewBox:"0 0 10 2",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:r,...e},n.createElement("rect",{width:10,height:2,rx:1,fill:"currentColor"})),Be=n.forwardRef(Me),_e=n.memo(Be),je=[{...R.helium,variant:"helium"},{...R.hydrogen,variant:"hydrogen"},{name:"Disabled"}],ze=[{name:"Enabled"},{name:"Disable for this session",variant:"session"},{name:"Disable for today",variant:"day"},{name:"Disable completely",variant:"forever"}],Qe=e=>[...ie(!!e,[{name:"Enabled",variant:ce[e]}]),{name:"Disabled"}],Se=n.memo(({font:e,onSelectFont:r,isSelected:t,containerRef:a,className:u})=>{const{classes:p,cx:d}=We();return i("div",{ref:a,children:i(de,{className:d(p.root,u),endAdornment:t&&i(ue,{className:p.icon}),dense:!0,onClick:()=>r(e),style:{fontFamily:e},children:e})})}),We=K()({root:{marginRight:4},icon:{width:"15px",height:"12px"}}),Ae=350,T=e=>{setTimeout(e,Ae+50)},Xe=({currentFont:e,onFontSubmitted:r,menuFullWidth:t=!1,isMenuOnTop:a=!1,colorScheme:u})=>{const p=pe(u),d=he(),C=n.useRef(null),I=n.useRef(null),M=n.useRef(null),{classes:w,cx:x}=Oe(),[q,k]=n.useState(e),[H,B]=n.useState(""),[h,P]=n.useState(e),y=d.isFocused&&!!d.current,S=ge.getFontFamilies(),c=S.filter(s=>s.toLowerCase().indexOf(H.toLowerCase())>-1),_=s=>{B(s),k(s),j(s)},W=n.useCallback(()=>{k(e),T(()=>P(e)),T(()=>{B("")})},[e]);n.useEffect(()=>{var s;y?(s=C==null?void 0:C.current)==null||s.scrollIntoView({block:"nearest"}):W()},[y,W]),n.useEffect(()=>{k(e)},[e]);const j=s=>{const o=S.filter(l=>l.toLowerCase().indexOf(s.toLowerCase())>-1);o.length&&(o.find(g=>g===h)||P(o[0]))},F=n.useCallback(s=>c.length?(c.findIndex(l=>l===h)+s+c.length)%c.length:null,[c,h]),E=n.useCallback(s=>{const o=F(s);if(o!=null){const l=s===1?I.current:M.current;l==null||l.scrollIntoView({block:"nearest"}),r(c[o])}P(o!=null?c[o]:null)},[c,F,r]),A=n.useCallback(()=>{var s;if(c.length){const o=c.find(l=>l===h);o&&(r(o),(s=d==null?void 0:d.current)==null||s.blur())}},[c,h,r,d]);n.useEffect(()=>{const s=d.current,o=l=>{const g=l.key.toLowerCase();g.includes("esc")&&s&&(s.blur(),l.stopPropagation()),g.includes("arrowup")&&(E(-1),l.stopPropagation()),g.includes("arrowdown")&&(E(1),l.stopPropagation()),g.includes("enter")&&(A(),l.stopPropagation())};return s==null||s.addEventListener("keydown",o),()=>s==null?void 0:s.removeEventListener("keydown",o)},[d,E,A]);const z=n.useCallback((s,o)=>{const l=F(-1),g=F(1);return s===l?M:s===g?I:o===h?C:null},[F,h]);return i(V.Fragment,{children:U("div",{className:w.container,children:[i(v,{outlined:!0,disableWrapper:!0,inputRef:d.ref,value:q,onChange:s=>_(s.target.value),className:x(w.text,{[w.themeColors]:!!u}),accentColor:Re(u)}),i(me,{isOpen:y,anchorEl:d.current,className:x(w.dropdown,p),popperClassName:w.popper,disablePortal:!0,offset:[0,4],popperFlip:!0,popperPreventOverflow:{enabled:!1},fullWidth:t,placement:a?"top-start":"bottom-start",children:i(Le,{colorScheme:u,children:c!=null&&c.length?c.map((s,o)=>i(Se,{className:x(p,{[w.selected]:h===s}),colorScheme:u,font:s,isSelected:h===s,onSelectFont:r,containerRef:z(o,s)},`font-${s}`)):i("div",{className:w.empty,children:"No results"})})})]})})};function Le({colorScheme:e,children:r}){const t=fe({colorScheme:e});return i(we,{maxHeight:"350px",padding:"5px",ref:t.ref,className:t.className,children:r})}const Re=e=>{var t;const r=(t=be(e==null?void 0:e.backgroundColor))==null?void 0:t.isLight();return e?r?"var(--black-a05)":"var(--white-a05)":"var(--dark-grey-6)"},Oe=K()({container:{width:"100%",position:"relative"},text:{width:"100%"},themeColors:{"--text-color":O.uiColor,"&:hover":{"--text-color":O.foregroundColor}},dropdown:{"--menu-background-color":"var(--foreground)","--menu-item-text-color":"var(--main)","--menu-item-text-hover-color":"var(--main)","--menu-item-svg-hover-color":"var(--main)",background:"var(--menu-background-color)",border:"1px solid",borderColor:"transparent",borderRadius:10,overflow:"unset"},popper:{borderRadius:10,padding:0},empty:{padding:"0 14px",minWidth:"150px"},selected:{color:"var(--menu-item-text-hover-color)","& svg":{color:"var(--menu-item-svg-hover-color)"}}});export{Xe as F,_e as M,ze as a,Qe as b,je as c,Ve as d,Ue as e,Ke as g,He as l,Ge as p,qe as r};
//# sourceMappingURL=FontAutocomplete-ca5b7626.js.map
