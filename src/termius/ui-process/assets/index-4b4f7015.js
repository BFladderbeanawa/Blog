import{aH as v,bg as y,bl as u,bn as e,ce as m,bs as f,xT as C,cy as B,xL as N,bi as x,ga as O,cz as z,r as a,ee as E,xS as L,dl as R}from"./reconnectSaga-e33541d6.js";import{S as j}from"./SettingsTabContent-3aa4d4a9.js";const $=v("GET_PRODUCTBOARD_TOKEN"),D=""+new URL("background_circle-1452d38b.svg",import.meta.url).href,M=()=>{const{classes:s}=_();return u("div",{className:s.offline,children:[e(m,{top:40,children:e(f,{variant:"h2",align:"center",children:"Offline"})}),e(m,{top:40,children:e(f,{fontSize:14,children:"Please make sure that your internet connection is active to proceed."})}),e("div",{className:s.background}),e("div",{className:s.imageContainer,children:e(C,{className:s.offlineIcon})})]})},_=y()({offline:{background:"inherit",color:"var(--text-primary)",position:"absolute",height:"100%",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",zIndex:1},offlineIcon:{width:"200px",height:"200px","@media screen and (max-height: 570px)":{width:"120px",height:"120px"}},imageContainer:{position:"absolute",height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},background:{pointerEvents:"none",position:"absolute",left:"50%",top:"50%",backgroundImage:`url(${D})`,backgroundRepeat:"no-repeat",backgroundPosition:"top",backgroundSize:"130%",transform:"translate(-50%, 0)",width:"100%",height:"50%",zIndex:-1}}),k="https://ideas.termius.com/",q="https://ideas.teams.termius.com";function U(s,n){switch(s){case"main":return n?q:k;case"keywords highlighting":return"https://ideas.termius.com/c/70-highlight-terminal-syntax-by-a-regex";default:return k}}const V=s=>{const{page:n}=s,g=B(),{classes:r}=A(),h=N(),o=x(O),p=x(z),[i,c]=a.useState(!1),[b,S]=a.useState(!1),[l,P]=a.useState(null),T=a.useCallback(async()=>{try{const t=await h(E(g,$));P(t),c(!0)}catch(t){if(t instanceof L)return;if((t==null?void 0:t.status)===0){S(!0);return}c(!0)}},[h,g]);a.useEffect(()=>{o?T():c(!0)},[]);const d=a.useMemo(()=>({className:r.iframe,frameBorder:"0",sandbox:"allow-same-origin allow-scripts"}),[r.iframe]),I=a.useMemo(()=>{const t=U(n||"main",p);if(b)return e(M,{});if(!o&&i)return e("iframe",{title:"Productboard",src:t,...d});if(l&&i){const w=`${t}?token=${l.jwt}`;return e("iframe",{title:"productboard",src:w,...d})}return null},[d,i,b,l,o,p,n]);return e(j,{children:u("div",{className:r.container,children:[u(f,{className:r.loaderText,children:[e(m,{right:10,top:2,children:e(R,{className:r.progress,size:20})}),"Loading ideas portal..."]}),I]})})},A=y()({container:{background:"inherit",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",left:"0",right:"0",bottom:"0"},progress:{color:"var(--accent)"},loaderText:{marginBottom:"80px",display:"flex",alignItems:"center",color:"var(--text-primary)"},iframe:{position:"absolute",height:"100%",width:"100%"}}),K=V;export{K as default};
//# sourceMappingURL=index-4b4f7015.js.map
