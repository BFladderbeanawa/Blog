"use strict";var kv=Object.defineProperty;var Rv=(e,t,r)=>t in e?kv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var v=(e,t,r)=>(Rv(e,typeof t!="symbol"?t+"":t,r),r);const We=require("process"),f=require("./assets/schema-8e15f296.js"),te=require("@termius/libtermius");require("net");const Ke=require("os");require("crypto");const Ae=require("fs"),me=require("path"),md=require("child_process"),Mv=require("assert"),Nv=require("events"),Dv=require("buffer"),Qr=require("stream"),Fv=require("util"),Lv=require("@termius/node-pty"),xv=require("string_decoder"),Gv=require("@termius/mosh");require("http");require("https");require("url");require("zlib");require("tls");require("domain");require("async_hooks");function Uv(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}function Dc(e){return e!=null}function Wv(e,t){return e!=null?t(e):void 0}const Kv="exec-analytics";class Bv{constructor(t){this.transport=t}execChannelOpenFailed({softwareVersion:t,comment:r}){const n={type:"EXEC_CHANNEL_OPEN_FAILED",softwareVersion:t,comment:r};this.transport.send(Kv,n)}}var Vv=!0,ws="Invariant failed";function ft(e,t){if(!e){if(Vv)throw new Error(ws);var r=typeof t=="function"?t():t,n=r?ws+": "+r:ws;throw new Error(n)}}class Hv{send(t,r){ft(process.send,"The code is running outside of a Node environment"),process.send([t,r])}}function zv(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var qv=zv;function Yv(e){return e!==e}var Xv=Yv;function Qv(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var Jv=Qv,Zv=qv,em=Xv,tm=Jv;function rm(e,t,r){return t===t?tm(e,t,r):Zv(e,em,r)}var nm=rm,im=nm;function om(e,t){var r=e==null?0:e.length;return!!r&&im(e,t,0)>-1}var _d=om;function am(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var sm=am;function um(){}var Lu=um;const bd=f.getDefaultExportFromCjs(Lu);var Ps=f._Set,cm=Lu,lm=f._setToArray,fm=1/0,dm=Ps&&1/lm(new Ps([,-0]))[1]==fm?function(e){return new Ps(e)}:cm,hm=dm,pm=f._SetCache,vm=_d,mm=sm,_m=f._cacheHas,bm=hm,ym=f._setToArray,gm=200;function Sm(e,t,r){var n=-1,i=vm,o=e.length,a=!0,s=[],c=s;if(r)a=!1,i=mm;else if(o>=gm){var u=t?null:bm(e);if(u)return ym(u);a=!1,i=_m,c=new pm}else c=t?[]:s;e:for(;++n<o;){var l=e[n],d=t?t(l):l;if(l=r||l!==0?l:0,a&&d===d){for(var p=c.length;p--;)if(c[p]===d)continue e;t&&c.push(d),s.push(l)}else i(c,d,r)||(c!==s&&c.push(d),s.push(l))}return s}var yd=Sm,Em=yd;function Om(e){return e&&e.length?Em(e):[]}var wm=Om;const gd=f.getDefaultExportFromCjs(wm),Pm="AUTO",Sd=["local_id","id","updated_at","is_shared","encrypted_with","local_updated_at"];class je{constructor(t={}){v(this,"local_id");v(this,"id");v(this,"updated_at");v(this,"is_shared");v(this,"encrypted_with");v(this,"local_updated_at");v(this,"changedFields");this.local_id=t.local_id,this.id=t.id,this.updated_at=t.updated_at,this.is_shared=t.is_shared??!1,this.encrypted_with=t.encrypted_with??null,this.local_updated_at=t.local_updated_at??null,this.changedFields=t.changedFields??[]}get entityLocalPath(){return`${this.entityName}/${this.local_id}`}get hasVaultChanges(){return!this.changedFields.includes("local_id")&&(this.changedFields.includes("is_shared")||this.changedFields.includes("encrypted_with"))}static is(t){return t!=null&&typeof t=="object"&&Sd.every(r=>t.hasOwnProperty(r))}changed(t){if(t==null)return this.changedFields;const r=Object.keys(t).filter($m);return gd([...r,...this.changedFields])}shouldRemoveOldEntity(t){return!t||t.local_id!==this.local_id}}function $m(e){return Sd.includes(e)}function li(e,t){return e!=null?t!=null&&e.isPotentialDuplicate(t):t==null}function Cm(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Ed=Cm;const Am=f.getDefaultExportFromCjs(Ed);class xu{constructor(t){v(this,"local_id");v(this,"id");v(this,"updated_at");this.local_id=t.local_id,this.id=t.id,this.updated_at=t.updated_at}}class Im extends xu{constructor(r){super(r);v(this,"accessKeyId");v(this,"secretAccessKey");v(this,"region");v(this,"ipAddressType");v(this,"serviceType");v(this,"cloudType","aws");this.accessKeyId=r.accessKeyId||"",this.secretAccessKey=r.secretAccessKey||"",this.region=r.region||"",this.ipAddressType=r.ipAddressType||"public",this.serviceType=r.serviceType||"ec2"}isEmpty(){return[this.accessKeyId,this.secretAccessKey,this.region].every(r=>r==null)}isFulfilled(){return[this.accessKeyId,this.secretAccessKey,this.region].every(r=>!!r)}}class Tm extends xu{constructor(r){super(r);v(this,"cloudType","azure");v(this,"tenant_id");v(this,"client_id");v(this,"client_secret");this.tenant_id=r.tenant_id||"",this.client_id=r.client_id||"",this.client_secret=r.client_secret||""}isEmpty(){return[this.tenant_id,this.client_id,this.client_secret].every(r=>r==null)}isFulfilled(){return[this.tenant_id,this.client_id,this.client_secret].every(r=>!!r)}}class jm extends xu{constructor(r){super(r);v(this,"cloudType","DigitalOcean");v(this,"token");this.token=r.token||""}isEmpty(){return!this.token}isFulfilled(){return!!this.token}}var km={exports:{}};(function(e,t){(function(r,n){typeof Uv=="function"?e.exports=n():r.pluralize=n()})(f.commonjsGlobal,function(){var r=[],n=[],i={},o={},a={};function s(m){return typeof m=="string"?new RegExp("^"+m+"$","i"):m}function c(m,S){return m===S?S:m===m.toLowerCase()?S.toLowerCase():m===m.toUpperCase()?S.toUpperCase():m[0]===m[0].toUpperCase()?S.charAt(0).toUpperCase()+S.substr(1).toLowerCase():S.toLowerCase()}function u(m,S){return m.replace(/\$(\d{1,2})/g,function(w,O){return S[O]||""})}function l(m,S){return m.replace(S[0],function(w,O){var P=u(S[1],arguments);return c(w===""?m[O-1]:w,P)})}function d(m,S,w){if(!m.length||i.hasOwnProperty(m))return S;for(var O=w.length;O--;){var P=w[O];if(P[0].test(S))return l(S,P)}return S}function p(m,S,w){return function(O){var P=O.toLowerCase();return S.hasOwnProperty(P)?c(O,P):m.hasOwnProperty(P)?c(O,m[P]):d(P,O,w)}}function _(m,S,w,O){return function(P){var $=P.toLowerCase();return S.hasOwnProperty($)?!0:m.hasOwnProperty($)?!1:d($,$,w)===$}}function g(m,S,w){var O=S===1?g.singular(m):g.plural(m);return(w?S+" ":"")+O}return g.plural=p(a,o,r),g.isPlural=_(a,o,r),g.singular=p(o,a,n),g.isSingular=_(o,a,n),g.addPluralRule=function(m,S){r.push([s(m),S])},g.addSingularRule=function(m,S){n.push([s(m),S])},g.addUncountableRule=function(m){if(typeof m=="string"){i[m.toLowerCase()]=!0;return}g.addPluralRule(m,"$0"),g.addSingularRule(m,"$0")},g.addIrregularRule=function(m,S){S=S.toLowerCase(),m=m.toLowerCase(),a[m]=S,o[S]=m},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach(function(m){return g.addIrregularRule(m[0],m[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(m){return g.addPluralRule(m[0],m[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(m){return g.addSingularRule(m[0],m[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eÃ©]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(g.addUncountableRule),g})})(km);const Rm=19;function Mm(e){return e.length===Rm?new Date(`${e}Z`):new Date(e)}const Nm="Secure Enclave",Od="Windows Hello";class Gu{constructor(t={}){v(this,"local_id");v(this,"id");v(this,"updated_at");v(this,"label");v(this,"public_key");v(this,"storage");v(this,"credentialId");v(this,"is_shared");v(this,"local_updated_at");v(this,"entityName","hardwareKey");this.local_id=t.local_id,this.id=t.id,this.updated_at=t.updated_at,this.label=t.label||"",this.public_key=t.public_key||"",this.storage=t.storage||"",this.credentialId=t.credentialId,this.is_shared=!1,this.local_updated_at=t.local_updated_at||null}get type(){return"Type ECDSA"}isSep(){return this.storage===Nm}isWindowsHello(){return this.storage===Od}clone(t={}){return new Gu({...this,...t})}get entityLocalPath(){return`${this.entityName}/${this.local_id}`}get keyVariant(){return"key"}}var Dm=f._baseKeys,Fm=f._getTag,Lm=f.isArguments_1,xm=f.isArray_1,Gm=f.isArrayLike_1,Um=f.isBufferExports,Wm=f._isPrototype,Km=f.isTypedArray_1,Bm="[object Map]",Vm="[object Set]",Hm=Object.prototype,zm=Hm.hasOwnProperty;function qm(e){if(e==null)return!0;if(Gm(e)&&(xm(e)||typeof e=="string"||typeof e.splice=="function"||Um(e)||Km(e)||Lm(e)))return!e.length;var t=Fm(e);if(t==Bm||t==Vm)return!e.size;if(Wm(e))return!Dm(e).length;for(var r in e)if(zm.call(e,r))return!1;return!0}var Ym=qm;const hu=f.getDefaultExportFromCjs(Ym);function Uu(e){if(!e)return!1;const t=te.getKeyTypeFromPrivateKey(e);return t==="sk-ec"||t==="sk-ed"}function Fc(e){if(!e)return"Type unknown";const t=te.getKeyTypeFromPrivateKey(e);return t!=="unknown"?`Type ${Qm(t)}`:"Type unknown"}const Xm=/sk-(e[cd])/;function Qm(e){return e.replace(Xm,"$1-sk").replace("ec","ECDSA").replace("ed","ED25519").toUpperCase()}class Wu extends je{constructor(r={}){super(r);v(this,"ssh_key_id");v(this,"certificate");v(this,"label");v(this,"entityName","sshCertificate");v(this,"nameInAnalytic","Certificate");this.ssh_key_id=r.ssh_key_id,this.updated_at=r.updated_at,this.label=r.label,this.certificate=r.certificate||""}prepareForDuplicate(){this.local_id=void 0,this.id=void 0,this.ssh_key_id=void 0}clone(r){return new Wu({...this,...r,changedFields:this.changed(r)})}}class Ku extends je{constructor(r={}){super(r);v(this,"label");v(this,"passphrase");v(this,"private_key");v(this,"public_key");v(this,"certificates");v(this,"entityName","sshKey");v(this,"nameInAnalytic","PrivateKey");this.label=r.label||"",this.passphrase=r.passphrase||"",this.private_key=r.private_key||"",this.public_key=r.public_key||"",this.certificates=(r.certificates??[]).map(n=>new Wu(n))}get displayLabel(){return this.label}get type(){return this.certificates.length>0?`${Fc(this.certificates[0].certificate)} SSH Certificate`:Fc(this.private_key)}clone(r){return new Ku({...this,...r,changedFields:this.changed(r)})}prepareForDuplicate(){this.local_id=void 0,this.id=void 0,this.certificates.forEach(r=>r.prepareForDuplicate())}trimPrivateAndPublic(){this.private_key=this.private_key.trim(),this.public_key=this.public_key.trim()}static is(r){return r.entityName==="sshKey"}get keyVariant(){return hu(this.certificates)?Uu(this.private_key)?"fido":"key":"certificate"}}class Ot extends je{constructor(r){super(r);v(this,"is_visible");v(this,"label");v(this,"password");v(this,"ssh_key");v(this,"hardware_key");v(this,"username");v(this,"entityName","identity");v(this,"nameInAnalytic","Identity");this.is_visible=r.is_visible,this.label=r.label||"",this.password=r.password||null,this.ssh_key=r.ssh_key?new Ku(r.ssh_key):null,this.hardware_key=r.hardware_key?new Gu(r.hardware_key):null,this.username=r.username||null}isPotentialDuplicate(r){return this.username===r.username}prepareForDuplicate(){return this.local_id=void 0,this.id=void 0,this}replaceKey(r){var n;return((n=this.ssh_key)==null?void 0:n.local_id)===r.original.local_id?(this.ssh_key=r.copy,!0):!1}isEmpty(){return this.is_visible===!1&&this.password==null&&this.ssh_key==null&&this.hardware_key==null&&this.username==null}get authMethod(){const r=this.ssh_key||this.hardware_key;return this.password&&r?"Auth password and key":this.password?"Auth password":r?"Auth key":"No auth method"}get displayLabel(){return this.label||this.username||""}get lastModifiedAt(){if(this.local_updated_at)return this.local_updated_at;if(this.updated_at)return Mm(this.updated_at)}clone(r={}){return new Ot({...this,...r,changedFields:this.changed(r)})}static is(r){return r.entityName==="identity"}shouldRemoveOldEntity(r){return!this.is_visible&&(!r||r.is_visible||r.local_id!==this.local_id)}}class Bu{}function wd(e){if(e.hasMergedSshConfig&&e.hasMergedTelnetConfig)return;if(e.hasMergedSshConfig)return e.getMergedSshConfig().use_mosh?"mosh":"ssh";if(e.hasMergedTelnetConfig)return"telnet";const{parentGroups:t}=e;if(t.length)return wd(t[0])}const Lc=e=>{const{current:t,parent:r,value:n}=e;return n||t&&t.is_visible?!1:t&&t.isEmpty()?!0:!(t&&!t.isEmpty()&&r&&r.is_visible)};class Pd extends Bu{constructor(r){super();v(this,"associatedEntity");v(this,"credentialsMode");v(this,"current");v(this,"parent");v(this,"isEmpty",Ot.prototype.isEmpty.bind(this));this.associatedEntity=r.associatedEntity,this.credentialsMode=r.credentialsMode,this.current=r.current,this.parent=r.parent}getMergedValue(r,n){var u,l,d;const{skipNotVisible:i}=n||{},o=((u=this.current)==null?void 0:u.is_visible)??!1,a=this.current&&r(this.current);if(Lc({current:this.current,parent:(l=this.parent)==null?void 0:l.current,value:a})){const p=(d=this.parent)==null?void 0:d.getMergedValue(r,n);return p&&p.source!=="global"?{value:p.value,source:"parent",associatedEntity:p.associatedEntity}:{value:null,source:"global",associatedEntity:null}}return a&&(!i||o)?{value:a,source:"me",associatedEntity:this.associatedEntity}:{value:null,source:"me",associatedEntity:null}}getAuthMethod(){var n,i;if(this.current){if(this.current.hardware_key)return{source:"me",value:{type:"hardwareKey",hardware_key:this.current.hardware_key},associatedEntity:this.associatedEntity};if(this.current.ssh_key)return{source:"me",value:{type:"sshKey",ssh_key:this.current.ssh_key},associatedEntity:this.associatedEntity}}if(Lc({current:this.current,parent:(n=this.parent)==null?void 0:n.current,value:void 0})){const o=(i=this.parent)==null?void 0:i.getAuthMethod();if(o&&o.value&&o.value.type!=="none")return{...o,source:"parent"}}return{source:"me",value:{type:"none"},associatedEntity:this.associatedEntity}}get id(){return this.getMergedValue(r=>r.id,{skipNotVisible:!0}).value}get local_id(){return this.getMergedValue(r=>r.local_id,{skipNotVisible:!0}).value}get updated_at(){return this.getMergedValue(r=>r.updated_at,{skipNotVisible:!0}).value}get is_visible(){return this.getMergedValue(r=>r.is_visible,{skipNotVisible:!0}).value??!1}get label(){return this.getMergedValue(r=>r.label).value??""}get username(){return this.getMergedValue(r=>r.username).value??""}get password(){return this.getMergedValue(r=>r.password).value??""}get ssh_key(){const r=this.getAuthMethod().value;return r&&"ssh_key"in r?r.ssh_key:null}get hardware_key(){const r=this.getAuthMethod().value;return r&&"hardware_key"in r?r.hardware_key:null}get merged_hardware_key(){return this.getMergedValue(r=>r.hardware_key).source==="parent"}get merged_ssh_key(){return this.getMergedValue(r=>r.ssh_key).source==="parent"}get merged_username(){return this.getMergedValue(r=>r.username).source==="parent"}get merged_password(){return this.getMergedValue(r=>r.password).source==="parent"}get usernameSource(){return this.getMergedValue(r=>r.username).source}asIdentity(){var o;const{value:r}=this.getAuthMethod(),{type:n,...i}=r||{};return new Ot({local_id:this.local_id,id:this.id,label:this.label,is_visible:this.is_visible,is_shared:((o=this.current)==null?void 0:o.is_shared)??!1,updated_at:this.updated_at,local_updated_at:this.getMergedValue(a=>a.local_updated_at).value,hardware_key:null,ssh_key:null,username:this.username,password:this.password,...i})}}class $d extends Bu{constructor(r){super();v(this,"associatedEntity");v(this,"credentialsMode");v(this,"current");v(this,"parent");this.associatedEntity=r.associatedEntity,this.credentialsMode=r.credentialsMode,this.current=r.current,this.parent=r.parent}get identity(){var r,n;return new Pd({associatedEntity:this.associatedEntity,credentialsMode:this.credentialsMode,current:(r=this.current)==null?void 0:r.identity,parent:(n=this.parent)==null?void 0:n.identity})}getMergedValue(r){var i;if(this.current){const o=r(this.current);if(o!=null&&o!=="")return{value:o,source:"me",associatedEntity:this.associatedEntity}}const n=(i=this.parent)==null?void 0:i.getMergedValue(r);return n?{value:n.value,source:n.source!=="global"?"parent":"global",associatedEntity:n.associatedEntity}:{value:null,source:"global",associatedEntity:null}}get agent_forwarding(){return this.getMergedValue(r=>r.agent_forwarding).value??!1}get agentForwardingSource(){return this.getMergedValue(r=>r.agent_forwarding).source}get charset(){return this.getMergedValue(r=>r.charset).value??"UTF-8"}get charsetSource(){return this.getMergedValue(r=>r.charset).source}get color_scheme(){return this.getMergedValue(r=>r.color_scheme).value??null}get colorSchemeSource(){return this.getMergedValue(r=>r.color_scheme).source}get cursor_blink(){return this.getMergedValue(r=>r.cursor_blink).value??null}get env_variables(){return this.getMergedValue(r=>r.env_variables).value??[]}get envVariablesSource(){return this.getMergedValue(r=>r.env_variables).source}get font_size(){return this.getMergedValue(r=>r.font_size).value??null}get is_forward_ports(){return this.getMergedValue(r=>r.is_forward_ports).value??null}get keep_alive_packages(){return this.getMergedValue(r=>r.keep_alive_packages).value??null}get mosh_server_command(){return this.getMergedValue(r=>r.mosh_server_command).value??""}get port(){return this.getMergedValue(r=>r.port).value??22}get portSource(){return this.getMergedValue(r=>r.port).source}get proxy(){return this.getMergedValue(r=>r.proxy).value??null}get proxy_source(){return this.getMergedValue(r=>r.proxy).source}get startup_snippet(){return this.getMergedValue(r=>r.startup_snippet).value??null}get startupSnippetSource(){return this.getMergedValue(r=>r.startup_snippet).source}get strict_host_key_check(){return this.getMergedValue(r=>r.strict_host_key_check).value??null}get timeout(){return this.getMergedValue(r=>r.timeout).value??null}get use_mosh(){return this.getMergedValue(r=>r.use_mosh).value??!1}get useMoshSource(){return this.getMergedValue(r=>r.use_mosh).source}get use_ssh_key(){return this.getMergedValue(r=>r.use_ssh_key).value??null}get host_chain(){return this.getMergedValue(r=>r.host_chain).value??null}get host_chain_source(){return this.getMergedValue(r=>r.host_chain).source}get is_shared(){return this.getMergedValue(r=>r.is_shared).value??!1}}class Cd extends Bu{constructor(r){super();v(this,"associatedEntity");v(this,"credentialsMode");v(this,"current");v(this,"parent");this.associatedEntity=r.associatedEntity,this.credentialsMode=r.credentialsMode,this.current=r.current,this.parent=r.parent}get identity(){var r,n;return new Pd({associatedEntity:this.associatedEntity,credentialsMode:this.credentialsMode,current:(r=this.current)==null?void 0:r.identity,parent:(n=this.parent)==null?void 0:n.identity})}getMergedValue(r){var i;if(this.current){const o=r(this.current);if(o!=null)return{value:o,source:"me",associatedEntity:this.associatedEntity}}const n=(i=this.parent)==null?void 0:i.getMergedValue(r);return n?{value:n.value,source:n.source!=="global"?"parent":"global",associatedEntity:n.associatedEntity}:{value:null,source:"global",associatedEntity:null}}get charset(){return this.getMergedValue(r=>r.charset).value??"UTF-8"}get charsetSource(){return this.getMergedValue(r=>r.charset).source}get color_scheme(){return this.getMergedValue(r=>r.color_scheme).value??null}get colorSchemeSource(){return this.getMergedValue(r=>r.color_scheme).source}get cursor_blink(){return this.getMergedValue(r=>r.cursor_blink).value??null}get font_size(){return this.getMergedValue(r=>r.font_size).value??null}get keep_alive_packages(){return this.getMergedValue(r=>r.keep_alive_packages).value??null}get port(){return this.getMergedValue(r=>r.port).value??23}get portSource(){return this.getMergedValue(r=>r.port).source}get startup_snippet(){return this.getMergedValue(r=>r.startup_snippet).value??null}get timeout(){return this.getMergedValue(r=>r.timeout).value??1500}get is_shared(){return this.getMergedValue(r=>r.is_shared).value??!1}}var Jm=f._baseIsEqual;function Zm(e,t){return Jm(e,t)}var e_=Zm;const Je=f.getDefaultExportFromCjs(e_);function Ce(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function wt(e){return!!e&&!!e[Z]}function Pt(e){var t;return!!e&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var i=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===c_}(e)||Array.isArray(e)||!!e[_u]||!!(!((t=e.constructor)===null||t===void 0)&&t[_u])||Vu(e)||Hu(e))}function $t(e,t,r){r===void 0&&(r=!1),hr(e)===0?(r?Object.keys:nr)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,i){return t(i,n,e)})}function hr(e){var t=e[Z];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Vu(e)?2:Hu(e)?3:0}function rr(e,t){return hr(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function t_(e,t){return hr(e)===2?e.get(t):e[t]}function Ad(e,t,r){var n=hr(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Id(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Vu(e){return s_&&e instanceof Map}function Hu(e){return u_&&e instanceof Set}function gt(e){return e.o||e.t}function zu(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=jd(e);delete t[Z];for(var r=nr(t),n=0;n<r.length;n++){var i=r[n],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function qu(e,t){return t===void 0&&(t=!1),Yu(e)||wt(e)||!Pt(e)||(hr(e)>1&&(e.set=e.add=e.clear=e.delete=r_),Object.freeze(e),t&&$t(e,function(r,n){return qu(n,!0)},!0)),e}function r_(){Ce(2)}function Yu(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Ge(e){var t=bu[e];return t||Ce(18,e),t}function n_(e,t){bu[e]||(bu[e]=t)}function pu(){return zr}function $s(e,t){t&&(Ge("Patches"),e.u=[],e.s=[],e.v=t)}function fi(e){vu(e),e.p.forEach(i_),e.p=null}function vu(e){e===zr&&(zr=e.l)}function xc(e){return zr={p:[],l:zr,h:e,m:!0,_:0}}function i_(e){var t=e[Z];t.i===0||t.i===1?t.j():t.g=!0}function Cs(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.O||Ge("ES5").S(t,e,n),n?(r[Z].P&&(fi(t),Ce(4)),Pt(e)&&(e=di(t,e),t.l||hi(t,e)),t.u&&Ge("Patches").M(r[Z].t,e,t.u,t.s)):e=di(t,r,[]),fi(t),t.u&&t.v(t.u,t.s),e!==Td?e:void 0}function di(e,t,r){if(Yu(t))return t;var n=t[Z];if(!n)return $t(t,function(s,c){return Gc(e,n,t,s,c,r)},!0),t;if(n.A!==e)return t;if(!n.P)return hi(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=zu(n.k):n.o,o=i,a=!1;n.i===3&&(o=new Set(i),i.clear(),a=!0),$t(o,function(s,c){return Gc(e,n,i,s,c,r,a)}),hi(e,i,!1),r&&e.u&&Ge("Patches").N(n,r,e.u,e.s)}return n.o}function Gc(e,t,r,n,i,o,a){if(wt(i)){var s=di(e,i,o&&t&&t.i!==3&&!rr(t.R,n)?o.concat(n):void 0);if(Ad(r,n,s),!wt(s))return;e.m=!1}else a&&r.add(i);if(Pt(i)&&!Yu(i)){if(!e.h.D&&e._<1)return;di(e,i),t&&t.A.l||hi(e,i)}}function hi(e,t,r){r===void 0&&(r=!1),!e.l&&e.h.D&&e.m&&qu(t,r)}function As(e,t){var r=e[Z];return(r?gt(r):e)[t]}function Uc(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function ot(e){e.P||(e.P=!0,e.l&&ot(e.l))}function Is(e){e.o||(e.o=zu(e.t))}function mu(e,t,r){var n=Vu(t)?Ge("MapSet").F(t,r):Hu(t)?Ge("MapSet").T(t,r):e.O?function(i,o){var a=Array.isArray(i),s={i:a?1:0,A:o?o.A:pu(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},c=s,u=qr;a&&(c=[s],u=xr);var l=Proxy.revocable(c,u),d=l.revoke,p=l.proxy;return s.k=p,s.j=d,p}(t,r):Ge("ES5").J(t,r);return(r?r.A:pu()).p.push(n),n}function o_(e){return wt(e)||Ce(22,e),function t(r){if(!Pt(r))return r;var n,i=r[Z],o=hr(r);if(i){if(!i.P&&(i.i<4||!Ge("ES5").K(i)))return i.t;i.I=!0,n=Wc(r,o),i.I=!1}else n=Wc(r,o);return $t(n,function(a,s){i&&t_(i.t,a)===s||Ad(n,a,t(s))}),o===3?new Set(n):n}(e)}function Wc(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return zu(e)}function a_(){function e(o,a){var s=i[o];return s?s.enumerable=a:i[o]=s={configurable:!0,enumerable:a,get:function(){var c=this[Z];return qr.get(c,o)},set:function(c){var u=this[Z];qr.set(u,o,c)}},s}function t(o){for(var a=o.length-1;a>=0;a--){var s=o[a][Z];if(!s.P)switch(s.i){case 5:n(s)&&ot(s);break;case 4:r(s)&&ot(s)}}}function r(o){for(var a=o.t,s=o.k,c=nr(s),u=c.length-1;u>=0;u--){var l=c[u];if(l!==Z){var d=a[l];if(d===void 0&&!rr(a,l))return!0;var p=s[l],_=p&&p[Z];if(_?_.t!==d:!Id(p,d))return!0}}var g=!!a[Z];return c.length!==nr(a).length+(g?0:1)}function n(o){var a=o.k;if(a.length!==o.t.length)return!0;var s=Object.getOwnPropertyDescriptor(a,a.length-1);if(s&&!s.get)return!0;for(var c=0;c<a.length;c++)if(!a.hasOwnProperty(c))return!0;return!1}var i={};n_("ES5",{J:function(o,a){var s=Array.isArray(o),c=function(l,d){if(l){for(var p=Array(d.length),_=0;_<d.length;_++)Object.defineProperty(p,""+_,e(_,!0));return p}var g=jd(d);delete g[Z];for(var m=nr(g),S=0;S<m.length;S++){var w=m[S];g[w]=e(w,l||!!g[w].enumerable)}return Object.create(Object.getPrototypeOf(d),g)}(s,o),u={i:s?5:4,A:a?a.A:pu(),P:!1,I:!1,R:{},l:a,t:o,k:c,o:null,g:!1,C:!1};return Object.defineProperty(c,Z,{value:u,writable:!0}),c},S:function(o,a,s){s?wt(a)&&a[Z].A===o&&t(o.p):(o.u&&function c(u){if(u&&typeof u=="object"){var l=u[Z];if(l){var d=l.t,p=l.k,_=l.R,g=l.i;if(g===4)$t(p,function(P){P!==Z&&(d[P]!==void 0||rr(d,P)?_[P]||c(p[P]):(_[P]=!0,ot(l)))}),$t(d,function(P){p[P]!==void 0||rr(p,P)||(_[P]=!1,ot(l))});else if(g===5){if(n(l)&&(ot(l),_.length=!0),p.length<d.length)for(var m=p.length;m<d.length;m++)_[m]=!1;else for(var S=d.length;S<p.length;S++)_[S]=!0;for(var w=Math.min(p.length,d.length),O=0;O<w;O++)p.hasOwnProperty(O)||(_[O]=!0),_[O]===void 0&&c(p[O])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?r(o):n(o)}})}var Kc,zr,Xu=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",s_=typeof Map<"u",u_=typeof Set<"u",Bc=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Td=Xu?Symbol.for("immer-nothing"):((Kc={})["immer-nothing"]=!0,Kc),_u=Xu?Symbol.for("immer-draftable"):"__$immer_draftable",Z=Xu?Symbol.for("immer-state"):"__$immer_state",c_=""+Object.prototype.constructor,nr=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,jd=Object.getOwnPropertyDescriptors||function(e){var t={};return nr(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},bu={},qr={get:function(e,t){if(t===Z)return e;var r=gt(e);if(!rr(r,t))return function(i,o,a){var s,c=Uc(o,a);return c?"value"in c?c.value:(s=c.get)===null||s===void 0?void 0:s.call(i.k):void 0}(e,r,t);var n=r[t];return e.I||!Pt(n)?n:n===As(e.t,t)?(Is(e),e.o[t]=mu(e.A.h,n,e)):n},has:function(e,t){return t in gt(e)},ownKeys:function(e){return Reflect.ownKeys(gt(e))},set:function(e,t,r){var n=Uc(gt(e),t);if(n!=null&&n.set)return n.set.call(e.k,r),!0;if(!e.P){var i=As(gt(e),t),o=i==null?void 0:i[Z];if(o&&o.t===r)return e.o[t]=r,e.R[t]=!1,!0;if(Id(r,i)&&(r!==void 0||rr(e.t,t)))return!0;Is(e),ot(e)}return e.o[t]===r&&(r!==void 0||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return As(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,Is(e),ot(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=gt(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){Ce(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ce(12)}},xr={};$t(qr,function(e,t){xr[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),xr.deleteProperty=function(e,t){return xr.set.call(this,e,t,void 0)},xr.set=function(e,t,r){return qr.set.call(this,e[0],t,r,e[0])};var l_=function(){function e(r){var n=this;this.O=Bc,this.D=!0,this.produce=function(i,o,a){if(typeof i=="function"&&typeof o!="function"){var s=o;o=i;var c=n;return function(m){var S=this;m===void 0&&(m=s);for(var w=arguments.length,O=Array(w>1?w-1:0),P=1;P<w;P++)O[P-1]=arguments[P];return c.produce(m,function($){var C;return(C=o).call.apply(C,[S,$].concat(O))})}}var u;if(typeof o!="function"&&Ce(6),a!==void 0&&typeof a!="function"&&Ce(7),Pt(i)){var l=xc(n),d=mu(n,i,void 0),p=!0;try{u=o(d),p=!1}finally{p?fi(l):vu(l)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(m){return $s(l,a),Cs(m,l)},function(m){throw fi(l),m}):($s(l,a),Cs(u,l))}if(!i||typeof i!="object"){if((u=o(i))===void 0&&(u=i),u===Td&&(u=void 0),n.D&&qu(u,!0),a){var _=[],g=[];Ge("Patches").M(i,u,_,g),a(_,g)}return u}Ce(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(u){for(var l=arguments.length,d=Array(l>1?l-1:0),p=1;p<l;p++)d[p-1]=arguments[p];return n.produceWithPatches(u,function(_){return i.apply(void 0,[_].concat(d))})};var a,s,c=n.produce(i,o,function(u,l){a=u,s=l});return typeof Promise<"u"&&c instanceof Promise?c.then(function(u){return[u,a,s]}):[c,a,s]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){Pt(r)||Ce(8),wt(r)&&(r=o_(r));var n=xc(this),i=mu(this,r,void 0);return i[Z].C=!0,vu(n),i},t.finishDraft=function(r,n){var i=r&&r[Z],o=i.A;return $s(o,n),Cs(void 0,o)},t.setAutoFreeze=function(r){this.D=r},t.setUseProxies=function(r){r&&!Bc&&Ce(20),this.O=r},t.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var o=n[i];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}i>-1&&(n=n.slice(i+1));var a=Ge("Patches").$;return wt(r)?a(r,n):this.produce(r,function(s){return a(s,n)})},e}(),Ee=new l_,f_=Ee.produce;Ee.produceWithPatches.bind(Ee);Ee.setAutoFreeze.bind(Ee);Ee.setUseProxies.bind(Ee);Ee.applyPatches.bind(Ee);Ee.createDraft.bind(Ee);Ee.finishDraft.bind(Ee);const ii=f_;class kd{constructor(t){v(this,"local_id");v(this,"id");v(this,"address");v(this,"label");v(this,"os_name");v(this,"is_shared");v(this,"encrypted_with");this.local_id=t.local_id,this.id=t.id,this.address=t.address||"",this.label=t.label||"",this.os_name=t.os_name||"",this.is_shared=!!t.is_shared,this.encrypted_with=t.encrypted_with??null}get displayLabel(){return this.label||this.address}}class Qu extends je{constructor(r){super(r);v(this,"hosts_chain");v(this,"entityName","hostChain");v(this,"nameInAnalytic","HostChain");this.hosts_chain=r.hosts_chain?r.hosts_chain.map(n=>new kd(n)):[]}prepareForDuplicate(){this.local_id=void 0,this.id=void 0}get displayLabel(){return this.hosts_chain.map(r=>r.displayLabel).join(" -> ")}clone(r={}){return new Qu({...this,...r,changedFields:this.changed(r)})}}const d_="http",h_="socks";function p_(e){switch(e){case d_:return 3128;case h_:return 1080;default:return 0}}let v_=class Rd extends je{constructor(r={}){super(r);v(this,"hostname");v(this,"identity");v(this,"port");v(this,"type");v(this,"entityName","proxy");v(this,"nameInAnalytic","Proxy");this.hostname=r.hostname||"",this.identity=r.identity?new Ot(r.identity):null,this.type=r.type||"http",this.port=r.port!=null?r.port:p_(this.type)}prepareForDuplicate(){this.local_id=void 0,this.id=void 0,this.identity&&!this.identity.is_visible&&this.identity.prepareForDuplicate()}replaceIdentity(r){var n;return((n=this.identity)==null?void 0:n.local_id)===r.original.local_id?(this.identity=r.copy,!0):!1}get displayLabel(){return`${this.hostname}:${this.port}`}clone(r={}){return new Rd({...this,...r,changedFields:this.changed(r)})}static areSame(r,n){var i,o,a,s,c,u,l,d;return Je(r==null?void 0:r.hostname,n==null?void 0:n.hostname)&&Je((i=r==null?void 0:r.identity)==null?void 0:i.username,(o=n==null?void 0:n.identity)==null?void 0:o.username)&&(Je((a=r==null?void 0:r.identity)==null?void 0:a.password,(s=n==null?void 0:n.identity)==null?void 0:s.password)||Je((c=r==null?void 0:r.identity)==null?void 0:c.hardware_key,(u=n==null?void 0:n.identity)==null?void 0:u.hardware_key)||Je((l=r==null?void 0:r.identity)==null?void 0:l.ssh_key,(d=n==null?void 0:n.identity)==null?void 0:d.ssh_key))&&Je(r==null?void 0:r.port,n==null?void 0:n.port)&&Je(r==null?void 0:r.type,n==null?void 0:n.type)}};function m_(e,t=`
`){return e.split(t).find(r=>r.trim().length>0)}class Ju extends je{constructor(r){super(r);v(this,"label");v(this,"snippets_count");v(this,"analytics_id");v(this,"entityName","snippetsPackage");v(this,"nameInAnalytic","SnippetPackage");this.label=r.label||"",this.snippets_count=r.snippets_count,this.analytics_id=r.analytics_id}get displayLabel(){return this.label}clone(r={}){return new Ju({...this,...r,changedFields:this.changed(r)})}static is(r){return r.entityName==="snippetsPackage"}}class Ci extends je{constructor(r={}){super(r);v(this,"label");v(this,"script");v(this,"package");v(this,"entityName","snippet");v(this,"nameInAnalytic","Snippet");v(this,"targetHosts");v(this,"aianalyticsID");v(this,"isTargetHostModified",!1);this.label=r.label||"",this.script=r.script||"",this.package=r.package?new Ju(r.package):null,this.aianalyticsID=r.aianalyticsID,this.targetHosts=r.targetHosts||null}get displayLabel(){return this.label?this.label:m_(this.script)??""}clone(r={}){return new Ci({...this,...r,changedFields:this.changed(r)})}prepareForDuplicate(){this.local_id=void 0,this.id=void 0}resetPackage(){this.package=null}replacePackage(r){var n;return((n=this.package)==null?void 0:n.local_id)===r.original.local_id?(this.package=r.copy,!0):!1}replaceHostInTargets(r){this.targetHosts=ii(this.targetHosts??[],n=>{const i=n.findIndex(o=>o.local_id===r.original.local_id);i<0||(r.original.local_id!==r.copy.local_id&&(this.isTargetHostModified=!0),n[i]=new kd(r.copy))})}resetTargetHostModified(){this.isTargetHostModified=!1}static is(r){return r.entityName==="snippet"}}class ir extends je{constructor(r={}){super(r);v(this,"agent_forwarding");v(this,"charset");v(this,"color_scheme");v(this,"cursor_blink");v(this,"env_variables");v(this,"font_size");v(this,"identity");v(this,"is_forward_ports");v(this,"keep_alive_packages");v(this,"mosh_server_command");v(this,"port");v(this,"proxy");v(this,"startup_snippet");v(this,"strict_host_key_check");v(this,"timeout");v(this,"use_mosh");v(this,"use_ssh_key");v(this,"host_chain");v(this,"entityName","sshConfig");v(this,"nameInAnalytic","SSHConfig");this.agent_forwarding=r.agent_forwarding,this.charset=r.charset,this.color_scheme=r.color_scheme,this.cursor_blink=r.cursor_blink,this.env_variables=r.env_variables?r.env_variables.slice():null,this.font_size=r.font_size,this.identity=r.identity?new Ot(r.identity):null,this.is_forward_ports=r.is_forward_ports,this.keep_alive_packages=r.keep_alive_packages,this.mosh_server_command=r.mosh_server_command,this.port=r.port,this.proxy=r.proxy?new v_(r.proxy):null,this.startup_snippet=r.startup_snippet?new Ci(r.startup_snippet):null,this.strict_host_key_check=r.strict_host_key_check,this.timeout=r.timeout,this.use_mosh=r.use_mosh,this.use_ssh_key=r.use_ssh_key,this.host_chain=r.host_chain!=null?new Qu(r.host_chain):null}static parseEnvVariables(r){if(!r)return null;try{const n=JSON.parse(r);return Object.entries(n).map(([i,o])=>({name:i,value:typeof o=="string"?o:""}))}catch{return null}}static stringifyEnvVariables(r){const n={};return r&&r.forEach(i=>{n[i.name]=i.value}),JSON.stringify(n)}isPotentialDuplicate(r){return this.port===r.port&&li(this.identity,r.identity)}prepareForDuplicate(){this.local_id=void 0,this.id=void 0,this.identity&&!this.identity.is_visible&&this.identity.prepareForDuplicate(),this.proxy&&this.proxy.prepareForDuplicate(),this.host_chain&&this.host_chain.prepareForDuplicate()}replaceIdentity(r){var n;return((n=this.identity)==null?void 0:n.local_id)===r.original.local_id?(this.identity=r.copy,!0):!1}replaceStartupSnippet(r){var n;return((n=this.startup_snippet)==null?void 0:n.local_id)===r.original.local_id?(this.startup_snippet=r.copy,!0):!1}isEmpty(){return[this.agent_forwarding,this.charset,this.color_scheme,this.cursor_blink,this.env_variables,this.font_size,this.identity,this.is_forward_ports,this.keep_alive_packages,this.mosh_server_command,this.port,this.proxy,this.startup_snippet,this.strict_host_key_check,this.timeout,this.use_mosh,this.use_ssh_key,this.host_chain].every(r=>r==null)}stripEmptyIdentity(){this.identity&&this.identity.isEmpty()&&(this.identity=null)}stripForNonProUsers(){var r,n;this.agent_forwarding=null,this.env_variables=null,this.startup_snippet=null,this.proxy=null,this.host_chain=null,(n=(r=this.identity)==null?void 0:r.ssh_key)!=null&&n.certificates&&(this.identity.ssh_key.certificates=[])}clone(r={}){return new ir({...this,...r,changedFields:this.changed(r)})}static areSame(r,n){return r==null&&n==null?!0:r==null||n==null?!1:Je(new ir({...r,identity:null}),new ir({...n,identity:null}))}resetField(r){b_(r)&&(this[r]=null)}}const __=f.lib.z.union([f.lib.z.literal("port"),f.lib.z.literal("identity"),f.lib.z.literal("startup_snippet"),f.lib.z.literal("proxy"),f.lib.z.literal("host_chain")]),b_=f.zodGuard(__);class or extends je{constructor(r={}){super(r);v(this,"charset");v(this,"color_scheme");v(this,"cursor_blink");v(this,"font_size");v(this,"identity");v(this,"keep_alive_packages");v(this,"port");v(this,"startup_snippet");v(this,"timeout");v(this,"entityName","telnetConfig");v(this,"nameInAnalytic","TelnetConfig");this.charset=r.charset,this.color_scheme=r.color_scheme,this.cursor_blink=r.cursor_blink,this.font_size=r.font_size,this.identity=r.identity?new Ot(r.identity):null,this.keep_alive_packages=r.keep_alive_packages,this.port=r.port,this.startup_snippet=r.startup_snippet?new Ci(r.startup_snippet):null,this.timeout=r.timeout}isPotentialDuplicate(r){return this.port===r.port&&li(this.identity,r.identity)}prepareForDuplicate(){this.local_id=void 0,this.id=void 0,this.identity&&!this.identity.is_visible&&this.identity.prepareForDuplicate()}replaceIdentity(r){var n;return((n=this.identity)==null?void 0:n.local_id)===r.original.local_id?(this.identity=r.copy,!0):!1}replaceStartupSnippet(r){var n;return((n=this.startup_snippet)==null?void 0:n.local_id)===r.original.local_id?(this.startup_snippet=r.copy,!0):!1}isEmpty(){return this.charset==null&&this.color_scheme==null&&this.cursor_blink==null&&this.font_size==null&&this.identity==null&&this.keep_alive_packages==null&&this.port==null&&this.startup_snippet==null&&this.timeout==null}stripEmptyIdentity(){this.identity&&this.identity.isEmpty()&&(this.identity=null)}stripForNonProUsers(){var r,n;this.startup_snippet=null,(n=(r=this.identity)==null?void 0:r.ssh_key)!=null&&n.certificates&&(this.identity.ssh_key.certificates=[])}clone(r={}){return new or({...this,...r,changedFields:this.changed(r)})}static areSame(r,n){return r==null&&n==null?!0:r==null||n==null?!1:Je(new or({...r,identity:null}),new or({...n,identity:null}))}resetField(r){g_(r)&&(this[r]=null)}}const y_=f.lib.z.union([f.lib.z.literal("port"),f.lib.z.literal("identity")]),g_=f.zodGuard(y_);class Ur extends je{constructor(r={}){super(r);v(this,"label");v(this,"parent_group");v(this,"ssh_config");v(this,"cloud_config");v(this,"telnet_config");v(this,"sharing_mode");v(this,"credentials_mode");v(this,"entityName","group");v(this,"nameInAnalytic","Group");this.label=r.label||"",this.parent_group=r.parent_group?new Ur(r.parent_group):null,this.ssh_config=r.ssh_config?new ir(r.ssh_config):null,this.cloud_config=r.cloud_config?S_(r.cloud_config):null,this.telnet_config=r.telnet_config?new or(r.telnet_config):null,this.sharing_mode=r.sharing_mode??null,this.credentials_mode=r.credentials_mode??null}get displayLabel(){return this.label}get parentGroups(){const{parent_group:r}=this;return r?[r,...r.parentGroups]:[]}get rootGroup(){return Am(this.parentGroups)??this}get hasMergedSshConfig(){return this.ssh_config?!0:this.parent_group?this.parent_group.hasMergedSshConfig:!1}get hasMergedTelnetConfig(){return this.telnet_config?!0:this.parent_group?this.parent_group.hasMergedTelnetConfig:!1}getMergedSshConfig(r=[]){return new $d({associatedEntity:this,credentialsMode:this.credentials_mode,current:this.ssh_config,parent:this.parent_group&&!r.includes(this.parent_group)?this.parent_group.getMergedSshConfig([this,...r]):void 0})}getMergedTelnetConfig(){var r;return new Cd({associatedEntity:this,credentialsMode:this.credentials_mode,current:this.telnet_config,parent:(r=this.parent_group)==null?void 0:r.getMergedTelnetConfig()})}getSshConfigWithCredentialsMode(){if(this.ssh_config)return{sshConfig:this.ssh_config,credentialsMode:this.credentials_mode}}getSshConfigsRecursively(){return[this.getSshConfigWithCredentialsMode(),...this.parentGroups.map(r=>r.getSshConfigWithCredentialsMode())].filter(Dc)}getTelnetConfigsRecursively(){return[this.telnet_config,...this.parentGroups.map(({telnet_config:r})=>r)].filter(Dc)}stripEmptyIdentities(){this.ssh_config&&this.ssh_config.stripEmptyIdentity(),this.telnet_config&&this.telnet_config.stripEmptyIdentity()}stripConfigsForNonProUsers(){this.parent_group&&this.parent_group.stripConfigsForNonProUsers(),this.ssh_config&&this.ssh_config.stripForNonProUsers(),this.telnet_config&&this.telnet_config.stripForNonProUsers(),this.cloud_config&&(this.cloud_config=null)}clone(r={}){return new Ur({...this,...r,changedFields:this.changed(r)})}unlinkParentGroup(){this.parent_group=null}replaceParentGroup(r){var n;return((n=this.parent_group)==null?void 0:n.local_id)===r.original.local_id?(this.parent_group=r.copy,!0):!1}static clone(r,n={}){return new Ur({...r}).clone(n)}static is(r){return r.entityName==="group"}}function S_(e){if(e.cloudType==="aws")return new Im(e);if(e.cloudType==="DigitalOcean")return new jm(e);if(e.cloudType==="azure")return new Tm(e);throw new Error("Incorrect cloud config")}class at extends je{constructor(r={}){super(r);v(this,"address");v(this,"backspace");v(this,"group");v(this,"icon");v(this,"interaction_date");v(this,"label");v(this,"os_name");v(this,"ssh_config");v(this,"telnet_config");v(this,"tags");v(this,"ip_version");v(this,"cloud_instance_id");v(this,"cloud_instance_type");v(this,"connectionPath");v(this,"credentials_mode");v(this,"entityName","host");v(this,"nameInAnalytic","Host");this.cloud_instance_id=r.cloud_instance_id,this.cloud_instance_type=r.cloud_instance_type,this.address=r.address||"",this.backspace=r.backspace||"default",this.group=r.group?new Ur(r.group):null,this.icon=r.icon||"",this.interaction_date=r.interaction_date,this.label=r.label||"",this.os_name=r.os_name||"",this.ssh_config=r.ssh_config?new ir(r.ssh_config):null,this.telnet_config=r.telnet_config?new or(r.telnet_config):null,this.tags=Array.isArray(r.tags)?[...r.tags]:[],this.ip_version=r.ip_version||Pm,this.connectionPath=Array.isArray(r.connectionPath)?r.connectionPath.map(n=>new at(n)):[],this.credentials_mode=r.credentials_mode??null}static fromLocalhost(r){return new at({address:r.address,ssh_config:{port:r.port,identity:{is_visible:!1,username:r.username,password:r.password}}})}isPotentialDuplicate(r){return this.address===r.address&&this.label===r.label&&li(this.ssh_config,r.ssh_config)&&li(this.telnet_config,r.telnet_config)}prepareForDuplicate(){this.local_id=void 0,this.id=void 0,this.cloud_instance_id=void 0,this.cloud_instance_type=void 0,this.os_name="",this.ssh_config&&this.ssh_config.prepareForDuplicate(),this.telnet_config&&this.telnet_config.prepareForDuplicate()}get displayLabel(){return this.label||this.address}get actions(){const r=[];return this.ssh_config&&(this.getMergedSshConfig().use_mosh&&r.push("mosh"),r.push("ssh")),this.telnet_config&&r.push("telnet"),r}get firstChain(){return this.connectionPath.length>1?this.connectionPath[0]:null}get description(){const{ssh_config:r,telnet_config:n}=this,i=[...this.actions];r&&r.identity&&r.identity.username&&i.push(r.identity.username),n&&n.identity&&n.identity.username&&i.push(n.identity.username);const o=gd(this.tags);return i.concat(o).join(", ")}get parentGroups(){const{group:r}=this;return r?[r,...r.parentGroups]:[]}getMergedSshConfig(){var r;return new $d({associatedEntity:this,credentialsMode:this.credentials_mode,current:this.ssh_config,parent:(r=this.group)==null?void 0:r.getMergedSshConfig()})}get hasMergedSshConfig(){return this.ssh_config?!0:this.group?this.group.hasMergedSshConfig:!1}get hasMergedTelnetConfig(){return this.telnet_config?!0:this.group?this.group.hasMergedTelnetConfig:!1}getHostChainCount(){return this.connectionPath.length>1?this.connectionPath.length-1:0}getMergedTelnetConfig(){var r;return new Cd({associatedEntity:this,credentialsMode:this.credentials_mode,current:this.telnet_config,parent:(r=this.group)==null?void 0:r.getMergedTelnetConfig()})}getMergedConfigFor(r){if(r==="ssh"||r==="mosh")return this.getMergedSshConfig();if(r==="telnet")return this.getMergedTelnetConfig()}stripEmptyIdentities(){this.ssh_config&&this.ssh_config.stripEmptyIdentity(),this.telnet_config&&this.telnet_config.stripEmptyIdentity()}stripConfigsForNonProUsers(){this.group&&this.group.stripConfigsForNonProUsers(),this.ssh_config&&this.ssh_config.stripForNonProUsers(),this.telnet_config&&this.telnet_config.stripForNonProUsers()}replaceGroup(r){var n;return((n=this.group)==null?void 0:n.local_id)===r.original.local_id?(this.group=r.copy,!0):!1}unlinkParentGroup(){this.group=null}clone(r={}){return new at({...this,...r,changedFields:this.changed(r)})}get rootGroup(){var r;return(r=this.group)==null?void 0:r.rootGroup}static clone(r,n={}){return new at({...r}).clone(n)}static is(r){return r.entityName==="host"}}var E_=f.identity_1;function O_(e){return typeof e=="function"?e:E_}var w_=O_;function P_(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Zu=P_,$_=Zu,Vc=Math.max;function C_(e,t,r){return t=Vc(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=Vc(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(a),$_(e,this,s)}}var A_=C_;function I_(e){return function(){return e}}var T_=I_,j_=T_,Hc=f._defineProperty,k_=f.identity_1,R_=Hc?function(e,t){return Hc(e,"toString",{configurable:!0,enumerable:!1,value:j_(t),writable:!0})}:k_,M_=R_,N_=800,D_=16,F_=Date.now;function L_(e){var t=0,r=0;return function(){var n=F_(),i=D_-(n-r);if(r=n,i>0){if(++t>=N_)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Md=L_,x_=M_,G_=Md,U_=G_(x_),Nd=U_,W_=f.identity_1,K_=A_,B_=Nd;function V_(e,t){return B_(K_(e,t,W_),e+"")}var ec=V_,zc=f._WeakMap,H_=zc&&new zc,Dd=H_,z_=f.identity_1,qc=Dd,q_=qc?function(e,t){return qc.set(e,t),e}:z_,Fd=q_,Y_=f.isObject_1,Yc=Object.create,X_=function(){function e(){}return function(t){if(!Y_(t))return{};if(Yc)return Yc(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),tc=X_,Q_=tc,J_=f.isObject_1;function Z_(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Q_(e.prototype),n=e.apply(r,t);return J_(n)?n:r}}var Ai=Z_,eb=Ai,tb=f._root,rb=1;function nb(e,t,r){var n=t&rb,i=eb(e);function o(){var a=this&&this!==tb&&this instanceof o?i:e;return a.apply(n?r:this,arguments)}return o}var ib=nb,ob=Math.max;function ab(e,t,r,n){for(var i=-1,o=e.length,a=r.length,s=-1,c=t.length,u=ob(o-a,0),l=Array(c+u),d=!n;++s<c;)l[s]=t[s];for(;++i<a;)(d||i<o)&&(l[r[i]]=e[i]);for(;u--;)l[s++]=e[i++];return l}var Ld=ab,sb=Math.max;function ub(e,t,r,n){for(var i=-1,o=e.length,a=-1,s=r.length,c=-1,u=t.length,l=sb(o-s,0),d=Array(l+u),p=!n;++i<l;)d[i]=e[i];for(var _=i;++c<u;)d[_+c]=t[c];for(;++a<s;)(p||i<o)&&(d[_+r[a]]=e[i++]);return d}var xd=ub;function cb(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}var lb=cb;function fb(){}var rc=fb,db=tc,hb=rc,pb=4294967295;function pi(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=pb,this.__views__=[]}pi.prototype=db(hb.prototype);pi.prototype.constructor=pi;var nc=pi,Xc=Dd,vb=Lu,mb=Xc?function(e){return Xc.get(e)}:vb,Gd=mb,_b={},bb=_b,Qc=bb,yb=Object.prototype,gb=yb.hasOwnProperty;function Sb(e){for(var t=e.name+"",r=Qc[t],n=gb.call(Qc,t)?r.length:0;n--;){var i=r[n],o=i.func;if(o==null||o==e)return i.name}return t}var Eb=Sb,Ob=tc,wb=rc;function vi(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}vi.prototype=Ob(wb.prototype);vi.prototype.constructor=vi;var Ud=vi;function Pb(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var Wd=Pb,$b=nc,Cb=Ud,Ab=Wd;function Ib(e){if(e instanceof $b)return e.clone();var t=new Cb(e.__wrapped__,e.__chain__);return t.__actions__=Ab(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Tb=Ib,jb=nc,Jc=Ud,kb=rc,Rb=f.isArray_1,Mb=f.isObjectLike_1,Nb=Tb,Db=Object.prototype,Fb=Db.hasOwnProperty;function mi(e){if(Mb(e)&&!Rb(e)&&!(e instanceof jb)){if(e instanceof Jc)return e;if(Fb.call(e,"__wrapped__"))return Nb(e)}return new Jc(e)}mi.prototype=kb.prototype;mi.prototype.constructor=mi;var Lb=mi,xb=nc,Gb=Gd,Ub=Eb,Wb=Lb;function Kb(e){var t=Ub(e),r=Wb[t];if(typeof r!="function"||!(t in xb.prototype))return!1;if(e===r)return!0;var n=Gb(r);return!!n&&e===n[0]}var Bb=Kb,Vb=Fd,Hb=Md,zb=Hb(Vb),Kd=zb,qb=/\{\n\/\* \[wrapped with (.+)\] \*/,Yb=/,? & /;function Xb(e){var t=e.match(qb);return t?t[1].split(Yb):[]}var Qb=Xb,Jb=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function Zb(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(Jb,`{
/* [wrapped with `+t+`] */
`)}var ey=Zb;function ty(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var ry=ty,ny=ry,iy=_d,oy=1,ay=2,sy=8,uy=16,cy=32,ly=64,fy=128,dy=256,hy=512,py=[["ary",fy],["bind",oy],["bindKey",ay],["curry",sy],["curryRight",uy],["flip",hy],["partial",cy],["partialRight",ly],["rearg",dy]];function vy(e,t){return ny(py,function(r){var n="_."+r[0];t&r[1]&&!iy(e,n)&&e.push(n)}),e.sort()}var my=vy,_y=Qb,by=ey,yy=Nd,gy=my;function Sy(e,t,r){var n=t+"";return yy(e,by(n,gy(_y(n),r)))}var Bd=Sy,Ey=Bb,Oy=Kd,wy=Bd,Py=1,$y=2,Cy=4,Ay=8,Zc=32,el=64;function Iy(e,t,r,n,i,o,a,s,c,u){var l=t&Ay,d=l?a:void 0,p=l?void 0:a,_=l?o:void 0,g=l?void 0:o;t|=l?Zc:el,t&=~(l?el:Zc),t&Cy||(t&=~(Py|$y));var m=[e,t,i,_,d,g,p,s,c,u],S=r.apply(void 0,m);return Ey(e)&&Oy(S,m),S.placeholder=n,wy(S,e,t)}var Vd=Iy;function Ty(e){var t=e;return t.placeholder}var ic=Ty,jy=Wd,ky=f._isIndex,Ry=Math.min;function My(e,t){for(var r=e.length,n=Ry(t.length,r),i=jy(e);n--;){var o=t[n];e[n]=ky(o,r)?i[o]:void 0}return e}var Ny=My,tl="__lodash_placeholder__";function Dy(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var a=e[r];(a===t||a===tl)&&(e[r]=tl,o[i++]=r)}return o}var Ii=Dy,Fy=Ld,Ly=xd,xy=lb,rl=Ai,Gy=Vd,Uy=ic,Wy=Ny,Ky=Ii,By=f._root,Vy=1,Hy=2,zy=8,qy=16,Yy=128,Xy=512;function Hd(e,t,r,n,i,o,a,s,c,u){var l=t&Yy,d=t&Vy,p=t&Hy,_=t&(zy|qy),g=t&Xy,m=p?void 0:rl(e);function S(){for(var w=arguments.length,O=Array(w),P=w;P--;)O[P]=arguments[P];if(_)var $=Uy(S),C=xy(O,$);if(n&&(O=Fy(O,n,i,_)),o&&(O=Ly(O,o,a,_)),w-=C,_&&w<u){var M=Ky(O,$);return Gy(e,t,Hd,S.placeholder,r,O,M,s,c,u-w)}var F=d?r:this,x=p?F[e]:e;return w=O.length,s?O=Wy(O,s):g&&w>1&&O.reverse(),l&&c<w&&(O.length=c),this&&this!==By&&this instanceof S&&(x=m||rl(x)),x.apply(F,O)}return S}var zd=Hd,Qy=Zu,Jy=Ai,Zy=zd,eg=Vd,tg=ic,rg=Ii,ng=f._root;function ig(e,t,r){var n=Jy(e);function i(){for(var o=arguments.length,a=Array(o),s=o,c=tg(i);s--;)a[s]=arguments[s];var u=o<3&&a[0]!==c&&a[o-1]!==c?[]:rg(a,c);if(o-=u.length,o<r)return eg(e,t,Zy,i.placeholder,void 0,a,u,void 0,void 0,r-o);var l=this&&this!==ng&&this instanceof i?n:e;return Qy(l,this,a)}return i}var og=ig,ag=Zu,sg=Ai,ug=f._root,cg=1;function lg(e,t,r,n){var i=t&cg,o=sg(e);function a(){for(var s=-1,c=arguments.length,u=-1,l=n.length,d=Array(l+c),p=this&&this!==ug&&this instanceof a?o:e;++u<l;)d[u]=n[u];for(;c--;)d[u++]=arguments[++s];return ag(p,i?r:this,d)}return a}var fg=lg,dg=Ld,hg=xd,nl=Ii,il="__lodash_placeholder__",Ts=1,pg=2,vg=4,ol=8,Nr=128,al=256,mg=Math.min;function _g(e,t){var r=e[1],n=t[1],i=r|n,o=i<(Ts|pg|Nr),a=n==Nr&&r==ol||n==Nr&&r==al&&e[7].length<=t[8]||n==(Nr|al)&&t[7].length<=t[8]&&r==ol;if(!(o||a))return e;n&Ts&&(e[2]=t[2],i|=r&Ts?0:vg);var s=t[3];if(s){var c=e[3];e[3]=c?dg(c,s,t[4]):s,e[4]=c?nl(e[3],il):t[4]}return s=t[5],s&&(c=e[5],e[5]=c?hg(c,s,t[6]):s,e[6]=c?nl(e[5],il):t[6]),s=t[7],s&&(e[7]=s),n&Nr&&(e[8]=e[8]==null?t[8]:mg(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}var bg=_g,yg=/\s/;function gg(e){for(var t=e.length;t--&&yg.test(e.charAt(t)););return t}var Sg=gg,Eg=Sg,Og=/^\s+/;function wg(e){return e&&e.slice(0,Eg(e)+1).replace(Og,"")}var Pg=wg,$g=Pg,sl=f.isObject_1,Cg=f.isSymbol_1,ul=0/0,Ag=/^[-+]0x[0-9a-f]+$/i,Ig=/^0b[01]+$/i,Tg=/^0o[0-7]+$/i,jg=parseInt;function kg(e){if(typeof e=="number")return e;if(Cg(e))return ul;if(sl(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=sl(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=$g(e);var r=Ig.test(e);return r||Tg.test(e)?jg(e.slice(2),r?2:8):Ag.test(e)?ul:+e}var Rg=kg,Mg=Rg,cl=1/0,Ng=17976931348623157e292;function Dg(e){if(!e)return e===0?e:0;if(e=Mg(e),e===cl||e===-cl){var t=e<0?-1:1;return t*Ng}return e===e?e:0}var Fg=Dg,Lg=Fg;function xg(e){var t=Lg(e),r=t%1;return t===t?r?t-r:t:0}var qd=xg,Gg=Fd,Ug=ib,Wg=og,Kg=zd,Bg=fg,Vg=Gd,Hg=bg,zg=Kd,qg=Bd,ll=qd,Yg="Expected a function",fl=1,Xg=2,js=8,ks=16,Rs=32,dl=64,hl=Math.max;function Qg(e,t,r,n,i,o,a,s){var c=t&Xg;if(!c&&typeof e!="function")throw new TypeError(Yg);var u=n?n.length:0;if(u||(t&=~(Rs|dl),n=i=void 0),a=a===void 0?a:hl(ll(a),0),s=s===void 0?s:ll(s),u-=i?i.length:0,t&dl){var l=n,d=i;n=i=void 0}var p=c?void 0:Vg(e),_=[e,t,r,n,i,l,d,o,a,s];if(p&&Hg(_,p),e=_[0],t=_[1],r=_[2],n=_[3],i=_[4],s=_[9]=_[9]===void 0?c?0:e.length:hl(_[9]-u,0),!s&&t&(js|ks)&&(t&=~(js|ks)),!t||t==fl)var g=Ug(e,t,r);else t==js||t==ks?g=Wg(e,t,s):(t==Rs||t==(fl|Rs))&&!i.length?g=Bg(e,t,r,n):g=Kg.apply(void 0,_);var m=p?Gg:zg;return qg(m(g,_),e,t)}var Jg=Qg,Zg=ec,e0=Jg,t0=ic,r0=Ii,n0=32,oc=Zg(function(e,t){var r=r0(t,t0(oc));return e0(e,n0,void 0,t,r)});oc.placeholder={};var i0=oc,o0=w_,a0=i0;function s0(e,t){return a0(o0(t),e)}var u0=s0;const c0=f.getDefaultExportFromCjs(u0);var Yd={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jr=Symbol.for("react.element"),l0=Symbol.for("react.portal"),f0=Symbol.for("react.fragment"),d0=Symbol.for("react.strict_mode"),h0=Symbol.for("react.profiler"),p0=Symbol.for("react.provider"),v0=Symbol.for("react.context"),m0=Symbol.for("react.forward_ref"),_0=Symbol.for("react.suspense"),b0=Symbol.for("react.memo"),y0=Symbol.for("react.lazy"),pl=Symbol.iterator;function g0(e){return e===null||typeof e!="object"?null:(e=pl&&e[pl]||e["@@iterator"],typeof e=="function"?e:null)}var Xd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qd=Object.assign,Jd={};function pr(e,t,r){this.props=e,this.context=t,this.refs=Jd,this.updater=r||Xd}pr.prototype.isReactComponent={};pr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};pr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zd(){}Zd.prototype=pr.prototype;function ac(e,t,r){this.props=e,this.context=t,this.refs=Jd,this.updater=r||Xd}var sc=ac.prototype=new Zd;sc.constructor=ac;Qd(sc,pr.prototype);sc.isPureReactComponent=!0;var vl=Array.isArray,eh=Object.prototype.hasOwnProperty,uc={current:null},th={key:!0,ref:!0,__self:!0,__source:!0};function rh(e,t,r){var n,i={},o=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)eh.call(t,n)&&!th.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Jr,type:e,key:o,ref:a,props:i,_owner:uc.current}}function S0(e,t){return{$$typeof:Jr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function cc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jr}function E0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ml=/\/+/g;function Ms(e,t){return typeof e=="object"&&e!==null&&e.key!=null?E0(""+e.key):t.toString(36)}function oi(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Jr:case l0:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+Ms(a,0):n,vl(i)?(r="",e!=null&&(r=e.replace(ml,"$&/")+"/"),oi(i,t,r,"",function(u){return u})):i!=null&&(cc(i)&&(i=S0(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(ml,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",vl(e))for(var s=0;s<e.length;s++){o=e[s];var c=n+Ms(o,s);a+=oi(o,t,r,c,i)}else if(c=g0(e),typeof c=="function")for(e=c.call(e),s=0;!(o=e.next()).done;)o=o.value,c=n+Ms(o,s++),a+=oi(o,t,r,c,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Qn(e,t,r){if(e==null)return e;var n=[],i=0;return oi(e,n,"","",function(o){return t.call(r,o,i++)}),n}function O0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _e={current:null},ai={transition:null},w0={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:ai,ReactCurrentOwner:uc};K.Children={map:Qn,forEach:function(e,t,r){Qn(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Qn(e,function(){t++}),t},toArray:function(e){return Qn(e,function(t){return t})||[]},only:function(e){if(!cc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};K.Component=pr;K.Fragment=f0;K.Profiler=h0;K.PureComponent=ac;K.StrictMode=d0;K.Suspense=_0;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w0;K.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Qd({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=uc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)eh.call(t,c)&&!th.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&s!==void 0?s[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){s=Array(c);for(var u=0;u<c;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:Jr,type:e.type,key:i,ref:o,props:n,_owner:a}};K.createContext=function(e){return e={$$typeof:v0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:p0,_context:e},e.Consumer=e};K.createElement=rh;K.createFactory=function(e){var t=rh.bind(null,e);return t.type=e,t};K.createRef=function(){return{current:null}};K.forwardRef=function(e){return{$$typeof:m0,render:e}};K.isValidElement=cc;K.lazy=function(e){return{$$typeof:y0,_payload:{_status:-1,_result:e},_init:O0}};K.memo=function(e,t){return{$$typeof:b0,type:e,compare:t===void 0?null:t}};K.startTransition=function(e){var t=ai.transition;ai.transition={};try{e()}finally{ai.transition=t}};K.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};K.useCallback=function(e,t){return _e.current.useCallback(e,t)};K.useContext=function(e){return _e.current.useContext(e)};K.useDebugValue=function(){};K.useDeferredValue=function(e){return _e.current.useDeferredValue(e)};K.useEffect=function(e,t){return _e.current.useEffect(e,t)};K.useId=function(){return _e.current.useId()};K.useImperativeHandle=function(e,t,r){return _e.current.useImperativeHandle(e,t,r)};K.useInsertionEffect=function(e,t){return _e.current.useInsertionEffect(e,t)};K.useLayoutEffect=function(e,t){return _e.current.useLayoutEffect(e,t)};K.useMemo=function(e,t){return _e.current.useMemo(e,t)};K.useReducer=function(e,t,r){return _e.current.useReducer(e,t,r)};K.useRef=function(e){return _e.current.useRef(e)};K.useState=function(e){return _e.current.useState(e)};K.useSyncExternalStore=function(e,t,r){return _e.current.useSyncExternalStore(e,t,r)};K.useTransition=function(){return _e.current.useTransition()};K.version="18.2.0";Yd.exports=K;var P0=Yd.exports;const $0=P0.createContext(void 0);$0.Provider;function C0(e,t=!1){return e??t?"yes":"no"}const A0=e=>{const t=e.toLowerCase();return t.includes("aws")?"AWS":t.includes("azure")?"Azure":"Digital Ocean"},Jn=e=>{const{cloud_instance_type:t}=e??{};return t==null?null:A0(t)},Ns=e=>{if(!e)return{isWorkspace:"no",workspaceTemplateID:void 0};const{isWorkspaceConnection:t,workspaceTemplateLocalId:r}=e;return{isWorkspace:C0(t),workspaceTemplateID:r==null?void 0:r.toString()}};function I0(e){switch(e){case"ssh":return"SSH";case"telnet":return"Telnet";case"mosh":return"Mosh";case"local":return"Local";case"stream":return"LiveTerminal";case"serial":return"Serial";default:return null}}const T0="termius dark",j0=4,k0=40,R0=[{name:"Termius Dark",colorPaletteOverrides:["#343851","#f24e50","#008463","#eca855","#08639f","#c13282","#2091f6","#e2e3e8","#8d91a5","#ff7375","#3ed7be","#fdc47d","#6ba0c3","#ff7dc5","#44a7ff","#ffffff"],backgroundColor:"#141729",cursorColor:"#21b568",foregroundColor:"#21b568",selectionColor:"#21b56880",app:{terminalUIColor:"#8D91A5"}},{name:"Termius Light",colorPaletteOverrides:["#141729","#f24e50","#198c51","#f8aa4b","#004878","#8f3c91","#2091f6","#eeeeee","#3e4257","#ff7375","#21b568","#fdc47d","#1d6da2","#ff7dc5","#44a7ff","#ffffff"],backgroundColor:"#d5dde0",cursorColor:"#32364a",foregroundColor:"#32364a",selectionColor:"#32364a80",app:{terminalUIColor:"#6C797E"}},{name:"Kanagawa Wave",colorPaletteOverrides:["#16161d","#c34043","#5d864d","#c0a36e","#7e9cd8","#6f549b","#6a9589","#c8c093","#727169","#e9585b","#98bb6c","#e6c384","#7fb4ca","#a18bc4","#8bc5b9","#dcd7ba"],backgroundColor:"#1f1f28",cursorColor:"#c8c093",foregroundColor:"#dcd7ba",selectionColor:"#d7ba8080",app:{terminalUIColor:"#88928a"}},{name:"Kanagawa Dragon",colorPaletteOverrides:["#0d0c0c","#c4746e","#596f44","#c4b28a","#8ba4b0","#9c5f9f","#5a948f","#e6e2c7","#a6a69c","#e88a83","#9ccd9c","#e6c384","#7fb4ca","#d7bdd9","#77c7c0","#fffad9"],backgroundColor:"#181616",cursorColor:"#c8c093",foregroundColor:"#c5c9c5",selectionColor:"#c9c58080",app:{terminalUIColor:"#88928a"}},{name:"Kanagawa Lotus",colorPaletteOverrides:["#1f1f28","#c84053","#6f894e","#cbbc41","#4871af","#e56792","#5fa99c","#545464","#555448","#e65569","#88a760","#e5d978","#6693bf","#c299ff","#7cc4b0","#43436c"],backgroundColor:"#f2ecbc",cursorColor:"#43436c",foregroundColor:"#545464",selectionColor:"#54648080",app:{terminalUIColor:"#88928a"}},{name:"Hacker Blue",colorPaletteOverrides:["#1e2644","#0d7eaf","#529cbd","#00608a","#034765","#648593","#7ad6ff","#d1f1ff","#2f385a","#0fbdff","#6fb7d3","#43c3f4","#5cc0e6","#7ab2c7","#4dceff","#fefefe"],backgroundColor:"#010515",cursorColor:"#10b6ff",foregroundColor:"#11b7ff",selectionColor:"#c1e4ff80",app:{terminalUIColor:"#2c71a4"}},{name:"Hacker Green",colorPaletteOverrides:["#243128","#14af0d","#86ce83","#068a00","#50be4b","#4b7649","#a8f0a4","#d6fcd4","#36463b","#28f11d","#90e08b","#4cf443","#63e65c","#a8d9a5","#59ea51","#fefefe"],backgroundColor:"#020f01",cursorColor:"#15d00d",foregroundColor:"#16b10e",selectionColor:"#d4ffc180",app:{terminalUIColor:"#2ca43f"}},{name:"Hacker Red",colorPaletteOverrides:["#381313","#b00d0d","#5d2020","#890000","#be4a4a","#7a3b3b","#ff7979","#ffd2d2","#993f3f","#ff1111","#d26d6d","#f54242","#e55b5b","#c87b7b","#ff4d4d","#fefefe"],backgroundColor:"#200000",cursorColor:"#b00d0d",foregroundColor:"#b10e0e",selectionColor:"#ebc1ff80",app:{terminalUIColor:"#a42c2c"}},{name:"Everforest Dark",colorPaletteOverrides:["#42494e","#a1484a","#778e54","#ba9e68","#388084","#906378","#6ca37a","#c0dac6","#575656","#e67e80","#a7c080","#dbbc7f","#7fbbb3","#d699b6","#83c092","#e8f4eb"],backgroundColor:"#282e32",cursorColor:"#d3c6aa",foregroundColor:"#d3c6aa",selectionColor:"#d3c6aa80",app:{terminalUIColor:"#88928A"}},{name:"Everforest Light",colorPaletteOverrides:["#42494e","#d2413e","#919d45","#d89902","#2b7ba7","#bc72a5","#50b08c","#c8d0c9","#575656","#e67e80","#a7c080","#dbbc7f","#7fbbb3","#d699b6","#83c092","#d7e2d8"],backgroundColor:"#fefbf1",cursorColor:"#5c6a72",foregroundColor:"#5c6a72",selectionColor:"#5c6a7280",app:{terminalUIColor:"#959F92"}},{name:"Night Owl",colorPaletteOverrides:["#072945","#ef5350","#22da6e","#c5e478","#82aaff","#c792ea","#21c7a8","#e1f1ff","#575656","#ff7472","#40fa8d","#ffeb95","#a0beff","#daa4ff","#7fdbca","#ffffff"],backgroundColor:"#011627",cursorColor:"#80a4c2",foregroundColor:"#d6deeb",selectionColor:"#d6deeb80",app:{terminalUIColor:"#6D90AD"}},{name:"Light Owl",colorPaletteOverrides:["#403f53","#de3d3b","#08916a","#e0af02","#288ed7","#d6438a","#2aa298","#e8e5e5","#57566d","#fa5d5b","#1abf90","#f4c315","#3ca3ec","#f559a4","#39c6ba","#f6f6f6"],backgroundColor:"#fbfbfb",cursorColor:"#90a7b2",foregroundColor:"#403f53",selectionColor:"#403f5380",app:{terminalUIColor:"#8898A4"}},{name:"Aura",colorPaletteOverrides:["#1c1b22","#ff6767","#4deeb8","#f4be77","#5b72ee","#a277ff","#51fafa","#dddbfa","#4d4d4d","#ffa285","#99ffdd","#ffd49d","#8296ff","#b592ff","#8cffff","#ffffff"],backgroundColor:"#21202e",cursorColor:"#edecee",foregroundColor:"#edecee",selectionColor:"#edecee80",app:{terminalUIColor:"#A6A2D7"}},{name:"RosÃ© Pine",colorPaletteOverrides:["#26233a","#be5d78","#78b1bb","#e4ad5f","#266782","#9c7ac5","#c28987","#e0def4","#6e6a86","#eb6f92","#9ccfd8","#f6c177","#4386a1","#d5b2ff","#ebbcba","#f0eeff"],backgroundColor:"#191724",cursorColor:"#e0def4",foregroundColor:"#e0def4",selectionColor:"#e0def480",app:{terminalUIColor:"#858297"}},{name:"RosÃ© Pine Moon",colorPaletteOverrides:["#393552","#be5d78","#78b1bb","#e4ad5f","#307997","#9c7ac5","#da8c8a","#e0def4","#6e6a86","#eb6f92","#9ccfd8","#f6c177","#3e8fb0","#d5b2ff","#ebbcba","#f0eeff"],backgroundColor:"#232136",cursorColor:"#e0def4",foregroundColor:"#e0def4",selectionColor:"#e0def480",app:{terminalUIColor:"#858297"}},{name:"RosÃ© Pine Dawn",colorPaletteOverrides:["#c9c0b9","#b4637a","#56949f","#ea9d34","#286983","#875fb5","#c47874","#3e3a5b","#e5dcd3","#e8829f","#a0d5df","#f6c177","#46afd9","#be96ec","#dd8f8c","#aaa2e2"],backgroundColor:"#faf4ed",cursorColor:"#575279",foregroundColor:"#575279",selectionColor:"#57527980",app:{terminalUIColor:"#7D776F"}},{name:"Cobalt2",colorPaletteOverrides:["#000000","#ff0000","#38de21","#ffe50a","#1460d2","#ff4387","#00bbbb","#cfcfcf","#555555","#ff757a","#69fb79","#fff285","#77adff","#ff92cc","#6bffff","#ffffff"],backgroundColor:"#132738",cursorColor:"#f0cc09",foregroundColor:"#ffffff",selectionColor:"#ffffff80",app:{terminalUIColor:"#8B9CAB"}},{name:"Octocat Dark",colorPaletteOverrides:["#000000","#f78166","#56d364","#e3b341","#6ca4f8","#db61a2","#2b7489","#DADADA","#4d4d4d","#ffb5a5","#69fb79","#ffcf5f","#b0d0ff","#ff92cc","#54d8ff","#ffffff"],backgroundColor:"#101216",cursorColor:"#c9d1d9",foregroundColor:"#8b949e",selectionColor:"#8b949e80",app:{terminalUIColor:"#626873"}},{name:"Octocat Light",colorPaletteOverrides:["#000000","#970b16","#07962a","#f1d007","#0053b9","#e94691","#89d1ec","#dfdddd","#666666","#de0000","#87d5a2","#ffe689","#2e6cba","#ffa29f","#1cfafe","#ffffff"],backgroundColor:"#f4f4f4",cursorColor:"#3f3f3f",foregroundColor:"#3e3e3e",selectionColor:"#3e3e3e80",app:{terminalUIColor:"#A1A1A1"}},{name:"Ayu Dark",colorPaletteOverrides:["#000000","#ff3333","#b8cc52","#dbb012","#36a3d9","#df7a80","#6ceedf","#ababab","#323232","#ff8181","#eafe84","#ffe174","#68d5ff","#ffa3aa","#94fff1","#ffffff"],backgroundColor:"#0f1419",cursorColor:"#f29718",foregroundColor:"#e6e1cf",selectionColor:"#e6e1cf80",app:{terminalUIColor:"#716F67"}},{name:"Ayu Light",colorPaletteOverrides:["#000000","#ff3333","#319900","#f29718","#41a6d9","#e07ead","#1dd1b0","#dfdddd","#323232","#ff5959","#b8e532","#ffc94a","#73d8ff","#ffa3aa","#7ff1cb","#ffffff"],backgroundColor:"#fafafa",cursorColor:"#ff6a00",foregroundColor:"#5c6773",selectionColor:"#5c677380",app:{terminalUIColor:"#A1A1A1"}},{name:"Cyberpunk",colorPaletteOverrides:["#100c1d","#ff7092","#01da7f","#ddd84f","#00a0d6","#be4eee","#28e3cc","#eaeaea","#221b3a","#ff9999","#00f890","#fff787","#28bfe9","#e4a7ff","#95fff2","#ffffff"],backgroundColor:"#332a57",cursorColor:"#21f6bc",foregroundColor:"#e5e5e5",selectionColor:"#e5e5e580",app:{terminalUIColor:"#8174B8"}},{name:"Cyberpunk Scarlet",colorPaletteOverrides:["#272831","#c5123d","#019540","#ffed30","#00b0ff","#c77bff","#4ae3c2","#6e7281","#3f4352","#ff8aa4","#44d884","#fff7ac","#c2ecff","#e6aefe","#7bffe2","#ffffff"],backgroundColor:"#101116",cursorColor:"#00ffc8",foregroundColor:"#ff0055",selectionColor:"#ff005580",app:{terminalUIColor:"#933F5B"}},{name:"Romania Night",colorPaletteOverrides:["#0b141f","#b50011","#124150","#8d562d","#444f60","#5b2928","#80252d","#917d7c","#1d2d41","#de1016","#b16749","#d74d29","#e69148","#c2b1ad","#f7d382","#f5f5ea"],backgroundColor:"#0b141f",cursorColor:"#f7d382",foregroundColor:"#f5f5ea",selectionColor:"#f5f5ea80",app:{terminalUIColor:"#8092A7"}},{name:"Romania Day",colorPaletteOverrides:["#300f0d","#b50011","#1c817b","#b4a667","#798cb1","#cf7751","#fd7d89","#bfb3a4","#5b2c29","#000000","#5bc2b1","#ffcd87","#e69148","#c2b1ad","#ddb763","#fffefd"],backgroundColor:"#f5e8e7",cursorColor:"#d7b25e",foregroundColor:"#632228",selectionColor:"#63222880",app:{terminalUIColor:"#B29A98"}},{name:"Aubergine",colorPaletteOverrides:["#47233b","#ae3120","#4e9a06","#c4a000","#3465a4","#8f6696","#5dbdac","#cdc2b6","#682e59","#e95420","#8ae234","#fce94f","#729fcf","#b188ad","#34e2e2","#eeeeec"],backgroundColor:"#2c001e",cursorColor:"#bbbbbb",foregroundColor:"#eeeeec",selectionColor:"#eeeeec80",app:{terminalUIColor:"#B385A5"}},{name:"Peach Fresh",colorPaletteOverrides:["#220200","#cb4434","#65a06a","#e6a200","#3c5672","#7a1a48","#517e9a","#fddac3","#61201b","#db6355","#7db882","#ffcf5c","#5f7c9d","#d06397","#82adc9","#ffffff"],backgroundColor:"#f5c19e",cursorColor:"#b33a00",foregroundColor:"#520701",selectionColor:"#e6760180",app:{terminalUIColor:"#8A6851"}},{name:"1984 Dark",colorPaletteOverrides:["#2a2a54","#db229d","#89b15c","#ddca34","#377fd2","#c124db","#4497a2","#dedef4","#363666","#fd27b5","#9ed262","#f3e049","#44a6e0","#e42cf4","#6bcdda","#ececf9"],backgroundColor:"#0d1030",cursorColor:"#dedee1",foregroundColor:"#dedee1",selectionColor:"#dedee180",app:{terminalUIColor:"#767698"}},{name:"1984 Light",colorPaletteOverrides:["#1f2022","#f93bb8","#2cb569","#ea9033","#0380d9","#cf29ea","#0698a4","#dedef4","#1f2022","#ff89d6","#59d08e","#ffb76d","#6dc2ff","#e26eff","#3bcfdb","#fbfbfe"],backgroundColor:"#e4ecf4",cursorColor:"#353247",foregroundColor:"#353247",selectionColor:"#35324780",app:{terminalUIColor:"#798DA1"}},{name:"Winter Night",colorPaletteOverrides:["#1e2c37","#933911","#51876b","#cc9867","#3e5f7e","#82658a","#7cb298","#f9edcc","#35424c","#d85751","#7b9a8a","#e7cf91","#6098aa","#b690e6","#94d2b5","#fff9ea"],backgroundColor:"#00192c",cursorColor:"#f8cfa6",foregroundColor:"#e4d5cc",selectionColor:"#e4d5cc80",app:{terminalUIColor:"#869CB2"}},{name:"Winter Day",colorPaletteOverrides:["#685b3f","#9c3b12","#5a9f79","#dca067","#546f88","#5d4864","#2e8e9a","#d1c6af","#857554","#b26848","#7cb596","#ffc48d","#6d8fb0","#d3b3dd","#56b6c2","#fff7e4"],backgroundColor:"#ece3d1",cursorColor:"#5c6370",foregroundColor:"#1a2720",selectionColor:"#abb2bf80",app:{terminalUIColor:"#887F6A"}},{name:"Tokyo Night",colorPaletteOverrides:["#373947","#f7768e","#92ba68","#e8be80","#5d91ff","#a079e5","#7dcfff","#6d759a","#414868","#ff8da2","#b8e785","#ffd292","#739fff","#b288ff","#b1e2ff","#dbe2ff"],backgroundColor:"#1a1b26",cursorColor:"#c0caf5",foregroundColor:"#cdd6ff",selectionColor:"#c0caf580",app:{terminalUIColor:"#6E769A"}},{name:"Tokyo Day",colorPaletteOverrides:["#f4f4fb","#f52a65","#506d31","#a07433","#4782d4","#9854f1","#004b65","#465484","#bfc2d0","#ff6692","#819966","#9f8662","#5898f0","#cba4ff","#00a6de","#b6c4f9"],backgroundColor:"#e1e2e7",cursorColor:"#3760bf",foregroundColor:"#2f54a8",selectionColor:"#3760bf80",app:{terminalUIColor:"#757885"}},{name:"Catppuccin Latte",colorPaletteOverrides:["#5c5f77","#c41037","#389524","#d58515","#3167d2","#d26eb7","#09908e","#acb0be","#7a7d92","#e6224c","#4cb435","#eb9926","#2f75ff","#ff99e3","#1eabb3","#d3d7e3"],backgroundColor:"#eff1f5",cursorColor:"#dc8a78",foregroundColor:"#4c4f69",selectionColor:"#dc8a7880",app:{terminalUIColor:"#858A9C"}},{name:"Catppuccin Mocha",colorPaletteOverrides:["#45475a","#ad626b","#95cb91","#b09e76","#4c82d9","#bc81ae","#71b2aa","#5a5d74","#64698a","#fb99b4","#aeeca9","#ffe7b4","#67bfff","#ffccf1","#a2f3e5","#d7ddf3"],backgroundColor:"#1e1e2e",cursorColor:"#f5e0dc",foregroundColor:"#cdd6f4",selectionColor:"#f5e0dc80",app:{terminalUIColor:"#777790"}},{name:"Diwali",colorPaletteOverrides:["#1e0b34","#ad0656","#00b45d","#f8d203","#4548e1","#e869ea","#00d5dd","#856da2","#5a3f7e","#f02889","#35ef96","#ffe769","#7578ff","#fc99ff","#47eef4","#f8efff"],backgroundColor:"#311652",cursorColor:"#ffa900",foregroundColor:"#fdf6f6",selectionColor:"#ffa90080",app:{terminalUIColor:"#856EA2"}},{name:"Movember",colorPaletteOverrides:["#421400","#a43219","#4b6d21","#caa630","#1e4888","#7c2f4a","#357b6e","#cdba9e","#561900","#d04325","#749c43","#fac04f","#4080e0","#b44c72","#52bca8","#fff1dd"],backgroundColor:"#1f0900",cursorColor:"#e6c03c",foregroundColor:"#ffe7c3",selectionColor:"#3b262680",app:{terminalUIColor:"#8C6D5E"}},{name:"Atom One Dark",colorPaletteOverrides:["#000000","#ca6169","#82a568","#bf8c5d","#56a2e1","#b76ccd","#4e9aa3","#c5cbd6","#5c6370","#e77c84","#b4e294","#e9b17b","#7ec5ff","#db8df2","#64cfdd","#ffffff"],backgroundColor:"#1e2127",cursorColor:"#5c6370",foregroundColor:"#abb2bf",selectionColor:"#abb2bf80",app:{terminalUIColor:"#70798D"}},{name:"Atom One Light",colorPaletteOverrides:["#000000","#e45649","#4c9b4b","#c99525","#4078f2","#a626a4","#0184bc","#b8b9bf","#474747","#ff7468","#74ca72","#dba633","#6a99ff","#c142bf","#00b1fd","#ffffff"],backgroundColor:"#f9f9f9",cursorColor:"#383a42",foregroundColor:"#383a42",selectionColor:"#383a4280",app:{terminalUIColor:"#9395A3"}},{name:"Halloween",colorPaletteOverrides:["#100015","#a31736","#887225","#ff7600","#5c50a6","#6d008d","#ae4fa4","#c7c7c6","#694a71","#ff2e5d","#c3a640","#ffa85e","#8e7cff","#c500ff","#f491ea","#fafafa"],backgroundColor:"#22012b",cursorColor:"#ffa900",foregroundColor:"#e5e5e5",selectionColor:"#ffa90080",app:{terminalUIColor:"#9F84A7"}},{name:"Dia De Muertos",colorPaletteOverrides:["#020018","#eb1670","#23816c","#fb6633","#5c439e","#9d2686","#e29b00","#d2cbb4","#3f3b64","#f63b7b","#28aa8b","#ffa85e","#7a54df","#ff81c7","#ffbe30","#f1ebd9"],backgroundColor:"#fffdf5",cursorColor:"#b33a00",foregroundColor:"#281f63",selectionColor:"#e6760180",app:{terminalUIColor:"#8B8982"}},{name:"Gruvbox Dark",colorPaletteOverrides:["#151515","#cc241d","#98971a","#d79921","#458588","#b16286","#689d6a","#c3b198","#695c50","#fb4934","#b8bb26","#fabd2f","#83a598","#f59db5","#8ec07c","#ebdbb2"],backgroundColor:"#282828",cursorColor:"#ebdbb2",foregroundColor:"#ebdbb2",selectionColor:"#ebdbb280",app:{terminalUIColor:"#908477"}},{name:"Gruvbox Light",colorPaletteOverrides:["#dfd6b1","#9d0006","#79740e","#b57614","#076678","#8f3f71","#427b58","#3c3836","#9d8374","#cc241d","#98971a","#d79921","#458588","#d180a5","#689d69","#7c6f64"],backgroundColor:"#fbf1c7",cursorColor:"#282828",foregroundColor:"#282828",selectionColor:"#28282880",app:{terminalUIColor:"#857D5F"}},{name:"Material Dark",colorPaletteOverrides:["#040404","#b7141f","#457b24","#f6981e","#134eb2","#560088","#0e717c","#efefef","#424242","#e83b3f","#7aba3a","#ffea2e","#54a4f3","#aa4dbc","#26bbd1","#d9d9d9"],backgroundColor:"#232322",cursorColor:"#16afca",foregroundColor:"#e5e5e5",selectionColor:"#e5e5e580",app:{terminalUIColor:"#75756E"}},{name:"Material Light",colorPaletteOverrides:["#000000","#b7141f","#457b24","#f6981e","#134eb2","#560088","#0e717c","#f5f5f5","#424242","#e83b3f","#7aba3a","#ffea2e","#54a4f3","#aa4dbc","#26bbd1","#d9d9d9"],backgroundColor:"#eaeaea",cursorColor:"#16afca",foregroundColor:"#2f2f2f",selectionColor:"#23232280",app:{terminalUIColor:"#747474"}},{name:"Manhattan",colorPaletteOverrides:["#0a0a0a","#840f02","#5e5e5c","#c3a421","#727370","#d1d1cb","#4f4f4c","#aaaba6","#2e2e2c","#d15510","#636361","#d8b741","#777875","#d6d6d0","#696966","#afb0ab"],backgroundColor:"#0a0a0a",cursorColor:"#dfe0db",foregroundColor:"#b8b9b4",selectionColor:"#b8b9b480",app:{terminalUIColor:"#7B7B7B"}},{name:"Plastic World",colorPaletteOverrides:["#581743","#de0000","#99d76d","#f2d66f","#eb8dd7","#9b37ff","#68b9dc","#f6b8ec","#86316b","#ff7ba3","#d3ffaf","#ffe383","#fe9be8","#a65cf0","#b0e6fe","#ffe6f7"],backgroundColor:"#ea56c1",cursorColor:"#bafc8b",foregroundColor:"#ffe9da",selectionColor:"#ffe9da80",app:{terminalUIColor:"#FFD9F2"}},{name:"Basic",colorPaletteOverrides:["#2e2e2e","#c61a1a","#007900","#999900","#0f48cd","#b200b2","#3fc1dd","#acacac","#757575","#ff3e3e","#00b300","#d4d400","#316fff","#ff60c9","#6ce5ff","#cac5c5"],backgroundColor:"#ffffff",cursorColor:"#7f7f7f",foregroundColor:"#000000",selectionColor:"#00000080",app:{terminalUIColor:"#808080"}},{name:"Homebrew",colorPaletteOverrides:["#2e2e2e","#c93434","#348e48","#e09e00","#0031e0","#e235ff","#3fc1dd","#d0cfcf","#5b5b5b","#ff6767","#31ff31","#ffdca8","#4465da","#ff5fc8","#8debff","#e6e6e6"],backgroundColor:"#000000",cursorColor:"#23ff18",foregroundColor:"#00ff00",selectionColor:"#00ff0080",app:{terminalUIColor:"#9D9D9D"}},{name:"Grass",colorPaletteOverrides:["#000000","#9a183c","#6eb95e","#ffa673","#00378a","#771361","#3bcbea","#939393","#393939","#e0692f","#b2ffa2","#ffc27b","#2380c4","#ec88c2","#70e4ff","#ffffff"],backgroundColor:"#13773d",cursorColor:"#8c2800",foregroundColor:"#fff0a5",selectionColor:"#fff0a580",app:{terminalUIColor:"#8ED4AC"}},{name:"Man Page",colorPaletteOverrides:["#383838","#9a183c","#009100","#be6600","#114695","#b72fb9","#3bcbea","#959595","#a7a7a7","#e0692f","#00b400","#ffb571","#3392d6","#ec88c2","#70e4ff","#dadada"],backgroundColor:"#fef49c",cursorColor:"#7f7f7f",foregroundColor:"#000000",selectionColor:"#00000080",app:{terminalUIColor:"#848057"}},{name:"Novel",colorPaletteOverrides:["#000000","#d30f0f","#00933b","#d38b40","#00528e","#cc32cf","#26c3e6","#a6a6a6","#5c5c5c","#e0692f","#00b400","#fff284","#3ba6f3","#ec88c2","#38daff","#f2f2f2"],backgroundColor:"#dfdbc3",cursorColor:"#73635a",foregroundColor:"#3b2322",selectionColor:"#3b232280",app:{terminalUIColor:"#6F6C5A"}},{name:"Ocean",colorPaletteOverrides:["#000000","#881616","#399518","#dda114","#00a3ff","#a83aff","#28ccd6","#d3d3d3","#d2d2d2","#ff7658","#00ff47","#f5c147","#79ceff","#ea6fff","#58f4ff","#ffffff"],backgroundColor:"#224fbc",cursorColor:"#7f7f7f",foregroundColor:"#ffffff",selectionColor:"#ffffff80",app:{terminalUIColor:"#9BB4EE"}},{name:"Pro",colorPaletteOverrides:["#2e2e2e","#c93434","#348e48","#e09e00","#002bc7","#e235ff","#3fc1dd","#d0cfcf","#5b5b5b","#ff6767","#31ff31","#ffdca8","#4465da","#ff5fc8","#8debff","#e6e6e6"],backgroundColor:"#000000",cursorColor:"#4d4d4d",foregroundColor:"#f2f2f2",selectionColor:"#f2f2f280",app:{terminalUIColor:"#9D9D9D"}},{name:"Red Sands",colorPaletteOverrides:["#000000","#d30e0e","#58aa47","#ffa673","#0072ff","#ff57ee","#3bcbea","#e6e6e6","#606060","#e0692f","#b2ffa2","#ffc27b","#0193fc","#ffbce2","#70e4ff","#ffffff"],backgroundColor:"#7a251e",cursorColor:"#ffffff",foregroundColor:"#d7c9a7",selectionColor:"#d7c9a780",app:{terminalUIColor:"#CC8984"}},{name:"Solarized Dark",colorPaletteOverrides:["#11586a","#dc322f","#8ea20a","#b58900","#268bd2","#c41f6f","#2aa198","#e7e0cc","#003b4a","#f15c59","#677558","#7e7a61","#83a8ad","#886cc4","#72b6b6","#fdf6e3"],backgroundColor:"#002b36",cursorColor:"#657779",foregroundColor:"#839496",selectionColor:"#65777980",app:{terminalUIColor:"#5D838D"}},{name:"Solarized Light",colorPaletteOverrides:["#073642","#dc322f","#8fa30a","#b58900","#268bd2","#c41f6f","#2aa198","#e6e0cb","#00252f","#e05319","#667558","#7e7960","#83a8ad","#886cc4","#72b6b6","#fff0c7"],backgroundColor:"#fdf6e3",cursorColor:"#657b83",foregroundColor:"#657b83",selectionColor:"#657b8380",app:{terminalUIColor:"#9C9686"}},{name:"Silver Aerogel",colorPaletteOverrides:["#262424","#ca3535","#09672f","#ffbe73","#004582","#cf41e6","#45adce","#eae9e9","#b6b6b6","#ff7658","#57cc5c","#fff06b","#487bff","#ff60c9","#2cc6f7","#ffffff"],backgroundColor:"#919191",cursorColor:"#d9d9d9",foregroundColor:"#000000",selectionColor:"#00000080",app:{terminalUIColor:"#4D4D4D"}},{name:"Dracula",colorPaletteOverrides:["#000000","#e04242","#45e16c","#e3ec7d","#9b7dc6","#e469b0","#8be9fd","#cac5c5","#4a4a4a","#ff5555","#b5ffc8","#fff9c8","#c8a1ff","#ff8cce","#c8f5ff","#ffffff"],backgroundColor:"#282a36",cursorColor:"#bbbbbb",foregroundColor:"#f8f8f2",selectionColor:"#f8f8f280",app:{terminalUIColor:"#7D8197"}},{name:"Monokai",colorPaletteOverrides:["#1a1a1a","#dd0056","#92d526","#fd971f","#874deb","#ea095a","#48bfd8","#c4c5b5","#625e4c","#ff3382","#a6f12f","#e0d561","#9d65ff","#ff116d","#58d1eb","#f6f6ef"],backgroundColor:"#0c0c0c",cursorColor:"#fc971f",foregroundColor:"#d9d9d9",selectionColor:"#d9d9d980",app:{terminalUIColor:"#86899A"}},{name:"Nord Light",colorPaletteOverrides:["#2c3344","#ae545d","#8ca377","#dabe84","#718fae","#95728e","#78acbb","#d8dee9","#4c556a","#d97982","#a3be8b","#eacb8a","#a4c7e9","#b48dac","#8fbcbb","#eceff4"],backgroundColor:"#e5e9f0",cursorColor:"#88c0d0",foregroundColor:"#414858",selectionColor:"#41485880",app:{terminalUIColor:"#6F7683"}},{name:"Nord Dark",colorPaletteOverrides:["#3b4252","#ae545d","#8ca377","#dabe84","#718fae","#95728e","#78acbb","#d8dee9","#4c556a","#d97982","#a3be8b","#eacb8a","#a4c7e9","#b48dac","#8fbcbb","#eceff4"],backgroundColor:"#2e3440",cursorColor:"#eceff4",foregroundColor:"#d8dee9",selectionColor:"#eceff480",app:{terminalUIColor:"#808A9E"}}],lc=Object.fromEntries(R0.map(e=>[e.name.toLowerCase(),e])),M0=["Source Code Pro","Source Code Pro Medium","Operator Mono Book","Operator Mono Medium","Fira Mono","Fira Mono Medium","Inconsolata-g","Anonymous Pro","Ubuntu Mono","Droid Sans Mono","Dejavu Sans Mono","PT Mono","Andale Mono","Cascadia Code","Fira Code","JetBrains Mono","Meslo"],N0="Multiplayer";class D0{get(t,r,n){const i=t!=null?t.toLowerCase():"",o=this.getAllSchemeObjects();return!t&&r==="auto"?this.getAutoScheme(n):Ds(i)?o[i]:Ds(r)?o[r]:o[T0]}getAutoScheme(t){return t?this.getAllSchemeObjects()["termius dark"]:this.getAllSchemeObjects()["termius light"]}getMinFontSize(){return j0}getMaxFontSize(){return k0}getAllSchemeNames(){return[...Object.keys(this.getAllSchemeObjects()),"auto"]}getAllSchemeObjects(){return lc}getValidForBackendSchemesValues(){return Object.values(this.getAllSchemeObjects())}getFontFamilies(){return M0}isValidColorSchemeName(t){return Ds(t)||t==="auto"}}const F0=new D0,Ds=e=>Object.keys(lc).some(t=>t===e),L0=e=>{switch(e){case"ssh":return"ssh_config";case"mosh":return"ssh_config";case"telnet":return"telnet_config";default:return null}},x0=(e,t,r,n)=>{var c,u;const i=r||"auto",o={from:"global",fromTarget:null,schemeName:i,targetConfigName:t},a=n==null?void 0:n.name.toLowerCase(),s=a&&F0.isValidColorSchemeName(a);if(t){const l=(c=e==null?void 0:e[t])==null?void 0:c.color_scheme;if(l)return o.from="host",o.fromTarget=e,o.schemeName=s?a:l,o;const d=e==null?void 0:e.parentGroups.find(_=>{var g;return!!((g=_[t])!=null&&g.color_scheme)}),p=(u=d==null?void 0:d[t])==null?void 0:u.color_scheme;if(p)return o.from="group",o.fromTarget=d,o.schemeName=s?a:p,o}return s&&a!==i&&(o.schemeName=a),o};var yu={exports:{}};(function(e,t){t=e.exports=U;var r;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?r=function(){var h=Array.prototype.slice.call(arguments,0);h.unshift("SEMVER"),console.log.apply(console,h)}:r=function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,a=n-6,s=t.re=[],c=t.safeRe=[],u=t.src=[],l=0,d="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",n],[d,a]];function _(h){for(var b=0;b<p.length;b++){var E=p[b][0],A=p[b][1];h=h.split(E+"*").join(E+"{0,"+A+"}").split(E+"+").join(E+"{1,"+A+"}")}return h}var g=l++;u[g]="0|[1-9]\\d*";var m=l++;u[m]="\\d+";var S=l++;u[S]="\\d*[a-zA-Z-]"+d+"*";var w=l++;u[w]="("+u[g]+")\\.("+u[g]+")\\.("+u[g]+")";var O=l++;u[O]="("+u[m]+")\\.("+u[m]+")\\.("+u[m]+")";var P=l++;u[P]="(?:"+u[g]+"|"+u[S]+")";var $=l++;u[$]="(?:"+u[m]+"|"+u[S]+")";var C=l++;u[C]="(?:-("+u[P]+"(?:\\."+u[P]+")*))";var M=l++;u[M]="(?:-?("+u[$]+"(?:\\."+u[$]+")*))";var F=l++;u[F]=d+"+";var x=l++;u[x]="(?:\\+("+u[F]+"(?:\\."+u[F]+")*))";var V=l++,Y="v?"+u[w]+u[C]+"?"+u[x]+"?";u[V]="^"+Y+"$";var D="[v=\\s]*"+u[O]+u[M]+"?"+u[x]+"?",G=l++;u[G]="^"+D+"$";var L=l++;u[L]="((?:<|>)?=?)";var X=l++;u[X]=u[m]+"|x|X|\\*";var ae=l++;u[ae]=u[g]+"|x|X|\\*";var ne=l++;u[ne]="[v=\\s]*("+u[ae]+")(?:\\.("+u[ae]+")(?:\\.("+u[ae]+")(?:"+u[C]+")?"+u[x]+"?)?)?";var he=l++;u[he]="[v=\\s]*("+u[X]+")(?:\\.("+u[X]+")(?:\\.("+u[X]+")(?:"+u[M]+")?"+u[x]+"?)?)?";var Bt=l++;u[Bt]="^"+u[L]+"\\s*"+u[ne]+"$";var Gn=l++;u[Gn]="^"+u[L]+"\\s*"+u[he]+"$";var Un=l++;u[Un]="(?:^|[^\\d])(\\d{1,"+o+"})(?:\\.(\\d{1,"+o+"}))?(?:\\.(\\d{1,"+o+"}))?(?:$|[^\\d])";var Vt=l++;u[Vt]="(?:~>?)";var rt=l++;u[rt]="(\\s*)"+u[Vt]+"\\s+",s[rt]=new RegExp(u[rt],"g"),c[rt]=new RegExp(_(u[rt]),"g");var Ka="$1~",Wn=l++;u[Wn]="^"+u[Vt]+u[ne]+"$";var Kn=l++;u[Kn]="^"+u[Vt]+u[he]+"$";var Ht=l++;u[Ht]="(?:\\^)";var nt=l++;u[nt]="(\\s*)"+u[Ht]+"\\s+",s[nt]=new RegExp(u[nt],"g"),c[nt]=new RegExp(_(u[nt]),"g");var Ba="$1^",Bn=l++;u[Bn]="^"+u[Ht]+u[ne]+"$";var Vn=l++;u[Vn]="^"+u[Ht]+u[he]+"$";var Ir=l++;u[Ir]="^"+u[L]+"\\s*("+D+")$|^$";var Tr=l++;u[Tr]="^"+u[L]+"\\s*("+Y+")$|^$";var Ye=l++;u[Ye]="(\\s*)"+u[L]+"\\s*("+D+"|"+u[ne]+")",s[Ye]=new RegExp(u[Ye],"g"),c[Ye]=new RegExp(_(u[Ye]),"g");var Va="$1$2$3",Hn=l++;u[Hn]="^\\s*("+u[ne]+")\\s+-\\s+("+u[ne]+")\\s*$";var zn=l++;u[zn]="^\\s*("+u[he]+")\\s+-\\s+("+u[he]+")\\s*$";var qn=l++;u[qn]="(<|>)?=?\\s*\\*";for(var Pe=0;Pe<l;Pe++)r(Pe,u[Pe]),s[Pe]||(s[Pe]=new RegExp(u[Pe]),c[Pe]=new RegExp(_(u[Pe])));t.parse=Xe;function Xe(h,b){if((!b||typeof b!="object")&&(b={loose:!!b,includePrerelease:!1}),h instanceof U)return h;if(typeof h!="string"||h.length>n)return null;var E=b.loose?c[G]:c[V];if(!E.test(h))return null;try{return new U(h,b)}catch{return null}}t.valid=Ha;function Ha(h,b){var E=Xe(h,b);return E?E.version:null}t.clean=za;function za(h,b){var E=Xe(h.trim().replace(/^[=v]+/,""),b);return E?E.version:null}t.SemVer=U;function U(h,b){if((!b||typeof b!="object")&&(b={loose:!!b,includePrerelease:!1}),h instanceof U){if(h.loose===b.loose)return h;h=h.version}else if(typeof h!="string")throw new TypeError("Invalid Version: "+h);if(h.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof U))return new U(h,b);r("SemVer",h,b),this.options=b,this.loose=!!b.loose;var E=h.trim().match(b.loose?c[G]:c[V]);if(!E)throw new TypeError("Invalid Version: "+h);if(this.raw=h,this.major=+E[1],this.minor=+E[2],this.patch=+E[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");E[4]?this.prerelease=E[4].split(".").map(function(A){if(/^[0-9]+$/.test(A)){var I=+A;if(I>=0&&I<i)return I}return A}):this.prerelease=[],this.build=E[5]?E[5].split("."):[],this.format()}U.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},U.prototype.toString=function(){return this.version},U.prototype.compare=function(h){return r("SemVer.compare",this.version,this.options,h),h instanceof U||(h=new U(h,this.options)),this.compareMain(h)||this.comparePre(h)},U.prototype.compareMain=function(h){return h instanceof U||(h=new U(h,this.options)),it(this.major,h.major)||it(this.minor,h.minor)||it(this.patch,h.patch)},U.prototype.comparePre=function(h){if(h instanceof U||(h=new U(h,this.options)),this.prerelease.length&&!h.prerelease.length)return-1;if(!this.prerelease.length&&h.prerelease.length)return 1;if(!this.prerelease.length&&!h.prerelease.length)return 0;var b=0;do{var E=this.prerelease[b],A=h.prerelease[b];if(r("prerelease compare",b,E,A),E===void 0&&A===void 0)return 0;if(A===void 0)return 1;if(E===void 0)return-1;if(E===A)continue;return it(E,A)}while(++b)},U.prototype.inc=function(h,b){switch(h){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",b);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",b);break;case"prepatch":this.prerelease.length=0,this.inc("patch",b),this.inc("pre",b);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",b),this.inc("pre",b);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var E=this.prerelease.length;--E>=0;)typeof this.prerelease[E]=="number"&&(this.prerelease[E]++,E=-2);E===-1&&this.prerelease.push(0)}b&&(this.prerelease[0]===b?isNaN(this.prerelease[1])&&(this.prerelease=[b,0]):this.prerelease=[b,0]);break;default:throw new Error("invalid increment argument: "+h)}return this.format(),this.raw=this.version,this},t.inc=qa;function qa(h,b,E,A){typeof E=="string"&&(A=E,E=void 0);try{return new U(h,E).inc(b,A).version}catch{return null}}t.diff=Ya;function Ya(h,b){if(jr(h,b))return null;var E=Xe(h),A=Xe(b),I="";if(E.prerelease.length||A.prerelease.length){I="pre";var j="prerelease"}for(var R in E)if((R==="major"||R==="minor"||R==="patch")&&E[R]!==A[R])return I+R;return j}t.compareIdentifiers=it;var Yn=/^[0-9]+$/;function it(h,b){var E=Yn.test(h),A=Yn.test(b);return E&&A&&(h=+h,b=+b),h===b?0:E&&!A?-1:A&&!E?1:h<b?-1:1}t.rcompareIdentifiers=Xa;function Xa(h,b){return it(b,h)}t.major=Qa;function Qa(h,b){return new U(h,b).major}t.minor=Ja;function Ja(h,b){return new U(h,b).minor}t.patch=Za;function Za(h,b){return new U(h,b).patch}t.compare=$e;function $e(h,b,E){return new U(h,E).compare(new U(b,E))}t.compareLoose=es;function es(h,b){return $e(h,b,!0)}t.rcompare=ts;function ts(h,b,E){return $e(b,h,E)}t.sort=rs;function rs(h,b){return h.sort(function(E,A){return t.compare(E,A,b)})}t.rsort=ns;function ns(h,b){return h.sort(function(E,A){return t.rcompare(E,A,b)})}t.gt=mt;function mt(h,b,E){return $e(h,b,E)>0}t.lt=zt;function zt(h,b,E){return $e(h,b,E)<0}t.eq=jr;function jr(h,b,E){return $e(h,b,E)===0}t.neq=Xn;function Xn(h,b,E){return $e(h,b,E)!==0}t.gte=kr;function kr(h,b,E){return $e(h,b,E)>=0}t.lte=Rr;function Rr(h,b,E){return $e(h,b,E)<=0}t.cmp=qt;function qt(h,b,E,A){switch(b){case"===":return typeof h=="object"&&(h=h.version),typeof E=="object"&&(E=E.version),h===E;case"!==":return typeof h=="object"&&(h=h.version),typeof E=="object"&&(E=E.version),h!==E;case"":case"=":case"==":return jr(h,E,A);case"!=":return Xn(h,E,A);case">":return mt(h,E,A);case">=":return kr(h,E,A);case"<":return zt(h,E,A);case"<=":return Rr(h,E,A);default:throw new TypeError("Invalid operator: "+b)}}t.Comparator=be;function be(h,b){if((!b||typeof b!="object")&&(b={loose:!!b,includePrerelease:!1}),h instanceof be){if(h.loose===!!b.loose)return h;h=h.value}if(!(this instanceof be))return new be(h,b);h=h.trim().split(/\s+/).join(" "),r("comparator",h,b),this.options=b,this.loose=!!b.loose,this.parse(h),this.semver===_t?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}var _t={};be.prototype.parse=function(h){var b=this.options.loose?c[Ir]:c[Tr],E=h.match(b);if(!E)throw new TypeError("Invalid comparator: "+h);this.operator=E[1],this.operator==="="&&(this.operator=""),E[2]?this.semver=new U(E[2],this.options.loose):this.semver=_t},be.prototype.toString=function(){return this.value},be.prototype.test=function(h){return r("Comparator.test",h,this.options.loose),this.semver===_t?!0:(typeof h=="string"&&(h=new U(h,this.options)),qt(h,this.operator,this.semver,this.options))},be.prototype.intersects=function(h,b){if(!(h instanceof be))throw new TypeError("a Comparator is required");(!b||typeof b!="object")&&(b={loose:!!b,includePrerelease:!1});var E;if(this.operator==="")return E=new Q(h.value,b),Yt(this.value,E,b);if(h.operator==="")return E=new Q(this.value,b),Yt(h.semver,E,b);var A=(this.operator===">="||this.operator===">")&&(h.operator===">="||h.operator===">"),I=(this.operator==="<="||this.operator==="<")&&(h.operator==="<="||h.operator==="<"),j=this.semver.version===h.semver.version,R=(this.operator===">="||this.operator==="<=")&&(h.operator===">="||h.operator==="<="),B=qt(this.semver,"<",h.semver,b)&&(this.operator===">="||this.operator===">")&&(h.operator==="<="||h.operator==="<"),W=qt(this.semver,">",h.semver,b)&&(this.operator==="<="||this.operator==="<")&&(h.operator===">="||h.operator===">");return A||I||j&&R||B||W},t.Range=Q;function Q(h,b){if((!b||typeof b!="object")&&(b={loose:!!b,includePrerelease:!1}),h instanceof Q)return h.loose===!!b.loose&&h.includePrerelease===!!b.includePrerelease?h:new Q(h.raw,b);if(h instanceof be)return new Q(h.value,b);if(!(this instanceof Q))return new Q(h,b);if(this.options=b,this.loose=!!b.loose,this.includePrerelease=!!b.includePrerelease,this.raw=h.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(function(E){return this.parseRange(E.trim())},this).filter(function(E){return E.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+this.raw);this.format()}Q.prototype.format=function(){return this.range=this.set.map(function(h){return h.join(" ").trim()}).join("||").trim(),this.range},Q.prototype.toString=function(){return this.range},Q.prototype.parseRange=function(h){var b=this.options.loose,E=b?c[zn]:c[Hn];h=h.replace(E,hs),r("hyphen replace",h),h=h.replace(c[Ye],Va),r("comparator trim",h,c[Ye]),h=h.replace(c[rt],Ka),h=h.replace(c[nt],Ba);var A=b?c[Ir]:c[Tr],I=h.split(" ").map(function(j){return os(j,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(I=I.filter(function(j){return!!j.match(A)})),I=I.map(function(j){return new be(j,this.options)},this),I},Q.prototype.intersects=function(h,b){if(!(h instanceof Q))throw new TypeError("a Range is required");return this.set.some(function(E){return E.every(function(A){return h.set.some(function(I){return I.every(function(j){return A.intersects(j,b)})})})})},t.toComparators=is;function is(h,b){return new Q(h,b).set.map(function(E){return E.map(function(A){return A.value}).join(" ").trim().split(" ")})}function os(h,b){return r("comp",h,b),h=us(h,b),r("caret",h),h=as(h,b),r("tildes",h),h=ls(h,b),r("xrange",h),h=ds(h,b),r("stars",h),h}function fe(h){return!h||h.toLowerCase()==="x"||h==="*"}function as(h,b){return h.trim().split(/\s+/).map(function(E){return ss(E,b)}).join(" ")}function ss(h,b){var E=b.loose?c[Kn]:c[Wn];return h.replace(E,function(A,I,j,R,B){r("tilde",h,A,I,j,R,B);var W;return fe(I)?W="":fe(j)?W=">="+I+".0.0 <"+(+I+1)+".0.0":fe(R)?W=">="+I+"."+j+".0 <"+I+"."+(+j+1)+".0":B?(r("replaceTilde pr",B),W=">="+I+"."+j+"."+R+"-"+B+" <"+I+"."+(+j+1)+".0"):W=">="+I+"."+j+"."+R+" <"+I+"."+(+j+1)+".0",r("tilde return",W),W})}function us(h,b){return h.trim().split(/\s+/).map(function(E){return cs(E,b)}).join(" ")}function cs(h,b){r("caret",h,b);var E=b.loose?c[Vn]:c[Bn];return h.replace(E,function(A,I,j,R,B){r("caret",h,A,I,j,R,B);var W;return fe(I)?W="":fe(j)?W=">="+I+".0.0 <"+(+I+1)+".0.0":fe(R)?I==="0"?W=">="+I+"."+j+".0 <"+I+"."+(+j+1)+".0":W=">="+I+"."+j+".0 <"+(+I+1)+".0.0":B?(r("replaceCaret pr",B),I==="0"?j==="0"?W=">="+I+"."+j+"."+R+"-"+B+" <"+I+"."+j+"."+(+R+1):W=">="+I+"."+j+"."+R+"-"+B+" <"+I+"."+(+j+1)+".0":W=">="+I+"."+j+"."+R+"-"+B+" <"+(+I+1)+".0.0"):(r("no pr"),I==="0"?j==="0"?W=">="+I+"."+j+"."+R+" <"+I+"."+j+"."+(+R+1):W=">="+I+"."+j+"."+R+" <"+I+"."+(+j+1)+".0":W=">="+I+"."+j+"."+R+" <"+(+I+1)+".0.0"),r("caret return",W),W})}function ls(h,b){return r("replaceXRanges",h,b),h.split(/\s+/).map(function(E){return fs(E,b)}).join(" ")}function fs(h,b){h=h.trim();var E=b.loose?c[Gn]:c[Bt];return h.replace(E,function(A,I,j,R,B,W){r("xRange",h,A,I,j,R,B,W);var Oe=fe(j),we=Oe||fe(R),ye=we||fe(B),pe=ye;return I==="="&&pe&&(I=""),Oe?I===">"||I==="<"?A="<0.0.0":A="*":I&&pe?(we&&(R=0),B=0,I===">"?(I=">=",we?(j=+j+1,R=0,B=0):(R=+R+1,B=0)):I==="<="&&(I="<",we?j=+j+1:R=+R+1),A=I+j+"."+R+"."+B):we?A=">="+j+".0.0 <"+(+j+1)+".0.0":ye&&(A=">="+j+"."+R+".0 <"+j+"."+(+R+1)+".0"),r("xRange return",A),A})}function ds(h,b){return r("replaceStars",h,b),h.trim().replace(c[qn],"")}function hs(h,b,E,A,I,j,R,B,W,Oe,we,ye,pe){return fe(E)?b="":fe(A)?b=">="+E+".0.0":fe(I)?b=">="+E+"."+A+".0":b=">="+b,fe(W)?B="":fe(Oe)?B="<"+(+W+1)+".0.0":fe(we)?B="<"+W+"."+(+Oe+1)+".0":ye?B="<="+W+"."+Oe+"."+we+"-"+ye:B="<="+B,(b+" "+B).trim()}Q.prototype.test=function(h){if(!h)return!1;typeof h=="string"&&(h=new U(h,this.options));for(var b=0;b<this.set.length;b++)if(ps(this.set[b],h,this.options))return!0;return!1};function ps(h,b,E){for(var A=0;A<h.length;A++)if(!h[A].test(b))return!1;if(b.prerelease.length&&!E.includePrerelease){for(A=0;A<h.length;A++)if(r(h[A].semver),h[A].semver!==_t&&h[A].semver.prerelease.length>0){var I=h[A].semver;if(I.major===b.major&&I.minor===b.minor&&I.patch===b.patch)return!0}return!1}return!0}t.satisfies=Yt;function Yt(h,b,E){try{b=new Q(b,E)}catch{return!1}return b.test(h)}t.maxSatisfying=vs;function vs(h,b,E){var A=null,I=null;try{var j=new Q(b,E)}catch{return null}return h.forEach(function(R){j.test(R)&&(!A||I.compare(R)===-1)&&(A=R,I=new U(A,E))}),A}t.minSatisfying=ms;function ms(h,b,E){var A=null,I=null;try{var j=new Q(b,E)}catch{return null}return h.forEach(function(R){j.test(R)&&(!A||I.compare(R)===1)&&(A=R,I=new U(A,E))}),A}t.minVersion=_s;function _s(h,b){h=new Q(h,b);var E=new U("0.0.0");if(h.test(E)||(E=new U("0.0.0-0"),h.test(E)))return E;E=null;for(var A=0;A<h.set.length;++A){var I=h.set[A];I.forEach(function(j){var R=new U(j.semver.version);switch(j.operator){case">":R.prerelease.length===0?R.patch++:R.prerelease.push(0),R.raw=R.format();case"":case">=":(!E||mt(E,R))&&(E=R);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+j.operator)}})}return E&&h.test(E)?E:null}t.validRange=bs;function bs(h,b){try{return new Q(h,b).range||"*"}catch{return null}}t.ltr=ys;function ys(h,b,E){return Mr(h,b,"<",E)}t.gtr=gs;function gs(h,b,E){return Mr(h,b,">",E)}t.outside=Mr;function Mr(h,b,E,A){h=new U(h,A),b=new Q(b,A);var I,j,R,B,W;switch(E){case">":I=mt,j=Rr,R=zt,B=">",W=">=";break;case"<":I=zt,j=kr,R=mt,B="<",W="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Yt(h,b,A))return!1;for(var Oe=0;Oe<b.set.length;++Oe){var we=b.set[Oe],ye=null,pe=null;if(we.forEach(function(De){De.semver===_t&&(De=new be(">=0.0.0")),ye=ye||De,pe=pe||De,I(De.semver,ye.semver,A)?ye=De:R(De.semver,pe.semver,A)&&(pe=De)}),ye.operator===B||ye.operator===W||(!pe.operator||pe.operator===B)&&j(h,pe.semver))return!1;if(pe.operator===W&&R(h,pe.semver))return!1}return!0}t.prerelease=Ss;function Ss(h,b){var E=Xe(h,b);return E&&E.prerelease.length?E.prerelease:null}t.intersects=Es;function Es(h,b,E){return h=new Q(h,E),b=new Q(b,E),h.intersects(b)}t.coerce=Os;function Os(h){if(h instanceof U)return h;if(typeof h!="string")return null;var b=h.match(c[Un]);return b==null?null:Xe(b[1]+"."+(b[2]||"0")+"."+(b[3]||"0"))}})(yu,yu.exports);var fc=yu.exports;const Ti=f.getDefaultExportFromCjs(fc),G0=parseInt(process.env.ELECTRON_IS_DEV,10)===1,U0="ELECTRON_IS_DEV"in process.env;var W0=U0?G0:process.defaultApp||/node_modules[\\/]electron[\\/]/.test(process.execPath);const nh=fc,Fs=nh.gt,Ls=nh.lt,ji=Ke.release,ih=W0;function oe(){}oe.prototype.renderer=function(){return process.type==="renderer"};oe.prototype.main=function(){return process.type==="browser"};oe.prototype.osx=oe.prototype.macOS=function(){return process.platform==="darwin"};oe.prototype.windows=function(){return process.platform==="win32"};oe.prototype.linux=function(){return process.platform==="linux"};oe.prototype.x86=function(){return process.arch==="ia32"};oe.prototype.x64=function(){return process.arch==="x64"};oe.prototype.production=function(){return!ih};oe.prototype.dev=function(){return ih};oe.prototype.sandbox=function(){return"APP_SANDBOX_CONTAINER_ID"in process.env};oe.prototype.mas=function(){return process.mas===!0};oe.prototype.windowsStore=function(){return process.windowsStore===!0};oe.prototype.all=function(){const e=new Array(arguments.length);for(var t=0;t<e.length;t++)e[t]=arguments[t];if(e.length){for(t=0;t<e.length;t++)if(!e[t]())return!1;return!0}};oe.prototype.none=function(){const e=new Array(arguments.length);for(var t=0;t<e.length;t++)e[t]=arguments[t];if(e.length){for(t=0;t<e.length;t++)if(e[t]())return!1;return!0}};oe.prototype.one=function(){const e=new Array(arguments.length);for(var t=0;t<e.length;t++)e[t]=arguments[t];if(e.length){for(t=0;t<e.length;t++)if(e[t]())return!0;return!1}};oe.prototype.release=function(e){if(this.osx())return e===dc();if(this.windows()){e=e.split(".");const t=ji().split(".");return e.length===2?`${t[0]}.${t[1]}`==`${e[0]}.${e[1]}`:`${t[0]}.${t[1]}.${t[2]}`==`${e[0]}.${e[1]}.${e[2]}`}else return null};oe.prototype.gtRelease=function(e){if(this.osx())return Fs(e,dc());if(this.windows()){e=e.split(".");const t=ji().split(".");return e.length===2?Fs(`${e[0]}.${e[1]}.0`,`${t[0]}.${t[1]}.0`):Fs(`${e[0]}.${e[1]}.${e[2]}`,`${t[0]}.${t[1]}.${t[2]}`)}else return null};oe.prototype.ltRelease=function(e){if(this.osx())return Ls(e,dc());if(this.windows()){e=e.split(".");const t=ji().split(".");return e.length===2?Ls(`${e[0]}.${e[1]}.0`,`${t[0]}.${t[1]}.0`):Ls(`${e[0]}.${e[1]}.${e[2]}`,`${t[0]}.${t[1]}.${t[2]}`)}else return null};function dc(){const e=ji().split(".");return`10.${e[0]-4}.${e[1]}`}var K0=new oe;const Ie=f.getDefaultExportFromCjs(K0),B0=process.env.hasOwnProperty("PROCESSOR_ARCHITEW6432"),V0=`${process.env.windir}\\${B0?"Sysnative":"System32"}`,H0=`${V0}\\WindowsPowerShell\\v1.0\\powershell.exe`,z0=Ie.windows()?H0:process.env.SHELL||"";var oh=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),q0=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},_i=globalThis&&globalThis.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},Y0=Object.defineProperty,X0=Object.defineProperties,Q0=Object.getOwnPropertyDescriptors,_l=Object.getOwnPropertySymbols,J0=Object.prototype.hasOwnProperty,Z0=Object.prototype.propertyIsEnumerable,bl=function(e,t,r){return t in e?Y0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},Wr=function(e,t){for(var r in t||(t={}))J0.call(t,r)&&bl(e,r,t[r]);if(_l)for(var n=0,i=_l(t);n<i.length;n++){var r=i[n];Z0.call(t,r)&&bl(e,r,t[r])}return e},xs=function(e,t){return X0(e,Q0(t))},e1=function(e,t,r){return new Promise(function(n,i){var o=function(c){try{s(r.next(c))}catch(u){i(u)}},a=function(c){try{s(r.throw(c))}catch(u){i(u)}},s=function(c){return c.done?n(c.value):Promise.resolve(c.value).then(o,a)};s((r=r.apply(e,t)).next())})};(function(e){oh(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,_i([void 0],r[0].concat(this)))):new(t.bind.apply(t,_i([void 0],r.concat(this))))},t})(Array);(function(e){oh(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,_i([void 0],r[0].concat(this)))):new(t.bind.apply(t,_i([void 0],r.concat(this))))},t})(Array);function y(e,t){function r(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(t){var o=t.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return Wr(Wr({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:n[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(n){return n.type===e},r}var t1="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",r1=function(e){e===void 0&&(e=21);for(var t="",r=e;r--;)t+=t1[Math.random()*64|0];return t},n1=["name","message","stack","code"],Gs=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),yl=function(){function e(t,r){this.payload=t,this.meta=r}return e}(),i1=function(e){if(typeof e=="object"&&e!==null){for(var t={},r=0,n=n1;r<n.length;r++){var i=n[r];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}};(function(){function e(t,r,n){var i=y(t+"/fulfilled",function(u,l,d,p){return{payload:u,meta:xs(Wr({},p||{}),{arg:d,requestId:l,requestStatus:"fulfilled"})}}),o=y(t+"/pending",function(u,l,d){return{payload:void 0,meta:xs(Wr({},d||{}),{arg:l,requestId:u,requestStatus:"pending"})}}),a=y(t+"/rejected",function(u,l,d,p,_){return{payload:p,error:(n&&n.serializeError||i1)(u||"Rejected"),meta:xs(Wr({},_||{}),{arg:d,requestId:l,rejectedWithValue:!!p,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),s=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function c(u){return function(l,d,p){var _=n!=null&&n.idGenerator?n.idGenerator(u):r1(),g=new s,m;function S(O){m=O,g.abort()}var w=function(){return e1(this,null,function(){var O,P,$,C,M,F,x;return q0(this,function(V){switch(V.label){case 0:return V.trys.push([0,4,,5]),C=(O=n==null?void 0:n.condition)==null?void 0:O.call(n,u,{getState:d,extra:p}),a1(C)?[4,C]:[3,2];case 1:C=V.sent(),V.label=2;case 2:if(C===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return M=new Promise(function(Y,D){return g.signal.addEventListener("abort",function(){return D({name:"AbortError",message:m||"Aborted"})})}),l(o(_,u,(P=n==null?void 0:n.getPendingMeta)==null?void 0:P.call(n,{requestId:_,arg:u},{getState:d,extra:p}))),[4,Promise.race([M,Promise.resolve(r(u,{dispatch:l,getState:d,extra:p,requestId:_,signal:g.signal,abort:S,rejectWithValue:function(Y,D){return new Gs(Y,D)},fulfillWithValue:function(Y,D){return new yl(Y,D)}})).then(function(Y){if(Y instanceof Gs)throw Y;return Y instanceof yl?i(Y.payload,_,u,Y.meta):i(Y,_,u)})])];case 3:return $=V.sent(),[3,5];case 4:return F=V.sent(),$=F instanceof Gs?a(null,_,u,F.payload,F.meta):a(F,_,u),[3,5];case 5:return x=n&&!n.dispatchConditionRejection&&a.match($)&&$.meta.condition,x||l($),[2,$]}})})}();return Object.assign(w,{abort:S,requestId:_,arg:u,unwrap:function(){return w.then(o1)}})}}return Object.assign(c,{pending:o,rejected:a,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e})();function o1(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function a1(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var hc="listenerMiddleware";y(hc+"/add");y(hc+"/removeAll");y(hc+"/remove");var gl;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);a_();function s1(e,t){return y(e,r=>({payload:r,meta:{requestId:f.uuidv4(),...t}}))}function Sl(e,t){return y(e,(r,n)=>({payload:r,meta:{requestId:n,...t}}))}function u1(e){return{request:s1(`${e}_REQUEST`),success:Sl(`${e}_SUCCESS`),failure:Sl(`${e}_FAILURE`),toString(){return this.request.toString()}}}y("TRIAL_STARTED");y("TRIAL_DISMISSED");y("WELCOME_SCREEN_OPENED");y("NEW_HOST_BUTTON_PRESSED");y("NEW_HOST_CREATED");y("HOST_DELETED");y("NEW_IDENTITY_BUTTON_PRESSED");y("NEW_IDENTITY_SET_UP");y("NEW_SNIPPET_BUTTON_PRESSED");y("NEW_SNIPPET_CREATED");y("SNIPPET_EDITED");y("SNIPPET_DELETED");y("SNIPPET_EXECUTED");y("MAGIC_BUTTON_PRESSED");y("REWRITE_AI_REQUEST_PRESSED");y("APP_OPENED");y("FEATURE_DESCRIPTION_SCREEN_OPENED");y("NEW_PORT_FORWARDING_RULE_BUTTON_PRESSED");y("NEW_PORT_FORWARDING_RULE_CREATED");y("IMPORT_STARTED");y("IMPORT_BUTTON_PRESSED");y("IMPORT_FAILED");y("IMPORT_COMPLETED");y("TEAM_PRIVATE_KEY_GENERATED");y("PERSONAL_KEY_SET_GENERATED");y("PASSWORD_CHECKED_WITH_HIBP");y("SET_TEAM_ID");y("CRITICAL_ERROR_RESOLUTION_STARTED");y("TERMINAL_SEARCH_EXECUTED");y("NEW_GROUP_CREATED");y("GROUP_DELETED");y("NEW_GROUP_BUTTON_PRESSED");y("MULTIPLE_CONNECTIONS_INITIATED");const c1=y("CONNECTION_INITIATED"),l1=y("CONNECTION_DETAILS_REQUESTED"),f1=y("CONNECTION_ESTABLISHED"),d1=y("CONNECTION_CLOSED"),h1=y("CONNECTION_FAILED");y("EXEC_CHANNEL_OPEN_FAILED");y("APP_STARTED");y("SHARED_BUTTON_PRESSED");y("NEW_MAIN_WINDOW_OPENED");y("PROMOTION_SHOWN");y("PROMOTION_PRESSED");y("PROMOTION_DISMISSED");y("ENCRYPTION_MIGRATION_WIZARD_VIEW_OPENED");y("HELP_BUTTON_PRESSED");y("DEEP_LINK_HANDLED");y("NOTIFICATION_RECEIVED");y("NOTIFICATION_SNOOZED");y("CONFIRM_ACCESS_BUTTON_PRESSED");y("CUSTOMER_EXPERIENCE_SURVEY_SHOWN");y("HINT_CLOSED");y("SNIPPETS_PANEL_OPENED");y("ACCOUNT_SET_UP_COMPLETED_SCREEN_OPENED");y("SET_YOUR_DEFAULT_CREDENTIALS_SCREEN_OPENED");y("NEW_IDENTITY_CREATED");y("TEAM_SIDE_ONBOARDING_PRESSED");y("TEAM_SIDE_ONBOARDING_SHOWN");y("TEAM_SIDE_ONBOARDING_CLOSED");y("MULTIPLE_ITEMS_SELECTED");y("EDIT_ENTITY_SCREEN_OPENED");y("AUTHORIZED_KEYS_DOWNLOADED");y("CREATE_MULTIKEY_EXPORT_SCRIPT_BUTTON_PRESSED");y("MULTIKEY_UPDATED");y("SSH_KEY_FOR_MULTIKEY_GENERATED");y("MULTIKEY_CHOSEN");y("ENTITIES_DRAG_AND_DROP_STARTED");y("ENTITIES_DRAG_AND_DROP_COMPLETED");y("MFA_INSTALL_AUTHY_SCREEN_OPENED");y("MFA_CONFIGURE_SCREEN_OPENED");y("MFA_PHONE_NUMBER_SCREEN_OPENED");y("MFA_TOKEN_SCREEN_OPENED");y("MFA_CONFIRM_PASSWORD_SCREEN_OPENED");y("MFA_CHOOSE_PROVIDER_SCREEN_OPENED");y("MFA_COPY_CODE_SCREEN_OPENED");y("MFA_CODE_COPIED");y("MFA_PROVIDER_CHOSEN");y("WHO_IS_TERMIUS_SCREEN_OPENED");y("PRESENCE_ICON_PRESSED");y("ENCRYPTION_PASSWORD_INFO_SCREEN_OPENED");y("SEND_CHOOSE_PLAN_SCREEN_OPENED");y("TEAM_TRIAL_EXTENDED_SCREEN_OPENED");y("CONTEXT_MENU_OPENED");y("SFTP_FILE_OPENED");y("SFTP_UPLOAD_FILE_BUTTON_PRESSED");y("SFTP_DISCARD_FILE_BUTTON_PRESSED");y("SFTP_MODIFIED_FILES_BAR_SHOWN");y("SFTP_FILE_TYPE_ASSOCIATED");y("CREATE_ACCOUNT_SCREEN_OPENED");y("NEW_KEY_BUTTON_PRESSED");y("NEW_KEY_OPTION_SELECTED");y("NEW_CERTIFICATE_BUTTON_PRESSED");y("KEYCHAIN_ITEM_CREATED");y("KEYCHAIN_ITEM_DELETED");u1("RESTART_BUTTON_PRESSED");y("CHANGELOG_BUTTON_PRESSED");y("CREDENTIALS_SHARING_OPTION_CHOSEN");y("CREDENTIALS_SHARING_SCREEN_OPENED");y("LEARN_MORE_ABOUT_MULTIKEY_BUTTON_PRESSED");y("TAB_CONTEXT_MENU_OPENED");y("NEW_HARDWARE_KEY_CREATED");y("AUTOCOMPLETE");y("SERIAL_CONNECTION_SCREEN_OPENED");y("SERIAL_CONNECTION_PROMO_SCREEN_OPENED");y("COPY_INVITATION_LINK_BUTTON_PRESSED");y("CLOUD_CREDENTIALS_CHECKED");y("CLOUD_SYNC_ACTIVATED");y("SYNC_NOW_BUTTON_PRESSED");y("CLOUD_SYNC_COMPLETED");y("CLOUD_SYNC_FAILED");y("TERMINAL_THEME_CHANGED");y("APPEARANCE_PANEL_OPENED");y("SAVE_APPEARANCE_BUTTON_PRESSED");y("TERMINAL_FONT_CHANGED");y("BROADCAST_INPUT_TOGGLED");y("SUGGEST_TERMINAL_THEME_BUTTON_PRESSED");y("AUTOCOMPLETE_SETTING_CHANGED");y("ENTITY_SELECTED");y("EXPORT_KEY_BUTTON_PRESSED");y("EDIT_HOST_CHAIN_SCREEN_OPENED");y("BUY_NOW_BUTTON_PRESSED");y("TEAM_TRIAL_EXTENSION_OFFER_SCREEN_OPENED");y("DOWNLOAD_TEMPLATE_BUTTON_PRESSED");y("GROUP_SETTINGS_OPENED");y("PORT_FORWARDING_FORM_TYPE_CHANGED");y("CREATE_PORT_FORWARDING_WIZARD_VIEW_OPENED");y("ENTERPRISE_SSO_BUTTON_PRESSED");y("USER_LOGIN_FAILED");y("LOGIN_SCREEN_OPENED");y("FIDO2_KEYGEN_OPTIONS_SUBMITTED");y("FIDO2_PIN_CODE_REQUESTED");y("FIDO2_SSH_KEYS_SELECTED");y("FIDO2_KEY_GENERATION_CONFIRMED");y("FIDO2_DEVICE_SELECTED");y("COPY_HOST_DETAILS_LINK_BUTTON_PRESSED");y("DUPLICATE_BUTTON_PRESSED");y("SSH_KEY_DRAGGED_AND_DROPPED");y("SETUP_CLOUD_SYNC_BUTTON_PRESSED");y("CRYPTO_ERROR_OCCURRED");y("ENABLE_SHARING_DIALOG_SHOWN"),y("ENABLE_SHARING_DIALOG_SUBMITTED"),y("ENABLE_SHARING_DIALOG_POSTPONED"),y("ENABLE_SHARING_DIALOG_CAUGHT_ERROR"),y("ENABLE_SHARING_DIALOG_SUCCEEDED");y("UPGRADE_TO_PRO_FUNNEL_STARTED");y("PRO_PLAN_SCREEN_OPENED");y("SELECT_ENTITY_SCREEN_OPENED");y("IDENTITY_SETTINGS_SCREEN_OPENED");y("KEYWORD_HIGHLIGHTING_SETTING_CHANGED");y("KEYWORD_HIGHLIGHTING_CUSTOMIZATION_BUTTON_PRESSED");y("KEYWORD_HIGHLIGHTING_COLOR_ITEM_PRESSED");y("ADVANCED_SETTINGS_BUTTON_PRESSED");y("SAVE_HISTORY_COMMAND_BUTTON_PRESSED");y("PRODUCTIVITY_PANEL_OPENED");y("COMMANDS_HISTORY_PANEL_OPENED");y("TRIAL_ONBOARDING_STARTED");y("TRIAL_ONBOARDING_BUTTON_PRESSED");y("COPY_DOWNLOAD_LINK_BUTTON_PRESSED");y("TRIAL_ONBOARDING_STEP_COMPLETED");y("TRIAL_ONBOARDING_MINIMIZED");y("TOOLBAR_CHEVRON_BUTTON_PRESSED");y("SUBSCRIPTION_GRACE_PERIOD_NOTIFICATION_SHOWN");y("SUBSCRIPTION_GRACE_PERIOD_NOTIFICATION_SNOOZED");y("BULK_DATA_SHARING_SCREEN_OPENED");y("BULK_SHARING_COMPLETED");y("SUBSCRIPTION_EXPIRED_SCREEN_OPENED");y("CHANGING_VAULT_COMPLETED");y("UPGRADE_BUTTON_PRESSED");y("SESSION_AUTH_METHOD_CHANGED");y("MOVE_ENTITY_BUTTON_PRESSED");y("DOWNGRADED_TO_STARTER_PLAN");y("SET_PASSWORD_SCREEN_OPENED");y("ENTER_PASSWORD_SCREEN_OPENED");y("ENTER_EMAIL_SCREEN_OPENED");y("FORGOT_PASSWORD_BUTTON_PRESSED");y("BOOST_SHELL_PERFORMANCE_INITIATED");y("BOOST_SHELL_PERFORMANCE_SUCCEEDED");y("BOOST_SHELL_PERFORMANCE_FAILED");y("LOGOUT_WARNING_SCREEN_OPENED");y("LOGOUT_BIOMETRIC_KEYS_WARNING_SCREEN_OPENED");y("ACTIVATION_BANNER_SHOWN");y("ACTIVATION_BANNER_CLOSED");y("ENTITY_AUTOCOMPLETE_FIELD_FOCUSED");y("ENTITY_AUTOCOMPLETE_ITEM_PRESSED");y("SHOW_CONFIG_DETAILS_BUTTON_PRESSED");y("NEW_PROTOCOL_ADDED");y("ENTITY_AUTOCOMPLETE_SHOWN");y("NEW_TAG_CREATED");y("WINDOWS_HELLO_AVAILABILITY_DETECTED");y("COMMAND_PALETTE_OPENED");y("COMMAND_PALETTE_STATE_CHANGED");y("COMMAND_PALETTE_ITEM_SELECTED");const bi=(...e)=>localStorage.getItem(...e),ee=(...e)=>JSON.parse(bi(...e)||"null"),gu=(...e)=>localStorage.setItem(...e),se=(e,t)=>gu(e,JSON.stringify(t)),Fe=(...e)=>localStorage.removeItem(...e),p1=e=>{const t=bi(e);return Fe(e),t},Us=e=>{const t=ee(e);return Fe(e),t};function El(e,t=22){return t==null||t===22?`${e}`:`[${e}]:${t}`}const yi={takeColorScheme:()=>Us("settings"),takeFontSize:()=>Us("settings_font_size"),takeFontFamily:()=>p1("settings_font_family"),setAllKnownHosts:e=>se("hosts_keys",e),getAllKnownHosts:()=>ee("hosts_keys"),clearKnownHosts:()=>Fe("hosts_keys"),userJustSawSuggestionToTryPremium:()=>se("the_date_user_saw_suggestion_to_try_premium",new Date),didUserSeeSuggestionToTryPremium:()=>ee("the_date_user_saw_suggestion_to_try_premium")!=null?!0:ee("free_plan_started")===!0?(se("the_date_user_saw_suggestion_to_try_premium",new Date(0)),Fe("free_plan_started"),!0):!1,setDeprecatedWelcomeScreenOpenedEventSend:()=>se("welcome_screen_open_event_send",!0),isDeprecatedWelcomeScreenOpenedEventSend:()=>!!bi("welcome_screen_open_event_send"),setDeprecatedLocalhost:e=>se("localhost",e),getDeprecatedLocalhost:()=>ee("localhost"),removeDeprecatedLocalhost:()=>Fe("localhost"),getDeprecatedHostHashForUser(e,t){const r=this.getAllKnownHosts();return r==null?null:r[El(e,t)]},removeDeprecatedHostHashItem(e){const t=this.getAllKnownHosts();delete t[e],this.setAllKnownHosts(t)},removeDeprecatedHostHashForUser(e,t){return this.removeDeprecatedHostHashItem(El(e,t))},getKeepAliveInterval:()=>bi("keep_alive_interval"),setKeepAliveInterval:e=>gu("keep_alive_interval",e),removeKeepAliveInterval:()=>Fe("keep_alive_interval"),wasDeprecatedCopyPasteDialogShown:()=>!!ee("copy_paste_dialog_was_shown"),setDeprecatedCopyPasteDialogWasShown:()=>se("copy_paste_dialog_was_shown",!0),takeDarkMode:()=>Us("dark_mode"),getDeprecatedLastSyncVersion:()=>ee("last_sync_version"),setDeprecatedLastSyncVersion:e=>se("last_sync_version",e),setDeprecatedEncryptionSchema:e=>gu("encryptionSchema",e),getLocalKey:()=>ee("localKey"),setLocalKey:e=>se("localKey",e),getLocalKeyIsReady:()=>!!ee("local_key_is_ready"),setLocalKeyIsReady:()=>se("local_key_is_ready",!0),removeLocalKeyIsReady:()=>Fe("local_key_is_ready"),getLocalKeyVault:()=>ee("local_key_vault"),setLocalKeyVault:e=>se("local_key_vault",e),removeLocalKeyVault:()=>Fe("local_key_vault"),getCredential:e=>ee(e),setCredential:(e,t)=>se(e,t),removeCredential:e=>Fe(e),getMigrationLog:()=>ee("migrationLog"),setMigrationLog:e=>se("migrationLog",e),getDeprecatedEnableSharingDialogWasShown:()=>!!ee("enable_sharing_dialog_was_shown"),setDeprecatedEnableSharingDialogWasShown:()=>se("enable_sharing_dialog_was_shown",!0),wasDeprecatedNewWindowHintShown:()=>!!ee("new_window_hint_was_shown"),newDeprecatedWindowHintWasShown:()=>se("new_window_hint_was_shown",!0),wasDeprecatedSidePanelShortcutHintShown:()=>!!ee("snippets_panel_shortcut_hint_was_shown"),getDeprecatedBellDotType:()=>ee("bell_dot_type"),setDeprecatedBellDotType:e=>se("bell_dot_type",e),getDeprecatedCustomBackendApiUrl:()=>ee("custom_backend_api_url"),setDeprecatedCustomBackendApiUrl:e=>se("custom_backend_api_url",e),resetDeprecatedCustomBackendApiUrl:()=>Fe("custom_backend_api_url"),getDeprecatedWasTeamTrialInPreferencesOpened:()=>ee("was_team_trial_in_preferences_opened"),setDeprecatedWasTeamTrialInPreferencesOpened:()=>se("was_team_trial_in_preferences_opened",!0),getDeprecatedForceToShowTeamTrialPromotions:()=>ee("force_show_team_trial_promotions"),didDeprecatedUserSentAcquisitionChannel:()=>ee("user_init_connection"),setDeprecatedUserSentAcquisitionChannel:()=>se("user_init_connection",!0),getDeprecatedDeviceHasSepSupport:()=>ee("device_has_sep_support"),setDeprecatedDeviceHasSepSupport:e=>se("device_has_sep_support",e)},Ol=1e3;class v1{constructor({dispatch:t,type:r,host:n,userType:i,teamStatus:o,wizardID:a,theme:s,terminalTheme:c,customVaultID:u},l){v(this,"dispatch");v(this,"properties");v(this,"customVaultID");v(this,"lastConnectionOrigin");v(this,"_connected");v(this,"teamStatus");v(this,"_next_safe_sent_event_date");v(this,"setConnectionInstance",t=>{this.connectionInstance=t,this.properties.connectionID=t.id});v(this,"sendEventWithSafeDelayBetweenEventsToAvoidCollision",t=>{const r=this._next_safe_sent_event_date-Date.now();if(r<=0){t(),this._next_safe_sent_event_date=new Date(Date.now()+Ol);return}setTimeout(()=>{t()},r),this._next_safe_sent_event_date=new Date(this._next_safe_sent_event_date.getTime()+Ol)});v(this,"_connectionInitiated",t=>{this._connected=!1;const r=yi.didDeprecatedUserSentAcquisitionChannel()||t==null?void 0:t.acquisitionChannel;yi.setDeprecatedUserSentAcquisitionChannel(),this.lastConnectionOrigin=t==null?void 0:t.connectionOrigin,this.dispatch(c1({...this.properties,...t,...Ns(this.connectionInstance),acquisitionChannel:r,cloudIntegration:Jn(this.properties.host),connectionOrigin:this.lastConnectionOrigin,wizardID:this.properties.wizardID,vaultID:this.customVaultID}))});v(this,"connectionInitiated",t=>this.sendEventWithSafeDelayBetweenEventsToAvoidCollision(()=>this._connectionInitiated(t)));v(this,"_connectionDetailsRequested",t=>{this.dispatch(l1({requestedConnectionProperty:t.property,connectionID:this.properties.connectionID,cloudIntegration:Jn(this.properties.host),sessionAuthMethod:t.authMethod,connectionOrigin:this.lastConnectionOrigin,wizardID:this.properties.wizardID}))});v(this,"connectionDetailsRequested",t=>{this.sendEventWithSafeDelayBetweenEventsToAvoidCollision(()=>this._connectionDetailsRequested(t))});v(this,"_connectionFailed",t=>{this._connected||(this._connected=!0,this.dispatch(h1({...this.properties,...t,...Ns(this.connectionInstance),cloudIntegration:Jn(this.properties.host),connectionOrigin:this.lastConnectionOrigin,wizardID:this.properties.wizardID,vaultID:this.customVaultID})))});v(this,"connectionFailed",t=>this.sendEventWithSafeDelayBetweenEventsToAvoidCollision(()=>this._connectionFailed(t)));v(this,"_connectionEstablished",t=>{this._connected=!0,this.dispatch(f1({...this.properties,...t,...Ns(this.connectionInstance),cloudIntegration:Jn(this.properties.host),connectionOrigin:this.lastConnectionOrigin,wizardID:this.properties.wizardID,vaultID:this.customVaultID}))});v(this,"connectionEstablished",t=>this.sendEventWithSafeDelayBetweenEventsToAvoidCollision(()=>this._connectionEstablished(t)));v(this,"_connectionClosed",async t=>{this.dispatch(d1({...t,connectionOrigin:this.lastConnectionOrigin}))});v(this,"connectionClosed",t=>this.sendEventWithSafeDelayBetweenEventsToAvoidCollision(()=>this._connectionClosed(t)));var p,_,g,m,S,w,O,P,$;this.connectionInstance=l,this.dispatch=t;const d=n?new at(n):null;this.properties={host:d,type:r,teamStatus:o,userType:i,connectionID:this.connectionInstance.id,fido2BasedKey:Uu((g=(_=(p=d==null?void 0:d.ssh_config)==null?void 0:p.identity)==null?void 0:_.ssh_key)==null?void 0:g.private_key),sepkey:((w=(S=(m=d==null?void 0:d.ssh_config)==null?void 0:m.identity)==null?void 0:S.hardware_key)==null?void 0:w.isSep())??!1,windowsHelloKey:(($=(P=(O=d==null?void 0:d.ssh_config)==null?void 0:O.identity)==null?void 0:P.hardware_key)==null?void 0:$.isWindowsHello())??!1,wizardID:a,theme:s,terminalTheme:c},this.customVaultID=u,this._connected=!1,this._next_safe_sent_event_date=new Date}}function m1(e){return e!=null&&["ssh","mosh","telnet"].includes(e)}function _1(e){return e!=null&&["ssh","mosh"].includes(e)}class Yr{constructor(t){v(this,"id");v(this,"protocol");v(this,"host");v(this,"chainedHostOverrides");v(this,"shellPath");v(this,"sshKnownHosts");v(this,"keepaliveInterval");v(this,"errorMsg");v(this,"connectedAt");v(this,"analyticsHelper");v(this,"delegate");v(this,"abortController");v(this,"quick");v(this,"saveAsHost");v(this,"stream");v(this,"featureSet");v(this,"sessionLogData");v(this,"sessionLogAnalytics");v(this,"serialOptions");v(this,"isDetectOSEnabled");v(this,"colorSchemeName");v(this,"bypassRecordingHistory");v(this,"isWorkspaceConnection");v(this,"workspaceTemplateLocalId");v(this,"startupSnippetOverwrite");var r;this.id=t.id??f.uuidv4(),this.host=new at(t.host||void 0),this.chainedHostOverrides=t.chainedHostOverrides,this.protocol=t.protocol||this._getMergedProtocol(),this.keepaliveInterval=t.keepaliveInterval,this.errorMsg=t.errorMsg,this.connectedAt=t.connectedAt,this.shellPath=t.shellPath||z0,this.sshKnownHosts=t.sshKnownHosts||[],this.stream=t.stream,this.featureSet=t.featureSet??[],this.sessionLogData=t.sessionLogData??void 0,this.sessionLogAnalytics=t.sessionLogAnalytics??void 0,this.serialOptions=t.serialOptions,this.bypassRecordingHistory=!!t.bypassRecordingHistory,this.isWorkspaceConnection=!!t.isWorkspaceConnection,this.workspaceTemplateLocalId=t.workspaceTemplateLocalId,this.startupSnippetOverwrite=t.startupSnippetOverwrite,this.delegate=t.delegate??{onDisconnect(){},onClosed:ah(n=>{}),onError(n,i,o,a){},onSessionLogFinishedWriting(){},hostVerifier(n,i,o,a,s,c){c(!0)},requestKeyboardInteractive(n,i,o,a,s,c){},async requestSignature(n,i,o){throw new Error("not implemented")},async askUserNecessaryFields(){throw new Error("not implemented")},requestPassphrase(){},handleHostChainConnection(){},onLogMessage(n){},requestSKPresence(n){},updateSKPresence(n){},requestPIN(){},onHostOSDetected(n){},requestChooseKey(){},requestAuthMethod(){},requestDiscoverableSKKeys(){}},this.abortController=t.abortController||new AbortController,this.quick=t.quick||!1,this.saveAsHost=t.saveAsHost??!1,this.analyticsHelper=t.analyticsHelper,this.isDetectOSEnabled=t.isDetectOSEnabled??!1,this.colorSchemeName=t.colorSchemeName,(r=this.analyticsHelper)==null||r.setConnectionInstance(this)}abort(){return this.abortController.abort()}initAnalyticsHelper(t){var l;const r=L0(this.protocol),n=x0(this.host,r),{type:i=I0(this.protocol),vaults:o}=t,a=n.from==="host"?"yes":"inherited",s=n.schemeName!=="auto"?(l=lc[n.schemeName])==null?void 0:l.name:void 0,c=n.schemeName!=="auto"?a:"no",u=b1(this.host,o);this.analyticsHelper=new v1({...t,type:i,theme:c,terminalTheme:s,host:this.host,customVaultID:u},this)}get signal(){return this.abortController.signal}get displayLabel(){var i,o;if(this.protocol==="local")return"Local Terminal";if(this.protocol==="serial")return((i=this.serialOptions)==null?void 0:i.path)||"Serial";if(this.protocol==="stream")return((o=this.stream)==null?void 0:o.terminalTitle)??N0;const{label:t,address:r}=this.host;if(t)return t;const n=this._getConfig();if(n){const{identity:a,port:s}=n,{username:c}=a,{protocol:u}=this;if(c)return u==="telnet"&&s===23||u!=="telnet"&&s===22?r:`${c}@[${r}]:${s}`}return r}get colorScheme(){var r;if(this.protocol==="stream")return((r=this.stream)==null?void 0:r.color_scheme)||null;if(this.colorSchemeName)return this.colorSchemeName;const t=this._getConfig();return t&&t.color_scheme||null}get startupSnippet(){if(this.startupSnippetOverwrite)return this.startupSnippetOverwrite;const t=this._getConfig();return t&&t.startup_snippet||null}get port(){var t;return(t=this._getConfig())==null?void 0:t.port}get username(){var t;return(t=this._getConfig())==null?void 0:t.identity.username}isHostMissingNecessaryFields(){return m1(this.protocol)&&!this.host.address||_1(this.protocol)&&!this.username}clone(t){return new Yr({...this,...t})}_getMergedProtocol(){return wd(this.host)}_getConfig(){const{protocol:t,host:r}=this;switch(t){case"telnet":return r.getMergedTelnetConfig();case"ssh":case"mosh":return r.getMergedSshConfig();default:return null}}setAsWorkspaceConnection(t){this.isWorkspaceConnection=!0,this.workspaceTemplateLocalId=t}setAsNotWorkspaceConnection(){this.isWorkspaceConnection=!1,this.workspaceTemplateLocalId=void 0}toTransferableObject(){return{...this,abortController:null,delegate:null,analyticsHelper:null,sessionLogAnalytics:null}}}function ah(e){return c0(e,(t,...r)=>{t(...r)})}function b1(e,t){const r=t.find(n=>n.encryptionKeyId===e.encrypted_with);if(r!=null&&!r.isDefault)return r.id}var wl=f._Symbol,y1=f.isArguments_1,g1=f.isArray_1,Pl=wl?wl.isConcatSpreadable:void 0;function S1(e){return g1(e)||y1(e)||!!(Pl&&e&&e[Pl])}var E1=S1,O1=f._arrayPush,w1=E1;function sh(e,t,r,n,i){var o=-1,a=e.length;for(r||(r=w1),i||(i=[]);++o<a;){var s=e[o];t>0&&r(s)?t>1?sh(s,t-1,r,n,i):O1(i,s):n||(i[i.length]=s)}return i}var uh=sh,P1=f.isArrayLike_1;function $1(e,t){return function(r,n){if(r==null)return r;if(!P1(r))return e(r,n);for(var i=r.length,o=t?i:-1,a=Object(r);(t?o--:++o<i)&&n(a[o],o,a)!==!1;);return r}}var C1=$1,A1=f._baseForOwn,I1=C1,T1=I1(A1),j1=T1,k1=j1,R1=f.isArrayLike_1;function M1(e,t){var r=-1,n=R1(e)?Array(e.length):[];return k1(e,function(i,o,a){n[++r]=t(i,o,a)}),n}var N1=M1;function D1(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var F1=D1,$l=f.isSymbol_1;function L1(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,o=$l(e),a=t!==void 0,s=t===null,c=t===t,u=$l(t);if(!s&&!u&&!o&&e>t||o&&a&&c&&!s&&!u||n&&a&&c||!r&&c||!i)return 1;if(!n&&!o&&!u&&e<t||u&&r&&i&&!n&&!o||s&&r&&i||!a&&i||!c)return-1}return 0}var x1=L1,G1=x1;function U1(e,t,r){for(var n=-1,i=e.criteria,o=t.criteria,a=i.length,s=r.length;++n<a;){var c=G1(i[n],o[n]);if(c){if(n>=s)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var W1=U1,Ws=f._arrayMap,K1=f._baseGet,B1=f._baseIteratee,V1=N1,H1=F1,z1=f._baseUnary,q1=W1,Y1=f.identity_1,X1=f.isArray_1;function Q1(e,t,r){t.length?t=Ws(t,function(o){return X1(o)?function(a){return K1(a,o.length===1?o[0]:o)}:o}):t=[Y1];var n=-1;t=Ws(t,z1(B1));var i=V1(e,function(o,a,s){var c=Ws(t,function(u){return u(o)});return{criteria:c,index:++n,value:o}});return H1(i,function(o,a){return q1(o,a,r)})}var J1=Q1,Z1=f.eq_1,eS=f.isArrayLike_1,tS=f._isIndex,rS=f.isObject_1;function nS(e,t,r){if(!rS(r))return!1;var n=typeof t;return(n=="number"?eS(r)&&tS(t,r.length):n=="string"&&t in r)?Z1(r[t],e):!1}var iS=nS,oS=uh,aS=J1,sS=ec,Cl=iS;sS(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Cl(e,t[0],t[1])?t=[]:r>2&&Cl(t[0],t[1],t[2])&&(t=[t[0]]),aS(e,oS(t,1),[])});var uS=!0;function Su(e,t){if(!uS){if(e)return;var r="Warning: "+t;typeof console<"u"&&console.warn(r);try{throw Error(r)}catch{}}}var cS=f.isSymbol_1;function lS(e,t,r){for(var n=-1,i=e.length;++n<i;){var o=e[n],a=t(o);if(a!=null&&(s===void 0?a===a&&!cS(a):r(a,s)))var s=a,c=o}return c}var fS=lS;function dS(e,t){return e>t}var hS=dS,pS=fS,vS=hS,mS=f._baseIteratee;function _S(e,t){return e&&e.length?pS(e,mS(t),vS):void 0}var bS=_S;const yS=f.getDefaultExportFromCjs(bS);function gS(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}var SS=gS,ES=f._baseGet,OS=SS;function wS(e,t){return t.length<2?e:ES(e,OS(t,0,-1))}var PS=wS,$S=f._castPath,CS=Ed,AS=PS,IS=f._toKey;function TS(e,t){return t=$S(t,e),e=AS(e,t),e==null||delete e[IS(CS(t))]}var jS=TS,kS=jS,RS=f._isIndex,MS=Array.prototype,NS=MS.splice;function DS(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==o){var o=i;RS(i)?NS.call(e,i,1):kS(e,i)}}return e}var FS=DS,LS=f._baseIteratee,xS=FS;function GS(e,t){var r=[];if(!(e&&e.length))return r;var n=-1,i=[],o=e.length;for(t=LS(t);++n<o;){var a=e[n];t(a,n,e)&&(r.push(a),i.push(n))}return xS(e,i),r}var US=GS;const WS=f.getDefaultExportFromCjs(US);var KS=f.toString_1,BS=0;function VS(e){var t=++BS;return KS(e)+t}var HS=VS;const Dr=f.getDefaultExportFromCjs(HS),zS=(e,t,r)=>{e.splice(t,0,r)};var l4;const tr=class tr{constructor(t){v(this,l4,!0);v(this,"root");this.root=t}getRoot(){return this.root}getFirstLeafId(){return this.getFirstLeaf(this.root).id}getFirstLeaf(t){var r;return(r=t==null?void 0:t.children)!=null&&r.length?this.getFirstLeaf(t==null?void 0:t.children[0]):t}split(t,r,n){return ii(this,o=>{const[a,s]=o.findBranch(d=>d.id===t)??[];if(!a||a.children.length>1)return o;const c={id:r,children:[],layout:"single",size:1/2};if(!s)return a.size=.5,o.root={id:Dr("split-"),layout:n.layout,size:1,children:n.position==="start"?[c,a]:[a,c]},o;if(s.layout!==n.layout){const d={id:a.id,layout:"single",children:[],size:.5};return a.id=Dr("split-"),a.layout=n.layout,a.children=n.position==="start"?[c,d]:[d,c],o}const u=s.children.findIndex(d=>d.id===a.id);c.size=a.size/2,a.size/=2;const l=n.position==="start"?u:u+1;return zS(s.children,l,c),o})}remove(t){return ii(this,n=>{const[i,o,a]=n.findBranch(l=>l.id===t)??[];if(!o||i.children.length>=1)return n;if(o.children.length>2)return WS(o.children,l=>l.id===i.id),qS(o,i.size),n;const[s,c]=o.children,u=s.id===i.id?c:s;if((a==null?void 0:a.layout)===u.layout){const l=a.children.findIndex(d=>d.id===o.id);return YS(u,o.size),a.children.splice(l,1,...u.children),n}return o.id=u.id,o.layout=u.layout,o.children=u.children,n})}resize(t,r){return ii(this,i=>{const[o]=i.findBranch(a=>a.id===t)??[];for(const[a,s]of o.children.entries())s.size=r[a]})}has(t){const[r]=this.findBranch(n=>n.id===t)??[];return r!==void 0}single(){return this.root.children.length===0?this.root:void 0}*leafs(){yield*ch(this.root)}numberOfLeafs(){return[...this.leafs()].length}toJSON(){return this.root}mapDepthFirst(t){return lh(this.root,t)}findAdjacentLeaf(t,r){const n=Array.from(this.getBoundingNodeRects().entries()),i=n.find(([u])=>t(u));if(!i)return;const[o,a]=i,s=XS[r],c=yS(n,([u,l])=>u===o||u.children.length>0?-1:s(a,l));return c==null?void 0:c[0]}findNodeWithBiggestSquare(t=this.root,r=1,n={id:this.root.id,size:0,layout:"horizontal"},i=new Set){let o={...n};if(i.has(t.id))return o;i.add(t.id);const a=r*t.size;if(a<=o.size)return o;if(t.children.length)for(const s of t.children)o=this.findNodeWithBiggestSquare(s,a,o,i);else{const s=this.getBoundingNodeRects().get(t);ft(s,`Missing rect for node: ${t.id}`);const c=s.right-s.left,u=s.bottom-s.top,l=c>u?"horizontal":"vertical";o={id:t.id,size:a,layout:l}}return o}splitLayoutBasedParent(t){return t==="horizontal"?"vertical":"horizontal"}getBoundingNodeRects(){const t=new Map;return t.set(this.root,{left:0,top:0,right:1,bottom:1}),Ou(this.root,t),t}findBranch(t,r=this.root,n=[]){if(t(r))return[r,...n];if(r.children.length!==0)for(const i of r.children){const o=this.findBranch(t,i,[r,...n]);if(o)return o}}static buildBalancedTree(t){let r=t.map(i=>({id:i,layout:"single",size:.5,children:[]})),n="horizontal";if(r.length>1)for(;r.length>2;){const i=r.length,o=[];for(let a=0;a<i;a+=2){const s=i-a;if(s===3){o.push({id:Dr("split-"),layout:n,size:a===0?1:1/2,children:[{...r[a],size:1/3},{...r[a+1],size:1/3},{...r[a+2],size:1/3}]});break}else s===1?o.push({...r[a],size:1/2}):o.push({id:Dr("split-"),layout:n,size:1/2,children:[{...r[a],size:1/2},{...r[a+1],size:1/2}]})}n=n==="horizontal"?"vertical":"horizontal",r=o}return t.length===1?new tr({id:t[0],layout:"single",size:1,children:[]}):r.length===1?new tr(r[0]):new tr({id:Dr("split-"),layout:n,size:1,children:r})}static get treeNodeSchema(){return f.lib.z.lazy(()=>f.lib.z.object({id:f.lib.z.string(),layout:f.lib.z.union([f.lib.z.literal("single"),f.lib.z.literal("horizontal"),f.lib.z.literal("vertical")]),size:f.lib.z.number().min(0).max(1),children:f.lib.z.array(tr.treeNodeSchema)}))}};l4=_u;let Eu=tr;function*ch(e){if(e.children.length===0)yield e;else for(const t of e.children)yield*ch(t)}function qS(e,t){ft(e.layout==="horizontal"||e.layout==="vertical");for(const r of e.children)r.size+=t/e.children.length}function YS(e,t){ft(e.layout==="horizontal"||e.layout==="vertical");for(const r of e.children)r.size*=t}function lh(e,{onLeaf:t,onSplit:r}){return e.layout==="single"?t(e):r(e,n=>lh(n,{onLeaf:t,onSplit:r}))}const Ou=(e,t)=>{const r=t.get(e),{layout:n,children:i}=e;if(i.length===0)return;if(ft(r,`Missing rect for node: ${e.id}`),n==="vertical"){let a=0;for(const s of i){const c=(r.bottom-r.top)*s.size;t.set(s,{left:r.left,right:r.right,top:a,bottom:c+a}),a+=c,Ou(s,t)}return}let o=0;for(const a of i){const s=(r.right-r.left)*a.size;t.set(a,{top:r.top,bottom:r.bottom,left:o,right:o+s}),o+=s,Ou(a,t)}},XS={upper:(e,t)=>e.top!==t.bottom?-1:Zn({min:e.left,max:e.right},{min:t.left,max:t.right}),lower:(e,t)=>e.bottom!==t.top?-1:Zn({min:e.left,max:e.right},{min:t.left,max:t.right}),left:(e,t)=>e.left!==t.right?-1:Zn({min:e.top,max:e.bottom},{min:t.top,max:t.bottom}),right:(e,t)=>e.right!==t.left?-1:Zn({min:e.top,max:e.bottom},{min:t.top,max:t.bottom})},Zn=(e,t)=>t.min<=e.max&&e.min<=t.max?Math.min(e.max,t.max)-Math.max(e.min,t.min):0,QS=f.lib.z.object({layoutRoot:Eu.treeNodeSchema}),JS=f.lib.z.object({id:f.lib.z.string(),label:f.lib.z.string().optional(),host:f.lib.z.object({local_id:f.lib.z.number().optional(),id:f.lib.z.number().optional()}).optional(),protocol:f.lib.z.any().optional(),startupSnippet:f.lib.z.any().optional()});f.lib.z.object({local_id:f.lib.z.number().optional(),lastTerminalView:f.lib.z.string().optional(),label:f.lib.z.string().optional(),workspaceTerminals:f.lib.z.array(JS).nonempty(),workspaceLayout:QS.optional()});var ZS=f.isArrayLike_1,eE=f.isObjectLike_1;function tE(e){return eE(e)&&ZS(e)}var rE=tE,nE=uh,iE=ec,oE=yd,aE=rE;iE(function(e){return oE(nE(e,1,aE,!0))});function sE(e){return Array.from(e)}function Al(e){return Buffer.from(e)}class Ks{constructor(){v(this,"map",new Map)}add(t){return this.set(f.uuidv4(),t)}get(t){return this.map.get(t)}set(t,r){return this.map.set(t,r),t}delete(t){return this.map.delete(t)}take(t){const r=this.get(t);return this.delete(t),r}}function uE(e){return{...e,abortController:null,delegate:null,analyticsHelper:null}}class cE{constructor(t,r){v(this,"shells",new Ks);v(this,"portForwardings",new Ks);v(this,"connections",new Map);v(this,"callbacks",new Ks);v(this,"abortConnection",t=>{var r;typeof t=="string"&&((r=this.connections.get(t))==null||r.abort())});v(this,"adaptDispatch",(t,r)=>{const n=(...i)=>{try{this.server.emit(...i)}catch{}};this.dispatch({send:i=>{n(r,"message",i)},emit:(...i)=>{n(r,...i)}},t)});this.serviceProvider=t,this.server=r}listen(){this.server.on("message",this.adaptDispatch),this.server.on("abort",this.abortConnection)}stop(){this.server.off("message",this.adaptDispatch),this.server.off("abort",this.abortConnection)}dispatch(t,r){var i,o,a,s,c,u,l;const{payload:n}=r;switch(r.type){case"shell.getType":{const{shellId:d,promiseId:p}=n;this.sendPromise(t,p,(i=this.shells.get(d))==null?void 0:i.getType());break}case"shell.sendData":{const{shellId:d,data:p}=n;(o=this.shells.get(d))==null||o.sendData(p);break}case"shell.sendBinary":{const{shellId:d,data:p}=n;(a=this.shells.get(d))==null||a.sendBinary(Al(p));break}case"exec":{this.onExec(n,t);break}case"shell":{this.onShell(n,t);break}case"shell.sendSize":{const{shellId:d,columns:p,rows:_}=n;(s=this.shells.get(d))==null||s.sendSize(p,_);break}case"shell.close":{const{shellId:d}=n;(c=this.shells.get(d))==null||c.close();break}case"shell.setupShellIntegration":{const{shellId:d,promiseId:p}=n;this.sendPromise(t,p,(u=this.shells.get(d))==null?void 0:u.setupShellIntegration());break}case"portForwarding":{this.onPortForwarding(n,t);break}case"portForwarding.close":{const{portForwardingId:d}=n;(l=this.portForwardings.get(d))==null||l.close();break}case"callback.call":{const{callbackId:d,args:p}=n,_=this.callbacks.get(d);_&&(_(...p),this.callbacks.delete(d));break}case"closeAllServices":{this.serviceProvider.closeAllServices();break}}}makeCallbacks(t,r){return{hostVerifier:(n,i,o,a,s,c)=>{r.send({type:"callback.hostVerifier",payload:{connectionId:t,config:n,checkResult:i,hashedKey:o,pubKey:a,keyType:s,callbackId:this.callbacks.add(c)}})},askUserNecessaryFields:n=>new Promise((i,o)=>{r.send({type:"callback.askUserNecessaryFields",payload:{connectionId:t,host:n,successCallbackId:this.callbacks.add(a=>i(new at(a))),failureCallbackId:this.callbacks.add(o)}})}),requestPassphrase:n=>{r.send({type:"callback.requestPassphrase",payload:{connectionId:t,callbackId:this.callbacks.add(n)}})},handleHostChainConnection:n=>{r.send({type:"callback.handleHostChainConnection",payload:{connectionId:t,callbackId:this.callbacks.add(n),hostChainConnection:uE(n)}})},requestKeyboardInteractive:(n,i,o,a,s,c)=>{r.send({type:"callback.requestKeyboardInteractive",payload:{connectionId:t,name:n,instructions:i,interruptibleWithPublickey:o,prompts:a,successCallbackId:this.callbacks.add(s),failureCallbackId:this.callbacks.add(c)}})},requestSignature:(n,i,o,a)=>new Promise((s,c)=>{r.send({type:"callback.requestSignature",payload:{connectionId:t,publicKey:n,storage:i,credentialId:o,data:sE(a),successCallbackId:this.callbacks.add(u=>s(Al(u))),failureCallbackId:this.callbacks.add(u=>c(f.deserializeIpcError(u)))}})}),onDisconnect:n=>{r.send({type:"callback.onDisconnect",payload:{connectionId:t,reason:n}})},onSessionLogFinishedWriting:()=>{r.send({type:"callback.onSessionLogFinishedWriting",payload:{connectionId:t}})},onClosed:ah(n=>{r.send({type:"callback.onClosed",payload:{connectionId:t,msg:n}})}),onError:(n,i,o,a,s)=>{r.send({type:"callback.onError",payload:{connectionId:t,error:n,title:i,errorType:o,errorCode:a,softwareVersion:s}})},onLogMessage:n=>{r.send({type:"callback.onLogMessage",payload:{connectionId:t,message:n}})},requestSKPresence:n=>r.send({type:"callback.requestSKPresence",payload:{connectionId:t,isRequired:n}}),updateSKPresence:n=>r.send({type:"callback.updateSKPresence",payload:{connectionId:t,name:n}}),requestPIN:n=>r.send({type:"callback.requestPIN",payload:{connectionId:t,successCallbackId:this.callbacks.add(n)}}),onHostOSDetected:n=>r.send({type:"callback.onHostOSDetected",payload:{connectionId:t,os:n}}),requestChooseKey:n=>r.send({type:"callback.requestChooseKey",payload:{connectionId:t,successCallbackId:this.callbacks.add(n)}}),requestAuthMethod:(n,i)=>r.send({type:"callback.requestAuthMethod",payload:{connectionId:t,methods:n,successCallbackId:this.callbacks.add(i)}}),requestDiscoverableSKKeys:(n,i)=>r.send({type:"callback.requestDiscoverableSKKeys",payload:{connectionId:t,skKeys:n,successCallbackId:this.callbacks.add(i)}})}}async onExec({execId:t,connectionId:r,command:n,connection:i},o){if("exec"in this.serviceProvider)try{const a=await this.serviceProvider.exec(this.addConnection(o,r,i),n);o.send({type:"exec.resolve",payload:{execId:t,result:a}})}catch(a){o.send({type:"exec.reject",payload:{execId:t,error:a}})}}onShell({shellId:t,connectionId:r,options:n,connection:i},o){this.serviceProvider.shell(this.addConnection(o,r,i),n,{onReady:(a,s)=>{this.shells.set(t,a),o.send({type:"shell.onReady",payload:{shellId:t,info:s}})},onShellIntegrationStatus:a=>{o.send({type:"shell.onShellIntegrationStatus",payload:{shellId:t,status:a}})},onOutput:a=>{o.send({type:"shell.onOutput",payload:{shellId:t,data:a}})},onExit:a=>{o.send({type:"shell.onExit",payload:{shellId:t,status:a}})},onFinished:()=>{o.send({type:"shell.onFinished",payload:{shellId:t}}),setTimeout(()=>this.cleanupShell({connectionId:r,shellId:t}),500)}})}onPortForwarding({portForwardingId:t,connectionId:r,connection:n,options:i},o){"portForwarding"in this.serviceProvider&&this.serviceProvider.portForwarding(this.addConnection(o,r,n),i,{onStarted:a=>{this.portForwardings.set(t,a);const s=a.getBindAddress(),c=a.getBindPort();o.send({type:"portForwarding.onStarted",payload:{portForwardingId:t,bindAddress:s,bindPort:c}})},onStopped:()=>{o.send({type:"portForwarding.onStopped",payload:{portForwardingId:t}}),this.cleanupConnection(r),this.portForwardings.delete(t)}})}addConnection(t,r,n){const i=this.makeCallbacks(r,t),o=new Yr({...n,delegate:i});return this.connections.set(r,o),o.abortController.signal.addEventListener("abort",a),o;function a(){t.emit("abort",r),o.abortController.signal.removeEventListener("abort",a)}}cleanupShell({connectionId:t,shellId:r}){this.cleanupConnection(t),this.shells.delete(r)}cleanupConnection(t){this.callbacks.delete(t)}sendPromise(t,r,n){n==null||n.then(i=>{t.send({type:"promise.resolve",payload:{promiseId:r,value:i}})},i=>{t.send({type:"promise.reject",payload:{promiseId:r,error:i}})})}}var vr={exports:{}},mr={exports:{}},Bs,Il;function lE(){if(Il)return Bs;Il=1,Bs=n,n.sync=i;var e=Ae;function t(o,a){var s=a.pathExt!==void 0?a.pathExt:process.env.PATHEXT;if(!s||(s=s.split(";"),s.indexOf("")!==-1))return!0;for(var c=0;c<s.length;c++){var u=s[c].toLowerCase();if(u&&o.substr(-u.length).toLowerCase()===u)return!0}return!1}function r(o,a,s){return!o.isSymbolicLink()&&!o.isFile()?!1:t(a,s)}function n(o,a,s){e.stat(o,function(c,u){s(c,c?!1:r(u,o,a))})}function i(o,a){return r(e.statSync(o),o,a)}return Bs}var Vs,Tl;function fE(){if(Tl)return Vs;Tl=1,Vs=t,t.sync=r;var e=Ae;function t(o,a,s){e.stat(o,function(c,u){s(c,c?!1:n(u,a))})}function r(o,a){return n(e.statSync(o),a)}function n(o,a){return o.isFile()&&i(o,a)}function i(o,a){var s=o.mode,c=o.uid,u=o.gid,l=a.uid!==void 0?a.uid:process.getuid&&process.getuid(),d=a.gid!==void 0?a.gid:process.getgid&&process.getgid(),p=parseInt("100",8),_=parseInt("010",8),g=parseInt("001",8),m=p|_,S=s&g||s&_&&u===d||s&p&&c===l||s&m&&l===0;return S}return Vs}var gi;process.platform==="win32"||f.commonjsGlobal.TESTING_WINDOWS?gi=lE():gi=fE();var dE=pc;pc.sync=hE;function pc(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){pc(e,t||{},function(o,a){o?i(o):n(a)})})}gi(e,t||{},function(n,i){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,i=!1),r(n,i)})}function hE(e,t){try{return gi.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}const Zt=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",fh=me,pE=Zt?";":":",dh=dE,hh=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),ph=(e,t)=>{const r=t.colon||pE,n=e.match(/\//)||Zt&&e.match(/\\/)?[""]:[...Zt?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],i=Zt?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=Zt?i.split(r):[""];return Zt&&e.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:n,pathExt:o,pathExtExe:i}},vh=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});const{pathEnv:n,pathExt:i,pathExtExe:o}=ph(e,t),a=[],s=u=>new Promise((l,d)=>{if(u===n.length)return t.all&&a.length?l(a):d(hh(e));const p=n[u],_=/^".*"$/.test(p)?p.slice(1,-1):p,g=fh.join(_,e),m=!_&&/^\.[\\\/]/.test(e)?e.slice(0,2)+g:g;l(c(m,u,0))}),c=(u,l,d)=>new Promise((p,_)=>{if(d===i.length)return p(s(l+1));const g=i[d];dh(u+g,{pathExt:o},(m,S)=>{if(!m&&S)if(t.all)a.push(u+g);else return p(u+g);return p(c(u,l,d+1))})});return r?s(0).then(u=>r(null,u),r):s(0)},vE=(e,t)=>{t=t||{};const{pathEnv:r,pathExt:n,pathExtExe:i}=ph(e,t),o=[];for(let a=0;a<r.length;a++){const s=r[a],c=/^".*"$/.test(s)?s.slice(1,-1):s,u=fh.join(c,e),l=!c&&/^\.[\\\/]/.test(e)?e.slice(0,2)+u:u;for(let d=0;d<n.length;d++){const p=l+n[d];try{if(dh.sync(p,{pathExt:i}))if(t.all)o.push(p);else return p}catch{}}}if(t.all&&o.length)return o;if(t.nothrow)return null;throw hh(e)};var mE=vh;vh.sync=vE;var vc={exports:{}};const mh=(e={})=>{const t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};vc.exports=mh;vc.exports.default=mh;var _E=vc.exports;const jl=me,bE=mE,yE=_E;function kl(e,t){const r=e.options.env||process.env,n=process.cwd(),i=e.options.cwd!=null,o=i&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(e.options.cwd)}catch{}let a;try{a=bE.sync(e.command,{path:r[yE({env:r})],pathExt:t?jl.delimiter:void 0})}catch{}finally{o&&process.chdir(n)}return a&&(a=jl.resolve(i?e.options.cwd:"",a)),a}function gE(e){return kl(e)||kl(e,!0)}var SE=gE,mc={};const wu=/([()\][%!^"`<>&|;, *?])/g;function EE(e){return e=e.replace(wu,"^$1"),e}function OE(e,t){return e=`${e}`,e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,"$1$1"),e=`"${e}"`,e=e.replace(wu,"^$1"),t&&(e=e.replace(wu,"^$1")),e}mc.command=EE;mc.argument=OE;var wE=/^#!(.*)/;const PE=wE;var $E=(e="")=>{const t=e.match(PE);if(!t)return null;const[r,n]=t[0].replace(/#! ?/,"").split(" "),i=r.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i};const Hs=Ae,CE=$E;function AE(e){const r=Buffer.alloc(150);let n;try{n=Hs.openSync(e,"r"),Hs.readSync(n,r,0,150,0),Hs.closeSync(n)}catch{}return CE(r.toString())}var IE=AE;const TE=me,Rl=SE,Ml=mc,jE=IE,kE=process.platform==="win32",RE=/\.(?:com|exe)$/i,ME=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function NE(e){e.file=Rl(e);const t=e.file&&jE(e.file);return t?(e.args.unshift(e.file),e.command=t,Rl(e)):e.file}function DE(e){if(!kE)return e;const t=NE(e),r=!RE.test(t);if(e.options.forceShell||r){const n=ME.test(t);e.command=TE.normalize(e.command),e.command=Ml.command(e.command),e.args=e.args.map(o=>Ml.argument(o,n));const i=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${i}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function FE(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);const n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:DE(n)}var LE=FE;const _c=process.platform==="win32";function bc(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function xE(e,t){if(!_c)return;const r=e.emit;e.emit=function(n,i){if(n==="exit"){const o=_h(i,t);if(o)return r.call(e,"error",o)}return r.apply(e,arguments)}}function _h(e,t){return _c&&e===1&&!t.file?bc(t.original,"spawn"):null}function GE(e,t){return _c&&e===1&&!t.file?bc(t.original,"spawnSync"):null}var UE={hookChildProcess:xE,verifyENOENT:_h,verifyENOENTSync:GE,notFoundError:bc};const bh=md,yc=LE,gc=UE;function yh(e,t,r){const n=yc(e,t,r),i=bh.spawn(n.command,n.args,n.options);return gc.hookChildProcess(i,n),i}function WE(e,t,r){const n=yc(e,t,r),i=bh.spawnSync(n.command,n.args,n.options);return i.error=i.error||gc.verifyENOENTSync(i.status,n),i}mr.exports=yh;mr.exports.spawn=yh;mr.exports.sync=WE;mr.exports._parse=yc;mr.exports._enoent=gc;var KE=mr.exports,BE=e=>{const t=typeof e=="string"?`
`:`
`.charCodeAt(),r=typeof e=="string"?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===r&&(e=e.slice(0,e.length-1)),e},Sc={exports:{}},Ec={exports:{}};const gh=(e={})=>{const t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};Ec.exports=gh;Ec.exports.default=gh;var VE=Ec.exports;Sc.exports;(function(e){const t=me,r=VE,n=i=>{i={cwd:process.cwd(),path:process.env[r()],execPath:process.execPath,...i};let o,a=t.resolve(i.cwd);const s=[];for(;o!==a;)s.push(t.join(a,"node_modules/.bin")),o=a,a=t.resolve(a,"..");const c=t.resolve(i.cwd,i.execPath,"..");return s.push(c),s.concat(i.path).join(t.delimiter)};e.exports=n,e.exports.default=n,e.exports.env=i=>{i={env:process.env,...i};const o={...i.env},a=r({env:o});return i.path=o[a],o[a]=e.exports(i),o}})(Sc);var HE=Sc.exports,ki={exports:{}},Oc={exports:{}};const Sh=(e,t)=>{for(const r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};Oc.exports=Sh;Oc.exports.default=Sh;var zE=Oc.exports;const qE=zE,Si=new WeakMap,Eh=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0;const i=e.displayName||e.name||"<anonymous>",o=function(...a){if(Si.set(o,++n),n===1)r=e.apply(this,a),e=null;else if(t.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return r};return qE(o,e),Si.set(o,n),o};ki.exports=Eh;ki.exports.default=Eh;ki.exports.callCount=e=>{if(!Si.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return Si.get(e)};var YE=ki.exports,sr={},Ri={},Mi={};Object.defineProperty(Mi,"__esModule",{value:!0});Mi.SIGNALS=void 0;const XE=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];Mi.SIGNALS=XE;var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.SIGRTMAX=Ct.getRealtimeSignals=void 0;const QE=function(){const e=wh-Oh+1;return Array.from({length:e},JE)};Ct.getRealtimeSignals=QE;const JE=function(e,t){return{name:`SIGRT${t+1}`,number:Oh+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},Oh=34,wh=64;Ct.SIGRTMAX=wh;Object.defineProperty(Ri,"__esModule",{value:!0});Ri.getSignals=void 0;var ZE=Ke,eO=Mi,tO=Ct;const rO=function(){const e=(0,tO.getRealtimeSignals)();return[...eO.SIGNALS,...e].map(nO)};Ri.getSignals=rO;const nO=function({name:e,number:t,description:r,action:n,forced:i=!1,standard:o}){const{signals:{[e]:a}}=ZE.constants,s=a!==void 0;return{name:e,number:s?a:t,description:r,supported:s,action:n,forced:i,standard:o}};Object.defineProperty(sr,"__esModule",{value:!0});sr.signalsByNumber=sr.signalsByName=void 0;var iO=Ke,Ph=Ri,oO=Ct;const aO=function(){return(0,Ph.getSignals)().reduce(sO,{})},sO=function(e,{name:t,number:r,description:n,supported:i,action:o,forced:a,standard:s}){return{...e,[t]:{name:t,number:r,description:n,supported:i,action:o,forced:a,standard:s}}},uO=aO();sr.signalsByName=uO;const cO=function(){const e=(0,Ph.getSignals)(),t=oO.SIGRTMAX+1,r=Array.from({length:t},(n,i)=>lO(i,e));return Object.assign({},...r)},lO=function(e,t){const r=fO(e,t);if(r===void 0)return{};const{name:n,description:i,supported:o,action:a,forced:s,standard:c}=r;return{[e]:{name:n,number:e,description:i,supported:o,action:a,forced:s,standard:c}}},fO=function(e,t){const r=t.find(({name:n})=>iO.constants.signals[n]===e);return r!==void 0?r:t.find(n=>n.number===e)},dO=cO();sr.signalsByNumber=dO;const{signalsByName:hO}=sr,pO=({timedOut:e,timeout:t,errorCode:r,signal:n,signalDescription:i,exitCode:o,isCanceled:a})=>e?`timed out after ${t} milliseconds`:a?"was canceled":r!==void 0?`failed with ${r}`:n!==void 0?`was killed with ${n} (${i})`:o!==void 0?`failed with exit code ${o}`:"failed",vO=({stdout:e,stderr:t,all:r,error:n,signal:i,exitCode:o,command:a,escapedCommand:s,timedOut:c,isCanceled:u,killed:l,parsed:{options:{timeout:d}}})=>{o=o===null?void 0:o,i=i===null?void 0:i;const p=i===void 0?void 0:hO[i].description,_=n&&n.code,m=`Command ${pO({timedOut:c,timeout:d,errorCode:_,signal:i,signalDescription:p,exitCode:o,isCanceled:u})}: ${a}`,S=Object.prototype.toString.call(n)==="[object Error]",w=S?`${m}
${n.message}`:m,O=[w,t,e].filter(Boolean).join(`
`);return S?(n.originalMessage=n.message,n.message=O):n=new Error(O),n.shortMessage=w,n.command=a,n.escapedCommand=s,n.exitCode=o,n.signal=i,n.signalDescription=p,n.stdout=e,n.stderr=t,r!==void 0&&(n.all=r),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=!!c,n.isCanceled=u,n.killed=l&&!c,n};var mO=vO,wc={exports:{}};const si=["stdin","stdout","stderr"],_O=e=>si.some(t=>e[t]!==void 0),$h=e=>{if(!e)return;const{stdio:t}=e;if(t===void 0)return si.map(n=>e[n]);if(_O(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${si.map(n=>`\`${n}\``).join(", ")}`);if(typeof t=="string")return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);const r=Math.max(t.length,si.length);return Array.from({length:r},(n,i)=>t[i])};wc.exports=$h;wc.exports.node=e=>{const t=$h(e);return t==="ipc"?"ipc":t===void 0||typeof t=="string"?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]};var bO=wc.exports,er={exports:{}},zs={exports:{}},Nl;function yO(){return Nl||(Nl=1,function(e){e.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],process.platform!=="win32"&&e.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),process.platform==="linux"&&e.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")}(zs)),zs.exports}var J=f.commonjsGlobal.process;const yt=function(e){return e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function"};if(!yt(J))er.exports=function(){return function(){}};else{var gO=Mv,Fr=yO(),SO=/^win/i.test(J.platform),ei=Nv;typeof ei!="function"&&(ei=ei.EventEmitter);var de;J.__signal_exit_emitter__?de=J.__signal_exit_emitter__:(de=J.__signal_exit_emitter__=new ei,de.count=0,de.emitted={}),de.infinite||(de.setMaxListeners(1/0),de.infinite=!0),er.exports=function(e,t){if(!yt(f.commonjsGlobal.process))return function(){};gO.equal(typeof e,"function","a callback must be provided for exit handler"),Lr===!1&&Dl();var r="exit";t&&t.alwaysLast&&(r="afterexit");var n=function(){de.removeListener(r,e),de.listeners("exit").length===0&&de.listeners("afterexit").length===0&&qs()};return de.on(r,e),n};var qs=function(){!Lr||!yt(f.commonjsGlobal.process)||(Lr=!1,Fr.forEach(function(t){try{J.removeListener(t,Ys[t])}catch{}}),J.emit=Xs,J.reallyExit=Fl,de.count-=1)};er.exports.unload=qs;var Jt=function(t,r,n){de.emitted[t]||(de.emitted[t]=!0,de.emit(t,r,n))},Ys={};Fr.forEach(function(e){Ys[e]=function(){if(yt(f.commonjsGlobal.process)){var r=J.listeners(e);r.length===de.count&&(qs(),Jt("exit",null,e),Jt("afterexit",null,e),SO&&e==="SIGHUP"&&(e="SIGINT"),J.kill(J.pid,e))}}}),er.exports.signals=function(){return Fr};var Lr=!1,Dl=function(){Lr||!yt(f.commonjsGlobal.process)||(Lr=!0,de.count+=1,Fr=Fr.filter(function(t){try{return J.on(t,Ys[t]),!0}catch{return!1}}),J.emit=OO,J.reallyExit=EO)};er.exports.load=Dl;var Fl=J.reallyExit,EO=function(t){yt(f.commonjsGlobal.process)&&(J.exitCode=t||0,Jt("exit",J.exitCode,null),Jt("afterexit",J.exitCode,null),Fl.call(J,J.exitCode))},Xs=J.emit,OO=function(t,r){if(t==="exit"&&yt(f.commonjsGlobal.process)){r!==void 0&&(J.exitCode=r);var n=Xs.apply(this,arguments);return Jt("exit",J.exitCode,null),Jt("afterexit",J.exitCode,null),n}else return Xs.apply(this,arguments)}}var wO=er.exports;const PO=Ke,$O=wO,CO=1e3*5,AO=(e,t="SIGTERM",r={})=>{const n=e(t);return IO(e,t,r,n),n},IO=(e,t,r,n)=>{if(!TO(t,r,n))return;const i=kO(r),o=setTimeout(()=>{e("SIGKILL")},i);o.unref&&o.unref()},TO=(e,{forceKillAfterTimeout:t},r)=>jO(e)&&t!==!1&&r,jO=e=>e===PO.constants.signals.SIGTERM||typeof e=="string"&&e.toUpperCase()==="SIGTERM",kO=({forceKillAfterTimeout:e=!0})=>{if(e===!0)return CO;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},RO=(e,t)=>{e.kill()&&(t.isCanceled=!0)},MO=(e,t,r)=>{e.kill(t),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))},NO=(e,{timeout:t,killSignal:r="SIGTERM"},n)=>{if(t===0||t===void 0)return n;let i;const o=new Promise((s,c)=>{i=setTimeout(()=>{MO(e,r,c)},t)}),a=n.finally(()=>{clearTimeout(i)});return Promise.race([o,a])},DO=({timeout:e})=>{if(e!==void 0&&(!Number.isFinite(e)||e<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`)},FO=async(e,{cleanup:t,detached:r},n)=>{if(!t||r)return n;const i=$O(()=>{e.kill()});return n.finally(()=>{i()})};var LO={spawnedKill:AO,spawnedCancel:RO,setupTimeout:NO,validateTimeout:DO,setExitHandler:FO};const Ue=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";Ue.writable=e=>Ue(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object";Ue.readable=e=>Ue(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object";Ue.duplex=e=>Ue.writable(e)&&Ue.readable(e);Ue.transform=e=>Ue.duplex(e)&&typeof e._transform=="function";var xO=Ue,Zr={exports:{}};const{PassThrough:GO}=Qr;var UO=e=>{e={...e};const{array:t}=e;let{encoding:r}=e;const n=r==="buffer";let i=!1;t?i=!(r||n):r=r||"utf8",n&&(r=null);const o=new GO({objectMode:i});r&&o.setEncoding(r);let a=0;const s=[];return o.on("data",c=>{s.push(c),i?a=s.length:a+=c.length}),o.getBufferedValue=()=>t?s:n?Buffer.concat(s,a):s.join(""),o.getBufferedLength=()=>a,o};const{constants:WO}=Dv,KO=Qr,{promisify:BO}=Fv,VO=UO,HO=BO(KO.pipeline);class Ch extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function Pc(e,t){if(!e)throw new Error("Expected a stream");t={maxBuffer:1/0,...t};const{maxBuffer:r}=t,n=VO(t);return await new Promise((i,o)=>{const a=s=>{s&&n.getBufferedLength()<=WO.MAX_LENGTH&&(s.bufferedData=n.getBufferedValue()),o(s)};(async()=>{try{await HO(e,n),i()}catch(s){a(s)}})(),n.on("data",()=>{n.getBufferedLength()>r&&a(new Ch)})}),n.getBufferedValue()}Zr.exports=Pc;Zr.exports.buffer=(e,t)=>Pc(e,{...t,encoding:"buffer"});Zr.exports.array=(e,t)=>Pc(e,{...t,array:!0});Zr.exports.MaxBufferError=Ch;var zO=Zr.exports;const{PassThrough:qO}=Qr;var YO=function(){var e=[],t=new qO({objectMode:!0});return t.setMaxListeners(0),t.add=r,t.isEmpty=n,t.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(r),t;function r(o){return Array.isArray(o)?(o.forEach(r),this):(e.push(o),o.once("end",i.bind(null,o)),o.once("error",t.emit.bind(t,"error")),o.pipe(t,{end:!1}),this)}function n(){return e.length==0}function i(o){e=e.filter(function(a){return a!==o}),!e.length&&t.readable&&t.end()}};const Ah=xO,Ll=zO,XO=YO,QO=(e,t)=>{t===void 0||e.stdin===void 0||(Ah(t)?t.pipe(e.stdin):e.stdin.end(t))},JO=(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;const r=XO();return e.stdout&&r.add(e.stdout),e.stderr&&r.add(e.stderr),r},Qs=async(e,t)=>{if(e){e.destroy();try{return await t}catch(r){return r.bufferedData}}},Js=(e,{encoding:t,buffer:r,maxBuffer:n})=>{if(!(!e||!r))return t?Ll(e,{encoding:t,maxBuffer:n}):Ll.buffer(e,{maxBuffer:n})},ZO=async({stdout:e,stderr:t,all:r},{encoding:n,buffer:i,maxBuffer:o},a)=>{const s=Js(e,{encoding:n,buffer:i,maxBuffer:o}),c=Js(t,{encoding:n,buffer:i,maxBuffer:o}),u=Js(r,{encoding:n,buffer:i,maxBuffer:o*2});try{return await Promise.all([a,s,c,u])}catch(l){return Promise.all([{error:l,signal:l.signal,timedOut:l.timedOut},Qs(e,s),Qs(t,c),Qs(r,u)])}},ew=({input:e})=>{if(Ah(e))throw new TypeError("The `input` option cannot be a stream in sync mode")};var tw={handleInput:QO,makeAllStream:JO,getSpawnedResult:ZO,validateInputSync:ew};const rw=(async()=>{})().constructor.prototype,nw=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(rw,e)]),iw=(e,t)=>{for(const[r,n]of nw){const i=typeof t=="function"?(...o)=>Reflect.apply(n.value,t(),o):n.value.bind(t);Reflect.defineProperty(e,r,{...n,value:i})}return e},ow=e=>new Promise((t,r)=>{e.on("exit",(n,i)=>{t({exitCode:n,signal:i})}),e.on("error",n=>{r(n)}),e.stdin&&e.stdin.on("error",n=>{r(n)})});var aw={mergePromise:iw,getSpawnedPromise:ow};const Ih=(e,t=[])=>Array.isArray(t)?[e,...t]:[e],sw=/^[\w.-]+$/,uw=/"/g,cw=e=>typeof e!="string"||sw.test(e)?e:`"${e.replace(uw,'\\"')}"`,lw=(e,t)=>Ih(e,t).join(" "),fw=(e,t)=>Ih(e,t).map(r=>cw(r)).join(" "),dw=/ +/g,hw=e=>{const t=[];for(const r of e.trim().split(dw)){const n=t[t.length-1];n&&n.endsWith("\\")?t[t.length-1]=`${n.slice(0,-1)} ${r}`:t.push(r)}return t};var pw={joinCommand:lw,getEscapedCommand:fw,parseCommand:hw};const vw=me,Pu=md,mw=KE,_w=BE,bw=HE,yw=YE,Ei=mO,Th=bO,{spawnedKill:gw,spawnedCancel:Sw,setupTimeout:Ew,validateTimeout:Ow,setExitHandler:ww}=LO,{handleInput:Pw,getSpawnedResult:$w,makeAllStream:Cw,validateInputSync:Aw}=tw,{mergePromise:xl,getSpawnedPromise:Iw}=aw,{joinCommand:jh,parseCommand:kh,getEscapedCommand:Rh}=pw,Tw=1e3*1e3*100,jw=({env:e,extendEnv:t,preferLocal:r,localDir:n,execPath:i})=>{const o=t?{...process.env,...e}:e;return r?bw.env({env:o,cwd:n,execPath:i}):o},Mh=(e,t,r={})=>{const n=mw._parse(e,t,r);return e=n.command,t=n.args,r=n.options,r={maxBuffer:Tw,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:r.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...r},r.env=jw(r),r.stdio=Th(r),process.platform==="win32"&&vw.basename(e,".exe")==="cmd"&&t.unshift("/q"),{file:e,args:t,options:r,parsed:n}},Kr=(e,t,r)=>typeof t!="string"&&!Buffer.isBuffer(t)?r===void 0?void 0:"":e.stripFinalNewline?_w(t):t,Ni=(e,t,r)=>{const n=Mh(e,t,r),i=jh(e,t),o=Rh(e,t);Ow(n.options);let a;try{a=Pu.spawn(n.file,n.args,n.options)}catch(_){const g=new Pu.ChildProcess,m=Promise.reject(Ei({error:_,stdout:"",stderr:"",all:"",command:i,escapedCommand:o,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return xl(g,m)}const s=Iw(a),c=Ew(a,n.options,s),u=ww(a,n.options,c),l={isCanceled:!1};a.kill=gw.bind(null,a.kill.bind(a)),a.cancel=Sw.bind(null,a,l);const p=yw(async()=>{const[{error:_,exitCode:g,signal:m,timedOut:S},w,O,P]=await $w(a,n.options,u),$=Kr(n.options,w),C=Kr(n.options,O),M=Kr(n.options,P);if(_||g!==0||m!==null){const F=Ei({error:_,exitCode:g,signal:m,stdout:$,stderr:C,all:M,command:i,escapedCommand:o,parsed:n,timedOut:S,isCanceled:l.isCanceled,killed:a.killed});if(!n.options.reject)return F;throw F}return{command:i,escapedCommand:o,exitCode:0,stdout:$,stderr:C,all:M,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return Pw(a,n.options.input),a.all=Cw(a,n.options),xl(a,p)};vr.exports=Ni;vr.exports.sync=(e,t,r)=>{const n=Mh(e,t,r),i=jh(e,t),o=Rh(e,t);Aw(n.options);let a;try{a=Pu.spawnSync(n.file,n.args,n.options)}catch(u){throw Ei({error:u,stdout:"",stderr:"",all:"",command:i,escapedCommand:o,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}const s=Kr(n.options,a.stdout,a.error),c=Kr(n.options,a.stderr,a.error);if(a.error||a.status!==0||a.signal!==null){const u=Ei({stdout:s,stderr:c,error:a.error,signal:a.signal,exitCode:a.status,command:i,escapedCommand:o,parsed:n,timedOut:a.error&&a.error.code==="ETIMEDOUT",isCanceled:!1,killed:a.signal!==null});if(!n.options.reject)return u;throw u}return{command:i,escapedCommand:o,exitCode:0,stdout:s,stderr:c,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};vr.exports.command=(e,t)=>{const[r,...n]=kh(e);return Ni(r,n,t)};vr.exports.commandSync=(e,t)=>{const[r,...n]=kh(e);return Ni.sync(r,n,t)};vr.exports.node=(e,t,r={})=>{t&&!Array.isArray(t)&&typeof t=="object"&&(r=t,t=[]);const n=Th.node(r),i=process.execArgv.filter(s=>!s.startsWith("--inspect")),{nodePath:o=process.execPath,nodeOptions:a=i}=r;return Ni(o,[...a,e,...Array.isArray(t)?t:[]],{...r,stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1})};var kw=vr.exports;const Rw=f.getDefaultExportFromCjs(kw);var Mw="Expected a function";function Nw(e){if(typeof e!="function")throw new TypeError(Mw);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var Dw=Nw,Fw=f._baseAssignValue,Lw=f.eq_1,xw=Object.prototype,Gw=xw.hasOwnProperty;function Uw(e,t,r){var n=e[t];(!(Gw.call(e,t)&&Lw(n,r))||r===void 0&&!(t in e))&&Fw(e,t,r)}var Ww=Uw,Kw=Ww,Bw=f._castPath,Vw=f._isIndex,Gl=f.isObject_1,Hw=f._toKey;function zw(e,t,r,n){if(!Gl(e))return e;t=Bw(t,e);for(var i=-1,o=t.length,a=o-1,s=e;s!=null&&++i<o;){var c=Hw(t[i]),u=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(i!=a){var l=s[c];u=n?n(l,c,s):void 0,u===void 0&&(u=Gl(l)?l:Vw(t[i+1])?[]:{})}Kw(s,c,u),s=s[c]}return e}var qw=zw,Yw=f._baseGet,Xw=qw,Qw=f._castPath;function Jw(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var a=t[n],s=Yw(e,a);r(s,a)&&Xw(o,Qw(a,e),s)}return o}var Zw=Jw,eP=f._overArg,tP=eP(Object.getPrototypeOf,Object),rP=tP,nP=f._arrayPush,iP=rP,oP=f._getSymbols,aP=f.stubArray_1,sP=Object.getOwnPropertySymbols,uP=sP?function(e){for(var t=[];e;)nP(t,oP(e)),e=iP(e);return t}:aP,cP=uP;function lP(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var fP=lP,dP=f.isObject_1,hP=f._isPrototype,pP=fP,vP=Object.prototype,mP=vP.hasOwnProperty;function _P(e){if(!dP(e))return pP(e);var t=hP(e),r=[];for(var n in e)n=="constructor"&&(t||!mP.call(e,n))||r.push(n);return r}var bP=_P,yP=f._arrayLikeKeys,gP=bP,SP=f.isArrayLike_1;function EP(e){return SP(e)?yP(e,!0):gP(e)}var OP=EP,wP=f._baseGetAllKeys,PP=cP,$P=OP;function CP(e){return wP(e,$P,PP)}var AP=CP,IP=f._arrayMap,TP=f._baseIteratee,jP=Zw,kP=AP;function RP(e,t){if(e==null)return{};var r=IP(kP(e),function(n){return[n]});return t=TP(t),jP(e,r,function(n,i){return t(n,i[0])})}var MP=RP,NP=f._baseIteratee,DP=Dw,FP=MP;function LP(e,t){return FP(e,DP(NP(t)))}var xP=LP;const GP=f.getDefaultExportFromCjs(xP),ur={SOH:"",STX:"",ETX:"",EOT:"",ENQ:"",ACK:"",BEL:"\x07",BS:"\b",DLE:"",DEL:"",SI:"",VT:"\v",CR:"\r",ESC:"\x1B",LF:`
`,ETB:"",DC2:"",DC3:"",NAK:"",SYN:"",CAN:"",HT:"	",FF:"\f"},$u=void 0,UP=void 0;if(process.type==="browser")throw new Error('"@/lib/electron/app" cannot be imported in the browser (Main) process');const Ul={getAppPath(){return $u.invoke("app.getAppPath")},get isPackaged(){return $u.invoke("app.isPackaged")}};function WP(e){const t=e.isPackaged?e.appDir.replace("app.asar","app.asar.unpacked"):e.appDir;return me.join(t,"out","shell-integration")}const KP=`# shellcheck shell=bash
builtin printf "\\e[?1049h"
if [ "$_termius_integration_installed" = "" ]; then
	_termius_integration_installed="yes"

	builtin printf "\\e]4545;A\\a"

	_termius_encode() {
		builtin echo -n "$1" | command base64
	}

	_termius_get_trap() {
		# 'trap -p DEBUG' outputs a shell command like \`trap -- 'â¦shellcodeâ¦' DEBUG\`.
		# The terms are quoted literals, but are not guaranteed to be on a single line.
		# (Consider a trap like $'echo foo\\necho \\'bar\\'').
		# To parse, we splice those terms into an expression capturing them into an array.
		# This preserves the quoting of those terms: when we \`eval\` that expression, they are preserved exactly.
		# This is different than simply exploding the string, which would split everything on IFS, oblivious to quoting.
		builtin local -a terms
		builtin eval "terms=( $(trap -p "\${1:-DEBUG}") )"
		#                    |________________________|
		#                            |
		#        \\-------------------*--------------------/
		# terms=( trap  --  'â¦arbitrary shellcodeâ¦'  DEBUG )
		#        |____||__| |_____________________| |_____|
		#          |    |            |                |
		#          0    1            2                3
		#                            |
		#                   \\--------*----/
		builtin printf '%s' "\${terms[2]:-}"
	}

	_termius_original_PS1="$PS1"
	_termius_custom_PS1=""
	_termius_in_command_execution="1"
	_termius_current_command=""

	_termius_current_cwd() {
		builtin printf "\\e]4545;SetCwd;%s\\a" "$(_termius_encode "$PWD")"
	}

	_termius_prompt_begins() {
		builtin printf "\\e]4545;ShellPromptBegins\\a"
	}

	_termius_prompt_ends() {
		builtin printf "\\e]4545;ShellPromptEnds\\a"
	}

	_termius_wrap_prompt() {
		builtin printf "\\[$(_termius_prompt_begins)\\]%s\\[$(_termius_prompt_ends)\\]" "$1"
	}

	_termius_command_started() {
		builtin printf "\\e]4545;CommandStarted;%s\\a" "$(_termius_encode "$1")"
	}

	_termius_command_exited() {
		builtin printf "\\e]4545;CommandExited;%s\\a" "$1"
	}

	_termius_update_prompt() {
		# in command execution
		if [ "$_termius_in_command_execution" = "1" ]; then
			# Wrap the prompt if it is not yet wrapped, if the PS1 changed this this was last set it
			# means the user re-exported the PS1 so we should re-wrap it
			if [[ "$_termius_custom_PS1" == "" || "$_termius_custom_PS1" != "$PS1" ]]; then
				_termius_original_PS1=$PS1
				_termius_custom_PS1=$(_termius_wrap_prompt "$_termius_original_PS1")
				PS1="$_termius_custom_PS1"
			fi
			_termius_in_command_execution="0"
		fi
	}

	_termius_precmd() {
		if [ "$_termius_current_command" != "" ]; then
			_termius_command_exited "$_termius_status"
		fi

		_termius_current_cwd
		_termius_current_command=""
		_termius_update_prompt
	}

	_termius_preexec() {
		if [[ ! "$BASH_COMMAND" =~ ^_termius_prompt* ]]; then
      if [[ "$BASH_COMMAND" == *"builtin printf \\"\\\\e[?1049l\\""* ]]; then
              _termius_current_command=$BASH_COMMAND
            else
              _termius_current_command="$(builtin history 1 | sed 's/ *[0-9]* *//')"
            fi
		else
			_termius_current_command=""
		fi

		if [ "$_termius_current_command" != "" ]; then
			_termius_command_started "$_termius_current_command"
		fi
	}

	# Debug trapping/preexec inspired by starship (ISC)
	if [[ -n "\${bash_preexec_imported:-}" ]]; then
		_termius_preexec_only() {
			if [ "$_termius_in_command_execution" = "0" ]; then
				_termius_in_command_execution="1"
				_termius_preexec
			fi
		}
		precmd_functions+=(_termius_prompt_cmd)
		preexec_functions+=(_termius_preexec_only)
	else
		_termius_dbg_trap="$(_termius_get_trap DEBUG)"

		# shellcheck disable=SC2016
		if [[ -z "$_termius_dbg_trap" ]]; then
			_termius_preexec_only() {
				if [ "$_termius_in_command_execution" = "0" ]; then
					_termius_in_command_execution="1"
					_termius_preexec
				fi
			}
			trap '_termius_preexec_only "$_"' DEBUG
		elif [[ "$_termius_dbg_trap" != '_termius_preexec "$_"' && "$_termius_dbg_trap" != '_termius_preexec_all "$_"' ]]; then
			_termius_preexec_all() {
				if [ "$_termius_in_command_execution" = "0" ]; then
					_termius_in_command_execution="1"
					builtin eval "\${_termius_dbg_trap}"
					_termius_preexec
				fi
			}
			trap '_termius_preexec_all "$_"' DEBUG
		fi
	fi

	_termius_update_prompt

	_termius_restore_exit_code() {
		return "$1"
	}

	_termius_prompt_cmd_original() {
		_termius_status="$?"
		_termius_restore_exit_code "\${_termius_status}"
		# Evaluate the original PROMPT_COMMAND similarly to how bash would normally
		# See https://unix.stackexchange.com/a/672843 for technique
		for cmd in "\${_termius_original_prompt_command[@]}"; do
			eval "\${cmd:-}"
		done
		_termius_precmd
	}

	_termius_prompt_cmd() {
		_termius_status="$?"
		_termius_precmd
	}

	# PROMPT_COMMAND arrays and strings seem to be handled the same (handling only the first entry of
	# the array?)
	_termius_original_prompt_command=$PROMPT_COMMAND

	if [[ -z "\${bash_preexec_imported:-}" ]]; then
		if [[ -n "$_termius_original_prompt_command" && "$_termius_original_prompt_command" != "_termius_prompt_cmd" ]]; then
			PROMPT_COMMAND=_termius_prompt_cmd_original
		else
			PROMPT_COMMAND=_termius_prompt_cmd
		fi
	fi

	builtin printf "\\e]4545;B\\a"
fi
builtin printf "\\e[?1049l"
`;async function Nh(e){const t=BP[e];return t==null?{success:!1,reason:"unsupported_shell"}:{success:!0,lines:t.split(`
`).map(r=>r.trim()).filter(r=>r!==""&&!r.startsWith("#"))}}const BP={bash:KP};async function VP(e,t){if(e==="bash"||e==="zsh"||e==="fish")return{success:!1,reason:"integration_has_been_installed"};if(t!=null&&t.skipRuntimeShells)return{success:!1,reason:"unsupported_shell"};const[r,n]=await Promise.all([Ul.getAppPath(),Ul.isPackaged]),i=WP({appDir:r,isPackaged:n});switch(e){case"sh":case"ash":case"dash":case"ksh":return{success:!0,lines:[String.raw`. ${me.join(i,"shrc.sh")}`]};case"tcsh":return{success:!0,lines:[String.raw`source ${me.join(i,".tcshrc")}`]};default:return{success:!1,reason:"unsupported_shell"}}}const HP=()=>Ie.windows()?"win":Ie.macOS()?"mac":"linux";HP();const zP=Ie.windows();Ie.windowsStore();const Dh=Ie.macOS();Ie.linux();Ie.mas();Ie.mas()||Ie.windowsStore()&&Ie.ltRelease("10.0.14391");const Wl=async(e,t=Ae.constants.F_OK)=>new Promise(r=>{Ae.access(e,t,n=>{r(n?null:e)})});let Zs=null;function Di(){return Zs==null&&(Zs=require("iconv-lite")),Zs}function Fi(e){switch(e.toLowerCase()){case"utf-8":case"utf8":return!0;default:return!1}}function Fh(e){return Fi(e)||Di().encodingExists(e)}function Xr(e,t){return Fi(t)?Buffer.from(e,"utf8"):Di().encode(e,t)}function Lh(e,t){return Fi(t)?e.toString("utf8"):Di().decode(e,t)}function $c(e){return Fi(e)?new xv.StringDecoder("utf8"):Di().getDecoder(e)}function Cc(e,t,r,n){return ft(e.secretKey,"When we write a session log, the secret key always exists"),{filename:me.join(r,e.name),encryptionKey:Buffer.from(e.secretKey,"base64"),overflowLimit:(t==null?void 0:t.overflowLimit)??16,queueOverflowed:(t==null?void 0:t.queueOverflowed)??(()=>{}),finishedCallback:n}}const ti="please set the correct path to the shell on the Settings screen";class qP{constructor(t,r,n){v(this,"handles",new Set);this.shellInjectionDirectory=t,this.locale=r,this.sessionLogsDirectory=n}async shell(t,r,n){var p,_;const{shellPath:i}=t,{charset:o}=t.host.getMergedSshConfig(),a=$c(o);if(i===""){t.delegate.onError(`Can't find a suitable shell, ${ti}`,t.displayLabel);return}let s;try{if(!await Wl(i,Ae.constants.X_OK)){t.delegate.onError(`Can't read ${i} file, ${ti}`,t.displayLabel);return}const g=(p=t.featureSet)!=null&&p.includes("ShellIntegration")?this.shellInjectionDirectory:void 0,{executable:m,env:S,args:w}=YP({shellPath:i,shellInjectionDirectory:g,env:Kl(process.env,this.locale)});s=Lv.spawn(m,w,{name:r.term,cols:r.columns,rows:r.rows,cwd:Ke.homedir(),env:S,useConpty:!1})}catch(g){t.delegate.onError(g,t.displayLabel);return}const c=t.sessionLogData!=null?new te.terminalOutput.Writer(Cc(t.sessionLogData,t.sessionLogAnalytics,this.sessionLogsDirectory,t.delegate.onSessionLogFinishedWriting)):void 0;s.onData(g=>{const m=a.write(g);c==null||c.append(Buffer.from(m)),n.onOutput(g)}),s.onExit(()=>{n.onFinished(),t.delegate.onDisconnect(),c==null||c.end(),this.handles.delete(s)}),this.handles.add(s);const u=me.basename(i.trim()).toLowerCase();if(n.onReady({getType:async()=>({echoSupported:!0,name:u}),sendData(g){s.write(g)},sendBinary(g){s.write(g)},sendSize(g,m){s.resize(g,m)},close(){s.kill()},async setupShellIntegration(){return!1}},{status:"unknown"}),!((_=t.featureSet)!=null&&_.includes("ShellIntegration"))){n.onShellIntegrationStatus({type:"skipped"});return}const l=await VP(u,{skipRuntimeShells:!0});if(!l.success&&l.reason==="integration_has_been_installed"){n.onShellIntegrationStatus({type:"started"}),n.onShellIntegrationStatus({type:"succeeded"});return}if(!l.success){const{reason:g}=l;Su(g!=="unsupported_shell",`Shell integration is not supported for ${u}`),n.onShellIntegrationStatus({type:"skipped"});return}n.onShellIntegrationStatus({type:"started"}),s.write(` ${l.lines.join(`${ur.CR} `)}${ur.CR}`),n.onShellIntegrationStatus({type:"succeeded"})}async exec(t,r){const{shellPath:n}=t;if(n==="")throw new Error(`Can't find a suitable shell, ${ti}`);const i=await Wl(n,Ae.constants.X_OK);if(i==null)throw new Error(`Can't read ${n} file, ${ti}`);let o;try{o=Rw(r,{shell:i,env:Kl({...process.env},this.locale),cwd:Ke.homedir(),timeout:5e3,reject:!0,stripFinalNewline:!0,serialization:"advanced"}),this.handles.add(o);const{stdout:a}=await o;return{exitCode:0,data:a}}catch(a){return{exitCode:a.errno,data:a.shortMessage}}finally{o!=null&&this.handles.delete(o)}}closeAllServices(){for(const t of this.handles)t.kill();this.handles.clear()}}function YP(e){const{shellPath:t}=e,r=me.basename(t),n={...e.env},i=Dh,o=i?{executable:"/usr/bin/login",args:["-pf",Ke.userInfo().username,t],env:n}:{executable:t,args:[],env:n};if(!e.shellInjectionDirectory)return o;switch(r){case"bash":return i&&(n.TERMIUS_SIMULATE_SHELL_LOGIN="yes"),{executable:t,args:["--rcfile",me.join(e.shellInjectionDirectory,"bashrc.sh")],env:n};case"zsh":return n.ORIGINAL_ZDOTDIR=n.ZDOTDIR??Ke.homedir()??"~",n.ZDOTDIR=me.join(e.shellInjectionDirectory,"zdotdir"),o;case"fish":{const a=n.XDG_DATA_DIRS??"/usr/share:/usr/local/share";return n.XDG_DATA_DIRS=`${a}:${me.join(e.shellInjectionDirectory,"xdg_data")}`,o}default:return o}}function Kl(e,t){const r=GP(e,(n,i)=>XP.has(i)||i.startsWith("npm"));return r.TERM_PROGRAM="Termius",!zP&&t&&(r.LANG??(r.LANG=`${t.replace("-","_")}.UTF-8`)),r}const XP=new Set(["ELECTRON_RUN_AS_NODE","SHELL","GOOGLE_API_KEY"]);function Br(e){var t=String(e);if(t==="[object Object]")try{t=JSON.stringify(e)}catch{}return t}var QP=function(){function e(){this.some=!1,this.none=!0}return e.prototype[Symbol.iterator]=function(){return{next:function(){return{done:!0,value:void 0}}}},e.prototype.unwrapOr=function(t){return t},e.prototype.expect=function(t){throw new Error(""+t)},e.prototype.unwrap=function(){throw new Error("Tried to unwrap None")},e.prototype.map=function(t){return this},e.prototype.andThen=function(t){return this},e.prototype.toResult=function(t){return Le(t)},e.prototype.toString=function(){return"None"},e}(),Oi=new QP;Object.freeze(Oi);var JP=function(){function e(t){if(!(this instanceof e))return new e(t);this.some=!0,this.none=!1,this.val=t}return e.prototype[Symbol.iterator]=function(){var t=Object(this.val);return Symbol.iterator in t?t[Symbol.iterator]():{next:function(){return{done:!0,value:void 0}}}},e.prototype.unwrapOr=function(t){return this.val},e.prototype.expect=function(t){return this.val},e.prototype.unwrap=function(){return this.val},e.prototype.map=function(t){return wi(t(this.val))},e.prototype.andThen=function(t){return t(this.val)},e.prototype.toResult=function(t){return St(this.val)},e.prototype.safeUnwrap=function(){return this.val},e.prototype.toString=function(){return"Some("+Br(this.val)+")"},e.EMPTY=new e(void 0),e}(),wi=JP,Bl;(function(e){function t(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];for(var a=[],s=0,c=i;s<c.length;s++){var u=c[s];if(u.some)a.push(u.val);else return u}return wi(a)}e.all=t;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];for(var a=0,s=i;a<s.length;a++){var c=s[a];return c.some,c}return Oi}e.any=r;function n(i){return i instanceof wi||i===Oi}e.isOption=n})(Bl||(Bl={}));var ZP=function(){function e(t){if(!(this instanceof e))return new e(t);this.ok=!1,this.err=!0,this.val=t;var r=new Error().stack.split(`
`).slice(2);r&&r.length>0&&r[0].includes("ErrImpl")&&r.shift(),this._stack=r.join(`
`)}return e.prototype[Symbol.iterator]=function(){return{next:function(){return{done:!0,value:void 0}}}},e.prototype.else=function(t){return t},e.prototype.unwrapOr=function(t){return t},e.prototype.expect=function(t){throw new Error(t+" - Error: "+Br(this.val)+`
`+this._stack)},e.prototype.unwrap=function(){throw new Error("Tried to unwrap Error: "+Br(this.val)+`
`+this._stack)},e.prototype.map=function(t){return this},e.prototype.andThen=function(t){return this},e.prototype.mapErr=function(t){return new Le(t(this.val))},e.prototype.toOption=function(){return Oi},e.prototype.toString=function(){return"Err("+Br(this.val)+")"},Object.defineProperty(e.prototype,"stack",{get:function(){return this+`
`+this._stack},enumerable:!1,configurable:!0}),e.EMPTY=new e(void 0),e}(),Le=ZP,e$=function(){function e(t){if(!(this instanceof e))return new e(t);this.ok=!0,this.err=!1,this.val=t}return e.prototype[Symbol.iterator]=function(){var t=Object(this.val);return Symbol.iterator in t?t[Symbol.iterator]():{next:function(){return{done:!0,value:void 0}}}},e.prototype.else=function(t){return this.val},e.prototype.unwrapOr=function(t){return this.val},e.prototype.expect=function(t){return this.val},e.prototype.unwrap=function(){return this.val},e.prototype.map=function(t){return new St(t(this.val))},e.prototype.andThen=function(t){return t(this.val)},e.prototype.mapErr=function(t){return this},e.prototype.toOption=function(){return wi(this.val)},e.prototype.safeUnwrap=function(){return this.val},e.prototype.toString=function(){return"Ok("+Br(this.val)+")"},e.EMPTY=new e(void 0),e}(),St=e$,Vl;(function(e){function t(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];for(var c=[],u=0,l=a;u<l.length;u++){var d=l[u];if(d.ok)c.push(d.val);else return d}return new St(c)}e.all=t;function r(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];for(var c=[],u=0,l=a;u<l.length;u++){var d=l[u];if(d.ok)return d;c.push(d.val)}return new Le(c)}e.any=r;function n(a){try{return new St(a())}catch(s){return new Le(s)}}e.wrap=n;function i(a){try{return a().then(function(s){return new St(s)}).catch(function(s){return new Le(s)})}catch(s){return Promise.resolve(new Le(s))}}e.wrapAsync=i;function o(a){return a instanceof Le||a instanceof St}e.isResult=o})(Vl||(Vl={}));const st={warning:"â",error:"ð¨",debug:"âï¸",user:"ð¤"},Ac=(e,t)=>t===te.logging["Severity::Warning"]?st.warning:t===te.logging["Severity::Error"]?st.error:e===te.logging["Visibility::Debug"]?st.debug:st.user;class t${constructor(t){v(this,"callback");this.callback=t}warning(t){var r;(r=this.callback)==null||r.call(this,`${st.warning} ${t}`)}error(t){var r;(r=this.callback)==null||r.call(this,`${st.error} ${t}`)}debug(t){var r;(r=this.callback)==null||r.call(this,`${st.debug} ${t}`)}user(t){var r;(r=this.callback)==null||r.call(this,`${st.user} ${t}`)}}class r${constructor(t){v(this,"clients");v(this,"exec");this.clients=new Set,this.exec=t}async shell(t,r,n){const{mosh_server_command:i}=t.host.getMergedSshConfig(),o=t.delegate.onDisconnect;t.delegate.onDisconnect=()=>{};let a;try{a=await this.exec.exec(t,i)}catch(_){t.delegate.onError(_.message,t.displayLabel);return}const{exitCode:s,data:c}=a;if(s){t.delegate.onError(c,t.displayLabel,-1,s);return}const u=n$(c);if(u.err){t.delegate.onLogMessage(`${Ac(te.logging["Visibility::User"],te.logging["Severity::Error"])} ${u.val}`),t.delegate.onError(u.val,t.displayLabel,-1,s);return}const{port:l,key:d}=u.val,p=new Gv.MoshClient;this.clients.add(p),p.start({host:t.host.address.trim(),port:l,key:d,width:r.columns,height:r.rows,receiveCallback:_=>{n.onOutput(_.toString())},stopCallback:()=>{n.onFinished(),o(),this.clients.delete(p)},disconnectCallback:()=>{}}),n.onReady({getType:async()=>{},sendData(_){p.send(Buffer.from(_))},sendBinary(_){p.send(_)},sendSize(_,g){p.resize(_,g)},close(){p.stop()},async setupShellIntegration(){return!1}},{status:"unknown"}),n.onShellIntegrationStatus({type:"skipped"})}closeAllServices(){this.clients.forEach(t=>t.stop()),this.clients.clear()}}const eu="Canceled the mosh connection due to an invalid mosh command output";function n$(e){const t=e.toString().split(`
`).find(Boolean);if(t==null)return Le(eu);const r=t.split(" ");if(r.length<=3)return Le(eu);const n=Number.parseInt(r[2],10);if(Number.isNaN(n))return Le(eu);const i=r[3].trimRight();return St({port:n,key:i})}var i$=qd,o$="Expected a function";function a$(e,t){var r;if(typeof t!="function")throw new TypeError(o$);return e=i$(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=void 0),r}}var s$=a$,u$=s$;function c$(e){return u$(2,e)}var l$=c$;const f$=f.getDefaultExportFromCjs(l$),Hl=(e,t)=>function(){const r=t.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,o)=>{t.errorFirst?n.push(function(a,s){if(t.multiArgs){const c=new Array(arguments.length-1);for(let u=1;u<arguments.length;u++)c[u-1]=arguments[u];a?(c.unshift(a),o(c)):i(c)}else a?o(a):i(s)}):n.push(function(a){if(t.multiArgs){const s=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)s[c]=arguments[c];i(s)}else i(a)}),e.apply(this,n)})};var d$=(e,t)=>{t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);const r=i=>{const o=a=>typeof a=="string"?i===a:a.test(i);return t.include?t.include.some(o):!t.exclude.some(o)};let n;typeof e=="function"?n=function(){return t.excludeMain?e.apply(this,arguments):Hl(e,t).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(e));for(const i in e){const o=e[i];n[i]=typeof o=="function"&&r(i)?Hl(o,t):o}return n};const h$=f.getDefaultExportFromCjs(d$);var z={},q={},_r={},H={};Object.defineProperty(H,"__esModule",{value:!0});H.isFunction=void 0;function p$(e){return typeof e=="function"}H.isFunction=p$;var ue={},en={},Be={};Object.defineProperty(Be,"__esModule",{value:!0});Be.createErrorClass=void 0;function v$(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}Be.createErrorClass=v$;Object.defineProperty(en,"__esModule",{value:!0});en.UnsubscriptionError=void 0;var m$=Be;en.UnsubscriptionError=m$.createErrorClass(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});var ke={};Object.defineProperty(ke,"__esModule",{value:!0});ke.arrRemove=void 0;function _$(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}ke.arrRemove=_$;var zl=f.commonjsGlobal&&f.commonjsGlobal.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ql=f.commonjsGlobal&&f.commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},Yl=f.commonjsGlobal&&f.commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(ue,"__esModule",{value:!0});ue.isSubscription=ue.EMPTY_SUBSCRIPTION=ue.Subscription=void 0;var Vr=H,tu=en,Xl=ke,Ic=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=zl(a),c=s.next();!c.done;c=s.next()){var u=c.value;u.remove(this)}}catch(m){t={error:m}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}else a.remove(this);var l=this.initialTeardown;if(Vr.isFunction(l))try{l()}catch(m){o=m instanceof tu.UnsubscriptionError?m.errors:[m]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var p=zl(d),_=p.next();!_.done;_=p.next()){var g=_.value;try{Ql(g)}catch(m){o=o??[],m instanceof tu.UnsubscriptionError?o=Yl(Yl([],ql(o)),ql(m.errors)):o.push(m)}}}catch(m){n={error:m}}finally{try{_&&!_.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}}if(o)throw new tu.UnsubscriptionError(o)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)Ql(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&Xl.arrRemove(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&Xl.arrRemove(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();ue.Subscription=Ic;ue.EMPTY_SUBSCRIPTION=Ic.EMPTY;function b$(e){return e instanceof Ic||e&&"closed"in e&&Vr.isFunction(e.remove)&&Vr.isFunction(e.add)&&Vr.isFunction(e.unsubscribe)}ue.isSubscription=b$;function Ql(e){Vr.isFunction(e)?e():e.unsubscribe()}var dt={};Object.defineProperty(dt,"__esModule",{value:!0});dt.config=void 0;dt.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var tn={},Tc={};(function(e){var t=f.commonjsGlobal&&f.commonjsGlobal.__read||function(n,i){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var a=o.call(n),s,c=[],u;try{for(;(i===void 0||i-- >0)&&!(s=a.next()).done;)c.push(s.value)}catch(l){u={error:l}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(u)throw u.error}}return c},r=f.commonjsGlobal&&f.commonjsGlobal.__spreadArray||function(n,i){for(var o=0,a=i.length,s=n.length;o<a;o++,s++)n[s]=i[o];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.timeoutProvider=void 0,e.timeoutProvider={setTimeout:function(n,i){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var s=e.timeoutProvider.delegate;return s!=null&&s.setTimeout?s.setTimeout.apply(s,r([n,i],t(o))):setTimeout.apply(void 0,r([n,i],t(o)))},clearTimeout:function(n){var i=e.timeoutProvider.delegate;return((i==null?void 0:i.clearTimeout)||clearTimeout)(n)},delegate:void 0}})(Tc);Object.defineProperty(tn,"__esModule",{value:!0});tn.reportUnhandledError=void 0;var y$=dt,g$=Tc;function S$(e){g$.timeoutProvider.setTimeout(function(){var t=y$.config.onUnhandledError;if(t)t(e);else throw e})}tn.reportUnhandledError=S$;var ce={};Object.defineProperty(ce,"__esModule",{value:!0});ce.noop=void 0;function E$(){}ce.noop=E$;var xe={};Object.defineProperty(xe,"__esModule",{value:!0});xe.createNotification=xe.nextNotification=xe.errorNotification=xe.COMPLETE_NOTIFICATION=void 0;xe.COMPLETE_NOTIFICATION=function(){return Li("C",void 0,void 0)}();function O$(e){return Li("E",void 0,e)}xe.errorNotification=O$;function w$(e){return Li("N",e,void 0)}xe.nextNotification=w$;function Li(e,t,r){return{kind:e,value:t,error:r}}xe.createNotification=Li;var ut={};Object.defineProperty(ut,"__esModule",{value:!0});ut.captureError=ut.errorContext=void 0;var xh=dt,Et=null;function P$(e){if(xh.config.useDeprecatedSynchronousErrorHandling){var t=!Et;if(t&&(Et={errorThrown:!1,error:null}),e(),t){var r=Et,n=r.errorThrown,i=r.error;if(Et=null,n)throw i}}else e()}ut.errorContext=P$;function $$(e){xh.config.useDeprecatedSynchronousErrorHandling&&Et&&(Et.errorThrown=!0,Et.error=e)}ut.captureError=$$;(function(e){var t=f.commonjsGlobal&&f.commonjsGlobal.__extends||function(){var O=function(P,$){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,M){C.__proto__=M}||function(C,M){for(var F in M)Object.prototype.hasOwnProperty.call(M,F)&&(C[F]=M[F])},O(P,$)};return function(P,$){if(typeof $!="function"&&$!==null)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");O(P,$);function C(){this.constructor=P}P.prototype=$===null?Object.create($):(C.prototype=$.prototype,new C)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_OBSERVER=e.SafeSubscriber=e.Subscriber=void 0;var r=H,n=ue,i=dt,o=tn,a=ce,s=xe,c=Tc,u=ut,l=function(O){t(P,O);function P($){var C=O.call(this)||this;return C.isStopped=!1,$?(C.destination=$,n.isSubscription($)&&$.add(C)):C.destination=e.EMPTY_OBSERVER,C}return P.create=function($,C,M){return new g($,C,M)},P.prototype.next=function($){this.isStopped?w(s.nextNotification($),this):this._next($)},P.prototype.error=function($){this.isStopped?w(s.errorNotification($),this):(this.isStopped=!0,this._error($))},P.prototype.complete=function(){this.isStopped?w(s.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},P.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,O.prototype.unsubscribe.call(this),this.destination=null)},P.prototype._next=function($){this.destination.next($)},P.prototype._error=function($){try{this.destination.error($)}finally{this.unsubscribe()}},P.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},P}(n.Subscription);e.Subscriber=l;var d=Function.prototype.bind;function p(O,P){return d.call(O,P)}var _=function(){function O(P){this.partialObserver=P}return O.prototype.next=function(P){var $=this.partialObserver;if($.next)try{$.next(P)}catch(C){m(C)}},O.prototype.error=function(P){var $=this.partialObserver;if($.error)try{$.error(P)}catch(C){m(C)}else m(P)},O.prototype.complete=function(){var P=this.partialObserver;if(P.complete)try{P.complete()}catch($){m($)}},O}(),g=function(O){t(P,O);function P($,C,M){var F=O.call(this)||this,x;if(r.isFunction($)||!$)x={next:$??void 0,error:C??void 0,complete:M??void 0};else{var V;F&&i.config.useDeprecatedNextContext?(V=Object.create($),V.unsubscribe=function(){return F.unsubscribe()},x={next:$.next&&p($.next,V),error:$.error&&p($.error,V),complete:$.complete&&p($.complete,V)}):x=$}return F.destination=new _(x),F}return P}(l);e.SafeSubscriber=g;function m(O){i.config.useDeprecatedSynchronousErrorHandling?u.captureError(O):o.reportUnhandledError(O)}function S(O){throw O}function w(O,P){var $=i.config.onStoppedNotification;$&&c.timeoutProvider.setTimeout(function(){return $(O,P)})}e.EMPTY_OBSERVER={closed:!0,next:a.noop,error:S,complete:a.noop}})(_r);var kt={};Object.defineProperty(kt,"__esModule",{value:!0});kt.observable=void 0;kt.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();var Ze={},le={};Object.defineProperty(le,"__esModule",{value:!0});le.identity=void 0;function C$(e){return e}le.identity=C$;Object.defineProperty(Ze,"__esModule",{value:!0});Ze.pipeFromArray=Ze.pipe=void 0;var A$=le;function I$(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Gh(e)}Ze.pipe=I$;function Gh(e){return e.length===0?A$.identity:e.length===1?e[0]:function(r){return e.reduce(function(n,i){return i(n)},r)}}Ze.pipeFromArray=Gh;Object.defineProperty(q,"__esModule",{value:!0});q.Observable=void 0;var Cu=_r,T$=ue,j$=kt,k$=Ze,R$=dt,ru=H,M$=ut,N$=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var i=this,o=F$(t)?t:new Cu.SafeSubscriber(t,r,n);return M$.errorContext(function(){var a=i,s=a.operator,c=a.source;o.add(s?s.call(o,c):c?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=Jl(r),new r(function(i,o){var a=new Cu.SafeSubscriber({next:function(s){try{t(s)}catch(c){o(c),a.unsubscribe()}},error:o,complete:i});n.subscribe(a)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[j$.observable]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return k$.pipeFromArray(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=Jl(t),new t(function(n,i){var o;r.subscribe(function(a){return o=a},function(a){return i(a)},function(){return n(o)})})},e.create=function(t){return new e(t)},e}();q.Observable=N$;function Jl(e){var t;return(t=e??R$.config.Promise)!==null&&t!==void 0?t:Promise}function D$(e){return e&&ru.isFunction(e.next)&&ru.isFunction(e.error)&&ru.isFunction(e.complete)}function F$(e){return e&&e instanceof Cu.Subscriber||D$(e)&&T$.isSubscription(e)}var Rt={},rn={},T={};Object.defineProperty(T,"__esModule",{value:!0});T.operate=T.hasLift=void 0;var L$=H;function Uh(e){return L$.isFunction(e==null?void 0:e.lift)}T.hasLift=Uh;function x$(e){return function(t){if(Uh(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}T.operate=x$;var k={},G$=f.commonjsGlobal&&f.commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(k,"__esModule",{value:!0});k.OperatorSubscriber=k.createOperatorSubscriber=void 0;var U$=_r;function W$(e,t,r,n,i){return new Wh(e,t,r,n,i)}k.createOperatorSubscriber=W$;var Wh=function(e){G$(t,e);function t(r,n,i,o,a,s){var c=e.call(this,r)||this;return c.onFinalize=a,c.shouldUnsubscribe=s,c._next=n?function(u){try{n(u)}catch(l){r.error(l)}}:e.prototype._next,c._error=o?function(u){try{o(u)}catch(l){r.error(l)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=i?function(){try{i()}catch(u){r.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},t}(U$.Subscriber);k.OperatorSubscriber=Wh;Object.defineProperty(rn,"__esModule",{value:!0});rn.refCount=void 0;var K$=T,B$=k;function V$(){return K$.operate(function(e,t){var r=null;e._refCount++;var n=B$.createOperatorSubscriber(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){r=null;return}var i=e._connection,o=r;r=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}rn.refCount=V$;var H$=f.commonjsGlobal&&f.commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Rt,"__esModule",{value:!0});Rt.ConnectableObservable=void 0;var z$=q,Zl=ue,q$=rn,Y$=k,X$=T,Q$=function(e){H$(t,e);function t(r,n){var i=e.call(this)||this;return i.source=r,i.subjectFactory=n,i._subject=null,i._refCount=0,i._connection=null,X$.hasLift(r)&&(i.lift=r.lift),i}return t.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},t.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var r=this._connection;this._subject=this._connection=null,r==null||r.unsubscribe()},t.prototype.connect=function(){var r=this,n=this._connection;if(!n){n=this._connection=new Zl.Subscription;var i=this.getSubject();n.add(this.source.subscribe(Y$.createOperatorSubscriber(i,void 0,function(){r._teardown(),i.complete()},function(o){r._teardown(),i.error(o)},function(){return r._teardown()}))),n.closed&&(this._connection=null,n=Zl.Subscription.EMPTY)}return n},t.prototype.refCount=function(){return q$.refCount()(this)},t}(z$.Observable);Rt.ConnectableObservable=Q$;var xi={},Kh={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.performanceTimestampProvider=void 0,e.performanceTimestampProvider={now:function(){return(e.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}})(Kh);var jc={};(function(e){var t=f.commonjsGlobal&&f.commonjsGlobal.__read||function(i,o){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var s=a.call(i),c,u=[],l;try{for(;(o===void 0||o-- >0)&&!(c=s.next()).done;)u.push(c.value)}catch(d){l={error:d}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(l)throw l.error}}return u},r=f.commonjsGlobal&&f.commonjsGlobal.__spreadArray||function(i,o){for(var a=0,s=o.length,c=i.length;a<s;a++,c++)i[c]=o[a];return i};Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrameProvider=void 0;var n=ue;e.animationFrameProvider={schedule:function(i){var o=requestAnimationFrame,a=cancelAnimationFrame,s=e.animationFrameProvider.delegate;s&&(o=s.requestAnimationFrame,a=s.cancelAnimationFrame);var c=o(function(u){a=void 0,i(u)});return new n.Subscription(function(){return a==null?void 0:a(c)})},requestAnimationFrame:function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=e.animationFrameProvider.delegate;return((a==null?void 0:a.requestAnimationFrame)||requestAnimationFrame).apply(void 0,r([],t(i)))},cancelAnimationFrame:function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=e.animationFrameProvider.delegate;return((a==null?void 0:a.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,r([],t(i)))},delegate:void 0}})(jc);Object.defineProperty(xi,"__esModule",{value:!0});xi.animationFrames=void 0;var J$=q,Z$=Kh,ef=jc;function eC(e){return e?Bh(e):tC}xi.animationFrames=eC;function Bh(e){return new J$.Observable(function(t){var r=e||Z$.performanceTimestampProvider,n=r.now(),i=0,o=function(){t.closed||(i=ef.animationFrameProvider.requestAnimationFrame(function(a){i=0;var s=r.now();t.next({timestamp:e?s:a,elapsed:s-n}),o()}))};return o(),function(){i&&ef.animationFrameProvider.cancelAnimationFrame(i)}})}var tC=Bh(),re={},nn={};Object.defineProperty(nn,"__esModule",{value:!0});nn.ObjectUnsubscribedError=void 0;var rC=Be;nn.ObjectUnsubscribedError=rC.createErrorClass(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}});var Vh=f.commonjsGlobal&&f.commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),nC=f.commonjsGlobal&&f.commonjsGlobal.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(re,"__esModule",{value:!0});re.AnonymousSubject=re.Subject=void 0;var tf=q,Au=ue,iC=nn,oC=ke,nu=ut,Hh=function(e){Vh(t,e);function t(){var r=e.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return t.prototype.lift=function(r){var n=new Iu(this,this);return n.operator=r,n},t.prototype._throwIfClosed=function(){if(this.closed)throw new iC.ObjectUnsubscribedError},t.prototype.next=function(r){var n=this;nu.errorContext(function(){var i,o;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var a=nC(n.currentObservers),s=a.next();!s.done;s=a.next()){var c=s.value;c.next(r)}}catch(u){i={error:u}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}}})},t.prototype.error=function(r){var n=this;nu.errorContext(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},t.prototype.complete=function(){var r=this;nu.errorContext(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(r){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,r)},t.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},t.prototype._innerSubscribe=function(r){var n=this,i=this,o=i.hasError,a=i.isStopped,s=i.observers;return o||a?Au.EMPTY_SUBSCRIPTION:(this.currentObservers=null,s.push(r),new Au.Subscription(function(){n.currentObservers=null,oC.arrRemove(s,r)}))},t.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,o=n.thrownError,a=n.isStopped;i?r.error(o):a&&r.complete()},t.prototype.asObservable=function(){var r=new tf.Observable;return r.source=this,r},t.create=function(r,n){return new Iu(r,n)},t}(tf.Observable);re.Subject=Hh;var Iu=function(e){Vh(t,e);function t(r,n){var i=e.call(this)||this;return i.destination=r,i.source=n,i}return t.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},t.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},t.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},t.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:Au.EMPTY_SUBSCRIPTION},t}(Hh);re.AnonymousSubject=Iu;var on={},aC=f.commonjsGlobal&&f.commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(on,"__esModule",{value:!0});on.BehaviorSubject=void 0;var sC=re,uC=function(e){aC(t,e);function t(r){var n=e.call(this)||this;return n._value=r,n}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(r){var n=e.prototype._subscribe.call(this,r);return!n.closed&&r.next(this._value),n},t.prototype.getValue=function(){var r=this,n=r.hasError,i=r.thrownError,o=r._value;if(n)throw i;return this._throwIfClosed(),o},t.prototype.next=function(r){e.prototype.next.call(this,this._value=r)},t}(sC.Subject);on.BehaviorSubject=uC;var br={},Gi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.dateTimestampProvider=void 0,e.dateTimestampProvider={now:function(){return(e.dateTimestampProvider.delegate||Date).now()},delegate:void 0}})(Gi);var cC=f.commonjsGlobal&&f.commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(br,"__esModule",{value:!0});br.ReplaySubject=void 0;var lC=re,fC=Gi,dC=function(e){cC(t,e);function t(r,n,i){r===void 0&&(r=1/0),n===void 0&&(n=1/0),i===void 0&&(i=fC.dateTimestampProvider);var o=e.call(this)||this;return o._bufferSize=r,o._windowTime=n,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,r),o._windowTime=Math.max(1,n),o}return t.prototype.next=function(r){var n=this,i=n.isStopped,o=n._buffer,a=n._infiniteTimeWindow,s=n._timestampProvider,c=n._windowTime;i||(o.push(r),!a&&o.push(s.now()+c)),this._trimBuffer(),e.prototype.next.call(this,r)},t.prototype._subscribe=function(r){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(r),i=this,o=i._infiniteTimeWindow,a=i._buffer,s=a.slice(),c=0;c<s.length&&!r.closed;c+=o?1:2)r.next(s[c]);return this._checkFinalizedStatuses(r),n},t.prototype._trimBuffer=function(){var r=this,n=r._bufferSize,i=r._timestampProvider,o=r._buffer,a=r._infiniteTimeWindow,s=(a?1:2)*n;if(n<1/0&&s<o.length&&o.splice(0,o.length-s),!a){for(var c=i.now(),u=0,l=1;l<o.length&&o[l]<=c;l+=2)u=l;u&&o.splice(0,u+1)}},t}(lC.Subject);br.ReplaySubject=dC;var yr={},hC=f.commonjsGlobal&&f.commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(yr,"__esModule",{value:!0});yr.AsyncSubject=void 0;var pC=re,vC=function(e){hC(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._value=null,r._hasValue=!1,r._isComplete=!1,r}return t.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,o=n._hasValue,a=n._value,s=n.thrownError,c=n.isStopped,u=n._isComplete;i?r.error(s):(c||u)&&(o&&r.next(a),r.complete())},t.prototype.next=function(r){this.isStopped||(this._value=r,this._hasValue=!0)},t.prototype.complete=function(){var r=this,n=r._hasValue,i=r._value,o=r._isComplete;o||(this._isComplete=!0,n&&e.prototype.next.call(this,i),e.prototype.complete.call(this))},t}(pC.Subject);yr.AsyncSubject=vC;var zh={},Ui={},ht={},Wi={},mC=f.commonjsGlobal&&f.commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Wi,"__esModule",{value:!0});Wi.Action=void 0;var _C=ue,bC=function(e){mC(t,e);function t(r,n){return e.call(this)||this}return t.prototype.schedule=function(r,n){return this},t}(_C.Subscription);Wi.Action=bC;var qh={};(function(e){var t=f.commonjsGlobal&&f.commonjsGlobal.__read||function(n,i){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var a=o.call(n),s,c=[],u;try{for(;(i===void 0||i-- >0)&&!(s=a.next()).done;)c.push(s.value)}catch(l){u={error:l}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(u)throw u.error}}return c},r=f.commonjsGlobal&&f.commonjsGlobal.__spreadArray||function(n,i){for(var o=0,a=i.length,s=n.length;o<a;o++,s++)n[s]=i[o];return n};Object.defineProperty(e,"__esModule",{value:!0}),e.intervalProvider=void 0,e.intervalProvider={setInterval:function(n,i){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var s=e.intervalProvider.delegate;return s!=null&&s.setInterval?s.setInterval.apply(s,r([n,i],t(o))):setInterval.apply(void 0,r([n,i],t(o)))},clearInterval:function(n){var i=e.intervalProvider.delegate;return((i==null?void 0:i.clearInterval)||clearInterval)(n)},delegate:void 0}})(qh);var yC=f.commonjsGlobal&&f.commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ht,"__esModule",{value:!0});ht.AsyncAction=void 0;var gC=Wi,rf=qh,SC=ke,EC=function(e){yC(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return t.prototype.schedule=function(r,n){var i;if(n===void 0&&(n=0),this.closed)return this;this.state=r;var o=this.id,a=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(a,o,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(a,this.id,n),this},t.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),rf.intervalProvider.setInterval(r.flush.bind(r,this),i)},t.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&rf.intervalProvider.clearInterval(n)},t.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(r,n){var i=!1,o;try{this.work(r)}catch(a){i=!0,o=a||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},t.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,i=r.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,SC.arrRemove(o,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(gC.Action);ht.AsyncAction=EC;var Yh={},cr={};Object.defineProperty(cr,"__esModule",{value:!0});cr.TestTools=cr.Immediate=void 0;var OC=1,iu,Pi={};function nf(e){return e in Pi?(delete Pi[e],!0):!1}cr.Immediate={setImmediate:function(e){var t=OC++;return Pi[t]=!0,iu||(iu=Promise.resolve()),iu.then(function(){return nf(t)&&e()}),t},clearImmediate:function(e){nf(e)}};cr.TestTools={pending:function(){return Object.keys(Pi).length}};(function(e){var t=f.commonjsGlobal&&f.commonjsGlobal.__read||function(a,s){var c=typeof Symbol=="function"&&a[Symbol.iterator];if(!c)return a;var u=c.call(a),l,d=[],p;try{for(;(s===void 0||s-- >0)&&!(l=u.next()).done;)d.push(l.value)}catch(_){p={error:_}}finally{try{l&&!l.done&&(c=u.return)&&c.call(u)}finally{if(p)throw p.error}}return d},r=f.commonjsGlobal&&f.commonjsGlobal.__spreadArray||function(a,s){for(var c=0,u=s.length,l=a.length;c<u;c++,l++)a[l]=s[c];return a};Object.defineProperty(e,"__esModule",{value:!0}),e.immediateProvider=void 0;var n=cr,i=n.Immediate.setImmediate,o=n.Immediate.clearImmediate;e.immediateProvider={setImmediate:function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var c=e.immediateProvider.delegate;return((c==null?void 0:c.setImmediate)||i).apply(void 0,r([],t(a)))},clearImmediate:function(a){var s=e.immediateProvider.delegate;return((s==null?void 0:s.clearImmediate)||o)(a)},delegate:void 0}})(Yh);var wC=f.commonjsGlobal&&f.commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Ui,"__esModule",{value:!0});Ui.AsapAction=void 0;var PC=ht,of=Yh,$C=function(e){wC(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return t.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r._scheduled||(r._scheduled=of.immediateProvider.setImmediate(r.flush.bind(r,void 0))))},t.prototype.recycleAsyncId=function(r,n,i){var o;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,r,n,i);var a=r.actions;n!=null&&((o=a[a.length-1])===null||o===void 0?void 0:o.id)!==n&&(of.immediateProvider.clearImmediate(n),r._scheduled===n&&(r._scheduled=void 0))},t}(PC.AsyncAction);Ui.AsapAction=$C;var Ki={},pt={},an={};Object.defineProperty(an,"__esModule",{value:!0});an.Scheduler=void 0;var CC=Gi,AC=function(){function e(t,r){r===void 0&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(t,r,n){return r===void 0&&(r=0),new this.schedulerActionCtor(this,t).schedule(n,r)},e.now=CC.dateTimestampProvider.now,e}();an.Scheduler=AC;var IC=f.commonjsGlobal&&f.commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(pt,"__esModule",{value:!0});pt.AsyncScheduler=void 0;var af=an,TC=function(e){IC(t,e);function t(r,n){n===void 0&&(n=af.Scheduler.now);var i=e.call(this,r,n)||this;return i.actions=[],i._active=!1,i}return t.prototype.flush=function(r){var n=this.actions;if(this._active){n.push(r);return}var i;this._active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this._active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},t}(af.Scheduler);pt.AsyncScheduler=TC;var jC=f.commonjsGlobal&&f.commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Ki,"__esModule",{value:!0});Ki.AsapScheduler=void 0;var kC=pt,RC=function(e){jC(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(r){this._active=!0;var n=this._scheduled;this._scheduled=void 0;var i=this.actions,o;r=r||i.shift();do if(o=r.execute(r.state,r.delay))break;while((r=i[0])&&r.id===n&&i.shift());if(this._active=!1,o){for(;(r=i[0])&&r.id===n&&i.shift();)r.unsubscribe();throw o}},t}(kC.AsyncScheduler);Ki.AsapScheduler=RC;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.asap=e.asapScheduler=void 0;var t=Ui,r=Ki;e.asapScheduler=new r.AsapScheduler(t.AsapAction),e.asap=e.asapScheduler})(zh);var ge={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.async=e.asyncScheduler=void 0;var t=ht,r=pt;e.asyncScheduler=new r.AsyncScheduler(t.AsyncAction),e.async=e.asyncScheduler})(ge);var Xh={},Bi={},MC=f.commonjsGlobal&&f.commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Bi,"__esModule",{value:!0});Bi.QueueAction=void 0;var NC=ht,DC=function(e){MC(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return t.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?e.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},t.prototype.execute=function(r,n){return n>0||this.closed?e.prototype.execute.call(this,r,n):this._execute(r,n)},t.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0?e.prototype.requestAsyncId.call(this,r,n,i):(r.flush(this),0)},t}(NC.AsyncAction);Bi.QueueAction=DC;var Vi={},FC=f.commonjsGlobal&&f.commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Vi,"__esModule",{value:!0});Vi.QueueScheduler=void 0;var LC=pt,xC=function(e){FC(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(LC.AsyncScheduler);Vi.QueueScheduler=xC;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.queue=e.queueScheduler=void 0;var t=Bi,r=Vi;e.queueScheduler=new r.QueueScheduler(t.QueueAction),e.queue=e.queueScheduler})(Xh);var Qh={},Hi={},GC=f.commonjsGlobal&&f.commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Hi,"__esModule",{value:!0});Hi.AnimationFrameAction=void 0;var UC=ht,sf=jc,WC=function(e){GC(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return t.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r._scheduled||(r._scheduled=sf.animationFrameProvider.requestAnimationFrame(function(){return r.flush(void 0)})))},t.prototype.recycleAsyncId=function(r,n,i){var o;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,r,n,i);var a=r.actions;n!=null&&((o=a[a.length-1])===null||o===void 0?void 0:o.id)!==n&&(sf.animationFrameProvider.cancelAnimationFrame(n),r._scheduled=void 0)},t}(UC.AsyncAction);Hi.AnimationFrameAction=WC;var zi={},KC=f.commonjsGlobal&&f.commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(zi,"__esModule",{value:!0});zi.AnimationFrameScheduler=void 0;var BC=pt,VC=function(e){KC(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(r){this._active=!0;var n=this._scheduled;this._scheduled=void 0;var i=this.actions,o;r=r||i.shift();do if(o=r.execute(r.state,r.delay))break;while((r=i[0])&&r.id===n&&i.shift());if(this._active=!1,o){for(;(r=i[0])&&r.id===n&&i.shift();)r.unsubscribe();throw o}},t}(BC.AsyncScheduler);zi.AnimationFrameScheduler=VC;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrame=e.animationFrameScheduler=void 0;var t=Hi,r=zi;e.animationFrameScheduler=new r.AnimationFrameScheduler(t.AnimationFrameAction),e.animationFrame=e.animationFrameScheduler})(Qh);var lr={},Jh=f.commonjsGlobal&&f.commonjsGlobal.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(lr,"__esModule",{value:!0});lr.VirtualAction=lr.VirtualTimeScheduler=void 0;var HC=ht,zC=ue,qC=pt,YC=function(e){Jh(t,e);function t(r,n){r===void 0&&(r=Zh),n===void 0&&(n=1/0);var i=e.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return t.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,o,a;(a=n[0])&&a.delay<=i&&(n.shift(),this.frame=a.delay,!(o=a.execute(a.state,a.delay))););if(o){for(;a=n.shift();)a.unsubscribe();throw o}},t.frameTimeFactor=10,t}(qC.AsyncScheduler);lr.VirtualTimeScheduler=YC;var Zh=function(e){Jh(t,e);function t(r,n,i){i===void 0&&(i=r.index+=1);var o=e.call(this,r,n)||this;return o.scheduler=r,o.work=n,o.index=i,o.active=!0,o.index=r.index=i,o}return t.prototype.schedule=function(r,n){if(n===void 0&&(n=0),Number.isFinite(n)){if(!this.id)return e.prototype.schedule.call(this,r,n);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(r,n)}else return zC.Subscription.EMPTY},t.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var o=r.actions;return o.push(this),o.sort(t.sortActions),1},t.prototype.recycleAsyncId=function(r,n,i){},t.prototype._execute=function(r,n){if(this.active===!0)return e.prototype._execute.call(this,r,n)},t.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},t}(HC.AsyncAction);lr.VirtualAction=Zh;var qi={},Te={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.empty=e.EMPTY=void 0;var t=q;e.EMPTY=new t.Observable(function(i){return i.complete()});function r(i){return i?n(i):e.EMPTY}e.empty=r;function n(i){return new t.Observable(function(o){return i.schedule(function(){return o.complete()})})}})(Te);var gr={},ie={},Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.isScheduler=void 0;var XC=H;function QC(e){return e&&XC.isFunction(e.schedule)}Mt.isScheduler=QC;Object.defineProperty(ie,"__esModule",{value:!0});ie.popNumber=ie.popScheduler=ie.popResultSelector=void 0;var JC=H,ZC=Mt;function kc(e){return e[e.length-1]}function eA(e){return JC.isFunction(kc(e))?e.pop():void 0}ie.popResultSelector=eA;function tA(e){return ZC.isScheduler(kc(e))?e.pop():void 0}ie.popScheduler=tA;function rA(e,t){return typeof kc(e)=="number"?e.pop():t}ie.popNumber=rA;var Re={},sn={},Yi={},N={},Sr={};Object.defineProperty(Sr,"__esModule",{value:!0});Sr.isArrayLike=void 0;Sr.isArrayLike=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};var un={};Object.defineProperty(un,"__esModule",{value:!0});un.isPromise=void 0;var nA=H;function iA(e){return nA.isFunction(e==null?void 0:e.then)}un.isPromise=iA;var cn={};Object.defineProperty(cn,"__esModule",{value:!0});cn.isInteropObservable=void 0;var oA=kt,aA=H;function sA(e){return aA.isFunction(e[oA.observable])}cn.isInteropObservable=sA;var ln={};Object.defineProperty(ln,"__esModule",{value:!0});ln.isAsyncIterable=void 0;var uA=H;function cA(e){return Symbol.asyncIterator&&uA.isFunction(e==null?void 0:e[Symbol.asyncIterator])}ln.isAsyncIterable=cA;var fn={};Object.defineProperty(fn,"__esModule",{value:!0});fn.createInvalidObservableTypeError=void 0;function lA(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}fn.createInvalidObservableTypeError=lA;var dn={},At={};Object.defineProperty(At,"__esModule",{value:!0});At.iterator=At.getSymbolIterator=void 0;function ep(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}At.getSymbolIterator=ep;At.iterator=ep();Object.defineProperty(dn,"__esModule",{value:!0});dn.isIterable=void 0;var fA=At,dA=H;function hA(e){return dA.isFunction(e==null?void 0:e[fA.iterator])}dn.isIterable=hA;var ct={},pA=f.commonjsGlobal&&f.commonjsGlobal.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ar=f.commonjsGlobal&&f.commonjsGlobal.__await||function(e){return this instanceof ar?(this.v=e,this):new ar(e)},vA=f.commonjsGlobal&&f.commonjsGlobal.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(p){n[p]&&(i[p]=function(_){return new Promise(function(g,m){o.push([p,_,g,m])>1||s(p,_)})})}function s(p,_){try{c(n[p](_))}catch(g){d(o[0][3],g)}}function c(p){p.value instanceof ar?Promise.resolve(p.value.v).then(u,l):d(o[0][2],p)}function u(p){s("next",p)}function l(p){s("throw",p)}function d(p,_){p(_),o.shift(),o.length&&s(o[0][0],o[0][1])}};Object.defineProperty(ct,"__esModule",{value:!0});ct.isReadableStreamLike=ct.readableStreamLikeToAsyncGenerator=void 0;var mA=H;function _A(e){return vA(this,arguments,function(){var r,n,i,o;return pA(this,function(a){switch(a.label){case 0:r=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,ar(r.read())];case 3:return n=a.sent(),i=n.value,o=n.done,o?[4,ar(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,ar(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}ct.readableStreamLikeToAsyncGenerator=_A;function bA(e){return mA.isFunction(e==null?void 0:e.getReader)}ct.isReadableStreamLike=bA;var yA=f.commonjsGlobal&&f.commonjsGlobal.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(l){try{u(n.next(l))}catch(d){a(d)}}function c(l){try{u(n.throw(l))}catch(d){a(d)}}function u(l){l.done?o(l.value):i(l.value).then(s,c)}u((n=n.apply(e,t||[])).next())})},gA=f.commonjsGlobal&&f.commonjsGlobal.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},SA=f.commonjsGlobal&&f.commonjsGlobal.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Tu=="function"?Tu(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(a){return new Promise(function(s,c){a=e[o](a),i(s,c,a.done,a.value)})}}function i(o,a,s,c){Promise.resolve(c).then(function(u){o({value:u,done:s})},a)}},Tu=f.commonjsGlobal&&f.commonjsGlobal.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(N,"__esModule",{value:!0});N.fromReadableStreamLike=N.fromAsyncIterable=N.fromIterable=N.fromPromise=N.fromArrayLike=N.fromInteropObservable=N.innerFrom=void 0;var EA=Sr,OA=un,Er=q,wA=cn,PA=ln,$A=fn,CA=dn,tp=ct,AA=H,IA=tn,TA=kt;function jA(e){if(e instanceof Er.Observable)return e;if(e!=null){if(wA.isInteropObservable(e))return rp(e);if(EA.isArrayLike(e))return np(e);if(OA.isPromise(e))return ip(e);if(PA.isAsyncIterable(e))return Rc(e);if(CA.isIterable(e))return op(e);if(tp.isReadableStreamLike(e))return ap(e)}throw $A.createInvalidObservableTypeError(e)}N.innerFrom=jA;function rp(e){return new Er.Observable(function(t){var r=e[TA.observable]();if(AA.isFunction(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}N.fromInteropObservable=rp;function np(e){return new Er.Observable(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}N.fromArrayLike=np;function ip(e){return new Er.Observable(function(t){e.then(function(r){t.closed||(t.next(r),t.complete())},function(r){return t.error(r)}).then(null,IA.reportUnhandledError)})}N.fromPromise=ip;function op(e){return new Er.Observable(function(t){var r,n;try{for(var i=Tu(e),o=i.next();!o.done;o=i.next()){var a=o.value;if(t.next(a),t.closed)return}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}t.complete()})}N.fromIterable=op;function Rc(e){return new Er.Observable(function(t){kA(e,t).catch(function(r){return t.error(r)})})}N.fromAsyncIterable=Rc;function ap(e){return Rc(tp.readableStreamLikeToAsyncGenerator(e))}N.fromReadableStreamLike=ap;function kA(e,t){var r,n,i,o;return yA(this,void 0,void 0,function(){var a,s;return gA(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=SA(e),c.label=1;case 1:return[4,r.next()];case 2:if(n=c.sent(),!!n.done)return[3,4];if(a=n.value,t.next(a),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=c.sent(),i={error:s},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(o=r.return)?[4,o.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}var Nt={},Me={};Object.defineProperty(Me,"__esModule",{value:!0});Me.executeSchedule=void 0;function RA(e,t,r,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var o=t.schedule(function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(o),!i)return o}Me.executeSchedule=RA;Object.defineProperty(Nt,"__esModule",{value:!0});Nt.observeOn=void 0;var ou=Me,MA=T,NA=k;function DA(e,t){return t===void 0&&(t=0),MA.operate(function(r,n){r.subscribe(NA.createOperatorSubscriber(n,function(i){return ou.executeSchedule(n,e,function(){return n.next(i)},t)},function(){return ou.executeSchedule(n,e,function(){return n.complete()},t)},function(i){return ou.executeSchedule(n,e,function(){return n.error(i)},t)}))})}Nt.observeOn=DA;var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.subscribeOn=void 0;var FA=T;function LA(e,t){return t===void 0&&(t=0),FA.operate(function(r,n){n.add(e.schedule(function(){return r.subscribe(n)},t))})}Dt.subscribeOn=LA;Object.defineProperty(Yi,"__esModule",{value:!0});Yi.scheduleObservable=void 0;var xA=N,GA=Nt,UA=Dt;function WA(e,t){return xA.innerFrom(e).pipe(UA.subscribeOn(t),GA.observeOn(t))}Yi.scheduleObservable=WA;var Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.schedulePromise=void 0;var KA=N,BA=Nt,VA=Dt;function HA(e,t){return KA.innerFrom(e).pipe(VA.subscribeOn(t),BA.observeOn(t))}Xi.schedulePromise=HA;var Qi={};Object.defineProperty(Qi,"__esModule",{value:!0});Qi.scheduleArray=void 0;var zA=q;function qA(e,t){return new zA.Observable(function(r){var n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}Qi.scheduleArray=qA;var hn={};Object.defineProperty(hn,"__esModule",{value:!0});hn.scheduleIterable=void 0;var YA=q,XA=At,QA=H,uf=Me;function JA(e,t){return new YA.Observable(function(r){var n;return uf.executeSchedule(r,t,function(){n=e[XA.iterator](),uf.executeSchedule(r,t,function(){var i,o,a;try{i=n.next(),o=i.value,a=i.done}catch(s){r.error(s);return}a?r.complete():r.next(o)},0,!0)}),function(){return QA.isFunction(n==null?void 0:n.return)&&n.return()}})}hn.scheduleIterable=JA;var pn={};Object.defineProperty(pn,"__esModule",{value:!0});pn.scheduleAsyncIterable=void 0;var ZA=q,cf=Me;function eI(e,t){if(!e)throw new Error("Iterable cannot be null");return new ZA.Observable(function(r){cf.executeSchedule(r,t,function(){var n=e[Symbol.asyncIterator]();cf.executeSchedule(r,t,function(){n.next().then(function(i){i.done?r.complete():r.next(i.value)})},0,!0)})})}pn.scheduleAsyncIterable=eI;var Ji={};Object.defineProperty(Ji,"__esModule",{value:!0});Ji.scheduleReadableStreamLike=void 0;var tI=pn,rI=ct;function nI(e,t){return tI.scheduleAsyncIterable(rI.readableStreamLikeToAsyncGenerator(e),t)}Ji.scheduleReadableStreamLike=nI;Object.defineProperty(sn,"__esModule",{value:!0});sn.scheduled=void 0;var iI=Yi,oI=Xi,aI=Qi,sI=hn,uI=pn,cI=cn,lI=un,fI=Sr,dI=dn,hI=ln,pI=fn,vI=ct,mI=Ji;function _I(e,t){if(e!=null){if(cI.isInteropObservable(e))return iI.scheduleObservable(e,t);if(fI.isArrayLike(e))return aI.scheduleArray(e,t);if(lI.isPromise(e))return oI.schedulePromise(e,t);if(hI.isAsyncIterable(e))return uI.scheduleAsyncIterable(e,t);if(dI.isIterable(e))return sI.scheduleIterable(e,t);if(vI.isReadableStreamLike(e))return mI.scheduleReadableStreamLike(e,t)}throw pI.createInvalidObservableTypeError(e)}sn.scheduled=_I;Object.defineProperty(Re,"__esModule",{value:!0});Re.from=void 0;var bI=sn,yI=N;function gI(e,t){return t?bI.scheduled(e,t):yI.innerFrom(e)}Re.from=gI;Object.defineProperty(gr,"__esModule",{value:!0});gr.of=void 0;var SI=ie,EI=Re;function OI(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=SI.popScheduler(e);return EI.from(e,r)}gr.of=OI;var vn={};Object.defineProperty(vn,"__esModule",{value:!0});vn.throwError=void 0;var wI=q,PI=H;function $I(e,t){var r=PI.isFunction(e)?e:function(){return e},n=function(i){return i.error(r())};return new wI.Observable(t?function(i){return t.schedule(n,0,i)}:n)}vn.throwError=$I;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.observeNotification=e.Notification=e.NotificationKind=void 0;var t=Te,r=gr,n=vn,i=H;(function(s){s.NEXT="N",s.ERROR="E",s.COMPLETE="C"})(e.NotificationKind||(e.NotificationKind={}));var o=function(){function s(c,u,l){this.kind=c,this.value=u,this.error=l,this.hasValue=c==="N"}return s.prototype.observe=function(c){return a(this,c)},s.prototype.do=function(c,u,l){var d=this,p=d.kind,_=d.value,g=d.error;return p==="N"?c==null?void 0:c(_):p==="E"?u==null?void 0:u(g):l==null?void 0:l()},s.prototype.accept=function(c,u,l){var d;return i.isFunction((d=c)===null||d===void 0?void 0:d.next)?this.observe(c):this.do(c,u,l)},s.prototype.toObservable=function(){var c=this,u=c.kind,l=c.value,d=c.error,p=u==="N"?r.of(l):u==="E"?n.throwError(function(){return d}):u==="C"?t.EMPTY:0;if(!p)throw new TypeError("Unexpected notification kind "+u);return p},s.createNext=function(c){return new s("N",c)},s.createError=function(c){return new s("E",void 0,c)},s.createComplete=function(){return s.completeNotification},s.completeNotification=new s("C"),s}();e.Notification=o;function a(s,c){var u,l,d,p=s,_=p.kind,g=p.value,m=p.error;if(typeof _!="string")throw new TypeError('Invalid notification, missing "kind"');_==="N"?(u=c.next)===null||u===void 0||u.call(c,g):_==="E"?(l=c.error)===null||l===void 0||l.call(c,m):(d=c.complete)===null||d===void 0||d.call(c)}e.observeNotification=a})(qi);var Zi={};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.isObservable=void 0;var CI=q,lf=H;function AI(e){return!!e&&(e instanceof CI.Observable||lf.isFunction(e.lift)&&lf.isFunction(e.subscribe))}Zi.isObservable=AI;var eo={},Ve={};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.EmptyError=void 0;var II=Be;Ve.EmptyError=II.createErrorClass(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});Object.defineProperty(eo,"__esModule",{value:!0});eo.lastValueFrom=void 0;var TI=Ve;function jI(e,t){var r=typeof t=="object";return new Promise(function(n,i){var o=!1,a;e.subscribe({next:function(s){a=s,o=!0},error:i,complete:function(){o?n(a):r?n(t.defaultValue):i(new TI.EmptyError)}})})}eo.lastValueFrom=jI;var to={};Object.defineProperty(to,"__esModule",{value:!0});to.firstValueFrom=void 0;var kI=Ve,RI=_r;function MI(e,t){var r=typeof t=="object";return new Promise(function(n,i){var o=new RI.SafeSubscriber({next:function(a){n(a),o.unsubscribe()},error:i,complete:function(){r?n(t.defaultValue):i(new kI.EmptyError)}});e.subscribe(o)})}to.firstValueFrom=MI;var mn={};Object.defineProperty(mn,"__esModule",{value:!0});mn.ArgumentOutOfRangeError=void 0;var NI=Be;mn.ArgumentOutOfRangeError=NI.createErrorClass(function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}});var _n={};Object.defineProperty(_n,"__esModule",{value:!0});_n.NotFoundError=void 0;var DI=Be;_n.NotFoundError=DI.createErrorClass(function(e){return function(r){e(this),this.name="NotFoundError",this.message=r}});var bn={};Object.defineProperty(bn,"__esModule",{value:!0});bn.SequenceError=void 0;var FI=Be;bn.SequenceError=FI.createErrorClass(function(e){return function(r){e(this),this.name="SequenceError",this.message=r}});var $i={},Or={};Object.defineProperty(Or,"__esModule",{value:!0});Or.isValidDate=void 0;function LI(e){return e instanceof Date&&!isNaN(e)}Or.isValidDate=LI;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.timeout=e.TimeoutError=void 0;var t=ge,r=Or,n=T,i=N,o=Be,a=k,s=Me;e.TimeoutError=o.createErrorClass(function(l){return function(p){p===void 0&&(p=null),l(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=p}});function c(l,d){var p=r.isValidDate(l)?{first:l}:typeof l=="number"?{each:l}:l,_=p.first,g=p.each,m=p.with,S=m===void 0?u:m,w=p.scheduler,O=w===void 0?d??t.asyncScheduler:w,P=p.meta,$=P===void 0?null:P;if(_==null&&g==null)throw new TypeError("No timeout provided.");return n.operate(function(C,M){var F,x,V=null,Y=0,D=function(G){x=s.executeSchedule(M,O,function(){try{F.unsubscribe(),i.innerFrom(S({meta:$,lastValue:V,seen:Y})).subscribe(M)}catch(L){M.error(L)}},G)};F=C.subscribe(a.createOperatorSubscriber(M,function(G){x==null||x.unsubscribe(),Y++,M.next(V=G),g>0&&D(g)},void 0,void 0,function(){x!=null&&x.closed||x==null||x.unsubscribe(),V=null})),!Y&&D(_!=null?typeof _=="number"?_:+_-O.now():g)})}e.timeout=c;function u(l){throw new e.TimeoutError(l)}})($i);var ro={},yn={},He={},ze={};Object.defineProperty(ze,"__esModule",{value:!0});ze.map=void 0;var xI=T,GI=k;function UI(e,t){return xI.operate(function(r,n){var i=0;r.subscribe(GI.createOperatorSubscriber(n,function(o){n.next(e.call(t,o,i++))}))})}ze.map=UI;var WI=f.commonjsGlobal&&f.commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},KI=f.commonjsGlobal&&f.commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(He,"__esModule",{value:!0});He.mapOneOrManyArgs=void 0;var BI=ze,VI=Array.isArray;function HI(e,t){return VI(t)?e.apply(void 0,KI([],WI(t))):e(t)}function zI(e){return BI.map(function(t){return HI(e,t)})}He.mapOneOrManyArgs=zI;var qI=f.commonjsGlobal&&f.commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},ff=f.commonjsGlobal&&f.commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(yn,"__esModule",{value:!0});yn.bindCallbackInternals=void 0;var YI=Mt,XI=q,QI=Dt,JI=He,ZI=Nt,eT=yr;function ju(e,t,r,n){if(r)if(YI.isScheduler(r))n=r;else return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return ju(e,t,n).apply(this,i).pipe(JI.mapOneOrManyArgs(r))};return n?function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return ju(e,t).apply(this,i).pipe(QI.subscribeOn(n),ZI.observeOn(n))}:function(){for(var i=this,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var s=new eT.AsyncSubject,c=!0;return new XI.Observable(function(u){var l=s.subscribe(u);if(c){c=!1;var d=!1,p=!1;t.apply(i,ff(ff([],qI(o)),[function(){for(var _=[],g=0;g<arguments.length;g++)_[g]=arguments[g];if(e){var m=_.shift();if(m!=null){s.error(m);return}}s.next(1<_.length?_:_[0]),p=!0,d&&s.complete()}])),p&&s.complete(),d=!0}return l})}}yn.bindCallbackInternals=ju;Object.defineProperty(ro,"__esModule",{value:!0});ro.bindCallback=void 0;var tT=yn;function rT(e,t,r){return tT.bindCallbackInternals(!1,e,t,r)}ro.bindCallback=rT;var no={};Object.defineProperty(no,"__esModule",{value:!0});no.bindNodeCallback=void 0;var nT=yn;function iT(e,t,r){return nT.bindCallbackInternals(!0,e,t,r)}no.bindNodeCallback=iT;var lt={},gn={};Object.defineProperty(gn,"__esModule",{value:!0});gn.argsArgArrayOrObject=void 0;var oT=Array.isArray,aT=Object.getPrototypeOf,sT=Object.prototype,uT=Object.keys;function cT(e){if(e.length===1){var t=e[0];if(oT(t))return{args:t,keys:null};if(lT(t)){var r=uT(t);return{args:r.map(function(n){return t[n]}),keys:r}}}return{args:e,keys:null}}gn.argsArgArrayOrObject=cT;function lT(e){return e&&typeof e=="object"&&aT(e)===sT}var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.createObject=void 0;function fT(e,t){return e.reduce(function(r,n,i){return r[n]=t[i],r},{})}Sn.createObject=fT;Object.defineProperty(lt,"__esModule",{value:!0});lt.combineLatestInit=lt.combineLatest=void 0;var dT=q,hT=gn,sp=Re,up=le,pT=He,df=ie,vT=Sn,mT=k,_T=Me;function bT(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=df.popScheduler(e),n=df.popResultSelector(e),i=hT.argsArgArrayOrObject(e),o=i.args,a=i.keys;if(o.length===0)return sp.from([],r);var s=new dT.Observable(cp(o,r,a?function(c){return vT.createObject(a,c)}:up.identity));return n?s.pipe(pT.mapOneOrManyArgs(n)):s}lt.combineLatest=bT;function cp(e,t,r){return r===void 0&&(r=up.identity),function(n){hf(t,function(){for(var i=e.length,o=new Array(i),a=i,s=i,c=function(l){hf(t,function(){var d=sp.from(e[l],t),p=!1;d.subscribe(mT.createOperatorSubscriber(n,function(_){o[l]=_,p||(p=!0,s--),s||n.next(r(o.slice()))},function(){--a||n.complete()}))},n)},u=0;u<i;u++)c(u)},n)}}lt.combineLatestInit=cp;function hf(e,t,r){e?_T.executeSchedule(r,e,t):t()}var Ft={},wr={},Lt={},Ne={},Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.mergeInternals=void 0;var yT=N,gT=Me,pf=k;function ST(e,t,r,n,i,o,a,s){var c=[],u=0,l=0,d=!1,p=function(){d&&!c.length&&!u&&t.complete()},_=function(m){return u<n?g(m):c.push(m)},g=function(m){o&&t.next(m),u++;var S=!1;yT.innerFrom(r(m,l++)).subscribe(pf.createOperatorSubscriber(t,function(w){i==null||i(w),o?_(w):t.next(w)},function(){S=!0},void 0,function(){if(S)try{u--;for(var w=function(){var O=c.shift();a?gT.executeSchedule(t,a,function(){return g(O)}):g(O)};c.length&&u<n;)w();p()}catch(O){t.error(O)}}))};return e.subscribe(pf.createOperatorSubscriber(t,_,function(){d=!0,p()})),function(){s==null||s()}}Pr.mergeInternals=ST;Object.defineProperty(Ne,"__esModule",{value:!0});Ne.mergeMap=void 0;var ET=ze,OT=N,wT=T,PT=Pr,$T=H;function lp(e,t,r){return r===void 0&&(r=1/0),$T.isFunction(t)?lp(function(n,i){return ET.map(function(o,a){return t(n,o,i,a)})(OT.innerFrom(e(n,i)))},r):(typeof t=="number"&&(r=t),wT.operate(function(n,i){return PT.mergeInternals(n,i,e,r)}))}Ne.mergeMap=lp;Object.defineProperty(Lt,"__esModule",{value:!0});Lt.mergeAll=void 0;var CT=Ne,AT=le;function IT(e){return e===void 0&&(e=1/0),CT.mergeMap(AT.identity,e)}Lt.mergeAll=IT;Object.defineProperty(wr,"__esModule",{value:!0});wr.concatAll=void 0;var TT=Lt;function jT(){return TT.mergeAll(1)}wr.concatAll=jT;Object.defineProperty(Ft,"__esModule",{value:!0});Ft.concat=void 0;var kT=wr,RT=ie,MT=Re;function NT(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return kT.concatAll()(MT.from(e,RT.popScheduler(e)))}Ft.concat=NT;var io={},xt={};Object.defineProperty(xt,"__esModule",{value:!0});xt.defer=void 0;var DT=q,FT=N;function LT(e){return new DT.Observable(function(t){FT.innerFrom(e()).subscribe(t)})}xt.defer=LT;Object.defineProperty(io,"__esModule",{value:!0});io.connectable=void 0;var xT=re,GT=q,UT=xt,WT={connector:function(){return new xT.Subject},resetOnDisconnect:!0};function KT(e,t){t===void 0&&(t=WT);var r=null,n=t.connector,i=t.resetOnDisconnect,o=i===void 0?!0:i,a=n(),s=new GT.Observable(function(c){return a.subscribe(c)});return s.connect=function(){return(!r||r.closed)&&(r=UT.defer(function(){return e}).subscribe(a),o&&r.add(function(){return a=n()})),r},s}io.connectable=KT;var oo={};Object.defineProperty(oo,"__esModule",{value:!0});oo.forkJoin=void 0;var BT=q,VT=gn,HT=N,zT=ie,qT=k,YT=He,XT=Sn;function QT(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=zT.popResultSelector(e),n=VT.argsArgArrayOrObject(e),i=n.args,o=n.keys,a=new BT.Observable(function(s){var c=i.length;if(!c){s.complete();return}for(var u=new Array(c),l=c,d=c,p=function(g){var m=!1;HT.innerFrom(i[g]).subscribe(qT.createOperatorSubscriber(s,function(S){m||(m=!0,d--),u[g]=S},function(){return l--},void 0,function(){(!l||!m)&&(d||s.next(o?XT.createObject(o,u):u),s.complete())}))},_=0;_<c;_++)p(_)});return r?a.pipe(YT.mapOneOrManyArgs(r)):a}oo.forkJoin=QT;var ao={},JT=f.commonjsGlobal&&f.commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o};Object.defineProperty(ao,"__esModule",{value:!0});ao.fromEvent=void 0;var ZT=N,ej=q,tj=Ne,rj=Sr,It=H,nj=He,ij=["addListener","removeListener"],oj=["addEventListener","removeEventListener"],aj=["on","off"];function ku(e,t,r,n){if(It.isFunction(r)&&(n=r,r=void 0),n)return ku(e,t,r).pipe(nj.mapOneOrManyArgs(n));var i=JT(cj(e)?oj.map(function(s){return function(c){return e[s](t,c,r)}}):sj(e)?ij.map(vf(e,t)):uj(e)?aj.map(vf(e,t)):[],2),o=i[0],a=i[1];if(!o&&rj.isArrayLike(e))return tj.mergeMap(function(s){return ku(s,t,r)})(ZT.innerFrom(e));if(!o)throw new TypeError("Invalid event target");return new ej.Observable(function(s){var c=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];return s.next(1<u.length?u:u[0])};return o(c),function(){return a(c)}})}ao.fromEvent=ku;function vf(e,t){return function(r){return function(n){return e[r](t,n)}}}function sj(e){return It.isFunction(e.addListener)&&It.isFunction(e.removeListener)}function uj(e){return It.isFunction(e.on)&&It.isFunction(e.off)}function cj(e){return It.isFunction(e.addEventListener)&&It.isFunction(e.removeEventListener)}var so={};Object.defineProperty(so,"__esModule",{value:!0});so.fromEventPattern=void 0;var lj=q,fj=H,dj=He;function fp(e,t,r){return r?fp(e,t).pipe(dj.mapOneOrManyArgs(r)):new lj.Observable(function(n){var i=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return n.next(a.length===1?a[0]:a)},o=e(i);return fj.isFunction(t)?function(){return t(i,o)}:void 0})}so.fromEventPattern=fp;var uo={},hj=f.commonjsGlobal&&f.commonjsGlobal.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(uo,"__esModule",{value:!0});uo.generate=void 0;var mf=le,pj=Mt,vj=xt,mj=hn;function _j(e,t,r,n,i){var o,a,s,c;arguments.length===1?(o=e,c=o.initialState,t=o.condition,r=o.iterate,a=o.resultSelector,s=a===void 0?mf.identity:a,i=o.scheduler):(c=e,!n||pj.isScheduler(n)?(s=mf.identity,i=n):s=n);function u(){var l;return hj(this,function(d){switch(d.label){case 0:l=c,d.label=1;case 1:return!t||t(l)?[4,s(l)]:[3,4];case 2:d.sent(),d.label=3;case 3:return l=r(l),[3,1];case 4:return[2]}})}return vj.defer(i?function(){return mj.scheduleIterable(u(),i)}:u)}uo.generate=_j;var co={};Object.defineProperty(co,"__esModule",{value:!0});co.iif=void 0;var bj=xt;function yj(e,t,r){return bj.defer(function(){return e()?t:r})}co.iif=yj;var En={},qe={};Object.defineProperty(qe,"__esModule",{value:!0});qe.timer=void 0;var gj=q,Sj=ge,Ej=Mt,Oj=Or;function wj(e,t,r){e===void 0&&(e=0),r===void 0&&(r=Sj.async);var n=-1;return t!=null&&(Ej.isScheduler(t)?r=t:n=t),new gj.Observable(function(i){var o=Oj.isValidDate(e)?+e-r.now():e;o<0&&(o=0);var a=0;return r.schedule(function(){i.closed||(i.next(a++),0<=n?this.schedule(void 0,n):i.complete())},o)})}qe.timer=wj;Object.defineProperty(En,"__esModule",{value:!0});En.interval=void 0;var Pj=ge,$j=qe;function Cj(e,t){return e===void 0&&(e=0),t===void 0&&(t=Pj.asyncScheduler),e<0&&(e=0),$j.timer(e,e,t)}En.interval=Cj;var lo={};Object.defineProperty(lo,"__esModule",{value:!0});lo.merge=void 0;var Aj=Lt,Ij=N,Tj=Te,_f=ie,jj=Re;function kj(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=_f.popScheduler(e),n=_f.popNumber(e,1/0),i=e;return i.length?i.length===1?Ij.innerFrom(i[0]):Aj.mergeAll(n)(jj.from(i,r)):Tj.EMPTY}lo.merge=kj;var Ru={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.never=e.NEVER=void 0;var t=q,r=ce;e.NEVER=new t.Observable(r.noop);function n(){return e.NEVER}e.never=n})(Ru);var On={},et={};Object.defineProperty(et,"__esModule",{value:!0});et.argsOrArgArray=void 0;var Rj=Array.isArray;function Mj(e){return e.length===1&&Rj(e[0])?e[0]:e}et.argsOrArgArray=Mj;Object.defineProperty(On,"__esModule",{value:!0});On.onErrorResumeNext=void 0;var Nj=q,Dj=et,Fj=k,bf=ce,Lj=N;function xj(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Dj.argsOrArgArray(e);return new Nj.Observable(function(n){var i=0,o=function(){if(i<r.length){var a=void 0;try{a=Lj.innerFrom(r[i++])}catch{o();return}var s=new Fj.OperatorSubscriber(n,void 0,bf.noop,bf.noop);a.subscribe(s),s.add(o)}else n.complete()};o()})}On.onErrorResumeNext=xj;var fo={};Object.defineProperty(fo,"__esModule",{value:!0});fo.pairs=void 0;var Gj=Re;function Uj(e,t){return Gj.from(Object.entries(e),t)}fo.pairs=Uj;var ho={},po={};Object.defineProperty(po,"__esModule",{value:!0});po.not=void 0;function Wj(e,t){return function(r,n){return!e.call(t,r,n)}}po.not=Wj;var tt={};Object.defineProperty(tt,"__esModule",{value:!0});tt.filter=void 0;var Kj=T,Bj=k;function Vj(e,t){return Kj.operate(function(r,n){var i=0;r.subscribe(Bj.createOperatorSubscriber(n,function(o){return e.call(t,o,i++)&&n.next(o)}))})}tt.filter=Vj;Object.defineProperty(ho,"__esModule",{value:!0});ho.partition=void 0;var Hj=po,yf=tt,gf=N;function zj(e,t,r){return[yf.filter(t,r)(gf.innerFrom(e)),yf.filter(Hj.not(t,r))(gf.innerFrom(e))]}ho.partition=zj;var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.raceInit=Tt.race=void 0;var qj=q,dp=N,Yj=et,Xj=k;function Qj(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e=Yj.argsOrArgArray(e),e.length===1?dp.innerFrom(e[0]):new qj.Observable(hp(e))}Tt.race=Qj;function hp(e){return function(t){for(var r=[],n=function(o){r.push(dp.innerFrom(e[o]).subscribe(Xj.createOperatorSubscriber(t,function(a){if(r){for(var s=0;s<r.length;s++)s!==o&&r[s].unsubscribe();r=null}t.next(a)})))},i=0;r&&!t.closed&&i<e.length;i++)n(i)}}Tt.raceInit=hp;var vo={};Object.defineProperty(vo,"__esModule",{value:!0});vo.range=void 0;var Jj=q,Zj=Te;function ek(e,t,r){if(t==null&&(t=e,e=0),t<=0)return Zj.EMPTY;var n=t+e;return new Jj.Observable(r?function(i){var o=e;return r.schedule(function(){o<n?(i.next(o++),this.schedule()):i.complete()})}:function(i){for(var o=e;o<n&&!i.closed;)i.next(o++);i.complete()})}vo.range=ek;var mo={};Object.defineProperty(mo,"__esModule",{value:!0});mo.using=void 0;var tk=q,rk=N,nk=Te;function ik(e,t){return new tk.Observable(function(r){var n=e(),i=t(n),o=i?rk.innerFrom(i):nk.EMPTY;return o.subscribe(r),function(){n&&n.unsubscribe()}})}mo.using=ik;var $r={},ok=f.commonjsGlobal&&f.commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},ak=f.commonjsGlobal&&f.commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty($r,"__esModule",{value:!0});$r.zip=void 0;var sk=q,uk=N,ck=et,lk=Te,fk=k,dk=ie;function hk(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=dk.popResultSelector(e),n=ck.argsOrArgArray(e);return n.length?new sk.Observable(function(i){var o=n.map(function(){return[]}),a=n.map(function(){return!1});i.add(function(){o=a=null});for(var s=function(u){uk.innerFrom(n[u]).subscribe(fk.createOperatorSubscriber(i,function(l){if(o[u].push(l),o.every(function(p){return p.length})){var d=o.map(function(p){return p.shift()});i.next(r?r.apply(void 0,ak([],ok(d))):d),o.some(function(p,_){return!p.length&&a[_]})&&i.complete()}},function(){a[u]=!0,!o[u].length&&i.complete()}))},c=0;!i.closed&&c<n.length;c++)s(c);return function(){o=a=null}}):lk.EMPTY}$r.zip=hk;var pp={};Object.defineProperty(pp,"__esModule",{value:!0});var wn={};Object.defineProperty(wn,"__esModule",{value:!0});wn.audit=void 0;var pk=T,vk=N,Sf=k;function mk(e){return pk.operate(function(t,r){var n=!1,i=null,o=null,a=!1,s=function(){if(o==null||o.unsubscribe(),o=null,n){n=!1;var u=i;i=null,r.next(u)}a&&r.complete()},c=function(){o=null,a&&r.complete()};t.subscribe(Sf.createOperatorSubscriber(r,function(u){n=!0,i=u,o||vk.innerFrom(e(u)).subscribe(o=Sf.createOperatorSubscriber(r,s,c))},function(){a=!0,(!n||!o||o.closed)&&r.complete()}))})}wn.audit=mk;var _o={};Object.defineProperty(_o,"__esModule",{value:!0});_o.auditTime=void 0;var _k=ge,bk=wn,yk=qe;function gk(e,t){return t===void 0&&(t=_k.asyncScheduler),bk.audit(function(){return yk.timer(e,t)})}_o.auditTime=gk;var bo={};Object.defineProperty(bo,"__esModule",{value:!0});bo.buffer=void 0;var Sk=T,Ek=ce,Ef=k,Ok=N;function wk(e){return Sk.operate(function(t,r){var n=[];return t.subscribe(Ef.createOperatorSubscriber(r,function(i){return n.push(i)},function(){r.next(n),r.complete()})),Ok.innerFrom(e).subscribe(Ef.createOperatorSubscriber(r,function(){var i=n;n=[],r.next(i)},Ek.noop)),function(){n=null}})}bo.buffer=wk;var yo={},au=f.commonjsGlobal&&f.commonjsGlobal.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(yo,"__esModule",{value:!0});yo.bufferCount=void 0;var Pk=T,$k=k,Ck=ke;function Ak(e,t){return t===void 0&&(t=null),t=t??e,Pk.operate(function(r,n){var i=[],o=0;r.subscribe($k.createOperatorSubscriber(n,function(a){var s,c,u,l,d=null;o++%t===0&&i.push([]);try{for(var p=au(i),_=p.next();!_.done;_=p.next()){var g=_.value;g.push(a),e<=g.length&&(d=d??[],d.push(g))}}catch(w){s={error:w}}finally{try{_&&!_.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}if(d)try{for(var m=au(d),S=m.next();!S.done;S=m.next()){var g=S.value;Ck.arrRemove(i,g),n.next(g)}}catch(w){u={error:w}}finally{try{S&&!S.done&&(l=m.return)&&l.call(m)}finally{if(u)throw u.error}}},function(){var a,s;try{for(var c=au(i),u=c.next();!u.done;u=c.next()){var l=u.value;n.next(l)}}catch(d){a={error:d}}finally{try{u&&!u.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}n.complete()},void 0,function(){i=null}))})}yo.bufferCount=Ak;var go={},Ik=f.commonjsGlobal&&f.commonjsGlobal.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(go,"__esModule",{value:!0});go.bufferTime=void 0;var Tk=ue,jk=T,kk=k,Rk=ke,Mk=ge,Nk=ie,Of=Me;function Dk(e){for(var t,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=(t=Nk.popScheduler(n))!==null&&t!==void 0?t:Mk.asyncScheduler,a=(r=n[0])!==null&&r!==void 0?r:null,s=n[1]||1/0;return jk.operate(function(c,u){var l=[],d=!1,p=function(m){var S=m.buffer,w=m.subs;w.unsubscribe(),Rk.arrRemove(l,m),u.next(S),d&&_()},_=function(){if(l){var m=new Tk.Subscription;u.add(m);var S=[],w={buffer:S,subs:m};l.push(w),Of.executeSchedule(m,o,function(){return p(w)},e)}};a!==null&&a>=0?Of.executeSchedule(u,o,_,a,!0):d=!0,_();var g=kk.createOperatorSubscriber(u,function(m){var S,w,O=l.slice();try{for(var P=Ik(O),$=P.next();!$.done;$=P.next()){var C=$.value,M=C.buffer;M.push(m),s<=M.length&&p(C)}}catch(F){S={error:F}}finally{try{$&&!$.done&&(w=P.return)&&w.call(P)}finally{if(S)throw S.error}}},function(){for(;l!=null&&l.length;)u.next(l.shift().buffer);g==null||g.unsubscribe(),u.complete(),u.unsubscribe()},void 0,function(){return l=null});c.subscribe(g)})}go.bufferTime=Dk;var So={},Fk=f.commonjsGlobal&&f.commonjsGlobal.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(So,"__esModule",{value:!0});So.bufferToggle=void 0;var Lk=ue,xk=T,wf=N,su=k,Pf=ce,Gk=ke;function Uk(e,t){return xk.operate(function(r,n){var i=[];wf.innerFrom(e).subscribe(su.createOperatorSubscriber(n,function(o){var a=[];i.push(a);var s=new Lk.Subscription,c=function(){Gk.arrRemove(i,a),n.next(a),s.unsubscribe()};s.add(wf.innerFrom(t(o)).subscribe(su.createOperatorSubscriber(n,c,Pf.noop)))},Pf.noop)),r.subscribe(su.createOperatorSubscriber(n,function(o){var a,s;try{for(var c=Fk(i),u=c.next();!u.done;u=c.next()){var l=u.value;l.push(o)}}catch(d){a={error:d}}finally{try{u&&!u.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}},function(){for(;i.length>0;)n.next(i.shift());n.complete()}))})}So.bufferToggle=Uk;var Eo={};Object.defineProperty(Eo,"__esModule",{value:!0});Eo.bufferWhen=void 0;var Wk=T,Kk=ce,$f=k,Bk=N;function Vk(e){return Wk.operate(function(t,r){var n=null,i=null,o=function(){i==null||i.unsubscribe();var a=n;n=[],a&&r.next(a),Bk.innerFrom(e()).subscribe(i=$f.createOperatorSubscriber(r,o,Kk.noop))};o(),t.subscribe($f.createOperatorSubscriber(r,function(a){return n==null?void 0:n.push(a)},function(){n&&r.next(n),r.complete()},void 0,function(){return n=i=null}))})}Eo.bufferWhen=Vk;var Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});Oo.catchError=void 0;var Hk=N,zk=k,qk=T;function vp(e){return qk.operate(function(t,r){var n=null,i=!1,o;n=t.subscribe(zk.createOperatorSubscriber(r,void 0,void 0,function(a){o=Hk.innerFrom(e(a,vp(e)(t))),n?(n.unsubscribe(),n=null,o.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(r))})}Oo.catchError=vp;var wo={},Pn={},$n={},Cn={},vt={},An={};Object.defineProperty(An,"__esModule",{value:!0});An.scanInternals=void 0;var Yk=k;function Xk(e,t,r,n,i){return function(o,a){var s=r,c=t,u=0;o.subscribe(Yk.createOperatorSubscriber(a,function(l){var d=u++;c=s?e(c,l,d):(s=!0,l),n&&a.next(c)},i&&function(){s&&a.next(c),a.complete()}))}}An.scanInternals=Xk;Object.defineProperty(vt,"__esModule",{value:!0});vt.reduce=void 0;var Qk=An,Jk=T;function Zk(e,t){return Jk.operate(Qk.scanInternals(e,t,arguments.length>=2,!1,!0))}vt.reduce=Zk;Object.defineProperty(Cn,"__esModule",{value:!0});Cn.toArray=void 0;var eR=vt,tR=T,rR=function(e,t){return e.push(t),e};function nR(){return tR.operate(function(e,t){eR.reduce(rR,[])(e).subscribe(t)})}Cn.toArray=nR;Object.defineProperty($n,"__esModule",{value:!0});$n.joinAllInternals=void 0;var iR=le,oR=He,aR=Ze,sR=Ne,uR=Cn;function cR(e,t){return aR.pipe(uR.toArray(),sR.mergeMap(function(r){return e(r)}),t?oR.mapOneOrManyArgs(t):iR.identity)}$n.joinAllInternals=cR;Object.defineProperty(Pn,"__esModule",{value:!0});Pn.combineLatestAll=void 0;var lR=lt,fR=$n;function dR(e){return fR.joinAllInternals(lR.combineLatest,e)}Pn.combineLatestAll=dR;Object.defineProperty(wo,"__esModule",{value:!0});wo.combineAll=void 0;var hR=Pn;wo.combineAll=hR.combineLatestAll;var Po={},$o={},Cf=f.commonjsGlobal&&f.commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},Af=f.commonjsGlobal&&f.commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty($o,"__esModule",{value:!0});$o.combineLatest=void 0;var pR=lt,vR=T,mR=et,_R=He,bR=Ze,yR=ie;function mp(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=yR.popResultSelector(e);return r?bR.pipe(mp.apply(void 0,Af([],Cf(e))),_R.mapOneOrManyArgs(r)):vR.operate(function(n,i){pR.combineLatestInit(Af([n],Cf(mR.argsOrArgArray(e))))(i)})}$o.combineLatest=mp;var gR=f.commonjsGlobal&&f.commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},SR=f.commonjsGlobal&&f.commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Po,"__esModule",{value:!0});Po.combineLatestWith=void 0;var ER=$o;function OR(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ER.combineLatest.apply(void 0,SR([],gR(e)))}Po.combineLatestWith=OR;var In={};Object.defineProperty(In,"__esModule",{value:!0});In.concatMap=void 0;var If=Ne,wR=H;function PR(e,t){return wR.isFunction(t)?If.mergeMap(e,t,1):If.mergeMap(e,1)}In.concatMap=PR;var Co={};Object.defineProperty(Co,"__esModule",{value:!0});Co.concatMapTo=void 0;var Tf=In,$R=H;function CR(e,t){return $R.isFunction(t)?Tf.concatMap(function(){return e},t):Tf.concatMap(function(){return e})}Co.concatMapTo=CR;var Ao={},Io={},AR=f.commonjsGlobal&&f.commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},IR=f.commonjsGlobal&&f.commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Io,"__esModule",{value:!0});Io.concat=void 0;var TR=T,jR=wr,kR=ie,RR=Re;function MR(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=kR.popScheduler(e);return TR.operate(function(n,i){jR.concatAll()(RR.from(IR([n],AR(e)),r)).subscribe(i)})}Io.concat=MR;var NR=f.commonjsGlobal&&f.commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},DR=f.commonjsGlobal&&f.commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Ao,"__esModule",{value:!0});Ao.concatWith=void 0;var FR=Io;function LR(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return FR.concat.apply(void 0,DR([],NR(e)))}Ao.concatWith=LR;var Cr={},To={};Object.defineProperty(To,"__esModule",{value:!0});To.fromSubscribable=void 0;var xR=q;function GR(e){return new xR.Observable(function(t){return e.subscribe(t)})}To.fromSubscribable=GR;Object.defineProperty(Cr,"__esModule",{value:!0});Cr.connect=void 0;var UR=re,WR=N,KR=T,BR=To,VR={connector:function(){return new UR.Subject}};function HR(e,t){t===void 0&&(t=VR);var r=t.connector;return KR.operate(function(n,i){var o=r();WR.innerFrom(e(BR.fromSubscribable(o))).subscribe(i),i.add(n.subscribe(o))})}Cr.connect=HR;var jo={};Object.defineProperty(jo,"__esModule",{value:!0});jo.count=void 0;var zR=vt;function qR(e){return zR.reduce(function(t,r,n){return!e||e(r,n)?t+1:t},0)}jo.count=qR;var ko={};Object.defineProperty(ko,"__esModule",{value:!0});ko.debounce=void 0;var YR=T,XR=ce,jf=k,QR=N;function JR(e){return YR.operate(function(t,r){var n=!1,i=null,o=null,a=function(){if(o==null||o.unsubscribe(),o=null,n){n=!1;var s=i;i=null,r.next(s)}};t.subscribe(jf.createOperatorSubscriber(r,function(s){o==null||o.unsubscribe(),n=!0,i=s,o=jf.createOperatorSubscriber(r,a,XR.noop),QR.innerFrom(e(s)).subscribe(o)},function(){a(),r.complete()},void 0,function(){i=o=null}))})}ko.debounce=JR;var Ro={};Object.defineProperty(Ro,"__esModule",{value:!0});Ro.debounceTime=void 0;var ZR=ge,eM=T,tM=k;function rM(e,t){return t===void 0&&(t=ZR.asyncScheduler),eM.operate(function(r,n){var i=null,o=null,a=null,s=function(){if(i){i.unsubscribe(),i=null;var u=o;o=null,n.next(u)}};function c(){var u=a+e,l=t.now();if(l<u){i=this.schedule(void 0,u-l),n.add(i);return}s()}r.subscribe(tM.createOperatorSubscriber(n,function(u){o=u,a=t.now(),i||(i=t.schedule(c,e),n.add(i))},function(){s(),n.complete()},void 0,function(){o=i=null}))})}Ro.debounceTime=rM;var Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.defaultIfEmpty=void 0;var nM=T,iM=k;function oM(e){return nM.operate(function(t,r){var n=!1;t.subscribe(iM.createOperatorSubscriber(r,function(i){n=!0,r.next(i)},function(){n||r.next(e),r.complete()}))})}Gt.defaultIfEmpty=oM;var Mo={},Tn={},Ut={};Object.defineProperty(Ut,"__esModule",{value:!0});Ut.take=void 0;var aM=Te,sM=T,uM=k;function cM(e){return e<=0?function(){return aM.EMPTY}:sM.operate(function(t,r){var n=0;t.subscribe(uM.createOperatorSubscriber(r,function(i){++n<=e&&(r.next(i),e<=n&&r.complete())}))})}Ut.take=cM;var jn={};Object.defineProperty(jn,"__esModule",{value:!0});jn.ignoreElements=void 0;var lM=T,fM=k,dM=ce;function hM(){return lM.operate(function(e,t){e.subscribe(fM.createOperatorSubscriber(t,dM.noop))})}jn.ignoreElements=hM;var kn={};Object.defineProperty(kn,"__esModule",{value:!0});kn.mapTo=void 0;var pM=ze;function vM(e){return pM.map(function(){return e})}kn.mapTo=vM;Object.defineProperty(Tn,"__esModule",{value:!0});Tn.delayWhen=void 0;var mM=Ft,kf=Ut,_M=jn,bM=kn,yM=Ne,gM=N;function _p(e,t){return t?function(r){return mM.concat(t.pipe(kf.take(1),_M.ignoreElements()),r.pipe(_p(e)))}:yM.mergeMap(function(r,n){return gM.innerFrom(e(r,n)).pipe(kf.take(1),bM.mapTo(r))})}Tn.delayWhen=_p;Object.defineProperty(Mo,"__esModule",{value:!0});Mo.delay=void 0;var SM=ge,EM=Tn,OM=qe;function wM(e,t){t===void 0&&(t=SM.asyncScheduler);var r=OM.timer(e,t);return EM.delayWhen(function(){return r})}Mo.delay=wM;var No={};Object.defineProperty(No,"__esModule",{value:!0});No.dematerialize=void 0;var PM=qi,$M=T,CM=k;function AM(){return $M.operate(function(e,t){e.subscribe(CM.createOperatorSubscriber(t,function(r){return PM.observeNotification(r,t)}))})}No.dematerialize=AM;var Do={};Object.defineProperty(Do,"__esModule",{value:!0});Do.distinct=void 0;var IM=T,Rf=k,TM=ce,jM=N;function kM(e,t){return IM.operate(function(r,n){var i=new Set;r.subscribe(Rf.createOperatorSubscriber(n,function(o){var a=e?e(o):o;i.has(a)||(i.add(a),n.next(o))})),t&&jM.innerFrom(t).subscribe(Rf.createOperatorSubscriber(n,function(){return i.clear()},TM.noop))})}Do.distinct=kM;var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});Rn.distinctUntilChanged=void 0;var RM=le,MM=T,NM=k;function DM(e,t){return t===void 0&&(t=RM.identity),e=e??FM,MM.operate(function(r,n){var i,o=!0;r.subscribe(NM.createOperatorSubscriber(n,function(a){var s=t(a);(o||!e(i,s))&&(o=!1,i=s,n.next(a))}))})}Rn.distinctUntilChanged=DM;function FM(e,t){return e===t}var Fo={};Object.defineProperty(Fo,"__esModule",{value:!0});Fo.distinctUntilKeyChanged=void 0;var LM=Rn;function xM(e,t){return LM.distinctUntilChanged(function(r,n){return t?t(r[e],n[e]):r[e]===n[e]})}Fo.distinctUntilKeyChanged=xM;var Lo={},Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.throwIfEmpty=void 0;var GM=Ve,UM=T,WM=k;function KM(e){return e===void 0&&(e=BM),UM.operate(function(t,r){var n=!1;t.subscribe(WM.createOperatorSubscriber(r,function(i){n=!0,r.next(i)},function(){return n?r.complete():r.error(e())}))})}Wt.throwIfEmpty=KM;function BM(){return new GM.EmptyError}Object.defineProperty(Lo,"__esModule",{value:!0});Lo.elementAt=void 0;var Mf=mn,VM=tt,HM=Wt,zM=Gt,qM=Ut;function YM(e,t){if(e<0)throw new Mf.ArgumentOutOfRangeError;var r=arguments.length>=2;return function(n){return n.pipe(VM.filter(function(i,o){return o===e}),qM.take(1),r?zM.defaultIfEmpty(t):HM.throwIfEmpty(function(){return new Mf.ArgumentOutOfRangeError}))}}Lo.elementAt=YM;var xo={},XM=f.commonjsGlobal&&f.commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},QM=f.commonjsGlobal&&f.commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(xo,"__esModule",{value:!0});xo.endWith=void 0;var JM=Ft,ZM=gr;function eN(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(r){return JM.concat(r,ZM.of.apply(void 0,QM([],XM(e))))}}xo.endWith=eN;var Go={};Object.defineProperty(Go,"__esModule",{value:!0});Go.every=void 0;var tN=T,rN=k;function nN(e,t){return tN.operate(function(r,n){var i=0;r.subscribe(rN.createOperatorSubscriber(n,function(o){e.call(t,o,i++,r)||(n.next(!1),n.complete())},function(){n.next(!0),n.complete()}))})}Go.every=nN;var Uo={},Mn={},Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.exhaustMap=void 0;var iN=ze,Nf=N,oN=T,Df=k;function bp(e,t){return t?function(r){return r.pipe(bp(function(n,i){return Nf.innerFrom(e(n,i)).pipe(iN.map(function(o,a){return t(n,o,i,a)}))}))}:oN.operate(function(r,n){var i=0,o=null,a=!1;r.subscribe(Df.createOperatorSubscriber(n,function(s){o||(o=Df.createOperatorSubscriber(n,void 0,function(){o=null,a&&n.complete()}),Nf.innerFrom(e(s,i++)).subscribe(o))},function(){a=!0,!o&&n.complete()}))})}Nn.exhaustMap=bp;Object.defineProperty(Mn,"__esModule",{value:!0});Mn.exhaustAll=void 0;var aN=Nn,sN=le;function uN(){return aN.exhaustMap(sN.identity)}Mn.exhaustAll=uN;Object.defineProperty(Uo,"__esModule",{value:!0});Uo.exhaust=void 0;var cN=Mn;Uo.exhaust=cN.exhaustAll;var Wo={};Object.defineProperty(Wo,"__esModule",{value:!0});Wo.expand=void 0;var lN=T,fN=Pr;function dN(e,t,r){return t===void 0&&(t=1/0),t=(t||0)<1?1/0:t,lN.operate(function(n,i){return fN.mergeInternals(n,i,e,t,void 0,!0,r)})}Wo.expand=dN;var Ko={};Object.defineProperty(Ko,"__esModule",{value:!0});Ko.finalize=void 0;var hN=T;function pN(e){return hN.operate(function(t,r){try{t.subscribe(r)}finally{r.add(e)}})}Ko.finalize=pN;var jt={};Object.defineProperty(jt,"__esModule",{value:!0});jt.createFind=jt.find=void 0;var vN=T,mN=k;function _N(e,t){return vN.operate(yp(e,t,"value"))}jt.find=_N;function yp(e,t,r){var n=r==="index";return function(i,o){var a=0;i.subscribe(mN.createOperatorSubscriber(o,function(s){var c=a++;e.call(t,s,c,i)&&(o.next(n?c:s),o.complete())},function(){o.next(n?-1:void 0),o.complete()}))}}jt.createFind=yp;var Bo={};Object.defineProperty(Bo,"__esModule",{value:!0});Bo.findIndex=void 0;var bN=T,yN=jt;function gN(e,t){return bN.operate(yN.createFind(e,t,"index"))}Bo.findIndex=gN;var Vo={};Object.defineProperty(Vo,"__esModule",{value:!0});Vo.first=void 0;var SN=Ve,EN=tt,ON=Ut,wN=Gt,PN=Wt,$N=le;function CN(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?EN.filter(function(i,o){return e(i,o,n)}):$N.identity,ON.take(1),r?wN.defaultIfEmpty(t):PN.throwIfEmpty(function(){return new SN.EmptyError}))}}Vo.first=CN;var Ho={};Object.defineProperty(Ho,"__esModule",{value:!0});Ho.groupBy=void 0;var AN=q,IN=N,TN=re,jN=T,Ff=k;function kN(e,t,r,n){return jN.operate(function(i,o){var a;!t||typeof t=="function"?a=t:(r=t.duration,a=t.element,n=t.connector);var s=new Map,c=function(g){s.forEach(g),g(o)},u=function(g){return c(function(m){return m.error(g)})},l=0,d=!1,p=new Ff.OperatorSubscriber(o,function(g){try{var m=e(g),S=s.get(m);if(!S){s.set(m,S=n?n():new TN.Subject);var w=_(m,S);if(o.next(w),r){var O=Ff.createOperatorSubscriber(S,function(){S.complete(),O==null||O.unsubscribe()},void 0,void 0,function(){return s.delete(m)});p.add(IN.innerFrom(r(w)).subscribe(O))}}S.next(a?a(g):g)}catch(P){u(P)}},function(){return c(function(g){return g.complete()})},u,function(){return s.clear()},function(){return d=!0,l===0});i.subscribe(p);function _(g,m){var S=new AN.Observable(function(w){l++;var O=m.subscribe(w);return function(){O.unsubscribe(),--l===0&&d&&p.unsubscribe()}});return S.key=g,S}})}Ho.groupBy=kN;var zo={};Object.defineProperty(zo,"__esModule",{value:!0});zo.isEmpty=void 0;var RN=T,MN=k;function NN(){return RN.operate(function(e,t){e.subscribe(MN.createOperatorSubscriber(t,function(){t.next(!1),t.complete()},function(){t.next(!0),t.complete()}))})}zo.isEmpty=NN;var qo={},Dn={},DN=f.commonjsGlobal&&f.commonjsGlobal.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.takeLast=void 0;var FN=Te,LN=T,xN=k;function GN(e){return e<=0?function(){return FN.EMPTY}:LN.operate(function(t,r){var n=[];t.subscribe(xN.createOperatorSubscriber(r,function(i){n.push(i),e<n.length&&n.shift()},function(){var i,o;try{for(var a=DN(n),s=a.next();!s.done;s=a.next()){var c=s.value;r.next(c)}}catch(u){i={error:u}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}r.complete()},void 0,function(){n=null}))})}Dn.takeLast=GN;Object.defineProperty(qo,"__esModule",{value:!0});qo.last=void 0;var UN=Ve,WN=tt,KN=Dn,BN=Wt,VN=Gt,HN=le;function zN(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?WN.filter(function(i,o){return e(i,o,n)}):HN.identity,KN.takeLast(1),r?VN.defaultIfEmpty(t):BN.throwIfEmpty(function(){return new UN.EmptyError}))}}qo.last=zN;var Yo={};Object.defineProperty(Yo,"__esModule",{value:!0});Yo.materialize=void 0;var uu=qi,qN=T,YN=k;function XN(){return qN.operate(function(e,t){e.subscribe(YN.createOperatorSubscriber(t,function(r){t.next(uu.Notification.createNext(r))},function(){t.next(uu.Notification.createComplete()),t.complete()},function(r){t.next(uu.Notification.createError(r)),t.complete()}))})}Yo.materialize=XN;var Xo={};Object.defineProperty(Xo,"__esModule",{value:!0});Xo.max=void 0;var QN=vt,JN=H;function ZN(e){return QN.reduce(JN.isFunction(e)?function(t,r){return e(t,r)>0?t:r}:function(t,r){return t>r?t:r})}Xo.max=ZN;var Qo={};Object.defineProperty(Qo,"__esModule",{value:!0});Qo.flatMap=void 0;var eD=Ne;Qo.flatMap=eD.mergeMap;var Jo={};Object.defineProperty(Jo,"__esModule",{value:!0});Jo.mergeMapTo=void 0;var Lf=Ne,tD=H;function rD(e,t,r){return r===void 0&&(r=1/0),tD.isFunction(t)?Lf.mergeMap(function(){return e},t,r):(typeof t=="number"&&(r=t),Lf.mergeMap(function(){return e},r))}Jo.mergeMapTo=rD;var Zo={};Object.defineProperty(Zo,"__esModule",{value:!0});Zo.mergeScan=void 0;var nD=T,iD=Pr;function oD(e,t,r){return r===void 0&&(r=1/0),nD.operate(function(n,i){var o=t;return iD.mergeInternals(n,i,function(a,s){return e(o,a,s)},r,function(a){o=a},!1,void 0,function(){return o=null})})}Zo.mergeScan=oD;var ea={},ta={},aD=f.commonjsGlobal&&f.commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},sD=f.commonjsGlobal&&f.commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(ta,"__esModule",{value:!0});ta.merge=void 0;var uD=T,cD=et,lD=Lt,xf=ie,fD=Re;function dD(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=xf.popScheduler(e),n=xf.popNumber(e,1/0);return e=cD.argsOrArgArray(e),uD.operate(function(i,o){lD.mergeAll(n)(fD.from(sD([i],aD(e)),r)).subscribe(o)})}ta.merge=dD;var hD=f.commonjsGlobal&&f.commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},pD=f.commonjsGlobal&&f.commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(ea,"__esModule",{value:!0});ea.mergeWith=void 0;var vD=ta;function mD(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return vD.merge.apply(void 0,pD([],hD(e)))}ea.mergeWith=mD;var ra={};Object.defineProperty(ra,"__esModule",{value:!0});ra.min=void 0;var _D=vt,bD=H;function yD(e){return _D.reduce(bD.isFunction(e)?function(t,r){return e(t,r)<0?t:r}:function(t,r){return t<r?t:r})}ra.min=yD;var Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.multicast=void 0;var gD=Rt,Gf=H,SD=Cr;function ED(e,t){var r=Gf.isFunction(e)?e:function(){return e};return Gf.isFunction(t)?SD.connect(t,{connector:r}):function(n){return new gD.ConnectableObservable(n,r)}}Ar.multicast=ED;var fr={},OD=f.commonjsGlobal&&f.commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},wD=f.commonjsGlobal&&f.commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(fr,"__esModule",{value:!0});fr.onErrorResumeNext=fr.onErrorResumeNextWith=void 0;var PD=et,$D=On;function gp(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=PD.argsOrArgArray(e);return function(n){return $D.onErrorResumeNext.apply(void 0,wD([n],OD(r)))}}fr.onErrorResumeNextWith=gp;fr.onErrorResumeNext=gp;var na={};Object.defineProperty(na,"__esModule",{value:!0});na.pairwise=void 0;var CD=T,AD=k;function ID(){return CD.operate(function(e,t){var r,n=!1;e.subscribe(AD.createOperatorSubscriber(t,function(i){var o=r;r=i,n&&t.next([o,i]),n=!0}))})}na.pairwise=ID;var ia={};Object.defineProperty(ia,"__esModule",{value:!0});ia.pluck=void 0;var TD=ze;function jD(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.length;if(r===0)throw new Error("list of properties cannot be empty.");return TD.map(function(n){for(var i=n,o=0;o<r;o++){var a=i==null?void 0:i[e[o]];if(typeof a<"u")i=a;else return}return i})}ia.pluck=jD;var oa={};Object.defineProperty(oa,"__esModule",{value:!0});oa.publish=void 0;var kD=re,RD=Ar,MD=Cr;function ND(e){return e?function(t){return MD.connect(e)(t)}:function(t){return RD.multicast(new kD.Subject)(t)}}oa.publish=ND;var aa={};Object.defineProperty(aa,"__esModule",{value:!0});aa.publishBehavior=void 0;var DD=on,FD=Rt;function LD(e){return function(t){var r=new DD.BehaviorSubject(e);return new FD.ConnectableObservable(t,function(){return r})}}aa.publishBehavior=LD;var sa={};Object.defineProperty(sa,"__esModule",{value:!0});sa.publishLast=void 0;var xD=yr,GD=Rt;function UD(){return function(e){var t=new xD.AsyncSubject;return new GD.ConnectableObservable(e,function(){return t})}}sa.publishLast=UD;var ua={};Object.defineProperty(ua,"__esModule",{value:!0});ua.publishReplay=void 0;var WD=br,KD=Ar,Uf=H;function BD(e,t,r,n){r&&!Uf.isFunction(r)&&(n=r);var i=Uf.isFunction(r)?r:void 0;return function(o){return KD.multicast(new WD.ReplaySubject(e,t,n),i)(o)}}ua.publishReplay=BD;var ca={},VD=f.commonjsGlobal&&f.commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},HD=f.commonjsGlobal&&f.commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(ca,"__esModule",{value:!0});ca.raceWith=void 0;var zD=Tt,qD=T,YD=le;function XD(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?qD.operate(function(r,n){zD.raceInit(HD([r],VD(e)))(n)}):YD.identity}ca.raceWith=XD;var la={};Object.defineProperty(la,"__esModule",{value:!0});la.repeat=void 0;var QD=Te,JD=T,Wf=k,ZD=N,e2=qe;function t2(e){var t,r=1/0,n;return e!=null&&(typeof e=="object"?(t=e.count,r=t===void 0?1/0:t,n=e.delay):r=e),r<=0?function(){return QD.EMPTY}:JD.operate(function(i,o){var a=0,s,c=function(){if(s==null||s.unsubscribe(),s=null,n!=null){var l=typeof n=="number"?e2.timer(n):ZD.innerFrom(n(a)),d=Wf.createOperatorSubscriber(o,function(){d.unsubscribe(),u()});l.subscribe(d)}else u()},u=function(){var l=!1;s=i.subscribe(Wf.createOperatorSubscriber(o,void 0,function(){++a<r?s?c():l=!0:o.complete()})),l&&c()};u()})}la.repeat=t2;var fa={};Object.defineProperty(fa,"__esModule",{value:!0});fa.repeatWhen=void 0;var r2=N,n2=re,i2=T,Kf=k;function o2(e){return i2.operate(function(t,r){var n,i=!1,o,a=!1,s=!1,c=function(){return s&&a&&(r.complete(),!0)},u=function(){return o||(o=new n2.Subject,r2.innerFrom(e(o)).subscribe(Kf.createOperatorSubscriber(r,function(){n?l():i=!0},function(){a=!0,c()}))),o},l=function(){s=!1,n=t.subscribe(Kf.createOperatorSubscriber(r,void 0,function(){s=!0,!c()&&u().next()})),i&&(n.unsubscribe(),n=null,i=!1,l())};l()})}fa.repeatWhen=o2;var da={};Object.defineProperty(da,"__esModule",{value:!0});da.retry=void 0;var a2=T,Bf=k,s2=le,u2=qe,c2=N;function l2(e){e===void 0&&(e=1/0);var t;e&&typeof e=="object"?t=e:t={count:e};var r=t.count,n=r===void 0?1/0:r,i=t.delay,o=t.resetOnSuccess,a=o===void 0?!1:o;return n<=0?s2.identity:a2.operate(function(s,c){var u=0,l,d=function(){var p=!1;l=s.subscribe(Bf.createOperatorSubscriber(c,function(_){a&&(u=0),c.next(_)},void 0,function(_){if(u++<n){var g=function(){l?(l.unsubscribe(),l=null,d()):p=!0};if(i!=null){var m=typeof i=="number"?u2.timer(i):c2.innerFrom(i(_,u)),S=Bf.createOperatorSubscriber(c,function(){S.unsubscribe(),g()},function(){c.complete()});m.subscribe(S)}else g()}else c.error(_)})),p&&(l.unsubscribe(),l=null,d())};d()})}da.retry=l2;var ha={};Object.defineProperty(ha,"__esModule",{value:!0});ha.retryWhen=void 0;var f2=N,d2=re,h2=T,Vf=k;function p2(e){return h2.operate(function(t,r){var n,i=!1,o,a=function(){n=t.subscribe(Vf.createOperatorSubscriber(r,void 0,void 0,function(s){o||(o=new d2.Subject,f2.innerFrom(e(o)).subscribe(Vf.createOperatorSubscriber(r,function(){return n?a():i=!0}))),o&&o.next(s)})),i&&(n.unsubscribe(),n=null,i=!1,a())};a()})}ha.retryWhen=p2;var Fn={};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.sample=void 0;var v2=N,m2=T,_2=ce,Hf=k;function b2(e){return m2.operate(function(t,r){var n=!1,i=null;t.subscribe(Hf.createOperatorSubscriber(r,function(o){n=!0,i=o})),v2.innerFrom(e).subscribe(Hf.createOperatorSubscriber(r,function(){if(n){n=!1;var o=i;i=null,r.next(o)}},_2.noop))})}Fn.sample=b2;var pa={};Object.defineProperty(pa,"__esModule",{value:!0});pa.sampleTime=void 0;var y2=ge,g2=Fn,S2=En;function E2(e,t){return t===void 0&&(t=y2.asyncScheduler),g2.sample(S2.interval(e,t))}pa.sampleTime=E2;var va={};Object.defineProperty(va,"__esModule",{value:!0});va.scan=void 0;var O2=T,w2=An;function P2(e,t){return O2.operate(w2.scanInternals(e,t,arguments.length>=2,!0))}va.scan=P2;var ma={};Object.defineProperty(ma,"__esModule",{value:!0});ma.sequenceEqual=void 0;var $2=T,C2=k,A2=N;function I2(e,t){return t===void 0&&(t=function(r,n){return r===n}),$2.operate(function(r,n){var i=zf(),o=zf(),a=function(c){n.next(c),n.complete()},s=function(c,u){var l=C2.createOperatorSubscriber(n,function(d){var p=u.buffer,_=u.complete;p.length===0?_?a(!1):c.buffer.push(d):!t(d,p.shift())&&a(!1)},function(){c.complete=!0;var d=u.complete,p=u.buffer;d&&a(p.length===0),l==null||l.unsubscribe()});return l};r.subscribe(s(i,o)),A2.innerFrom(e).subscribe(s(o,i))})}ma.sequenceEqual=I2;function zf(){return{buffer:[],complete:!1}}var Ln={},T2=f.commonjsGlobal&&f.commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},j2=f.commonjsGlobal&&f.commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.share=void 0;var Sp=N,k2=re,Ep=_r,R2=T;function M2(e){e===void 0&&(e={});var t=e.connector,r=t===void 0?function(){return new k2.Subject}:t,n=e.resetOnError,i=n===void 0?!0:n,o=e.resetOnComplete,a=o===void 0?!0:o,s=e.resetOnRefCountZero,c=s===void 0?!0:s;return function(u){var l,d,p,_=0,g=!1,m=!1,S=function(){d==null||d.unsubscribe(),d=void 0},w=function(){S(),l=p=void 0,g=m=!1},O=function(){var P=l;w(),P==null||P.unsubscribe()};return R2.operate(function(P,$){_++,!m&&!g&&S();var C=p=p??r();$.add(function(){_--,_===0&&!m&&!g&&(d=cu(O,c))}),C.subscribe($),!l&&_>0&&(l=new Ep.SafeSubscriber({next:function(M){return C.next(M)},error:function(M){m=!0,S(),d=cu(w,i,M),C.error(M)},complete:function(){g=!0,S(),d=cu(w,a),C.complete()}}),Sp.innerFrom(P).subscribe(l))})(u)}}Ln.share=M2;function cu(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(t===!0){e();return}if(t!==!1){var i=new Ep.SafeSubscriber({next:function(){i.unsubscribe(),e()}});return Sp.innerFrom(t.apply(void 0,j2([],T2(r)))).subscribe(i)}}var _a={};Object.defineProperty(_a,"__esModule",{value:!0});_a.shareReplay=void 0;var N2=br,D2=Ln;function F2(e,t,r){var n,i,o,a,s=!1;return e&&typeof e=="object"?(n=e.bufferSize,a=n===void 0?1/0:n,i=e.windowTime,t=i===void 0?1/0:i,o=e.refCount,s=o===void 0?!1:o,r=e.scheduler):a=e??1/0,D2.share({connector:function(){return new N2.ReplaySubject(a,t,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}_a.shareReplay=F2;var ba={};Object.defineProperty(ba,"__esModule",{value:!0});ba.single=void 0;var L2=Ve,x2=bn,G2=_n,U2=T,W2=k;function K2(e){return U2.operate(function(t,r){var n=!1,i,o=!1,a=0;t.subscribe(W2.createOperatorSubscriber(r,function(s){o=!0,(!e||e(s,a++,t))&&(n&&r.error(new x2.SequenceError("Too many matching values")),n=!0,i=s)},function(){n?(r.next(i),r.complete()):r.error(o?new G2.NotFoundError("No matching values"):new L2.EmptyError)}))})}ba.single=K2;var ya={};Object.defineProperty(ya,"__esModule",{value:!0});ya.skip=void 0;var B2=tt;function V2(e){return B2.filter(function(t,r){return e<=r})}ya.skip=V2;var ga={};Object.defineProperty(ga,"__esModule",{value:!0});ga.skipLast=void 0;var H2=le,z2=T,q2=k;function Y2(e){return e<=0?H2.identity:z2.operate(function(t,r){var n=new Array(e),i=0;return t.subscribe(q2.createOperatorSubscriber(r,function(o){var a=i++;if(a<e)n[a]=o;else{var s=a%e,c=n[s];n[s]=o,r.next(c)}})),function(){n=null}})}ga.skipLast=Y2;var Sa={};Object.defineProperty(Sa,"__esModule",{value:!0});Sa.skipUntil=void 0;var X2=T,qf=k,Q2=N,J2=ce;function Z2(e){return X2.operate(function(t,r){var n=!1,i=qf.createOperatorSubscriber(r,function(){i==null||i.unsubscribe(),n=!0},J2.noop);Q2.innerFrom(e).subscribe(i),t.subscribe(qf.createOperatorSubscriber(r,function(o){return n&&r.next(o)}))})}Sa.skipUntil=Z2;var Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});Ea.skipWhile=void 0;var eF=T,tF=k;function rF(e){return eF.operate(function(t,r){var n=!1,i=0;t.subscribe(tF.createOperatorSubscriber(r,function(o){return(n||(n=!e(o,i++)))&&r.next(o)}))})}Ea.skipWhile=rF;var Oa={};Object.defineProperty(Oa,"__esModule",{value:!0});Oa.startWith=void 0;var Yf=Ft,nF=ie,iF=T;function oF(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=nF.popScheduler(e);return iF.operate(function(n,i){(r?Yf.concat(e,n,r):Yf.concat(e,n)).subscribe(i)})}Oa.startWith=oF;var wa={},Kt={};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.switchMap=void 0;var aF=N,sF=T,Xf=k;function uF(e,t){return sF.operate(function(r,n){var i=null,o=0,a=!1,s=function(){return a&&!i&&n.complete()};r.subscribe(Xf.createOperatorSubscriber(n,function(c){i==null||i.unsubscribe();var u=0,l=o++;aF.innerFrom(e(c,l)).subscribe(i=Xf.createOperatorSubscriber(n,function(d){return n.next(t?t(c,d,l,u++):d)},function(){i=null,s()}))},function(){a=!0,s()}))})}Kt.switchMap=uF;Object.defineProperty(wa,"__esModule",{value:!0});wa.switchAll=void 0;var cF=Kt,lF=le;function fF(){return cF.switchMap(lF.identity)}wa.switchAll=fF;var Pa={};Object.defineProperty(Pa,"__esModule",{value:!0});Pa.switchMapTo=void 0;var Qf=Kt,dF=H;function hF(e,t){return dF.isFunction(t)?Qf.switchMap(function(){return e},t):Qf.switchMap(function(){return e})}Pa.switchMapTo=hF;var $a={};Object.defineProperty($a,"__esModule",{value:!0});$a.switchScan=void 0;var pF=Kt,vF=T;function mF(e,t){return vF.operate(function(r,n){var i=t;return pF.switchMap(function(o,a){return e(i,o,a)},function(o,a){return i=a,a})(r).subscribe(n),function(){i=null}})}$a.switchScan=mF;var Ca={};Object.defineProperty(Ca,"__esModule",{value:!0});Ca.takeUntil=void 0;var _F=T,bF=k,yF=N,gF=ce;function SF(e){return _F.operate(function(t,r){yF.innerFrom(e).subscribe(bF.createOperatorSubscriber(r,function(){return r.complete()},gF.noop)),!r.closed&&t.subscribe(r)})}Ca.takeUntil=SF;var Aa={};Object.defineProperty(Aa,"__esModule",{value:!0});Aa.takeWhile=void 0;var EF=T,OF=k;function wF(e,t){return t===void 0&&(t=!1),EF.operate(function(r,n){var i=0;r.subscribe(OF.createOperatorSubscriber(n,function(o){var a=e(o,i++);(a||t)&&n.next(o),!a&&n.complete()}))})}Aa.takeWhile=wF;var Ia={};Object.defineProperty(Ia,"__esModule",{value:!0});Ia.tap=void 0;var PF=H,$F=T,CF=k,AF=le;function IF(e,t,r){var n=PF.isFunction(e)||t||r?{next:e,error:t,complete:r}:e;return n?$F.operate(function(i,o){var a;(a=n.subscribe)===null||a===void 0||a.call(n);var s=!0;i.subscribe(CF.createOperatorSubscriber(o,function(c){var u;(u=n.next)===null||u===void 0||u.call(n,c),o.next(c)},function(){var c;s=!1,(c=n.complete)===null||c===void 0||c.call(n),o.complete()},function(c){var u;s=!1,(u=n.error)===null||u===void 0||u.call(n,c),o.error(c)},function(){var c,u;s&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(u=n.finalize)===null||u===void 0||u.call(n)}))}):AF.identity}Ia.tap=IF;var xn={};Object.defineProperty(xn,"__esModule",{value:!0});xn.throttle=void 0;var TF=T,Jf=k,jF=N;function kF(e,t){return TF.operate(function(r,n){var i=t??{},o=i.leading,a=o===void 0?!0:o,s=i.trailing,c=s===void 0?!1:s,u=!1,l=null,d=null,p=!1,_=function(){d==null||d.unsubscribe(),d=null,c&&(S(),p&&n.complete())},g=function(){d=null,p&&n.complete()},m=function(w){return d=jF.innerFrom(e(w)).subscribe(Jf.createOperatorSubscriber(n,_,g))},S=function(){if(u){u=!1;var w=l;l=null,n.next(w),!p&&m(w)}};r.subscribe(Jf.createOperatorSubscriber(n,function(w){u=!0,l=w,!(d&&!d.closed)&&(a?S():m(w))},function(){p=!0,!(c&&u&&d&&!d.closed)&&n.complete()}))})}xn.throttle=kF;var Ta={};Object.defineProperty(Ta,"__esModule",{value:!0});Ta.throttleTime=void 0;var RF=ge,MF=xn,NF=qe;function DF(e,t,r){t===void 0&&(t=RF.asyncScheduler);var n=NF.timer(e,t);return MF.throttle(function(){return n},r)}Ta.throttleTime=DF;var dr={};Object.defineProperty(dr,"__esModule",{value:!0});dr.TimeInterval=dr.timeInterval=void 0;var FF=ge,LF=T,xF=k;function GF(e){return e===void 0&&(e=FF.asyncScheduler),LF.operate(function(t,r){var n=e.now();t.subscribe(xF.createOperatorSubscriber(r,function(i){var o=e.now(),a=o-n;n=o,r.next(new Op(i,a))}))})}dr.timeInterval=GF;var Op=function(){function e(t,r){this.value=t,this.interval=r}return e}();dr.TimeInterval=Op;var ja={};Object.defineProperty(ja,"__esModule",{value:!0});ja.timeoutWith=void 0;var UF=ge,WF=Or,KF=$i;function BF(e,t,r){var n,i,o;if(r=r??UF.async,WF.isValidDate(e)?n=e:typeof e=="number"&&(i=e),t)o=function(){return t};else throw new TypeError("No observable provided to switch to");if(n==null&&i==null)throw new TypeError("No timeout provided.");return KF.timeout({first:n,each:i,scheduler:r,with:o})}ja.timeoutWith=BF;var ka={};Object.defineProperty(ka,"__esModule",{value:!0});ka.timestamp=void 0;var VF=Gi,HF=ze;function zF(e){return e===void 0&&(e=VF.dateTimestampProvider),HF.map(function(t){return{value:t,timestamp:e.now()}})}ka.timestamp=zF;var Ra={};Object.defineProperty(Ra,"__esModule",{value:!0});Ra.window=void 0;var Zf=re,qF=T,ed=k,YF=ce,XF=N;function QF(e){return qF.operate(function(t,r){var n=new Zf.Subject;r.next(n.asObservable());var i=function(o){n.error(o),r.error(o)};return t.subscribe(ed.createOperatorSubscriber(r,function(o){return n==null?void 0:n.next(o)},function(){n.complete(),r.complete()},i)),XF.innerFrom(e).subscribe(ed.createOperatorSubscriber(r,function(){n.complete(),r.next(n=new Zf.Subject)},YF.noop,i)),function(){n==null||n.unsubscribe(),n=null}})}Ra.window=QF;var Ma={},JF=f.commonjsGlobal&&f.commonjsGlobal.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Ma,"__esModule",{value:!0});Ma.windowCount=void 0;var td=re,ZF=T,eL=k;function tL(e,t){t===void 0&&(t=0);var r=t>0?t:e;return ZF.operate(function(n,i){var o=[new td.Subject],a=0;i.next(o[0].asObservable()),n.subscribe(eL.createOperatorSubscriber(i,function(s){var c,u;try{for(var l=JF(o),d=l.next();!d.done;d=l.next()){var p=d.value;p.next(s)}}catch(m){c={error:m}}finally{try{d&&!d.done&&(u=l.return)&&u.call(l)}finally{if(c)throw c.error}}var _=a-e+1;if(_>=0&&_%r===0&&o.shift().complete(),++a%r===0){var g=new td.Subject;o.push(g),i.next(g.asObservable())}},function(){for(;o.length>0;)o.shift().complete();i.complete()},function(s){for(;o.length>0;)o.shift().error(s);i.error(s)},function(){o=null}))})}Ma.windowCount=tL;var Na={};Object.defineProperty(Na,"__esModule",{value:!0});Na.windowTime=void 0;var rL=re,nL=ge,iL=ue,oL=T,aL=k,sL=ke,uL=ie,rd=Me;function cL(e){for(var t,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=(t=uL.popScheduler(n))!==null&&t!==void 0?t:nL.asyncScheduler,a=(r=n[0])!==null&&r!==void 0?r:null,s=n[1]||1/0;return oL.operate(function(c,u){var l=[],d=!1,p=function(S){var w=S.window,O=S.subs;w.complete(),O.unsubscribe(),sL.arrRemove(l,S),d&&_()},_=function(){if(l){var S=new iL.Subscription;u.add(S);var w=new rL.Subject,O={window:w,subs:S,seen:0};l.push(O),u.next(w.asObservable()),rd.executeSchedule(S,o,function(){return p(O)},e)}};a!==null&&a>=0?rd.executeSchedule(u,o,_,a,!0):d=!0,_();var g=function(S){return l.slice().forEach(S)},m=function(S){g(function(w){var O=w.window;return S(O)}),S(u),u.unsubscribe()};return c.subscribe(aL.createOperatorSubscriber(u,function(S){g(function(w){w.window.next(S),s<=++w.seen&&p(w)})},function(){return m(function(S){return S.complete()})},function(S){return m(function(w){return w.error(S)})})),function(){l=null}})}Na.windowTime=cL;var Da={},lL=f.commonjsGlobal&&f.commonjsGlobal.__values||function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Da,"__esModule",{value:!0});Da.windowToggle=void 0;var fL=re,dL=ue,hL=T,nd=N,lu=k,id=ce,pL=ke;function vL(e,t){return hL.operate(function(r,n){var i=[],o=function(a){for(;0<i.length;)i.shift().error(a);n.error(a)};nd.innerFrom(e).subscribe(lu.createOperatorSubscriber(n,function(a){var s=new fL.Subject;i.push(s);var c=new dL.Subscription,u=function(){pL.arrRemove(i,s),s.complete(),c.unsubscribe()},l;try{l=nd.innerFrom(t(a))}catch(d){o(d);return}n.next(s.asObservable()),c.add(l.subscribe(lu.createOperatorSubscriber(n,u,id.noop,o)))},id.noop)),r.subscribe(lu.createOperatorSubscriber(n,function(a){var s,c,u=i.slice();try{for(var l=lL(u),d=l.next();!d.done;d=l.next()){var p=d.value;p.next(a)}}catch(_){s={error:_}}finally{try{d&&!d.done&&(c=l.return)&&c.call(l)}finally{if(s)throw s.error}}},function(){for(;0<i.length;)i.shift().complete();n.complete()},o,function(){for(;0<i.length;)i.shift().unsubscribe()}))})}Da.windowToggle=vL;var Fa={};Object.defineProperty(Fa,"__esModule",{value:!0});Fa.windowWhen=void 0;var mL=re,_L=T,od=k,bL=N;function yL(e){return _L.operate(function(t,r){var n,i,o=function(s){n.error(s),r.error(s)},a=function(){i==null||i.unsubscribe(),n==null||n.complete(),n=new mL.Subject,r.next(n.asObservable());var s;try{s=bL.innerFrom(e())}catch(c){o(c);return}s.subscribe(i=od.createOperatorSubscriber(r,a,a,o))};a(),t.subscribe(od.createOperatorSubscriber(r,function(s){return n.next(s)},function(){n.complete(),r.complete()},o,function(){i==null||i.unsubscribe(),n=null}))})}Fa.windowWhen=yL;var La={},ad=f.commonjsGlobal&&f.commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},sd=f.commonjsGlobal&&f.commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(La,"__esModule",{value:!0});La.withLatestFrom=void 0;var gL=T,ud=k,SL=N,EL=le,OL=ce,wL=ie;function PL(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=wL.popResultSelector(e);return gL.operate(function(n,i){for(var o=e.length,a=new Array(o),s=e.map(function(){return!1}),c=!1,u=function(d){SL.innerFrom(e[d]).subscribe(ud.createOperatorSubscriber(i,function(p){a[d]=p,!c&&!s[d]&&(s[d]=!0,(c=s.every(EL.identity))&&(s=null))},OL.noop))},l=0;l<o;l++)u(l);n.subscribe(ud.createOperatorSubscriber(i,function(d){if(c){var p=sd([d],ad(a));i.next(r?r.apply(void 0,sd([],ad(p))):p)}}))})}La.withLatestFrom=PL;var xa={};Object.defineProperty(xa,"__esModule",{value:!0});xa.zipAll=void 0;var $L=$r,CL=$n;function AL(e){return CL.joinAllInternals($L.zip,e)}xa.zipAll=AL;var Ga={},Ua={},IL=f.commonjsGlobal&&f.commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},TL=f.commonjsGlobal&&f.commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Ua,"__esModule",{value:!0});Ua.zip=void 0;var jL=$r,kL=T;function RL(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return kL.operate(function(r,n){jL.zip.apply(void 0,TL([r],IL(e))).subscribe(n)})}Ua.zip=RL;var ML=f.commonjsGlobal&&f.commonjsGlobal.__read||function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},NL=f.commonjsGlobal&&f.commonjsGlobal.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Ga,"__esModule",{value:!0});Ga.zipWith=void 0;var DL=Ua;function FL(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return DL.zip.apply(void 0,NL([],ML(e)))}Ga.zipWith=FL;(function(e){var t=f.commonjsGlobal&&f.commonjsGlobal.__createBinding||(Object.create?function(Xt,Qt,Qe,bt){bt===void 0&&(bt=Qe),Object.defineProperty(Xt,bt,{enumerable:!0,get:function(){return Qt[Qe]}})}:function(Xt,Qt,Qe,bt){bt===void 0&&(bt=Qe),Xt[bt]=Qt[Qe]}),r=f.commonjsGlobal&&f.commonjsGlobal.__exportStar||function(Xt,Qt){for(var Qe in Xt)Qe!=="default"&&!Object.prototype.hasOwnProperty.call(Qt,Qe)&&t(Qt,Xt,Qe)};Object.defineProperty(e,"__esModule",{value:!0}),e.interval=e.iif=e.generate=e.fromEventPattern=e.fromEvent=e.from=e.forkJoin=e.empty=e.defer=e.connectable=e.concat=e.combineLatest=e.bindNodeCallback=e.bindCallback=e.UnsubscriptionError=e.TimeoutError=e.SequenceError=e.ObjectUnsubscribedError=e.NotFoundError=e.EmptyError=e.ArgumentOutOfRangeError=e.firstValueFrom=e.lastValueFrom=e.isObservable=e.identity=e.noop=e.pipe=e.NotificationKind=e.Notification=e.Subscriber=e.Subscription=e.Scheduler=e.VirtualAction=e.VirtualTimeScheduler=e.animationFrameScheduler=e.animationFrame=e.queueScheduler=e.queue=e.asyncScheduler=e.async=e.asapScheduler=e.asap=e.AsyncSubject=e.ReplaySubject=e.BehaviorSubject=e.Subject=e.animationFrames=e.observable=e.ConnectableObservable=e.Observable=void 0,e.filter=e.expand=e.exhaustMap=e.exhaustAll=e.exhaust=e.every=e.endWith=e.elementAt=e.distinctUntilKeyChanged=e.distinctUntilChanged=e.distinct=e.dematerialize=e.delayWhen=e.delay=e.defaultIfEmpty=e.debounceTime=e.debounce=e.count=e.connect=e.concatWith=e.concatMapTo=e.concatMap=e.concatAll=e.combineLatestWith=e.combineLatestAll=e.combineAll=e.catchError=e.bufferWhen=e.bufferToggle=e.bufferTime=e.bufferCount=e.buffer=e.auditTime=e.audit=e.config=e.NEVER=e.EMPTY=e.scheduled=e.zip=e.using=e.timer=e.throwError=e.range=e.race=e.partition=e.pairs=e.onErrorResumeNext=e.of=e.never=e.merge=void 0,e.switchMap=e.switchAll=e.subscribeOn=e.startWith=e.skipWhile=e.skipUntil=e.skipLast=e.skip=e.single=e.shareReplay=e.share=e.sequenceEqual=e.scan=e.sampleTime=e.sample=e.refCount=e.retryWhen=e.retry=e.repeatWhen=e.repeat=e.reduce=e.raceWith=e.publishReplay=e.publishLast=e.publishBehavior=e.publish=e.pluck=e.pairwise=e.onErrorResumeNextWith=e.observeOn=e.multicast=e.min=e.mergeWith=e.mergeScan=e.mergeMapTo=e.mergeMap=e.flatMap=e.mergeAll=e.max=e.materialize=e.mapTo=e.map=e.last=e.isEmpty=e.ignoreElements=e.groupBy=e.first=e.findIndex=e.find=e.finalize=void 0,e.zipWith=e.zipAll=e.withLatestFrom=e.windowWhen=e.windowToggle=e.windowTime=e.windowCount=e.window=e.toArray=e.timestamp=e.timeoutWith=e.timeout=e.timeInterval=e.throwIfEmpty=e.throttleTime=e.throttle=e.tap=e.takeWhile=e.takeUntil=e.takeLast=e.take=e.switchScan=e.switchMapTo=void 0;var n=q;Object.defineProperty(e,"Observable",{enumerable:!0,get:function(){return n.Observable}});var i=Rt;Object.defineProperty(e,"ConnectableObservable",{enumerable:!0,get:function(){return i.ConnectableObservable}});var o=kt;Object.defineProperty(e,"observable",{enumerable:!0,get:function(){return o.observable}});var a=xi;Object.defineProperty(e,"animationFrames",{enumerable:!0,get:function(){return a.animationFrames}});var s=re;Object.defineProperty(e,"Subject",{enumerable:!0,get:function(){return s.Subject}});var c=on;Object.defineProperty(e,"BehaviorSubject",{enumerable:!0,get:function(){return c.BehaviorSubject}});var u=br;Object.defineProperty(e,"ReplaySubject",{enumerable:!0,get:function(){return u.ReplaySubject}});var l=yr;Object.defineProperty(e,"AsyncSubject",{enumerable:!0,get:function(){return l.AsyncSubject}});var d=zh;Object.defineProperty(e,"asap",{enumerable:!0,get:function(){return d.asap}}),Object.defineProperty(e,"asapScheduler",{enumerable:!0,get:function(){return d.asapScheduler}});var p=ge;Object.defineProperty(e,"async",{enumerable:!0,get:function(){return p.async}}),Object.defineProperty(e,"asyncScheduler",{enumerable:!0,get:function(){return p.asyncScheduler}});var _=Xh;Object.defineProperty(e,"queue",{enumerable:!0,get:function(){return _.queue}}),Object.defineProperty(e,"queueScheduler",{enumerable:!0,get:function(){return _.queueScheduler}});var g=Qh;Object.defineProperty(e,"animationFrame",{enumerable:!0,get:function(){return g.animationFrame}}),Object.defineProperty(e,"animationFrameScheduler",{enumerable:!0,get:function(){return g.animationFrameScheduler}});var m=lr;Object.defineProperty(e,"VirtualTimeScheduler",{enumerable:!0,get:function(){return m.VirtualTimeScheduler}}),Object.defineProperty(e,"VirtualAction",{enumerable:!0,get:function(){return m.VirtualAction}});var S=an;Object.defineProperty(e,"Scheduler",{enumerable:!0,get:function(){return S.Scheduler}});var w=ue;Object.defineProperty(e,"Subscription",{enumerable:!0,get:function(){return w.Subscription}});var O=_r;Object.defineProperty(e,"Subscriber",{enumerable:!0,get:function(){return O.Subscriber}});var P=qi;Object.defineProperty(e,"Notification",{enumerable:!0,get:function(){return P.Notification}}),Object.defineProperty(e,"NotificationKind",{enumerable:!0,get:function(){return P.NotificationKind}});var $=Ze;Object.defineProperty(e,"pipe",{enumerable:!0,get:function(){return $.pipe}});var C=ce;Object.defineProperty(e,"noop",{enumerable:!0,get:function(){return C.noop}});var M=le;Object.defineProperty(e,"identity",{enumerable:!0,get:function(){return M.identity}});var F=Zi;Object.defineProperty(e,"isObservable",{enumerable:!0,get:function(){return F.isObservable}});var x=eo;Object.defineProperty(e,"lastValueFrom",{enumerable:!0,get:function(){return x.lastValueFrom}});var V=to;Object.defineProperty(e,"firstValueFrom",{enumerable:!0,get:function(){return V.firstValueFrom}});var Y=mn;Object.defineProperty(e,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return Y.ArgumentOutOfRangeError}});var D=Ve;Object.defineProperty(e,"EmptyError",{enumerable:!0,get:function(){return D.EmptyError}});var G=_n;Object.defineProperty(e,"NotFoundError",{enumerable:!0,get:function(){return G.NotFoundError}});var L=nn;Object.defineProperty(e,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return L.ObjectUnsubscribedError}});var X=bn;Object.defineProperty(e,"SequenceError",{enumerable:!0,get:function(){return X.SequenceError}});var ae=$i;Object.defineProperty(e,"TimeoutError",{enumerable:!0,get:function(){return ae.TimeoutError}});var ne=en;Object.defineProperty(e,"UnsubscriptionError",{enumerable:!0,get:function(){return ne.UnsubscriptionError}});var he=ro;Object.defineProperty(e,"bindCallback",{enumerable:!0,get:function(){return he.bindCallback}});var Bt=no;Object.defineProperty(e,"bindNodeCallback",{enumerable:!0,get:function(){return Bt.bindNodeCallback}});var Gn=lt;Object.defineProperty(e,"combineLatest",{enumerable:!0,get:function(){return Gn.combineLatest}});var Un=Ft;Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return Un.concat}});var Vt=io;Object.defineProperty(e,"connectable",{enumerable:!0,get:function(){return Vt.connectable}});var rt=xt;Object.defineProperty(e,"defer",{enumerable:!0,get:function(){return rt.defer}});var Ka=Te;Object.defineProperty(e,"empty",{enumerable:!0,get:function(){return Ka.empty}});var Wn=oo;Object.defineProperty(e,"forkJoin",{enumerable:!0,get:function(){return Wn.forkJoin}});var Kn=Re;Object.defineProperty(e,"from",{enumerable:!0,get:function(){return Kn.from}});var Ht=ao;Object.defineProperty(e,"fromEvent",{enumerable:!0,get:function(){return Ht.fromEvent}});var nt=so;Object.defineProperty(e,"fromEventPattern",{enumerable:!0,get:function(){return nt.fromEventPattern}});var Ba=uo;Object.defineProperty(e,"generate",{enumerable:!0,get:function(){return Ba.generate}});var Bn=co;Object.defineProperty(e,"iif",{enumerable:!0,get:function(){return Bn.iif}});var Vn=En;Object.defineProperty(e,"interval",{enumerable:!0,get:function(){return Vn.interval}});var Ir=lo;Object.defineProperty(e,"merge",{enumerable:!0,get:function(){return Ir.merge}});var Tr=Ru;Object.defineProperty(e,"never",{enumerable:!0,get:function(){return Tr.never}});var Ye=gr;Object.defineProperty(e,"of",{enumerable:!0,get:function(){return Ye.of}});var Va=On;Object.defineProperty(e,"onErrorResumeNext",{enumerable:!0,get:function(){return Va.onErrorResumeNext}});var Hn=fo;Object.defineProperty(e,"pairs",{enumerable:!0,get:function(){return Hn.pairs}});var zn=ho;Object.defineProperty(e,"partition",{enumerable:!0,get:function(){return zn.partition}});var qn=Tt;Object.defineProperty(e,"race",{enumerable:!0,get:function(){return qn.race}});var Pe=vo;Object.defineProperty(e,"range",{enumerable:!0,get:function(){return Pe.range}});var Xe=vn;Object.defineProperty(e,"throwError",{enumerable:!0,get:function(){return Xe.throwError}});var Ha=qe;Object.defineProperty(e,"timer",{enumerable:!0,get:function(){return Ha.timer}});var za=mo;Object.defineProperty(e,"using",{enumerable:!0,get:function(){return za.using}});var U=$r;Object.defineProperty(e,"zip",{enumerable:!0,get:function(){return U.zip}});var qa=sn;Object.defineProperty(e,"scheduled",{enumerable:!0,get:function(){return qa.scheduled}});var Ya=Te;Object.defineProperty(e,"EMPTY",{enumerable:!0,get:function(){return Ya.EMPTY}});var Yn=Ru;Object.defineProperty(e,"NEVER",{enumerable:!0,get:function(){return Yn.NEVER}}),r(pp,e);var it=dt;Object.defineProperty(e,"config",{enumerable:!0,get:function(){return it.config}});var Xa=wn;Object.defineProperty(e,"audit",{enumerable:!0,get:function(){return Xa.audit}});var Qa=_o;Object.defineProperty(e,"auditTime",{enumerable:!0,get:function(){return Qa.auditTime}});var Ja=bo;Object.defineProperty(e,"buffer",{enumerable:!0,get:function(){return Ja.buffer}});var Za=yo;Object.defineProperty(e,"bufferCount",{enumerable:!0,get:function(){return Za.bufferCount}});var $e=go;Object.defineProperty(e,"bufferTime",{enumerable:!0,get:function(){return $e.bufferTime}});var es=So;Object.defineProperty(e,"bufferToggle",{enumerable:!0,get:function(){return es.bufferToggle}});var ts=Eo;Object.defineProperty(e,"bufferWhen",{enumerable:!0,get:function(){return ts.bufferWhen}});var rs=Oo;Object.defineProperty(e,"catchError",{enumerable:!0,get:function(){return rs.catchError}});var ns=wo;Object.defineProperty(e,"combineAll",{enumerable:!0,get:function(){return ns.combineAll}});var mt=Pn;Object.defineProperty(e,"combineLatestAll",{enumerable:!0,get:function(){return mt.combineLatestAll}});var zt=Po;Object.defineProperty(e,"combineLatestWith",{enumerable:!0,get:function(){return zt.combineLatestWith}});var jr=wr;Object.defineProperty(e,"concatAll",{enumerable:!0,get:function(){return jr.concatAll}});var Xn=In;Object.defineProperty(e,"concatMap",{enumerable:!0,get:function(){return Xn.concatMap}});var kr=Co;Object.defineProperty(e,"concatMapTo",{enumerable:!0,get:function(){return kr.concatMapTo}});var Rr=Ao;Object.defineProperty(e,"concatWith",{enumerable:!0,get:function(){return Rr.concatWith}});var qt=Cr;Object.defineProperty(e,"connect",{enumerable:!0,get:function(){return qt.connect}});var be=jo;Object.defineProperty(e,"count",{enumerable:!0,get:function(){return be.count}});var _t=ko;Object.defineProperty(e,"debounce",{enumerable:!0,get:function(){return _t.debounce}});var Q=Ro;Object.defineProperty(e,"debounceTime",{enumerable:!0,get:function(){return Q.debounceTime}});var is=Gt;Object.defineProperty(e,"defaultIfEmpty",{enumerable:!0,get:function(){return is.defaultIfEmpty}});var os=Mo;Object.defineProperty(e,"delay",{enumerable:!0,get:function(){return os.delay}});var fe=Tn;Object.defineProperty(e,"delayWhen",{enumerable:!0,get:function(){return fe.delayWhen}});var as=No;Object.defineProperty(e,"dematerialize",{enumerable:!0,get:function(){return as.dematerialize}});var ss=Do;Object.defineProperty(e,"distinct",{enumerable:!0,get:function(){return ss.distinct}});var us=Rn;Object.defineProperty(e,"distinctUntilChanged",{enumerable:!0,get:function(){return us.distinctUntilChanged}});var cs=Fo;Object.defineProperty(e,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return cs.distinctUntilKeyChanged}});var ls=Lo;Object.defineProperty(e,"elementAt",{enumerable:!0,get:function(){return ls.elementAt}});var fs=xo;Object.defineProperty(e,"endWith",{enumerable:!0,get:function(){return fs.endWith}});var ds=Go;Object.defineProperty(e,"every",{enumerable:!0,get:function(){return ds.every}});var hs=Uo;Object.defineProperty(e,"exhaust",{enumerable:!0,get:function(){return hs.exhaust}});var ps=Mn;Object.defineProperty(e,"exhaustAll",{enumerable:!0,get:function(){return ps.exhaustAll}});var Yt=Nn;Object.defineProperty(e,"exhaustMap",{enumerable:!0,get:function(){return Yt.exhaustMap}});var vs=Wo;Object.defineProperty(e,"expand",{enumerable:!0,get:function(){return vs.expand}});var ms=tt;Object.defineProperty(e,"filter",{enumerable:!0,get:function(){return ms.filter}});var _s=Ko;Object.defineProperty(e,"finalize",{enumerable:!0,get:function(){return _s.finalize}});var bs=jt;Object.defineProperty(e,"find",{enumerable:!0,get:function(){return bs.find}});var ys=Bo;Object.defineProperty(e,"findIndex",{enumerable:!0,get:function(){return ys.findIndex}});var gs=Vo;Object.defineProperty(e,"first",{enumerable:!0,get:function(){return gs.first}});var Mr=Ho;Object.defineProperty(e,"groupBy",{enumerable:!0,get:function(){return Mr.groupBy}});var Ss=jn;Object.defineProperty(e,"ignoreElements",{enumerable:!0,get:function(){return Ss.ignoreElements}});var Es=zo;Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return Es.isEmpty}});var Os=qo;Object.defineProperty(e,"last",{enumerable:!0,get:function(){return Os.last}});var h=ze;Object.defineProperty(e,"map",{enumerable:!0,get:function(){return h.map}});var b=kn;Object.defineProperty(e,"mapTo",{enumerable:!0,get:function(){return b.mapTo}});var E=Yo;Object.defineProperty(e,"materialize",{enumerable:!0,get:function(){return E.materialize}});var A=Xo;Object.defineProperty(e,"max",{enumerable:!0,get:function(){return A.max}});var I=Lt;Object.defineProperty(e,"mergeAll",{enumerable:!0,get:function(){return I.mergeAll}});var j=Qo;Object.defineProperty(e,"flatMap",{enumerable:!0,get:function(){return j.flatMap}});var R=Ne;Object.defineProperty(e,"mergeMap",{enumerable:!0,get:function(){return R.mergeMap}});var B=Jo;Object.defineProperty(e,"mergeMapTo",{enumerable:!0,get:function(){return B.mergeMapTo}});var W=Zo;Object.defineProperty(e,"mergeScan",{enumerable:!0,get:function(){return W.mergeScan}});var Oe=ea;Object.defineProperty(e,"mergeWith",{enumerable:!0,get:function(){return Oe.mergeWith}});var we=ra;Object.defineProperty(e,"min",{enumerable:!0,get:function(){return we.min}});var ye=Ar;Object.defineProperty(e,"multicast",{enumerable:!0,get:function(){return ye.multicast}});var pe=Nt;Object.defineProperty(e,"observeOn",{enumerable:!0,get:function(){return pe.observeOn}});var De=fr;Object.defineProperty(e,"onErrorResumeNextWith",{enumerable:!0,get:function(){return De.onErrorResumeNextWith}});var Np=na;Object.defineProperty(e,"pairwise",{enumerable:!0,get:function(){return Np.pairwise}});var Dp=ia;Object.defineProperty(e,"pluck",{enumerable:!0,get:function(){return Dp.pluck}});var Fp=oa;Object.defineProperty(e,"publish",{enumerable:!0,get:function(){return Fp.publish}});var Lp=aa;Object.defineProperty(e,"publishBehavior",{enumerable:!0,get:function(){return Lp.publishBehavior}});var xp=sa;Object.defineProperty(e,"publishLast",{enumerable:!0,get:function(){return xp.publishLast}});var Gp=ua;Object.defineProperty(e,"publishReplay",{enumerable:!0,get:function(){return Gp.publishReplay}});var Up=ca;Object.defineProperty(e,"raceWith",{enumerable:!0,get:function(){return Up.raceWith}});var Wp=vt;Object.defineProperty(e,"reduce",{enumerable:!0,get:function(){return Wp.reduce}});var Kp=la;Object.defineProperty(e,"repeat",{enumerable:!0,get:function(){return Kp.repeat}});var Bp=fa;Object.defineProperty(e,"repeatWhen",{enumerable:!0,get:function(){return Bp.repeatWhen}});var Vp=da;Object.defineProperty(e,"retry",{enumerable:!0,get:function(){return Vp.retry}});var Hp=ha;Object.defineProperty(e,"retryWhen",{enumerable:!0,get:function(){return Hp.retryWhen}});var zp=rn;Object.defineProperty(e,"refCount",{enumerable:!0,get:function(){return zp.refCount}});var qp=Fn;Object.defineProperty(e,"sample",{enumerable:!0,get:function(){return qp.sample}});var Yp=pa;Object.defineProperty(e,"sampleTime",{enumerable:!0,get:function(){return Yp.sampleTime}});var Xp=va;Object.defineProperty(e,"scan",{enumerable:!0,get:function(){return Xp.scan}});var Qp=ma;Object.defineProperty(e,"sequenceEqual",{enumerable:!0,get:function(){return Qp.sequenceEqual}});var Jp=Ln;Object.defineProperty(e,"share",{enumerable:!0,get:function(){return Jp.share}});var Zp=_a;Object.defineProperty(e,"shareReplay",{enumerable:!0,get:function(){return Zp.shareReplay}});var ev=ba;Object.defineProperty(e,"single",{enumerable:!0,get:function(){return ev.single}});var tv=ya;Object.defineProperty(e,"skip",{enumerable:!0,get:function(){return tv.skip}});var rv=ga;Object.defineProperty(e,"skipLast",{enumerable:!0,get:function(){return rv.skipLast}});var nv=Sa;Object.defineProperty(e,"skipUntil",{enumerable:!0,get:function(){return nv.skipUntil}});var iv=Ea;Object.defineProperty(e,"skipWhile",{enumerable:!0,get:function(){return iv.skipWhile}});var ov=Oa;Object.defineProperty(e,"startWith",{enumerable:!0,get:function(){return ov.startWith}});var av=Dt;Object.defineProperty(e,"subscribeOn",{enumerable:!0,get:function(){return av.subscribeOn}});var sv=wa;Object.defineProperty(e,"switchAll",{enumerable:!0,get:function(){return sv.switchAll}});var uv=Kt;Object.defineProperty(e,"switchMap",{enumerable:!0,get:function(){return uv.switchMap}});var cv=Pa;Object.defineProperty(e,"switchMapTo",{enumerable:!0,get:function(){return cv.switchMapTo}});var lv=$a;Object.defineProperty(e,"switchScan",{enumerable:!0,get:function(){return lv.switchScan}});var fv=Ut;Object.defineProperty(e,"take",{enumerable:!0,get:function(){return fv.take}});var dv=Dn;Object.defineProperty(e,"takeLast",{enumerable:!0,get:function(){return dv.takeLast}});var hv=Ca;Object.defineProperty(e,"takeUntil",{enumerable:!0,get:function(){return hv.takeUntil}});var pv=Aa;Object.defineProperty(e,"takeWhile",{enumerable:!0,get:function(){return pv.takeWhile}});var vv=Ia;Object.defineProperty(e,"tap",{enumerable:!0,get:function(){return vv.tap}});var mv=xn;Object.defineProperty(e,"throttle",{enumerable:!0,get:function(){return mv.throttle}});var _v=Ta;Object.defineProperty(e,"throttleTime",{enumerable:!0,get:function(){return _v.throttleTime}});var bv=Wt;Object.defineProperty(e,"throwIfEmpty",{enumerable:!0,get:function(){return bv.throwIfEmpty}});var yv=dr;Object.defineProperty(e,"timeInterval",{enumerable:!0,get:function(){return yv.timeInterval}});var gv=$i;Object.defineProperty(e,"timeout",{enumerable:!0,get:function(){return gv.timeout}});var Sv=ja;Object.defineProperty(e,"timeoutWith",{enumerable:!0,get:function(){return Sv.timeoutWith}});var Ev=ka;Object.defineProperty(e,"timestamp",{enumerable:!0,get:function(){return Ev.timestamp}});var Ov=Cn;Object.defineProperty(e,"toArray",{enumerable:!0,get:function(){return Ov.toArray}});var wv=Ra;Object.defineProperty(e,"window",{enumerable:!0,get:function(){return wv.window}});var Pv=Ma;Object.defineProperty(e,"windowCount",{enumerable:!0,get:function(){return Pv.windowCount}});var $v=Na;Object.defineProperty(e,"windowTime",{enumerable:!0,get:function(){return $v.windowTime}});var Cv=Da;Object.defineProperty(e,"windowToggle",{enumerable:!0,get:function(){return Cv.windowToggle}});var Av=Fa;Object.defineProperty(e,"windowWhen",{enumerable:!0,get:function(){return Av.windowWhen}});var Iv=La;Object.defineProperty(e,"withLatestFrom",{enumerable:!0,get:function(){return Iv.withLatestFrom}});var Tv=xa;Object.defineProperty(e,"zipAll",{enumerable:!0,get:function(){return Tv.zipAll}});var jv=Ga;Object.defineProperty(e,"zipWith",{enumerable:!0,get:function(){return jv.zipWith}})})(z);function cd(e,t,r,n,i){for(let o=0;o<i;++o)if(e[t+o]!==r[n+o])return!1;return!0}class LL{constructor(t,r){if(typeof r!="function")throw new Error("Missing match callback");if(typeof t=="string")t=Buffer.from(t);else if(!Buffer.isBuffer(t))throw new Error(`Expected Buffer for needle, got ${typeof t}`);const n=t.length;if(this.maxMatches=1/0,this.matches=0,this._cb=r,this._lookbehindSize=0,this._needle=t,this._bufPos=0,this._lookbehind=Buffer.allocUnsafe(n),this._occ=[n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n],n>1)for(let i=0;i<n-1;++i)this._occ[t[i]]=n-1-i}reset(){this.matches=0,this._lookbehindSize=0,this._bufPos=0}push(t,r){let n;Buffer.isBuffer(t)||(t=Buffer.from(t,"latin1"));const i=t.length;for(this._bufPos=r||0;n!==i&&this.matches<this.maxMatches;)n=xL(this,t);return n}destroy(){const t=this._lookbehindSize;t&&this._cb(!1,this._lookbehind,0,t,!1),this.reset()}}function xL(e,t){const r=t.length,n=e._needle,i=n.length;let o=-e._lookbehindSize;const a=i-1,s=n[a],c=r-i,u=e._occ,l=e._lookbehind;if(o<0){for(;o<0&&o<=c;){const p=o+a,_=p<0?l[e._lookbehindSize+p]:t[p];if(_===s&&ld(e,t,o,a))return e._lookbehindSize=0,++e.matches,o>-e._lookbehindSize?e._cb(!0,l,0,e._lookbehindSize+o,!1):e._cb(!0,void 0,0,0,!0),e._bufPos=o+i;o+=u[_]}for(;o<0&&!ld(e,t,o,r-o);)++o;if(o<0){const p=e._lookbehindSize+o;return p>0&&e._cb(!1,l,0,p,!1),e._lookbehindSize-=p,l.copy(l,0,p,e._lookbehindSize),l.set(t,e._lookbehindSize),e._lookbehindSize+=r,e._bufPos=r,r}e._cb(!1,l,0,e._lookbehindSize,!1),e._lookbehindSize=0}o+=e._bufPos;const d=n[0];for(;o<=c;){const p=t[o+a];if(p===s&&t[o]===d&&cd(n,0,t,o,a))return++e.matches,o>0?e._cb(!0,t,e._bufPos,o,!0):e._cb(!0,void 0,0,0,!0),e._bufPos=o+i;o+=u[p]}for(;o<r;){if(t[o]!==d||!cd(t,o,n,0,r-o)){++o;continue}t.copy(l,0,o,r),e._lookbehindSize=r-o;break}return o>0&&e._cb(!1,t,e._bufPos,o<r?o:r,!0),e._bufPos=r,r}function ld(e,t,r,n){const i=e._lookbehind,o=e._lookbehindSize,a=e._needle;for(let s=0;s<n;++s,++r)if((r<0?i[o+r]:t[r])!==a[s])return!1;return!0}var GL=LL;const UL=f.getDefaultExportFromCjs(GL),WL=e=>new Promise(t=>setTimeout(t,e)),KL=3e3;class wp extends Error{constructor(){super("Ignore exec call. An exec channel may crash the session.");v(this,"name","PreventOpeningExecError")}}async function BL(e,{id:t,name:r},n){const i=await qL({info:e,id:t,name:r},o=>{const a=o!=null&&t!==o.id?o.name:null;n(a)});return Buffer.from(i.data)}async function VL(e){const{client:t,disconnect:r}=await Pp();t.emit("sign.remove",{id:e}),r()}const HL=()=>Ke.platform()==="win32"&&fc.gt(Ke.release(),"10.0.18363");async function Pp(){const e=await zL(),t=f.makeIPC(f.ipcSingleton.config.socketRoot);await fd((...i)=>t.connectTo(...i),e);const r=t.of[e];return await fd((...i)=>r.on(...i),"connect"),{client:r,disconnect:()=>t.disconnect(e)}}function zL(){return new Promise(e=>{var r;process.on("message",t),(r=process.send)==null||r.call(process,"request-fido-process");function t(n){f.isAllocationEvent(n)&&(process.off("message",t),e(n.ipcId))}})}const fd=(e,t)=>new Promise(r=>e(t,r));async function qL(e,t=bd){const{client:r,disconnect:n}=await Pp(),i=[n];try{return await new Promise((o,a)=>{i.push(fu(r,"resolve",o),fu(r,"reject",a),fu(r,"sign.progress",t)),r.emit("sign",e)})}catch(o){throw f.deserializeIpcError(o)}finally{i.reverse().forEach(o=>o())}}function fu(e,t,r){return e.on(t,r),()=>e.off(t,r)}const $p=e=>{switch(e){case"AUTO":return"unspecified";case"IPv4":return"ipv4";case"IPv6":return"ipv6";default:return"unspecified"}},Hr="Forced to close by user",ve={ssh:e=>!e.hasOwnProperty("hardwareKey")&&!e.hasOwnProperty("skKey"),sep:e=>e.hasOwnProperty("hardwareKey"),windowsHello:e=>ve.sep(e)&&e.hardwareKey.storage===Od,sk:e=>e.hasOwnProperty("skKey")};function YL(e){return e==null?!0:ve.windowsHello(e)}function XL(e){const t=ZL(e),r=e8(e)??"";if(t.use)return{publicKey:r,hardwareKey:t.key,privateKey:"",passphrase:""};const{ssh_key:n}=e;return{publicKey:r,privateKey:(n==null?void 0:n.private_key)??"",passphrase:(n==null?void 0:n.passphrase)??""}}async function Cp(e,t){const r=await QL(e,t);return JL(r,t)}async function Mu(e){const{sshKey:t,callbacks:r,logger:n,preselectedKey:i}=e;n.debug("Starting SSH key selection");const o=i||await new Promise(a=>r.requestChooseKey(a));return o==null?(n.debug("No SSH key to select"),t):o.type==="SEP"?(n.user("A biometric key is selected"),{publicKey:o.item.public_key,hardwareKey:o.item,privateKey:"",passphrase:""}):(n.user("An SSH key is selected"),Cp({privateKey:o.item.private_key,passphrase:o.item.passphrase},r))}async function QL(e,t){const r=ve.ssh(e)?e.privateKey:"";let n=ve.ssh(e)?e.passphrase:"";if(r&&te.checkPrivateKeyEncrypted(r))for(;;){if(n&&await te.checkPrivateKeyEncryptedWithPassword(r,n))return{passphrase:n,privateKey:r};n=await new Promise(i=>t.requestPassphrase(i))}return{passphrase:n,privateKey:r}}async function JL(e,t){if(!ve.ssh(e))return e;const r=e.privateKey||"",n=e.passphrase||"",i={privateKey:r,passphrase:n};let o=Uu(r),a=null;return ve.sk(e)&&({keyInfo:a}=e.skKey,o=o||a.isResidentKey),o?(a==null&&(a=r8(r,n)||null),a==null?i:t8(a,t)):i}function ZL(e){return!Ap(e)&&e.hardware_key!=null?{use:!0,key:e.hardware_key}:{use:!1}}function e8(e){var r,n;const t=(n=(r=e.ssh_key)==null?void 0:r.certificates[0])==null?void 0:n.certificate;if(t)return t;if(!Ap(e)&&e.hardware_key)return e.hardware_key.public_key}function Ap(e){return!!e.ssh_key&&e.ssh_key.private_key.length!==0}async function t8(e,t){if(!e.isPinRequired)return Nu(e,"");for(;;){const r=await new Promise(n=>t.requestPIN(n));if(r)return Nu(e,r)}}function Nu(e,t){return ft(e.publicKey,"keyInfo is invalid"),{skKey:{pin:t,keyInfo:e},publicKey:e.publicKey,privateKey:"",passphrase:""}}function ui(e){return t=>{const r=ve.sk(t)?Nu(t.skKey.keyInfo,t.skKey.pin):t;Object.assign(e,r)}}const r8=(...e)=>{const t=te.getSKKeyInfoFromOpenSSHPrivateKey(...e);return t==null||!HL()?t:{...t,isPinRequired:!1,isUserPresenceRequired:!0}};function n8(e,t,r){return e==="publickey"&&t==="failed"&&ve.windowsHello(r)}function Mc(e){const t="  ",[r,...n]=e.split(t);return{softwareVersion:r,comment:n.length!==0?n.join(t):void 0}}const i8=/^OpenSSH_(for_Windows_)?(?<version>\d+\.\d+)(p\d+)?$/,o8=new Ti.SemVer("7.2.0");function Du(e){if(e==null)return!0;const t=Ip(e);return t==null?!0:Ti.lt(t,o8)}function a8(e){const t=Ip(e);return t!=null&&Ti.gte(t,"8.2.0")}function Ip(e){var i;const{softwareVersion:t}=Mc(e.softwareVersion),r=i8.exec(t),n=(i=r==null?void 0:r.groups)==null?void 0:i.version;return n!=null?new Ti.SemVer(`${n}.0`):void 0}async function Wa(e){const{ssh:t,command:r,charset:n,execAnalytics:i,sessionInfo:o}=e;if(Du(o))throw new wp;try{return await new Promise((a,s)=>{t.exec({command:Xr(r,n),completionCallback:(c,u)=>a({exitCode:c,data:Lh(u,n)}),errorCallback:s})})}catch(a){const s=Wv(o==null?void 0:o.softwareVersion,Mc);throw i.execChannelOpenFailed({softwareVersion:s==null?void 0:s.softwareVersion,comment:s==null?void 0:s.comment}),a}}async function s8(e,t,r,n){try{const{exitCode:i,data:o}=await Wa({command:"echo $SHELL",ssh:e,charset:t,execAnalytics:r,sessionInfo:n});switch(i){case 0:return{echoSupported:!0,name:await l8(o,{ssh:e,charset:t,execAnalytics:r,sessionInfo:n})};case 127:return{echoSupported:!1};default:return}}catch{return}}function u8({exitCode:e,data:t}){if(e===0)return t}async function c8(e,t){try{const r=await Wa({...t,command:`readlink -f ${e}`});return u8(r)}catch{return}}function dd(e){return me.basename(e.trim()).toLowerCase()}async function l8(e,t){const r=dd(e);if(r!=="sh")return r;const n=await c8(e.trim(),t);return n?dd(n):r}class f8{constructor(){v(this,"isClosing",!1);v(this,"triedToConnect",!1);v(this,"client");this.client=new te.SshClient}getServerSshMethods(t){return this.client.getServerSshMethods(t)}getAgreedSshMethod(t){return this.client.getAgreedSshMethod(t)}close(){this.isClosing=!0,this.client.close(),setTimeout(()=>this.client.close(),1e3)}connect(t){if(Su(!this.triedToConnect,"Connect is called second time for the client. Is it a race condition?"),this.triedToConnect||(Su(!this.isClosing,"Connect is called for a closing client. Is it a race condition?"),this.isClosing))return;this.triedToConnect=!0;const r=h8(t,this);this.client.connect(r)}exec(t){this.isClosing||this.client.exec(t)}interactiveExec(t){this.isClosing||this.client.interactiveExec(t)}shell(t){this.isClosing||this.client.shell(t)}localPortForwarding(t){this.isClosing||this.client.localPortForwarding(t)}remotePortForwarding(t){this.isClosing||this.client.remotePortForwarding(t)}dynamicPortForwarding(t){this.isClosing||this.client.dynamicPortForwarding(t)}sftp(t){this.isClosing||this.client.sftp(t)}}const d8=new Set(["loggingCallback","errorCallback","disconnectCallback","sessionInfoCallback","disconnectMessageCallback"]);function h8(e,t){return new Proxy(e,{get(r,n){const i=Reflect.get(r,n);return typeof i!="function"||d8.has(n)?i:(...a)=>{if(t.isClosing)return;const s=a.map(c=>v8(c)?p8(c,t):c);i.call(r,...s)}}})}function p8(e,t){return(...r)=>{if(!t.isClosing)return e(...r)}}function v8(e){return typeof e=="function"}class Nc{constructor(t){v(this,"delegate");v(this,"updateSKPresence",(...t)=>this.delegate.updateSKPresence(...t));this.delegate=t}setDelegate(t){this.delegate=t}onClosed(t){return this.delegate.onClosed(t)}onError(t,r,n,i){return this.delegate.onError(t,r,n,i)}onDisconnect(){return this.delegate.onDisconnect()}onSessionLogFinishedWriting(){return this.delegate.onSessionLogFinishedWriting()}hostVerifier(t,r,n,i,o,a){return this.delegate.hostVerifier(t,r,n,i,o,a)}requestKeyboardInteractive(t,r,n,i,o,a){return this.delegate.requestKeyboardInteractive(t,r,n,i,o,a)}requestSignature(t,r,n,i){return this.delegate.requestSignature(t,r,n,i)}askUserNecessaryFields(t){return this.delegate.askUserNecessaryFields(t)}requestPassphrase(t){return this.delegate.requestPassphrase(t)}handleHostChainConnection(t){return this.delegate.handleHostChainConnection(t)}onLogMessage(t){this.delegate.onLogMessage(t)}requestSKPresence(t){this.delegate.requestSKPresence(t)}requestPIN(t){this.delegate.requestPIN(t)}onHostOSDetected(t){this.delegate.onHostOSDetected(t)}requestChooseKey(t){this.delegate.requestChooseKey(t)}requestAuthMethod(t,r){this.delegate.requestAuthMethod(t,r)}requestDiscoverableSKKeys(t,r){this.delegate.requestDiscoverableSKKeys(t,r)}}function m8(e,t,r){let n=!1;return new Promise((i,o)=>{t.delegate=new class extends Nc{onError(a,s,c,u){return n||o(a),super.onError(a,s,c,u)}}(t.delegate),e.portForwarding(t,r,{onStarted(a){i(a),n=!0},onStopped(){}})})}class _8 extends Nc{constructor(r,n,i){super(r);v(this,"portForwarding");v(this,"address");v(this,"port");this.portForwarding=i,this.address=n.address,this.port=n.getMergedSshConfig().port}onDisconnect(){return this._withClose(()=>super.onDisconnect())}onError(...r){return this._withClose(()=>super.onError(...r))}onClosed(...r){return this._withClose(()=>super.onClosed(...r))}hostVerifier(r,n,i,o,a,s){return super.hostVerifier({host:this.address.trim(),port:this.port},n,i,o,a,s)}requestKeyboardInteractive(r,n,i,o,a,s){return super.requestKeyboardInteractive(r,n,i,o,a,s)}requestSignature(r,n,i,o){return super.requestSignature(r,n,i,o)}_withClose(r){const n=r();return this.portForwarding.close(),n}}class b8 extends Nc{onDisconnect(){return this._run(()=>super.onDisconnect())}onError(...t){return this._run(()=>super.onError(...t))}onClosed(...t){return this._run(()=>super.onClosed(...t))}_markAsInactive(){this.setDelegate({onDisconnect(){},onError(){},onClosed(){},hostVerifier(){},requestKeyboardInteractive(){},async requestSignature(){throw new Error("not implemented")},async askUserNecessaryFields(){throw new Error("not implemented")},requestPassphrase(){},handleHostChainConnection(){},onLogMessage(){},requestSKPresence(){},requestPIN(){},updateSKPresence(){},onHostOSDetected(){},requestChooseKey(){},requestAuthMethod(){},requestDiscoverableSKKeys(){},onSessionLogFinishedWriting(){}})}_run(t){const r=t();return this._markAsInactive(),r}}class y8{constructor(t){v(this,"provider");this.provider=t}async connect(t){const{protocol:r,delegate:n,sshKnownHosts:i,abortController:o,sessionLogData:a,sessionLogAnalytics:s,featureSet:c}=t;if(r==="mosh")return t;const{connectionPath:u}=t.host;if(u.length===0||u.length===1)return t.delegate.handleHostChainConnection(t),t;const l=new b8(n);let d=new Yr({protocol:"ssh",host:u.shift(),delegate:l,sshKnownHosts:i,sessionLogData:a,sessionLogAnalytics:s,abortController:o,featureSet:c});for(const p of u){const{proxy:_,port:g}=p.getMergedSshConfig(),m=await m8(this.provider,d,{type:"local",port:0,host:_?_.hostname:p.address,hostPort:_?_.port:g});d=new Yr({protocol:"ssh",host:p,chainedHostOverrides:{address:m.getBindAddress(),port:m.getBindPort()},delegate:new _8(l,p,m),sshKnownHosts:i,sessionLogData:a,sessionLogAnalytics:s,abortController:o,featureSet:c,analyticsHelper:t.analyticsHelper})}return t.delegate.handleHostChainConnection(d),d.clone({id:t.id})}}class g8{constructor(t){v(this,"detectOSDefaultShellScript",`HISTFILE=;
SA_OS_TYPE="Linux"
REAL_OS_NAME=\`uname\`
if [ "$REAL_OS_NAME" != "$SA_OS_TYPE" ] ;
then
echo \`uname\`
else
DISTRIB_ID=\\"\`cat /etc/*release\`\\"
echo $DISTRIB_ID;
fi;
exit;
`);v(this,"detectOSFishShellScript",`if set name (uname) = "Linux"
    cat /etc/*release
else
    uname
end
`);v(this,"detectRouterOSScript",`:put [/system resource get platform]
`);v(this,"osTypesMap",new Map([["raspbian","raspbian"],["centos","centos"],["darwin","osx"],["ubuntu","ubuntu"],["openbsd","openbsd"],["netbsd","netbsd"],["freebsd","freebsd"],["suse","suse"],["fedora","fedora"],["mageia","mageia"],["arch","arch"],["gentoo","gentoo"],["debian","debian"],["linux","linux"],["android","android"],["mikrotik","routeros"],["routeros","routeros"],["redhat","redhat"],["red","redhat"],["msys_nt","windows"],["win","windows"],["windows","windows"],["cisco","cisco"],["gloria-ops-agent","gloria_ops_agent"]]));this.execAnalytics=t}getOsFromSoftwareVersion(t){const r=t.toLocaleLowerCase();for(const[n,i]of this.osTypesMap)if(r.includes(n))return i;return null}async getOS(t,r,n,i){try{const o=t.echoSupported?this.getDetectOSScriptByShellType(t.name):this.detectRouterOSScript,a=await this.executeExecCommand(r,o,n,i);return this.parseOS(a)}catch{return null}}async executeExecCommand(t,r,n,i){const{exitCode:o,data:a}=await Wa({ssh:t,command:r,charset:n,execAnalytics:this.execAnalytics,sessionInfo:i});if(o)throw o;return a}getDetectOSScriptByShellType(t){return t.includes("fish")?this.detectOSFishShellScript:this.detectOSDefaultShellScript}parseOS(t){const r=t.trim();for(const[o,a]of this.osTypesMap)if(o===r.toLocaleLowerCase())return a;const n=r.replace(/Linux\n/g,"").split(" ");for(const o of n){const a=o.replace(/"/g,"").split("=");if(a.length===2&&a[0]==="NAME"){const s=this.osTypesMap.get(a[1].toLocaleLowerCase());if(s)return s}}const i="msys_nt";return r.toLowerCase().includes(i)?this.osTypesMap.get(i)??null:null}}function S8(e){switch(e){case 1:return"mismatch";case 2:return"notfound";case 3:default:return"failure"}}function Tp(e){return e.startsWith(".")&&e!==".."}const E8=/\.([0-9a-z]+)(?=[?#])|(\.)(?:[\w]+)$/gim;function jp(e){if(e.attrs.isDirectory())return"folder";if(e.attrs.isSymbolicLink())return"link";let{filename:t}=e;t=Tp(t)?t.substring(1):t;const r=t.match(E8);return r?r[0].replace(".",""):"file"}const O8=e=>{const t=e.longname.split(" ").filter(r=>r!=="");return{user:t[2],group:t[3]}},w8=e=>e.longname.split(" ").filter(r=>r!=="")[0],P8=e=>{const{attrs:t,filename:r}=e;return{filename:r,attrs:t,extension:jp(e),isDirectory:t.isDirectory(),isSelectable:!0,isLink:t.isSymbolicLink(),isHidden:Tp(r),ownership:O8(e),permissions:w8(e),title:null}},$8=e=>({attrs:{mode:e.attrs.mode,size:e.attrs.size},filename:e.filename,extension:jp(e),isDirectory:e.attrs.isDirectory(),isLink:e.attrs.isSymbolicLink()}),C8=["mlkem512-sha256","mlkem768-sha256","mlkem1024-sha384"];function A8(e={}){return I8(e)}function I8(e={}){const{excludeUnstablePQCKexMethods:t=!1}=e,r=te.SshClient.getClientSshMethods("kex");return t?[{type:"kex",methods:r.filter(n=>!C8.includes(n))}]:[]}class T8{constructor(t,r){this.channel=t,this.sshClient=r}close(){return this.sshClient.close("session")}getBindPort(){return this.channel.getBindPort()}getBindAddress(){return this.channel.getBindAddress()}}const Se=new Map([[1,"End of file"],[2,"No such file"],[3,"Permission denied"],[4,"Failure"],[5,"Bad message"],[6,"No connection"],[7,"Connection lost"],[8,"Operation unsupported"],[9,"Invalid handle"],[10,"No such path"],[11,"File already exists"],[12,"Write protect"],[13,"No media"],[14,"No space on file system"],[15,"Quota exceeded"],[16,"Unknown principal"],[17,"Lock conflict"],[18,"Directory is not empty"],[19,"Not a directory"],[20,"Invalid filename"],[21,"Link loop"]]);function j8(e){const t=e.getFile("read");if(!t)throw new Error("SFTP session has been closed");return t}class k8 extends Qr.Readable{constructor(r,n){super({highWaterMark:6e4});v(this,"file");this.file=j8(r),this.file.open(n,Ae.constants.O_RDONLY,0,i=>{this.maybeEmitError(i)})}close(){this.file.close(r=>{this.maybeEmitError(r)||this.push(null)})}_read(r){this.file.read(r,(n,i,o)=>{if(n.length!==0&&this.push(n),i){this.close();return}this.maybeEmitError(o)&&this.close()})}maybeEmitError(r){return r!==0?(this.emit("error",Se.get(r)),!0):!1}}const R8=Ae.constants.O_WRONLY|Ae.constants.O_CREAT|Ae.constants.O_TRUNC;function M8(e){const t=e.getFile("write");if(!t)throw new Error("SFTP session has been closed");return t}function N8(e){return new Error(Se.get(e))}class D8 extends Qr.Writable{constructor(r,n,i){super({highWaterMark:6e4});v(this,"file");v(this,"path");this.path=n,this.file=M8(r),this.file.open(n,R8,i,o=>{o!==0&&this.emit("error",Se.get(o))})}_write(r,n,i){this.file.write(r,!1,o=>{this.resolveCallback(i,o)})}_final(r){this.file.write(null,!0,n=>{this.maybeReturnError(n,r)?this.close():(this.emit("finish"),this.close(r))})}maybeReturnError(r,n){return r!==0?(n(N8(r)),!0):!1}resolveCallback(r,n){this.maybeReturnError(n,r)||r()}close(r){this.file.close(n=>{r&&(this.resolveCallback(r,n),this.emit("close"))})}}function hd(e){return e.filename!=="."&&e.filename!==".."}class F8{constructor(t){v(this,"fs");v(this,"readdir",(t,r)=>{this.fs.listDir(t,(n,i)=>{n?r(Se.get(n),i):r(n,i.filter(hd).map(P8))})});v(this,"readdirTransfer",(t,r)=>{this.fs.listDir(t,(n,i)=>{n?r(Se.get(n),i):r(n,i.filter(hd).map($8))})});v(this,"end",t=>{this.fs.close(),t()});v(this,"realpath",(t,r)=>{this.fs.realPath(t,(n,i)=>{r(n&&Se.get(n),i)})});v(this,"symlink",(t,r,n)=>{this.fs.symlink(t,r,i=>{i?n(Se.get(i)):n()})});v(this,"readlink",(t,r)=>{this.fs.readLink(t,(n,i)=>{r(n&&Se.get(n),i)})});v(this,"rmdir",(t,r)=>{this.fs.removeDir(t,n=>{n?r(Se.get(n)):r()})});v(this,"rename",(t,r,n)=>{this.fs.rename(t,r,i=>{i?n(Se.get(i)):n()})});v(this,"unlink",(t,r)=>{this.fs.removeFile(t,n=>{n?r(Se.get(n)):r()})});v(this,"mkdir",(t,r)=>{this.fs.makeDir(t,493,n=>{n?r(Se.get(n)):r()})});v(this,"chmod",(t,r,n)=>{this.fs.chmod(t,r,i=>{i?n(Se.get(i)):n()})});v(this,"createReadStream",t=>new k8(this.fs,t));v(this,"createWriteStream",(t,{mode:r})=>new D8(this.fs,t,r));this.fs=t}}function L8(e){return z.firstValueFrom(e.pipe(z.buffer(e.pipe(z.filter(r=>!hu(r)),z.debounceTime(1e3))),z.map(r=>hu(r)?{type:"failed",reason:"output stream completed"}:K8(r.join(""))),z.timeout(3e3+1e3),z.catchError(r=>r instanceof z.TimeoutError?z.of({type:"failed",reason:"data timeout"}):z.of({type:"failed",reason:"output stream broken"}))))}const x8=["Type a key","Type one of the keys in parentheses","Would you like to check for updates?","Would you like to update?","There was an error updating. Try again later?"],G8=["\x1B[?47h","\x1B[?1047h","\x1B[?1049h"];function U8(e){return x8.some(t=>e.includes(t))}function W8(e){return G8.some(t=>e.includes(t))}function K8(e){return U8(e)?{type:"failed",reason:"non-shell prompt"}:W8(e)?{type:"failed",reason:"alternative buffer"}:{type:"succeeded"}}async function Fu(e){const r=(await te.sep.fetchAllKeys()).find(n=>n.publicKey===e);if(!r)throw new Error("Key not found");return r}class B8{constructor(){v(this,"tasks",[]);v(this,"isExecuting",!1)}add(t){return new Promise((r,n)=>{this.tasks.push({request:t,isCancelled:!1,resolve:r,reject:n}),this.maybeExecute()})}cancel(t){const r=this.tasks.find(n=>n.request.request_id===t);return r?(r.isCancelled=!0,!0):!1}canStartNewTask(){return!(this.isExecuting||this.tasks.length===0)}maybeExecute(){this.canStartNewTask()&&this.execute()}async execute(){const t=this.tasks.shift();if(t){if(this.isExecuting=!0,t.isCancelled){this.onTaskFailed(t,new Error("Cancelled"));return}try{const r=await this.sign(t.request);this.onTaskSucceeded(t,r)}catch(r){this.onTaskFailed(t,r)}}}onTaskSucceeded(t,r){t.resolve(r),this.onTaskFinished()}onTaskFailed(t,r){t.reject(r),this.onTaskFinished()}onTaskFinished(){this.isExecuting=!1,this.maybeExecute()}async sign(t){return(await Fu(t.publicKey)).sign(t.data)}}function ri(e){return{isSuccess:!1,error:e}}function ni(e){return{isSuccess:!0,result:e}}const pd="keychain.sep";class ci{static listen(){UP.handle(pd,(t,r,n)=>this.handle(r,n))}static async isAvailable(t="FULL_CHECK"){if(!Dh)return!1;const r=yi.getDeprecatedDeviceHasSepSupport();if(t==="SHALLOW_CHECK")return!!r;if(r!=null)return r;const n=await this.invoke("CHECK_SUPPORTED");return yi.setDeprecatedDeviceHasSepSupport(n),n}static async generateNewKey(t){const r=await this.invoke("GENERATE",t);if(!r.isSuccess)throw new Error(r.error.message);return r.result}static async removeKey(t){const r=await this.invoke("REMOVE",t);if(!r.isSuccess)throw new Error(r.error.message);return r.result}static signData(t,r){const n=f.uuidv4();return{promise:this.invokeSignatureRequest({request_id:n,data:t,publicKey:r}),cancel:async()=>this.invoke("SIGN_CANCEL",n)}}static async checkKeyExists(t){return this.invoke("CHECK_KEY_EXISTS",t)}static async getAllKeys(){const t=await this.invoke("GET_ALL_KEYS");if(!t.isSuccess)throw new Error(t.error.message);return t.result}static async invokeSignatureRequest(t){const r=await this.invoke("SIGN",t);if(!r.isSuccess)throw new Error(r.error.message);return r.result}static invoke(t,r){return $u.invoke(pd,t,r)}static handle(t,r){switch(t){case"CHECK_SUPPORTED":return this.handleIsSupported();case"GENERATE":return this.handleGenerateNewKey(r);case"REMOVE":return this.handleRemoveKey(r);case"SIGN":return this.handleSignatureRequest(r);case"SIGN_CANCEL":return this.handleCancelSignatureRequest(r);case"CHECK_KEY_EXISTS":return this.handleCheckKeyExists(r);case"GET_ALL_KEYS":return this.handleGetAllKeys();default:throw new Error("API Misuse")}}static handleIsSupported(){return te.sep.isSupported()}static async handleGenerateNewKey(t){try{const r=await te.sep.generateNewKey({label:t});return ni(r.publicKey)}catch(r){return ri(r)}}static async handleRemoveKey(t){try{const n=await(await Fu(t)).remove();return ni(n)}catch(r){return ri(r)}}static async handleSignatureRequest(t){try{const r=await this.signatureRequests.add(t);return ni(r)}catch(r){return ri(r)}}static handleCancelSignatureRequest(t){return this.signatureRequests.cancel(t)}static async handleCheckKeyExists(t){try{return(await Fu(t)).publicKey.length!==0}catch{return!1}}static async handleGetAllKeys(){try{const r=(await te.sep.fetchAllKeys()).map(n=>({label:n.label,publicKey:n.publicKey}));return ni(r)}catch(t){return ri(t)}}}v(ci,"signatureRequests",new B8);async function V8(e,t){if(!await ci.isAvailable("SHALLOW_CHECK"))throw new Error("Secure Enclave is not available");if(!await ci.checkKeyExists(e))throw new Error("Key not found");return ci.signData(t,e).promise}async function H8(e,t){return V8(e,t)}const z8=60;function du(e){return e==null?"":e.port==="22"?`${e.username}@${e.host}`:`${e.username}@[${e.host}]:${e.port}`}class q8{constructor(t,r){v(this,"clients");v(this,"interruptibleWithPublickey");v(this,"agentStorage");v(this,"hostChainDepth");v(this,"hostOSDetector");this.sessionLogsDirectory=t,this.execAnalytics=r,this.clients=new Map,this.agentStorage=new te.SshAgentStorage,this.interruptibleWithPublickey=!1,this.hostChainDepth=0,this.hostOSDetector=new g8(r)}setInterruptibleWithPublickey(t){this.interruptibleWithPublickey=t}async exec(t,r){var c,u;const{client:n,sessionInfo:i}=await this.getClientHelper(t),o=this.clients.has(t.id)&&Du(i),a=t.protocol==="mosh";if(o&&!a)throw(u=(c=t.delegate).onLogMessage)==null||u.call(c,"â Disabled exec call due to a risk of session crash."),new wp;const{charset:s}=t.host.getMergedSshConfig();return Wa({ssh:n,command:r,charset:s,execAnalytics:this.execAnalytics,sessionInfo:i})}shell(t,r,n){this.getClient(t,i=>{var $;const{client:o,options:a,sessionInfo:s,config:c}=i,{charset:u,agent_forwarding:l}=t.host.getMergedSshConfig(),d=$c(u),{sshKey:p}=c??{};if(p!=null&&a!=null&&l&&!YL(p)){const{privateKey:C,publicKey:M,passphrase:F}=p;C!==""&&this.agentStorage.addKey({privateKey:C,password:F}),M!==""&&this.agentStorage.addKey({publicKey:M})}const{sessionLogData:_,sessionLogAnalytics:g}=t,m=_!=null?new te.terminalOutput.Writer(Cc(_,g,this.sessionLogsDirectory,t.delegate.onSessionLogFinishedWriting)):void 0,S=new z.Subject,w={next(C){n.onOutput(C)},complete(){n.onFinished()},error(){}};let O=S.subscribe(w);const P=($=this.clients.get(t.id))==null?void 0:$.shellDetector;ft(P!=null),o.shell({ptyOptions:r,readyCallback:async C=>{var G;const M=s!=null?{status:"received",softwareVersion:s.softwareVersion,protocolVersion:s.protocolVersion}:{status:"unknown"};if(n.onReady({getType:P,sendData:L=>C.sendData(Xr(L,u)),sendBinary:L=>C.sendData(L),sendSize:(...L)=>C.sendSize(...L),close:()=>o.close("session"),setupShellIntegration:async()=>{O.unsubscribe();const L=[],X=S.subscribe(ne=>{L.push(ne)});n.onShellIntegrationStatus({type:"started"});const ae=await i4(P,C,u,S);return n.onShellIntegrationStatus(ae),ae.type==="failed"&&await WL(KL),X.unsubscribe(),w.next(L.join("")),O=S.subscribe(w),!1}},M),!((G=t.featureSet)!=null&&G.includes("ShellIntegration"))||Du(s)){n.onShellIntegrationStatus({type:"skipped"});return}const F=L8(S),x=await P();if(!kp(x)){n.onShellIntegrationStatus({type:"skipped"});return}n.onShellIntegrationStatus({type:"started"});const V=await F;if(V.type==="failed"){n.onShellIntegrationStatus(V);return}const Y=await Nh(x.name);if(!Y.success){n.onShellIntegrationStatus({type:"failed",reason:"unsupported shell"});return}C.sendData(Xr(` ${Y.lines.join(`${ur.CR} `)}${ur.CR}`,u));const D=await z.firstValueFrom(S.pipe(Rp(Mp),z.map(()=>({type:"succeeded"})),z.timeout(3e3),z.catchError(L=>L instanceof z.TimeoutError?z.of({type:"failed",reason:"response timeout"}):z.of({type:"failed",reason:"output stream broken"}))),{defaultValue:{type:"failed",reason:"output stream completed"}});n.onShellIntegrationStatus(D)},dataCallback:C=>{const M=d.write(C);m==null||m.append(Buffer.from(M)),S.next(M)},disconnectCallback:C=>{n.onExit(C)},finalizeCallback:()=>{S.complete(),m==null||m.end(),d.end()},agentOptions:{enable:l,storage:this.agentStorage,onSignCallback:(C,M,F,x)=>{H8(M,F).then(V=>{x(V)}).catch(V=>{x(Buffer.from(""))})}}})})}portForwarding(t,{type:r,...n},i){this.getClient(t,o=>{var c;const{client:a}=o;let s;switch(r){case"local":s=a.localPortForwarding;break;case"remote":s=a.remotePortForwarding;break;case"dynamic":s=a.dynamicPortForwarding;break;default:t.delegate.onError(`Unsupported type of port forwarding: ${r}`,t.displayLabel);return}s.call(a,{...n,bindAddress:((c=n.bindAddress)==null?void 0:c.trim())||"127.0.0.1",host:n.host.trim(),readyCallback(u){i.onStarted(new T8(u,a))},disconnectCallback(){i.onStopped()},errorCallback:u=>{t.delegate.onError(u.message,t.displayLabel,u.libtermius_error_type,u.libtermius_error_code)}})})}fs(t,r){this.getClient(t,n=>{const{client:i,options:o}=n;i.sftp({readyCallback:a=>{const s=h$(new F8(a));r.onReady({...s,end:()=>i.close("session")})},disconnectCallback:()=>{r.onFinished()},errorCallback:a=>{t.delegate.onError("SFTP Subsystem is not available",du(o))}})})}async getClient(t,r){if(this.clients.get(t.id)){await this._getClient(t,r);return}const n=new y8(this);try{this.hostChainDepth+=1;const i=await n.connect(t);this.hostChainDepth-=1,await this._getClient(i,r)}catch{this.hostChainDepth-=1}}async getClientHelper(t){return new Promise(r=>this.getClient(t,n=>r(n)))}async _getClient(t,r){var _;const n=t.delegate,i=t.id,o=this.clients.get(i);let a,s=o==null?void 0:o.client,c=!!t.host.os_name;if(s!=null){r({client:s,options:null,sessionInfo:o==null?void 0:o.info});return}const{signal:u}=t;let{host:l}=t,d;const p=[];try{for(;n4(l);)l=await n.askUserNecessaryFields(l).catch(()=>{throw new Error(Hr)});const{identity:g,port:m,env_variables:S,charset:w}=l.getMergedSshConfig(),O=g.username.trim();if(!Fh(w)){n.onError(`Charset "${w}" is not supported`,du({username:O,host:l.address.trim(),port:`${m}`}));return}const P=X8(t),$=Q8(t),C=XL(g),M=await Cp(C,n);ui(C)(M);const F=()=>{u.removeEventListener("abort",F);const D=this.clients.get(i);D!=null&&(d=Hr,D.client.close(),this.clients.delete(i)),(ve.sk(C)||ve.windowsHello(C))&&VL(t.id)},x=A8({excludeUnstablePQCKexMethods:(_=t.featureSet)==null?void 0:_.includes("ExcludeUnstablePQCKex")}),V={...Y8(t),username:O,password:g.password,addressType:$p(l.ip_version),keys:[C],proxy:P,keepaliveInterval:t.keepaliveInterval??z8,environmentVariables:S,knownhosts:[...t.sshKnownHosts],knownhostAlias:$,overrideMethods:x,knownhostsCallback(D,G,L,X,ae,ne){n.hostVerifier({host:V.host,port:m},S8(D),G,L,X,he=>{he||(d=Hr),ne(he)})},connectCallback:async()=>{var D;if(u.removeEventListener("abort",F),s!=null&&(r({client:s,options:V,sessionInfo:a,config:{sshKey:C}}),!c&&t.isDetectOSEnabled&&!t.quick)){const G=(D=this.clients.get(t.id))==null?void 0:D.shellDetector,L=await(G==null?void 0:G());if(L==null){n.onHostOSDetected(null);return}const X=await this.hostOSDetector.getOS(L,s,w,a);n.onHostOSDetected(X)}},disconnectCallback:()=>{u.removeEventListener("abort",F),this.clients.delete(i),n.onDisconnect(d)},errorCallback:D=>{r4(D)||(u.removeEventListener("abort",F),this.clients.delete(i),n.onError(D.message,du(V),D.libtermius_error_type,D.libtermius_error_code,a==null?void 0:a.softwareVersion))},enableLogging:!0,loggingCallback:(D,G,L)=>{var X;(X=n.onLogMessage)==null||X.call(n,`${Ac(D,G)} ${L}`)},encodingCallback:D=>{try{return Lh(D,w)}catch{return}},disconnectMessageCallback:(D,G,L)=>{},authInfoCallback:(D,G)=>{if(n8(D,G,C)&&a!=null&&!a8(a)){const L=Gr(n),{softwareVersion:X}=Mc(a.softwareVersion);L.warning(`Windows Hello keys require OpenSSH 8.2+, '${X}' was detected`)}},authInteractiveCallback:(D,G)=>{if(D.length===1&&D.includes("password")){n.requestAuthMethod(["password"],L=>G(L));return}if(D.length===1&&D.includes("keyboard-interactive")){G({method:"keyboard-interactive"});return}if(D.length===2&&D.includes("keyboard-interactive")&&D.includes("publickey")){this.setInterruptibleWithPublickey(!0),G({method:"keyboard-interactive"});return}if(D.length===1&&D.includes("publickey")){const L=Gr(n);Mu({sshKey:C,callbacks:n,logger:L}).then(ui(C)).then(()=>{if(ve.ssh(C)){G({method:"publickey",key:{privateKey:C.privateKey,passphrase:C.passphrase,publicKey:""}});return}const{publicKey:X,privateKey:ae,passphrase:ne}=C;G({method:"publickey",key:{publicKey:X,privateKey:ae,passphrase:ne}})});return}n.requestAuthMethod(D,(L,X)=>{if(L.method==="publickey"){const ae=Gr(n);Mu({sshKey:C,callbacks:n,logger:ae,preselectedKey:X}).then(ui(C)).then(()=>{if(ve.ssh(C)){G({method:"publickey",key:{privateKey:C.privateKey,passphrase:C.passphrase,publicKey:""}});return}const{publicKey:ne,privateKey:he,passphrase:Bt}=C;G({method:"publickey",key:{publicKey:ne,privateKey:he,passphrase:Bt}})})}else G(L)})},keyboardInteractiveCallback:t4({getPassword:()=>V.password,callbacks:n,getInterruptibleWithPublickey:()=>this.interruptibleWithPublickey,resetInterruptibleWithPublickey:()=>this.setInterruptibleWithPublickey(!1),getSshKey:()=>C,getConnection:()=>t}),authSignCallback:(D,G,L,X)=>{var ne;const ae=Gr(n);if(ve.sep(C)){ae.user("Requesting Biometric key usage"),n.requestSignature(G,C.hardwareKey.storage,C.hardwareKey.credentialId,L).then(X).catch(he=>{ae.warning(he.message),X(Buffer.from(""))});return}if(!ve.sk(C)){ae.warning("Skipping a publickey authentication attempt");return}ae.user("Requesting FIDO2 user presence"),n.requestSKPresence(!!((ne=C.skKey.keyInfo)!=null&&ne.isUserPresenceRequired)),BL({...C.skKey.keyInfo,pin:C.skKey.pin,data:L},{name:t.displayLabel,id:t.id},n.updateSKPresence).then(X)},showSessionInfo:!0,sessionInfoCallback:D=>{a=D;const G=this.clients.get(i);if(G!=null&&(G.info=D),!c&&!t.quick){const L=this.hostOSDetector.getOsFromSoftwareVersion(D.softwareVersion);L!=null&&(n.onHostOSDetected(L),c=!0)}}};u.addEventListener("abort",F),p.push(()=>{u.removeEventListener("abort",F)}),s=new f8;const Y=s;this.clients.set(i,{client:s,info:a,shouldBeClosed:this.hostChainDepth===0,shellDetector:f$(async()=>s8(Y,w,this.execAnalytics,a))}),s.connect(V)}catch(g){p.forEach(S=>S());const m=this.clients.get(i);m!=null&&(d=g.message,m.client.close())}}closeAllServices(){this.clients.forEach(t=>{t.shouldBeClosed&&t.client.close()}),this.clients.clear()}}function kp(e){return e!=null&&e.echoSupported&&["bash"].includes(e.name)}function Y8({host:e,chainedHostOverrides:t}){const{proxy:r,port:n}=e.getMergedSshConfig();return r==null&&t!=null?{host:t.address,port:`${t.port}`}:{host:e.address.trim(),port:`${n}`}}function X8({host:e,chainedHostOverrides:t}){var n;const{proxy:r}=e.getMergedSshConfig();return r?{host:(t==null?void 0:t.address)??r.hostname.trim(),port:`${(t==null?void 0:t.port)??r.port}`,type:r.type==="socks"?"socks5":r.type,username:r.identity&&((n=r.identity.username)==null?void 0:n.trim())||"",password:r.identity&&r.identity.password||""}:void 0}function Q8({host:e}){return{host:e.address.trim(),port:`${e.getMergedSshConfig().port}`}}function J8(e){return e.text.toLowerCase().includes("password")}function Z8(e){return e.text.toLowerCase().includes("passphrase")}function e4(e){return e.text.trim()===""}const t4=e=>{const{getPassword:t,callbacks:r,getInterruptibleWithPublickey:n,resetInterruptibleWithPublickey:i,getSshKey:o}=e;let a=!1,s=!1;return(c,u,l,d)=>{const p=n();if(l.length===1){const m=t();if(J8(l[0])){if(!a&&m){a=!0,d([{text:m,key:void 0}]);return}}else{if(Z8(l[0])){r.requestPassphrase(S=>d([{text:S,key:void 0}]));return}if(e4(l[0])&&!s&&m){s=!0,d([{text:m,key:void 0}]);return}}}const _=m=>{var w;const S=(w=m.find(O=>O.key))==null?void 0:w.key;if(!S)d(m.map(({text:O})=>({text:String(O),key:void 0})));else{const O=o(),P=Gr(r);Mu({sshKey:O,callbacks:r,preselectedKey:S,logger:P}).then(ui(O)).then(()=>{if(ve.ssh(O)){d([{key:{privateKey:O.privateKey,passphrase:O.passphrase,publicKey:""},text:void 0}]);return}const{publicKey:$,privateKey:C,passphrase:M}=O;d([{key:{publicKey:$,privateKey:C,passphrase:M},text:void 0}])})}},g=()=>{r.onDisconnect(Hr)};i(),r.requestKeyboardInteractive(c,u,p,l.map(({text:m,echo:S})=>({prompt:m,echo:S})),_,g)}};function r4(e){const t=["channel open failure","unable to complete request for channel-process-startup"],r=e.message.toLowerCase();return t.some(n=>r.includes(n))}function Gr(e){return new t$(t=>e.onLogMessage(t))}function n4(e){const{identity:t}=e.getMergedSshConfig();return!e.address.trim()||!t.username.trim()}function Rp(e){const t=new UL(e,bd);let r=0;return z.mergeMap(n=>{t.push(n);const i=t.matches,o=i-r;return r=i,o!==0?z.of(!0):z.EMPTY})}const Mp="\x1B]4545;B";async function i4(e,t,r,n){const i=await e();if(!kp(i))return{type:"failed",reason:"unsupported shell"};const o=await Nh(i.name);if(!o.success)return{type:"failed",reason:"unsupported shell"};const a=` ${o.lines.join(`${ur.CR} `)}${ur.CR}`;return t.sendData(Xr(a,r)),z.firstValueFrom(n.pipe(Rp(Mp),z.map(()=>({type:"succeeded"})),z.sampleTime(500),z.timeout(3e3),z.catchError(s=>s instanceof z.TimeoutError?z.of({type:"failed",reason:"response timeout"}):z.of({type:"failed",reason:"output stream broken"}))),{defaultValue:{type:"failed",reason:"output stream completed"}})}class o4{constructor(t){v(this,"clients");this.sessionLogsDirectory=t,this.clients=new Set}shell(t,r,n){const{host:i,signal:o,sessionLogData:a,sessionLogAnalytics:s}=t,{identity:c,port:u,charset:l}=i.getMergedTelnetConfig(),{username:d,password:p}=c,_=t.delegate;if(!Fh(l)){t.delegate.onError(`Charset "${l}" is not supported`,t.displayLabel);return}const g=new te.TelnetClient;this.clients.add(g);const m=$c(l);let S;const w=()=>{o.removeEventListener("abort",w),S=Hr,g.close()};o.addEventListener("abort",w);const O=a!=null?new te.terminalOutput.Writer(Cc(a,s,this.sessionLogsDirectory,t.delegate.onSessionLogFinishedWriting)):void 0;g.connect({username:d.trim(),password:p,host:i.address.trim(),port:u,addressType:$p(i.ip_version),ptyOptions:r,connectCallback:()=>{o.removeEventListener("abort",w),n.onReady({getType:async()=>{},sendData(P){g.send(Xr(P,l))},sendBinary(P){g.send(P)},sendSize(P,$){g.resize(P,$)},close(){g.close()},async setupShellIntegration(){return!1}},{status:"unknown"}),n.onShellIntegrationStatus({type:"skipped"})},dataCallback:P=>{O==null||O.append(P),n.onOutput(m.write(P))},errorCallback:P=>{O==null||O.end(),m.end(),o.removeEventListener("abort",w),t.delegate.onError(P.message,t.displayLabel,P.libtermius_error_type,P.libtermius_error_code),this.clients.delete(g)},disconnectCallback:()=>{O==null||O.end(),m.end(),n.onFinished(),_.onDisconnect(S),this.clients.delete(g)},enableLogging:!0,loggingCallback:(P,$,C)=>{var M;(M=_.onLogMessage)==null||M.call(_,`${Ac(P,$)} ${C}`)}})}closeAllServices(){this.clients.forEach(t=>t.close()),this.clients.clear()}}class a4{constructor(t,r,n,i){v(this,"ssh");v(this,"mosh");v(this,"telnet");v(this,"local");this.ssh=new q8(r,n),this.mosh=new r$(this.ssh),this.telnet=new o4(r),this.local=new qP(t,i,r)}exec(t,r){if(t.protocol==="local")return this.local.exec(t,r);if(t.protocol==="ssh")return this.ssh.exec(t,r);throw new Error(`Exec is not supported for ${t.protocol} protocol`)}shell(t,r,n){return this._selectShellProvider(t).shell(t,r,n)}portForwarding(t,r,n){return this.ssh.portForwarding(t,r,n)}fs(t,r){if(t.protocol==="ssh")return this.ssh.fs(t,r);throw new Error(`FS is not supported for ${t.protocol} protocol`)}closeAllServices(){this.ssh.closeAllServices(),this.mosh.closeAllServices(),this.telnet.closeAllServices(),this.local.closeAllServices()}_selectShellProvider(t){switch(t.protocol){case"ssh":return this.ssh;case"mosh":return this.mosh;case"telnet":return this.telnet;case"local":return this.local;default:throw new Error("unsupported shell protocol")}}}const vd=We.argv[We.argv.length-1];vd!==""&&f.logger.setUser({id:vd});const s4=We.argv[We.argv.length-2];f.ipcSingleton.config.socketRoot=We.argv[We.argv.length-3];const u4=We.argv[We.argv.length-4],c4=We.argv[We.argv.length-5];process.on("uncaughtException",e=>{f.logger.exception("An uncaught exception in the service process",e)});process.on("unhandledRejection",e=>{f.logger.exception("An uncaught rejection in the service process",e)});f.ipcSingleton.serve(()=>{var n;const e=new a4(u4,s4,new Bv(new Hv),c4),t=new cE(e,f.ipcSingleton.server);t.listen();let r=0;f.ipcSingleton.server.on("connect",()=>{r+=1}),f.ipcSingleton.server.on("socket.disconnected",()=>{r-=1,r===0&&(t.stop(),f.ipcSingleton.server.stop(),process.exit())}),(n=process.send)==null||n.call(process,f.ipcSingleton.config.id),process.on("exit",()=>{e.closeAllServices()})});f.ipcSingleton.server.on("error",e=>{f.logger.exception("On start IPC server",e)});f.ipcSingleton.server.start();
//# sourceMappingURL=service-process.js.map
